(self.webpackChunkassistant_panel=self.webpackChunkassistant_panel||[]).push([["vendor"],{1556:(dn,Je,_)=>{"use strict";_.d(Je,{LJ:()=>Et,Y9:()=>En,Zn:()=>ot,jG:()=>Z,xB:()=>kn,yF:()=>Me,yd:()=>rt});var h=_(521),O=_(7871),E=_(3277);function A(nn,Ot){for(var Ft=0;Ft<Ot.length;Ft++){var ft=Ot[Ft];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(nn,ft.key,ft)}}function S(nn,Ot,Ft){return Ot&&A(nn.prototype,Ot),Ft&&A(nn,Ft),nn}function C(){return C=Object.assign||function(nn){for(var Ot=1;Ot<arguments.length;Ot++){var Ft=arguments[Ot];for(var ft in Ft)Object.prototype.hasOwnProperty.call(Ft,ft)&&(nn[ft]=Ft[ft])}return nn},C.apply(this,arguments)}function W(nn,Ot){nn.prototype=Object.create(Ot.prototype),nn.prototype.constructor=nn,L(nn,Ot)}function L(nn,Ot){return(L=Object.setPrototypeOf||function(Ft,ft){return Ft.__proto__=ft,Ft})(nn,Ot)}var N={},re="/api/engine/v2/uploads";function q(){return re}function Z(nn,Ot){void 0===Ot&&(Ot=!1);var Ft=Ot?1e3:1024;if(nn<Ft)return nn+(Ot?" iB":" B");var ft=Math.floor(Math.log(nn)/Math.log(Ft)),Ae=(Ot?"kMGTPE":"KMGTPE").charAt(ft-1)+(Ot?"iB":"B");return(nn/Math.pow(Ft,ft)).toFixed(1)+" "+Ae}function ee(nn){var Ot="";nn.length%2>0&&(nn="0"+nn);for(var Ft=0,ft=nn.length;Ft<ft;Ft+=2)Ot+=String.fromCharCode(parseInt(nn.slice(Ft,Ft+2),16));return Ot}function De(nn){var Ot="";if(nn)for(var Ft in nn)nn.hasOwnProperty(Ft)&&null!=nn[Ft]&&(Ot+=(Ot?"&":"")+Ft+"="+encodeURIComponent(nn[Ft]));return Ot}var Ee="",ke="",Qe=function(){function nn(Ft,ft){var Ae=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Ft,this._endpoint=ft,this._abort_ctrl.signal.addEventListener("abort",function(){return Ae._dispose?Ae._dispose():""})}nn.setToken=function(Ft){Ee=Ft},nn.setApiKey=function(Ft){ke=Ft};var Ot=nn.prototype;return Ot.initialise=function(){try{var Ft,ft=this,Ae=ft._abort_ctrl.signal,Ve=ft._upload,vt=Ve.file,an=Ve.mime_type;ft._params.file_size=""+vt.size,ft._params.file_name=vt.name,an&&"binary/octet-stream"!==an&&(ft._params.file_mime=an),ft._params=C({},ft._params,ft._upload.params),(null==(Ft=vt.dir_path)?void 0:Ft.length)>0&&(ft._params.file_path=vt.dir_path);var Pt=ft.base_request_headers,yt=De(ft._params);return Promise.resolve(fetch(ft._endpoint+"/new"+(yt?"?"+yt:""),{headers:Pt,signal:Ae})).then(function(Jt){return Jt.json()})}catch(Jt){return Promise.reject(Jt)}},Ot.create=function(Ft){try{var ft=this,Ae=ft._abort_ctrl.signal,Ve=ft.base_request_headers;return Ft.file_id&&(ft._params.file_id=Ft.file_id),ft._upload.mime_type&&(ft._params.file_mime=Ft.mime_type),Ft.parameters&&(ft._params.parameters=Ft.parameters),Ft.permissions&&(ft._params.permissions=Ft.permissions),Ft.public&&(ft._params.public=Ft.public),Ft.expires&&(ft._params.expires=Ft.expires||0),Promise.resolve(fetch(""+ft._endpoint,{body:JSON.stringify(ft._params),method:"POST",headers:Ve,signal:Ae})).then(function(vt){return Promise.resolve(vt.json()).then(function(an){return ft.upload_id=an.upload_id,an})})}catch(vt){return Promise.reject(vt)}},Ot.sign=function(Ft,ft){void 0===ft&&(ft="");try{var Ae=this;if(!Ae.upload_id)throw new Error("Upload resource not initialised");var Ve=Ae._abort_ctrl.signal,vt=Ae.base_request_headers,an=new URLSearchParams;return an.set("part",Ft.toString()),ft&&an.set("file_id",encodeURIComponent(ft)),Promise.resolve(fetch(Ae._endpoint+"/"+Ae.encoded_id+"/edit?"+an.toString(),{method:"GET",headers:vt,signal:Ve})).then(function(Pt){return Promise.resolve(Pt.json())})}catch(Pt){return Promise.reject(Pt)}},Ot.update=function(Ft){void 0===Ft&&(Ft={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Ae=ft._abort_ctrl.signal,Ve=ft.base_request_headers;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{body:JSON.stringify(Ft),method:"PUT",headers:Ve,signal:Ae})).then(function(vt){return Promise.resolve(vt.json())})}catch(vt){return Promise.reject(vt)}},Ot.signedRequest=function(Ft){try{return Promise.resolve(fetch(Ft.signature.url,{body:Ft.data,method:Ft.signature.verb,headers:Ft.signature.headers})).then(function(ft){return Promise.resolve(ft.text()).then(function(Ae){var Ve={body:Ae,responseXML:null};try{Ve.responseXML=(new window.DOMParser).parseFromString(Ve.body,"text/xml")}catch{}return Ve})})}catch(ft){return Promise.reject(ft)}},Ot.signNextChunk=function(Ft,ft,Ae,Ve){void 0===Ve&&(Ve=null);try{var vt=this;if(!vt.upload_id)throw new Error("Upload resource not initialised");var an=vt._abort_ctrl.signal,Pt={part_list:Ae};Ve&&(Pt.part_data=Ve);var yt=vt.base_request_headers,Jt=De({part:""+Ft,file_id:ft,file_mime:vt._upload.mime_type});return Promise.resolve(fetch(vt._endpoint+"/"+vt.encoded_id+(Jt?"?"+Jt:""),{body:JSON.stringify(Pt),method:Object.keys(Pt).length>0?"PATCH":"PUT",headers:yt,signal:an})).then(function(vn){return Promise.resolve(vn.json())})}catch(vn){return Promise.reject(vn)}},Ot.signChunk=function(Ft,ft){void 0===ft&&(ft=null);try{var Ve=this._abort_ctrl.signal,vt=this.base_request_headers,an=De({part:""+Ft,file_id:ft});return Promise.resolve(fetch(this._endpoint+"/edit"+(an?"?"+an:""),{headers:vt,signal:Ve})).then(function(Pt){return Promise.resolve(Pt.json())})}catch(Pt){return Promise.reject(Pt)}},Ot.updateStatus=function(Ft){void 0===Ft&&(Ft={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Ae=ft._abort_ctrl.signal;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{headers:ft.base_request_headers,method:Object.keys(Ft).length>0?"PATCH":"PUT",body:JSON.stringify(Ft),signal:Ae})).then(function(Ve){return Promise.resolve(Ve.json())})}catch(Ve){return Promise.reject(Ve)}},Ot.abort=function(){this._abort_ctrl.abort()},Ot.destroy=function(){this.abort();var Ft=new Headers;if(Ft.append("Accept","application/json"),Ee?Ft.append("Authorization","Bearer "+Ee):ke&&Ft.append("X-API-Key",""+ke),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:Ft,method:"DELETE"})},Ot.performSignedRequest=function(Ft,ft){var Ae=this;return void 0===ft&&(ft=function(){}),new Promise(function(Ve,vt){var an=new XMLHttpRequest;an.upload.addEventListener("progress",function(vn){return ft(vn)}),an.addEventListener("load",function(vn){ft(vn),an.status>=200&&an.status<300||an.status===Ft.expected?Ve(an):vt(an.status+": "+an.statusText)});var Pt=function(vn){Ae._upload.onError(vn),vt(vn)};an.addEventListener("error",function(){return Pt(an.status+": "+(an.statusText||"unknown error"))}),an.addEventListener("abort",function(){return Pt(an.statusText||"browser aborted")}),an.open(Ft.signature.verb,Ft.signature.url,!0);var yt=Ft.signature.headers;for(var Jt in yt)Jt in yt&&an.setRequestHeader(Jt,yt[Jt]);Ae._dispose=function(){an.abort(),vt("user aborted")},an.send(Ft.data||null)})},S(nn,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var Ft=new Headers;return Ft.append("Accept","application/json"),Ft.append("Content-Type","application/json"),Ee?Ft.append("Authorization","Bearer "+Ee):ke&&Ft.append("X-API-Key",""+ke),Ft}}]),nn}(),Pe=function(){function nn(Ft,ft,Ae,Ve,vt){void 0===Ve&&(Ve={}),void 0===vt&&(vt=q()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new h.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Ft,this.retries=ft,this.parallel=Ae,this.params=Ve,this._endpoint=vt,this.mime_type=Ft?.type||this.mime_type}var Ot=nn.prototype;return Ot.setAccessUrl=function(Ft){this._access_url=Ft},Ot.onProgress=function(Ft){var ft=this._state.getValue();this._state.next(C({},ft,{status:"uploading",uploaded:Ft,progress:Math.floor(Ft/this.file.size*1e3)/10}))},Ot.onComplete=function(){var Ft=this._state.getValue();this._state.next(C({},Ft,{status:"complete",progress:100}))},Ot.onError=function(Ft){var ft=this._state.getValue();this._state.next(C({},ft,{status:"error",error:Ft}))},Ot.resume=function(Ft){try{var ft=this,Ae=ft._state.getValue(),Ve=function(){if(!["complete","uploading","cancelled"].includes(Ae.status)){var vt=function(){var Pt;null==(Pt=ft._provider)||Pt.start()};Ft&&(ft.parallel=Ft);var an=function(){if(!ft._provider)return ft._request=new Qe(ft,ft._endpoint),Promise.resolve(ft._request.initialise()).then(function(Pt){var yt=N[Pt.residence]||null;yt?(ft._provider=new yt(ft._request,ft),ft._state.next(C({},Ae,{status:"uploading"}))):ft.onError("No provider available to upload to")})}();return an&&an.then?an.then(vt):vt()}}();return Promise.resolve(Ve&&Ve.then?Ve.then(function(){}):void 0)}catch(vt){return Promise.reject(vt)}},Ot.pause=function(){var Ft,ft=this._state.getValue();"uploading"===ft.status&&(null==(Ft=this._provider)||Ft.pause(),this._state.next(C({},ft,{status:"paused"})))},Ot.cancel=function(){var Ft,ft=this._state.getValue();["complete","cancelled"].includes(ft.status)||("uploading"===ft.status&&(null==(Ft=this._provider)||Ft.destroy()),this._state.next(C({},ft,{status:"cancelled"})))},S(nn,[{key:"id",get:function(){var Ft;return null==(Ft=this._request)?void 0:Ft.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Ft;return"waiting"===(null==(Ft=this._state.getValue())?void 0:Ft.status)}},{key:"in_progress",get:function(){var Ft;return"uploading"===(null==(Ft=this._state.getValue())?void 0:Ft.status)}},{key:"completed",get:function(){var Ft;return"complete"===(null==(Ft=this._state.getValue())?void 0:Ft.status)}}]),nn}(),Ye=[],Re=-1;function nt(){return Re+=1,Ye[Re%=3]}var Te,nn,je={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},Xe=je,Q=[];function rt(nn){void 0===nn&&(nn={}),(Xe=C({},je,nn)).endpoint&&(re=Xe.endpoint),function(Ot,Ft){var ft;void 0===Ot&&(Ot="/node_modules/ts-md5/dist/md5_worker.js"),(null==(ft=Ye)?void 0:ft.length)>0&&Ye.forEach(function(Ve){return Ve.terminate()}),Ye=[];for(var Ae=0;Ae<3;Ae+=1)Ye.push(new E.LL(Ot,Ft))}(Xe.worker_url,Xe.worker_options),Xe.token&&Qe.setToken(Xe.token),Xe.api_key&&Qe.setApiKey(Xe.api_key),function oe(nn){nn.forEach(function(Ot){return function z(nn,Ot){N[nn]=Ot}(Ot.lookup,Ot)})}(Xe.providers)}function ot(nn,Ot){if(void 0===Ot&&(Ot={}),!q())throw"No API endpoint set";var Ft=[];return nn.forEach(function(ft){var Ae=new Pe(ft,Xe.retries,Xe.parallel,Ot);Ft.push(Ae),Q.push(Ae),Ae.metadata=Xe.metadata,Ae.status.pipe((0,O.$)(function(Ve){return"complete"===Ve.status})).subscribe(function(Ve){return function(vt){var an=Xe.auto_start,Pt=Xe.remove_after;Xe.auto_remove&&(Pt?setTimeout(function(){return ce(vt)},Pt):ce(vt));var yt=Q.filter(function(Jt){return Jt.waiting});an&&yt.length&&Oe()&&yt[0].resume(Xe.parallel)}(Ae)}),Xe.auto_start&&Oe()&&Ae.resume(Xe.parallel)}),Ft}function ce(nn){nn.cancel(),Q=Q.filter(function(Ot){return Ot!==nn})}function Oe(){return Q.filter(function(nn){return nn.in_progress}).length<Xe.simultaneous}(nn=Te||(Te={}))[nn.Paused=0]="Paused",nn[nn.Uploading=1]="Uploading",nn[nn.Completed=2]="Completed",nn[nn.Aborted=3]="Aborted";var At=function(){function nn(Ft,ft){this._request=void 0,this._upload=void 0,this.state=Te.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=Ft,this._upload=ft,this._file=this._upload.file,this.size=this._file.size}var Ot=nn.prototype;return Ot.start=function(){this.state<Te.Uploading&&(this._finalising?this._finalise():this._start())},Ot.pause=function(){for(var Ft in this._strategy&&this.state===Te.Uploading&&!this._direct_upload?(this.state=Te.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=Te.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Ft].loaded!==this._progress[Ft].total&&(this._progress[Ft].loaded=0);this._updateProgress()},Ot.destroy=function(){void 0!==this._strategy&&this.state<Te.Completed&&(this._request.destroy(),this._restart(),this.state=Te.Aborted)},Ot._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Ot._makeRequest=function(Ft,ft){var Ae=this;return ft.data=Ft.data,this._request.performSignedRequest(ft,function(Ve){return Ae._onProgress(Ft.part,Ve)})},Ot._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Ot._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Ot._completePart=function(Ft){this._current_parts=this._current_parts.filter(function(ft){return ft!==Ft})},Ot._isComplete=function(Ft){var ft=this._progress[Ft]||{},Ae=ft.loaded;return Ae&&Ae===ft.total},Ot._onProgress=function(Ft,ft){this._progress[Ft]=C({},ft),this._updateProgress()},Ot._onError=function(Ft){console.error("Error:",Ft),this.pause(),this._upload.onError(Ft)},Ot._updateProgress=function(){var Ft=0;for(var ft in this._progress)Ft+=this._progress[ft].loaded||0;this._upload.onProgress(Ft)},Ot._finalise=function(){try{var Ft=this;return Ft._request.updateStatus().then(function(){return Ft._upload.onComplete()},function(ft){return Ft._onError(ft)}),Promise.resolve()}catch(ft){return Promise.reject(ft)}},Ot._hashPart=function(Ft,ft,Ae){try{var Ve=this,vt=Ve._memoization[Ft],an=ft();return Promise.resolve(vt?{data:an,md5:vt.md5,part:vt.part}:Ae(an).then(function(Pt){return Ve._memoization[Ft]=Pt,{data:an,md5:Pt.md5,part:Pt.part}}))}catch(Pt){return Promise.reject(Pt)}},Ot._getPartData=function(){var Ft=this,ft=this._currentParts().filter(function(Ve){return"number"==typeof Ve}),Ae=[];return ft.forEach(function(Ve){var vt=Ft._memoization[""+Ve];vt&&Ae.push(vt)}),{part_list:ft,part_data:Ae}},nn}(),Et=function(nn){function Ot(){for(var ft,Ae=arguments.length,Ve=new Array(Ae),vt=0;vt<Ae;vt++)Ve[vt]=arguments[vt];return(ft=nn.call.apply(nn,[this].concat(Ve))||this)._part_size=5242880,ft}W(Ot,nn);var Ft=Ot.prototype;return Ft._start=function(){try{var ft=this;return Promise.resolve(function(){if(void 0===ft._strategy)return ft.state=Te.Uploading,ft._strategy=null,9999*ft._part_size<ft.size&&(ft._part_size=Math.floor(ft.size/9999),ft._part_size>5368709120)?(ft._upload.cancel(),void ft._onError("file exceeds maximum size")):Promise.resolve(ft._processPart(1).catch(function(Ae){return ft._onError(Ae)})).then(function(Ae){if(Ae&&ft.state===Te.Uploading)return Promise.resolve(ft._request.create({file_id:window.btoa(ee(Ae.md5))}).catch(function(Ve){return ft._onError(Ve)})).then(function(Ve){Ve&&(ft._strategy=Ve.type,Ve.signature&&ft._upload.setAccessUrl((Ve.signature.url||"").split("?")[0]),"direct_upload"===Ve.type?ft._direct(Ve,Ae):ft._resume(Ve,Ae))})});ft.state===Te.Paused&&ft._resume()}())}catch(Ae){return Promise.reject(Ae)}},Ft._processPart=function(ft){var Ae=this;return this._hashPart(ft.toString(),function(){var Ve,vt;return Ae.size>Ae._part_size?((vt=ft*Ae._part_size)>Ae.size&&(vt=Ae.size),Ve=Ae._file.slice((ft-1)*Ae._part_size,vt)):Ve=Ae._file,Ve},function(Ve){return nt().hash(Ve).then(function(vt){return{md5:vt,part:ft}})})},Ft._resume=function(ft,Ae){void 0===ft&&(ft=null),void 0===Ae&&(Ae=null);try{var Ve,vt=this;return Promise.resolve(function(){if(ft)return function(){if("parts"!==ft.type)return Promise.resolve(vt._request.signedRequest(ft).catch(function(an){vt._restart(),vt._onError(an)})).then(function(an){if(an){var Pt=an.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(vt._request.updateStatus({resumable_id:Pt,file_id:window.btoa(ee(Ae.md5)),part:1}).catch(function(yt){vt._restart(),vt._onError(yt)})).then(function(yt){if(yt)for(vt._nextPartIndex(),vt._setPart(yt,Ae),Ve=1;Ve<vt._upload.parallel;Ve+=1)vt._nextPart()})}});for(vt._pending_parts=ft.part_list,ft.part_data&&(vt._memoization=ft.part_data),Ve=0;Ve<vt._upload.parallel;Ve+=1)vt._nextPart()}();for(Ve=0;Ve<vt._upload.parallel;Ve+=1)vt._nextPart()}())}catch(an){return Promise.reject(an)}},Ft._generatePartManifest=function(){var ft,Ae,Ve="<CompleteMultipartUpload>";for(ft=1;ft<1e4&&(Ae=this._memoization[ft]);ft+=1)Ve+="<Part><PartNumber>"+ft+'</PartNumber><ETag>"'+Ae.md5+'"</ETag></Part>';return Ve+"</CompleteMultipartUpload>"},Ft._nextPart=function(){var ft,Ae=this,Ve=this._nextPartIndex();(Ve-1)*this._part_size<this.size?this._processPart(Ve).then(function(vt){Ae.state===Te.Uploading&&(ft=Ae._getPartData(),Ae._request.signNextChunk(Ve,window.btoa(ee(vt.md5)),ft.part_list,ft.part_data).then(function(an){return Ae._setPart(an,vt)},function(an){return Ae._onError(an)}))},function(vt){return Ae._onError(vt)}):1===this._currentParts().length&&this._currentParts()[0]===Ve?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.data=Ae._generatePartManifest(),Ae._request.signedRequest(vt).then(function(){return Ae._finalise()},function(an){return Ae._onError(an)})},function(vt){return Ae._onError(vt)})):this._finishing||(this._completePart(Ve),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ft._setPart=function(ft,Ae){var Ve=this;this._makeRequest(Ae,ft).then(function(){Ve._completePart(Ae?.part),Ve._nextPart()},function(vt){return Ve._onError(vt)})},Ft._direct=function(ft,Ae){var Ve=this,vt=this._makeRequest(Ae,ft);this._direct_upload=!0,vt.then(function(){return Ve._finalise()},function(an){return Ve._onError(an)})},Ot}(At);Et.lookup="AmazonS3";var En=function(nn){function Ot(){for(var ft,Ae=arguments.length,Ve=new Array(Ae),vt=0;vt<Ae;vt++)Ve[vt]=arguments[vt];return(ft=nn.call.apply(nn,[this].concat(Ve))||this)._partSize=2097152,ft}W(Ot,nn);var Ft=Ot.prototype;return Ft._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=Te.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(Ae){ft.state===Te.Uploading&&ft._request.create({file_id:Ae.md5}).then(function(Ve){ft._strategy=Ve.type,"direct_upload"===Ve.type?ft._direct(Ve,Ae):ft._resume(Ve,Ae)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===Te.Paused&&this._resume()},Ft._processPart=function(ft){var Ae=this;return this._hashPart(ft.toString(),function(){var Ve,vt;return Ae.size>Ae._partSize?((vt=ft*Ae._partSize)>Ae.size&&(vt=Ae.size),Ve=Ae._file.slice((ft-1)*Ae._partSize,vt)):Ve=Ae._file,Ve},function(Ve){return nt().hash(Ve).then(function(vt){return{md5:window.btoa(ee(vt)),part:ft}})})},Ft._resume=function(ft,Ae){var Ve,vt=this;if(void 0===ft&&(ft=null),void 0===Ae&&(Ae=null),ft)if("parts"===ft.type)for(this._pending_parts=ft.part_list,Ve=0;Ve<this._upload.parallel;Ve+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:Ae.md5,part:1}).then(function(an){for(vt._nextPartIndex(),vt._setPart(an,Ae),Ve=1;Ve<vt._upload.parallel;Ve+=1)vt._nextPart()},function(an){this._restart(),this._onError(an)});else for(Ve=0;Ve<this._upload.parallel;Ve+=1)this._nextPart()},Ft._generatePartManifest=function(){for(var ft='<?xml version="1.0" encoding="utf-8"?><BlockList>',Ae=0;Ae<5e4&&Ae*this._partSize<this.size;Ae+=1)ft+="<Latest>"+window.btoa(this._pad(Ae+1))+"</Latest>";return ft+"</BlockList>"},Ft._pad=function(ft){for(var Ae=ft.toString();Ae.length<6;)Ae="0"+Ae;return Ae},Ft._nextPart=function(){var ft=this,Ae=this._nextPartIndex();(Ae-1)*this._partSize<this.size?this._processPart(Ae).then(function(Ve){ft.state===Te.Uploading&&ft._request.signNextChunk(Ae,Ve.md5,ft._currentParts()).then(function(vt){ft._setPart(vt,Ve)},ft._onError.bind(ft))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ae?(this._finishing=!0,this._request.sign("finish").then(function(Ve){Ve.data=ft._generatePartManifest(),ft._request.signedRequest(Ve).then(ft._finalise.bind(ft),ft._onError.bind(ft))},this._onError.bind(this))):this._finishing||(this._completePart(Ae),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Ft._setPart=function(ft,Ae){var Ve=this;this._makeRequest(Ae,ft).then(function(){Ve._completePart(Ae.part),Ve._nextPart()},this._onError.bind(this))},Ft._direct=function(ft,Ae){var Ve=this,vt=this._makeRequest(Ae,ft);this._direct_upload=!0,vt.then(function(){return Ve._finalise()},this._onError.bind(this))},Ot}(At);En.lookup="MicrosoftAzure";var Me=function(nn){function Ot(){return nn.apply(this,arguments)||this}W(Ot,nn);var Ft=Ot.prototype;return Ft._start=function(){var ft=this;void 0!==this._strategy&&this.state!==Te.Paused||(this.state=Te.Uploading,this._strategy=null,this._processPart(this._file).then(function(Ae){ft.state===Te.Uploading&&ft._request.create({file_id:Ae.md5}).then(function(Ve){ft._strategy=Ve.type,"direct_upload"===Ve.type?ft._direct(Ve,Ae):ft._resume(Ve,Ae)},ft._onError.bind(ft))},this._onError.bind(this)))},Ft._processPart=function(ft,Ae){return void 0===Ae&&(Ae=0),this._hashPart(Ae.toString(),function(){return ft},function(Ve){return nt().hash(Ve).then(function(vt){return{md5:window.btoa(ee(vt)),part:Ae}})})},Ft._resume=function(ft,Ae){var Ve=this;this._request.signedRequest(ft).then(function(vt){if("status"===ft.type)if(vt.status===ft.expected){var an=parseInt(vt.getResponseHeader("Range").split("-")[1],10)+1;Ve._processPart(Ve._file.slice(an),an).then(function(Pt){Ve.state===Te.Uploading&&Ve._request.signChunk(an,Pt.md5).then(function(yt){Ve._performUpload(yt,Pt)},Ve._onError.bind(Ve))},Ve._onError.bind(Ve))}else Ve._finalise();else Ve._request.updateStatus({resumable_id:Ve._getQueryParams(vt.getResponseHeader("Location").split("?")[1]).upload_id,file_id:Ae.md5,part:0}).then(function(Pt){return Ve._performUpload(Pt,Ae)},function(Pt){this._restart(),this._onError(Pt)})},this._onError.bind(this))},Ft._performUpload=function(ft,Ae){var Ve=this;this._makeRequest(Ae,ft).then(function(){return Ve._finalise()},this._onError.bind(this))},Ft._direct=function(ft,Ae){var Ve=this,vt=this._makeRequest(Ae,ft);this._direct_upload=!0,vt.then(function(){Ve._finalise()},this._onError.bind(this))},Ft._getQueryParams=function(ft){ft=ft.split("+").join(" ");for(var Ae,Ve={},vt=/[?&]?([^=]+)=([^&]*)/g;Ae=vt.exec(ft);)Ve[decodeURIComponent(Ae[1])]=decodeURIComponent(Ae[2]);return Ve},Ot}(At);Me.lookup="GoogleCloudStorage";var kn=function(nn){function Ot(){for(var ft,Ae=arguments.length,Ve=new Array(Ae),vt=0;vt<Ae;vt++)Ve[vt]=arguments[vt];return(ft=nn.call.apply(nn,[this].concat(Ve))||this)._partSize=2097152,ft}W(Ot,nn);var Ft=Ot.prototype;return Ft._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=Te.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(Ae){ft.state===Te.Uploading&&ft._request.create({file_id:Ae.md5}).then(function(Ve){ft._strategy=Ve.type,"direct_upload"===Ve.type?ft._direct(Ve,Ae):ft._resume(Ve,Ae)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===Te.Paused&&this._resume()},Ft._processPart=function(ft){var Ae=this;return this._hashPart(ft.toString(),function(){var Ve,vt;return Ae.size>Ae._partSize?((vt=ft*Ae._partSize)>Ae.size&&(vt=Ae.size),Ve=Ae._file.slice((ft-1)*Ae._partSize,vt)):Ve=Ae._file,Ve},function(Ve){return nt().hash(Ve).then(function(vt){return{md5:vt,part:ft,size_bytes:Ve.size}})})},Ft._resume=function(ft,Ae){var Ve,vt=this;if(void 0===ft&&(ft=null),void 0===Ae&&(Ae=null),ft)if("parts"===ft.type){if(this._pending_parts=ft.part_list,ft.part_data){var an;for(var Pt in this._memoization=ft.part_data,this._memoization)this._memoization.hasOwnProperty(Pt)&&((an=this._memoization[Pt]).path||this._pending_parts.push(an.part));this._pending_parts=this._pending_parts.sort().filter(function(yt,Jt,vn){return!Jt||yt!==vn[Jt-1]})}for(Ve=0;Ve<this._upload.parallel;Ve+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:Ae.md5,part:1}).then(function(yt){for(vt._nextPartIndex(),vt._memoization[1].path=yt.path,vt._setPart(yt,Ae),Ve=1;Ve<vt._upload.parallel;Ve+=1)vt._nextPart()},function(yt){this._restart(),this._onError(yt)});else for(Ve=0;Ve<this._upload.parallel;Ve+=1)this._nextPart()},Ft._generatePartManifest=function(){for(var ft,Ae=[],Ve=1;Ve<1e4&&(ft=this._memoization[Ve]);Ve+=1)Ae.push({path:ft.path,etag:ft.md5,size_bytes:ft.size_bytes});return JSON.stringify(Ae)},Ft._nextPart=function(){var ft,Ae=this,Ve=this._nextPartIndex();(Ve-1)*this._partSize<this.size?this._processPart(Ve).then(function(vt){Ae.state===Te.Uploading&&(ft=Ae._getPartData(),Ae._request.signNextChunk(Ve,vt.md5,ft.part_list,ft.part_data).then(function(an){Ae._memoization[Ve].path=an.path,Ae._setPart(an,vt)},Ae._onError.bind(Ae)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ve?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.signature?(vt.data=Ae._generatePartManifest(),Ae._request.signedRequest(vt).then(Ae._finalise.bind(Ae),Ae._onError.bind(Ae))):Ae._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Ve),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ft._setPart=function(ft,Ae){var Ve=this;this._makeRequest(Ae,ft).then(function(){Ve._completePart(Ae.part),Ve._nextPart()},this._onError.bind(this))},Ft._direct=function(ft,Ae){var Ve=this,vt=this._makeRequest(Ae,ft);this._direct_upload=!0,vt.then(function(){return Ve._finalise()},this._onError.bind(this))},Ot}(At);kn.lookup="OpenStackSwift"},6677:(dn,Je,_)=>{"use strict";_.d(Je,{Of:()=>Pn,Rx:()=>Bt,tk:()=>me,mn:()=>Et,b2:()=>ui,sM:()=>zi,Ay:()=>Vn});var h=_(2672),O=_(521),E=_(3119),A=_(7557),S=_(7405),C=_(8627),W=_(5443),L=_(3879);class z{constructor(xt,qt){this.keySelector=xt,this.flushes=qt}call(xt,qt){return qt.subscribe(new re(xt,this.keySelector,this.flushes))}}class re extends L.gn{constructor(xt,qt,Lt){super(xt),this.keySelector=qt,this.values=new Set,Lt&&this.add((0,L.tS)(Lt,new L.zA(this)))}notifyNext(){this.values.clear()}notifyError(xt){this._error(xt)}_next(xt){this.keySelector?this._useKeySelector(xt):this._finalizeNext(xt,xt)}_useKeySelector(xt){let qt;const{destination:Lt}=this;try{qt=this.keySelector(xt)}catch(Kt){return void Lt.error(Kt)}this._finalizeNext(qt,xt)}_finalizeNext(xt,qt){const{values:Lt}=this;Lt.has(xt)||(Lt.add(xt),this.destination.next(qt))}}var q=_(3277);function Z(){return(Z=Object.assign||function(jt){for(var xt=1;xt<arguments.length;xt++){var qt=arguments[xt];for(var Lt in qt)Object.prototype.hasOwnProperty.call(qt,Lt)&&(jt[Lt]=qt[Lt])}return jt}).apply(this,arguments)}function ee(jt,xt){(null==xt||xt>jt.length)&&(xt=jt.length);for(var qt=0,Lt=new Array(xt);qt<xt;qt++)Lt[qt]=jt[qt];return Lt}function De(jt,xt){var qt=typeof Symbol<"u"&&jt[Symbol.iterator]||jt["@@iterator"];if(qt)return(qt=qt.call(jt)).next.bind(qt);if(Array.isArray(jt)||(qt=function(Kt){if(Kt){if("string"==typeof Kt)return ee(Kt,void 0);var Un=Object.prototype.toString.call(Kt).slice(8,-1);return"Object"===Un&&Kt.constructor&&(Un=Kt.constructor.name),"Map"===Un||"Set"===Un?Array.from(Kt):"Arguments"===Un||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Un)?ee(Kt,void 0):void 0}}(jt))||xt&&jt&&"number"==typeof jt.length){qt&&(jt=qt);var Lt=0;return function(){return Lt>=jt.length?{done:!0}:{done:!1,value:jt[Lt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ee={},ke={};function Qe(jt,xt,qt){if(void 0===qt&&(qt=300),!(jt&&xt&&xt instanceof Function))throw new Error(jt?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");Pe(jt),Ee[jt]=setTimeout(function(){xt(),delete Ee[jt]},qt)}function Pe(jt){Ee[jt]&&(clearTimeout(Ee[jt]),delete Ee[jt])}function Ye(jt,xt){Re(jt),ke[jt]=xt}function Re(jt){ke&&ke[jt]&&(ke[jt]instanceof h.y?ke[jt].unsubscribe():ke[jt](),delete ke[jt])}function nt(jt,xt,qt,Lt,Kt,Rn){if(void 0===Lt&&(Lt="debug"),void 0===Kt&&(Kt=!1),void 0===Rn&&(Rn="SVG VIEWER"),window.debug||Kt){var Un,dt,we=["color: #E91E63","color: #ffb300","color: default"];qt?(Un=console)[Lt].apply(Un,["%c["+Rn+"]%c["+jt+"] %c"+xt].concat(we,[qt])):(dt=console)[Lt].apply(dt,["%c["+Rn+"]%c["+jt+"] %c"+xt].concat(we))}}function Te(jt){for(var xt,qt=jt.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),Lt=De(qt);!(xt=Lt()).done;){var Kt=xt.value;qt.splice(qt.indexOf(Kt),1,[Kt.replace(/^\\/g,"")])}return qt.join(" ")}function je(jt){return jt?jt instanceof MouseEvent?{x:jt.clientX,y:jt.clientY}:jt.touches&&jt.touches.length>0?{x:jt.touches[0].clientX,y:jt.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function Q(jt,xt,qt,Lt){var Kt,Rn;void 0===Lt&&(Lt=1);var Un=null==(Kt=jt.element)?void 0:Kt.querySelector(".svg-viewer__svg-overlays");if(null!=(Rn=jt.element)&&Rn.querySelector("svg")&&Un){var dt=qt||Un?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(xt.x-dt.left)/dt.width*Lt)),y:Math.max(0,Math.min(1,(xt.y-dt.top)/dt.height*Lt))}}return nt("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function oe(jt,xt){return Math.sqrt(Math.pow(jt.x-xt.x,2)+Math.pow(jt.y-xt.y,2))}function ot(jt,xt,qt){return{x:jt.x+(xt.x-jt.x)*qt,y:jt.y+(xt.y-jt.y)*qt}}function bt(jt){if(!jt)return"";var xt=Z({},jt);for(var qt in xt)xt[qt]instanceof Object&&(xt[qt]=""+xt[qt]);return xt}function Nt(jt){return jt<26?jt+65:jt<52?jt+71:jt<62?jt-4:62===jt?43:63===jt?47:65}var St={top:0,left:0,bottom:0,right:0,height:0,width:0},$t=function(){function jt(xt){var qt,Lt,Kt,Rn,Un,dt,we;if(this.id=xt.id||"map-"+Math.floor(999999*Math.random()),this.url=xt.url||"local-"+q.VV.hashAsciiStr(xt.svg_data||""),this.element=xt.element||null,this.labels=xt.labels||[],this.features=xt.features||[],this.actions=xt.actions||[],this.styles=xt.styles||{},this.svg_data=xt.svg_data||"",this.content_ratio=xt.content_ratio||{x:1,y:1},this.zoom=xt.zoom||1,this.center={x:null!=(qt=null==(Lt=xt.center)?void 0:Lt.x)?qt:.5,y:null!=(Kt=null==(Rn=xt.center)?void 0:Rn.y)?Kt:.5},this.rotate=xt.rotate||0,this.ratio=xt.ratio||1,this.svg_ratio=xt.svg_ratio||1,this.max_resolution=xt.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=xt.focus||null,this.options=xt.options||{},this.mappings=xt.mappings||{},this.box={top:(xt.box||St).top,left:(xt.box||St).left,height:(xt.box||St).height,width:(xt.box||St).width},this.desired_zoom=xt.desired_zoom||xt.zoom||this.zoom,this.desired_center={x:(null==(Un=xt.desired_center)?void 0:Un.x)||this.center.x,y:(null==(dt=xt.desired_center)?void 0:dt.y)||this.center.y},this.updated_count=(xt.updated_count||0)+1,this.zoom!==this.desired_zoom){var Ne=this.desired_zoom-this.zoom>=0?1:-1,U=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),Se=Math.round(U/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===U?this.zoom+Ne*U:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*Se,y:this.center.y+(this.desired_center.y-this.center.y)*Se}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var be=this.desired_center.x-this.center.x>=0?1:-1,ct=this.desired_center.y-this.center.y>=0?1:-1,Ze=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Mt=Ze/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+be*Ze,y:this.center.y+ct*Mt}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(we=xt?.use_gpu)||we}return jt.prototype.contains=function(xt){this.svg_data.includes('id="'+xt+'"')},jt}(),Ce=new O.t([]),ce=new E.B7,ve=ce.pipe((0,C.p)(function(jt){return"resize"===jt}));function me(jt){return Ce.getValue().find(function(xt){return xt.id===jt})}function At(jt,xt){var qt=Me();if(!((jt=qt.find(function(Kt){return Kt.id===(jt instanceof $t?jt.id:jt)}))instanceof $t))return null;delete xt.url;var Lt=new $t(Z({},jt,xt));return En(Lt),Lt.needs_update&&Qe(jt.id+"_updating",function(){return At(Lt,{})},16),Lt}function Et(jt){return Ce.pipe((0,C.p)(function(xt){return!!xt.find(function(qt){return qt.id===jt})}),(0,W.T)(function(xt){return xt.find(function(qt){return qt.id===jt})}),function N(jt,xt){return qt=>qt.lift(new z(jt,xt))}())}function En(jt){var xt=Me().filter(function(qt){return qt.id!==jt.id});xt.push(jt),Ce.next(xt)}function Me(){return Ce.getValue()}var kn,nn,Ot,Ft,ft,Ae,Ve,vt=new O.t({}),an={},Pt=!1,yt=!1,Jt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],vn=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],wn=!1;function on(jt,xt,qt){if(void 0===qt&&(qt=kn),!Pt){yt=!0;var Lt=me(jt);if(Lt){var Kt=je(xt),Rn={x:Math.max(0,Math.min(1,(Kt.x-qt.x)/Lt.box.width/Lt.desired_zoom/Lt.svg_ratio+Lt.center.x)),y:Math.max(0,Math.min(1,(Kt.y-qt.y)/Lt.box.height/Lt.desired_zoom/Lt.svg_ratio+Lt.center.y))};kn=Kt,At(Lt,{center:Rn,desired_center:Rn})}}}function sn(){nt("INPUT","Ending pinch/pan..."),Pe("pan_start"),Pt=!1,yt=!1,Ft&&window.removeEventListener("mousemove",Ft),ft&&window.removeEventListener("mouseup",ft),Ae&&window.removeEventListener("touchmove",Ae),Ve&&window.removeEventListener("touchend",Ve),Ft=ft=Ae=Ve=nn=null}window.addEventListener("blur",function(){return sn()});var de=function(jt){try{return Promise.resolve(new Promise(function(xt){$i[jt.id]||($i[jt.id]=[]),$i[jt.id].push(xt),Qe("resize-"+jt.id,function(){var qt=jt.element;if(!qt)throw new Error("No element set on viewer");var Lt=qt.querySelector(".svg-viewer__view-container"),Kt=qt.querySelector(".svg-viewer__svg-overlays"),Rn=qt.querySelector("#"+jt.id),Un=qt.querySelector(".svg-viewer"),dt=qt.querySelector(".svg-viewer__svg-output"),we=qt.querySelector("iframe"),Ne=Un?.getBoundingClientRect()||{},U=Lt?.getBoundingClientRect()||{};if(!(Kt&&dt&&we&&Lt))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var Se,be,ct=Ne.height/Ne.width,Ze=(null==(Se=dt.firstElementChild)||null==(be=Se.viewBox)?void 0:be.baseVal)||{},Mt=Ze.height/Ze.width;dt.firstElementChild&&(dt.firstElementChild.style.width="200%");var hn=(Ne.width-32)*Math.min(1,ct/Mt),Kn={width:hn,height:hn*Mt};Kt.style.width=Ze.width+"px",Kt.style.height=Ze.height+"px",Lt.style.width=Ze.width+"px",Lt.style.height=Ze.height+"px",we.style.width=Ze.width+"px",we.style.height=Ze.height+"px",we.width=""+Ze.width,we.height=""+Ze.height;var Jn=Math.min(Ne.height/Ze.height,Ne.width/Ze.width),Bi=Rn?.getBoundingClientRect(),di=Kt?.getBoundingClientRect(),Qi={x:1,y:1};Bi&&di&&(Qi={x:di.width*Jn*.975/Bi.width,y:di.height*Jn*.975/Bi.height}),ci[jt.id]="";var br=At(jt,{ratio:Kn.height/Kn.width,svg_ratio:Jn,box:U,content_ratio:Qi});return br?(jt=br,Promise.resolve(cn(jt).catch(function(Tr){return console.warn(Tr),!1})).then(function(Tr){Tr&&($i[jt.id].forEach(function(Hi){return Hi()}),$i[jt.id]=[])})):Promise.resolve()}catch(Tr){return Promise.reject(Tr)}})},100)}))}catch(xt){return Promise.reject(xt)}},tt={},_e={},ut={},rn={},fn={},ci={},$i={};function cn(jt){return tt[jt.id]||(tt[jt.id]=new Promise(function(xt){var qt=requestAnimationFrame(function(){if(tt[jt.id]){var Lt=jt.element;if(!Lt)throw new Error("No element set on viewer");var Kt=Lt.querySelector("style"),Rn="",Un=Lt.querySelector(".svg-viewer__render-container"),dt="scale("+jt.zoom*jt.svg_ratio+")";if(!Un||!Kt)throw new Error("Viewer is not setup yet.");var we=100*jt.zoom*jt.svg_ratio*(jt.center.x-.5),Ne=100*jt.zoom*jt.svg_ratio*(jt.center.y-.5);Un.style.transform=(jt.use_gpu?"translate3d("+we+"%, "+Ne+"%, 0)":"translate("+we+"%, "+Ne+"%)")+" "+dt+" rotate("+jt.rotate+"deg)",Rn+="#"+jt.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+jt.rotate+"deg) scale("+1/jt.zoom*(1/jt.svg_ratio)+"); }",Kt.innerHTML=Rn+="#"+jt.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+jt.rotate+"deg); height: 100%; width: 100%; }",function U(Se){try{if((JSON.stringify(Z({},Se.styles))||"").localeCompare(ci[Se.id])){var be=Se.element;if(!be)throw new Error("No element set on viewer");var ct=be.querySelector(".svg-viewer__iframe");if(!ct)throw new Error("No iframe created for viewer");if(!ct.contentWindow)return ct.onload=function(){setTimeout(function(){return U(Se)},50),setTimeout(function(){return U(Se)},500)},Promise.resolve();var Ze={};Ze["[empty"+Math.floor(999999*Math.random())+"]"]={};var Mt=Ht(Z({},Se.styles,Ze));ct.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Mt}),"*")}return Promise.resolve()}catch(hn){return Promise.reject(hn)}}(jt),function(U){var Se=JSON.stringify(U.focus);if(U.focus&&Se!==an[U.id]){var be,ct=Math.max(.5,Math.min(10,U.focus.zoom_level||1));be="string"==typeof U.focus.location?function Xe(jt,xt,qt){var Lt,Kt,Rn=null==(Lt=jt.element)?void 0:Lt.querySelector(".svg-viewer__svg-overlays"),Un=null==(Kt=jt.element)?void 0:Kt.querySelector("svg"),dt=Un?.querySelector("#"+Te(xt));if(dt&&Un&&Rn){var we=qt||Rn?.getBoundingClientRect()||{},Ne=dt?.getBoundingClientRect()||{};return{x:(Ne.left+Ne.width/2-we.left)/we.width,y:(Ne.top+Ne.height/2-we.top)/we.height}}return nt("DOM","Unable to find element with ID "+xt,void 0,"warn"),{x:-1,y:-1}}(U,U.focus.location):U.focus.location,an[U.id]=Se;var Ze={x:1-be.x,y:1-be.y};At(U,{center:Ze,desired_center:Ze,zoom:ct,desired_zoom:ct})}}(jt),wt(jt),delete tt[jt.id],cancelAnimationFrame(qt),xt()}})})),tt[jt.id]}function wt(jt){var xt,qt,Lt=null==(xt=jt.element)?void 0:xt.querySelector("svg");if(Object.keys(jt.mappings||{}).length){var Kt=null==(qt=jt.element)?void 0:qt.querySelector(".svg-viewer__svg-overlays");if(Kt&&Lt){if(!Kt.getBoundingClientRect().width)return Qe(jt.id+"|render-overlays",function(){return wt(jt)},50);requestAnimationFrame(function(){(function(Rn){var Un=Rn.labels.filter(function(br){return!br.zoom_level||br.zoom_level<=Rn.zoom}),dt=JSON.stringify(Un);if(dt!==ut[Rn.id]){var we,Ne=null==(we=Rn.element)?void 0:we.querySelector(".svg-viewer__svg-overlays");if(!Ne)return;Array.from(Ne.querySelectorAll("[label]")).filter(function(br){return br.parentNode}).forEach(function(br){return Ne.removeChild(br)});for(var U,Se=De(Un);!(U=Se()).done;){var be,ct,Ze,Mt=U.value,hn={x:0,y:0},Kn="~Nothing~";"string"==typeof Mt.location?(hn=Rn.mappings[Mt.location]||hn,Kn="#"+Mt.location):(null!=(be=Mt.location)&&be.y||null!=(ct=Mt.location)&&ct.x)&&(Kn="loc-"+(hn=Mt.location).x+"-"+hn.y);var Jn=document.createElement("div");Jn.setAttribute("label","true"),Jn.classList.add("svg-viewer__svg-overlay-item"),Jn.classList.add("label"),Jn.style.top=100*hn.y+"%",Jn.style.left=100*hn.x+"%";var Bi,di=document.createElement("div"),Qi=document.createElement("label");Qi.classList.add("svg-viewer__label"),Qi.setAttribute("for",Kn),null!=(Ze=Mt.css_class)&&Ze.length&&(Bi=Qi.classList).add.apply(Bi,Mt.css_class),Mt.z_index&&(Jn.style.zIndex=""+Mt.z_index),Qi.textContent=Mt.content,di.appendChild(Qi),Jn.appendChild(di),Ne.appendChild(Jn)}nt("RENDER","Added "+Rn.labels.length+" labels to view."),ut[Rn.id]=dt}})(jt),function(Rn){var Un=JSON.stringify(Rn.actions.map(function(Mt){return Z({},Mt,{callback:""})}));if(Un!==fn[Rn.id]){var dt,we=null==(dt=Rn.element)?void 0:dt.querySelector(".svg-viewer__svg-overlays");if(!we)return;Array.from(we.querySelectorAll(".action-zone")).filter(function(Mt){return Mt.parentNode&&we.contains(Mt.parentNode)}).forEach(function(Mt){return we.removeChild(Mt)});for(var Ne,U=De(Rn.actions);!(Ne=U()).done;){var Se=Ne.value;if(Se.action&&Se.id&&"*"!==Se.id&&!1!==Se.zone){var be=document.createElement("button");be.id=""+Se.id;var ct=Rn.mappings[Se.id]||{x:0,y:0},Ze=Rn.mappings[Se.id]||{w:0,h:0};be.classList.add("svg-viewer__svg-overlay-item"),be.classList.add("action-zone"),be.style.top=100*ct.y+"%",be.style.left=100*ct.x+"%",(Ze.w||Ze.h)&&(be.style.width=100*Ze.w+"%",be.style.height=100*Ze.h+"%",be.style.transform="translate(-50%, -50%)"),we.appendChild(be)}}fn[Rn.id]=Un}}(jt),function(Rn){var Un=JSON.stringify(Rn.features.map(function(Bi){return Z({},Bi,{content:"",data:bt(Bi.data)})}));if(Un!==rn[Rn.id]){var dt,we=null==(dt=Rn.element)?void 0:dt.querySelector(".svg-viewer__svg-overlays");if(!we)return console.log("Unable to get overlay element.");var Ne=we.querySelectorAll(".feature"),U=[];window.overlay_el=we,Ne.forEach(function(Bi){if(Bi.parentNode){var di=Bi.getAttribute("track-id");"none"!==di&&Rn.features.find(function(Qi){return Qi.track_id===di})?U.push(Bi):we.removeChild(Bi)}});for(var Se,be=De(Rn.features);!(Se=be()).done;){var ct,Ze,Mt=Se.value;if(Mt.content&&!U.includes(Mt.content)){var hn={x:0,y:0},Kn={w:0,h:0},Jn=document.createElement("button");"string"==typeof Mt.location?(Jn.id=""+Mt.location,hn=Rn.mappings[Mt.location]||hn,(Mt.hover||Mt.full_size)&&(Kn=Rn.mappings[Mt.location]||Kn)):(null!=(ct=Mt.location)&&ct.y||null!=(Ze=Mt.location)&&Ze.x)&&(hn=Mt.location),(hn.x||hn.y)&&(Jn.classList.add("svg-viewer__svg-overlay-item"),Jn.setAttribute("feature","true"),Jn.setAttribute("track-id",""+(Mt.track_id||"none")),Jn.classList.add("feature"),Mt.z_index&&(Jn.style.zIndex=""+Mt.z_index),Mt.hover&&Jn.classList.add("svg-viewer__svg-overlay-item__hover"),Jn.style.top=100*hn.y+"%",Jn.style.left=100*hn.x+"%",Kn.w||Kn.h?(Jn.style.width=100*Kn.w+"%",Jn.style.height=100*Kn.h+"%"):(Jn.style.width="1%",Jn.style.height=1/Rn.ratio+"%"),Jn.style.transform="translate(-50%, -50%)",Mt.content instanceof Node&&Jn.appendChild(Mt.content),we.appendChild(Jn))}}nt("RENDER","Added "+Rn.features.length+" features to view."),rn[Rn.id]=Un}}(jt)})}}}function Ht(jt){var xt="";for(var qt in jt)if(jt[qt]){var Lt="";for(var Kt in jt[qt])jt[qt][Kt]&&(Lt+=Kt+": "+jt[qt][Kt]+"; ");xt+="svg "+qt.split(" ").map(function(Rn){return Te(Rn)}).join(" ")+" { "+Lt+" } "}return xt}Ye("on_resize",ve.subscribe(function(){for(var jt,xt=function(){var Lt=jt.value;try{Qe("resize-"+Lt.id,function(){return de(Lt)})}catch(Kt){console.warn(Kt)}},qt=De(Me());!(jt=qt()).done;)xt()}));var Bt=function(jt){try{var xt=function(Kt){return Ye((qt=new $t(Z({},jt,{svg_data:Kt}))).id+"-render",Et(qt.id).subscribe(function(Rn){return cn(Rn).catch(function(Un){return console.warn(Un)})})),En(qt),Promise.resolve(function(Rn){try{var Un,dt,we=Rn.element;if(!we)throw new Error("No element set on viewer");var Ne=document.createElement("div"),U=document.createElement("style"),Se=document.createElement("div"),be=document.createElement("div"),ct=document.createElement("div"),Ze=document.createElement("div"),Mt=document.createElement("iframe");be.appendChild(ct),be.appendChild(Ze),Ne.appendChild(U),Ne.appendChild(Se),Se.appendChild(be),Ne.classList.add("svg-viewer"),Ne.id=Rn.id,U.id=Rn.id,Mt.id="svg-display",Mt.classList.add("svg-viewer__iframe"),Se.classList.add("svg-viewer__view-container"),be.classList.add("svg-viewer__render-container"),Ze.classList.add("svg-viewer__svg-overlays"),ct.classList.add("svg-viewer__svg-output"),ct.id="svg-output",ct.innerHTML=Rn.svg_data;var hn=(null==(Un=ct.firstElementChild)||null==(dt=Un.viewBox)?void 0:dt.baseVal)||{};Se.style.width=hn.width+"px",Se.style.height=hn.height+"px",Ze.style.width=hn.width+"px",Ze.style.height=hn.height+"px",Ze.appendChild(Mt),we.appendChild(Ne);var Kn=Se?.getBoundingClientRect()||{},Jn=At(Rn,{box:Kn});return Jn?(Rn=Jn,Promise.resolve(function Bi(di){return new Promise(function(Qi){requestAnimationFrame(function(){var br,Tr=null==(br=di.element)?void 0:br.querySelector("svg");if(!Tr||!Tr.clientWidth)return Qe(di.id+"-setup",function(){return Bi(di).then(function(xr){return Qi()})},100);var Hi=_e[di.url]||function(xr){if(!xr)return{};var as={},ts=xr?.getBoundingClientRect()||{},bs=xr.querySelectorAll("[id]");return xr.id="svg-viewer-root",as["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},bs.forEach(function(Os){var ds=Os?.getBoundingClientRect()||{};as[Os.id]={x:Math.floor((ds.left+ds.width/2-ts.left)/ts.width*1e5)/1e5,y:Math.floor((ds.top+ds.height/2-ts.top)/ts.height*1e5)/1e5,w:Math.floor(ds.width/ts.width*1e5)/1e5,h:Math.floor(ds.height/ts.height*1e5)/1e5}}),as}(Tr);_e[di.url]=Hi,At(di,{mappings:Hi}),Tr.style.display="none",function(xr){try{var as=JSON.stringify(Z({},xr.styles))||"";if(as.localeCompare(ci[xr.id])){var ts,bs,Os=xr.element;if(!Os)throw new Error("No element set on viewer");var ds=Os.querySelector(".svg-viewer__iframe"),lr=Os.querySelector(".svg-viewer__svg-output");if(!ds)throw new Error("No iframe created for viewer");var Ir=(null==(ts=lr.firstElementChild)||null==(bs=ts.viewBox)?void 0:bs.baseVal)||{},vr=""+xr.svg_data;vr=/<svg[^>]*width="[^>]*>/.test(vr)?vr:vr.replace("<svg",'<svg width="'+Ir.width+'" height="'+Ir.height+'" ');var tr=function(xi){for(var He=2,Rt="",H=xi.length,Ke=0,ze=0;ze<H;ze++)ze>0&&4*ze/3%76==0&&(Rt+="\r\n"),Ke|=xi[ze]<<(16>>>(He=ze%3)&24),2!==He&&xi.length-ze!=1||(Rt+=String.fromCodePoint(Nt(Ke>>>18&63),Nt(Ke>>>12&63),Nt(Ke>>>6&63),Nt(63&Ke)),Ke=0);return Rt.substr(0,Rt.length-2+He)+(2===He?"":1===He?"=":"==")}(function(xi){for(var He,Rt,H=xi.length,Ke=0,ze=0;ze<H;ze++){var kt;(Rt=null!=(kt=xi.codePointAt(ze))?kt:0)>65536&&ze++,Ke+=Rt<128?1:Rt<2048?2:Rt<65536?3:Rt<2097152?4:Rt<67108864?5:6}He=new Uint8Array(Ke);for(var Vt=0,mi=0;Vt<Ke;mi++){var Zi;(Rt=null!=(Zi=xi.codePointAt(mi))?Zi:0)<128?He[Vt++]=Rt:Rt<2048?(He[Vt++]=192+(Rt>>>6),He[Vt++]=128+(63&Rt)):Rt<65536?(He[Vt++]=224+(Rt>>>12),He[Vt++]=128+(Rt>>>6&63),He[Vt++]=128+(63&Rt)):Rt<2097152?(He[Vt++]=240+(Rt>>>18),He[Vt++]=128+(Rt>>>12&63),He[Vt++]=128+(Rt>>>6&63),He[Vt++]=128+(63&Rt),mi++):Rt<67108864?(He[Vt++]=248+(Rt>>>24),He[Vt++]=128+(Rt>>>18&63),He[Vt++]=128+(Rt>>>12&63),He[Vt++]=128+(Rt>>>6&63),He[Vt++]=128+(63&Rt),mi++):(He[Vt++]=252+(Rt>>>30),He[Vt++]=128+(Rt>>>24&63),He[Vt++]=128+(Rt>>>18&63),He[Vt++]=128+(Rt>>>12&63),He[Vt++]=128+(Rt>>>6&63),He[Vt++]=128+(63&Rt),mi++)}return He}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+Ht(Z({},xr.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+vr+"</body></html>"));ds.src="data:text/html;base64,"+tr,ci[xr.id]=as}Promise.resolve()}catch(xi){return Promise.reject(xi)}}(di),wt(di),Qi()})})}(Rn)).then(function(){(function(Bi,di){void 0===di&&(di=Jt);var Qi=vt.getValue(),br=Bi.element;Qi[Bi.id]&&Qi[Bi.id].unsubscribe();for(var Tr,Hi=[],xr=function(){var ts=Tr.value;Hi.push((0,A.R)(br,ts).pipe((0,W.T)(function(bs){return{id:Bi.id,type:ts,event:bs}})))},as=De(di);!(Tr=as()).done;)xr();Qi[Bi.id]=S.h.apply(void 0,Hi).subscribe(function(ts){var bs,vr,tr,Os=ts.id,ds=ts.type,lr=ts.event;switch(vn.includes(ds)&&lr.preventDefault(),function(Ir){var vr,tr=Ir.type,xi=Ir.event,He=me(Ir.id);if(He&&null!=(vr=He.actions)&&vr.length){var Rt=He.actions.sort(function(H,Ke){return(Ke.priority||0)-(H.priority||0)}).find(function(H){var Ke;return H.action.includes(tr)&&("*"===H.id||H.id===(null==(Ke=xi.target)?void 0:Ke.id))});Rt&&Rt.callback(xi,Q(He,je(xi)))}}(ts),ds){case"touchstart":case"mousedown":(null==(bs=lr.touches)?void 0:bs.length)>=2?function(Ir,vr){nt("INPUT","Starting pinching..."),Ae&&window.removeEventListener("touchmove",Ae);var tr=me(Ir);if(Pt=!0,tr&&!tr.options.disable_zoom){var xi=[{x:vr.touches[0].clientX,y:vr.touches[0].clientY},{x:vr.touches[1].clientX,y:vr.touches[1].clientY}],He=xi.map(function(H){return Q(tr,H)}),Rt={x:(He[0].x+He[1].x)/2,y:(He[0].y+He[1].y)/2};nn={x:1-Rt.x,y:1-Rt.y},Ot=oe(xi[0],xi[1]),vr instanceof MouseEvent||(Ae=function(H){return H.touches.length>=2?function(Ke,ze,kt){void 0===kt&&(kt=Ot);var Vt=me(Ke);if(Vt&&!Vt.options.disable_zoom){var mi=[{x:ze.touches[0].clientX,y:ze.touches[0].clientY},{x:ze.touches[1].clientX,y:ze.touches[1].clientY}],Zi=oe(mi[0],mi[1]),cr=Math.max(.5,Math.min(10,Vt.zoom*Zi/kt)),ns=cr!=Vt.zoom?ot(Vt.center,nn,1-Vt.zoom/cr):Vt.center;Ot=Zi,At(Vt,{zoom:cr,center:ns,desired_zoom:cr,desired_center:ns})}}(Ir,H,Ot):""},window.addEventListener("touchmove",Ae))}}(Os,lr):function(Ir,vr){if(!Pt){nt("INPUT","Starting panning...");var tr=me(Ir);Ft&&window.removeEventListener("mousemove",Ft),Ft&&window.removeEventListener("mouseup",ft),Ae&&window.removeEventListener("touchmove",Ae),Ae&&window.removeEventListener("touchend",Ve),tr&&!tr.options.disable_pan&&(kn=je(vr),vr instanceof MouseEvent?(Ft=function(xi){return on(Ir,xi,kn)},ft=function(){return sn()},window.addEventListener("mousemove",Ft),window.addEventListener("mouseup",ft)):(Ae=function(xi){return on(Ir,xi,kn)},Ve=function(){return sn()},window.addEventListener("touchmove",Ae),window.addEventListener("touchend",Ve)),Qe("pan_start",function(){return yt=!0},200))}}(Os,lr);break;case"touchend":case"mouseup":yt||Pt||(vr=lr,(tr=me(Os))&&nt("INPUT","Clicked:",Q(tr,je(vr)))),sn();break;case"mousewheel":case"wheel":!function(Ir,vr){var tr=me(Ir);if(tr){var xi=Math.min(10,Math.max(.5,tr.zoom*(1+(vr.deltaY>=0?-.02:.02)))),He=Q(tr,je(vr));nn={x:1-He.x,y:1-He.y},Qe("clear_action_start",function(){return nn=null});var Rt=xi!=tr.zoom?ot(tr.center,nn,1-tr.zoom/xi):tr.center;At(tr,{zoom:xi,center:Rt,desired_zoom:xi,desired_center:Rt})}}(Os,lr)}}),vt.next(Qi)})(Rn),wn||(window.addEventListener("resize",function(){ce.next("resize")}),window.addEventListener("blur",function(){return sn()}),wn=!0),de(Rn)})):Promise.resolve()}catch(Bi){return Promise.reject(Bi)}}(qt)).then(function(){return qt.id})},qt=Me().find(function(Kt){return Kt.url===jt.url});if(qt)return Promise.resolve(qt.id);var Lt=jt.svg_data;return Promise.resolve(Lt?xt(Lt):Promise.resolve(function(Kt){void 0===Kt&&(Kt="");try{var Rn=new Headers;if(Kt.startsWith(location.origin)||Kt.startsWith("/"))for(var Un in Xn)Rn.append(Un,Xn[Un]);return An[Kt]?Promise.resolve(An[Kt]):Promise.resolve(fetch(Kt,{headers:Rn}).catch(function(dt){return nt("SVG VIEWER","Failed to load map",dt,"error"),{text:function(){return Promise.resolve("")}}})).then(function(dt){return Promise.resolve(dt.text()).then(function(we){return An[Kt]=we,we})})}catch(dt){return Promise.reject(dt)}}(jt.url)).then(xt))}catch(Kt){return Promise.reject(Kt)}},An={},Xn={};function zi(jt){for(var xt in jt)Xn[xt.toLowerCase()]=jt[xt]}function Vn(jt,xt){return At(jt,xt)}function ui(jt){var xt,qt=me(jt);if(qt){var Lt,Kt,Rn,Un=null==(xt=qt.element)?void 0:xt.querySelector(".svg-viewer");Un&&(qt.element.removeChild(Un),Lt=qt,Kt=Me().filter(function(dt){return dt.id!==Lt.id}),Ce.next(Kt),Rn=""+jt,Object.keys(ke).filter(function(dt){return dt.includes(Rn)}).forEach(function(dt){return Re(dt)}))}}function Pn(){var jt=document.getElementById("svg-viewer-global");jt||((jt=document.createElement("style")).id="svg-viewer-global",jt.innerHTML=oi,document.head.appendChild(jt),nt("Styles","Added global viewer styles to document"))}var oi="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},118:(dn,Je,_)=>{"use strict";function q(R,V,ae,ht){return new(ae||(ae=Promise))(function(Sn,qn){function Gi(Hs){try{rr(ht.next(Hs))}catch(jo){qn(jo)}}function Ji(Hs){try{rr(ht.throw(Hs))}catch(jo){qn(jo)}}function rr(Hs){Hs.done?Sn(Hs.value):function tn(Sn){return Sn instanceof ae?Sn:new ae(function(qn){qn(Sn)})}(Hs.value).then(Gi,Ji)}rr((ht=ht.apply(R,V||[])).next())})}_.d(Je,{cor:()=>Zn,Pdm:()=>fo,kMc:()=>Mc,Kz4:()=>Es,kup:()=>Go,jv5:()=>U,L2z:()=>ns,omv:()=>Kt,yHY:()=>Ya,JtY:()=>xc,f_4:()=>Ap,XTx:()=>ra,vWy:()=>Jo,TMs:()=>Ko,sc7:()=>wo,WsZ:()=>pr,rig:()=>Kl,s_7:()=>bu,XYg:()=>$a,F6F:()=>ta,bEY:()=>Sa,yJg:()=>Oo,smE:()=>Mr,BbB:()=>gn,Kfl:()=>hi,n1$:()=>zn,smM:()=>Mo,Be_:()=>rs,$gJ:()=>$r,bt6:()=>sf,BCG:()=>is,mjH:()=>Ba,bpY:()=>gt,V4n:()=>Qn,VLL:()=>gi,_Ni:()=>ru,ShT:()=>Gr,D58:()=>un,TKu:()=>ki}),"function"==typeof SuppressedError&&SuppressedError;var ve=_(6651),me=_(1536),ut=_(434),rn=_(2672),fn=_(2677);
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
      
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
      
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */function ci(R,V={}){const{selector:ae}=V,ht=function En(R,V){var ae={};for(var ht in R)Object.prototype.hasOwnProperty.call(R,ht)&&V.indexOf(ht)<0&&(ae[ht]=R[ht]);if(null!=R&&"function"==typeof Object.getOwnPropertySymbols){var tn=0;for(ht=Object.getOwnPropertySymbols(R);tn<ht.length;tn++)V.indexOf(ht[tn])<0&&Object.prototype.propertyIsEnumerable.call(R,ht[tn])&&(ae[ht[tn]]=R[ht[tn]])}return ae}(V,["selector"]);return new ut.c(tn=>{const Sn=new AbortController,qn=Sn.signal;let Gi=!0,Ji=!1;const rr=new rn.y;let Hs;if(rr.add(()=>{Ji=!0,Gi&&Sn.abort()}),ht){if(ht.signal)if(ht.signal.aborted)Sn.abort();else{const jo=ht.signal,Zo=()=>{qn.aborted||Sn.abort()};jo.addEventListener("abort",Zo),rr.add(()=>jo.removeEventListener("abort",Zo))}Hs=Object.assign({},ht,{signal:qn})}else Hs={signal:qn};return fetch(R,Hs).then(jo=>{ae?rr.add((0,fn.H)(ae(jo)).subscribe(Zo=>tn.next(Zo),Zo=>{Gi=!1,Ji||tn.error(Zo)},()=>{Gi=!1,tn.complete()})):(Gi=!1,tn.next(jo),tn.complete())}).catch(jo=>{Gi=!1,Ji||tn.error(jo)}),rr})}var $i=_(8627),mn=_(3602),cn=_(1963),wt=_(3119),Ht=_(3879);class An{constructor(V,ae){this.notifier=V,this.source=ae}call(V,ae){return ae.subscribe(new Xn(V,this.notifier,this.source))}}class Xn extends Ht.gn{constructor(V,ae,ht){super(V),this.notifier=ae,this.source=ht}error(V){if(!this.isStopped){let ae=this.errors,ht=this.retries,tn=this.retriesSubscription;if(ht)this.errors=void 0,this.retriesSubscription=void 0;else{ae=new wt.B7;try{const{notifier:Sn}=this;ht=Sn(ae)}catch(Sn){return super.error(Sn)}tn=(0,Ht.tS)(ht,new Ht.zA(this))}this._unsubscribeAndRecycle(),this.errors=ae,this.retries=ht,this.retriesSubscription=tn,ae.next(V)}}_unsubscribe(){const{errors:V,retriesSubscription:ae}=this;V&&(V.unsubscribe(),this.errors=void 0),ae&&(ae.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:V}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=V,this.source.subscribe(this)}}var zi=_(3107),Vn=_(3398),ui=_(5522),Pn=_(521),oi=_(5443),jt=_(3277);function xt(R,V,ae,ht="debug",tn){if(window.debug){const qn=["color: #0288D1",`color:${tn||"#009688"}`,"color: default"];ae?qt()?console[ht](`%c[PlaceOS]%c[${R}] %c${V}`,...qn,ae):console[ht](`[PlaceOS][${R}] ${V}`,ae):qt()?console[ht](`%c[PlaceOS]%c[${R}] %c${V}`,...qn):console[ht](`[PlaceOS][${R}] ${V}`)}}function qt(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function Lt(){var R,V,ae,ht,tn,Sn;const qn=null!==(R=window.location)&&void 0!==R&&R.hash?null===(V=window.location)||void 0===V?void 0:V.hash.slice(1):(null===(ae=window.location)||void 0===ae?void 0:ae.href.split("#")[1])||"";let Gi=null!==(ht=window.location)&&void 0!==ht&&ht.search?null===(tn=window.location)||void 0===tn?void 0:tn.search.slice(1):(null===(Sn=window.location)||void 0===Sn?void 0:Sn.href.split("?")[1])||"",Ji={};if(qn)if(qn.indexOf("?")>=0){const Hs=qn.split("?");Ji=Kt(Hs[0]),Gi||(Gi=Hs[1])}else Ji=Kt(qn);let rr={};return Gi&&(rr=Kt(Gi)),Object.assign(Object.assign({},Ji),rr)}function Kt(R){const V={},ae=R.split("&");for(const ht of ae){const tn=ht.split("=");tn[1]&&(V[decodeURIComponent(tn[0])]=decodeURIComponent(tn[1]))}return V}const Rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function dt(R){var V,ae,ht,tn,Sn;const qn=((null===(V=window.location)||void 0===V?void 0:V.hash)||"").replace(new RegExp(`${R}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),Gi=((null===(ae=window.location)||void 0===ae?void 0:ae.search)||"").replace(new RegExp(`${R}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(ht=window.history)&&void 0!==ht&&ht.replaceState&&(null===(tn=window.history)||void 0===tn||tn.replaceState(null,"",`${null===(Sn=window.location)||void 0===Sn?void 0:Sn.pathname}${qn}${Gi}`))}function U(R,V){for(const ae in R)R.hasOwnProperty(ae)&&V.indexOf(R[ae])>=0&&delete R[ae];return R}class Ze{abort(){xt("Stub","Aborted")}}function Mt(R){let V="";if(R)for(const ae in R)R.hasOwnProperty(ae)&&null!=R[ae]&&(V+=`${V?"&":""}${ae}=${encodeURIComponent(R[ae])}`);return V}const hn={};function di(R,V,ae=300){if(!(R&&V&&V instanceof Function))throw new Error(R?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");Qi(R),hn[R]=setTimeout(()=>{V(),delete hn[R]},ae)}function Qi(R){hn[R]&&(clearTimeout(hn[R]),delete hn[R])}const as={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var ts=_(4938),bs=_(9533),Os=_(5882),ds=_(5859);let Ir,vr,lr={};const tr={};let xi="",He="";const Rt=new Pn.t(""),H=new Pn.t("");let Ke="/api/engine/v2";const ze=new Pn.t(!1),kt=ze.asObservable();let Vt=0;function mi(){var R,V;return`${lr.secure||(null===(R=window.location)||void 0===R?void 0:R.protocol.indexOf("https"))>=0?"https:":"http:"}//${lr.host||(null===(V=window.location)||void 0===V?void 0:V.host)}${Zi()}`}function Zi(){return"ACA Engine"===lr.version?"/control/api":Ke}function ns(){return xi}function is(R,V=!0){Ir.setItem(`${xi}_x-api-key`,`${R}`),Ir.setItem("trusted",`${V}`),function to(R,V=(0,bs.L)(new Date,2).valueOf()){lr.ignore_api_key&&"x-api-key"===R||(Ir.setItem(`${xi}_expires_at`,`${V}`),Ir.setItem(`${xi}_access_token`,R))}("x-api-key",(0,ts.e)(new Date,5).valueOf())}function Es(){return co("x-api-key",!1)||""}function Gr(R=!0){if(lr.mock)return"mock-token";if(!Ir)return"";if(Es()&&!lr.ignore_api_key)return"x-api-key";const V=Ir.getItem(`${xi}_expires_at`)||"",ae=Rt.getValue();return(0,Os.Y)(+V,new Date)&&(xt("Auth","Token expired. Requesting new token..."),ra(),tr.load_authority||(Vt+=1,di("re-authorise",()=>xa().catch(ht=>xt("Auth",`Failed to get token: ${ht}`)),200*Math.min(20,Vt))),!R)?"":ae||Ir.getItem(`${xi}_access_token`)||""}function rs(){return H.getValue()||Ir.getItem(`${xi}_refresh_token`)||""}function gs(){var R;return lr.host||(null===(R=window.location)||void 0===R?void 0:R.host)}function Go(){return vr}function wo(){return ze.getValue()}function Ko(){return!!lr.mock}function $a(){return kt}function qa(){return"true"===co("trust")||"true"===co("trusted")}function Jo(){return!!Es()&&!lr.ignore_api_key||"true"===co("fixed_device")}function co(R,V=!0){let ht=Lt()[R];if(Ir){const tn=`${ns()}_${R}`;ht=ht||Ir.getItem(tn)||Ir.getItem(R)||"",V&&Ir.setItem(tn,`${ht}`)}return ht}function Ba(R){var V;return lr=R||lr,lr.token_header=null!==(V=lr.token_header)&&void 0!==V?V:function be(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=Ze),Ir="session"===lr.storage?sessionStorage:localStorage,xi=jt.VV.hashStr(lr.redirect_uri,!1),Ea()}function aa(){return xt("Auth","Refreshing authorty."),vr=void 0,Ea()}function ra(){xt("Auth","Invalidating tokens."),Ir.removeItem(`${xi}_access_token`),Ir.removeItem(`${xi}_expires_at`),Rt.getValue()&&Rt.next("")}function xa(R,V=vr){return tr.authorise||(tr.authorise=new Promise((ae,ht)=>{if(!V)return delete tr.authorise,ht("Authority is not loaded");xt("Auth","Authorising user...");const tn=()=>{if(Gr(!1))xt("Auth","Valid token found."),delete tr.authorise,ae(Gr());else{const Sn=[()=>{xt("Auth","Successfully generated token."),ae(Gr()),delete tr.authorise},()=>{xt("Auth","Failed to generate token."),ht("Failed to generate token"),setTimeout(()=>delete tr.authorise,200)}];lr&&"password"===lr.auth_type?(xt("Auth","Logging in with credentials."),function Wr(R){return hs(function fi(R){return`${R.token_uri||"/auth/token"}?${Mt({grant_type:"password",client_id:xi,client_secret:R.client_secret,redirect_uri:R.redirect_uri,authority:vr?.id,scope:R.scope,username:R.username,password:R.password})}`}(R))}(lr).then(...Sn),Vt=0):He||rs()?(xt("Auth","Generating token with "+(He?"code":"refresh token")),dr().then(...Sn),Vt=0):V.session?(xt("Auth","Users has session. Authorising application..."),function Va(R){return q(this,void 0,void 0,function*(){var V;const ae=function ga(R){const V=function Ms(){const R=function Un(R=40){let V="";for(let ae=0;ae<R;ae++)V+=Rn.charAt(Math.floor(Math.random()*Rn.length));return V}();return Ir.setItem(`${xi}_nonce`,R),R}();R=R?`${V};${R}`:V;const ae=!!lr&&(lr.auth_uri||"").indexOf("?")>=0,ht=(lr?lr.auth_uri:null)||"/auth/oauth/authorize",tn=qa()||"auth_code"===lr.auth_type?"code":"token";let Sn=`${ht}${ae?"&":"?"}response_type=${encodeURIComponent(tn)}&client_id=${encodeURIComponent(xi)}&state=${encodeURIComponent(R)}&redirect_uri=${encodeURIComponent(lr.redirect_uri)}&scope=${encodeURIComponent(lr.scope)}`;if("auth_code"===lr.auth_type){const{challenge:qn,verify:Gi}=function Wt(R=43){const V=new Array(R).fill(0).map(()=>Ue[Math.floor(Math.random()*Ue.length)]).join(""),ae=Vn.Kp(Vn.Cw(V));return{challenge:V,verify:Vn.if(ui.hash(ae)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${xi}_challenge`,qn),Sn+="&code_challenge_method=S256",Sn+=`&code_challenge=${Gi}`}return Sn}(R);if(lr.use_iframe)return function Xr(R){return tr.iframe_auth||(tr.iframe_auth=new Promise((V,ae)=>{xt("Auth","Authorizing in an iFrame...");const ht=document.createElement("iframe");ht.style.position="absolute",ht.style.top="0",ht.style.left="0",ht.style.height="1px",ht.style.width="1px",ht.style.zIndex="-1",ht.id="place-authorize",ht.src=`${R}`;const tn=Sn=>{var qn;if(Sn.origin===(null===(qn=window.location)||void 0===qn?void 0:qn.origin)&&"place-os"===Sn.data.type){const Gi=Sn.data;if(xt("Auth","Received credentials from iFrame..."),document.body.removeChild(ht),Qi("iframe_auth"),window.removeEventListener("message",tn),delete tr.iframe_auth,Gi.token)return V(),Vs(Object.assign({access_token:Gi.token},Gi));He=Gi.code||"",dr().then(Ji=>V(Ji),Ji=>ae(Ji))}};di("iframe_auth",()=>{xt("Auth","Unable to resolve iFrame after 15 seconds..."),ae()},15e3),window.addEventListener("message",tn),ht.onerror=Sn=>{xt("Auth","iFrame error.",Sn),delete tr.iframe_auth,ae()},document.body.appendChild(ht)})),tr.iframe_auth}(ae);null===(V=window.location)||void 0===V||V.assign(ae)})}(R).then(...Sn)):(xt("Auth","No user session"),uo(V),ht("No user session"),setTimeout(()=>delete tr.authorise,200))}};(function Zs(){return tr.check_token||(tr.check_token=new Promise((R,V)=>q(this,void 0,void 0,function*(){Gr()?(xt("Auth","Valid token found."),R(Gr())):(xt("Auth","No token. Checking URL for auth credentials..."),(yield function Vl(){return tr.check_params||(tr.check_params=new Promise(R=>{xt("Auth","Checking for auth parameters...");let V=Lt();if((!V||Object.keys(V).length<=0)&&sessionStorage&&(V=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),V&&(V.code||V.access_token||V.refresh_token)){V.code&&(He=V.code,dt("code")),V.refresh_token&&(Ir.setItem(`${xi}_refresh_token`,V.refresh_token),dt("refresh_token"));const ae=Ir.getItem(`${xi}_nonce`)||"",ht=(V.state||"").split(";");dt("state"),dt("token_type"),ae===ht[0]?(Vs(V),R(!!V.access_token)):R(!1)}else R(!1);di("check_params_promise",()=>delete tr.check_params,50)})),tr.check_params}())?R(!0):V()),delete tr.check_token}))),tr.check_token})().then(tn,tn)})),tr.authorise}function Kl(){const R=()=>{for(let ae=0;ae<Ir.length;ae++){const ht=Ir.key(ae);ht&&ht.indexOf(xi)>=0&&Ir.removeItem(ht)}const V=vr?vr.logout_url:"/logout";setTimeout(()=>{var ae;return null===(ae=window.location)||void 0===ae?void 0:ae.assign(V)},300),ze.next(!1)};(function Nr(){return tr.revoke_token||(tr.revoke_token=new Promise((R,V)=>{xt("Auth","Revoking token...");const ht=tn=>{xt("Auth","Error revoking token.",tn),V(tn),delete tr.revoke_token};ci(`${lr.token_uri||"/auth/token"}?token=${Gr()}`,{method:"POST"}).subscribe(tn=>{if(!tn.ok)return ht(tn);xt("Auth","Successfully revoked token."),Rt.next(""),H.next(""),Ir.removeItem(`${xi}_access_token`),Ir.removeItem(`${xi}_refresh_token`),R(),delete tr.revoke_token},ht)})),tr.revoke_token})().then(R,R)}function Ea(R=0){return tr.load_authority||(tr.load_authority=new Promise(V=>{var ae;if(ze.next(!1),lr.mock)return vr=as,xt("Auth","System in mock mode"),ze.next(!0),void V();xt("Auth",`Fixed: ${Jo()} | Trusted: ${qa()}`),xt("Auth","Loading authority...");const ht=lr.secure||(null===(ae=window.location)||void 0===ae?void 0:ae.protocol.indexOf("https"))>=0,tn=Sn=>{xt("Auth",`Failed to load authority(${Sn})`),ze.next(!1),di("load_authority",()=>{delete tr.load_authority,Ea(R).then(qn=>V())},300*Math.min(20,++R))};ci(`${ht?"https:":"http:"}//${gs()}/auth/authority`,{credentials:"same-origin"}).subscribe(Sn=>q(this,void 0,void 0,function*(){if(!Sn.ok)return tn(yield Sn.text().catch(Gi=>Gi));vr=yield Sn.json(),Ke=/[2-9]\.[0-9]+\.[0-9]+/g.test(vr.version||"")?"/api/engine/v2":"/control/api",xt("Auth","Loaded authority.",[],"group"),vr&&(xt("Auth",`Name: ${vr.name}`),xt("Auth",`Version: ${vr.version}`),xt("Auth",`Domain: ${vr.domain}`),xt("Auth",`Session: ${vr.session}`),xt("Auth",`Production: ${vr.production}`),xt("Auth",`Config Keys: ${Object.keys(vr.config||{}).length}`)),xt("Auth","",[],"groupEnd");const qn=()=>{ze.next(!0),xt("Auth","Application set online."),V()};delete tr.load_authority,xa("").then(qn,qn)}),tn)})),tr.load_authority}let Rr=!1;function uo(R){var V,ae;if(!1!==lr.handle_login&&!Rr){xt("Auth","Redirecting to login page...");const ht=null===(V=R.login_url)||void 0===V?void 0:V.replace("{{url}}",encodeURIComponent(null===(ae=window.location)||void 0===ae?void 0:ae.href));throw setTimeout(()=>{var tn;return null===(tn=window.location)||void 0===tn?void 0:tn.assign(ht)},300),Rr=!0,new Error("Redirecting to login page...")}xt("Auth","Login being handled locally."),delete tr.authorise}const Ue="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function dr(){return hs(...function In(){let V=(lr.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(xi)}`,ae="";if(V+=`&redirect_uri=${encodeURIComponent(lr.redirect_uri)}`,rs()){V+=`&refresh_token=${encodeURIComponent(rs())}`,V+="&grant_type=refresh_token";const ht=V.split("?");V=ht[0],ae=ht[1]}else{V+=`&code=${encodeURIComponent(He)}`,V+="&grant_type=authorization_code";const ht=sessionStorage.getItem(`${xi}_challenge`);ht&&(V+=`&code_verifier=${ht}`,sessionStorage.removeItem(`${xi}_challenge`)),He=""}return[V,ae]}())}function hs(R,V=""){return tr.generate_tokens||(tr.generate_tokens=new Promise((ae,ht)=>{xt("Auth","Generating new token...");const tn=Sn=>{xt("Auth","Error generating new tokens.",Sn),Ir.removeItem(`${xi}_refresh_token`),H.next(""),ht(),delete tr.generate_tokens};ci(R,{method:"POST",body:V,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(Sn=>q(this,void 0,void 0,function*(){if(!Sn.ok)return tn(Sn);Vs(yield Sn.json()),ae(),delete tr.generate_tokens}),tn)})),tr.generate_tokens}function Vs(R){const V=(0,ds.p)(new Date,Math.max(60,parseInt(R.expires_in,10)-300));xt("Auth","Tokens generated storing..."),qa()&&(R.access_token&&(Ir.setItem(`${xi}_access_token`,R.access_token),dt("access_token")),R.refresh_token&&(Ir.setItem(`${xi}_refresh_token`,R.refresh_token),dt("refresh_token"))),R.expires_in&&(Ir.setItem(`${xi}_expires_at`,`${V.valueOf()}`),dt("expires_in")),ze.next(!0),Rt.next(R.access_token||""),H.next(R.refresh_token||"")}var ho=_(9277);const Ar={};function $r(R,V=Ar){!function oo(R,V,ae=Ar){const ht=`${R}|${V}`;ae[ht]&&(delete ae[ht],xt("HTTP(M)",`- ${R} ${V}`))}(R.method,R.path,V);const ae=`${R.method}|${R.path}`,ht=R.path.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("/"),tn=Object.assign(Object.assign({},R),{path_parts:ht,path_structure:ht.map(Sn=>":"===Sn[0]?Sn.replace(":",""):"")});V[ae]=tn,xt("HTTP(M)",`+ ${R.method} ${R.path}`)}function sa(R,V,ae,ht=Ar){const tn=function ea(R,V,ae=Ar){const tn=V.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),Sn=Object.keys(ae).reduce((qn,Gi)=>(0===Gi.indexOf(`${R}|`)&&qn.push(ae[Gi]),qn),[]);for(const qn of Sn)if(qn.path_structure.length===tn.length){let Gi=!0;for(let Ji=0;Ji<qn.path_structure.length;Ji++)if(!qn.path_structure[Ji]&&qn.path_parts[Ji]!==tn[Ji]){Gi=!1;break}if(Gi)return qn}return null}(R,V,ht);if(tn){const Sn=function la(R,V,ae){const ht=R.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),tn=ht[0].replace(/^\//g,""),qn=Kt(ht[1]||""),Gi=tn.split("/"),Ji={};for(const Hs of V.path_structure)Hs&&(Ji[Hs]=Gi[V.path_structure.indexOf(Hs)]);const rr={url:R,path:V.path,method:V.method,metadata:V.metadata,route_params:Ji,query_params:qn,body:ae};return xt("HTTP(M)",`MATCHED ${rr.method}:`,rr),rr}(V,tn,ae);return function Ki(R,V){const ae=R.callback?R.callback(V):R.metadata,ht=R.delay_variance||100,tn=R.delay||300,Sn=Math.floor(Math.random()*ht-ht/2)+tn;return xt("HTTP(M)",`RESP ${V.method}:`,[V.url,ae]),(0,fn.H)([ae]).pipe((0,ho.c)(Math.max(200,Sn)))}(tn,Sn)}return null}const So={};function xc(R,V,ae=Ua){return V||(V={response_type:"json"}),ae("GET",R,Object.assign({response_type:"json"},V))}function Sa(R,V,ae,ht=Ua){return ae||(ae={response_type:"json"}),ht("POST",R,Object.assign({body:V,response_type:"json"},ae))}function Oo(R,V,ae,ht=Ua){return ae||(ae={response_type:"json"}),ht("PUT",R,Object.assign({body:V,response_type:"json"},ae))}function ta(R,V,ae,ht=Ua){return ae||(ae={response_type:"json"}),ht("PATCH",R,Object.assign({body:V,response_type:"json"},ae))}function Ya(R,V,ae=Ua){return V||(V={response_type:"void"}),ae("DELETE",R,Object.assign({response_type:"void"},V))}function Qa(R,V){return q(this,arguments,void 0,function*(ae,ht,tn=So){if(ae.headers){const Sn={};ae.headers.forEach?ae.headers.forEach((qn,Gi)=>Sn[Gi.toLowerCase()]=qn):Object.keys(ae.headers).forEach(qn=>Sn[qn.toLowerCase()]=ae.headers[qn]),tn[ae.url||""]=Sn}switch(ht){case"json":return yield ae.json().catch(()=>({}));case"text":return yield ae.text()}})}const sl=()=>{ra(),aa().then(()=>null,()=>setTimeout(()=>sl(),1e3))};function Ua(R,V,ae,ht=Ko,tn=sa,Sn=Qa){if(ht()){const qn=tn(R,V,ae?.body);if(qn)return qn}return ae.headers=ae.headers||{},ae.headers["Content-Type"]="application/json",function Ur(){return Rt.pipe((0,oi.T)(R=>!!function Bo(){return!!Gr()}()))}().pipe((0,$i.p)(qn=>qn),(0,mn.s)(1),(0,cn.n)(qn=>("x-api-key"===Gr()?ae.headers["X-API-Key"]=Es():ae.headers.Authorization=`Bearer ${Gr()}`,ci(V,Object.assign(Object.assign({},ae),{body:JSON.stringify(ae.body),method:R,credentials:"same-origin"})))),(0,cn.n)(qn=>qn.ok?Sn(qn,ae.response_type):(0,ve.$)(qn)),function Bt(R){return V=>V.lift(new An(R,V))}(qn=>qn.pipe((0,zi.ZZ)((Gi,Ji)=>511===Gi.status?(uo(Go()),(0,me.of)(Gi)):Ji+1>4||401!==Gi.status?(0,ve.$)(Gi||{}):(xt("HTTP","Auth error",Gi),sl(),(0,me.of)(Gi))))))}let pl={},Za={},Ps="";const Dl=R=>R;function ml(R){const{query_params:V,fn:ae,path:ht,endpoint:tn}=R,Sn=Mt(V),qn=`${tn||mi()}${ht?"/"+ht:""}${Sn?"?"+Sn:""}`;return xc(qn).pipe((0,oi.T)(Gi=>{const Ji=function Yo(R,V,ae){const ht=function Ca(R,V=So){return V[R]||{}}("/"===R[0]?`${location.origin}${R}`:R),tn={total:0,next:null};if(ht&&ht["x-total-count"]){const Sn=+(ht["x-total-count"]||0);(V.length<2||V.length<12&&V.indexOf("offset=")>=0)&&(pl[ae]=Sn),Za[ae]=Sn,tn.total=Sn}return ht&&ht.link&&(Ps=function Ne(R){if(0===R.length)throw new Error("Input must not be of zero length");const V=R.split(","),ae={};for(const ht of V){const tn=ht.split(";");if(2!==tn.length)throw new Error("Section could not be split on ';'");const Sn=tn[0].replace(/<(.*)>/,"$1").trim();ae[tn[1].replace(/rel="(.*)"/,"$1").trim()]=Sn}return ae}(ht.link||"").next,tn.next=Kt(Ps.split("?")[1])),tn}(qn,Sn,ht);return{total:Ji.total||0,next:Ji.next?()=>ml({query_params:Ji.next,fn:ae,endpoint:tn,path:ht}):null,data:Gi&&Gi instanceof Array?Gi.map(rr=>(ae||Dl)(rr)):!Gi||Gi instanceof Array||!Gi.results?[]:Gi.results.map(rr=>rr)}}))}function gl(R){const{query_params:V,id:ae,path:ht,fn:tn,options:Sn}=R,qn=Mt(V);return xc(`${mi()}/${ht}/${ae}${qn?"?"+qn:""}`,Sn).pipe((0,oi.T)(Ji=>(tn||Dl)(Ji)))}function qr(R){const{id:V,query_params:ae,form_data:ht,method:tn,path:Sn,fn:qn}=R,Gi=Mt(Object.assign(Object.assign({},ae),{version:ht.version||0}));return("put"===tn?Oo:ta)(`${mi()}/${Sn}/${V}${Gi?"?"+Gi:""}`,ht).pipe((0,oi.T)(rr=>(qn||Dl)(rr)))}class po{constructor(V={}){this.id=V.id||"",this.name=V.name||"",this.created_at=V.created_at||0,this.updated_at=V.updated_at||0,this.version=V.version||0}toJSON(){const V=Object.assign({},this);return V.version=this.version,delete V.created_at,U(V,[void 0,null,""])}}var Zn=function(R){return R[R.None=0]="None",R[R.Support=1]="Support",R[R.Admin=2]="Admin",R[R.NeverDisplay=3]="NeverDisplay",R}(Zn||{});class pi extends po{get value(){return this.settings_string}constructor(V={}){super(V),this.parent_id=V.parent_id||"",this.updated_at=V.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=V.settings_string||"",this.encryption_level=V.encryption_level||Zn.None,this.keys=V.keys||[],this.modified_by_id=V.modified_by_id||""}}var ai=function(R){return R[R.SSH=0]="SSH",R[R.Device=1]="Device",R[R.Service=2]="Service",R[R.Websocket=3]="Websocket",R[R.Logic=99]="Logic",R}(ai||{});class Ai extends po{constructor(V={}){var ae;super(V),this.description=V.description||"",this.module_name=V.module_name||"",this.role=null!==(ae=V.role)&&void 0!==ae?ae:ai.Logic,this.default_uri=V.default_uri||"",this.default_port=V.default_port||1,this.ignore_connected=V.ignore_connected||!1,this.class_name=V.class_name||"",this.repository_id=V.repository_id||"",this.file_name=V.file_name||"",this.commit=V.commit||"",this.update_available=V.update_available||!1,this.update_info=V.update_info,this.settings=V.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ht in Zn)!isNaN(Number(ht))&&!this.settings[ht]&&(this.settings[ht]=new pi({parent_id:this.id,encryption_level:+ht}))}}class fo{constructor(V={}){this.id=V.id||V.parent_id||"",this.name=V.name||"",this.description=V.description||"";try{this.details=("string"==typeof V.details?JSON.parse(V.details):V.details)||{}}catch{this.details=V.details||{}}this.editors=V.editors||[],this.schema=V.schema||"",this.updated_at=1e3*(V.updated_at||0)||Date.now(),this.modified_by_id=V.modified_by_id||"",this.version=V.version||0}}class xh extends po{get system_id(){return this.control_system_id}get actions(){const V=this._actions;return{functions:(V.functions||[]).map(tn=>Object.assign(Object.assign({},tn),{args:Object.assign({},tn.args)})),mailers:(V.mailers||[]).map(tn=>Object.assign(Object.assign({},tn),{emails:[...tn.emails]}))}}get conditions(){const V=this._conditions;return{comparisons:(V.comparisons||[]).map(tn=>Object.assign(Object.assign({},tn),{left:"object"==typeof tn.left?Object.assign({},tn.left):tn.left,right:"object"==typeof tn.right?Object.assign({},tn.right):tn.right})),time_dependents:(V.time_dependents||[]).map(tn=>Object.assign({},tn))}}constructor(V={}){super(V),this.description=V.description||"",this._actions=V.actions||{functions:[],mailers:[]},this._conditions=V.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=V.debounce_period||0,this.important=V.important||!1,this.enabled=V.enabled||!1,this.webhook_secret=V.webhook_secret||"",this.control_system_id=V.system_id||V.control_system_id||"",this.zone_id=V.zone_id||"",this.system_name=V.system_name||(V.control_system?V.control_system.name:""),this.enable_webhook=V.enable_webhook||!1,this.exec_enabled=V.exec_enabled||!1,this.supported_methods=V.supported_methods||["POST"],this.activated_count=V.activated_count||V.trigger_count||0,this.playlists=V.playlists||[]}}class Mc extends po{constructor(V={}){super(V),this.settings=[null,null,null,null],this.trigger_list=[],this.description=V.description||"",this.tags=V.tags||[],this.triggers=V.triggers||[],this.settings=V.settings||[null,null,null,null],this.parent_id=V.parent_id||"",this.location=V.location||"",this.display_name=V.display_name||"",this.code=V.code||"",this.type=V.type||"",this.count=V.count||0,this.capacity=V.capacity||0,this.map_id=V.map_id||"",this.timezone=V.timezone||"",this.images=V.images||[],this.playlists=V.playlists||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ae in Zn)!isNaN(Number(ae))&&!this.settings[ae]&&(this.settings[ae]=new pi({parent_id:this.id,encryption_level:+ae}));V.trigger_data&&V.trigger_data instanceof Array&&(this.trigger_list=V.trigger_data.map(ae=>new xh(ae)))}}class Rc{constructor(V={}){this.zone=new Mc(V.zone),this.keys=V.keys||[],this.metadata={};const ae=V.metadata||{};for(const ht of this.keys)this.metadata[ht]=new fo(ae[ht])}}const oc="metadata";function ge(R){return new fo(R)}function gt(R,V,ae={}){return gl({id:R,query_params:Object.assign(Object.assign({},ae),{name:V}),fn:ht=>ge(ht[V]),path:oc})}function un(R,V,ae="put"){return qr({id:R,form_data:V,query_params:{},method:ae,fn:ge,path:oc})}function pr(R,V){return function ql(R){const{id:V,task_name:ae,form_data:ht,method:tn,path:Sn,callback:qn}=R,Gi=Mt(ht),Ji=`${mi()}/${Sn}/${V}/${ae}`;return("post"!==tn&&"put"!==tn&&tn?("del"===tn?Ya:xc)(`${Ji}${Gi?"?"+Gi:""}`,{response_type:"json"}):("put"===tn?Oo:Sa)(Ji,ht)).pipe((0,oi.T)(Hs=>(qn||(jo=>jo))(Hs)))}({id:R,task_name:"children",form_data:V,method:"get",callback:ae=>ae.map(ht=>new Rc(Object.assign(Object.assign({},ht),{keys:Object.keys(ht.metadata)}))),path:oc})}class xo extends po{constructor(V={}){var ae;super(V),this.settings=[null,null,null,null],this.module_list=[],this.display_name=V.display_name||"",this.description=V.description||"",this.email=V.email||"",this.code=V.code||"",this.capacity=V.capacity||0,this.features=V.features||[],this.bookable=V.bookable||!1,this.public=null!==(ae=V.public)&&void 0!==ae&&ae,this.installed_ui_devices=V.installed_ui_devices||0,this.support_url=V.support_url||"",this.map_id=V.map_id||"",this.modules=V.modules||[],this.images=V.images||[],this.zones=V.zones||[],this.settings=V.settings||[null,null,null,null],this.timezone=V.timezone||"",this.signage=V.signage||!1,this.playlists=V.playlists||[],this.orientation=V.orientation||"unspecified","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ht in Zn)!isNaN(Number(ht))&&!this.settings[ht]&&(this.settings[ht]=new pi({parent_id:this.id,encryption_level:+ht}));V.module_data&&V.module_data instanceof Array&&(this.module_list=V.module_data.map(ht=>new Fs(ht)))}}class Fs extends po{get system_id(){return this.control_system_id}constructor(V={}){var ae;super(V),this.settings=[null,null,null,null],this.driver_id=V.driver_id||V.dependency_id||"",this.control_system_id=V.control_system_id||"",this.edge_id=V.edge_id||"",this.ip=V.ip||"",this.tls=V.tls||!1,this.udp=V.udp||!1,this.port=V.port||1,this.makebreak=V.makebreak||!1,this.uri=V.uri||"",this.custom_name=V.custom_name||"",this.role=null!==(ae=V.role)&&void 0!==ae?ae:ai.Logic,this.notes=V.notes||"",this.ignore_connected=V.ignore_connected||!1,this.connected=V.connected,this.running=V.running||!1,this.updated_at=V.updated_at||0,this.system=new xo(V.control_system||V.system),this.has_runtime_error=V.has_runtime_error||!1,this.error_timestamp=V.error_timestamp||0,this.driver=new Ai(V.dependency||V.driver),this.settings=V.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ht in Zn)!isNaN(Number(ht))&&!this.settings[ht]&&(this.settings[ht]=new pi({parent_id:this.id,encryption_level:+ht}))}toJSON(V=!1){const ae=super.toJSON();return(ae.role!==ai.Logic&&!V||!ae.control_system_id)&&delete ae.control_system_id,delete ae.driver,delete ae.system,delete ae.error_timestamp,delete ae.has_runtime_error,ae}}const mu="settings";function Au(R){return new pi(R)}function Mr(R={}){return ml({query_params:R,fn:Au,path:mu})}const lt="systems";function Ut(R){return new xo(R)}function gn(R={}){return ml({query_params:R,fn:Ut,path:lt})}function hi(R={}){return ml({query_params:R,fn:Ut,path:`${lt}/with_emails`})}function Qn(R,V={}){return gl({id:R,query_params:V,fn:Ut,path:lt})}class $e extends po{constructor(V={}){super(V),this.password="",this.confirm_password="",this.authority_id=V.authority_id||"",this.email=V.email||"",this.email_digest=V.email_digest||"",this.phone=V.phone||"",this.country=V.country||"",this.building=V.building||"",this.image=V.image||"",this.metadata=V.metadata||"",this.login_name=V.login_name||"",this.staff_id=V.staff_id||"",this.first_name=V.first_name||"",this.last_name=V.last_name||"",this.support=!!V.support,this.sys_admin=!!V.sys_admin,this.ui_theme=V.ui_theme||"",this.card_number=V.card_number||"",this.groups=V.groups||[],this.department=V.department||"",this.work_preferences=V.work_preferences||[],this.work_overrides=V.work_overrides||{}}}const en="users";function xn(R){return new $e(R)}function zn(R={}){return ml({query_params:R,fn:xn,path:en})}function gi(R,V={}){return gl({id:R,query_params:V,fn:xn,path:en})}function ki(R,V,ae="patch"){return qr({id:R,form_data:V,query_params:{},method:ae,fn:xn,path:en})}const _s="zones";function Qr(R){return new Mc(R)}function Mo(R={}){return ml({query_params:R,fn:Qr,path:_s})}function ru(R,V={}){return gl({id:R,query_params:V,fn:Qr,path:_s})}var ed=_(1478),jl=function(R){return R[R.PARSE_ERROR=0]="PARSE_ERROR",R[R.BAD_REQUEST=1]="BAD_REQUEST",R[R.ACCESS_DENIED=2]="ACCESS_DENIED",R[R.REQUEST_FAILED=3]="REQUEST_FAILED",R[R.UNKNOWN_CMD=4]="UNKNOWN_CMD",R[R.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",R[R.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",R[R.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",R}(jl||{}),yu=function(R){return R.Info="info",R.Debug="debug",R.Warning="warn",R.Error="error",R.Fatal="fatal",R.Trace="trace",R}(yu||{});class Nl{constructor(V,ae){this._system=V;const ht=Object.getOwnPropertyNames(Object.getPrototypeOf(ae)).filter(tn=>tn.startsWith("$"));for(const tn in ae)ae.hasOwnProperty(tn)&&void 0!==ae[tn]&&(ae[tn]instanceof Function?this.addMethod(tn,ae[tn]):this.addProperty(tn,ae[tn]));for(const tn of ht)ae[tn]instanceof Function&&this.addMethod(tn,ae[tn])}call(V,ae=[]){return this[`$${V}`]instanceof Function?this[`$${V}`](...ae):null}listen(V){return!this[`_${V}`]&&!(this[`_${V}_obs`]instanceof ut.c)&&!this[V]&&this.addProperty(V,null),this[`_${V}_obs`]}addMethod(V,ae){"$"!==V[0]&&(V=`$${V}`),this[V]=ae}addProperty(V,ae){"$"===V[0]&&(V=V.replace("$","")),this[`_${V}`]=new Pn.t(ae),this[`_${V}_obs`]=this[`_${V}`].asObservable(),Object.defineProperty(this,V,{get:()=>this[`_${V}`].getValue(),set:ht=>this[`_${V}`].next(ht)})}}class Ah{constructor(V){for(const ae in V)V.hasOwnProperty(ae)&&V[ae]&&V[ae]instanceof Array&&V[ae].forEach(ht=>{this.addModule(ae,ht)})}addModule(V,ae){this[V]||(this[V]=[]),this[V].push(new Nl(this,ae))}}const Fd={};function sf(R,V){return Fd[R]=new Ah(V),Fd[R]}function bu(R){return Fd[R]}const Mh=15;let Ol,Uu=0,Vf=0;const ps={},Pl={},Ys={},Ka={},vo=new Pn.t(!1);Ys._place_os_status=vo.asObservable();const Ld=new Pn.t([0,0]);Ys._place_os_sync=Ld.asObservable();let Uf,Rh,Mm=Date.now(),Cp=0,th=null,Sp=0;const $d=1e4,Og=new wt.B7;function Pg(){return mi().indexOf("/control/")>=0?"/control/websocket":`${Zi()}/systems/control`}function Nh(){return vo.getValue()}function Fg(R,V=0,ae=nh){return ae(Object.assign({id:++Uu,cmd:"bind"},R),V)}function nh(R,V=$d,ae=0){const ht=`${R.cmd}|${R.sys}|${R.mod}${R.index}|${R.name}|${R.args}|${function ct(R=Date.now(),V=6e4){return Math.floor(R/V)}()}`;if(ps[ht])xt("WS","Request already in progress. Waiting...",R);else{const tn=Object.assign(Object.assign({},R),{key:ht});tn.promise=new Promise((Sn,qn)=>{const Gi=()=>{delete ps[ht],ps[ht]=null,nh(R,V,ae).then(Ji=>Sn(Ji),Ji=>qn(Ji))};if(Ol&&Nh()){Ko()&&function yr(R,V,ae){const ht=`${R.sys}|${R.mod}_${R.index}|${R.name}`,tn=bu(R.sys),Sn=tn&&tn[R.mod]?tn[R.mod][R.index-1||0]:null;if(Sn){switch(R.cmd){case"bind":ae[ht]=Sn.listen(R.name).subscribe(qn=>{setTimeout(()=>{V.next({type:"notify",value:qn,meta:R})},Math.floor(100*Math.random()+50))});break;case"unbind":ae[ht]&&(ae[ht].unsubscribe(),delete ae[ht],Qi(`${ht}`))}di(`${R.id}-response`,()=>{const qn={id:R.id,type:"success",value:"exec"===R.cmd?Sn.call(R.name,R.args):null};V.next(qn)},10)}else di(`${R.id}-error`,()=>V.next({id:R.id,type:"error",code:tn?jl.SYS_NOT_FOUND:jl.MOD_NOT_FOUND}),10)}(R,Ol,Ka),tn.resolve=Sn,tn.reject=qn;const Ji=`${R.sys}, ${R.mod}_${R.index}, ${R.name}`;xt("WS",`[${R.cmd.toUpperCase()}](${R.id}) ${Ji}`,R.args),Ol.next(R),V>0&&di(`${ht}`,()=>{qn("Request timed out."),delete ps[ht],ps[ht]=null},V)}else th?setTimeout(()=>Gi(),1e3):Mu().then(()=>Gi())}),ps[ht]=tn}return ps[ht].promise}function td(R){if("pong"!==R&&R instanceof Object){if("notify"===R.type&&R.meta)!function na(R,V,ae=Pl,ht=Ys){const tn=`${R.sys}|${R.mod}_${R.index}|${R.name}`;ae[tn]||(ae[tn]=new Pn.t(null),ht[tn]=ae[tn].asObservable());xt("WS",`[NOTIFY] ${`${R.sys}, ${R.mod}_${R.index}, ${R.name}`} changed`,[ae[tn].getValue(),"\u2192",V]),ae[tn].next(V)}(R.meta,R.value);else if("success"===R.type)!function Tp(R){const V=Object.keys(ps).map(ae=>ps[ae]).find(ae=>ae?.id===R.id);xt("WS",`[SUCCESS](${R.id})`),V&&V.resolve&&(V.resolve(R.value),delete ps[V.key])}(R);else if("debug"===R.type){xt("WS",`[DEBUG] ${R.mod}${R.klass||""} \u2192`,R.msg);const V=R.meta||{mod:"",index:""};Og.next({mod_id:R.mod||"<empty>",module:`${V.mod}_${V.index}`,class_name:R.klass||"<empty>",message:R.msg||"<empty>",level:R.level||yu.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===R.type?function Bg(R){let V="UNEXPECTED FAILURE";switch(R.code){case jl.ACCESS_DENIED:V="ACCESS DENIED";break;case jl.BAD_REQUEST:V="BAD REQUEST";break;case jl.MOD_NOT_FOUND:V="MODULE NOT FOUND";break;case jl.SYS_NOT_FOUND:V="SYSTEM NOT FOUND";break;case jl.PARSE_ERROR:V="PARSE ERROR";break;case jl.REQUEST_FAILED:V="REQUEST FAILED";break;case jl.UNKNOWN_CMD:V="UNKNOWN COMMAND"}xt("WS",`[ERROR] ${V}(${R.id}): ${R.msg}`,void 0,"error");const ae=Object.keys(ps).map(ht=>ps[ht]).filter(ht=>ht).find(ht=>ht.id===R.id);ae&&ae.reject&&(ae.reject(R),Qi(`${ae.key}`),delete ps[ae.key])}(R):R.cmd||xt("WS","Invalid websocket message",R,"error");Qi(`${R.id}`)}else"pong"===R&&(Sp=Date.now(),xt("WS","Pong!"))}function Mu(R=0){return null==th&&(th=new Promise(V=>{if(R>40)return location.reload();Cp++,Mm=Date.now(),Ol=Ko()?function Ru(){const R=new wt.B7;return R.subscribe(V=>td(V)),R}():function Ip(){if(!Go()||!Gr())return null;const R=function rl(){return!!lr.secure}()||location.protocol.indexOf("https")>=0;let V=`ws${R?"s":""}://${gs()}${Pg()}${Jo()?"?fixed_device=true":""}`;const ae=Gr();let ht="x-api-key"===ae?`api-key=${Es()}`:`bearer_token=${ae}`;return function cr(){return!!lr.token_header}()||function Se(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(xt("WS","Authenticating through URL query parameter..."),V+=`${V.indexOf("?")>=0?"&":"?"}${ht}`):(xt("WS","Authenticating through cookie..."),ht+=`;max-age=120;path=${Pg()};`,ht+=(R?"secure;":"")+"samesite=strict",document.cookie=ht,xt("WS","Cookies:",[document.cookie,ht])),xt("WS",`Creating websocket connection to ws${R?"s":""}://${gs()}${Pg()}`),(0,ed.K)({url:V,serializer:tn=>"object"==typeof tn?JSON.stringify(tn):tn,deserializer:tn=>{let Sn=tn.data;if("pong"===Sn)return Sn;try{return JSON.parse(tn.data)}catch{return Sn}}})}(),Ol?(xt("WS(Debug)","Authority:",[Go()]),xt("WS","Connecting to websocket..."),Ol.subscribe(ae=>{vo.getValue()||(xt("WS","Connection established."),V()),vo.next(!0),Cp=0,Us(),td(ae)},ae=>{Ol=void 0,th=null,kp(),Us(),function jf(R){vo.next(!1),xt("WS","Websocket error:",R,void 0,"error"),401===R.status&&ra(),aa(),Pc()}(ae)},()=>{Ol=void 0,th=null,kp(),xt("WS","Connection closed by browser."),vo.next(!1),Pc()}),Uf&&clearInterval(Uf),Sp=Date.now(),ty(),Uf=setInterval(()=>ty(),1e3*Mh),Us(),Vf+=1,Rh=setTimeout(()=>{xt("WS","Unhealthy connection. Reconnecting..."),vo.next(!1),th=null,Pc()},3e4)):(Ol?xt("WS",`Waiting on auth(${R}). Retrying in ${1e3*Math.min(10,R+1)}ms...`,[!!Gr(),!!Go()],"info"):xt("WS",`Failed to create websocket(${R}). Retrying in ${1e3*Math.min(10,R+1)}ms...`,void 0,"error"),setTimeout(()=>{th=null,Mu(R).then(ae=>V(ae))},1e3*Math.min(10,++R)))})),th}function Pc(){Ld.next([Vf,Date.now()-Mm]),Ol&&Nh()&&(Ol.complete(),Uf&&(clearInterval(Uf),Uf=void 0)),xt("WS",`Reconnecting in ${Math.min(5e3,300*Cp||1e3)}ms...`),di("reconnect",()=>Mu(),Math.min(5e3,300*(Cp+1)||1e3))}function ty(){if(Date.now()-Sp>4*Mh*1e3)return Pc();Ol?.next("ping")}function Us(){Rh&&(clearTimeout(Rh),Rh=void 0)}function kp(){for(const R in ps)ps[R]&&delete ps[R]}Ys._place_os_debug_events=Og.asObservable();var bd=_(6109),Fl=function(R){return R[R.NONE=0]="NONE",R[R.BIND=1]="BIND",R[R.UNBIND=2]="UNBIND",R}(Fl||{});class ny{constructor(V,ae){this._module=V,this._pending=Fl.NONE,this._binding_count=0,this._stale_bindings=0,this.name=ae,function Oc(){return Ys._place_os_status}().pipe((0,bd.F)()).subscribe(ht=>{ht&&(this._stale_bindings||this._pending===Fl.BIND)?(xt("VAR","Re-binding to status variable",this.binding()),this.rebind()):ht||(Qi(`rebind:${JSON.stringify(this.binding())}`),xt("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function af(R,V=Pl){const ae=`${R.sys}|${R.mod}_${R.index}|${R.name}`;if(V[ae])return V[ae].getValue()}(this.binding())}listen(){return function Wa(R,V=Pl,ae=Ys){const ht=`${R.sys}|${R.mod}_${R.index}|${R.name}`;return V[ht]||(V[ht]=new Pn.t(void 0),ae[ht]=V[ht].asObservable()),ae[ht]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===Fl.UNBIND)&&(this._pending=Fl.BIND,Fg(this.binding()).then(()=>{this._binding_count++,this._pending=Fl.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===Fl.NONE?(this._pending=Fl.UNBIND,function Dp(R,V=0,ae=nh){return ae(Object.assign({id:++Uu,cmd:"unbind"},R),V)}(this.binding()).then(()=>{this._pending===Fl.UNBIND&&(this._pending=Fl.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return q(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==Fl.BIND||di(`rebind:${JSON.stringify(this.binding())}`,()=>q(this,void 0,void 0,function*(){yield Fg(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Vg{constructor(V,ae){this._system=V,this._id=ae,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const ae=this._id.split("_").pop();return parseInt(ae||"",10)||1}get name(){const V=this._id.split("_");return V.pop(),V.join("_")}binding(V){return this._bindings[V]||(this._bindings[V]=new ny(this,V)),this._bindings[V]}execute(V,ae,ht=$d){return function Lg(R,V=$d,ae=nh){return ae(Object.assign({id:++Uu,cmd:"exec"},R),V)}({sys:this._system.id,mod:this.name,index:this.index,name:V,args:ae},ht)}}class Wi{constructor(V){this._module_list={},this.id=V}module(V,ae=1){if(!V)throw new Error("Invalid module ID");const ht=V.split("_");ht.length>1&&Number.isInteger(+ht[ht.length-1])&&(ae=+ht[ht.length-1],ht.pop()),ae<1&&(ae=1);const tn=ht.join("_");for(this._module_list[tn]||(this._module_list[tn]=[]);this._module_list[tn].length<ae;)this._module_list[tn].push(new Vg(this,`${tn}_${this._module_list[tn].length+1}`));return this._module_list[tn][ae-1]}}const lf={};function Ap(R,V,ae=1){return function Wf(R){return lf[R]||(lf[R]=new Wi(R)),lf[R]}(R).module(V,ae)}},1145:(dn,Je,_)=>{"use strict";_.d(Je,{TaL:()=>O,wgE:()=>yr,xWs:()=>cc,y4m:()=>R,Slp:()=>dh,ox:()=>nP,d_2:()=>Kr,jh6:()=>D,jbE:()=>Vr,DZQ:()=>Gn});var h={};_.r(h),_.d(h,{CompositeArrayBuffer:()=>ki,browserFiles:()=>rx,browserHTTPRequest:()=>Om,concatenateArrayBuffers:()=>ss,copyModel:()=>Oh,decodeWeights:()=>wi,decodeWeightsStream:()=>Co,encodeWeights:()=>Ln,fromMemory:()=>Bd,fromMemorySync:()=>Lp,getLoadHandlers:()=>_c,getModelArtifactsForJSON:()=>va,getModelArtifactsForJSONSync:()=>Ml,getModelArtifactsInfoForJSON:()=>Ws,getSaveHandlers:()=>Rl,getWeightSpecs:()=>Or,http:()=>Hg,isHTTPScheme:()=>Gf,listModels:()=>Fg,loadWeights:()=>xl,moveModel:()=>td,registerLoadRouter:()=>yd,registerSaveRouter:()=>wl,removeModel:()=>Lg,weightsLoaderFactory:()=>rv,withSaveHandler:()=>ox,withSaveHandlerSync:()=>df});var O={};_.r(O),_.d(O,{draw:()=>Vp,fromPixels:()=>qf,fromPixelsAsync:()=>av,toPixels:()=>jS});var E={};_.r(E),_.d(E,{assertParamsValid:()=>Up,computeFlatOffset:()=>Wp,computeOutShape:()=>cy,getNormalizedAxes:()=>uy,isSliceContinous:()=>Kg,maskToAxes:()=>ly,parseSliceParams:()=>Bm,sliceInfo:()=>Xg,startForAxis:()=>lv,startIndicesWithElidedDims:()=>$h,stopForAxis:()=>$m,stopIndicesWithElidedDims:()=>jp,stridesForAxis:()=>Lm,stridesWithElidedDims:()=>bc});var A={};_.r(A),_.d(A,{conv2d:()=>y_,depthwiseConv2d:()=>WA,matMul:()=>aE});var S={};_.r(S),_.d(S,{collectGatherOpShapeInfo:()=>T0,computeOutShape:()=>D0,segOpComputeOptimalWindowSize:()=>FE});var C={};_.r(C),_.d(C,{ERF_A1:()=>EE,ERF_A2:()=>CE,ERF_A3:()=>SE,ERF_A4:()=>ob,ERF_A5:()=>xf,ERF_P:()=>sb,PARALLELIZE_THRESHOLD:()=>fg,RowPartitionType:()=>Wh,SELU_SCALE:()=>pm,SELU_SCALEALPHA:()=>w0,applyActivation:()=>vf,assertAndGetBroadcastShape:()=>Bs,assertAxesAreInnerMostDims:()=>Dc,assertParamsConsistent:()=>vE,assignToTypedArray:()=>x0,axesAreInnerMostDims:()=>Av,calculateShapes:()=>ug,checkEinsumDimSizes:()=>gg,checkPadOnDimRoundingMode:()=>Fc,combineLocations:()=>kx,combineRaggedTensorToTensorShapes:()=>ET,complexWithEvenIndex:()=>x_,complexWithOddIndex:()=>DT,computeConv2DInfo:()=>ia,computeConv3DInfo:()=>Qf,computeDefaultPad:()=>e_,computeDilation2DInfo:()=>Jg,computeOptimalWindowSize:()=>wE,computeOutAndReduceShapes:()=>au,computeOutShape:()=>wf,computePool2DInfo:()=>Nu,computePool3DInfo:()=>oh,convertConv2DDataFormat:()=>qc,decodeEinsumEquation:()=>E0,eitherStridesOrDilationsAreOne:()=>su,expandShapeToKeepDim:()=>Sc,exponent:()=>fp,exponents:()=>IE,fromStringArrayToUint8:()=>OT,fromUint8ToStringArray:()=>Ef,getAxesPermutation:()=>ec,getBroadcastDims:()=>Jl,getComplexWithIndex:()=>TE,getEinsumComputePath:()=>ME,getEinsumPermutation:()=>AE,getFusedBiasGradient:()=>Hy,getFusedDyActivation:()=>cp,getImageCenter:()=>b0,getInnerMostAxes:()=>tc,getPermuted:()=>rb,getRaggedRank:()=>fm,getReductionAxes:()=>hl,getReshaped:()=>pg,getReshapedPermuted:()=>w_,getRowPartitionTypesHelper:()=>CT,getSliceBeginCoords:()=>xE,getSliceSize:()=>v0,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>TT,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>IT,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>kT,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>MT,getSparseReshapeInputOutputMismatchErrorMessage:()=>OE,getSparseReshapeInputOutputMultipleErrorMessage:()=>RT,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>AT,getSparseReshapeNegativeOutputDimErrorMessage:()=>lb,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>NT,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>C0,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>S0,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>PE,getUndoAxesPermutation:()=>jh,isIdentityPermutation:()=>RE,log:()=>li,mergeRealAndImagArrays:()=>hh,prepareAndValidate:()=>ST,prepareSplitSize:()=>NE,segment_util:()=>S,shouldFuse:()=>up,slice_util:()=>E,splitRealAndImagArrays:()=>DE,stridesOrDilationsArePositive:()=>Xp,tupleValuesAreOne:()=>ju,upcastType:()=>Yi,validateDefaultValueShape:()=>hg,validateInput:()=>Yx,validateUpdateShape:()=>RD,warn:()=>un});var W={};_.r(W),_.d(W,{json:()=>FI});var L={};_.r(L),_.d(L,{json:()=>LI});var N={};_.r(N),_.d(N,{json:()=>MO});var z={};_.r(z),_.d(z,{json:()=>RO});var re={};_.r(re),_.d(re,{json:()=>WL});var q={};_.r(q),_.d(q,{json:()=>HL});var Z={};_.r(Z),_.d(Z,{json:()=>GL});var ee={};_.r(ee),_.d(ee,{json:()=>KL});var De={};_.r(De),_.d(De,{json:()=>XL});var Ee={};_.r(Ee),_.d(Ee,{json:()=>$I});var ke={};_.r(ke),_.d(ke,{json:()=>Cw});var Qe={};_.r(Qe),_.d(Qe,{json:()=>NO});var Pe={};_.r(Pe),_.d(Pe,{json:()=>OO});var Ye={};_.r(Ye),_.d(Ye,{json:()=>BI});var Re={};_.r(Re),_.d(Re,{json:()=>Ig});var nt={};_.r(nt),_.d(nt,{json:()=>VI});var Te={};_.r(Te),_.d(Te,{json:()=>gS});var je={};_.r(je),_.d(je,{json:()=>_S});var Xe={};_.r(Xe),_.d(Xe,{json:()=>PO});var Q={};_.r(Q),_.d(Q,{OP_SCOPE_SUFFIX:()=>_t,abs:()=>Pa,acos:()=>dy,acosh:()=>od,add:()=>Wi,addN:()=>hx,all:()=>Hp,any:()=>Gp,argMax:()=>Yf,argMin:()=>zm,asin:()=>Qg,asinh:()=>dv,atan:()=>hy,atan2:()=>Kp,atanh:()=>py,avgPool:()=>qp,avgPool3d:()=>Yp,basicLSTMCell:()=>gv,batchNorm:()=>n_,batchNorm2d:()=>yv,batchNorm3d:()=>bx,batchNorm4d:()=>Zp,batchToSpaceND:()=>ad,bincount:()=>yy,bitwiseAnd:()=>i_,booleanMaskAsync:()=>LA,broadcastArgs:()=>wx,broadcastTo:()=>ep,buffer:()=>Us,cast:()=>yr,ceil:()=>Jp,clipByValue:()=>xu,clone:()=>bd,complex:()=>xn,concat:()=>cc,concat1d:()=>bv,concat2d:()=>vy,concat3d:()=>wv,concat4d:()=>em,conv1d:()=>xv,conv2d:()=>ld,conv2dTranspose:()=>s_,conv3d:()=>wy,conv3dTranspose:()=>Ey,cos:()=>Cy,cosh:()=>o_,cosineWindow:()=>Wy,cumprod:()=>Ym,cumsum:()=>lh,denseBincount:()=>tp,depthToSpace:()=>a_,depthwiseConv2d:()=>Vd,diag:()=>Sy,dilation2d:()=>Dx,div:()=>R,divNoNan:()=>Dy,dot:()=>Tv,dropout:()=>tE,einsum:()=>zh,elu:()=>nm,enclosingPowerOfTwo:()=>jy,ensureShape:()=>ZS,equal:()=>wd,erf:()=>kv,euclideanNorm:()=>JS,exp:()=>lu,expandDims:()=>cu,expm1:()=>Pv,eye:()=>im,fft:()=>s0,fill:()=>wu,floor:()=>np,floorDiv:()=>Wf,fused:()=>A,gather:()=>rm,gatherND:()=>h2,greater:()=>ud,greaterEqual:()=>_f,ifft:()=>Vy,imag:()=>om,image:()=>dh,inTopKAsync:()=>UA,irfft:()=>o0,isFinite:()=>Lv,isInf:()=>eg,isNaN:()=>xd,leakyRelu:()=>ip,less:()=>lm,lessEqual:()=>Ud,linalg:()=>vT,linspace:()=>My,localResponseNormalization:()=>$,log:()=>v,log1p:()=>ue,logSigmoid:()=>Ui,logSoftmax:()=>jr,logSumExp:()=>Ks,logicalAnd:()=>No,logicalNot:()=>il,logicalOr:()=>cm,logicalXor:()=>nD,losses:()=>SM,lowerBound:()=>Zk,matMul:()=>Ro,max:()=>Hu,maxPool:()=>Hv,maxPool3d:()=>Ry,maxPoolWithArgmax:()=>Ny,maximum:()=>Xa,mean:()=>uc,meshgrid:()=>ZP,min:()=>mf,minimum:()=>sp,mirrorPad:()=>tA,mod:()=>Rx,moments:()=>Gv,movingAverage:()=>Jx,mul:()=>ae,multiRNNCell:()=>rA,multinomial:()=>rD,neg:()=>at,norm:()=>gf,notEqual:()=>p_,oneHot:()=>Kv,ones:()=>zd,onesLike:()=>Ed,op:()=>$e,outerProduct:()=>aA,pad:()=>op,pad1d:()=>Ox,pad2d:()=>cA,pad3d:()=>dA,pad4d:()=>aD,pool:()=>lD,pow:()=>ih,prelu:()=>qv,print:()=>Fl,prod:()=>uD,raggedGather:()=>_A,raggedRange:()=>Fx,raggedTensorToTensor:()=>r2,rand:()=>s2,randomGamma:()=>bA,randomNormal:()=>um,randomStandardNormal:()=>Wd,randomUniform:()=>g_,randomUniformInt:()=>c2,range:()=>Fy,real:()=>__,reciprocal:()=>Ly,relu:()=>ch,relu6:()=>dm,reshape:()=>Wn,reverse:()=>Hd,reverse1d:()=>Yv,reverse2d:()=>EA,reverse3d:()=>CA,reverse4d:()=>vD,rfft:()=>ap,round:()=>ng,rsqrt:()=>$y,scalar:()=>Kr,scatterND:()=>VA,searchSorted:()=>Wv,selu:()=>jx,separableConv2d:()=>Zv,setdiff1dAsync:()=>wD,sigmoid:()=>Wu,sign:()=>xD,signal:()=>bT,sin:()=>e0,sinh:()=>By,slice:()=>Wo,slice1d:()=>rg,slice2d:()=>t0,slice3d:()=>hm,slice4d:()=>og,softmax:()=>r0,softplus:()=>Dn,spaceToBatchND:()=>Px,sparse:()=>DM,sparseToDense:()=>d0,spectral:()=>b_,split:()=>dd,sqrt:()=>tn,square:()=>qn,squaredDifference:()=>a0,squeeze:()=>yf,stack:()=>Ou,step:()=>lg,stridedSlice:()=>l0,string:()=>TM,sub:()=>Vr,sum:()=>Hr,tan:()=>qx,tanh:()=>Jf,tensor:()=>gi,tensor1d:()=>uu,tensor2d:()=>cg,tensor3d:()=>$p,tensor4d:()=>kA,tensor5d:()=>AA,tensor6d:()=>MD,tensorScatterUpdate:()=>ND,tile:()=>Gu,topk:()=>PD,transpose:()=>oa,truncatedNormal:()=>Ku,unique:()=>FD,unsortedSegmentSum:()=>zy,unstack:()=>uh,upperBound:()=>OA,variable:()=>$D,where:()=>ou,whereAsync:()=>u0,zeros:()=>$c,zerosLike:()=>Ji});var rt={};_.r(rt),_.d(rt,{mx:()=>S$,XI:()=>EP,Nk:()=>M$,f6:()=>R$,ct:()=>C$,YG:()=>N$,hH:()=>O$,z3:()=>L$,sG:()=>B$,uM:()=>U$,vS:()=>W$,qB:()=>H$,GG:()=>G$,lg:()=>X$,rq:()=>K$,cu:()=>Y$,WR:()=>q$,GE:()=>Q$,px:()=>Z$,jC:()=>J$,He:()=>tB,hE:()=>nB,BF:()=>CP,Dk:()=>rB,cl:()=>sB,_B:()=>cB,ub:()=>dB,_f:()=>fB,Ku:()=>gB,qy:()=>_B,Zy:()=>yB,bu:()=>Xb,zv:()=>GV,dH:()=>T$,HS:()=>A$,yH:()=>vB,l3:()=>wB,z9:()=>AP,x6:()=>vH,_m:()=>xB,eW:()=>EB,GK:()=>CB,SP:()=>SB,yr:()=>DB,dl:()=>z$,Dw:()=>TB,xT:()=>kB,_X:()=>wP,wz:()=>MB});var oe=_(9204);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Nt{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class St{refCount(t){return $t("refCount")}incRef(t){return $t("incRef")}timerAvailable(){return!0}time(t){return $t("time")}read(t){return $t("read")}readSync(t){return $t("readSync")}readToGPU(t,e){return $t("readToGPU")}numDataIds(){return $t("numDataIds")}disposeData(t,e){return $t("disposeData")}write(t,e,i){return $t("write")}move(t,e,i,r,a){return $t("move")}createTensorFromGPUData(t,e,i){return $t("createTensorFromGPUData")}memory(){return $t("memory")}floatPrecision(){return $t("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return $t("dispose")}}function $t(n){throw new Error(`'${n}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ce(n){let t=n.length,e=0;for(;t>0;)e=Math.random()*t|0,t--,Oe(n,t,e)}function ve(n,t,e){return Math.max(n,Math.min(t,e))}function me(n){return n%2==0?n:n+1}function Oe(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function Me(n,t){if(!n)throw new Error("string"==typeof t?t:t())}function kn(n,t,e=""){Me(Ae(n,t),()=>e+` Shapes ${n} and ${t} must match`)}function nn(n){Me(null!=n,()=>"The input to the tensor constructor must be a non-null value.")}function Ot(n){if(0===n.length)return 1;let t=n[0];for(let e=1;e<n.length;e++)t*=n[e];return t}function Ae(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function Ve(n){return n%1==0}function an(n){const t=Math.ceil(Math.sqrt(n));return[t,Math.ceil(n/t)]}function yt(n,t){return t<=n.length?n:n+" ".repeat(t-n.length)}function Jt(n,t=r=>0,e,i){return new Promise((r,a)=>{let c=0;const u=()=>{if(n())return void r();c++;const f=t(c);null!=e&&c>=e?a():null!=i?i(u,f):setTimeout(u,f)};u()})}function vn(n,t){let e=1,i=-1;for(let a=0;a<n.length;++a)if(n[a]>=0)e*=n[a];else if(-1===n[a]){if(-1!==i)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${i} and dim ${a}`);i=a}else if(n[a]<0)throw Error(`Shapes can not be < 0. Found ${n[a]} at dim ${a}`);if(-1===i){if(t>0&&t!==e)throw Error(`Size(${t}) must match the product of shape ${n}`);return n}if(0===e)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(t%e!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${e}`);const r=n.slice();return r[i]=t/e,r}function wn(n,t){const e=t.length;return Me((n=null==n?t.map((i,r)=>r):[].concat(n)).every(i=>i>=-e&&i<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${n}`),Me(n.every(i=>Ve(i)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(i=>i<0?e+i:i)}function on(n,t){const e=[],i=[],r=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||r?null:wn(t,n).sort();let c=0;for(let u=0;u<n.length;++u){if(null!=a){if(a[c]===u&&1!==n[u])throw new Error(`Can't squeeze axis ${u} since its dim '${n[u]}' is not 1`);(null==a[c]||a[c]>u)&&1===n[u]&&(e.push(n[u]),i.push(u)),a[c]<=u&&c++}1!==n[u]&&(e.push(n[u]),i.push(u))}return{newShape:e,keptDims:i}}function sn(n,t){return de(n,t)}function de(n,t){let e=null;if(null==n||"float32"===n)e=new Float32Array(t);else if("int32"===n)e=new Int32Array(t);else if("bool"===n)e=new Uint8Array(t);else{if("string"!==n)throw new Error(`Unknown data type ${n}`);e=new Array(t)}return e}function ut(n,t){return!("complex64"===t||"float32"===t&&"complex64"!==n||"int32"===t&&"float32"!==n&&"complex64"!==n||"bool"===t&&"bool"===n)}function rn(n){if("float32"===n||"int32"===n)return 4;if("complex64"===n)return 8;if("bool"===n)return 1;throw new Error(`Unknown dtype ${n}`)}function ci(n){return"string"==typeof n||n instanceof String}function mn(n){return"number"==typeof n}function cn(n){return Array.isArray(n)?cn(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":mn(n)?"float32":ci(n)?"string":function $i(n){return"boolean"==typeof n}(n)?"bool":"float32"}function wt(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Ht(n,t){for(let e=t;e<n;++e)if(n%e==0)return e;return n}function Bt(n){const t=n.length;if(t<2)return[];const e=new Array(t-1);e[t-2]=n[t-1];for(let i=t-3;i>=0;--i)e[i]=e[i+1]*n[i+1];return e}function An(n,t,e,i=!1){const r=new Array;if(1===t.length){const a=t[0]*(i?2:1);for(let c=0;c<a;c++)r[c]=e[n+c]}else{const a=t[0],c=t.slice(1),u=c.reduce((f,p)=>f*p)*(i?2:1);for(let f=0;f<a;f++)r[f]=An(n+f*u,c,e,i)}return r}function Xn(n,t,e=!1){if(0===n.length)return t[0];const i=n.reduce((r,a)=>r*a)*(e?2:1);if(0===i)return[];if(i!==t.length)throw new Error(`[${n}] does not match the input size ${t.length}${e?" for a complex tensor":""}.`);return An(0,n,t,e)}function Vn(n,t){const e=ui(n,t);for(let i=0;i<e.length;i++)e[i]=1;return e}function ui(n,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t)return new Uint8Array(n);throw new Error(`Unknown data type ${t}`)}function Pn(n,t){const e=n.reduce((i,r)=>i*r,1);if(null==t||"float32"===t)return Xn(n,new Float32Array(e));if("int32"===t)return Xn(n,new Int32Array(e));if("bool"===t)return Xn(n,new Uint8Array(e));throw new Error(`Unknown data type ${t}`)}function oi(n){n.forEach(t=>{Me(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function jt(n,t,e){if(0===t)return 0;if(1===t)return n[0];let i=n[n.length-1];for(let r=0;r<n.length-1;++r)i+=e[r]*n[r];return i}function xt(n,t,e){if(0===t)return[];if(1===t)return[n];const i=new Array(t);for(let r=0;r<i.length-1;++r)i[r]=Math.floor(n/e[r]),n-=i[r]*e[r];return i[i.length-1]=n,i}function qt(n){return n&&n.then&&"function"==typeof n.then}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Lt="tfjsflags";class Kt{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Rn,this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&(we().getBool("IS_TEST")||we().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=e}registerFlag(t,e,i){if(this.flagRegistry[t]={evaluationFn:e,setHook:i},null!=this.urlFlags[t]){const r=this.urlFlags[t];we().getBool("IS_TEST")||we().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${r}.`),this.set(t,r)}}getAsync(t){var e=this;return(0,oe.A)(function*(){return t in e.flags||(e.flags[t]=yield e.evaluateFlag(t)),e.flags[t]})()}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if(qt(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);Lt in t&&t[Lt].split(",").forEach(i=>{const[r,a]=i.split(":");this.urlFlags[r]=function dt(n,t){const e=t.toLowerCase();return"true"===e||"false"===e?"true"===e:""+ +e===e?+e:t}(0,a)})}}function Rn(n){const t={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...i)=>(function Un(n,t,e){n[decodeURIComponent(t)]=decodeURIComponent(e||"")}(t,i[0],i[1]),i.join("="))),t}function we(){return Ne}let Se,Ne=null;function be(){if(null==Se){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(!(typeof self<"u"))throw new Error("Could not find a global object");n=self}Se=n}return Se}function Ze(n,t){const e=function ct(){const n=be();return null==n._tfGlobals&&(n._tfGlobals=new Map),n._tfGlobals}();if(e.has(n))return e.get(n);{const i=t();return e.set(n,i),e.get(n)}}const Mt="Abs",hn="Acos",Kn="Acosh",Jn="Add",Bi="AddN",br="ArgMax",Tr="ArgMin",Hi="Asin",xr="Asinh",as="Atan",ts="Atanh",bs="Atan2",Os="AvgPool",ds="AvgPoolGrad",lr="AvgPool3D",Ir="AvgPool3DGrad",vr="BatchMatMul",tr="BatchToSpaceND",xi="Bincount",He="BitwiseAnd",H="BroadcastArgs",Ke="Cast",ze="Ceil",kt="ClipByValue",Vt="Complex",mi="ComplexAbs",Zi="Concat",cr="Conv2D",ns="Conv2DBackpropFilter",Jr="Conv2DBackpropInput",is="Conv3D",Es="Conv3DBackpropFilterV2",to="Conv3DBackpropInputV2",Gr="Cos",rs="Cosh",gs="Cumprod",Bo="Cumsum",Ur="CropAndResize",Go="DenseBincount",wo="DepthToSpace",Ko="DepthwiseConv2dNative",rl="DepthwiseConv2dNativeBackpropFilter",$a="DepthwiseConv2dNativeBackpropInput",qa="Diag",Jo="Dilation2D",co="Dilation2DBackpropInput",Ba="Dilation2DBackpropFilter",Gl="Draw",aa="RealDiv",ra="Einsum",xa="Elu",Kl="EluGrad",Ea="Erf",Va="Equal",Xr="Exp",Rr="ExpandDims",uo="Expm1",Vl="Fill",ga="FlipLeftRight",Ue="Floor",Wt="FloorDiv",In="FusedBatchNorm",fi="GatherV2",Nr="GatherNd",dr="Greater",Wr="GreaterEqual",hs="Identity",Vs="IFFT",Ms="Imag",ho="IsFinite",Ar="IsInf",$r="IsNan",oo="LeakyRelu",vs="Less",sa="LessEqual",ea="LinSpace",la="Log",Ki="Log1p",Xo="LogicalAnd",So="LogicalNot",Ca="LogicalOr",ta="LRN",Ya="LRNGrad",sl="Max",Ua="Maximum",Da="MaxPool",Sl="MaxPoolGrad",Xl="MaxPool3D",Do="MaxPool3DGrad",pl="MaxPoolWithArgmax",Za="Mean",Ps="Min",Dl="Minimum",qo="MirrorPad",ml="Mod",gl="Multinomial",ol="Multiply",ql="Neg",qr="NotEqual",ao="NonMaxSuppressionV3",Yo="NonMaxSuppressionV4",_l="NonMaxSuppressionV5",po="OnesLike",Gt="OneHot",ne="Pack",fe="PadV2",te="Pow",K="Prelu",We="Prod",pt="RaggedGather",Fn="RaggedRange",ei="RaggedTensorToTensor",Vi="Range",vi="Real",ws="Reciprocal",xs="Relu",Yr="Reshape",mr="ResizeNearestNeighbor",Po="ResizeNearestNeighborGrad",Li="ResizeBilinear",Xs="ResizeBilinearGrad",ro="Relu6",Fo="Reverse",za="Round",al="Rsqrt",I="ScatterNd",Ct="TensorScatterUpdate",Xt="SearchSorted",_n="Select",ln="Selu",Hn="Slice",yn="Sin",Zn="Sinh",pi="Sign",ai="Sigmoid",Ai="Softplus",_i="Sqrt",er="Sum",Er="SpaceToBatchND",Ts="SplitV",zs="Softmax",To="SparseFillEmptyRows",Cs="SparseReshape",qs="SparseSegmentMean",Ec="SparseSegmentSum",Ta="SparseToDense",Ga="SquaredDifference",Io="Square",Tl="StaticRegexReplace",yl="StridedSlice",Ss="StringNGrams",bo="StringSplit",gd="StringToHashBucketFast",Fu="Sub",Yl="Tan",Ja="Tanh",Ia="Tile",Ul="TopK",Ds="Transform",sc="Transpose",Iu="Unique",ca="Unpack",fo="UnsortedSegmentSum",Mc="ZerosLike",Rc="Step",oc="FromPixels",ge="RotateWithOffset",Tt="_FusedMatMul",Be="FusedConv2D",gt="FusedDepthwiseConv2D";
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function un(...n){we().getBool("IS_TEST")||we().getBool("PROD")||console.warn(...n)}function li(...n){we().getBool("IS_TEST")||we().getBool("PROD")||console.log(...n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Si=Ze("kernelRegistry",()=>new Map),pr=Ze("gradRegistry",()=>new Map);function xo(n,t){const e=hc(n,t);return Si.get(e)}function Fs(n){return pr.get(n)}function Ls(n){const t=Si.entries(),e=[];for(;;){const{done:i,value:r}=t.next();if(i)break;const[a,c]=r,[u]=a.split("_");u===n&&e.push(c)}return e}function ji(n){const{kernelName:t,backendName:e}=n,i=hc(t,e);Si.has(i)&&un(`The kernel '${t}' for backend '${e}' is already registered`),Si.set(i,n)}function Qo(n){const{kernelName:t}=n;pr.has(t)&&we().getBool("DEBUG")&&un(`Overriding the gradient for '${t}'`),pr.set(t,n)}function hc(n,t){return`${t}_${n}`}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zc(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}var ya=_(9990);
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Il=_.n(ya)()||ya;function ka(n){return Il.fromString(n,!0,16)}const Br=ka("c3a5c85c97cb3127"),ua=ka("b492b66fbe98f273"),Aa=ka("9ae16a3b2f90404f");function Ql(n){return n.xor(n.shru(47))}function ll(n,t,e){const i=n.slice(t,t+e);return Il.fromBytes(Array.from(i),!0,!0)}function ko(n,t){return ll(n,t,8)}function ku(n,t){return ll(n,t,4)}function Ao(n,t){return 0===t?n:n.shru(t).or(n.shl(64-t))}function jc(n,t,e=ka("9ddfea08eb382d69")){let i=n.xor(t).mul(e);i=i.xor(i.shru(47));let r=t.xor(i).mul(e);return r=r.xor(r.shru(47)),r=r.mul(e),r}function Ma(n,t,e,i){return function Lu(n,t,e,i,r,a){r=r.add(n),a=Ao(a.add(r).add(i),21);const c=r;return r=(r=r.add(t)).add(e),a=a.add(Ao(r,44)),[r.add(i),a.add(c)]}(ko(n,t),ko(n,t+8),ko(n,t+16),ko(n,t+24),e,i)}function Wc(n,t=n.length){const e=Il.fromNumber(81,!0);if(t<=32)return t<=16?function Eh(n,t=n.length){if(t>=8){const e=Aa.add(2*t),i=ko(n,0).add(Aa),r=ko(n,t-8);return jc(Ao(r,37).mul(e).add(i),Ao(i,25).add(r).mul(e),e)}if(t>=4){const e=Aa.add(2*t);return jc(ku(n,0).shl(3).add(t),ku(n,t-4),e)}if(t>0){const c=t+(n[t-1]<<2);return Ql(Aa.mul(n[0]+(n[t>>1]<<8)).xor(Br.mul(c))).mul(Aa)}return Aa}(n,t):function ac(n,t=n.length){const e=Aa.add(2*t),i=ko(n,0).mul(ua),r=ko(n,8),a=ko(n,t-8).mul(e),c=ko(n,t-16).mul(Aa);return jc(Ao(i.add(r),43).add(Ao(a,30)).add(c),i.add(Ao(r.add(Aa),18)).add(a),e)}(n,t);if(t<=64)return function el(n,t=n.length){const e=Aa.add(2*t),i=ko(n,0).mul(Aa),r=ko(n,8),a=ko(n,t-8).mul(e),c=ko(n,t-16).mul(Aa),u=Ao(i.add(r),43).add(Ao(a,30)).add(c),f=jc(u,i.add(Ao(r.add(Aa),18)).add(a),e),p=ko(n,16).mul(e),g=ko(n,24),y=u.add(ko(n,t-32)).mul(e),x=f.add(ko(n,t-24)).mul(e);return jc(Ao(p.add(g),43).add(Ao(y,30)).add(x),p.add(Ao(g.add(i),18)).add(y),e)}(n,t);let i=e,r=e.mul(ua).add(113),a=Ql(r.mul(Aa).add(113)).mul(Aa),c=[Il.UZERO,Il.UZERO],u=[Il.UZERO,Il.UZERO];i=i.mul(Aa).add(ko(n,0));let f=0;const p=64*(t-1>>6),g=p+(t-1&63)-63;do{i=Ao(i.add(r).add(c[0]).add(ko(n,f+8)),37).mul(ua),r=Ao(r.add(c[1]).add(ko(n,f+48)),42).mul(ua),i=i.xor(u[1]),r=r.add(c[0]).add(ko(n,f+40)),a=Ao(a.add(u[0]),33).mul(ua),c=Ma(n,f,c[1].mul(ua),i.add(u[0])),u=Ma(n,f+32,a.add(u[1]),r.add(ko(n,f+16))),[a,i]=[i,a],f+=64}while(f!==p);const y=ua.add(a.and(255).shl(1));return f=g,u[0]=u[0].add(t-1&63),c[0]=c[0].add(u[0]),u[0]=u[0].add(c[0]),i=Ao(i.add(r).add(c[0]).add(ko(n,f+8)),37).mul(y),r=Ao(r.add(c[1]).add(ko(n,f+48)),42).mul(y),i=i.xor(u[1].mul(9)),r=r.add(c[0].mul(9).add(ko(n,f+40))),a=Ao(a.add(u[0]),33).mul(y),c=Ma(n,f,c[1].mul(y),i.add(u[0])),u=Ma(n,f+32,a.add(u[1]),r.add(ko(n,f+16))),[a,i]=[i,a],jc(jc(c[0],u[0],y).add(Ql(r).mul(Br)).add(a),jc(c[1],u[1],y).add(i),y)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function iu(n,t){return"string"===t?pu(n):Eo([n],t)}function Eo(n,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=fc(n)),we().getBool("DEBUG")&&function tt(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(isNaN(i)||!isFinite(i))throw Error(`A tensor of type ${t} being uploaded contains ${i}.`)}}(n,t),function Ch(n,t){return n instanceof Float32Array&&"float32"===t||n instanceof Int32Array&&"int32"===t||n instanceof Uint8Array&&"bool"===t}(n,t))return n;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t){const e=new Uint8Array(n.length);for(let i=0;i<e.length;++i)0!==Math.round(n[i])&&(e[i]=1);return e}throw new Error(`Unknown data type ${t}`)}function Is(){return we().platform.now()}function pu(n,t="utf-8"){return t=t||"utf-8",we().platform.encode(n,t)}function Hc(n,t="utf-8"){return t=t||"utf-8",we().platform.decode(n,t)}function da(n){return null!=we().platform.isTypedArray?we().platform.isTypedArray(n):zc(n)}function fc(n,t=[],e=!1){if(null==t&&(t=[]),"boolean"==typeof n||"number"==typeof n||"string"==typeof n||qt(n)||null==n||da(n)&&e)t.push(n);else if(Array.isArray(n)||da(n))for(let i=0;i<n.length;++i)fc(n[i],t,e);else{let i=-1;for(const r of Object.keys(n))/^([1-9]+[0-9]*|0)$/.test(r)&&(i=Math.max(i,Number(r)));for(let r=0;r<=i;r++)fc(n[r],t,e)}return t}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class lc{constructor(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new Md)}profileKernel(t,e,i){let r;const a=()=>{r=i()};let c;const u=Is();if(this.backendTimer.timerAvailable())c=this.backendTimer.time(a);else{a();for(const p of r)p.dataSync();c=Promise.resolve({kernelMs:Is()-u})}if(we().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let p=0;p<r.length;p++){const g=r[p];g.data().then(y=>{$u(y,g.dtype,t)})}return{kernelName:t,outputs:r,inputs:e,timeMs:c.then(p=>p.kernelMs),extraInfo:c.then(p=>null!=p.getExtraProfileInfo?p.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:e,outputs:i,timeMs:r,inputs:a,extraInfo:c}=t;i.forEach(u=>{Promise.all([u.data(),r,c]).then(f=>{this.logger.logKernelProfile(e,u,f[0],f[1],a,f[2])})})}}function $u(n,t,e){if("float32"!==t)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${e}'`),!0}return!1}class Md{logKernelProfile(t,e,i,r,a,c){const u="number"==typeof r?yt(`${r}ms`,9):r.error,f=yt(t,25),p=e.rank,g=e.size,y=yt(e.shape.toString(),14);let x="";for(const P in a){const j=a[P];if(null!=j){const J=j.shape||e.shape,G=J.length;x+=`${P}: ${G}D ${G>0?J:""} `}}console.log(`%c${f}\t%c${u}\t%c${p}D ${y}\t%c${g}\t%c${x}\t%c${c}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const pc=20,cl=3,_d=7;function Zu(n,t,e,i){const r=Bt(t),a=function Dh(n,t,e,i){const r=Ot(t),a=i[i.length-1],c=new Array(a).fill(0),u=t.length,f="complex64"===e?tl(n):n;if(u>1)for(let p=0;p<r/a;p++){const g=p*a;for(let y=0;y<a;y++)c[y]=Math.max(c[y],Ra(f[g+y],0,e).length)}return c}(n,t,e,r),c=t.length,u=Rd(n,t,e,r,a),f=["Tensor"];return i&&(f.push(`  dtype: ${e}`),f.push(`  rank: ${c}`),f.push(`  shape: [${t}]`),f.push("  values:")),f.push(u.map(p=>"    "+p).join("\n")),f.join("\n")}function Ra(n,t,e){let i;return i=Array.isArray(n)?`${parseFloat(n[0].toFixed(_d))} + ${parseFloat(n[1].toFixed(_d))}j`:ci(n)?`'${n}'`:"bool"===e?kl(n):parseFloat(n.toFixed(_d)).toString(),yt(i,t)}function kl(n){return 0===n?"false":"true"}function Rd(n,t,e,i,r,a=!0){const c="complex64"===e?2:1,u=t[0],f=t.length;if(0===f)return"complex64"===e?[Ra(tl(n)[0],0,e)]:"bool"===e?[kl(n[0])]:[n[0].toString()];if(1===f){if(u>pc){let he=Array.from(n.slice(0,cl*c)),xe=Array.from(n.slice((u-cl)*c,u*c));return"complex64"===e&&(he=tl(he),xe=tl(xe)),["["+he.map((et,it)=>Ra(et,r[it],e)).join(", ")+", ..., "+xe.map((et,it)=>Ra(et,r[u-cl+it],e)).join(", ")+"]"]}return["["+("complex64"===e?tl(n):Array.from(n)).map((G,he)=>Ra(G,r[he],e)).join(", ")+"]"]}const p=t.slice(1),g=i.slice(1),y=i[0]*c,x=[];if(u>pc){for(let J=0;J<cl;J++){const G=J*y;x.push(...Rd(n.slice(G,G+y),p,e,g,r,!1))}x.push("...");for(let J=u-cl;J<u;J++){const G=J*y;x.push(...Rd(n.slice(G,G+y),p,e,g,r,J===u-1))}}else for(let J=0;J<u;J++){const G=J*y;x.push(...Rd(n.slice(G,G+y),p,e,g,r,J===u-1))}const P=2===f?",":"";x[0]="["+(u>0?x[0]+P:"");for(let J=1;J<x.length-1;J++)x[J]=" "+x[J]+P;let j=",\n";for(let J=2;J<f;J++)j+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(a?"":j),x}function tl(n){const t=[];for(let e=0;e<n.length;e+=2)t.push([n[e],n[e+1]]);return t}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nl{constructor(t,e,i){if(this.dtype=e,this.shape=t.slice(),this.size=Ot(t),null!=i){const r=i.length;Me(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||de(e,this.size),this.strides=Bt(t)}set(t,...e){0===e.length&&(e=[0]),Me(e.length===this.rank,()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`);const i=this.locToIndex(e);this.values[i]=t}get(...t){0===t.length&&(t=[0]);let e=0;for(const r of t){if(r<0||r>=this.shape[e])throw new Error(`Requested out of range element at ${t}.   Buffer shape=${this.shape}`);e++}let i=t[t.length-1];for(let r=0;r<t.length-1;++r)i+=this.strides[r]*t[r];return this.values[i]}locToIndex(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];let e=t[t.length-1];for(let i=0;i<t.length-1;++i)e+=this.strides[i]*t[i];return e}indexToLoc(t){if(0===this.rank)return[];if(1===this.rank)return[t];const e=new Array(this.shape.length);for(let i=0;i<e.length-1;++i)e[i]=Math.floor(t/this.strides[i]),t-=e[i]*this.strides[i];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return Cc().makeTensor(this.values,this.shape,this.dtype)}}let Cc=null,Bu=null,mu=null;class Y{constructor(t,e,i,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=Ot(t),this.strides=Bt(t),this.dataId=i,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){var t=this;return(0,oe.A)(function*(){const e=yield t.data();return Bu.buffer(t.shape,t.dtype,e)})()}bufferSync(){return Bu.buffer(this.shape,this.dtype,this.dataSync())}array(){var t=this;return(0,oe.A)(function*(){const e=yield t.data();return Xn(t.shape,e,"complex64"===t.dtype)})()}arraySync(){return Xn(this.shape,this.dataSync(),"complex64"===this.dtype)}data(){var t=this;return(0,oe.A)(function*(){t.throwIfDisposed();const e=Cc().read(t.dataId);if("string"===t.dtype){const i=yield e;try{return i.map(r=>Hc(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})()}dataToGPU(t){return this.throwIfDisposed(),Cc().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=Cc().readSync(this.dataId);if("string"===this.dtype)try{return t.map(e=>Hc(e))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}bytes(){var t=this;return(0,oe.A)(function*(){t.throwIfDisposed();const e=yield Cc().read(t.dataId);return"string"===t.dtype?e:new Uint8Array(e.buffer)})()}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Cc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return Bu.print(this,t)}clone(){return this.throwIfDisposed(),Bu.clone(this)}toString(t=!1){return Zu(this.dataSync(),this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),Bu.cast(this,t)}variable(t=!0,e,i){return this.throwIfDisposed(),Cc().makeVariable(this,t,e,i)}}function le(){return Ze("Tensor",()=>Y)}Object.defineProperty(Y,Symbol.hasInstance,{value:n=>!!n&&null!=n.data&&null!=n.dataSync&&null!=n.throwIfDisposed}),le();class ie extends Y{constructor(t,e,i,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=i}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Ae(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);Cc().disposeTensor(this),this.dataId=t.dataId,Cc().incRef(this,null)}dispose(){Cc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(ie,Symbol.hasInstance,{value:n=>n instanceof Y&&null!=n.assign&&n.assign instanceof Function});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
var lt=function(n){return n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64",n}(lt||{}),Ut=function(n){return n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64",n}(Ut||{}),gn=function(n){return n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64",n}(gn||{}),hi=function(n){return n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64",n}(hi||{});const Qn={float32:gn,int32:lt,bool:Ut,complex64:hi};function Yi(n,t){if("string"===n||"string"===t){if("string"===n&&"string"===t)return"string";throw new Error(`Can not upcast ${n} with ${t}`)}return Qn[n][t]}function ir(n){return Yi(n,"int32")}function zr(n){return null!=n&&"object"==typeof n&&"texture"in n&&n.texture instanceof WebGLTexture}function js(n){return typeof GPUBuffer<"u"&&null!=n&&"object"==typeof n&&"buffer"in n&&n.buffer instanceof GPUBuffer}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function so(n,t){if(n.dtype===t.dtype)return[n,t];const e=Yi(n.dtype,t.dtype);return[n.cast(e),t.cast(e)]}function ul(n){const t=[];return gu(n,t,new Set),t}function gu(n,t,e){if(null==n)return;if(n instanceof Y)return void t.push(n);if(!function Th(n){return Array.isArray(n)||"object"==typeof n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n))return;const i=n;for(const r in i){const a=i[r];e.has(a)||(e.add(a),gu(a,t,e))}}function Vu(n){return null!=n.kernelName}class Nd{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}let ef=(()=>{class n{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Nd}ready(){var e=this;return(0,oe.A)(function*(){if(null!=e.pendingBackendInit)return e.pendingBackendInit.then(()=>{});if(null!=e.backendInstance)return;const i=e.getSortedBackends();for(let r=0;r<i.length;r++){const a=i[r];if(yield e.initializeBackend(a).success)return void(yield e.setBackend(a))}throw new Error("Could not initialize any backends, all backend initializations failed.")})()}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:i}=this.initializeBackendsAndReturnBest();if(i)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:i}=this.initializeBackend(e);if(i)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,i,r=1){return e in this.registryFactory?(un(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:i,priority:r},!0)}setBackend(e){var i=this;return(0,oe.A)(function*(){if(null==i.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(i.backendName=e,null==i.registry[e]){i.backendInstance=null;const{success:r,asyncInit:a}=i.initializeBackend(e);if(!(a?yield r:r))return!1}return i.backendInstance=i.registry[e],i.setupRegisteredKernels(),i.profiler=new lc(i.backendInstance),!0})()}setupRegisteredKernels(){Ls(this.backendName).forEach(i=>{null!=i.setupFunc&&i.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Ls(e).forEach(r=>{null!=r.disposeFunc&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const i=this.registryFactory[e];if(null==i)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=i.factory();if(!r||r instanceof St||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{const a=++this.pendingBackendInitId,c=r.then(u=>!(a<this.pendingBackendInitId||(this.registry[e]=u,this.pendingBackendInit=null,0))).catch(u=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,un(`Initialization of backend ${e} failed`),un(u.stack||u.message)),!1));return this.pendingBackendInit=c,{success:c,asyncInit:!0}}}catch(r){return un(`Initialization of backend ${e} failed`),un(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,i)=>this.registryFactory[i].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let i=0;i<e.length;i++){const r=e[i],{success:a,asyncInit:c}=this.initializeBackend(r);if(c||a)return{name:r,asyncInit:c}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,i){const r=this.state.tensorInfo.get(i),a=r.backend,c=this.readSync(i),u=a.refCount(i);a.disposeData(i,!0),r.backend=e,e.move(i,c,r.shape,r.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,i){let a,r=null;if(null==i){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");i=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof i)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=i(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,i,r){e();try{const a=r();return i(),a}catch(a){throw i(),a}}nextTensorId(){return n.nextTensorId++}nextVariableId(){return n.nextVariableId++}clone(e){const i=Mn.runKernel(hs,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[i],u=>({x:()=>Mn.runKernel(Ke,{x:u},{dtype:"float32"})}),[],{}),i}runKernel(e,i,r){if(null==xo(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:i,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,i,r){const a=this.backend.numDataIds();let c=0;r.forEach(p=>{c+="complex64"===p.dtype?3:1});const f=a-i-c-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(f>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${f} data ids) after running '${e}'`)}runKernelFunc(e){let i,r=[];const a=this.isTapeOn(),c=this.state.numBytes,u=this.state.numTensors;let f,p;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const g=Vu(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Vu(e)){const{kernelName:J,inputs:G,attrs:he}=e,xe=xo(J,this.backendName);Me(null!=xe,()=>`Cannot find registered kernel '${J}' for backend '${this.backendName}'`),f=()=>{const et=this.backend.numDataIds();p=xe.kernelFunc({inputs:G,attrs:he,backend:this.backend});const it=Array.isArray(p)?p:[p];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(J,et,it);const Dt=it.map(Yt=>null!=Yt.rank?Yt:this.makeTensorFromTensorInfo(Yt));if(a){const Yt=this.getTensorsForGradient(J,G,Dt);r=this.saveTensorsForBackwardMode(Yt)}return Dt}}else{const{forwardFunc:J}=e,G=he=>{a&&(r=he.map(xe=>this.keep(this.clone(xe))))};f=()=>{const he=this.backend.numDataIds();p=this.tidy(()=>J(this.backend,G));const xe=Array.isArray(p)?p:[p];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,he,xe),xe}}const{inputs:y,attrs:x}=e,P=Vu(e)?null:e.backwardsFunc;let j;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(j=this.profiler.profileKernel(g,y,()=>f()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(j),i=j.outputs):i=f()}),a&&this.addTapeNode(g,y,i,P,r,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:g,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map(J=>null!=y[J]?y[J].shape:null),outputShapes:i.map(J=>J.shape),kernelTimeMs:j.timeMs,extraInfo:j.extraInfo}),Array.isArray(p)?i:i[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,i,r){const a=Fs(e);if(null!=a){const c=a.inputsToSave||[],u=a.outputsToSave||[];let f;a.saveAllInputs?(Me(Array.isArray(i),()=>"saveAllInputs is true, expected inputs to be an array."),f=Object.keys(i).map(g=>i[g])):f=c.map(g=>i[g]);const p=r.filter((g,y)=>u[y]);return f.concat(p)}return[]}makeTensor(e,i,r,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");a=a||this.backend;let c=e;"string"===(r=r||"float32")&&ci(e[0])&&(c=e.map(p=>pu(p)));const u=a.write(c,i,r),f=new Y(i,r,u,this.nextTensorId());if(this.trackTensor(f,a),"string"===r){const p=this.state.tensorInfo.get(u),g=function fn(n){if(null==n)return 0;let t=0;return n.forEach(e=>t+=e.length),t}(c);this.state.numBytes+=g-p.bytes,p.bytes=g}return f}makeTensorFromDataId(e,i,r,a){return this.makeTensorFromTensorInfo({dataId:e,shape:i,dtype:r=r||"float32"},a)}makeTensorFromTensorInfo(e,i){const{dataId:r,shape:a,dtype:c}=e,u=new Y(a,c,r,this.nextTensorId());return this.trackTensor(u,i),u}makeVariable(e,i=!0,r,a){r=r||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const c=new ie(e,i,r,this.nextTensorId());if(null!=this.state.registeredVariables[c.name])throw new Error(`Variable with name ${c.name} was already registered`);return this.state.registeredVariables[c.name]=c,this.incRef(c,this.backend),c}trackTensor(e,i){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*rn(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:i||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof ie||this.track(e)}incRef(e,i){this.trackTensor(e,i),this.backend.incRef(e.dataId)}removeDataId(e,i){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===i&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const i=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=i.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const r=e.size*rn(e.dtype);this.state.numBytes-=r}i.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,i.backend)}disposeVariables(){for(const e in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[e])}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){var i=this;return(0,oe.A)(function*(){i.state.profiling=!0;const r=i.state.numBytes,a=i.state.numTensors;i.state.activeProfile.kernels=[],i.state.activeProfile.result=yield e(),i.state.profiling=!1,i.state.activeProfile.peakBytes=Math.max(...i.state.activeProfile.kernels.map(c=>c.totalBytesSnapshot)),i.state.activeProfile.newBytes=i.state.numBytes-r,i.state.activeProfile.newTensors=i.state.numTensors-a;for(const c of i.state.activeProfile.kernels)c.kernelTimeMs=yield c.kernelTimeMs,c.extraInfo=yield c.extraInfo;return i.state.activeProfile})()}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,i,r,a,c,u){const f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:i,outputs:r,saved:c},p=Fs(e);null!=p&&(a=p.gradFunc),null!=a&&(f.gradient=g=>(g=g.map((y,x)=>{if(null==y){const P=r[x],j=ui(P.size,P.dtype);return this.makeTensor(j,P.shape,P.dtype)}return y}),a(g.length>1?g:g[0],c,u))),this.state.activeTape.push(f)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const i={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(i.name=e),this.state.scopeStack.push(i),this.state.activeScope=i}endScope(e){const i=ul(e),r=new Set(i.map(c=>c.id));for(let c=0;c<this.state.activeScope.track.length;c++){const u=this.state.activeScope.track[c];!u.kept&&!r.has(u.id)&&u.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],i.forEach(c=>{!c.kept&&c.scopeId===a.id&&this.track(c)})}gradients(e,i,r,a=!1){if(Me(i.length>0,()=>"gradients() received an empty list of xs."),null!=r&&"float32"!==r.dtype)throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const c=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Me(c instanceof Y,()=>"The result y returned by f() must be a tensor.");const u=function Gc(n,t,e){const i={},r={};for(let f=0;f<t.length;f++)i[t[f].id]=!0;for(let f=0;f<n.length;f++){const p=n[f],g=p.inputs;for(const y in g){const x=g[y];let P=!1;for(let j=0;j<t.length;j++)if(i[x.id]){p.outputs.forEach(J=>i[J.id]=!0),P=!0,r[p.id]=!0;break}if(P)break}}const a={};a[e.id]=!0;const c={};for(let f=n.length-1;f>=0;f--){const p=n[f],g=p.inputs;for(let y=0;y<p.outputs.length;y++)if(a[p.outputs[y].id]){for(const x in g)a[g[x].id]=!0,c[p.id]=!0;break}}const u=[];for(let f=0;f<n.length;f++){const p=n[f];if(r[p.id]&&c[p.id]){const g={};for(const x in p.inputs){const P=p.inputs[x];i[P.id]&&(g[x]=P)}const y=Object.assign({},p);y.inputs=g,y.outputs=p.outputs,u.push(y)}}return u}(this.state.activeTape,i,c);if(!a&&0===u.length&&i.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const f={};f[c.id]=r??function tf(n){const t=Vn(Ot(n),"float32");return Mn.makeTensor(t,n,"float32")}(c.shape),function Sh(n,t,e,i){for(let r=t.length-1;r>=0;r--){const a=t[r],c=[];if(a.outputs.forEach(f=>{const p=n[f.id];c.push(null!=p?p:null)}),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const u=a.gradient(c);for(const f in a.inputs){if(!(f in u))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(u)}.`);const p=e(()=>u[f]());if("float32"!==p.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${p.dtype}'`);const g=a.inputs[f];if(!Ae(p.shape,g.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${f}' has shape '${p.shape}', which does not match the shape of the input '${g.shape}'`);if(null==n[g.id])n[g.id]=p;else{const y=n[g.id];n[g.id]=i(y,p),y.dispose()}}}}(f,u,g=>this.tidy(g),Ep);const p=i.map(g=>f[g.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(g=>{for(const y of g.saved)y.dispose()}),this.state.activeTape=null),{value:c,grads:p}})}customGrad(e){return Me(wt(e),()=>"The f passed in customGrad(f) must be a function."),(...i)=>{let r;Me(i.every(f=>f instanceof Y),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const a={};return i.forEach((f,p)=>{a[p]=f}),this.runKernelFunc({forwardFunc:(f,p)=>(r=e(...i,p),Me(r.value instanceof Y,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Me(wt(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),backwardsFunc:(f,p)=>{const g=r.gradFunc(f,p),y=Array.isArray(g)?g:[g];Me(y.length===i.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Me(y.every(P=>P instanceof Y),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const x={};return y.forEach((P,j)=>{x[j]=()=>P}),x},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,i){return this.state.tensorInfo.get(e).backend.readToGPU(e,i)}time(e){var i=this;return(0,oe.A)(function*(){const r=Is(),a=yield i.backend.time(e);return a.wallMs=Is()-r,a})()}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Nd;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return n.nextTensorId=0,n.nextVariableId=0,n})();function nf(){const n=be();if(null==n._tfengine){const t=new Kt(n);n._tfengine=new ef(t)}return function U(n){Ne=n}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n._tfengine.ENV),function Au(n){Cc=n}(()=>n._tfengine),n._tfengine}const Mn=nf();function Ep(n,t){return Mn.runKernel(Jn,{a:n,b:t})}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $f(n){if(n||function rf(){return typeof navigator<"u"&&null!=navigator}()){if(n||(n=navigator),"ReactNative"===n.product)return!0;const t=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");return t?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)):n.userAgentData&&n.userAgentData.mobile}return!1}function Bf(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Al=we();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ju(n,t){let e=n;if(da(n))return"string"===t?[]:[n.length];if(zr(n))return[n.height,n.width*(n.channels||"RGBA").length];if(js(n))return[n.buffer.size/(null==t?4:rn(t))];if(!Array.isArray(n))return[];const i=[];for(;Array.isArray(e)||da(e)&&"string"!==t;)i.push(e.length),e=e[0];return Array.isArray(n)&&we().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Ih(n,i,[]),i}function Ih(n,t,e){if(e=e||[],!Array.isArray(n)&&!da(n))return void Me(0===t.length,()=>`Element arr[${e.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);Me(t.length>0,()=>`Element arr[${e.join("][")}] should be a primitive, but is an array of ${n.length} elements`),Me(n.length===t[0],()=>`Element arr[${e.join("][")}] should have ${t[0]} elements, but has ${n.length} elements`);const i=t.slice(1);for(let r=0;r<n.length;++r)Ih(n[r],i,e.concat(r))}function pe(n,t,e,i){if("string_or_numeric"!==n){if(null==n)throw new Error("Expected dtype cannot be null.");if("numeric"!==n&&n!==t||"numeric"===n&&"string"===t)throw new Error(`Argument '${e}' passed to '${i}' must be ${n} tensor, but got ${t} tensor`)}}function k(n,t,e,i="numeric"){if(n instanceof le())return pe(i,n.dtype,t,e),n;let r=cn(n);if("string"!==r&&["bool","int32","float32"].indexOf(i)>=0&&(r=i),pe(i,r,t,e),null==n||!da(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error(`Argument '${t}' passed to '${e}' must be a Tensor or TensorLike, but got '${null==n?"null":n.constructor.name}'`);const a=Ju(n,r);!da(n)&&!Array.isArray(n)&&(n=[n]);const u="string"!==r?Eo(n,r):fc(n,[],!0);return Mn.makeTensor(u,a,r)}function Fe(n,t,e,i="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${t} passed to ${e} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((a,c)=>k(a,`${t}[${c}]`,e,i))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */Al.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Al.registerFlag("IS_BROWSER",()=>Bf()),Al.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Al.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Al.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Al.registerFlag("PROD",()=>!1),Al.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Al.getBool("DEBUG")),Al.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Al.registerFlag("IS_TEST",()=>!1),Al.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Al.getBool("DEBUG")),Al.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Al.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Al.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);const _t="__op";function $e(n){const t=Object.keys(n);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let e=t[0];const i=n[e];e.endsWith("_")&&(e=e.substring(0,e.length-1)),e+=_t;const r=(...a)=>{Mn.startScope(e);try{const c=i(...a);return qt(c)&&console.error("Cannot return a Promise inside of tidy."),Mn.endScope(c),c}catch(c){throw Mn.endScope(null),c}};return Object.defineProperty(r,"name",{value:e,configurable:!0}),r
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const xn=$e({complex_:function en(n,t){const e=k(n,"real","complex"),i=k(t,"imag","complex");return kn(e.shape,i.shape,`real and imag shapes, ${e.shape} and ${i.shape}, must match in call to tf.complex().`),Mn.runKernel(Vt,{real:e,imag:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zn(n,t,e,i){if(null==i)i=cn(n);else if("complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(js(n)||zr(n)){if("float32"!==i&&"int32"!==i)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${i}.`);return Mn.backend.createTensorFromGPUData(n,t||e,i)}if(!da(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){oi(t);const r=Ot(t),a=Ot(e);Me(r===a,()=>`Based on the provided shape, [${t}], the tensor should have ${r} values but has ${a}`);for(let c=0;c<e.length;++c){const f=c!==e.length-1||e[c]!==Ot(t.slice(c));Me(e[c]===t[c]||!f,()=>`Error creating a new Tensor. Inferred shape (${e}) does not match the provided shape (${t}). `)}}return!da(n)&&!Array.isArray(n)&&(n=[n]),t=t||e,n="string"!==i?Eo(n,i):fc(n,[],!0),Mn.makeTensor(n,t,i)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function gi(n,t,e){return zn(n,t,Ju(n,e),e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const bi={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ki{static join(t){return new ki(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,null==t||(t instanceof Array||(t=[t]),0===(t=t.map(i=>da(i)?i.buffer:i)).length))return;this.bufferUniformSize=t[0].byteLength;let e=0;for(let i=0;i<t.length;i++){const r=t[i];i!==t.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=e+r.byteLength;this.shards.push({buffer:r,start:e,end:a}),e=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,e=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,e=isNaN(Number(e))?0:e,t=Math.max(0,t),(e=Math.min(this.byteLength,e))<=t)return new ArrayBuffer(0);const i=this.findShardForByte(t);if(-1===i)throw new Error(`Could not find start shard for byte ${t}`);const a=new ArrayBuffer(e-t),c=new Uint8Array(a);let u=0;for(let f=i;f<this.shards.length;f++){const p=this.shards[f],y=t+u-p.start,x=u,j=Math.min(e,p.end)-p.start,J=new Uint8Array(p.buffer,y,j-y);if(c.set(J,x),u+=J.length,e<p.end)break}return a}findShardForByte(t){if(0===this.shards.length||t<0||t>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function e(r){return t<r.start?-1:t>=r.end?1:0}if(0===e(this.shards[this.previousShardIndex]))return this.previousShardIndex;const i=function Xi(n,t){let e=0,i=n.length;for(;e<=i;){const r=Math.floor((i-e)/2)+e,a=t(n[r]);if(0===a)return r;a<0?i=r:e=r+1}return-1}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.shards,e);return-1===i?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function vl(){return Mn}function Zl(){return Mn.memory()}function Gn(n,t){return Mn.tidy(n,t)}function Sr(n){ul(n).forEach(e=>e.dispose())}function cs(n){return Mn.keep(n)}function D(n){return Mn.setBackend(n)}function Cn(n,t,e=1){return Mn.registerBackend(n,t,e)}function Yn(){return Mn.backend}!function eh(n){mu=n}(function Mo(n){we().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const ti=4;function Ln(n,t){return ni.apply(this,arguments)}function ni(){return ni=(0,oe.A)(function*(n,t){const e=[],i=[],r=Array.isArray(n)?n.map(c=>c.name):Object.keys(n);for(let c=0;c<r.length;++c){const u=r[c],f=Array.isArray(n)?n[c].tensor:n[u];if("float32"!==f.dtype&&"int32"!==f.dtype&&"bool"!==f.dtype&&"string"!==f.dtype&&"complex64"!==f.dtype)throw new Error(`Unsupported dtype in weight '${u}': ${f.dtype}`);const p={name:u,shape:f.shape,dtype:f.dtype};if("string"===f.dtype){const g=new Promise(function(){var y=(0,oe.A)(function*(x){const P=yield f.bytes(),j=P.reduce((he,xe)=>he+xe.length,0)+ti*P.length,J=new Uint8Array(j);let G=0;for(let he=0;he<P.length;he++){const xe=P[he],et=new Uint8Array(new Uint32Array([xe.length]).buffer);J.set(et,G),G+=ti,J.set(xe,G),G+=xe.length}x(J)});return function(x){return y.apply(this,arguments)}}());i.push(g)}else i.push(f.data());null!=t&&(p.group=t),e.push(p)}return{data:ba(yield Promise.all(i)),specs:e}}),ni.apply(this,arguments)}function wi(n,t){const e=new ki(n),i={};let r=0;for(const a of t){const c=sr(a,(u,f)=>e.slice(r+u,r+f));i[a.name]=As(a,e.slice(r,r+c)),r+=c}return i}function sr(n,t){const e=Ot(n.shape);let i;if("quantization"in n)i=bi[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=ti+new Uint32Array(t(r,r+ti))[0];return r}i=bi[n.dtype]}return e*i}function nr(n,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,oe.A)(function*(n,t){const e=Ot(n.shape);let i;if("quantization"in n)i=bi[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=ti+new Uint32Array(yield t(r,r+ti))[0];return r}i=bi[n.dtype]}return e*i})).apply(this,arguments)}function As(n,t){const e=n.name,i=n.dtype,r=n.shape,a=Ot(r);let c,u=0;if("quantization"in n){const f=n.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error(`Weight ${n.name} with quantization ${f.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==f.dtype)throw new Error(`Weight ${n.name} has unknown quantization dtype ${f.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${n.name} is quantized with ${f.dtype} which only supports weights of type float32 not ${i}.`)}const p=bi[f.dtype],g="uint8"===f.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===i)if("uint8"===f.dtype||"uint16"===f.dtype){c=new Float32Array(g.length);for(let y=0;y<g.length;y++)c[y]=g[y]*f.scale+f.min}else{if("float16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type float32.`);c=function kh(){const n=function Na(){const n=e=>{let i=e<<13,r=0;for(;!(8388608&i);)r-=8388608,i<<=1;return i&=-8388609,r+=947912704,i|r},t=new Uint32Array(2048);t[0]=0;for(let e=1;e<1024;e++)t[e]=n(e);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function Kc(){const n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(let t=1;t<31;t++)n[t]=t<<23;for(let t=33;t<63;t++)n[t]=2147483648+(t-32<<23);return n}(),e=function gc(){const n=new Uint32Array(64);for(let t=0;t<64;t++)n[t]=1024;return n[0]=n[32]=0,n}();return i=>{const r=new ArrayBuffer(4*i.length),a=new Uint32Array(r);for(let c=0;c<i.length;c++){const u=i[c];a[c]=n[e[u>>10]+(1023&u)]+t[u>>10]}return new Float32Array(r)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */()(g)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${e}': ${i}`);if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type int32.`);c=new Int32Array(g.length);for(let y=0;y<g.length;y++)c[y]=Math.round(g[y]*f.scale+f.min)}u+=a*p}else if("string"===i){const f=Ot(n.shape);c=[];for(let p=0;p<f;p++){const g=new Uint32Array(t.slice(u,u+ti))[0];u+=ti;const y=new Uint8Array(t.slice(u,u+g));c.push(y),u+=g}}else{const f=bi[i];if("float32"===i)c=new Float32Array(t);else if("int32"===i)c=new Int32Array(t);else{if("bool"!==i){if("complex64"===i){c=new Float32Array(t);const p=new Float32Array(c.length/2),g=new Float32Array(c.length/2);for(let j=0;j<p.length;j++)p[j]=c[2*j],g[j]=c[2*j+1];const y=gi(p,r,"float32"),x=gi(g,r,"float32"),P=xn(y,x);return y.dispose(),x.dispose(),P}throw new Error(`Unsupported dtype in weight '${e}': ${i}`)}c=new Uint8Array(t)}u+=a*f}return gi(c,r,i)}function hr(n,t,e){return us.apply(this,arguments)}function us(){return(us=(0,oe.A)(function*(n,t,e){let i=new Uint8Array(t);for(;i.byteLength<e;){const{done:r,value:a}=yield n.read();if(r&&null==a)throw new Error(`Reader is done but ${e-i.byteLength} bytes are still expected`);const c=new Uint8Array(i.length+a.byteLength);c.set(i,0),c.set(new Uint8Array(a),i.length),i=c}return i.buffer})).apply(this,arguments)}function Co(n,t){return wr.apply(this,arguments)}function wr(){return wr=(0,oe.A)(function*(n,t){const e={},i=n.getReader();let r=new ArrayBuffer(0);for(const a of t){const c=yield nr(a,function(){var p=(0,oe.A)(function*(g,y){return r=yield hr(i,r,y),r.slice(g,y)});return function(g,y){return p.apply(this,arguments)}}());r=yield hr(i,r,c);const u=r.slice(0,c);r=r.slice(c);const f=As(a,u);if(e[a.name]=f,"webgpu"===Mn.backendName){const p=Yn();"uploadToGPU"in p&&Ot(f.shape)>=we().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&p.uploadToGPU(f.dataId)}}return e}),wr.apply(this,arguments)}function ba(n){if(null===n)throw new Error(`Invalid input value: ${JSON.stringify(n)}`);let t=0;const e=[];n.forEach(a=>{if(t+=a.byteLength,e.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});const i=new Uint8Array(t);let r=0;return e.forEach(a=>{i.set(new Uint8Array(a.buffer),r),r+=a.byteLength}),i.buffer}const $s=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function Zr(n){return $s?Buffer.byteLength(n,"utf8"):new Blob([n]).size}function ss(n){return ki.join(n)}function Rs(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);const e=n.split("/");return e[e.length-1]}function Lo(n,t){const e={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:t};return null!=n.signature&&(e.signature=n.signature),null!=n.userDefinedMetadata&&(e.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(e.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(e.initializerSignature=n.initializerSignature),null!=n.trainingConfig&&(e.trainingConfig=n.trainingConfig),e}function Ml(n,t,e){const i={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(null!=n.trainingConfig&&(i.trainingConfig=n.trainingConfig),null!=n.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!e)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=t,i.weightData=e}return null!=n.signature&&(i.signature=n.signature),null!=n.userDefinedMetadata&&(i.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(i.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(i.initializerSignature=n.initializerSignature),i}function va(n,t){return mc.apply(this,arguments)}function mc(){return(mc=(0,oe.A)(function*(n,t){let e,i;return null!=n.weightsManifest&&([e,i]=yield t(n.weightsManifest)),Ml(n,e,i)})).apply(this,arguments)}function Ws(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==n.modelTopology?0:Zr(JSON.stringify(n.modelTopology)),weightSpecsBytes:null==n.weightSpecs?0:Zr(JSON.stringify(n.weightSpecs)),weightDataBytes:null==n.weightData?0:new ki(n.weightData).byteLength}}function Or(n){const t=[];for(const e of n)t.push(...e.weights);return t}class wa{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==wa.instance&&(wa.instance=new wa),wa.instance}static registerSaveRouter(t){wa.getInstance().saveRouters.push(t)}static registerLoadRouter(t){wa.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return wa.getHandlers(t,"save")}static getLoadHandlers(t,e){return wa.getHandlers(t,"load",e)}static getHandlers(t,e,i){const r=[];return("load"===e?wa.getInstance().loadRouters:wa.getInstance().saveRouters).forEach(c=>{const u=c(t,i);null!==u&&r.push(u)}),r}}const wl=n=>wa.registerSaveRouter(n),yd=n=>wa.registerLoadRouter(n),Rl=n=>wa.getSaveHandlers(n),_c=(n,t)=>wa.getLoadHandlers(n,t)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,ed="tensorflowjs",yu="models_store",Nl="model_info_store";function sf(){if(!we().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const n=typeof window>"u"?self:window,t=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function bu(n){const t=n.result;t.createObjectStore(yu,{keyPath:"modelPath"}),t.createObjectStore(Nl,{keyPath:"modelPath"})}let vu=(()=>{class n{constructor(e){if(this.indexedDB=sf(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){var i=this;return(0,oe.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return i.databaseAction(i.modelPath,e)})()}load(){var e=this;return(0,oe.A)(function*(){return e.databaseAction(e.modelPath)})()}databaseAction(e,i){return new Promise((r,a)=>{const c=this.indexedDB.open(ed,1);c.onupgradeneeded=()=>bu(c),c.onsuccess=()=>{const u=c.result;if(null==i){const f=u.transaction(yu,"readonly"),g=f.objectStore(yu).get(this.modelPath);g.onsuccess=()=>{if(null==g.result)return u.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(g.result.modelArtifacts)},g.onerror=y=>(u.close(),a(g.error)),f.oncomplete=()=>u.close()}else{i.weightData=ki.join(i.weightData);const f=Ws(i),p=u.transaction(Nl,"readwrite");let y,x,g=p.objectStore(Nl);try{y=g.put({modelPath:this.modelPath,modelArtifactsInfo:f})}catch(P){return a(P)}y.onsuccess=()=>{x=u.transaction(yu,"readwrite");const P=x.objectStore(yu);let j;try{j=P.put({modelPath:this.modelPath,modelArtifacts:i,modelArtifactsInfo:f})}catch(J){return a(J)}j.onsuccess=()=>r({modelArtifactsInfo:f}),j.onerror=J=>{g=p.objectStore(Nl);const G=g.delete(this.modelPath);G.onsuccess=()=>(u.close(),a(j.error)),G.onerror=he=>(u.close(),a(j.error))}},y.onerror=P=>(u.close(),a(y.error)),p.oncomplete=()=>{null==x?u.close():x.oncomplete=()=>u.close()}}},c.onerror=u=>a(c.error)})}}return n.URL_SCHEME="indexeddb://",n})();const Mh=n=>we().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(vu.URL_SCHEME)?function Uu(n){return new vu(n)}(n.slice(vu.URL_SCHEME.length)):null;wa.registerSaveRouter(Mh),wa.registerLoadRouter(Mh);class Vf{constructor(){this.indexedDB=sf()}listModels(){var t=this;return(0,oe.A)(function*(){return new Promise((e,i)=>{const r=t.indexedDB.open(ed,1);r.onupgradeneeded=()=>bu(r),r.onsuccess=()=>{const a=r.result,c=a.transaction(Nl,"readonly"),f=c.objectStore(Nl).getAll();f.onsuccess=()=>{const p={};for(const g of f.result)p[g.modelPath]=g.modelArtifactsInfo;e(p)},f.onerror=p=>(a.close(),i(f.error)),c.oncomplete=()=>a.close()},r.onerror=a=>i(r.error)})})()}removeModel(t){var e=this;return(0,oe.A)(function*(){return t=function Ol(n){return n.startsWith(vu.URL_SCHEME)?n.slice(vu.URL_SCHEME.length):n}(t),new Promise((i,r)=>{const a=e.indexedDB.open(ed,1);a.onupgradeneeded=()=>bu(a),a.onsuccess=()=>{const c=a.result,u=c.transaction(Nl,"readwrite"),f=u.objectStore(Nl),p=f.get(t);let g;p.onsuccess=()=>{if(null==p.result)return c.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const y=f.delete(t),x=()=>{g=c.transaction(yu,"readwrite");const j=g.objectStore(yu).delete(t);j.onsuccess=()=>i(p.result.modelArtifactsInfo),j.onerror=J=>r(p.error)};y.onsuccess=x,y.onerror=P=>(x(),c.close(),r(p.error))}},p.onerror=y=>(c.close(),r(p.error)),u.oncomplete=()=>{null==g?c.close():g.oncomplete=()=>c.close()}},a.onerror=c=>r(a.error)})})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const ps="/",Pl="tensorflowjs_models",Ys="info",Ka="model_topology",vo="weight_specs",Ld="weight_data",Mm="model_metadata";function Cp(n){return{info:[Pl,n,Ys].join(ps),topology:[Pl,n,Ka].join(ps),weightSpecs:[Pl,n,vo].join(ps),weightData:[Pl,n,Ld].join(ps),modelMetadata:[Pl,n,Mm].join(ps)}}function th(n){for(const t of Object.values(n))window.localStorage.removeItem(t)}function Rh(n){const t=n.split(ps);if(t.length<3)throw new Error(`Invalid key format: ${n}`);return t.slice(1,t.length-1).join(ps)}let $d=(()=>{class n{constructor(e){if(!we().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Cp(this.modelPath)}save(e){var i=this;return(0,oe.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const r=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),c=Ws(e),u=ki.join(e.weightData);try{return i.LS.setItem(i.keys.info,JSON.stringify(c)),i.LS.setItem(i.keys.topology,r),i.LS.setItem(i.keys.weightSpecs,a),i.LS.setItem(i.keys.weightData,function fs(n){if($s)return Buffer.from(n).toString("base64");const t=new Uint8Array(n);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(u)),i.LS.setItem(i.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0})),{modelArtifactsInfo:c}}catch{throw th(i.keys),new Error(`Failed to save model '${i.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${c.modelTopologyBytes}, weightSpecsBytes=${c.weightSpecsBytes}, weightDataBytes=${c.weightDataBytes}.`)}}})()}load(){var e=this;return(0,oe.A)(function*(){const i=JSON.parse(e.LS.getItem(e.keys.info));if(null==i)throw new Error(`In local storage, there is no model with name '${e.modelPath}'`);if("JSON"!==i.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const r={},a=JSON.parse(e.LS.getItem(e.keys.topology));if(null==a)throw new Error(`In local storage, the topology of model '${e.modelPath}' is missing.`);r.modelTopology=a;const c=JSON.parse(e.LS.getItem(e.keys.weightSpecs));if(null==c)throw new Error(`In local storage, the weight specs of model '${e.modelPath}' are missing.`);r.weightSpecs=c;const u=e.LS.getItem(e.keys.modelMetadata);if(null!=u){const p=JSON.parse(u);r.format=p.format,r.generatedBy=p.generatedBy,r.convertedBy=p.convertedBy,null!=p.signature&&(r.signature=p.signature),null!=p.userDefinedMetadata&&(r.userDefinedMetadata=p.userDefinedMetadata),null!=p.modelInitializer&&(r.modelInitializer=p.modelInitializer),null!=p.initializerSignature&&(r.initializerSignature=p.initializerSignature),null!=p.trainingConfig&&(r.trainingConfig=p.trainingConfig)}const f=e.LS.getItem(e.keys.weightData);if(null==f)throw new Error(`In local storage, the binary weight values of model '${e.modelPath}' are missing.`);return r.weightData=function ja(n){if($s){const i=Buffer.from(n,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const t=atob(n),e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e.set([t.charCodeAt(i)],i);return e.buffer}(f),r})()}}return n.URL_SCHEME="localstorage://",n})();const Og=n=>we().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith($d.URL_SCHEME)?function nx(n){return new $d(n)}(n.slice($d.URL_SCHEME.length)):null;wa.registerSaveRouter(Og),wa.registerLoadRouter(Og);class Pg{constructor(){Me(we().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Me(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){var t=this;return(0,oe.A)(function*(){const e={},i=Pl+ps,r=ps+Ys;for(let a=0;a<t.LS.length;++a){const c=t.LS.key(a);c.startsWith(i)&&c.endsWith(r)&&(e[Rh(c)]=JSON.parse(t.LS.getItem(c)))}return e})()}removeModel(t){var e=this;return(0,oe.A)(function*(){const i=Cp(t=function Sp(n){return n.startsWith($d.URL_SCHEME)?n.slice($d.URL_SCHEME.length):n}(t));if(null==e.LS.getItem(i.info))throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(e.LS.getItem(i.info));return th(i),r})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Nh="://";class Oc{constructor(){this.managers={}}static getInstance(){return null==Oc.instance&&(Oc.instance=new Oc),Oc.instance}static registerManager(t,e){Me(null!=t,()=>"scheme must not be undefined or null."),t.endsWith(Nh)&&(t=t.slice(0,t.indexOf(Nh))),Me(t.length>0,()=>"scheme must not be an empty string.");const i=Oc.getInstance();Me(null==i.managers[t],()=>`A model store manager is already registered for scheme '${t}'.`),i.managers[t]=e}static getManager(t){const e=Oc.getInstance().managers[t];if(null==e)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(Oc.getInstance().managers)}}function zf(n){if(-1===n.indexOf(Nh))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Oc.getSchemes().join(",")}`);return{scheme:n.split(Nh)[0],path:n.split(Nh)[1]}}function Wa(n,t){return af.apply(this,arguments)}function af(){return(af=(0,oe.A)(function*(n,t,e=!1){Me(n!==t,()=>`Old path and new path are the same: '${n}'`);const i=wa.getLoadHandlers(n);Me(i.length>0,()=>`Copying failed because no load handler is found for source URL ${n}.`),Me(i.length<2,()=>`Copying failed because more than one (${i.length}) load handlers for source URL ${n}.`);const r=i[0],a=wa.getSaveHandlers(t);Me(a.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),Me(a.length<2,()=>`Copying failed because more than one (${i.length}) save handlers for destination URL ${t}.`);const c=a[0],u=zf(n).scheme,f=zf(n).path,p=u===zf(n).scheme,g=yield r.load();e&&p&&(yield Oc.getManager(u).removeModel(f));const y=yield c.save(g);return e&&!p&&(yield Oc.getManager(u).removeModel(f)),y.modelArtifactsInfo})).apply(this,arguments)}function Fg(){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,oe.A)(function*(){const n=Oc.getSchemes(),t={};for(const e of n){const i=yield Oc.getManager(e).listModels();for(const r in i)t[e+Nh+r]=i[r]}return t})).apply(this,arguments)}function Lg(n){return $g.apply(this,arguments)}function $g(){return($g=(0,oe.A)(function*(n){const t=zf(n);return Oc.getManager(t.scheme).removeModel(t.path)})).apply(this,arguments)}function Oh(n,t){return nh.apply(this,arguments)}function nh(){return(nh=(0,oe.A)(function*(n,t){return Wa(n,t,!1)})).apply(this,arguments)}function td(n,t){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,oe.A)(function*(n,t){return Wa(n,t,!0)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Bg{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Browser's encoder only supports utf-8, but got ${e}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}setTimeoutCustom(t,e){typeof window>"u"||!we().getBool("USE_SETTIMEOUTCUSTOM")?setTimeout(t,e):(this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},e),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{i.source===window&&i.data.name===this.messageName&&(i.stopPropagation(),(0,this.functionRefs[i.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))},!0)))}isTypedArray(t){return zc(t)}}if(we().get("IS_BROWSER")){we().setPlatform("browser",new Bg);try{Oc.registerManager($d.URL_SCHEME,new Pg)}catch{}try{Oc.registerManager(vu.URL_SCHEME,new Vf)}catch{}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let Mu;
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Us(n,t="float32",e){return t=t||"float32",oi(n),new nl(n,t,e)
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}we().get("IS_NODE")&&!we().get("IS_BROWSER")&&we().setPlatform("node",new class jf{constructor(){this.util=_(8590),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return null!=we().global.fetch?we().global.fetch(t,e):(null==Mu&&(Mu=_(5817)),Mu(t,e))}now(){const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Node built-in encoder only supports utf-8, but got ${e}`);return this.textEncoder.encode(t)}decode(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}});const yr=$e({cast_:function Ru(n,t){const e=k(n,"x","cast");if(!function _e(n){return"bool"===n||"complex64"===n||"float32"===n||"int32"===n||"string"===n}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==e.dtype||"string"!==t&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");return Mn.runKernel(Ke,{x:e},{dtype:t})}}),bd=$e({clone_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kp(n){const e={x:k(n,"x","clone","string_or_numeric")};return Mn.runKernel(hs,e)}});
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fl(n,t=!1){console.log(n.toString(t))}
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */nf(),function Mr(n){Bu=n}({buffer:Us,cast:yr,clone:bd,print:Fl});const Wi=$e({add_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vg(n,t){let e=k(n,"a","add"),i=k(t,"b","add");return[e,i]=so(e,i),Mn.runKernel(Jn,{a:e,b:i})}}),Wf=$e({floorDiv_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lf(n,t){let e=k(n,"a","floorDiv"),i=k(t,"b","floorDiv");return[e,i]=so(e,i),Mn.runKernel(Wt,{a:e,b:i})}}),R=$e({div_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ap(n,t){let e=k(n,"a","div"),i=k(t,"b","div");return[e,i]=so(e,i),"int32"===e.dtype&&"int32"===i.dtype?Wf(e,i):Mn.runKernel(aa,{a:e,b:i},{})}}),ae=$e({mul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V(n,t){let e=k(n,"a","mul"),i=k(t,"b","mul");return[e,i]=so(e,i),Mn.runKernel(ol,{a:e,b:i})}}),tn=$e({sqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ht(n){const e={x:k(n,"x","sqrt","float32")};return Mn.runKernel(_i,e)}}),qn=$e({square_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sn(n){const t=k(n,"x","square");return Mn.runKernel("Square",{x:t},{})}}),Ji=$e({zerosLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gi(n){const e={x:k(n,"x","zerosLike")};return Mn.runKernel(Mc,e)}});function dl(n){return Mn.customGrad(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Kr(n,t){if((da(n)&&"string"!==t||Array.isArray(n))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&da(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return zn(n,[],[],t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Ph=new Map,Ii=new Map;class lo{getClassName(){return this.constructor.className}static fromConfig(t,e){return new t(e)}}class zu{constructor(){this.classNameMap={}}static getMap(){return null==zu.instance&&(zu.instance=new zu),zu.instance}static register(t){zu.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function qi(n,t,e){Me(null!=n.className,()=>"Class being registered does not have the static className property defined."),Me("string"==typeof n.className,()=>"className is required to be a string, but got type "+typeof n.className),Me(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof e>"u"&&(e=n.className);const r=t+">"+e;return zu.register(n),Ph.set(r,n),Ii.set(n,r),n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Fh extends lo{minimize(t,e=!1,i){const{value:r,grads:a}=this.computeGradients(t,i);if(null!=i){const c=i.map(u=>({name:u.name,tensor:a[u.name]}));this.applyGradients(c)}else this.applyGradients(a);return Sr(a),e?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,e){return function ha(n,t){Me(wt(n),()=>"The f passed in variableGrads(f) must be a function"),Me(null==t||Array.isArray(t)&&t.every(p=>p instanceof ie),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const e=null!=t;if(!e){t=[];for(const p in Mn.registeredVariables)t.push(Mn.registeredVariables[p])}const i=e?t.filter(p=>!p.trainable):null,r=t.length;Me((t=t.filter(p=>p.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const{value:c,grads:u}=Mn.gradients(n,t,null,!0);Me(u.some(p=>null!=p),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Me(0===c.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`);const f={};return t.forEach((p,g)=>{null!=u[g]&&(f[p.name]=u[g])}),i?.forEach(p=>f[p.name]=null),{value:c,grads:f}}(t,e)}dispose(){null!=this.iterations_&&Sr(this.iterations_)}saveIterations(){var t=this;return(0,oe.A)(function*(){return null==t.iterations_&&(t.iterations_=0),{name:"iter",tensor:Kr(t.iterations_,"int32")}})()}getWeights(){return(0,oe.A)(function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})()}setWeights(t){var e=this;return(0,oe.A)(function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${e.getClassName()}`)})()}extractIterations(t){var e=this;return(0,oe.A)(function*(){return e.iterations_=(yield t[0].tensor.data())[0],t.slice(1)})()}}Object.defineProperty(Fh,Symbol.hasInstance,{value:n=>null!=n.minimize&&null!=n.computeGradients&&null!=n.applyGradients});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Hf extends Fh{static get className(){return"Adadelta"}constructor(t,e,i=null){super(),this.learningRate=t,this.rho=e,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==i&&(this.epsilon=Mn.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Mn.registeredVariables[i],c=!1;null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accum_grad`,variable:Gn(()=>Ji(a).variable(c))}),null==this.accumulatedUpdates[r]&&(this.accumulatedUpdates[r]={originalName:`${i}/accum_var`,variable:Gn(()=>Ji(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedGrads[r].variable,p=this.accumulatedUpdates[r].variable;Gn(()=>{const g=Wi(ae(f,this.rho),ae(qn(u),1-this.rho)),y=ae(R(tn(Wi(p,this.epsilon)),tn(Wi(f,this.epsilon))),u),x=Wi(ae(p,this.rho),ae(qn(y),1-this.rho));f.assign(g),p.assign(x);const P=Wi(ae(y,-this.learningRate),a);a.assign(P)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Sr(this.accumulatedGrads.map(t=>t.variable)),Sr(this.accumulatedUpdates.map(t=>t.variable)))}getWeights(){var t=this;return(0,oe.A)(function*(){const e=[...t.accumulatedGrads,...t.accumulatedUpdates];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,oe.A)(function*(){const i=(t=yield e.extractIterations(t)).length/2,r=!1;e.accumulatedGrads=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedUpdates=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.rho,e.epsilon)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function wu(n,t,e){return oi(n),e=e||cn(t),Mn.runKernel(Vl,{},{shape:n,value:t,dtype:e})}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Ug extends Fh{static get className(){return"Adagrad"}constructor(t,e=.1){super(),this.learningRate=t,this.initialAccumulatorValue=e,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Mn.registeredVariables[i];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accumulator`,variable:Gn(()=>wu(a.shape,this.initialAccumulatorValue).variable(!1))});const c=Array.isArray(t)?t[r].tensor:t[i];if(null==c)return;const u=this.accumulatedGrads[r].variable;Gn(()=>{const f=Wi(u,qn(c));u.assign(f);const p=Wi(ae(R(c,tn(Wi(f,Mn.backend.epsilon()))),-this.learningRate),a);a.assign(p)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Sr(this.accumulatedGrads.map(t=>t.variable))}getWeights(){var t=this;return(0,oe.A)(function*(){return[yield t.saveIterations()].concat(t.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,oe.A)(function*(){t=yield e.extractIterations(t),e.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,e){return new t(e.learningRate,e.initialAccumulatorValue)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const ih=$e({pow_:function zg(n,t){let e=k(n,"base","pow"),i=k(t,"exp","pow");return[e,i]=so(e,i),Mn.runKernel(te,{a:e,b:i})}}),Vr=$e({sub_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zS(n,t){let e=k(n,"a","sub"),i=k(t,"b","sub");return[e,i]=so(e,i),Mn.runKernel(Fu,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class nv extends Fh{static get className(){return"Adam"}constructor(t,e,i,r=null){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Gn(()=>{this.accBeta1=Kr(e).variable(),this.accBeta2=Kr(i).variable()}),null==r&&(this.epsilon=Mn.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);Gn(()=>{const i=Vr(1,this.accBeta1),r=Vr(1,this.accBeta2);e.forEach((a,c)=>{const u=Mn.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:Gn(()=>Ji(u).variable(f))}),null==this.accumulatedSecondMoment[c]&&(this.accumulatedSecondMoment[c]={originalName:`${a}/v`,variable:Gn(()=>Ji(u).variable(f))});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,y=this.accumulatedSecondMoment[c].variable,x=Wi(ae(g,this.beta1),ae(p,1-this.beta1)),P=Wi(ae(y,this.beta2),ae(qn(p),1-this.beta2)),j=R(x,i),J=R(P,r);g.assign(x),y.assign(P);const G=Wi(ae(R(j,Wi(tn(J),this.epsilon)),-this.learningRate),u);u.assign(G)}),this.accBeta1.assign(ae(this.accBeta1,this.beta1)),this.accBeta2.assign(ae(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Sr(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedSecondMoment&&Sr(this.accumulatedSecondMoment.map(t=>t.variable))}getWeights(){var t=this;return(0,oe.A)(function*(){const e=[...t.accumulatedFirstMoment,...t.accumulatedSecondMoment];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,oe.A)(function*(){t=yield e.extractIterations(t),Gn(()=>{e.accBeta1.assign(ih(e.beta1,e.iterations_+1)),e.accBeta2.assign(ih(e.beta2,e.iterations_+1))});const i=t.length/2,r=!1;e.accumulatedFirstMoment=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedSecondMoment=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Pa=$e({abs_:function rh(n){const t=k(n,"x","abs");return Mn.runKernel("complex64"===t.dtype?mi:Mt,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jl(n,t){const e=n.length,i=[];for(let r=0;r<e;r++){const a=e-1-r;(t[t.length-1-r]||1)>1&&1===(n[a]||1)&&i.unshift(a)}return i}function hl(n,t){const e=[];for(let i=0;i<t.length;i++){const r=n[n.length-i-1],a=t.length-i-1;(null==r||1===r&&t[a]>1)&&e.unshift(a)}return e}function Bs(n,t){const e=Math.max(n.length,t.length),i=new Array(e);for(let r=0;r<e;r++){let a=n[n.length-r-1];null==a&&(a=1);let c=t[t.length-r-1];if(null==c&&(c=1),1===a)i[e-r-1]=c;else if(1===c)i[e-r-1]=a;else{if(a!==c)throw Error(`Operands could not be broadcast together with shapes ${n} and ${t}.`);i[e-r-1]=a}}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Xa=$e({maximum_:function vd(n,t){let e=k(n,"a","maximum"),i=k(t,"b","maximum");return[e,i]=so(e,i),"bool"===e.dtype&&(e=yr(e,"int32"),i=yr(i,"int32")),Bs(e.shape,i.shape),Mn.runKernel(Ua,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nd extends Fh{static get className(){return"Adamax"}constructor(t,e,i,r=null,a=0){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Gn(()=>{this.iteration=Kr(0).variable(),this.accBeta1=Kr(e).variable()}),null==r&&(this.epsilon=Mn.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);Gn(()=>{const i=Vr(1,this.accBeta1),r=R(-this.learningRate,Wi(ae(this.iteration,this.decay),1));e.forEach((a,c)=>{const u=Mn.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:Ji(u).variable(f)}),null==this.accumulatedWeightedInfNorm[c]&&(this.accumulatedWeightedInfNorm[c]={originalName:`${a}/v`,variable:Ji(u).variable(f)});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,y=this.accumulatedWeightedInfNorm[c].variable,x=Wi(ae(g,this.beta1),ae(p,1-this.beta1)),P=ae(y,this.beta2),j=Pa(p),J=Xa(P,j);g.assign(x),y.assign(J);const G=Wi(ae(R(r,i),R(x,Wi(J,this.epsilon))),u);u.assign(G)}),this.iteration.assign(Wi(this.iteration,1)),this.accBeta1.assign(ae(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Sr(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedWeightedInfNorm&&Sr(this.accumulatedWeightedInfNorm.map(t=>t.variable))}getWeights(){return(0,oe.A)(function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})()}setWeights(t){return(0,oe.A)(function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Rm extends Fh{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Array.isArray(t)?t[r].tensor:t[i];if(null==a)return;const c=Mn.registeredVariables[i];Gn(()=>{const u=Wi(ae(this.c,a),c);c.assign(u)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=cs(Kr(-t))}dispose(){this.c.dispose()}getWeights(){var t=this;return(0,oe.A)(function*(){return[yield t.saveIterations()]})()}setWeights(t){var e=this;return(0,oe.A)(function*(){if(0!==(t=yield e.extractIterations(t)).length)throw new Error("SGD optimizer does not have settable weights.")})()}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,e){return new t(e.learningRate)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class id extends Rm{static get className(){return"Momentum"}constructor(t,e,i=!1){super(t),this.learningRate=t,this.momentum=e,this.useNesterov=i,this.accumulations=[],this.m=Kr(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Mn.registeredVariables[i];null==this.accumulations[r]&&(this.accumulations[r]={originalName:`${i}/momentum`,variable:Gn(()=>Ji(a).variable(!1))});const c=this.accumulations[r].variable,u=Array.isArray(t)?t[r].tensor:t[i];null!=u&&Gn(()=>{let f;const p=Wi(ae(this.m,c),u);f=Wi(ae(this.c,this.useNesterov?Wi(u,ae(p,this.m)):p),a),c.assign(p),a.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Sr(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}getWeights(){var t=this;return(0,oe.A)(function*(){return[yield t.saveIterations()].concat(t.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,oe.A)(function*(){t=yield e.extractIterations(t),e.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class ix extends Fh{static get className(){return"RMSProp"}constructor(t,e=.9,i=0,r=null,a=!1){if(super(),this.learningRate=t,this.decay=e,this.momentum=i,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=Mn.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Mn.registeredVariables[i],c=!1;null==this.accumulatedMeanSquares[r]&&(this.accumulatedMeanSquares[r]={originalName:`${i}/rms`,variable:Gn(()=>Ji(a).variable(c))}),null==this.accumulatedMoments[r]&&(this.accumulatedMoments[r]={originalName:`${i}/momentum`,variable:Gn(()=>Ji(a).variable(c))}),null==this.accumulatedMeanGrads[r]&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${i}/mg`,variable:Gn(()=>Ji(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedMeanSquares[r].variable,p=this.accumulatedMoments[r].variable;Gn(()=>{const g=Wi(ae(f,this.decay),ae(qn(u),1-this.decay));if(this.centered){const y=this.accumulatedMeanGrads[r].variable,x=Wi(ae(y,this.decay),ae(u,1-this.decay)),P=R(ae(u,this.learningRate),tn(Vr(g,Wi(qn(x),this.epsilon)))),j=Wi(ae(p,this.momentum),P);f.assign(g),y.assign(x),p.assign(j);const J=Vr(a,j);a.assign(J)}else{const y=Wi(ae(f,this.decay),ae(qn(u),1-this.decay)),x=Wi(ae(p,this.momentum),R(ae(u,this.learningRate),tn(Wi(y,this.epsilon))));f.assign(y),p.assign(x);const P=Vr(a,x);a.assign(P)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Sr(this.accumulatedMeanSquares.map(t=>t.variable)),null!=this.accumulatedMeanGrads&&this.centered&&Sr(this.accumulatedMeanGrads.map(t=>t.variable)),null!=this.accumulatedMoments&&Sr(this.accumulatedMoments.map(t=>t.variable))}getWeights(){var t=this;return(0,oe.A)(function*(){const e=[...t.accumulatedMeanSquares,...t.accumulatedMoments];return t.centered&&e.push(...t.accumulatedMeanGrads),[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,oe.A)(function*(){t=yield e.extractIterations(t);const i=e.centered?t.length/3:t.length/2,r=!1;e.accumulatedMeanSquares=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedMoments=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.centered&&(e.accumulatedMeanGrads=t.slice(2*i,3*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))})()}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)}}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Mp=[Hf,Ug,nv,nd,id,ix,Rm];function Nm(n){return new Promise(t=>setTimeout(t)).then(n)}let Np=(()=>{class n{constructor(e){if(!we().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n.URL_SCHEME)&&(e=e.slice(n.URL_SCHEME.length)),(null==e||0===e.length)&&(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}save(e){var i=this;return(0,oe.A)(function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const r=ki.join(e.weightData),a=window.URL.createObjectURL(new Blob([r],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const u=Lo(e,[{paths:["./"+i.weightDataFileName],weights:e.weightSpecs}]),f=window.URL.createObjectURL(new Blob([JSON.stringify(u)],{type:"application/json"})),p=null==i.modelJsonAnchor?document.createElement("a"):i.modelJsonAnchor;if(p.download=i.modelJsonFileName,p.href=f,yield Nm(()=>p.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const g=null==i.weightDataAnchor?document.createElement("a"):i.weightDataAnchor;g.download=i.weightDataFileName,g.href=a,yield Nm(()=>g.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Ws(e)}}})()}}return n.URL_SCHEME="downloads://",n})();class jg{constructor(t){if(null==t||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}load(){var t=this;return(0,oe.A)(function*(){return new Promise((e,i)=>{const r=new FileReader;r.onload=a=>{const c=JSON.parse(a.target.result),u=c.modelTopology;if(null==u)return void i(new Error(`modelTopology field is missing from file ${t.jsonFile.name}`));if(null==c.weightsManifest)return void i(new Error(`weightManifest field is missing from file ${t.jsonFile.name}`));if(0===t.weightsFiles.length)return void e({modelTopology:u});const p=va(c,g=>t.loadWeights(g));e(p)},r.onerror=a=>i(`Failed to read model topology and weights manifest JSON from file '${t.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(t.jsonFile)})})()}loadWeights(t){const e=[],i=[];for(const c of t)e.push(...c.weights),i.push(...c.paths);const r=this.checkManifestAndWeightFiles(t),a=i.map(c=>this.loadWeightsFile(c,r[c]));return Promise.all(a).then(c=>[e,c])}loadWeightsFile(t,e){return new Promise((i,r)=>{const a=new FileReader;a.onload=c=>{i(c.target.result)},a.onerror=c=>r(`Failed to weights data from file of path '${t}'.`),a.readAsArrayBuffer(e)})}checkManifestAndWeightFiles(t){const e=[],i=this.weightsFiles.map(a=>Rs(a.name)),r={};for(const a of t)a.paths.forEach(c=>{const u=Rs(c);if(-1!==e.indexOf(u))throw new Error(`Duplicate file basename found in weights manifest: '${u}'`);if(e.push(u),-1===i.indexOf(u))throw new Error(`Weight file with basename '${u}' is not provided.`);r[c]=this.weightsFiles[i.indexOf(u)]});if(e.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${e.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function rx(n){return new jg(n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function sy(n,t,e,i){(function c(f){Me(null!=f&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")})(n),function u(f,p){Me(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),Me(p>=0&&p<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${p}`),Me(p>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${p}`)}(e=e??0,i=i??1);let r=0;return Promise.all(n.map(f=>(f.then(p=>{const g=e+ ++r/n.length*(i-e);return t(g),p}),f)))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function os(n,t){return yc.apply(this,arguments)}function yc(){return(yc=(0,oe.A)(function*(n,t){null==t&&(t={});const e=null==t.fetchFunc?we().platform.fetch:t.fetchFunc,i=n.map(y=>e(y,t.requestInit,{isBinary:!0})),u=(null==t.onProgress?yield Promise.all(i):yield sy(i,t.onProgress,0,.5)).map(y=>y.arrayBuffer());return null==t.onProgress?yield Promise.all(u):yield sy(u,t.onProgress,.5,1)})).apply(this,arguments)}function xl(n){return Op.apply(this,arguments)}function Op(){return(Op=(0,oe.A)(function*(n,t="",e,i){return rv(c=>os(c,{requestInit:i}))(n,t,e)})).apply(this,arguments)}function rv(n){return function(){var t=(0,oe.A)(function*(e,i="",r){const a=e.map(()=>!1),c={},u=null!=r?r.map(()=>!1):[],f=[];if(e.forEach((j,J)=>{let G=0;j.weights.forEach(he=>{const et=bi["quantization"in he?he.quantization.dtype:he.dtype]*Ot(he.shape),it=()=>{a[J]=!0,null==c[J]&&(c[J]=[]),c[J].push({manifestEntry:he,groupOffset:G,sizeBytes:et})};null!=r?r.forEach((Dt,Yt)=>{Dt===he.name&&(it(),u[Yt]=!0)}):it(),f.push(he.name),G+=et})}),!u.every(j=>j)){const j=r.filter((J,G)=>!u[G]);throw new Error(`Could not find weights in manifest with names: ${j.join(", ")}. \nManifest JSON has weights with names: ${f.join(", ")}.`)}const p=a.reduce((j,J,G)=>(J&&j.push(G),j),[]),g=[];p.forEach(j=>{e[j].paths.forEach(J=>{const G=i+(i.endsWith("/")?"":"/")+J;g.push(G)})});const y=yield n(g),x={};let P=0;return p.forEach(j=>{const J=e[j].paths.length,G=new ki(y.slice(P,P+J));c[j].forEach(xe=>{const it=wi(G.slice(xe.groupOffset,xe.groupOffset+xe.sizeBytes),[xe.manifestEntry]);for(const Dt in it)x[Dt]=it[Dt]}),P+=J}),x});return function(e){return t.apply(this,arguments)}}()}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */wa.registerSaveRouter(n=>we().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Np.URL_SCHEME)?function Wg(n="model"){return new Np(n)}(n.slice(Np.URL_SCHEME.length)):null);let uf=(()=>{class n{constructor(e,i){if(this.DEFAULT_METHOD="POST",null==i&&(i={}),this.weightPathPrefix=i.weightPathPrefix,this.weightUrlConverter=i.weightUrlConverter,null!=i.fetchFunc?(Me("function"==typeof i.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=i.fetchFunc):this.fetch=we().platform.fetch,Me(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Me(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=i.requestInit&&null!=i.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=i.requestInit||{},this.loadOptions=i}save(e){var i=this;return(0,oe.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const r=Object.assign({method:i.DEFAULT_METHOD},i.requestInit);r.body=new FormData;const c=Lo(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(r.body.append("model.json",new Blob([JSON.stringify(c)],{type:"application/json"}),"model.json"),null!=e.weightData){const f=ki.join(e.weightData);r.body.append("model.weights.bin",new Blob([f],{type:"application/octet-stream"}),"model.weights.bin")}const u=yield i.fetch(i.path,r);if(u.ok)return{modelArtifactsInfo:Ws(e),responses:[u]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${u.status}.`)})()}loadModelJSON(){var e=this;return(0,oe.A)(function*(){const i=yield e.fetch(e.path,e.requestInit);if(!i.ok)throw new Error(`Request to ${e.path} failed with status code ${i.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield i.json()}catch{let f=`Failed to parse model JSON of response from ${e.path}.`;throw e.path.endsWith(".pb")?f+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":f+=" Please make sure the server is serving valid JSON for this request.",new Error(f)}if(null==r.modelTopology&&null==r.weightsManifest)throw new Error(`The JSON from HTTP path ${e.path} contains neither model topology or manifest for weights.`);return r})()}load(){var e=this;return(0,oe.A)(function*(){return e.loadOptions.streamWeights?e.loadStream():va(yield e.loadModelJSON(),r=>e.loadWeights(r))})()}loadStream(){var e=this;return(0,oe.A)(function*(){const i=yield e.loadModelJSON(),r=yield e.getWeightUrls(i.weightsManifest),a=Or(i.weightsManifest);return Object.assign(Object.assign({},i),{weightSpecs:a,getWeightStream:()=>function rd(n,t){var e;const i=null==t.fetchFunc?we().platform.fetch:t.fetchFunc;let a,r=0;return null===(e=t.onProgress)||void 0===e||e.call(t,0),new ReadableStream({pull:(c=(0,oe.A)(function*(u){for(var f;r<n.length;){a||(a=(yield i(n[r],t.requestInit,{isBinary:!0})).body.getReader());const{done:p,value:g}=yield a.read();if(!p)return void u.enqueue(g);r++,a=void 0,null===(f=t.onProgress)||void 0===f||f.call(t,r/n.length)}u.close()}),function(f){return c.apply(this,arguments)})});var c}(r,e.loadOptions)})})()}getWeightUrls(e){var i=this;return(0,oe.A)(function*(){const r=Array.isArray(i.path)?i.path[1]:i.path,[a,c]=function Pp(n){const t=n.lastIndexOf("/"),e=n.lastIndexOf("?");return[n.substring(0,t)+"/",e>t?n.substring(e):""]}(r),u=i.weightPathPrefix||a,f=[],p=[];for(const g of e)for(const y of g.paths)null!=i.weightUrlConverter?p.push(i.weightUrlConverter(y)):f.push(u+y+c);return i.weightUrlConverter&&f.push(...yield Promise.all(p)),f})()}loadWeights(e){var i=this;return(0,oe.A)(function*(){const r=yield i.getWeightUrls(e);return[Or(e),yield os(r,i.loadOptions)]})()}}return n.URL_SCHEME_REGEX=/^https?:\/\//,n})();function Gf(n){return null!=n.match(uf.URL_SCHEME_REGEX)}const sd=(n,t)=>{if(typeof fetch>"u"&&(null==t||null==t.fetchFunc))return null;{let e=!0;if(e=Array.isArray(n)?n.every(i=>Gf(i)):Gf(n),e)return Hg(n,t)}return null};function Hg(n,t){return new uf(n,t)}function Om(n,t){return Hg(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */wa.registerSaveRouter(sd),wa.registerLoadRouter(sd);class Fp{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class Pm{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class ov{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=e=>Promise.resolve(t.save(e)))}}function Bd(n,t,e,i){return new ov(Lp(...arguments))}function Lp(n,t,e,i){return 1===arguments.length?null!=n.modelTopology||null!=n.weightSpecs?new Fp(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Fp({modelTopology:n})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Fp({modelTopology:n,weightSpecs:t,weightData:e,trainingConfig:i}))}function ox(n){return new Pm(n)}function df(n){return new Pm(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $p(n,t,e){if(nn(n),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const i=Ju(n,e);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return zn(n,t,i,e)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let Kf,oy=!1;function Bp(n,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==n)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,i=!1,r=!1,a=!1,c=!1,u=!1;if(n.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)a=!0;else if(null!=n.getContext)c=!0;else{if(!(typeof ImageBitmap<"u"&&n instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${n.constructor.name}`);u=!0}if(null!=xo(oc,Mn.backendName))return Mn.runKernel(oc,{pixels:n},{numChannels:t});const[p,g]=r?[n.videoWidth,n.videoHeight]:[n.width,n.height];let y,x;if(c)y=n.getContext("2d").getImageData(0,0,p,g).data;else if(i||e)y=n.data;else if(a||r||u){if(null==Kf)if(typeof document>"u"){if(!(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u"))throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Kf=new OffscreenCanvas(1,1).getContext("2d")}else Kf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Kf.canvas.width=p,Kf.canvas.height=g,Kf.drawImage(n,0,0,p,g),y=Kf.getImageData(0,0,p,g).data}if(4===t)x=new Int32Array(y);else{const j=p*g;x=new Int32Array(j*t);for(let J=0;J<j;J++)for(let G=0;G<t;++G)x[J*t+G]=y[4*J+G]}return $p(x,[g,p,t],"int32")}function av(n){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,oe.A)(function*(n,t=3){let e=null;if(we().getBool("WRAP_TO_IMAGEBITMAP")&&function cx(n){return function lx(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}()&&!(n instanceof ImageBitmap)&&function ay(n){return null!=n&&0!==n.width&&0!==n.height}(n)&&!function ax(n){return null!=n&&n.data instanceof Uint8Array}(n)}(n)){let i;try{i=yield createImageBitmap(n,{premultiplyAlpha:"none"})}catch{i=null}e=null!=i&&i.width===n.width&&i.height===n.height?i:n}else e=n;return Bp(e,t)})).apply(this,arguments)}function Gg(n){if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const t=2===n.rank?1:n.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`)}function jS(n,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,oe.A)(function*(n,t){let e=k(n,"img","toPixels");if(!(n instanceof Y)){const p=e;e=yr(p,"int32"),p.dispose()}Gg(e);const[i,r]=e.shape.slice(0,2),a=2===e.rank?1:e.shape[2],c=yield e.data(),u="float32"===e.dtype?255:1,f=new Uint8ClampedArray(r*i*4);for(let p=0;p<i*r;++p){const g=[0,0,0,255];for(let x=0;x<a;x++){const P=c[p*a+x];if("float32"===e.dtype){if(P<0||P>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${P}.`)}else if("int32"===e.dtype&&(P<0||P>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${P}.`);1===a?(g[0]=P*u,g[1]=P*u,g[2]=P*u):g[x]=P*u}const y=4*p;f[y+0]=Math.round(g[0]),f[y+1]=Math.round(g[1]),f[y+2]=Math.round(g[2]),f[y+3]=Math.round(g[3])}if(null!=t){oy||null!=xo(Gl,Mn.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),oy=!0),t.width=r,t.height=i;const p=t.getContext("2d"),g=new ImageData(f,r,i);p.putImageData(g,0,0)}return e!==n&&e.dispose(),f})).apply(this,arguments)}function Vp(n,t,e){let i=k(n,"img","draw");if(!(n instanceof Y)){const c=i;i=yr(c,"int32"),c.dispose()}Gg(i),function Fm(n){const t=n?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}(e?.imageOptions),Mn.runKernel(Gl,{image:i},{canvas:t,options:e})}const qf=$e({fromPixels_:Bp}),Pi=-2,ux=-1;
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Up(n,t,e){const i=n.shape.length;Me(i===t.length,()=>`Error in slice${i}D: Length of begin ${t} must match the rank of the array (${i}).`),Me(i===e.length,()=>`Error in slice${i}D: Length of size ${e} must match the rank of the array (${i}).`);for(let r=0;r<i;++r)Me(t[r]+e[r]<=n.shape[r],()=>`Error in slice${i}D: begin[${r}] + size[${r}] (${t[r]+e[r]}) would overflow input.shape[${r}] (${n.shape[r]})`)}function ly(n){const t=[];let e=0;for(;n>0;)1&n&&t.push(e),n/=2,e++;return t}function cy(n,t,e){const i=[];for(let r=0;r<n.length;r++)i[r]=Math.ceil((t[r]-n[r])/e[r]);return i}function bc(n,t,e,i){const r=[...n];for(let a=r.length;a<i.length;a++)r.push(1);for(let a=0;a<e;a++)0===a?r[t]=1:(r.splice(t,0,1),r.pop());return r}function sh(n,t,e){return e<=n?e:e-(t-1)}function zp(n,t){const e=[];for(let i=0;i<n;i++)e.push(t+i);return e}function uy(n,t,e,i,r,a,c,u,f){const p=n.length;let g=new Array(p),y=new Array(p),x=new Array(p);if(t.length&&e>0){const P=t[0],j=e+1;g=$h(c,P,j,i,n),y=jp(u,P,j,r,n),x=bc(a,P,j,n)}else for(let P=0;P<p;P++)g[P]=lv(c,i,a,n,P,f),y[P]=$m(u,r,a,n,P,f),x[P]=Lm(a,P,f);return{begin:g,end:y,strides:x}}function $h(n,t,e,i,r){const a=[...r],c=zp(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=0;else{const f=sh(t,e,u);let p=i[f];n&1<<f&&(p=0),a[u]=p}return a}function jp(n,t,e,i,r){const a=[...r],c=zp(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=Number.MAX_SAFE_INTEGER;else{const f=sh(t,e,u);let p=i[f];n&1<<f&&(p=Number.MAX_SAFE_INTEGER),a[u]=p}for(let u=0;u<a.length;u++)a[u]<0&&(a[u]+=r[u]),a[u]=ve(0,a[u],r[u]);return a}function Lm(n,t,e){let i=n[t];return(e&1<<t||null==i)&&(i=1),i}function lv(n,t,e,i,r,a){let c=t[r];(n&1<<r||a&1<<r||null==c)&&(c=(e[r]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=ve(0,c,f-1),c}function $m(n,t,e,i,r,a){let c=t[r];const u=e[r]||1;(n&1<<r||a&1<<r||null==c)&&(c=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=u>0?ve(0,c,f):ve(-1,c,f-1),c}function Kg(n,t,e){let i=e.length;for(let r=0;r<e.length;r++)if(e[r]>1){i=r;break}for(let r=i+1;r<e.length;r++)if(t[r]>0||e[r]!==n[r])return!1;return!0}function Wp(n,t){let e=n.length>0?n[n.length-1]:1;for(let i=0;i<n.length-1;i++)e+=n[i]*t[i];return e}function Bm(n,t,e){let i;const r=n.shape.length;let a;return i="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),i.forEach(c=>{Me(-1!==c,()=>"slice() does not support negative begin indexing.")}),a=null==e?new Array(r).fill(-1):"number"==typeof e?[e,...new Array(r-1).fill(-1)]:e.length<r?e.concat(new Array(r-e.length).fill(-1)):e,a=a.map((c,u)=>c>=0?c:(Me(-1===c,()=>`Negative size values should be exactly -1 but got ${c} for the slice() size at index ${u}.`),n.shape[u]-i[u])),[i,a]}function Xg(n,t,e,i,r,a,c,u,f){let p;if(null==i?(p=new Array(t.length),p.fill(1)):p=i,null!=c&&c&c-1)throw new Error("Multiple ellipses in slice is not allowed.");let g=!1;const y={dims:p.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:e.slice(),strides:p.slice(),beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f};for(let et=0;et<y.dims;et++)g&&1<<et&u&&y.numAddAxisAfterEllipsis++,1<<et&c&&(g=!0);g||(y.ellipsisMask|=1<<y.dims,y.dims++);const x={dims:n.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function Vm(n,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let e=0;t.beginValid=null!=n.begin,t.endValid=null!=n.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let i=0;i<n.dims;i++)if(1<<i&n.ellipsisMask){const r=Math.min(t.dims-(n.dims-i)+1+n.numAddAxisAfterEllipsis,t.dims);for(;e<r;e++)t.begin[e]=0,t.end[e]=0,t.strides[e]=1,t.beginMask|=1<<e,t.endMask|=1<<e,t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[e]=i}else if(1<<i&n.newAxisMask)t.finalShapeGatherIndices.push(Pi),t.finalShapeGatherIndicesSparse.push(-1);else{if(e===t.begin.length)throw Error(`Index out of range using input dim ${e}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=n.begin&&(t.begin[e]=n.begin[i]),null!=n.end&&(t.end[e]=n.end[i]),t.strides[e]=n.strides[i],n.beginMask&1<<i&&(t.beginMask|=1<<e),n.endMask&1<<i&&(t.endMask|=1<<e),n.shrinkAxisMask&1<<i?(t.finalShapeGatherIndices.push(ux),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<e):(t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(i)),t.inputShapeGatherIndicesSparse[e]=i,e++}}(y,x);let P=!0,j=!0,J=!0;const G=[],he=[];for(let et=0;et<n.length;++et){if(0===x.strides[et])throw Error(`strides[${et}] must be non-zero`);const it=!!(x.shrinkAxisMask&1<<et),Dt=n[et];if(-1===Dt){G.push(it?1:-1);continue}const Yt=[x.beginMask&1<<et,x.endMask&1<<et],pn=[x.strides[et]>0?0:-1,x.strides[et]>0?Dt:Dt-1];if(it&&x.strides[et]<=0)throw Error("only stride 1 allowed on non-range indexing.");J=J&&1===x.strides[et];const bn=!!(x.beginMask&1<<et&&x.endMask&1<<et);if(x.beginValid&&x.endValid){if(it){const yi=x.begin[et]<0?Dt+x.begin[et]:x.begin[et];if(x.begin[et]=yi,x.end[et]=x.begin[et]+1,yi<0||yi>=Dt)throw Error(`slice index ${x.begin[et]} of dimension ${et} out of bounds.`)}else x.begin[et]=Bh(x.begin[et],0,x.strides[et],Dt,Yt,pn),x.end[et]=Bh(x.end[et],1,x.strides[et],Dt,Yt,pn);const si=1===x.strides[et]&&0===x.begin[et]&&x.end[et]===Dt;P=P&&si,j=j&&(0===et&&1===x.strides[et]||si)}else P=P&&1===x.strides[et]&&bn,j=j&&(0===et&&1===x.strides[et]||bn);let On,jn=!1;if(x.beginValid&&x.endValid?(On=x.end[et]-x.begin[et],jn=!0):it?(On=1,jn=!0):bn&&Dt>=0&&(On=x.strides[et]<0?-Dt:Dt,jn=!0),jn){let si;si=0===On||On<0!=x.strides[et]<0?0:Math.trunc(On/x.strides[et])+(On%x.strides[et]!=0?1:0),G.push(si)}else G.push(-1)}for(let et=0;et<x.finalShapeGatherIndices.length;++et){const it=x.finalShapeGatherIndices[et];it>=0?he.push(G[it]):it===Pi&&he.push(1)}return{finalShapeSparse:he.filter((et,it)=>x.finalShapeGatherIndices[it]!==Pi),finalShape:he,isIdentity:P,sliceDim0:j,isSimpleSlice:J,begin:x.begin,end:x.end,strides:x.strides}}function Bh(n,t,e,i,r,a){if(r[t])return e>0?a[t]:a[t+1&1];{const c=n<0?i+n:n;return c<a[0]?a[0]:c>a[1]?a[1]:c}}
/** @license See the LICENSE file. */const dy=$e({acos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qg(n){const e={x:k(n,"x","acos")};return Mn.runKernel(hn,e)}}),od=$e({acosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hf(n){const e={x:k(n,"x","acosh")};return Mn.runKernel(Kn,e)}}),hx=$e({addN_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fa(n){Me(Array.isArray(n),()=>"The argument passed to tf.addN() must be a list of tensors"),Me(n.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${n.length}`);const t=n.map((r,a)=>k(r,`tensors${a}`,"addN")),e=t[0];return t.forEach(r=>{if(r.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(r=>{if(!Ae(r.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),Mn.runKernel(Bi,t)}}),Hp=$e({all_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yg(n,t=null,e=!1){const r={x:k(n,"x","all","bool")};return Mn.runKernel("All",r,{axis:t,keepDims:e})}}),Gp=$e({any_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cv(n,t=null,e=!1){const r={x:k(n,"x","any","bool")};return Mn.runKernel("Any",r,{axis:t,keepDims:e})}}),Yf=$e({argMax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Um(n,t=0){const i={x:k(n,"x","argMax")};return Mn.runKernel(br,i,{axis:t})}}),zm=$e({argMin_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uv(n,t=0){const i={x:k(n,"x","argMin")};return Mn.runKernel(Tr,i,{axis:t})}}),Qg=$e({asin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jm(n){const e={x:k(n,"x","asin")};return Mn.runKernel(Hi,e)}}),dv=$e({asinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fx(n){const e={x:k(n,"x","asinh")};return Mn.runKernel(xr,e)}}),hy=$e({atan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zg(n){const e={x:k(n,"x","atan")};return Mn.runKernel(as,e)}}),Kp=$e({atan2_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hv(n,t){let e=k(n,"a","atan2"),i=k(t,"b","atan2");return[e,i]=so(e,i),Mn.runKernel(bs,{a:e,b:i})}}),py=$e({atanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fy(n){const e={x:k(n,"x","atanh")};return Mn.runKernel(ts,e)}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jg(n,t,e,i,r="NHWC",a){return ia(n,[...t,n[3]],e,a,i,null,null,qc(r))}function Nu(n,t,e,i,r,a,c="channelsLast"){const[u,f]=t_(t);let p;if("channelsLast"===c)p=[u,f,n[3],n[3]];else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);p=[u,f,n[1],n[1]]}return ia(n,p,e,i,r,a,!1,c)}function oh(n,t,e,i,r,a,c="NDHWC"){const[u,f,p]=Wm(t);let g,y;if("NDHWC"===c)y="channelsLast",g=[u,f,p,n[4],n[4]];else{if("NCDHW"!==c)throw new Error(`Unknown dataFormat ${c}`);y="channelsFirst",g=[u,f,p,n[1],n[1]]}return Qf(n,g,e,i,r,!1,y,a)}function ia(n,t,e,i,r,a,c=!1,u="channelsLast"){let[f,p,g,y]=[-1,-1,-1,-1];if("channelsLast"===u)[f,p,g,y]=n;else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);[f,y,p,g]=n}const[x,P,,j]=t,[J,G]=t_(e),[he,xe]=t_(i),et=Zf(x,he),it=Zf(P,xe),{padInfo:Dt,outHeight:Yt,outWidth:pn}=function Hm(n,t,e,i,r,a,c,u,f){let p,g,y;if("number"==typeof n){p={top:n,bottom:n,left:n,right:n,type:0===n?"VALID":"NUMBER"};const P=function fv(n,t,e,i,r){null==i&&(i=e_(n,t,e));const c=n[1];return[Gm((n[0]-t+2*i)/e+1,r),Gm((c-t+2*i)/e+1,r)]}([t,e],a,i,n,u);g=P[0],y=P[1]}else if("same"===n){g=Math.ceil(t/i),y=Math.ceil(e/r);const x=Math.max(0,(g-1)*i+a-t),P=Math.max(0,(y-1)*r+c-e),j=Math.floor(x/2),J=x-j,G=Math.floor(P/2);p={top:j,bottom:J,left:G,right:P-G,type:"SAME"}}else if("valid"===n)p={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((t-a+1)/i),y=Math.ceil((e-c+1)/r);else{if("object"!=typeof n)throw Error(`Unknown padding parameter: ${n}`);{const x="channelsLast"===f?n[1][0]:n[2][0],P="channelsLast"===f?n[1][1]:n[2][1],j="channelsLast"===f?n[2][0]:n[3][0],J="channelsLast"===f?n[2][1]:n[3][1];p={top:x,bottom:P,left:j,right:J,type:0===x&&0===P&&0===j&&0===J?"VALID":"EXPLICIT"},g=Gm((t-a+x+P)/i+1,u),y=Gm((e-c+j+J)/r+1,u)}}return{padInfo:p,outHeight:g,outWidth:y}}(r,p,g,J,G,et,it,a,u),bn=c?j*y:j;let On;return"channelsFirst"===u?On=[f,bn,Yt,pn]:"channelsLast"===u&&(On=[f,Yt,pn,bn]),{batchSize:f,dataFormat:u,inHeight:p,inWidth:g,inChannels:y,outHeight:Yt,outWidth:pn,outChannels:bn,padInfo:Dt,strideHeight:J,strideWidth:G,filterHeight:x,filterWidth:P,effectiveFilterHeight:et,effectiveFilterWidth:it,dilationHeight:he,dilationWidth:xe,inShape:n,outShape:On,filterShape:t}}function Qf(n,t,e,i,r,a=!1,c="channelsLast",u){let[f,p,g,y,x]=[-1,-1,-1,-1,-1];if("channelsLast"===c)[f,p,g,y,x]=n;else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);[f,x,p,g,y]=n}const[P,j,J,,G]=t,[he,xe,et]=Wm(e),[it,Dt,Yt]=Wm(i),pn=Zf(P,it),bn=Zf(j,Dt),On=Zf(J,Yt),{padInfo:jn,outDepth:si,outHeight:yi,outWidth:Ei}=function px(n,t,e,i,r,a,c,u,f,p,g){let y,x,P,j;if("valid"===n&&(n=0),"number"==typeof n){y={top:n,bottom:n,left:n,right:n,front:n,back:n,type:0===n?"VALID":"NUMBER"};const G=function WS(n,t,e,i,r,a){null==r&&(r=e_(n,t[0],i[0]));const c=[0,0,0,e];for(let u=0;u<3;u++)n[u]+2*r>=t[u]&&(c[u]=Gm((n[u]-t[u]+2*r)/i[u]+1,a));return c}([t,e,i,1],[u,f,p],1,[r,a,c],n,g);x=G[0],P=G[1],j=G[2]}else{if("same"!==n)throw Error(`Unknown padding parameter: ${n}`);{x=Math.ceil(t/r),P=Math.ceil(e/a),j=Math.ceil(i/c);const J=(x-1)*r+u-t,G=(P-1)*a+f-e,he=(j-1)*c+p-i,xe=Math.floor(J/2),et=J-xe,it=Math.floor(G/2),Dt=G-it,Yt=Math.floor(he/2);y={top:it,bottom:Dt,left:Yt,right:he-Yt,front:xe,back:et,type:"SAME"}}}return{padInfo:y,outDepth:x,outHeight:P,outWidth:j}}(r,p,g,y,he,xe,et,pn,bn,On,u),Ci=a?G*x:G;let Di;return"channelsFirst"===c?Di=[f,Ci,si,yi,Ei]:"channelsLast"===c&&(Di=[f,si,yi,Ei,Ci]),{batchSize:f,dataFormat:c,inDepth:p,inHeight:g,inWidth:y,inChannels:x,outDepth:si,outHeight:yi,outWidth:Ei,outChannels:Ci,padInfo:jn,strideDepth:he,strideHeight:xe,strideWidth:et,filterDepth:P,filterHeight:j,filterWidth:J,effectiveFilterDepth:pn,effectiveFilterHeight:bn,effectiveFilterWidth:On,dilationDepth:it,dilationHeight:Dt,dilationWidth:Yt,inShape:n,outShape:Di,filterShape:t}}function e_(n,t,e,i=1){const r=Zf(t,i);return Math.floor((n[0]*(e-1)-e+r)/2)}function t_(n){return"number"==typeof n?[n,n,n]:2===n.length?[n[0],n[1],1]:n}function Wm(n){return"number"==typeof n?[n,n,n]:n}function Zf(n,t){return t<=1?n:n+(n-1)*(t-1)}function Gm(n,t){if(!t)return Math.trunc(n);switch(t){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error(`Unknown roundingMode ${t}`)}}function ju(n){const[t,e,i]=t_(n);return 1===t&&1===e&&1===i}function su(n,t){return ju(n)||ju(t)}function Xp(n){return t_(n).every(t=>t>0)}function qc(n){if("NHWC"===n)return"channelsLast";if("NCHW"===n)return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function Fc(n,t,e){if(null!=e){if("string"==typeof t)throw Error(`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);if("number"==typeof t)Me(Ve(t),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);else{if("object"!=typeof t)throw Error(`Error in ${n}: Unknown padding parameter: ${t}`);t.forEach(i=>{i.forEach(r=>{Me(Ve(r),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${r}.`)})})}}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Wn=$e({reshape_:function pv(n,t){const i={x:k(n,"x","reshape","string_or_numeric")};return Mn.runKernel(Yr,i,{shape:t})}}),qp=$e({avgPool_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mx(n,t,e,i,r){const a=k(n,"x","avgPool","float32");Me(su(e,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`);let u=a,f=!1;3===a.rank&&(f=!0,u=Wn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Me(4===u.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${u.rank}.`),Fc("avgPool",i,r);let y=Mn.runKernel(Os,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return y=yr(y,a.dtype),f?Wn(y,[y.shape[1],y.shape[2],y.shape[3]]):y}}),Yp=$e({avgPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ah(n,t,e,i,r,a="NDHWC"){const c=k(n,"x","avgPool3d","float32");let u=c,f=!1;4===c.rank&&(f=!0,u=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Me(5===u.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${u.rank}.`),Me("NDHWC"===a,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Me("number"==typeof e&&e>0||Array.isArray(e)&&e[0]>0&&e[1]>0&&e[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${e}'`),Fc("avgPool3d",i,r);let y=Mn.runKernel(lr,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return y=yr(y,u.dtype),f?Wn(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}}),cc=$e({concat_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fa(n,t=0){Me(n.length>=1,()=>"Pass at least one tensor to concat");const e=Fe(n,"tensors","concat","string_or_numeric");return"complex64"===e[0].dtype&&e.forEach(a=>{if("complex64"!==a.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${a.dtype}. `)}),1===e.length?bd(e[0]):Mn.runKernel(Zi,e,{axis:t})}}),Ro=$e({matMul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qp(n,t,e=!1,i=!1){let r=k(n,"a","matMul"),a=k(t,"b","matMul");return[r,a]=so(r,a),Mn.runKernel(vr,{a:r,b:a},{transposeA:e,transposeB:i})}}),Wu=$e({sigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function my(n){const e={x:k(n,"x","sigmoid","float32")};return Mn.runKernel(ai,e)}}),Wo=$e({slice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mv(n,t,e){const i=k(n,"x","slice","string_or_numeric");if(0===i.rank)throw new Error("Slicing scalar is not possible");return Mn.runKernel(Hn,{x:i},{begin:t,size:e})}}),Jf=$e({tanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gy(n){const e={x:k(n,"x","tanh","float32")};return Mn.runKernel(Ja,e)}}),gv=$e({basicLSTMCell_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gx(n,t,e,i,r,a){const c=k(n,"forgetBias","basicLSTMCell"),u=k(t,"lstmKernel","basicLSTMCell"),f=k(e,"lstmBias","basicLSTMCell"),p=k(i,"data","basicLSTMCell"),g=k(r,"c","basicLSTMCell"),y=k(a,"h","basicLSTMCell"),x=cc([p,y],1),P=Ro(x,u),j=Wi(P,f),G=j.shape[1]/4,he=[j.shape[0],G],xe=Wo(j,[0,0],he),et=Wo(j,[0,G],he),it=Wo(j,[0,2*G],he),Dt=Wo(j,[0,3*G],he),Yt=Wi(ae(Wu(xe),Jf(et)),ae(g,Wu(Wi(c,it))));return[Yt,ae(Jf(Yt),Wu(Dt))]}}),ad=$e({batchToSpaceND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _x(n,t,e){const i=k(n,"x","batchToSpaceND"),r=t.reduce((u,f)=>u*f);return Me(i.rank>=1+t.length,()=>`input rank is ${i.rank} but should be > than blockShape.length ${t.length}`),Me(e.length===t.length,()=>`crops.length is ${e.length} but should be equal to blockShape.length  ${t.length}`),Me(i.shape[0]%r==0,()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`),Mn.runKernel(tr,{x:i},{blockShape:t,crops:e})}});function yx(n){let t;return t=0===n.rank||1===n.rank?Wn(n,[1,1,1,n.size]):2===n.rank?Wn(n,[1,1,n.shape[0],n.shape[1]]):3===n.rank?Wn(n,[1,n.shape[0],n.shape[1],n.shape[2]]):n,t
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const n_=$e({batchNorm_:function _v(n,t,e,i,r,a){null==a&&(a=.001);const c=k(n,"x","batchNorm"),u=k(t,"mean","batchNorm"),f=k(e,"variance","batchNorm");let p,g;null!=r&&(p=k(r,"scale","batchNorm")),null!=i&&(g=k(i,"offset","batchNorm")),Me(u.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Me(null==g||u.rank===g.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Me(null==p||u.rank===p.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const x={x:yx(c),scale:p,offset:g,mean:u,variance:f},j=Mn.runKernel(In,x,{varianceEpsilon:a});return Wn(j,c.shape)}}),yv=$e({batchNorm2d_:function HS(n,t,e,i,r,a){const c=k(n,"x","batchNorm"),u=k(t,"mean","batchNorm"),f=k(e,"variance","batchNorm");let p,g;return null!=r&&(p=k(r,"scale","batchNorm")),null!=i&&(g=k(i,"offset","batchNorm")),Me(2===c.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`),Me(2===u.rank||1===u.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${u.rank}.`),Me(2===f.rank||1===f.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),null!=p&&Me(2===p.rank||1===p.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`),null!=g&&Me(2===g.rank||1===g.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${g.rank}.`),n_(c,u,f,g,p,a)}}),bx=$e({batchNorm3d_:function GS(n,t,e,i,r,a){const c=k(n,"x","batchNorm"),u=k(t,"mean","batchNorm"),f=k(e,"variance","batchNorm");let p,g;return null!=r&&(p=k(r,"scale","batchNorm")),null!=i&&(g=k(i,"offset","batchNorm")),Me(3===c.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`),Me(3===u.rank||1===u.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${u.rank}.`),Me(3===f.rank||1===f.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),null!=p&&Me(3===p.rank||1===p.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`),null!=g&&Me(3===g.rank||1===g.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${g.rank}.`),n_(c,u,f,g,p,a)}}),Zp=$e({batchNorm4d_:function _y(n,t,e,i,r,a){const c=k(n,"x","batchNorm"),u=k(t,"mean","batchNorm"),f=k(e,"variance","batchNorm");let p,g;return null!=r&&(p=k(r,"scale","batchNorm")),null!=i&&(g=k(i,"offset","batchNorm")),Me(4===c.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`),Me(4===u.rank||1===u.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${u.rank}.`),Me(4===f.rank||1===f.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),null!=p&&Me(4===p.rank||1===p.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`),null!=g&&Me(4===g.rank||1===g.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${g.rank}.`),n_(c,u,f,g,p,a)}}),yy=$e({bincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Km(n,t,e){const i=k(n,"x","bincount"),r=k(t,"weights","bincount");return Me("int32"===i.dtype,()=>`Error in bincount: input dtype must be int32, but got ${i.dtype}`),Me(e>=0,()=>`size must be non-negative, but got ${e}.`),Me(r.size===i.size||0===r.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${i.shape}, weights shape: ${r.shape}.`),Mn.runKernel(xi,{x:i,weights:r},{size:e})}}),i_=$e({bitwiseAnd_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vx(n,t){const e=k(n,"x","bitwiseAnd"),i=k(t,"y","bitwiseAnd");if(!Ae(e.shape,i.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${e.shape}, y: ${i.shape}`);if("int32"!==e.dtype||"int32"!==i.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${e.dtype} and type of y: ${i.dtype}`);return Mn.runKernel(He,{a:e,b:i})}}),wx=$e({broadcastArgs_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xm(n,t){const e=k(n,"s0","broadcastArgs","int32"),i=k(t,"s1","broadcastArgs","int32");if(1!==e.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${e.rank}`);if(1!==i.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${i.rank}`);return Mn.runKernel(H,{s0:e,s1:i})}}),ep=$e({broadcastTo_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function by(n,t){let e=k(n,"broadcastTo","x");const i=e.shape;if(oi(t),t.length<e.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${e.rank}.`);if(t.length>e.rank){const p=e.shape.slice();for(;p.length<t.length;)p.unshift(1);e=Wn(e,p)}const r=e.shape,a=Array.from(t);for(let p=t.length-1;p>=0;p--)if(r[p]===t[p])a[p]=1;else if(1!==e.shape[p])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);return 0===a.map((p,g)=>p>1?g:-1).filter(p=>p>=0).length?bd(e):Mn.runKernel(Ia,{x:e},{reps:a})}}),Jp=$e({ceil_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qm(n){const e={x:k(n,"x","ceil","float32")};return Mn.runKernel(ze,e)}}),xu=$e({clipByValue_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function r_(n,t,e){const i=k(n,"x","clipByValue");return Me(t<=e,()=>`Error in clip: min (${t}) must be less than or equal to max (${e}).`),t===e?wu(i.shape,t,i.dtype):Mn.runKernel(kt,{x:i},{clipValueMin:t,clipValueMax:e})}}),bv=$e({concat1d_:function KS(n){return cc(n,0)}}),vy=$e({concat2d_:function XS(n,t){return cc(n,t)}}),wv=$e({concat3d_:function vv(n,t){return cc(n,t)}}),em=$e({concat4d_:function Eu(n,t){return cc(n,t)}}),ld=$e({conv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xx(n,t,e,i,r="NHWC",a=[1,1],c){const u=k(n,"x","conv2d","float32"),f=k(t,"filter","conv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Me(4===p.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),Me(4===f.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),Fc("conv2d",i,c);const y="NHWC"===r?p.shape[3]:p.shape[1];Me(y===f.shape[2],()=>`Error in conv2d: depth of input (${y}) must match input depth for filter ${f.shape[2]}.`),Me(su(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Me(Xp(a),()=>"Error in conv2D: Dilated rates should be larger than 0."),Me(Xp(e),()=>"Error in conv2D: Strides should be larger than 0.");const j=Mn.runKernel(cr,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Wn(j,[j.shape[1],j.shape[2],j.shape[3]]):j}}),xv=$e({conv1d_:function Yk(n,t,e,i,r="NWC",a=1,c){const u=k(n,"x","conv1d"),f=k(t,"filter","conv1d");let p=u,g=!1;2===u.rank&&(g=!0,p=Wn(u,[1,u.shape[0],u.shape[1]])),Me(3===p.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),Me(3===f.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),Fc("conv1d",i,c),Me(p.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${f.shape[1]}.`),Me(su(e,a),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${e} and dilation '${a}'`),Me(Xp(a),()=>"Error in conv1D: Dilated rates should be larger than 0."),Me(Xp(e),()=>"Error in conv1D: Stride should be larger than 0."),Me("NWC"===r,()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const y=Wn(f,[1,f.shape[0],f.shape[1],f.shape[2]]),x=Wn(p,[p.shape[0],1,p.shape[1],p.shape[2]]),G=ld(x,y,[1,e],i,"NHWC",[1,a],c);return Wn(G,g?[G.shape[2],G.shape[3]]:[G.shape[0],G.shape[2],G.shape[3]])}}),Vh=$e({conv2DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Lc(n,t,e,i,r,a="NHWC",c){Me(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let u=n,f=t,p=!1;3===t.rank&&(p=!0,f=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2]]),u=[1,n[0],n[1],n[2]]),Me(4===u.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${u.length}.`),Me(4===f.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),Me(4===e.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${e.rank}`);const g="NHWC"===a?u[3]:u[1],y="NHWC"===a?f.shape[3]:f.shape[1];Me(g===e.shape[2],()=>`Error in conv2dDerInput: depth of input (${g}) must match input depth for filter ${e.shape[2]}.`),Me(y===e.shape[3],()=>`Error in conv2dDerInput: depth of output (${y}) must match output depth for filter ${e.shape[3]}.`),Fc("conv2dDerInput",r,c);const j=Mn.runKernel(Jr,{dy:f,filter:e},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,inputShape:u});return p?Wn(j,[j.shape[1],j.shape[2],j.shape[3]]):j}}),s_=$e({conv2dTranspose_:function Ex(n,t,e,i,r,a){const c=k(n,"x","conv2dTranspose"),u=k(t,"filter","conv2dTranspose");return Vh(e,c,u,i,r,"NHWC",a)}}),wy=$e({conv3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qS(n,t,e,i,r="NDHWC",a=[1,1,1]){const c=k(n,"x","conv3d"),u=k(t,"filter","conv3d");let f=c,p=!1;4===c.rank&&(p=!0,f=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Me(5===f.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),Me(5===u.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${u.rank}.`),Me(f.shape[4]===u.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${u.shape[3]}.`),Me(su(e,a),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Me("NDHWC"===r,()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),Me(Xp(a),()=>"Error in conv3D: Dilated rates should be larger than 0."),Me(Xp(e),()=>"Error in conv3D: Strides should be larger than 0.");const x=Mn.runKernel(is,{x:f,filter:u},{strides:e,pad:i,dataFormat:r,dilations:a});return p?Wn(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}}),xy=$e({conv3DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YS(n,t,e,i,r){Me(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let a=n,c=t,u=!1;4===t.rank&&(u=!0,c=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,n[0],n[1],n[2],n[3]]);const f=a[4],p=c.shape[4];Me(5===a.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`),Me(5===c.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`),Me(5===e.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${e.rank}`),Me(f===e.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${e.shape[3]}.`),Me(p===e.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${e.shape[4]}.`);const x=Mn.runKernel(to,{dy:c,filter:e},{pad:r,strides:i,inputShape:a});return u?Wn(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}}),Ey=$e({conv3dTranspose_:function QS(n,t,e,i,r){const a=k(n,"x","conv3dTranspose"),c=k(t,"filter","conv3dTranspose");return xy(e,a,c,i,r)}}),Cy=$e({cos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ev(n){const e={x:k(n,"x","cos","float32")};return Mn.runKernel(Gr,e)}}),o_=$e({cosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cx(n){const e={x:k(n,"x","cosh","float32")};return Mn.runKernel(rs,e)}}),Ym=$e({cumprod_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sx(n,t=0,e=!1,i=!1){const a={x:k(n,"x","cumprod")};return Mn.runKernel(gs,a,{axis:t,exclusive:e,reverse:i})}}),lh=$e({cumsum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tm(n,t=0,e=!1,i=!1){const a={x:k(n,"x","cumsum")};return Mn.runKernel(Bo,a,{axis:t,exclusive:e,reverse:i})}}),tp=$e({denseBincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cd(n,t,e,i=!1){const r=k(n,"x","denseBincount"),a=k(t,"weights","denseBincount");return Me("int32"===r.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),Me(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),Me(e>=0,()=>`size must be non-negative, but got ${e}.`),Me(a.size===r.size||0===a.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`),Mn.runKernel(Go,{x:r,weights:a},{size:e,binaryOutput:i})}}),a_=$e({depthToSpace_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cv(n,t,e="NHWC"){const i=k(n,"x","depthToSpace","float32"),r="NHWC"===e?i.shape[1]:i.shape[2],a="NHWC"===e?i.shape[2]:i.shape[3],c="NHWC"===e?i.shape[3]:i.shape[1];return Me(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),Me(r*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${i.shape}`),Me(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${i.shape}`),Me(c%(t*t)==0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${c} for depthToSpace with input shape ${i.shape}`),Mn.runKernel(wo,{x:i},{blockSize:t,dataFormat:e})}}),Vd=$e({depthwiseConv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uh(n,t,e,i,r="NHWC",a=[1,1],c){const u=k(n,"x","depthwiseConv2d","float32"),f=k(t,"filter","depthwiseConv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Me(4===p.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),Me(4===f.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`);const y="NHWC"===r?p.shape[3]:p.shape[1];Me(y===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${y}) must match the inChannels dimension in filter ${f.shape[2]}.`),Fc("depthwiseConv2d",i,c);const j=Mn.runKernel(Ko,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Wn(j,[j.shape[1],j.shape[2],j.shape[3]]):j}}),Sy=$e({diag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ff(n){const e={x:k(n,"x","diag")};return Mn.runKernel(qa,e)}}),Dx=$e({dilation2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function l_(n,t,e,i,r=[1,1],a="NHWC"){const c=k(n,"x","dilation2d"),u=k(t,"filter","dilation2d");Me(3===c.rank||4===c.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`),Me(3===u.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${u.rank}.`),Me("NHWC"===a,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`);let f=c,p=!1;3===c.rank&&(f=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=!0),Me(f.shape[3]===u.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${f.shape[3]} vs ${u.shape[2]}`);const x=Mn.runKernel(Jo,{x:f,filter:u},{strides:e,pad:i,dilations:r});return p?Wn(x,[x.shape[1],x.shape[2],x.shape[3]]):x}}),wd=$e({equal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sv(n,t){let e=k(n,"a","equal","string_or_numeric"),i=k(t,"b","equal","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(Va,{a:e,b:i})}}),ou=$e({where_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dv(n,t,e){const i=k(t,"a","where"),r=k(e,"b","where"),a=k(n,"condition","where","bool"),c=Bs(Bs(a.shape,i.shape),r.shape),u=ep(a,c),f=ep(i,c),p=ep(r,c);return Mn.runKernel(_n,{condition:u,t:f,e:p})}}),Dy=$e({divNoNan_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Tx(n,t){let e=k(n,"a","div"),i=k(t,"b","div");[e,i]=so(e,i);const r=R(e,i),a=Ji(r),c=wd(i,a);return ou(c,a,r)}}),Tv=$e({dot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ty(n,t){const e=k(n,"t1","dot"),i=k(t,"t2","dot");Me(!(1!==e.rank&&2!==e.rank||1!==i.rank&&2!==i.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${e.rank} and ${i.rank}.`);const r=1===e.rank?e.size:e.shape[1],a=1===i.rank?i.size:i.shape[0];if(Me(r===a,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`),1===e.rank&&1===i.rank){const c=Wn(e,[1,-1]),u=Wn(i,[-1,1]),f=Ro(c,u);return Wn(f,[])}if(1===e.rank&&2===i.rank){const c=Wn(e,[1,-1]),u=Wn(i,[i.shape[0],i.shape[1]]),f=Ro(c,u);return Wn(f,[f.size])}if(2===e.rank&&1===i.rank){const c=Wn(i,[-1,1]),u=Ro(e,c);return Wn(u,[u.size])}{const c=Wn(i,[i.shape[0],i.shape[1]]);return Ro(e,c)}}}),zh=$e({einsum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pf(n,...t){const e=t.map((r,a)=>k(r,`tensors${a}`,"einsum"));return Mn.runKernel(ra,e,{equation:n})}}),nm=$e({elu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ix(n){const e={x:k(n,"x","elu","float32")};return Mn.runKernel(xa,e)}}),ZS=$e({ensureShape_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function c_(n,t){const e=k(n,"x","ensureShape","string_or_numeric");if(!function ft(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(null!==n[e]&&null!==t[e]&&n[e]!==t[e])return!1;return!0}(e.shape,t))throw new Error(`EnsureShape: Shape of tensor ${e.shape} is not compatible with expected shape ${t}`);return n}}),kv=$e({erf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Iv(n){let t=k(n,"x","erf");return Me("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=yr(t,"float32")),Mn.runKernel(Ea,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Av(n,t){for(let e=0;e<n.length;++e)if(n[n.length-e-1]!==t-1-e)return!1;return!0}function kx(n,t,e){const i=n.length+t.length,r=[];let a=0,c=0;for(let u=0;u<i;u++)-1===e.indexOf(u)?r.push(n[a++]):r.push(t[c++]);return r}function au(n,t){const e=[],i=n.length;for(let a=0;a<i;a++)-1===t.indexOf(a)&&e.push(n[a]);return[e,t.map(a=>n[a])]}function Sc(n,t){return kx(n,t.map(i=>1),t)}function Dc(n,t,e){Me(Av(t,e),()=>`${n} supports only inner-most axes for now. Got axes ${t} and rank-${e} input.`)}function ec(n,t){if(Av(n,t))return null;const e=[];for(let i=0;i<t;++i)-1===n.indexOf(i)&&e.push(i);return n.forEach(i=>e.push(i)),e}function jh(n){return n.map((t,e)=>[e,t]).sort((t,e)=>t[1]-e[1]).map(t=>t[0])}function tc(n,t){const e=[];for(let i=t-n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Hu=$e({max_:function Qm(n,t=null,e=!1){const r={x:k(n,"x","max")};return Mn.runKernel(sl,r,{reductionIndices:t,keepDims:e})}}),mf=$e({min_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Mv(n,t=null,e=!1){const r={x:k(n,"x","min")};return Mn.runKernel(Ps,r,{axis:t,keepDims:e})}}),Hr=$e({sum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Iy(n,t=null,e=!1){let i=k(n,"x","sum");return"bool"===i.dtype&&(i=yr(i,"int32")),Mn.runKernel(er,{x:i},{axis:t,keepDims:e})}});function u_(n,t,e=null){if(0===n.rank)return Pa(n);if(1!==n.rank&&null===e)return u_(Wn(n,[-1]),t,e);if(1===n.rank||"number"==typeof e||Array.isArray(e)&&1===e.length){if(1===t)return Hr(Pa(n),e);if(t===1/0)return Hu(Pa(n),e);if(t===-1/0)return mf(Pa(n),e);if("euclidean"===t||2===t)return tn(Hr(ih(Pa(n),Kr(2,"int32")),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(e)&&2===e.length){if(1===t)return Hu(Hr(Pa(n),e[0]),e[1]-1);if(t===1/0)return Hu(Hr(Pa(n),e[1]),e[0]);if(t===-1/0)return mf(Hr(Pa(n),e[1]),e[0]);if("fro"===t||"euclidean"===t)return tn(Hr(qn(n),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${e}`)}const gf=$e({norm_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Rv(n,t="euclidean",e=null,i=!1){const r=u_(n=k(n,"x","norm"),t,e);let a=r.shape;if(i){const c=wn(e,n.shape);a=Sc(r.shape,c)}return Wn(r,a)}}),JS=$e({euclideanNorm_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Nv(n,t=null,e=!1){return gf(n,"euclidean",t,e)}}),lu=$e({exp_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ov(n){const e={x:k(n,"x","exp")};return Mn.runKernel(Xr,e)}}),cu=$e({expandDims_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eD(n,t=0){const e=k(n,"x","expandDims","string_or_numeric");return Me(t<=e.rank,()=>"Axis must be <= rank of the tensor"),Mn.runKernel(Rr,{input:e},{dim:t})}}),Pv=$e({expm1_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zm(n){const e={x:k(n,"x","expm1")};return Mn.runKernel(uo,e)}}),Gu=$e({tile_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function d_(n,t){const e=k(n,"x","tile","string_or_numeric");return Me(e.rank===t.length,()=>`Error in transpose: rank of input ${e.rank} must match length of reps ${t}.`),Mn.runKernel(Ia,{x:e},{reps:t})}}),im=$e({eye_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ax(n,t,e,i="float32"){null==t&&(t=n);const r=Us([n,t],i),a=n<=t?n:t;for(let u=0;u<a;++u)r.set(1,u,u);const c=Wn(r.toTensor(),[n,t]);if(null==e)return c;if(1===e.length)return Gu(cu(c,0),[e[0],1,1]);if(2===e.length)return Gu(cu(cu(c,0),0),[e[0],e[1],1,1]);if(3===e.length)return Gu(cu(cu(cu(c,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${e.length}D.`)}}),np=$e({floor_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jm(n){const e={x:k(n,"x","floor","float32")};return Mn.runKernel(Ue,e)}}),rm=$e({gather_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ky(n,t,e=0,i=0){const r=k(n,"x","gather"),a=k(t,"indices","gather","int32");return Mn.runKernel(fi,{x:r,indices:a},{axis:e,batchDims:i})}}),ud=$e({greater_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tD(n,t){let e=k(n,"a","greater","string_or_numeric"),i=k(t,"b","greater","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(dr,{a:e,b:i})}}),_f=$e({greaterEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sm(n,t){let e=k(n,"a","greaterEqual","string_or_numeric"),i=k(t,"b","greaterEqual","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(Wr,{a:e,b:i})}}),om=$e({imag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function h_(n){const e={input:k(n,"input","imag")};return Mn.runKernel(Ms,e)}}),Lv=$e({isFinite_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fv(n){const e={x:k(n,"x","isFinite")};return Mn.runKernel(ho,e)}}),eg=$e({isInf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function am(n){const e={x:k(n,"x","isInf")};return Mn.runKernel(Ar,e)}}),xd=$e({isNaN_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $v(n){const e={x:k(n,"x","isNaN")};return Mn.runKernel($r,e)}}),ip=$e({leakyRelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bv(n,t=.2){const i={x:k(n,"x","leakyRelu")};return Mn.runKernel(oo,i,{alpha:t})}}),lm=$e({less_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ay(n,t){let e=k(n,"a","less","string_or_numeric"),i=k(t,"b","less","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(vs,{a:e,b:i})}}),Ud=$e({lessEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vv(n,t){let e=k(n,"a","lessEqual","string_or_numeric"),i=k(t,"b","lessEqual","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(sa,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function My(n,t,e){if(e<=0)throw new Error("The number of values should be positive.");return Mn.runKernel(ea,{},{start:n,stop:t,num:e})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const $=$e({localResponseNormalization_:function Uv(n,t=5,e=1,i=1,r=.5){const a=k(n,"x","localResponseNormalization");Me(4===a.rank||3===a.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`),Me(Ve(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let c=a,u=!1;3===a.rank&&(u=!0,c=Wn(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const g=Mn.runKernel(ta,{x:c},{depthRadius:t,bias:e,alpha:i,beta:r});return u?Wn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),v=$e({log_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function w(n){const e={x:k(n,"x","log","float32")};return Mn.runKernel(la,e)}}),ue=$e({log1p_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function M(n){const e={x:k(n,"x","log1p")};return Mn.runKernel(Ki,e)}}),at=$e({neg_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ge(n){const e={x:k(n,"x","neg")};return Mn.runKernel(ql,e)}}),Dn=$e({softplus_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zt(n){const e={x:k(n,"x","softplus")};return Mn.runKernel(Ai,e)}}),Ui=$e({logSigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ri(n){const t=k(n,"x","logSigmoid");return dl(i=>({value:at(Dn(at(i))),gradFunc:c=>ae(c,Wu(at(i)))}))(t)}}),jr=$e({logSoftmax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gr(n,t=-1){const e=k(n,"logits","logSoftmax");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and axis was ${t}`);return dl((r,a)=>{const u=Hu(r,t,!0),f=Vr(r,u),p=Vr(yr(f,"float32"),v(Hr(lu(f),t,!0)));return a([p]),{value:p,gradFunc:(y,x)=>{const[P]=x,J=lu(P);return Vr(y,ae(Hr(y,t,!0),J))}}})(e)}}),Ks=$e({logSumExp_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gs(n,t=null,e=!1){const i=k(n,"x","logSumExp"),r=wn(t,i.shape),a=Hu(i,r,!0),c=Vr(i,a),u=lu(c),f=Hr(u,r),p=v(f),g=Wi(Wn(a,p.shape),p);if(e){const y=Sc(g.shape,r);return Wn(g,y)}return g}}),No=$e({logicalAnd_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $o(n,t){const e=k(n,"a","logicalAnd","bool"),i=k(t,"b","logicalAnd","bool");return Bs(e.shape,i.shape),Mn.runKernel(Xo,{a:e,b:i})}}),il=$e({logicalNot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ks(n){const e={x:k(n,"x","logicalNot","bool")};return Mn.runKernel(So,e)}}),cm=$e({logicalOr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zv(n,t){const e=k(n,"a","logicalOr","bool"),i=k(t,"b","logicalOr","bool");return Bs(e.shape,i.shape),Mn.runKernel(Ca,{a:e,b:i})}}),nD=$e({logicalXor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function f_(n,t){const e=k(n,"a","logicalXor","bool"),i=k(t,"b","logicalXor","bool");return Bs(e.shape,i.shape),No(cm(n,t),il(No(n,t)))}}),jv=2147483648,Wv=$e({searchSorted_:function Qk(n,t,e="left"){const i=k(n,"sortedSequence","searchSorted"),r=k(t,"values","searchSorted"),c=r.shape[r.shape.length-1],u=Wn(i,[-1,i.shape[i.shape.length-1]]),f=Wn(r,[-1,c]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ot(f.shape)>=jv)throw new Error(`values tensor size must less than ${jv}`);if(u.shape[1]>=jv)throw new Error(`trailing dim_size must less than ${jv} for int32 output type, was ${u.shape[1]}`);return Mn.runKernel(Xt,{sortedSequence:u,values:f},{side:e})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zk(n,t){return Wv(n,t,"left")}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Hv=$e({maxPool_:function Jk(n,t,e,i,r){const a=k(n,"x","maxPool");let u=a,f=!1;3===a.rank&&(f=!0,u=Wn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Me(4===u.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${u.rank}.`),Me(su(e,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`),Fc("maxPool",i,r);const y=Mn.runKernel(Da,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return f?Wn(y,[y.shape[1],y.shape[2],y.shape[3]]):y}}),Ry=$e({maxPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eA(n,t=[1,1,1],e,i,r,a="NDHWC"){const c=k(n,"x","maxPool3d");let u=c,f=!1;4===c.rank&&(f=!0,u=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Me(5===u.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${u.rank}.`),Me("NDHWC"===a,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Fc("maxPool3d",i,r);const y=Mn.runKernel(Xl,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return f?Wn(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}}),Ny=$e({maxPoolWithArgmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rp(n,t,e,i,r=!1){const c={x:k(n,"x","maxPoolWithArgmax")},f=Mn.runKernel(pl,c,{filterSize:t,strides:e,pad:i,includeBatchInIndex:r});return{result:f[0],indexes:f[1]}}}),uc=$e({mean_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iD(n,t=null,e=!1){const r={x:k(n,"x","mean")};return Mn.runKernel(Za,r,{axis:t,keepDims:e})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $c(n,t="float32"){if(oi(n),"complex64"===t){const i=$c(n,"float32"),r=$c(n,"float32");return xn(i,r)}const e=ui(Ot(n),t);return Mn.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zd(n,t="float32"){if(oi(n),"complex64"===t){const i=zd(n,"float32"),r=$c(n,"float32");return xn(i,r)}const e=Vn(Ot(n),t);return Mn.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ZP(n,t,{indexing:e="xy"}={}){if("xy"!==e&&"ij"!==e)throw new TypeError(`${e} is not a valid third argument to meshgrid`);if(void 0===n)return[];let i=k(n,"x","meshgrid",n instanceof Y?n.dtype:"float32");if(void 0===t)return[i];let r=k(t,"y","meshgrid",t instanceof Y?t.dtype:"float32");const a=Ot(i.shape),c=Ot(r.shape);return"xy"===e?(i=Wn(i,[1,-1]),r=Wn(r,[-1,1]),[Ro(zd([c,1],i.dtype),i),Ro(r,zd([1,a],r.dtype))]):(i=Wn(i,[-1,1]),r=Wn(r,[1,-1]),[Ro(i,zd([1,c],i.dtype)),Ro(zd([a,1],r.dtype),r)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */)}const sp=$e({minimum_:function JP(n,t){let e=k(n,"a","minimum"),i=k(t,"b","minimum");return[e,i]=so(e,i),"bool"===e.dtype&&(e=yr(e,"int32"),i=yr(i,"int32")),Bs(e.shape,i.shape),Mn.runKernel(Dl,{a:e,b:i})}}),tA=$e({mirrorPad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Mx(n,t,e){Me("reflect"===e||"symmetric"===e,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${e}.`);const i=k(n,"x","mirrorPad");if(0===i.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Me(t.length===i.rank,()=>`Padding doesn't match input. Must be ${i.rank}. Got ${t.length}.`);const r="reflect"===e?1:0;for(let u=0;u<i.rank;u++)Me(2===t[u].length,()=>"Invalid number of paddings. Must be length of 2 each."),Me(t[u][0]>=0&&t[u][0]<=i.shape[u]-r&&t[u][1]>=0&&t[u][1]<=i.shape[u]-r,()=>`Padding in dimension ${u} cannot be greater than or equal to ${i.shape[u]-r} or less than 0 for input of shape ${i.shape}`);return Mn.runKernel(qo,{x:i},{paddings:t,mode:e})}}),Rx=$e({mod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function e2(n,t){let e=k(n,"a","mod"),i=k(t,"b","mod");return[e,i]=so(e,i),Mn.runKernel(ml,{a:e,b:i})}}),Gv=$e({moments_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nA(n,t=null,e=!1){const i=wn(t,(n=k(n,"x","moments")).shape),r=uc(n,i,e);let a=r.shape;e||(a=Sc(r.shape,i));const c=qn(Vr(yr(n,"float32"),Wn(r,a)));return{mean:r,variance:uc(c,i,e)}}}),rA=$e({multiRNNCell_:function iA(n,t,e,i){const r=k(t,"data","multiRNNCell"),a=Fe(e,"c","multiRNNCell"),c=Fe(i,"h","multiRNNCell");let u=r;const f=[];for(let y=0;y<n.length;y++){const x=n[y](u,a[y],c[y]);f.push(x[0]),f.push(x[1]),u=x[1]}const p=[],g=[];for(let y=0;y<f.length;y+=2)p.push(f[y]),g.push(f[y+1]);return[p,g]}}),rD=$e({multinomial_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sA(n,t,e,i=!1){const r=k(n,"logits","multinomial"),a=r.size,c=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);e=e||Math.random();const f={logits:1===c?Wn(r,[1,-1]):r},g=Mn.runKernel(gl,f,{numSamples:t,seed:e,normalized:i});return 1===c?Wn(g,[g.size]):g}}),p_=$e({notEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sD(n,t){let e=k(n,"a","notEqual","string_or_numeric"),i=k(t,"b","notEqual","string_or_numeric");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(qr,{a:e,b:i})}}),Kv=$e({oneHot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oA(n,t,e=1,i=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const c={indices:k(n,"indices","oneHot","int32")};return Mn.runKernel(Gt,c,{dtype:r,depth:t,onValue:e,offValue:i})}}),Ed=$e({onesLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xv(n){const e={x:k(n,"x","onesLike")};return Mn.runKernel(po,e)}}),aA=$e({outerProduct_:function Nx(n,t){const e=k(n,"v1","outerProduct"),i=k(t,"v2","outerProduct");Me(1===e.rank&&1===i.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${e.rank} and ${i.rank}.`);const r=Wn(e,[-1,1]),a=Wn(i,[1,-1]);return Ro(r,a)}}),op=$e({pad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tg(n,t,e=0){const i=k(n,"x","pad");if(0===i.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return Mn.runKernel(fe,{x:i},{paddings:t,constantValue:e})}}),Ox=$e({pad1d_:function lA(n,t,e=0){return Me(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),op(n,[t],e)}}),cA=$e({pad2d_:function oD(n,t,e=0){return Me(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),op(n,t,e)}}),dA=$e({pad3d_:function uA(n,t,e=0){return Me(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),op(n,t,e)}}),aD=$e({pad4d_:function hA(n,t,e=0){return Me(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),op(n,t,e)}}),Px=$e({spaceToBatchND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function t2(n,t,e){const i=k(n,"x","spaceToBatchND");return Me(i.rank>=1+t.length,()=>`input rank ${i.rank} should be > than [blockShape] ${t.length}`),Me(e.length===t.length,()=>`paddings.shape[0] ${e.length} must be equal to [blockShape] ${t.length}`),Me(i.shape.reduce((c,u,f)=>f>0&&f<=t.length?c&&(u+e[f-1][0]+e[f-1][1])%t[f-1]==0:c,!0),()=>`input spatial dimensions ${i.shape.slice(1)} with paddings ${e.toString()} must be divisible by blockShapes ${t.toString()}`),Mn.runKernel(Er,{x:i},{blockShape:t,paddings:e})}}),lD=$e({pool_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Oy(n,t,e,i,r,a,c){null==r&&(r=[1,1]),null==a&&(a=1),0===i&&(i="valid");const u=k(n,"x","maxPool");let f=u,p=!1;3===u.rank&&(p=!0,f=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Me(su(a,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`);const g=Nu(f.shape,t,a,r,i),y=[g.dilationHeight,g.dilationWidth];let x;x="same"===i?function pA(n,t){const i=n.map((c,u)=>c+(c-1)*(t[u]-1)).map(c=>c-1),r=i.map(c=>Math.floor(c/2)),a=i.map((c,u)=>c-r[u]);return i.map((c,u)=>[r[u],a[u]])}([g.filterHeight,g.filterWidth],y):[[0,0],[0,0]];const P=1===y[0]&&1===y[1],[j,J]=function fA(n,t,e){const i=e.map(g=>g[0]),r=e.map(g=>g[1]),a=n.concat(i,r),c=t.map((g,y)=>(g-a[y]%g)%g),u=r.map((g,y)=>g+c[y]),f=t.map((g,y)=>[i[y],u[y]]),p=t.map((g,y)=>[0,c[y]]);return[f,p]}([g.inHeight,g.inWidth],y,x),G=P?i:"valid",he=P?f:Px(f,y,j),et=("avg"===e?()=>qp(he,t,a,G,c):()=>Hv(he,t,a,G,c))(),it=P?et:ad(et,y,J);return p?Wn(it,[it.shape[1],it.shape[2],it.shape[3]]):it}}),qv=$e({prelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cD(n,t){const e=k(n,"x","prelu"),i=k(t,"alpha","prelu");return Mn.runKernel(K,{x:e,alpha:i})}}),uD=$e({prod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mA(n,t=null,e=!1){let i=k(n,"x","prod");return"bool"===i.dtype&&(i=yr(i,"int32")),Mn.runKernel(We,{x:i},{axis:t,keepDims:e})}}),_A=$e({raggedGather_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gA(n,t,e,i){const r=n.map((g,y)=>k(g,`tensors${y}`,"raggedGather","int32")),a=k(t,"paramsDenseValues","raggedGather"),c=k(e,"indices","raggedGather","int32"),p=Mn.runKernel(pt,{paramsNestedSplits:r,paramsDenseValues:a,indices:c},{outputRaggedRank:i});return{outputNestedSplits:p.slice(0,p.length-1),outputDenseValues:p[p.length-1]}}}),Fx=$e({raggedRange_:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yA(n,t,e){const i=k(n,"starts","raggedRange"),r=k(t,"limits","raggedRange",i.dtype),a=k(e,"deltas","raggedRange",i.dtype),u=Mn.runKernel(Fn,{starts:i,limits:r,deltas:a});return{rtNestedSplits:u[0],rtDenseValues:u[1]}}}),r2=$e({raggedTensorToTensor_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function n2(n,t,e,i,r){const a=k(n,"shape","raggedTensorToTensor","int32"),c=k(t,"values","raggedTensorToTensor"),u=k(e,"defaultValue","raggedTensorToTensor",c.dtype),f=i.map((y,x)=>k(y,`tensors${x}`,"raggedTensorToTensor","int32"));return Mn.runKernel(ei,{shape:a,values:c,defaultValue:u,rowPartitionTensors:f},{rowPartitionTypes:r})}}),s2=$e({rand_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Lx(n,t,e){oi(n);const i=Ot(n);let r=null;if(null==e||"float32"===e)r=new Float32Array(i);else if("int32"===e)r=new Int32Array(i);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);r=new Uint8Array(i)}for(let a=0;a<i;a++)r[a]=t();return Mn.makeTensor(r,n,e)}});var Py=_(2667);
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class dD{constructor(t,e,i,r,a){this.mean=t,this.stdDev=e,this.dtype=i,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const c=a||Math.random();this.random=Py.alea(c.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let t,e,i=!1;for(;!i;){let r,a,c;do{r=2*this.random()-1,a=2*this.random()-1,c=r*r+a*a}while(c>=1||0===c);const u=Math.sqrt(-2*Math.log(c)/c);t=this.mean+this.stdDev*r*u,e=this.mean+this.stdDev*a*u,(!this.truncated||this.isValidTruncated(t))&&(i=!0)}return(!this.truncated||this.isValidTruncated(e))&&(this.nextVal=this.convertValue(e)),this.convertValue(t)}convertValue(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class o2{constructor(t,e,i,r){this.alpha=t,this.beta=1/e,this.dtype=i;const a=r||Math.random();this.randu=Py.alea(a.toString()),this.randn=new dD(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,e,i,r,a,c;for(;;){do{r=this.randn.nextValue(),c=1+this.c*r}while(c<=0);if(c*=c*c,t=r*r,e=1-.331*t*t,i=.5*t+this.d*(1-c+Math.log(c)),a=this.randu(),a<e||Math.log(a)<i)break}return c*=1/this.beta*this.d,this.alpha<1&&(c*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(c)}convertValue(t){return"float32"===this.dtype?t:Math.round(t)}}class a2{constructor(t=0,e=1,i,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=t,this.range=e-t,this.dtype=i,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${e} <= 1 and dtype is not float`);this.random=Py.alea(r)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const bA=$e({randomGamma_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mD(n,t,e=1,i="float32",r){if(oi(n),null==e&&(e=1),null==i&&(i="float32"),"float32"!==i&&"int32"!==i)throw new Error(`Unsupported data type ${i}`);const a=new o2(t,e,i,r),c=Us(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),um=$e({randomNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gD(n,t=0,e=1,i,r){if(oi(n),null!=i&&"bool"===i)throw new Error(`Unsupported data type ${i}`);const a=new dD(t,e,i,!1,r),c=Us(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),Wd=$e({randomStandardNormal_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jd(n,t,e){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return um(n,0,1,t,e)}}),g_=$e({randomUniform_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _D(n,t=0,e=1,i="float32",r){oi(n);const a=Us(n,i),c=new a2(t,e,null,r);for(let u=0;u<a.values.length;u++)a.values[u]=c.nextValue();return a.toTensor()}}),c2=$e({randomUniformInt_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vA(n,t,e,i){return g_(n,t,e,"int32",i)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fy(n,t,e=1,i="float32"){if(0===e)throw new Error("Cannot have a step of zero");return Mn.runKernel(Vi,{},{start:n,stop:t,step:e,dtype:i})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const __=$e({real_:function yD(n){const e={input:k(n,"input","real")};return Mn.runKernel(vi,e)}}),Ly=$e({reciprocal_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function u2(n){const e={x:k(n,"x","reciprocal")};return Mn.runKernel(ws,e)}}),ch=$e({relu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bx(n){const e={x:k(n,"x","relu")};return Mn.runKernel(xs,e)}}),dm=$e({relu6_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wA(n){const e={x:k(n,"x","relu6")};return Mn.runKernel(ro,e)}}),Hd=$e({reverse_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vx(n,t){const i={x:k(n,"x","reverse")};return Mn.runKernel(Fo,i,{dims:t})}}),Yv=$e({reverse1d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ux(n){const t=k(n,"x","reverse");return Me(1===t.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Hd(t,0)}}),EA=$e({reverse2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xA(n,t){const e=k(n,"x","reverse");return Me(2===e.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${e.rank}.`),Hd(e,t)}}),CA=$e({reverse3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bD(n,t){const e=k(n,"x","reverse");return Me(3===e.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${e.rank}.`),Hd(e,t)}}),vD=$e({reverse4d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SA(n,t){const e=k(n,"x","reverse");return Me(4===e.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${e.rank}.`),Hd(e,t)}}),ng=$e({round_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zx(n){const e={x:k(n,"x","round")};return Mn.runKernel(za,e)}}),$y=$e({rsqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qv(n){const e={x:k(n,"x","rsqrt","float32")};return Mn.runKernel(al,e)}}),jx=$e({selu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DA(n){const e={x:k(n,"x","selu")};return Mn.runKernel(ln,e)}}),Zv=$e({separableConv2d_:function Wx(n,t,e,i,r,a=[1,1],c="NHWC"){const u=k(n,"x","separableConv2d"),f=k(t,"depthwiseFilter","separableConv2d"),p=k(e,"pointwiseFilter","separableConv2d");let g=u,y=!1;if(3===u.rank&&(y=!0,g=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===c)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Me(4===g.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`),Me(4===f.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),Me(4===p.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),Me(1===p.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),Me(1===p.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);const x=f.shape[2],P=f.shape[3];Me(p.shape[2]===x*P,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${x*P}, but got ${p.shape[2]}.`);const j=Vd(g,f,i,r,c,a),G=ld(j,p,1,"valid",c);return y?Wn(G,[G.shape[1],G.shape[2],G.shape[3]]):G}});function Jv(){return(Jv=(0,oe.A)(function*(n,t){const e=k(n,"x","setdiff1d"),i=k(t,"y","setdiff1d");Me(e.dtype===i.dtype,()=>`x and y should have the same dtype, but got x (${e.dtype}) and y (${i.dtype}).`),Me(1===e.rank,()=>`x should be 1D tensor, but got x (${e.shape}).`),Me(1===i.rank,()=>`y should be 1D tensor, but got y (${i.shape}).`);const r=yield e.data(),a=yield i.data(),c=new Set(a);let u=0;for(let g=0;g<r.length;g++)c.has(r[g])||u++;const f=new nl([u],e.dtype),p=new nl([u],"int32");for(let g=0,y=0;g<r.length;g++)c.has(r[g])||(f.values[y]=r[g],p.values[y]=g,y++);return[f.toTensor(),p.toTensor()]})).apply(this,arguments)}const wD=
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ig(n,t){return Jv.apply(this,arguments)},xD=$e({sign_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Hx(n){const e={x:k(n,"x","sign")};return Mn.runKernel(pi,e)}}),e0=$e({sin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ED(n){const e={x:k(n,"x","sin","float32")};return Mn.runKernel(yn,e)}}),By=$e({sinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CD(n){const e={x:k(n,"x","sinh")};return Mn.runKernel(Zn,e)}}),rg=$e({slice1d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SD(n,t,e){const i=k(n,"x","slice1d");return Me(1===i.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${i.rank} tensor`),Wo(i,[t],[e])}}),t0=$e({slice2d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sg(n,t,e){const i=k(n,"x","slice2d");return Me(2===i.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${i.rank} tensor`),Wo(i,t,e)}}),hm=$e({slice3d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gx(n,t,e){const i=k(n,"x","slice3d");return Me(3===i.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${i.rank} tensor`),Wo(i,t,e)}}),og=$e({slice4d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DD(n,t,e){const i=k(n,"x","slice4d");return Me(4===i.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${i.rank} tensor`),Wo(i,t,e)}}),r0=$e({softmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function n0(n,t=-1){const e=k(n,"logits","softmax","float32");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and dim was ${t}`);return Mn.runKernel(zs,{logits:e},{dim:t})}}),s0=$e({fft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TD(n){return Me("complex64"===n.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`),Mn.runKernel("FFT",{input:n})}}),Vy=$e({ifft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TA(n){return Me("complex64"===n.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${n.dtype}.`),Mn.runKernel(Vs,{input:n})}}),o0=$e({irfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ID(n){const t=n.shape[n.shape.length-1],e=n.size/t;let i;if(t<=2){const r=Wn(n,[e,t]);i=Vy(r)}else{const r=[e,2*(t-1)],a=Wn(__(n),[e,t]),c=Wn(om(n),[e,t]),u=Hd(Wo(a,[0,1],[e,t-2]),1),f=ae(Hd(Wo(c,[0,1],[e,t-2]),1),Kr(-1)),p=cc([a,u],1),g=cc([c,f],1),y=Wn(xn(p,g),[r[0],r[1]]);i=Vy(y)}if(i=__(i),3===n.rank&&0!==n.shape[0]){const r=i,a=n.shape[0];i=Wn(i,[a,i.shape[0]/a,i.shape[1]]),r.dispose()}return i}}),dd=$e({split_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function go(n,t,e=0){const r={x:k(n,"x","split")};return Mn.runKernel(Ts,r,{numOrSizeSplits:t,axis:e})}}),ap=$e({rfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kD(n,t){Me("float32"===n.dtype,()=>`The dtype for rfft() must be real value but got ${n.dtype}`);let e=n.shape[n.shape.length-1];const i=n.size/e;let r;if(null!=t&&t<e){const j=n.shape.map(G=>0),J=n.shape.map(G=>G);J[n.shape.length-1]=t,r=Wo(n,j,J),e=t}else if(null!=t&&t>e){const j=n.shape.map(J=>J);j[n.shape.length-1]=t-e,r=cc([n,$c(j)],n.shape.length-1),e=t}else r=n;const a=Ji(r),c=Wn(xn(r,a),[i,e]),u=s0(c),f=Math.floor(e/2)+1,p=__(u),g=om(u),y=dd(p,[f,e-f],p.shape.length-1),x=dd(g,[f,e-f],g.shape.length-1),P=r.shape.slice();return P[r.shape.length-1]=f,Wn(xn(y[0],x[0]),P)}}),a0=$e({squaredDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AD(n,t){let e=k(n,"a","squaredDifference"),i=k(t,"b","squaredDifference");return[e,i]=so(e,i),Bs(e.shape,i.shape),Mn.runKernel(Ga,{a:e,b:i},{})}}),yf=$e({squeeze_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function IA(n,t){const e=k(n,"x","squeeze","string_or_numeric");return Wn(e,on(e.shape,t).newShape)}}),Ou=$e({stack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ag(n,t=0){const e=Fe(n,"tensors","stack","string_or_numeric");return Me(e.length>=1,()=>"Pass at least one tensor to tf.stack"),e.length>0&&Me(t<=e[0].rank,()=>"Axis must be <= rank of the tensor"),Mn.runKernel(ne,e,{axis:t})}}),lg=$e({step_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uy(n,t=0){const i={x:k(n,"x","step")};return Mn.runKernel(Rc,i,{alpha:t})}}),l0=$e({stridedSlice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Kx(n,t,e,i,r=0,a=0,c=0,u=0,f=0){const g={x:k(n,"x","stridedSlice","string_or_numeric")};return Mn.runKernel(yl,g,{begin:t,end:e,strides:i,beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f})}}),qx=$e({tan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xx(n){const e={x:k(n,"x","tan","float32")};return Mn.runKernel(Yl,e)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uu(n,t){nn(n);const e=Ju(n,t);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return zn(n,null,e,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function cg(n,t,e){if(nn(n),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const i=Ju(n,e);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return zn(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function kA(n,t,e){if(nn(n),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const i=Ju(n,e);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return zn(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AA(n,t,e){if(nn(n),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const i=Ju(n,e);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return zn(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function MD(n,t,e){if(nn(n),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const i=Ju(n,e);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return zn(n,t=t||i,i,e)}function RD(n,t,e){const i=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${e.shape}, indices.shape: ${t.shape}, shape: ${n}, sliceDim: ${i}, and batchDim: ${r}.`;if(e.rank<r)throw new Error(a+` update.rank < ${r}. `);if(n.length<i+(e.rank-r))throw new Error(a+` Output shape length < ${i+(e.rank-r)}`);if(e.rank!==r+n.length-i)throw new Error(a+" update.rank != "+(r+n.length-i));for(let c=0;c<r;++c)if(e.shape[c]!==t.shape[c])throw new Error(a+` updates.shape[${c}] (${e.shape[c]}) != indices.shape[${c}] (${t.shape[c]}).`);for(let c=0;c<e.rank-r;++c)if(e.shape[c+r]!==n[c+i])throw new Error(a+` updates.shape[${c+r}] (${e.shape[c+r]}) != shape[${c+r}] (${n[c+r]})`)}function Yx(n,t,e){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(e.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${e}`);if(0===e.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===n.size)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}RD(e,t,n)}function ug(n,t,e){const i=t.shape.length,r=i>1?t.shape[i-1]:1,a=e.length;let c=1;for(let y=r;y<a;++y)c*=e[y];const u=r<1?1:r;return{sliceRank:r,numUpdates:Ot(t.shape)/u,sliceSize:c,strides:[...Bt(e.slice(0,r)),1],outputSize:Ot(e)}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const ND=$e({tensorScatterUpdate_:function MA(n,t,e){const i=k(n,"tensor","tensorScatterupdate"),r=k(t,"indices","tensorScatterupdate","int32"),a=k(e,"updates","tensorScatterupdate");if(Yx(a,r,i.shape),i.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${i.dtype} and ${a.dtype}.`);return Mn.runKernel(Ct,{tensor:i,indices:r,updates:a},{})}}),PD=$e({topk_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OD(n,t=1,e=!0){const i=k(n,"x","topk");if(0===i.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=i.shape[i.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const a={x:i},c={k:t,sorted:e},[u,f]=Mn.runKernel(Ul,a,c);return{values:u,indices:f}}}),Ku=$e({truncatedNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RA(n,t=0,e=1,i,r){if(oi(n),null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const a=new dD(t,e,i,!0,r),c=Us(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),FD=$e({unique_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NA(n,t=0){const e=k(n,"x","unique","string_or_numeric");Me(e.rank>0,()=>"The input tensor must be at least 1D");const i={x:e},r={axis:t},[a,c]=Mn.runKernel(Iu,i,r);return{values:a,indices:c}}}),zy=$e({unsortedSegmentSum_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function d2(n,t,e){const i=k(n,"x","unsortedSegmentSum"),r=k(t,"segmentIds","unsortedSegmentSum","int32");return Me(Ve(e),()=>"numSegments must be of dtype int"),Mn.runKernel(fo,{x:i,segmentIds:r},{numSegments:e})}}),uh=$e({unstack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LD(n,t=0){const e=k(n,"x","unstack","string_or_numeric");return Me(t>=-e.shape.length&&t<e.shape.length,()=>`Axis = ${t} is not in [-${e.shape.length}, ${e.shape.length})`),Mn.runKernel(ca,{value:e},{axis:t})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OA(n,t){return Wv(n,t,"right")}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $D(n,t=!0,e,i){return Mn.makeVariable(n,t,e,i)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function c0(n,t){const e=[];for(let a=0;a<t.length;a++)t[a]&&e.push(a);const i=Us(n,"int32"),r=Us([e.length,n.length],"int32");for(let a=0;a<e.length;a++){const c=i.indexToLoc(e[a]);r.values.set(c,a*n.length)}return r.toTensor()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Qx(){return(Qx=(0,oe.A)(function*(n){const t=k(n,"condition","whereAsync","bool"),e=yield t.data(),i=c0(t.shape,e);return n!==t&&t.dispose(),i})).apply(this,arguments)}const u0=function PA(n){return Qx.apply(this,arguments)};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Zx(){return(Zx=(0,oe.A)(function*(n,t,e){const i=k(n,"tensor","boolMask"),r=k(t,"mask","boolMask","bool"),a=e??0,c=r.rank,u=i.shape;Me(c>0,()=>"mask cannot be scalar"),kn(u.slice(a,a+c),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let J=a;J<a+c;J++)f*=u[J];const p=u.slice(0,a).concat([f],u.slice(a+c)),g=Wn(i,p),y=Wn(r,[-1]),x=yield u0(y),P=yf(x,[1]),j=rm(g,P,a);return n!==i&&i.dispose(),t!==r&&r.dispose(),P.dispose(),g.dispose(),y.dispose(),x.dispose(),j})).apply(this,arguments)}const LA=function FA(n,t,e){return Zx.apply(this,arguments)},oa=$e({transpose_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $A(n,t,e){const i=k(n,"x","transpose");if(null==t&&(t=i.shape.map((c,u)=>u).reverse()),Me(i.rank===t.length,()=>`Error in transpose: rank of input ${i.rank} must match length of perm ${t}.`),t.forEach(c=>{Me(c>=0&&c<i.rank,()=>`All entries in 'perm' must be between 0 and ${i.rank-1} but got ${t}`)}),i.rank<=1)return i.clone();const r={x:i},a={perm:t};return"complex64"===i.dtype?Gn(()=>{let c=__(i),u=om(i);return c=Mn.runKernel(sc,{x:c},a),u=Mn.runKernel(sc,{x:u},a),e&&(u=at(u)),xn(c,u)}):Mn.runKernel(sc,r,a)}}),Jx=$e({movingAverage_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bf(n,t,e,i,r=!0){const a=k(n,"v","movingAverage"),c=k(t,"x","movingAverage"),u=k(e,"decay","movingAverage");(function Uo(n,t){Me(n.dtype===t.dtype,()=>`The dtypes of the first(${n.dtype}) and second(${t.dtype}) input must match`)})(a,c),Me(Ae(a.shape,c.shape),()=>"Shape mismatch in v and x");const f=Kr(1),p=Vr(f,u);let g=ae(Vr(c,a),p);if(r){Me(null!=i,()=>"When using zeroDebias: true, step is required.");const y=k(i,"step","movingAverage");g=R(g,Vr(f,ih(u,y)))}return Wi(a,g)}}),VA=$e({scatterND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BA(n,t,e){oi(e);const i=k(n,"indices","scatterND","int32"),r=k(t,"updates","scatterND");return Yx(r,i,e),Mn.runKernel(I,{indices:i,updates:r},{shape:e})}}),d0=$e({sparseToDense_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VD(n,t,e,i=0){oi(e);const r=k(n,"sparseIndices","sparseToDense","int32"),a=k(t,"sparseValues","sparseToDense","string_or_numeric"),c=k(i,"defaultValue","sparseToDense",a.dtype);return function BD(n,t,e,i){if("int32"!==n.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${n.dtype}.`);if(n.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${n.shape}.`);const r=n.rank>0?n.shape[0]:1,a=n.rank>1?n.shape[1]:1;if(e.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${e.length}, should be: ${a}.`);if(0!==t.rank&&(1!==t.rank||t.size!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,a,e,c),Mn.runKernel(Ta,{sparseIndices:r,sparseValues:a,defaultValue:c},{outputShape:e})}}),h2=$e({gatherND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eE(n,t){const e=k(t,"indices","gatherND","int32"),r={params:k(n,"x","gatherND","string_or_numeric"),indices:e};return Mn.runKernel(Nr,r)}}),tE=$e({dropout_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zD(n,t,e,i){const r=k(n,"x","dropout");if(Me("float32"===r.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),Me(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return n instanceof Y?r.clone():r;const a=
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UD(n,t){if(null==t)return n.shape.slice();if(Ae(n.shape,t))return t;if(n.shape.length===t.length){const e=[];for(let i=0;i<n.shape.length;i++)e.push(null==t[i]&&null!=n.shape[i]?n.shape[i]:t[i]);return e}return t}(r,e),c=1-t,u=R(np(Wi(g_(a,0,1,"float32",i),c)),c);return ae(r,u)}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jy(n){return Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2))))}function Wy(n,t,e){const i=1-n%2,r=new Float32Array(n);for(let a=0;a<n;++a){const c=2*Math.PI*a/(n+i-1);r[a]=t-e*Math.cos(c)}return uu(r,"float32")}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nE(){return(nE=(0,oe.A)(function*(n,t,e=1){const i=k(n,"predictions","inTopK"),r=k(t,"targets","inTopK");Me(i.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${i.rank}`),Me(i.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${i.rank} and targets rank ${r.rank}`),kn(i.shape.slice(0,i.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=i.shape[i.shape.length-1];Me(e>0&&e<=a,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${e}`);const c=yield i.data(),u=yield r.data(),[f,p]=[c.length/a,a],g=sn("bool",f);for(let y=0;y<f;y++){const x=y*p,P=c.subarray(x,x+p),j=[];for(let J=0;J<P.length;J++)j.push({value:P[J],index:J});j.sort((J,G)=>G.value-J.value),g[y]=0;for(let J=0;J<e;J++)if(j[J].index===u[y]){g[y]=1;break}}return n!==i&&i.dispose(),t!==r&&r.dispose(),gi(g,r.shape,"bool")})).apply(this,arguments)}const UA=function lp(n,t){return nE.apply(this,arguments)},rE=$e({conv2DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iE(n,t,e,i,r,a="NHWC",c){let u=n;3===n.rank&&(u=Wn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;3===f.rank&&(f=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Me(4===u.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`),Me(4===f.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),Me(4===e.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${e}.`);const p="NHWC"===a?u.shape[3]:u.shape[1],g="NHWC"===a?f.shape[3]:f.shape[1];return Me(p===e[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${e[2]}.`),Me(g===e[3],()=>`Error in conv2dDerFilter: depth of dy (${g}) must match output depth for filter (${e[3]}).`),Fc("conv2dDerFilter",r,c),Mn.runKernel(ns,{x:u,dy:f},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,filterShape:e})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cp(n,t,e){if(null==e||"linear"===e)return n;if("relu"===e)return ae(n,lg(t));throw new Error(`Cannot compute gradient for fused activation ${e}.`)}function Hy(n,t){let e=t;const i=hl(n.shape,t.shape);return i.length>0&&(e=Hr(e,i)),Wn(e,n.shape)}function vf(n,t,e,i){if("linear"===t)return n;if("relu"===t)return ch(n);if("elu"===t)return nm(n);if("relu6"===t)return dm(n);if("prelu"===t)return qv(n,e);if("leakyrelu"===t)return ip(n,i);if("sigmoid"===t)return Wu(n);throw new Error(`Unknown fused activation ${t}.`)}const up=(n,t)=>!(n>0)||"linear"===t
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,y_=$e({fusedConv2d_:function sE({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===up(Mn.state.gradientDepth,f=f||"linear")){Me("NHWC"===r,()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let Yt=ld(n,t,e,i,r,a,c);return null!=u&&(Yt=Wi(Yt,u)),vf(Yt,f,p,g)}const y=k(n,"x","conv2d","float32"),x=k(t,"filter","conv2d","float32");let P=y,j=!1;3===y.rank&&(j=!0,P=Wn(y,[1,y.shape[0],y.shape[1],y.shape[2]])),Me(4===P.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${P.rank}.`),Me(4===x.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${x.rank}.`),Fc("fused conv2d",i,c);const J="NHWC"===r?P.shape[3]:P.shape[1];Me(x.shape[2]===J,()=>`Error in conv2d: depth of input (${J}) must match input depth for filter ${x.shape[2]}.`),Me(su(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`);const G=ia(P.shape,x.shape,e,a,i,c);let he,xe;if(null!=u&&(he=k(u,"bias","fused conv2d"),[he]=so(he,y),"NHWC"===r?Bs(G.outShape,he.shape):(Me(he.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${he.shape.length}.`),Me(0===he.shape.length||he.shape[0]===G.outChannels||1===he.shape[0],()=>`Error in fused conv2d: bias shape (${he.shape}) is not compatible with the number of output channels (${G.outChannels})`))),null!=p){const Yt=p.shape;if(Me(Yt.length<=1||3===Yt.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${Yt.length}.`),1===Yt.length)Me(1===Yt[0]||Yt[0]===G.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${Yt}) is not compatible with the number of output channels (${G.outChannels}).`);else if(3===Yt.length)try{Bs(Yt,G.outShape)}catch{throw Error(`Error in fused conv2d: PReLU activation weights (${Yt}) is not compatible with the output shape of the conv2d (${G.outShape}).`)}xe=k(p,"prelu weights","fused conv2d")}const et=(Yt,pn)=>{Me("NHWC"===r,()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[bn,On,jn,si]=pn,yi=cp(Yt,jn,f);Me(ju(a),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const Di=[Vh(On.shape,yi,bn,e,i),rE(On,yi,bn.shape,e,i)];if(null!=si){const Mi=Hy(si,yi);Di.push(Mi)}return Di},it={x:P,filter:x,bias:he,preluActivationWeights:xe},Dt={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?dl((pn,bn,On)=>{let jn=Mn.runKernel(Be,it,Dt);return On([bn,pn,jn]),j&&(jn=Wn(jn,[jn.shape[1],jn.shape[2],jn.shape[3]])),{value:jn,gradFunc:et}})(P,x):dl((pn,bn,On,jn)=>{let si=Mn.runKernel(Be,it,Dt);return jn([bn,pn,si,On]),j&&(si=Wn(si,[si.shape[1],si.shape[2],si.shape[3]])),{value:si,gradFunc:et}})(P,x,he)}}),oE=$e({depthwiseConv2dNativeBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jD(n,t,e,i,r,a=[1,1],c){let u=n;3===n.rank&&(u=Wn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;return 3===f.rank&&(f=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Mn.runKernel(rl,{x:u,dy:f},{strides:i,pad:r,dimRoundingMode:c,dilations:a,filterShape:e})}}),WD=$e({depthwiseConv2dNativeBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zA(n,t,e,i,r,a=[1,1],c){let u=t,f=!1;3===t.rank&&(f=!0,u=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const y=Mn.runKernel($a,{dy:u,filter:e},{strides:i,pad:r,dimRoundingMode:c,dilations:a,inputShape:n});return f?Wn(y,[y.shape[1],y.shape[2],y.shape[3]]):y}}),WA=$e({fusedDepthwiseConv2d_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jA({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===up(Mn.state.gradientDepth,f)){let Dt=Vd(n,t,e,i,r,a,c);return null!=u&&(Dt=Wi(Dt,u)),vf(Dt,f,p,g)}const y=k(n,"x","depthwiseConv2d","float32"),x=k(t,"filter","depthwiseConv2d","float32");let P=y,j=!1;3===y.rank&&(j=!0,P=Wn(y,[1,y.shape[0],y.shape[1],y.shape[2]])),Me(4===P.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${P.rank}.`),Me(4===x.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${x.rank}.`),Me(P.shape[3]===x.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${P.shape[3]}) must match the inChannels dimension in filter ${x.shape[2]}.`),null==a&&(a=[1,1]),Me(su(e,a),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Fc("fused depthwiseConv2d",i,c);const J=ia(P.shape,x.shape,e,a,i,c,!0);let G,he;null!=u&&(G=k(u,"bias","fused conv2d"),[G]=so(G,y),Bs(J.outShape,G.shape)),null!=p&&(he=k(p,"prelu weights","fused depthwiseConv2d"));const xe=(Dt,Yt)=>{Me(ju(a),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[pn,bn,On,jn]=Yt,si=cp(Dt,On,f),yi=WD(bn.shape,si,pn,e,i,a,c),Ei=oE(bn,si,pn.shape,e,i,a,c);return null!=jn?[yi,Ei,Hy(G,si)]:[yi,Ei]},et={x:P,filter:x,bias:G,preluActivationWeights:he},it={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?dl((Yt,pn,bn)=>{let On=Mn.runKernel(gt,et,it);return bn([pn,Yt,On]),j&&(On=Wn(On,[On.shape[1],On.shape[2],On.shape[3]])),{value:On,gradFunc:xe}})(P,x):dl((Yt,pn,bn,On)=>{let jn=Mn.runKernel(gt,et,it);return On([pn,Yt,jn,bn]),j&&(jn=Wn(jn,[jn.shape[1],jn.shape[2],jn.shape[3]])),{value:jn,gradFunc:xe}})(P,x,G)}}),aE=$e({fusedMatMul_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HA({a:n,b:t,transposeA:e=!1,transposeB:i=!1,bias:r,activation:a="linear",preluActivationWeights:c,leakyreluAlpha:u=.2}){if(!1===up(Mn.state.gradientDepth,a)){let si=Ro(n,t,e,i);return null!=r&&(si=Wi(si,r)),vf(si,a,c,u)}let f=k(n,"a","fused matMul"),p=k(t,"b","fused matMul");[f,p]=so(f,p);const g=e?f.shape[f.rank-2]:f.shape[f.rank-1],y=i?p.shape[p.rank-1]:p.shape[p.rank-2],x=e?f.shape[f.rank-1]:f.shape[f.rank-2],P=i?p.shape[p.rank-2]:p.shape[p.rank-1],j=f.shape.slice(0,-2),J=p.shape.slice(0,-2),G=Ot(j),he=Ot(J);Me(g===y,()=>`Error in fused matMul: inner shapes (${g}) and (${y}) of Tensors with shapes ${f.shape} and ${p.shape} and transposeA=${e} and transposeB=${i} must match.`);const et=Bs(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([x,P]),it=Wn(f,e?[G,g,x]:[G,x,g]),Dt=Wn(p,i?[he,P,y]:[he,y,P]);let Yt,pn;null!=r&&(Yt=k(r,"bias","fused matMul"),[Yt]=so(Yt,f),Bs(et,Yt.shape)),null!=c&&(pn=k(c,"prelu weights","fused matMul"));const bn=(si,yi)=>{const[Ei,Ci,Di,Mi]=yi,Oi=cp(Wn(si,Di.shape),Di,a);let Ti,Fi;return e||i?!e&&i?(Ti=Ro(Oi,Ci,!1,!1),Fi=Ro(Oi,Ei,!0,!1)):e&&!i?(Ti=Ro(Ci,Oi,!1,!0),Fi=Ro(Ei,Oi,!1,!1)):(Ti=Ro(Ci,Oi,!0,!0),Fi=Ro(Oi,Ei,!0,!0)):(Ti=Ro(Oi,Ci,!1,!0),Fi=Ro(Ei,Oi,!0,!1)),null!=r?[Ti,Fi,Hy(Mi,Oi)]:[Ti,Fi]},On={a:it,b:Dt,bias:Yt,preluActivationWeights:pn},jn={transposeA:e,transposeB:i,activation:a,leakyreluAlpha:u};return null==r?dl((yi,Ei,Ci)=>{const Di=Mn.runKernel(Tt,On,jn);return Ci([yi,Ei,Di]),{value:Wn(Di,et),gradFunc:bn}})(it,Dt):dl((yi,Ei,Ci,Di)=>{const Mi=Mn.runKernel(Tt,On,jn);return Di([yi,Ei,Mi,Ci]),{value:Wn(Mi,et),gradFunc:bn}})(it,Dt,Yt)}}),GA=$e({hammingWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HD(n){return Wy(n,.54,.46)}}),GD=$e({hannWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function h0(n){return Wy(n,.5,.5)}}),XD=$e({frame_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KD(n,t,e,i=!1,r=0){let a=0;const c=[];for(;a+t<=n.size;)c.push(Wo(n,a,t)),a+=e;if(i)for(;a<n.size;){const u=a+t-n.size,f=cc([Wo(n,a,t-u),wu([u],r)]);c.push(f),a+=e}return 0===c.length?cg([],[0,t]):Wn(cc(c),[c.length,t])}}),KA=$e({stft_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qD(n,t,e,i,r=GD){null==i&&(i=jy(t));const a=XD(n,t,e),c=ae(a,r(t));return ap(c,i)}}),YD=$e({cropAndResize_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XA(n,t,e,i,r="bilinear",a=0){const c=k(n,"image","cropAndResize"),u=k(t,"boxes","cropAndResize","float32"),f=k(e,"boxInd","cropAndResize","int32"),p=u.shape[0];return Me(4===c.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${c.rank}.`),Me(2===u.rank&&4===u.shape[1],()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${u.shape}.`),Me(1===f.rank&&f.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${u.shape}.`),Me(2===i.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${i.length}.`),Me(i[0]>=1&&i[1]>=1,()=>`cropSize must be atleast [1,1], but was ${i}`),Me("bilinear"===r||"nearest"===r,()=>`method must be bilinear or nearest, but was ${r}`),Mn.runKernel(Ur,{image:c,boxes:u,boxInd:f},{method:r,extrapolationValue:a,cropSize:i})}}),QD=$e({flipLeftRight_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lE(n){const t=k(n,"image","flipLeftRight","float32");return Me(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`),Mn.runKernel(ga,{image:t},{})}}),Ky=$e({grayscaleToRGB_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gy(n){const t=k(n,"image","grayscaleToRGB"),e=t.rank-1,i=t.shape[e];Me(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),Me(1===i,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${i}.`);const r=new Array(t.rank);return r.fill(1,0,e),r[e]=3,Gu(t,r)}}),qA=$e({rgbToGrayscale_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xy(n){const t=k(n,"image","RGBToGrayscale"),i=t.shape[t.rank-1];Me(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),Me(3===i,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${i}.`);const r=t.dtype,a=yr(t,"float32"),c=uu([.2989,.587,.114]);let u;switch(t.rank){case 2:u=zh("ij,j->i",a,c);break;case 3:u=zh("ijk,k->ij",a,c);break;case 4:u=zh("ijkl,l->ijk",a,c);break;case 5:u=zh("ijklm,m->ijkl",a,c);break;case 6:u=zh("ijklmn,n->ijklm",a,c);break;default:throw new Error("Not a valid tensor rank.")}return u=cu(u,-1),yr(u,r)}}),QA=$e({rotateWithOffset_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YA(n,t,e=0,i=.5){const r=k(n,"image","rotateWithOffset","float32");return Me(4===r.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`),Mn.runKernel(ge,{image:r},{radians:t,fillValue:e,center:i})}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dp(n,t,e,i,r,a){null==i&&(i=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==a&&(a=0);const c=n.shape[0];return e=Math.min(e,c),Me(0<=i&&i<=1,()=>`iouThreshold must be in [0, 1], but was '${i}'`),Me(2===n.rank,()=>`boxes must be a 2D tensor, but was of rank '${n.rank}'`),Me(4===n.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${n.shape[1]}`),Me(1===t.rank,()=>"scores must be a 1D tensor"),Me(t.shape[0]===c,()=>`scores has incompatible shape with boxes. Expected ${c}, but was ${t.shape[0]}`),Me(0<=a&&a<=1,()=>`softNmsSigma must be in [0, 1], but was '${a}'`),{maxOutputSize:e,iouThreshold:i,scoreThreshold:r,softNmsSigma:a}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const ZA=$e({nonMaxSuppression_:function cE(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=k(n,"boxes","nonMaxSuppression","float32"),c=k(t,"scores","nonMaxSuppression","float32"),u=dp(a,c,e,i,r);return Mn.runKernel(ao,{boxes:a,scores:c},{maxOutputSize:e=u.maxOutputSize,iouThreshold:i=u.iouThreshold,scoreThreshold:r=u.scoreThreshold})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function f2(n,t,e){const i=function p2(n,t,e){return function eM(n,t,e){let i=0,r=n.length,a=0,c=!1;for(;i<r;){a=i+(r-i>>>1);const u=e(t,n[a]);u>0?i=a+1:(r=a,c=!u)}return c?i:-i-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,t,e||JA)}(n,t,e);n.splice(i<0?-(i+1):i,0,t)}function JA(n,t){return n>t?1:n<t?-1:0}function ZD(n,t,e,i,r){return dE(n,t,e,i,r,0)}function uE(n,t,e,i,r,a){return dE(n,t,e,i,r,0,!1,a,!0)}function JD(n,t,e,i,r,a){return dE(n,t,e,i,r,a,!0)}function dE(n,t,e,i,r,a,c=!1,u=!1,f=!1){const p=[];for(let G=0;G<t.length;G++)t[G]>r&&p.push({score:t[G],boxIndex:G,suppressBeginIndex:0});p.sort(f0);const g=a>0?-.5/a:0,y=[],x=[];for(;y.length<e&&p.length>0;){const G=p.pop(),{score:he,boxIndex:xe,suppressBeginIndex:et}=G;if(he<r)break;let it=!1;for(let Dt=y.length-1;Dt>=et;--Dt){const Yt=tM(n,xe,y[Dt]);if(Yt>=i){it=!0;break}if(G.score=G.score*nM(i,g,Yt),G.score<=r)break}G.suppressBeginIndex=y.length,it||(G.score===he?(y.push(xe),x.push(G.score)):G.score>r&&f2(p,G,f0))}const P=y.length,j=e-P;u&&j>0&&(y.push(...new Array(j).fill(0)),x.push(...new Array(j).fill(0)));const J={selectedIndices:y};return c&&(J.selectedScores=x),f&&(J.validOutputs=P),J}function tM(n,t,e){const i=n.subarray(4*t,4*t+4),r=n.subarray(4*e,4*e+4),a=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),p=Math.min(r[0],r[2]),g=Math.min(r[1],r[3]),y=Math.max(r[0],r[2]),x=Math.max(r[1],r[3]),P=(u-a)*(f-c),j=(y-p)*(x-g);if(P<=0||j<=0)return 0;const J=Math.max(a,p),G=Math.max(c,g),he=Math.min(u,y),xe=Math.min(f,x),et=Math.max(he-J,0)*Math.max(xe-G,0);return et/(P+j-et)}function nM(n,t,e){const i=Math.exp(t*e*e);return e<=n?i:0}function f0(n,t){return n.score-t.score||n.score===t.score&&t.boxIndex-n.boxIndex}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Yy(){return(Yy=(0,oe.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=k(n,"boxes","nonMaxSuppressionAsync"),c=k(t,"scores","nonMaxSuppressionAsync"),u=dp(a,c,e,i,r);e=u.maxOutputSize,i=u.iouThreshold,r=u.scoreThreshold;const f=yield Promise.all([a.data(),c.data()]),p=f[0],g=f[1],{selectedIndices:y}=ZD(p,g,e,i,r);return a!==n&&a.dispose(),c!==t&&c.dispose(),uu(y,"int32")})).apply(this,arguments)}const Qy=$e({nonMaxSuppressionWithScore_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eT(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=k(n,"boxes","nonMaxSuppression"),u=k(t,"scores","nonMaxSuppression"),f=dp(c,u,e,i,r,a),y=Mn.runKernel(_l,{boxes:c,scores:u},{maxOutputSize:e=f.maxOutputSize,iouThreshold:i=f.iouThreshold,scoreThreshold:r=f.scoreThreshold,softNmsSigma:a=f.softNmsSigma});return{selectedIndices:y[0],selectedScores:y[1]}}});function hE(){return(hE=(0,oe.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=k(n,"boxes","nonMaxSuppressionAsync"),u=k(t,"scores","nonMaxSuppressionAsync"),f=dp(c,u,e,i,r,a);e=f.maxOutputSize,i=f.iouThreshold,r=f.scoreThreshold,a=f.softNmsSigma;const p=yield Promise.all([c.data(),u.data()]),g=p[0],y=p[1],{selectedIndices:x,selectedScores:P}=JD(g,y,e,i,r,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:uu(x,"int32"),selectedScores:uu(P)}})).apply(this,arguments)}const iT=$e({nonMaxSuppressionPadded_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nT(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=k(n,"boxes","nonMaxSuppression"),u=k(t,"scores","nonMaxSuppression"),f=dp(c,u,e,i,r,null),j=Mn.runKernel(Yo,{boxes:c,scores:u},{maxOutputSize:f.maxOutputSize,iouThreshold:f.iouThreshold,scoreThreshold:f.scoreThreshold,padToMaxOutputSize:a});return{selectedIndices:j[0],validOutputs:j[1]}}});function m0(){return(m0=(0,oe.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=k(n,"boxes","nonMaxSuppressionAsync"),u=k(t,"scores","nonMaxSuppressionAsync"),f=dp(c,u,e,i,r,null),p=f.maxOutputSize,g=f.iouThreshold,y=f.scoreThreshold,[x,P]=yield Promise.all([c.data(),u.data()]),{selectedIndices:j,validOutputs:J}=uE(x,P,p,g,y,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:uu(j,"int32"),validOutputs:Kr(J,"int32")}})).apply(this,arguments)}const sT=$e({resizeBilinear_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rM(n,t,e=!1,i=!1){const r=k(n,"images","resizeBilinear");Me(3===r.rank||4===r.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),Me(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),Me(!1===i||!1===e,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Wn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Mn.runKernel(Li,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Wn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),oT=$e({resizeNearestNeighbor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jy(n,t,e=!1,i=!1){const r=k(n,"images","resizeNearestNeighbor");Me(3===r.rank||4===r.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),Me(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),Me("float32"===r.dtype||"int32"===r.dtype,()=>"`images` must have `int32` or `float32` as dtype"),Me(!1===i||!1===e,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Wn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Mn.runKernel(mr,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Wn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),g0=$e({threshold_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * https://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sM(n,t="binary",e=!1,i=.5){const r=k(n,"image","threshold"),f=r.shape[0]*r.shape[1];let g,y,x,P,p=ae(uu([i]),255);if(Me(3===r.rank,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),Me(3===r.shape[2]||1===r.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),Me("int32"===r.dtype||"float32"===r.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),Me("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===r.shape[2]){[g,y,x]=dd(r,[1,1,1],-1);const G=ae(g,.2989),he=ae(y,.587),xe=ae(x,.114);P=Wi(Wi(G,he),xe)}else P=n;"otsu"===t&&(p=function oM(n,t){let a,c,u,f,p,g,e=uu([-1]),i=uu([0]),r=uu([0]);for(let y=0;y<n.size-1;y++){a=Wo(n,0,y+1),c=Wo(n,y+1),p=R(Hr(a),t),g=R(Hr(c),t);const x=Hr(ae(a,Fy(0,a.size)));u=R(x,Hr(a));const P=wu(c.shape,a.size),j=Wi(Fy(0,c.size),P),J=ae(c,j);f=R(Hr(J),Hr(c));const G=Vr(u,f),he=Vr(u,f),xe=ae(p,g);r=ae(ae(xe,G),he);const et=ud(r,i);i=ou(et,r,i),e=ou(et,uu([y]),e)}return e}(yy(yr(ng(P),"int32"),gi([]),256),f));const j=e?Ud(P,p):ud(P,p);return yr(ae(j,255),"int32")}}),lT=$e({transform_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aT(n,t,e="nearest",i="constant",r=0,a){const c=k(n,"image","transform","float32"),u=k(t,"transforms","transform","float32");return Me(4===c.rank,()=>`Error in transform: image must be rank 4,but got rank ${c.rank}.`),Me(2===u.rank&&(u.shape[0]===c.shape[0]||1===u.shape[0])&&8===u.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Me(null==a||2===a.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`),Mn.runKernel(Ds,{image:c,transforms:u},{interpolation:e,fillMode:i,fillValue:r,outputShape:a})}}),aM=$e({bandPart_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cT(n,t,e){const i=k(n,"a","bandPart");Me(i.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${i.rank}.`);const r=i.shape,[a,c]=i.shape.slice(-2);let u,f;"number"==typeof t?(Me(t%1==0,()=>`bandPart(): numLower must be an integer, got ${t}.`),Me(t<=a,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`),u=k(t<0?a:t,"numLower","bandPart")):(Me("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),u=ou(lm(t,0),a,sp(t,a))),"number"==typeof e?(Me(e%1==0,()=>`bandPart(): numUpper must be an integer, got ${e}.`),Me(e<=c,()=>`bandPart(): numUpper (${e}) must not be greater than the number of columns (${c}).`),f=k(e<0?c:e,"numUpper","bandPart")):(Me("int32"===e.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),f=ou(lm(e,0),c,sp(e,c)));const p=Wn(Fy(0,a,1,"int32"),[-1,1]),g=Fy(0,c,1,"int32"),y=Vr(p,g),x=No(Ud(y,u),_f(y,at(f))),P=$c([a,c],i.dtype);return Wn(Ou(uh(Wn(i,[-1,a,c])).map(j=>ou(x,j,P))),r)}}),fE=$e({gramSchmidt_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uT(n){let t;if(Array.isArray(n)){t=!1,Me(null!=n&&n.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=n[0].shape[0];for(let a=1;a<n.length;++a)Me(n[a].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${n[a].shape[0]} vs. ${r})`)}else t=!0,n=dd(n,n.shape[0],0).map(r=>yf(r,[0]));Me(n.length<=n[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${n.length}) exceeds number of dimensions (${n[0].shape[0]}).`);const e=[],i=n;for(let r=0;r<n.length;++r)e.push(Mn.tidy(()=>{let a=i[r];if(r>0)for(let c=0;c<r;++c){const u=ae(Hr(ae(e[c],a)),e[c]);a=Vr(a,u)}return R(a,gf(a,"euclidean"))}));return t?Ou(e,0):e}});function dT(n,t=!1){return Mn.tidy(()=>{Me(2===n.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${n.shape.length}D Tensor.`);const e=n.shape[0],i=n.shape[1];let r=im(e),a=bd(n);const c=cg([[1]],[1,1]);let u=bd(c);const f=e>=i?i:e;for(let p=0;p<f;++p){const g=a,y=u,x=r;[u,a,r]=Mn.tidy(()=>{const P=Wo(a,[p,p],[e-p,1]),j=gf(P),J=Wo(a,[p,p],[1,1]),G=ou(ud(J,0),cg([[-1]]),cg([[1]])),he=Vr(J,ae(G,j)),xe=R(P,he);u=1===xe.shape[0]?bd(c):cc([c,Wo(xe,[1,0],[xe.shape[0]-1,xe.shape[1]])],0);const et=at(R(Ro(G,he),j)),it=Wo(a,[p,0],[e-p,i]),Dt=ae(et,u),Yt=oa(u);if(0===p)a=Vr(it,Ro(Dt,Ro(Yt,it)));else{const On=Vr(it,Ro(Dt,Ro(Yt,it)));a=cc([Wo(a,[0,0],[p,i]),On],0)}const pn=oa(Dt),bn=Wo(r,[0,p],[e,r.shape[1]-p]);if(0===p)r=Vr(bn,Ro(Ro(bn,u),pn));else{const On=Vr(bn,Ro(Ro(bn,u),pn));r=cc([Wo(r,[0,0],[e,p]),On],1)}return[u,a,r]}),Sr([g,y,x])}return!t&&e>i&&(r=Wo(r,[0,0],[e,i]),a=Wo(a,[0,0],[i,i])),[r,a]})}const lM=$e({qr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _0(n,t=!1){if(Me(n.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${n.rank}`),2===n.rank)return dT(n,t);{const e=n.shape.slice(0,n.shape.length-2).reduce((f,p)=>f*p),i=uh(Wn(n,[e,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),r=[],a=[];return i.forEach(f=>{const[p,g]=dT(f,t);r.push(p),a.push(g)}),[Wn(Ou(r,0),n.shape),Wn(Ou(a,0),n.shape)]}}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Cd=function(n){return n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",n}(Cd||{});const hp=$e({computeWeightedLoss_:function cM(n,t,e=Cd.SUM_BY_NONZERO_WEIGHTS){const i=k(n,"losses","computeWeightedLoss");let r=null;null!=t&&(r=k(t,"weights","computeWeightedLoss"));const a=null==r?i:ae(i,r);if(e===Cd.NONE)return a;if(e===Cd.SUM)return Hr(a);if(e===Cd.MEAN){if(null==r)return uc(a);{const c=i.size/r.size,u=R(Hr(a),Hr(r));return c>1?R(u,Kr(c)):u}}if(e===Cd.SUM_BY_NONZERO_WEIGHTS){if(null==r)return R(Hr(a),Kr(i.size));{const c=ae(r,zd(i.shape)),u=yr(Hr(p_(c,Kr(0))),"float32");return R(Hr(a),u)}}throw Error(`Unknown reduction: ${e}`)}}),pE=$e({absoluteDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uM(n,t,e,i=Cd.SUM_BY_NONZERO_WEIGHTS){const r=k(n,"labels","absoluteDifference"),a=k(t,"predictions","absoluteDifference");let c=null;null!=e&&(c=k(e,"weights","absoluteDifference")),kn(r.shape,a.shape,"Error in absoluteDifference: ");const u=Pa(Vr(r,a));return hp(u,c,i)}}),hT=$e({cosineDistance_:function eb(n,t,e,i,r=Cd.SUM_BY_NONZERO_WEIGHTS){const a=k(n,"labels","cosineDistance"),c=k(t,"predictions","cosineDistance");let u=null;null!=i&&(u=k(i,"weights","cosineDistance")),kn(a.shape,c.shape,"Error in cosineDistance: ");const f=Kr(1),p=Vr(f,Hr(ae(a,c),e,!0));return hp(p,u,r)}}),dM=$e({hingeLoss_:function fT(n,t,e,i=Cd.SUM_BY_NONZERO_WEIGHTS){let r=k(n,"labels","hingeLoss");const a=k(t,"predictions","hingeLoss");let c=null;null!=e&&(c=k(e,"weights","hingeLoss")),kn(r.shape,a.shape,"Error in hingeLoss: ");const u=Kr(1);r=Vr(ae(Kr(2),r),u);const f=ch(Vr(u,ae(r,a)));return hp(f,c,i)}}),y0=$e({huberLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tb(n,t,e,i=1,r=Cd.SUM_BY_NONZERO_WEIGHTS){const a=k(n,"labels","huberLoss"),c=k(t,"predictions","huberLoss");let u=null;null!=e&&(u=k(e,"weights","huberLoss")),kn(a.shape,c.shape,"Error in huberLoss: ");const f=Kr(i),p=Pa(Vr(c,a)),g=sp(p,f),y=Vr(p,g),x=Wi(ae(Kr(.5),qn(g)),ae(f,y));return hp(x,u,r)}}),hM=$e({logLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m2(n,t,e,i=1e-7,r=Cd.SUM_BY_NONZERO_WEIGHTS){const a=k(n,"labels","logLoss"),c=k(t,"predictions","logLoss");let u=null;null!=e&&(u=k(e,"weights","logLoss")),kn(a.shape,c.shape,"Error in logLoss: ");const f=Kr(1),p=Kr(i),g=at(ae(a,v(Wi(c,p)))),y=ae(Vr(f,a),v(Wi(Vr(f,c),p))),x=Vr(g,y);return hp(x,u,r)}}),mE=$e({meanSquaredError_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pT(n,t,e,i=Cd.SUM_BY_NONZERO_WEIGHTS){const r=k(n,"labels","meanSquaredError"),a=k(t,"predictions","meanSquaredError");let c=null;null!=e&&(c=k(e,"weights","meanSquaredError")),kn(r.shape,a.shape,"Error in meanSquaredError: ");const u=a0(r,a);return hp(u,c,i)}}),pM=$e({sigmoidCrossEntropy_:function mT(n,t,e,i=0,r=Cd.SUM_BY_NONZERO_WEIGHTS){let a=k(n,"multiClassLabels","sigmoidCrossEntropy");const c=k(t,"logits","sigmoidCrossEntropy");let u=null;if(null!=e&&(u=k(e,"weights","sigmoidCrossEntropy")),kn(a.shape,c.shape,"Error in sigmoidCrossEntropy: "),i>0){const p=Kr(i),g=Kr(1),y=Kr(.5);a=Wi(ae(a,Vr(g,p)),ae(y,p))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fM(n,t){const e=k(n,"labels","sigmoidCrossEntropyWithLogits"),i=k(t,"logits","sigmoidCrossEntropyWithLogits");kn(e.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=ch(i),a=ae(i,e),c=ue(lu(at(Pa(i))));return Wi(Vr(r,a),c)}(a,c);return hp(f,u,r)}}),yT=$e({softmaxCrossEntropy_:function _T(n,t,e,i=0,r=Cd.SUM_BY_NONZERO_WEIGHTS){let a=k(n,"onehotLabels","softmaxCrossEntropy");const c=k(t,"logits","softmaxCrossEntropy");let u=null;if(null!=e&&(u=k(e,"weights","softmaxCrossEntropy")),kn(a.shape,c.shape,"Error in softmaxCrossEntropy: "),i>0){const p=Kr(i),g=Kr(1),y=Kr(a.shape[1]);a=Wi(ae(a,Vr(g,p)),R(p,y))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gT(n,t,e=-1){if(-1===e&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${e}`);return dl((r,a,c)=>{const f=Ks(a,[e],!0),p=Vr(yr(a,"float32"),f);c([r,p]);const g=at(ae(p,r));return{value:Hr(g,[e]),gradFunc:(P,j)=>{const[J,G]=j,he=Sc(P.shape,[e]);return[ae(Wn(P,he),Vr(yr(J,"float32"),lu(G))),ae(Wn(P,he),Vr(lu(G),yr(J,"float32")))]}}})(n,t)}(a,c);return hp(f,u,r)}}),b_={fft:s0,ifft:Vy,rfft:ap,irfft:o0},bT={hammingWindow:GA,hannWindow:GD,frame:XD,stft:KA},dh={flipLeftRight:QD,grayscaleToRGB:Ky,resizeNearestNeighbor:oT,resizeBilinear:sT,rgbToGrayscale:qA,rotateWithOffset:QA,cropAndResize:YD,nonMaxSuppression:ZA,nonMaxSuppressionAsync:function qy(n,t,e){return Yy.apply(this,arguments)},nonMaxSuppressionWithScore:Qy,nonMaxSuppressionWithScoreAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tT(n,t,e){return hE.apply(this,arguments)},nonMaxSuppressionPadded:iT,nonMaxSuppressionPaddedAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rT(n,t,e){return m0.apply(this,arguments)},threshold:g0,transform:lT},vT={bandPart:aM,gramSchmidt:fE,qr:lM},SM={absoluteDifference:pE,computeWeightedLoss:hp,cosineDistance:hT,hingeLoss:dM,huberLoss:y0,logLoss:hM,meanSquaredError:mE,sigmoidCrossEntropy:pM,softmaxCrossEntropy:yT},DM={sparseFillEmptyRows:$e({sparseFillEmptyRows_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gE(n,t,e,i){const r=k(n,"indices","sparseFillEmptyRows","int32"),a=k(t,"values","sparseFillEmptyRows"),c=k(e,"denseShape","sparseFillEmptyRows","int32"),u=k(i,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==c.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${c.shape}`);if(0!==u.rank)throw new Error(`Default value should be a scalar but received shape ${u.shape}`);const p=Mn.runKernel(To,{indices:r,values:a,denseShape:c,defaultValue:u});return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}}),sparseReshape:$e({sparseReshape_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gM(n,t,e){const i=k(n,"inputIndices","sparseReshape","int32"),r=k(t,"inputShape","sparseReshape","int32"),a=k(e,"newShape","sparseReshape","int32");if(2!==i.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const u=Mn.runKernel(Cs,{inputIndices:i,inputShape:r,newShape:a});return{outputIndices:u[0],outputShape:u[1]}}}),sparseSegmentMean:$e({sparseSegmentMean_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yM(n,t,e){const i=k(n,"data","sparseSegmentMean"),r=k(t,"indices","sparseSegmentMean","int32"),a=k(e,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);return Mn.runKernel(qs,{data:i,indices:r,segmentIds:a})}}),sparseSegmentSum:$e({sparseSegmentSum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vM(n,t,e){const i=k(n,"data","sparseSegmentSum"),r=k(t,"indices","sparseSegmentSum","int32"),a=k(e,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);return Mn.runKernel(Ec,{data:i,indices:r,segmentIds:a})}})},TM={stringNGrams:$e({stringNGrams_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wM(n,t,e,i,r,a,c,u){const f=k(n,"data","stringNGrams","string");if("string"!==f.dtype)throw new Error("Data must be of datatype string");if(1!==f.shape.length)throw new Error(`Data must be a vector, saw: ${f.shape}`);const p=k(t,"dataSplits","stringNGrams");if("int32"!==p.dtype)throw new Error("Data splits must be of datatype int32");const x=Mn.runKernel(Ss,{data:f,dataSplits:p},{separator:e,nGramWidths:i,leftPad:r,rightPad:a,padWidth:c,preserveShortSequences:u});return{nGrams:x[0],nGramsSplits:x[1]}}}),stringSplit:$e({stringSplit_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EM(n,t,e=!0){const i=k(n,"input","stringSplit","string"),r=k(t,"delimiter","stringSplit","string");if(1!==i.rank)throw new Error(`Input should be Tensor1D but received shape ${i.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const u=Mn.runKernel(bo,{input:i,delimiter:r},{skipEmpty:e});return{indices:u[0],values:u[1],shape:u[2]}}}),stringToHashBucketFast:$e({stringToHashBucketFast_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nb(n,t){const e=k(n,"input","stringToHashBucketFast","string"),i={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");return Mn.runKernel(gd,{input:e},i)}}),staticRegexReplace:$e({staticRegexReplace_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bE(n,t,e,i=!0){const r=k(n,"input","staticRegexReplace","string");return Mn.runKernel(Tl,{x:r},{pattern:t,rewrite:e,replaceGlobal:i})}})},v_=
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class wT{static sgd(t){return new Rm(t)}static momentum(t,e,i=!1){return new id(t,e,i)}static rmsprop(t,e=.9,i=0,r=null,a=!1){return new ix(t,e,i,r,a)}static adam(t=.001,e=.9,i=.999,r=null){return new nv(t,e,i,r)}static adadelta(t=.001,e=.95,i=null){return new Hf(t,e,i)}static adamax(t=.002,e=.9,i=.999,r=null,a=0){return new nd(t,e,i,r,a)}static adagrad(t,e=.1){return new Ug(t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,xT=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:n=>n();function ib(){return new Promise(n=>xT(()=>n()))}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function vE(n,t){const e=n[0].length;n.forEach((r,a)=>{Me(r.length===e,()=>`Error in concat${e}D: rank of tensors[${a}] must be the same as the rank of the rest (${e})`)}),Me(t>=0&&t<e,()=>`Error in concat${e}D: axis must be between 0 and ${e-1}.`);const i=n[0];n.forEach((r,a)=>{for(let c=0;c<e;c++)Me(c===t||r[c]===i[c],()=>`Error in concat${e}D: Shape of tensors[${a}] (${r}) does not match the shape of the rest (${i}) along the non-concatenated axis ${a}.`)})}function wf(n,t){const e=n[0].slice();for(let i=1;i<n.length;i++)e[t]+=n[i][t];return e}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Wh=function(n){return n[n.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",n[n.VALUE_ROWIDS=1]="VALUE_ROWIDS",n[n.ROW_LENGTHS=2]="ROW_LENGTHS",n[n.ROW_SPLITS=3]="ROW_SPLITS",n[n.ROW_LIMITS=4]="ROW_LIMITS",n[n.ROW_STARTS=5]="ROW_STARTS",n}(Wh||{});function ET(n,t,e){let i=new Array;if(null==e&&null==t)return i;if(null==t)for(;i.length<n+e.length;)i.push(-1);else i=t.slice();if(null==e)return i;if(n+e.length!==i.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${n+e.length}, but shape.rank = ${i.length}`);for(let r=1;r<e.length;++r){const a=e[r],c=i[i.length-e.length+r],u=i[c];if(a>=0)if(u>=0){if(u!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+n}] = ${a} but shape[${r+n}] = ${u}`)}else i[c]=a}return i}function CT(n){const t={FIRST_DIM_SIZE:Wh.FIRST_DIM_SIZE,VALUE_ROWIDS:Wh.VALUE_ROWIDS,ROW_LENGTHS:Wh.ROW_LENGTHS,ROW_SPLITS:Wh.ROW_SPLITS,ROW_LIMITS:Wh.ROW_LIMITS,ROW_STARTS:Wh.ROW_STARTS},e=[];for(const i of n){if(!(i in t))break;e.push(t[i])}return e}function fm(n){return 0===n.length?0:n[0]===Wh.FIRST_DIM_SIZE?n.length-1:n.length}function hg(n,t){if(null==n||null==t)return;const e=n.length,i=t.length;if(e>=i)throw new Error(`defaultValue.shape=${n} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${e} must be less than ragged tensor input flatValues.rank = ${i})`);for(let r=0;r<Math.min(e,i-1);++r){const a=n[r],c=t[r+1];if(a>=0&&c>=0&&1!==a&&a!==c)throw new Error(`defaultValue.shape=${n}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-n.length}] = ${a} but ragged tensor input.flatValues.shape[${r-n.length}] = ${c}`)}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fg=30;function wE(n){return n<=fg?n:Ht(n,Math.floor(Math.sqrt(n)))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function b0(n,t,e){return[e*("number"==typeof n?n:n[0]),t*("number"==typeof n?n:n[1])]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function pg(n,t,e,i=!0){let r=[];if(i)r=r.concat(t.slice(0)),r.push(n[0]/e),r=r.concat(n.slice(1));else{r=r.concat(n[0]);const a=t.length;for(let c=0;c<a;++c)r=r.concat([n[c+1]/t[c],t[c]]);r=r.concat(n.slice(a+1))}return r}function rb(n,t,e=!0){const i=[];if(e){i.push(t);for(let r=t+1;r<n;++r)r<=2*t?(i.push(r),i.push(r-(t+1))):i.push(r)}else{const r=[],a=[];for(let c=1;c<n;++c)c>=2*t+1||c%2==1?a.push(c):r.push(c);i.push(...r),i.push(0),i.push(...a)}return i}function w_(n,t,e,i=!0){const r=[];r.push(i?n[0]/e:n[0]*e);for(let a=1;a<n.length;++a)r.push(a<=t.length?i?t[a-1]*n[a]:n[a]/t[a-1]:n[a]);return r}function xE(n,t){const e=[0];for(let i=0;i<t;++i)e.push(n[i][0]);return e}function v0(n,t,e){const i=n.slice(0,1);for(let r=0;r<e;++r)i.push(n[r+1]-t[r][0]-t[r][1]);return i}function ST(n,t){const e=n.shape.length,i=t.shape.length;if(e<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${e}.`);if(i<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${i}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[i-1]>e)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[i-1]} vs. ${e}`);if(0===Ot(n.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${n.shape}.`);const r=t.shape,a=r[r.length-1];let c=1;for(let y=0;y<r.length-1;++y)c*=r[y];const u=n.shape,f=r.slice();f.pop();let p=1;for(let y=a;y<e;++y)p*=u[y],f.push(u[y]);const g=[...Bt(n.shape).map(y=>y/p),1].slice(0,a);return[f,c,p,g]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const w0=1.7580993408473768,pm=1.0507009873554805,sb=.3275911,EE=.254829592,CE=-.284496736,SE=1.421413741,ob=-1.453152027,xf=1.061405429;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hh(n,t){if(n.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${n.length}, imag: ${t.length}.`);const e=new Float32Array(2*n.length);for(let i=0;i<e.length;i+=2)e[i]=n[i/2],e[i+1]=t[i/2];return e}function DE(n){const t=new Float32Array(n.length/2),e=new Float32Array(n.length/2);for(let i=0;i<n.length;i+=2)t[i/2]=n[i],e[i/2]=n[i+1];return{real:t,imag:e}}function x_(n){const t=Math.ceil(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=0;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function DT(n){const t=Math.floor(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=2;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function TE(n,t){return{real:n[2*t],imag:n[2*t+1]}}function x0(n,t,e,i){n[2*i]=t,n[2*i+1]=e}function IE(n,t){const e=new Float32Array(n/2),i=new Float32Array(n/2);for(let r=0;r<Math.ceil(n/2);r++){const a=(t?2:-2)*Math.PI*(r/n);e[r]=Math.cos(a),i[r]=Math.sin(a)}return{real:e,imag:i}}function fp(n,t,e){const i=(e?2:-2)*Math.PI*(n/t);return{real:Math.cos(i),imag:Math.sin(i)}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const mg="->",g2=/->/g,ab=",",kE="...";function E0(n,t){const e=((n=n.replace(/\s/g,"")).length-n.replace(g2,"").length)/mg.length;if(e<1)throw new Error("Equations without an arrow are not supported.");if(e>1)throw new Error(`Equation must contain exactly one arrow ("${mg}").`);const[i,r]=n.split(mg);Me(-1===i.indexOf(kE),()=>`The ellipsis notation ("${kE}") is not supported yet.`);const a=i.split(ab),c=a.length;if(t!==c)throw new Error(`Expected ${c} input tensors, received ${t}`);if(c>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const u=[];for(let x=0;x<r.length;++x){const P=r[x];if(!a.some(j=>-1!==j.indexOf(P)))throw new Error(`Output subscripts contain the label ${P} not present in the input subscripts.`);-1===u.indexOf(P)&&u.push(P)}for(let x=0;x<i.length;++x){const P=i[x];-1===u.indexOf(P)&&P!==ab&&u.push(P)}const f=new Array(a.length);for(let x=0;x<c;++x){if(new Set(a[x].split("")).size!==a[x].length)throw new Error(`Found duplicate axes in input component ${a[x]}. Support for duplicate axes in input is not implemented yet.`);f[x]=[];for(let P=0;P<a[x].length;++P)f[x].push(u.indexOf(a[x][P]))}const p=u.length,y=[];for(let x=r.length;x<p;++x)y.push(x);return{allDims:u,summedDims:y,idDims:f}}function AE(n,t){let e=new Array(n);e.fill(-1);for(let r=0;r<t.length;++r)e[t[r]]=r;const i=[];for(let r=0;r<n;++r)-1===e[r]&&i.push(r);return e=e.filter(r=>-1!==r),{permutationIndices:e,expandDims:i}}function gg(n,t,e){const i=new Array(n);for(let r=0;r<e.length;++r){const a=e[r].shape;for(let c=0;c<t[r].length;++c)void 0===i[t[r][c]]?i[t[r][c]]=a[c]:Me(i[t[r][c]]===a[c],()=>`Expected dimension ${i[t[r][c]]} at axis ${c} of input shaped ${JSON.stringify(a)}, but got dimension ${a[c]}`)}}function ME(n,t){const e=n,i=[];let r=0;0===n.length&&e.push(-1),r=n.length+1;for(let c=0;c<r;++c)i.push([]);const a=[];for(let c=0;c<e.length;++c){const f=IM(t,e[c]);for(const p of f)-1===a.indexOf(p)&&(i[c].push(p),a.push(p))}return{path:e,steps:i}}function RE(n){return n.every((t,e)=>t===e)}function IM(n,t){const e=[];for(let i=0;i<n.length;++i)(0===n[i].length||-1!==n[i].indexOf(t)||-1===t)&&e.push(i);return e}function NE(n,t,e=0){let i=[];if("number"==typeof t)Me(n.shape[e]%t==0,()=>"Number of splits must evenly divide the axis."),i=new Array(t).fill(n.shape[e]/t);else{Me(t.reduce((c,u)=>(-1===u&&(c+=1),c),0)<=1,()=>"There should be only one negative value in split array.");const a=t.indexOf(-1);if(-1!==a){const c=t.reduce((u,f)=>f>0?u+f:u);t[a]=n.shape[e]-c}Me(n.shape[e]===t.reduce((c,u)=>c+u),()=>"The sum of sizes must match the size of the axis dimension."),i=t}return i}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function TT(n){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${n}`}function IT(n,t){return`indices(${n}, 0) is invalid: ${t} < 0`}function kT(n,t,e){return`indices(${n}, 0) is invalid: ${t} >= ${e}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AT(n,t){return`only one output dimension may be -1, not both ${n} and ${t}`}function lb(n,t){return`size ${n} must be non-negative, not ${t}`}function MT(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function RT(n,t){return`Input to reshape is a SparseTensor with ${Ot(n)}\n  dense values, but the requested shape requires a multiple of ${Ot(t)}. inputShape=${n} outputShape= ${t}`}function OE(n,t){return`Input to reshape is a tensor with ${Ot(n)} dense values, but the requested shape has ${Ot(t)}. inputShape=${n} outputShape=${t}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function C0(){return"segment ids must be >= 0"}function S0(){return"segment ids are not increasing"}function PE(n,t){return`Segment id ${n} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function NT(n,t,e){return`Bad: indices[${n}] == ${t} out of range [0, ${e})`}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function FE(n,t){let i,e=!1;for(n<=fg?(i=n,e=!0):i=Ht(n,Math.floor(Math.sqrt(n)));!e;)i>t||i===n?e=!0:i=Ht(n,i+1);return i}function D0(n,t,e){const i=[],r=n.length;for(let a=0;a<r;a++)i.push(a!==t?n[a]:e);return i}function T0(n,t,e,i){const r=t.shape.length,a=n.shape.length;if(0!==i&&(i<-r||i>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${i}`);if(i<0&&(i+=r),i>a)throw new Error(`batchDims (${i}) must be less than rank(x) (\n    ${a}).`);if(e<i)throw new Error(`batchDims (${i}) must be less than or equal to axis (${e}).`);for(let y=0;y<i;++y)if(n.shape[y]!==t.shape[y])throw new Error(`x.shape[${y}]: ${n.shape[y]} should be equal to indices.shape[${y}]: ${t.shape[y]}.`);const c=n.shape[e],u=[];let f=1,p=1,g=1;for(let y=0;y<i;++y)u.push(n.shape[y]),f*=n.shape[y];for(let y=i;y<e;y++)u.push(n.shape[y]),p*=n.shape[y];for(let y=i;y<r;y++)u.push(t.shape[y]);for(let y=e+1;y<a;y++)u.push(n.shape[y]),g*=n.shape[y];return{batchSize:f,sliceSize:g,outerSize:p,dimSize:c,outputShape:u}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ef(n){try{return n.map(t=>Hc(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function OT(n){return n.map(t=>pu(t))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */!function iy(){for(const n of Mp)qi(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */();
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const PT={kernelName:Mt,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,lg(yr(e,"float32"),-1))}}},kM={kernelName:hn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=qn(yr(e,"float32")),r=tn(Vr(Kr(1),i));return at(R(n,r))}}}},LE={kernelName:Kn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=tn(Vr(qn(yr(e,"float32")),1));return R(n,i)}}}},$E={kernelName:Jn,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{let u=n;const f=hl(e.shape,r);return f.length>0&&(u=Hr(u,f)),Wn(u,e.shape)},b:()=>{let u=n;const f=hl(i.shape,r);return f.length>0&&(u=Hr(u,f)),Wn(u,i.shape)}}}},FT={kernelName:Bi,saveAllInputs:!0,gradFunc:(n,t)=>{const e={};return t.forEach((i,r)=>{e[r]=()=>n.clone()}),e}},BE={kernelName:br,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Ji(e)}}},VE={kernelName:Tr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Ji(e)}}},AM={kernelName:Hi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,tn(Vr(Kr(1),qn(yr(e,"float32")))))}}},MM={kernelName:xr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=tn(Wi(Kr(1),qn(yr(e,"float32"))));return R(n,i)}}}},RM={kernelName:bs,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{const u=Wi(qn(e),qn(i));let f=ae(n,R(i,u));const p=hl(e.shape,r);return p.length>0&&(f=Hr(f,p)),Wn(f,e.shape)},b:()=>{const u=Wi(qn(e),qn(i));let f=at(ae(n,R(e,u)));const p=hl(i.shape,r);return p.length>0&&(f=Hr(f,p)),Wn(f,i.shape)}}}},NM={kernelName:as,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,Wi(qn(yr(e,"float32")),1))}}},LT={kernelName:ts,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,Vr(Kr(1),qn(yr(e,"float32"))))}}},zE=$e({avgPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UE(n,t,e,i,r,a){const c=k(n,"dy","avgPool3dGrad"),u=k(t,"input","avgPool3dGrad");let f=c,p=u,g=!1;4===u.rank&&(g=!0,f=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),p=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Me(5===f.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`),Me(5===p.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${p.rank}.`),Fc("avgPool3dGrad",r,a);const P=Mn.runKernel(Ir,{dy:f,input:p},{filterSize:e,strides:i,pad:r,dimRoundingMode:a});return g?Wn(P,[P.shape[1],P.shape[2],P.shape[3],P.shape[4]]):P}}),$T={kernelName:lr,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c,dimRoundingMode:u}=e;return{x:()=>zE(n,i,r,a,c,u)}}},VT=$e({avgPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BT(n,t,e,i,r){const a=k(n,"dy","avgPoolGrad"),c=k(t,"input","avgPoolGrad");Me(c.rank===a.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${a.rank})`);let u=c,f=a,p=!1;3===c.rank&&(p=!0,u=Wn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),f=Wn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Me(4===f.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`),Me(4===u.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${u.rank}.`);const x=Mn.runKernel(ds,{dy:f,input:u},{filterSize:e,strides:i,pad:r});return p?Wn(x,[x.shape[1],x.shape[2],x.shape[3]]):x}}),OM={kernelName:Os,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c}=e;return{x:()=>VT(n,i,r,a,c)}}},UT={kernelName:vr,inputsToSave:["a","b"],gradFunc:(n,t,e)=>{const[i,r]=t,{transposeA:a,transposeB:c}=e;return a||c?!a&&c?{a:()=>Ro(n,r,!1,!1),b:()=>Ro(n,i,!0,!1)}:a&&!c?{a:()=>Ro(r,n,!1,!0),b:()=>Ro(i,n,!1,!1)}:{a:()=>Ro(r,n,!0,!0),b:()=>Ro(n,i,!0,!0)}:{a:()=>Ro(n,r,!1,!0),b:()=>Ro(i,n,!0,!1)}}},PM={kernelName:tr,gradFunc:(n,t,e)=>{const{blockShape:i,crops:r}=e;return{x:()=>Px(n,i,r)}}},jE={kernelName:"BroadcastTo",gradFunc:(n,t,e)=>{const r=e.inputShape,a=e.shape,c=Array.from(a);for(let f=r.length-1;f>=0;f--)if(r[f]===a[f])c[f]=1;else if(1!==r[f])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${a}].`);const u=[];for(let f=0;f<c.length;f++)c[f]>1&&u.push(f);return{x:()=>Hr(n,u,!0)}}},zT={kernelName:Ke,gradFunc:n=>({x:()=>n.clone()})},jT={kernelName:ze,gradFunc:n=>({x:()=>Ji(n)})},hd={kernelName:kt,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{clipValueMin:r,clipValueMax:a}=e;return{x:()=>ou(No(_f(i,r),Ud(i,a)),n,Ji(n))}}},WE={kernelName:mi,inputsToSave:["x"],gradFunc:PT.gradFunc},_2={kernelName:Zi,saveAllInputs:!0,gradFunc:(n,t,e)=>{const i=t.map(f=>f.shape),{axis:r}=e,a=wn(r,t[0].shape)[0],c=i.map(f=>f[a]);return dd(n,c,a).map(f=>()=>f)}},y2={kernelName:cr,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{dilations:a,strides:c,pad:u,dataFormat:f}=e;return Me(ju(a),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`),{x:()=>Vh(i.shape,n,r,c,u,f),filter:()=>rE(i,n,r.shape,c,u,f)}}},WT={kernelName:Jr,inputsToSave:["dy","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{strides:a,pad:c,dataFormat:u,dimRoundingMode:f}=e;return{dy:()=>ld(n,r,a,c,u,1,f),filter:()=>rE(n,i,r.shape,a,c,u,f)}}},GT=$e({conv3DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HT(n,t,e,i,r){let a=n;4===n.rank&&(a=Wn(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let c=t;return 4===c.rank&&(c=Wn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Me(5===a.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`),Me(5===c.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${c.shape}.`),Me(5===e.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${e}.`),Me(a.shape[4]===e[3],()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${e[3]}.`),Me(c.shape[4]===e[4],()=>`Error in conv3dDerFilter: depth of dy (${c.shape[4]}) must match output depth for filter (${e[4]}).`),Mn.runKernel(Es,{x:a,dy:c},{strides:i,pad:r,filterShape:e})}}),HE={kernelName:is,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a}=e;Me(ju(i),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const[c,u]=t;return{x:()=>xy(c.shape,n,u,r,a),filter:()=>GT(c,n,u.shape,r,a)}}},KT={kernelName:Gr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(at(e0(yr(e,"float32"))),n)}}},XT={kernelName:rs,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(By(yr(e,"float32")),n)}}},qT={kernelName:Bo,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r,exclusive:a,reverse:c}=e;return{x:()=>{const u=ec([r],i.rank);let f=lh(n,r,a,!c);return null!=u&&(f=oa(f,u)),f}}}},YT={kernelName:Ko,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a,dimRoundingMode:c}=e,u=i??[1,1];Me(ju(u),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`);const[f,p]=t;return Me(4===f.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${f.rank}.`),Me(4===p.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`),Me(f.shape[3]===p.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),Me(su(r,u),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${u}'.`),Fc("depthwiseConv2d",a,c),{x:()=>WD(f.shape,n,p,r,a,u,c),filter:()=>oE(f,n,p.shape,r,a,u,c)}}},FM={kernelName:Jo,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,a={x:i,filter:r,dy:n},c={x:i,filter:r,dy:n};return{x:()=>Mn.runKernel(co,a,e),filter:()=>Mn.runKernel(Ba,c,e)}}},b2={kernelName:xa,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t,i={dy:n,y:e};return{x:()=>Mn.runKernel(Kl,i)}}},v2={kernelName:Ea,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=ae(lu(at(qn(e))),2/Math.sqrt(Math.PI));return{x:()=>ae(n,i)}}},w2={kernelName:Xr,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,e)}}},x2={kernelName:Rr,inputsToSave:["input"],gradFunc:(n,t)=>{const[e]=t;return{input:()=>Wn(n,e.shape)}}},QT={kernelName:uo,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,lu(e))}}},LM={kernelName:Ue,gradFunc:n=>({x:()=>Ji(n)})},$M={kernelName:Wt,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{const u=R(n,yr(i,"float32")),f=hl(e.shape,r);return f.length>0?Wn(Hr(u,f),e.shape):u},b:()=>{let u=ae(n,yr(e,"float32"));const f=hl(i.shape,r);f.length>0&&(u=Wn(Hr(u,f),i.shape));const p=qn(i);return at(R(u,yr(p,"float32")))}}}},E2={kernelName:In,inputsToSave:["x","mean","variance","scale"],gradFunc:(n,t,e)=>{const{varianceEpsilon:i}=e,[r,a,c,u]=t,f=u??Kr(1),p=hl(a.shape,r.shape),g=[];if(1===a.rank){for(let it=0;it<r.shape.length-1;++it)g.push(r.shape[it]);g.push(1)}const y=Vr(r,a),x=ae(n,f),P=$y(Wi(c,Kr(i))),j=ae(ae(ae(P,P),P),Kr(-.5));return{x:()=>Wn(ae(ae(n,1===a.rank?Gu(Wn(P,[1,1,1,a.shape[0]]),g):P),f),r.shape),mean:()=>{let it=ae(ae(P,Kr(-1)),x);return 1===a.rank&&(it=Hr(it,p)),Wn(it,a.shape)},variance:()=>{let it=ae(ae(j,y),x);return 1===a.rank&&(it=Hr(it,p)),Wn(it,a.shape)},scale:()=>{const it=ae(y,P);let Dt=ae(n,it);return 1===a.rank&&(Dt=Hr(Dt,p)),Wn(Dt,a.shape)},offset:()=>{let it=n;return 1===a.rank&&(it=Hr(it,p)),Wn(it,a.shape)}}}},ZT={kernelName:fi,inputsToSave:["x","indices"],gradFunc:(n,t,e)=>{const[i,r]=t,{axis:a,batchDims:c}=e,u=wn(a,i.shape)[0],f=(p,g,y)=>()=>{const x=p.shape,P=g.size,j=x.slice(0,u),J=j.length,G=x.slice(a,x.length).slice(1),he=G.length,xe=GE(0,J),et=GE(J+1,J+1+he),it=BM([j,[P],G]),Dt=Wn(y,it),Yt=Wn(g,[P]),pn=BM([[J],xe,et]),bn=oa(Dt,pn);let On=zy(bn,Yt,p.shape[u]);const jn=jh(pn);return On=oa(On,jn),On};if(1===c){const g=i.split(i.shape[0],0);return{x:()=>Ou(g.map((P,j)=>f(P,r.slice(j,1),n.slice(j,1))())).reshape(i.shape),indices:()=>r}}return{x:f(i,r,n),indices:()=>r}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function GE(n,t){const e=[];for(let i=n;i<t;++i)e.push(i);return e}function BM(n){const t=[];for(let e=0;e<n.length;++e)for(let i=0;i<n[e].length;++i)t.push(n[e][i]);return t}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const C2={kernelName:Wr,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>Ji(e),b:()=>Ji(i)}}},S2={kernelName:hs,gradFunc:n=>({x:()=>yr(n,"float32")})},D2={kernelName:ho,gradFunc:n=>({x:()=>Ji(n)})},T2={kernelName:Ar,gradFunc:n=>({x:()=>Ji(n)})},I2={kernelName:$r,gradFunc:n=>({x:()=>Ji(n)})},k2={kernelName:oo,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{alpha:r}=e,a=ud(i,0);return{x:()=>ou(a,n,ae(n,r))}}},A2={kernelName:Ki,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,Wi(e,1))}}},M2={kernelName:la,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,yr(e,"float32"))}}},VM={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;return{logits:()=>{const c=lu(i);return Vr(n,ae(Hr(n,r,!0),c))}}}},cb=$e({localResponseNormalizationBackprop_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function E_(n,t,e,i=5,r=1,a=1,c=.5){return Mn.runKernel(Ya,{x:n,y:t,dy:e},{depthRadius:i,bias:r,alpha:a,beta:c})}}),UM={kernelName:ta,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{depthRadius:a,bias:c,alpha:u,beta:f}=e;return{x:()=>cb(i,r,n,a,c,u,f)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zM(n,t,e,i){return t.rank<e.rank&&(t=Wn(t,Sc(t.shape,i))),n.rank<e.rank&&(n=Wn(n,Sc(n.shape,i))),{x:()=>ae(n,yr(wd(e,t),n.dtype))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const KE={kernelName:sl,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{reductionIndices:r}=i,a=t[0],f=zM(n,t[1],a,wn(r,a.shape));return{x:()=>f.x()}}},jM={kernelName:Ua,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>ae(n,yr(_f(e,i),"float32")),b:()=>ae(n,yr(lm(e,i),"float32"))}}},WM=$e({maxPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function R2(n,t,e,i,r,a,c){const u=k(n,"dy","maxPool3dGrad"),f=k(t,"input","maxPool3dGrad"),p=k(e,"output","maxPool3dGrad");let g=u,y=f,x=p,P=!1;4===f.rank&&(P=!0,g=Wn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),y=Wn(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),x=Wn(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),Me(5===g.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${g.rank}.`),Me(5===y.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${y.rank}.`),Me(5===x.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${x.rank}.`),Fc("maxPool3dGrad",a,c);const G=Mn.runKernel(Do,{dy:g,input:y,output:x},{filterSize:i,strides:r,pad:a,dimRoundingMode:c});return P?Wn(G,[G.shape[1],G.shape[2],G.shape[3],G.shape[4]]):G}}),HM={kernelName:Xl,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=e;return{x:()=>WM(n,i,r,a,c,u,f)}}},I0=$e({maxPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GM(n,t,e,i,r,a,c){const u=k(n,"dy","maxPoolGrad"),f=k(t,"input","maxPoolGrad"),p=k(e,"output","maxPoolGrad");return Me(f.rank===u.rank,()=>`Rank of input (${f.rank}) does not match rank of dy (${u.rank})`),Me(4===u.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),Me(4===f.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${f.rank}.`),Fc("maxPoolGrad",a,c),Mn.runKernel(Sl,{dy:u,input:f,output:p},{filterSize:i,strides:r,pad:a,dimRoundingMode:c})}}),ub={kernelName:fe,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>Wo(n,a,i.shape)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const db={kernelName:Er,gradFunc:(n,t,e)=>{const{blockShape:i,paddings:r}=e;return{x:()=>ad(n,i,r)}}},d1={kernelName:Ts,gradFunc:(n,t,e)=>{const{axis:i}=e;return{x:()=>cc(n,i)}}},f1=[PT,kM,LE,$E,FT,BE,VE,AM,MM,RM,NM,LT,$T,OM,UT,PM,jE,zT,jT,hd,WE,_2,WT,y2,HE,KT,XT,qT,YT,FM,{kernelName:aa,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{const u=R(n,yr(i,"float32")),f=hl(e.shape,r);return f.length>0?Wn(Hr(u,f),e.shape):u},b:()=>{let u=ae(n,yr(e,"float32"));const f=hl(i.shape,r);f.length>0&&(u=Wn(Hr(u,f),i.shape));const p=qn(i);return at(R(u,yr(p,"float32")))}}}},b2,v2,w2,x2,QT,$M,LM,E2,ZT,C2,S2,D2,T2,I2,k2,A2,M2,VM,UM,KE,KE,jM,HM,{kernelName:Da,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u}=e;return{x:()=>I0(n,i,r,a,c,u)}}},{kernelName:Za,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e,a=wn(r,i.shape),f=Ot(au(i.shape,a)[1]);return{x:()=>{const g=i.shape.slice();a.forEach(P=>{g[P]=1});const y=Wn(n,g);return R(ae(y,zd(i.shape,"float32")),f)}}}},{kernelName:Ps,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{axis:r}=i,[a,c]=t,f=zM(n,c,a,wn(r,a.shape));return{x:()=>f.x()}}},{kernelName:Dl,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>ae(n,yr(Ud(e,i),"float32")),b:()=>ae(n,yr(ud(e,i),"float32"))}}},{kernelName:qo,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>Wo(n,a,i.shape)}}},{kernelName:ml,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{const u=hl(e.shape,r);return u.length>0?Wn(Hr(n,u),e.shape):n},b:()=>{const u=ae(n,at(np(R(e,i)))),f=hl(i.shape,r);return f.length>0?Wn(Hr(u,f),i.shape):u}}}},{kernelName:ol,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{const u=ae(n,yr(i,"float32")),f=hl(e.shape,r);return f.length>0?Wn(Hr(u,f),e.shape):u},b:()=>{const u=ae(n,yr(e,"float32")),f=hl(i.shape,r);return f.length>0?Wn(Hr(u,f),i.shape):u}}}},{kernelName:ql,gradFunc:n=>({x:()=>at(n)})},{kernelName:Gt,inputsToSave:["indices"],gradFunc:(n,t)=>{const e=t[0];return{indices:()=>$c(e.shape,"float32")}}},{kernelName:po,gradFunc:n=>({x:()=>Ji(n)})},{kernelName:ne,saveAllInputs:!0,gradFunc:(n,t,e)=>{const{axis:i}=e;return uh(n,i).map(a=>()=>a)}},ub,ub,{kernelName:te,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(n,t)=>{const[e,i,r]=t,a=e,c=i,u=Bs(a.shape,c.shape);return{a:()=>{const g=yr(c,"float32");let y=ae(n,ae(g,ih(a,Vr(g,Kr(1)))));const x=hl(a.shape,u);return x.length>0&&(y=Hr(y,x)),Wn(y,a.shape)},b:()=>{const g=ud(a,0),y=ou(g,v(a),Ji(a));let x=ae(n,ae(r,y));const P=hl(c.shape,u);return P.length>0&&(x=Hr(x,P)),Wn(x,c.shape)}}}},{kernelName:K,inputsToSave:["x","alpha"],gradFunc:(n,t)=>{const[e,i]=t,r=ud(e,0);return{x:()=>ou(r,n,ae(n,i)),alpha:()=>{let a=ou(r,Ji(n),ae(n,e));const c=hl(i.shape,n.shape);return c.length>0&&(a=Hr(a,c)),Wn(a,i.shape)}}}},{kernelName:We,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;let a=[];return a=null==r?i.shape.map((c,u)=>u):"number"==typeof r?[r]:r,{x:()=>function eR(n,t,e){const i=n.shape.length,r=i-e.length,a=ec(e,i);let c=n;null!=a&&(c=oa(n,a));const u=c.shape.slice(),p=u.splice(i-e.length,e.length).reduce((x,P)=>x*P,1);u.push(p);let y=
/**
       * @license
       * Copyright 2022 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function JM(n,t,e){const i=n.shape.slice();i[e]=1;const r=Wn(t,i),a=Ym(n,e,!0,!1),c=Ym(n,e,!0,!0),u=ae(a,c);return ae(r,u)}(c.reshape(u),t,r);if(y=y.reshape(c.shape),null!=a){const x=jh(a);y=oa(y,x)}return y}(i,n,a)}}},{kernelName:ws,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,at(qn(e)))}}},{kernelName:ro,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=ae(Ud(e,6),lg(e));return{x:()=>ae(n,yr(i,"float32"))}}},{kernelName:xs,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,yr(lg(e),"float32"))}}},{kernelName:Yr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Wn(n,e.shape)}}},{kernelName:Li,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Mn.runKernel(Xs,r,e)}}},{kernelName:mr,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Mn.runKernel(Po,r,e)}}},{kernelName:Fo,gradFunc:(n,t,e)=>{const{dims:i}=e,r=wn(i,n.shape);return{x:()=>Hd(n,r)}}},{kernelName:za,gradFunc:n=>({x:()=>Ji(n)})},{kernelName:al,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>at(R(n,ae(ih(e,1.5),2)))}}},{kernelName:_n,inputsToSave:["condition"],gradFunc:(n,t)=>{const[e]=t;return{condition:()=>yr(Ji(e),"float32"),t:()=>ae(n,yr(e,n.dtype)),e:()=>ae(n,yr(il(e),n.dtype))}}},{kernelName:ln,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=ud(e,Kr(0)),r=Kr(w0),a=Kr(pm),c=ae(n,a),u=ae(ae(n,r),lu(yr(e,"float32")));return ou(i,c,u)}}}},{kernelName:ai,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,ae(e,Vr(Kr(1),e)))}}},{kernelName:pi,gradFunc:n=>({x:()=>Ji(n)})},{kernelName:yn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(Cy(yr(e,"float32")),n)}}},{kernelName:Zn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(o_(yr(e,"float32")),n)}}},{kernelName:Hn,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{begin:r,size:a}=e,c=i.shape,[u,f]=Bm(i,r,a),p=[];for(let g=0;g<n.rank;g++)p.push([u[g],c[g]-u[g]-f[g]]);return{x:()=>op(n,p)}}},{kernelName:zs,outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{dim:r}=e,c=ae(n,i);return{logits:()=>Vr(c,ae(Hr(c,[r],!0),i))}}},{kernelName:Ai,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,Wu(e))}}},db,db,d1,d1,{kernelName:_i,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,ae(tn(yr(e,"float32")),2))}}},{kernelName:Ga,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Kr(2);return{a:()=>ae(n,ae(r,Vr(e,i))),b:()=>ae(n,ae(r,Vr(i,e)))}}},{kernelName:Io,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(n,ae(yr(e,"float32"),2))}}},{kernelName:Rc,gradFunc:n=>({x:()=>Ji(n)})},{kernelName:Fu,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Bs(e.shape,i.shape);return{a:()=>{let u=n;const f=hl(e.shape,r);return f.length>0&&(u=Hr(u,f)),Wn(u,e.shape)},b:()=>{let u=n;const f=hl(i.shape,r);return f.length>0&&(u=Hr(u,f)),Wn(at(u),i.shape)}}}},{kernelName:er,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,r=i.shape.slice(),{axis:a}=e;wn(a,i.shape).forEach(p=>{r[p]=1});const u=Wn(n,r),f=ae(u,zd(i.shape,"float32"));return{x:()=>f}}},{kernelName:Yl,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>R(n,qn(Cy(e)))}}},{kernelName:Ja,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ae(Vr(Kr(1),qn(e)),n)}}},{kernelName:Ia,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{reps:r}=e;return{x:()=>{let c=Ji(i);if(1===i.rank)for(let u=0;u<r[0];++u)c=Wi(c,Wo(n,[u*i.shape[0]],[i.shape[0]]));else if(2===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)c=Wi(c,Wo(n,[u*i.shape[0],f*i.shape[1]],[i.shape[0],i.shape[1]]));else if(3===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)c=Wi(c,Wo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else{if(4!==i.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${i.rank} tensors yet.`);for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)for(let g=0;g<r[3];++g)c=Wi(c,Wo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2],g*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]))}return c}}}},{kernelName:sc,gradFunc:(n,t,e)=>{const i=e,{perm:r}=i,a=jh(r);return{x:()=>oa(n,a)}}},{kernelName:ca,gradFunc:(n,t,e)=>{const i=e,{axis:r}=i;return{value:()=>Ou(n,r)}}},{kernelName:fo,inputsToSave:["segmentIds"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>function JE(n,t){const e=Xa(t,Ji(t)),i=rm(n,e);let r=_f(t,Kr(0,"int32"));const a=i.rank-r.rank;for(let u=0;u<a;++u)r=cu(r,u+1);r=No(r,zd(i.shape,"bool"));const c=Ji(i);return ou(r,i,c)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,e)}}},{kernelName:Mc,gradFunc:n=>({x:()=>Ji(n)})}];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of f1)Qo(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */le().prototype.abs=function(){return this.throwIfDisposed(),Pa(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.acos=function(){return this.throwIfDisposed(),dy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.acosh=function(){return this.throwIfDisposed(),od(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.add=function(n){return this.throwIfDisposed(),Wi(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.all=function(n,t){return this.throwIfDisposed(),Hp(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.any=function(n,t){return this.throwIfDisposed(),Gp(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.argMax=function(n){return this.throwIfDisposed(),Yf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.argMin=function(n){return this.throwIfDisposed(),zm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.asScalar=function(){return this.throwIfDisposed(),Me(1===this.size,()=>"The array must have only 1 element."),Wn(this,[])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.asType=function(n){return this.throwIfDisposed(),yr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.as1D=function(){return this.throwIfDisposed(),Wn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.as2D=function(n,t){return this.throwIfDisposed(),Wn(this,[n,t])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.as3D=function(n,t,e){return this.throwIfDisposed(),Wn(this,[n,t,e])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.as4D=function(n,t,e,i){return this.throwIfDisposed(),Wn(this,[n,t,e,i])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.as5D=function(n,t,e,i,r){return this.throwIfDisposed(),Wn(this,[n,t,e,i,r])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.asin=function(){return this.throwIfDisposed(),Qg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.asinh=function(){return this.throwIfDisposed(),dv(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.atan=function(){return this.throwIfDisposed(),hy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.atan2=function(n){return this.throwIfDisposed(),Kp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.atanh=function(){return this.throwIfDisposed(),py(this)},le().prototype.avgPool=function(n,t,e,i){return this.throwIfDisposed(),qp(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.batchToSpaceND=function(n,t){return this.throwIfDisposed(),ad(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.batchNorm=function(n,t,e,i,r){return this.throwIfDisposed(),n_(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.broadcastTo=function(n){return this.throwIfDisposed(),ep(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.cast=function(n){return this.throwIfDisposed(),yr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.ceil=function(){return this.throwIfDisposed(),Jp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.clipByValue=function(n,t){return this.throwIfDisposed(),xu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.concat=function(n,t){return this.throwIfDisposed(),n instanceof Y&&(n=[n]),cc([this,...n],t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.conv1d=function(n,t,e,i,r,a){return this.throwIfDisposed(),xv(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.conv2dTranspose=function(n,t,e,i,r){return this.throwIfDisposed(),s_(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.conv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),ld(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.cos=function(){return this.throwIfDisposed(),Cy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.cosh=function(){return this.throwIfDisposed(),o_(this)},
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.cumprod=function(n,t,e){return this.throwIfDisposed(),Ym(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.cumsum=function(n,t,e){return this.throwIfDisposed(),lh(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.depthToSpace=function(n,t){return this.throwIfDisposed(),a_(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.depthwiseConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),Vd(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.dilation2d=function(n,t,e,i,r){return this.throwIfDisposed(),Dx(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.divNoNan=function(n){return this.throwIfDisposed(),Dy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.div=function(n){return this.throwIfDisposed(),R(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.dot=function(n){return this.throwIfDisposed(),Tv(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.elu=function(){return this.throwIfDisposed(),nm(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.equal=function(n){return this.throwIfDisposed(),wd(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.erf=function(){return this.throwIfDisposed(),kv(this)},
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.euclideanNorm=function(n,t){return this.throwIfDisposed(),JS(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.exp=function(){return this.throwIfDisposed(),lu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.expandDims=function(n){return this.throwIfDisposed(),cu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.expm1=function(){return this.throwIfDisposed(),Pv(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.fft=function(){return this.throwIfDisposed(),s0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.flatten=function(){return this.throwIfDisposed(),Wn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.floor=function(){return this.throwIfDisposed(),np(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.floorDiv=function(n){return this.throwIfDisposed(),Wf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.gather=function(n,t,e){return this.throwIfDisposed(),rm(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.greaterEqual=function(n){return this.throwIfDisposed(),_f(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.greater=function(n){return this.throwIfDisposed(),ud(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.ifft=function(){return this.throwIfDisposed(),Vy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.irfft=function(){return this.throwIfDisposed(),o0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.isFinite=function(){return this.throwIfDisposed(),Lv(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.isInf=function(){return this.throwIfDisposed(),eg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.isNaN=function(){return this.throwIfDisposed(),xd(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.leakyRelu=function(n){return this.throwIfDisposed(),ip(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.lessEqual=function(n){return this.throwIfDisposed(),Ud(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.less=function(n){return this.throwIfDisposed(),lm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.localResponseNormalization=function(n,t,e,i){return this.throwIfDisposed(),$(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logSigmoid=function(){return this.throwIfDisposed(),Ui(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logSoftmax=function(n){return this.throwIfDisposed(),jr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logSumExp=function(n,t){return this.throwIfDisposed(),Ks(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.log=function(){return this.throwIfDisposed(),v(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.log1p=function(){return this.throwIfDisposed(),ue(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logicalAnd=function(n){return this.throwIfDisposed(),No(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logicalNot=function(){return this.throwIfDisposed(),il(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logicalOr=function(n){return this.throwIfDisposed(),cm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.logicalXor=function(n){return this.throwIfDisposed(),nD(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.matMul=function(n,t,e){return this.throwIfDisposed(),Ro(this,n,t,e)},le().prototype.maxPool=function(n,t,e,i){return this.throwIfDisposed(),Hv(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.max=function(n,t){return this.throwIfDisposed(),Hu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.maximum=function(n){return this.throwIfDisposed(),Xa(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.mean=function(n,t){return this.throwIfDisposed(),uc(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.min=function(n,t){return this.throwIfDisposed(),mf(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.minimum=function(n){return this.throwIfDisposed(),sp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.mirrorPad=function(n,t){return this.throwIfDisposed(),tA(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.mod=function(n){return this.throwIfDisposed(),Rx(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.mul=function(n){return this.throwIfDisposed(),ae(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.neg=function(){return this.throwIfDisposed(),at(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.norm=function(n,t,e){return this.throwIfDisposed(),gf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.notEqual=function(n){return this.throwIfDisposed(),p_(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.oneHot=function(n,t=1,e=0){return this.throwIfDisposed(),Kv(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.onesLike=function(){return this.throwIfDisposed(),Ed(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.pad=function(n,t){return this.throwIfDisposed(),op(this,n,t)},le().prototype.pool=function(n,t,e,i,r,a){return this.throwIfDisposed(),lD(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.pow=function(n){return this.throwIfDisposed(),ih(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.prelu=function(n){return this.throwIfDisposed(),qv(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.prod=function(n,t){return this.throwIfDisposed(),uD(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.reciprocal=function(){return this.throwIfDisposed(),Ly(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.relu=function(){return this.throwIfDisposed(),ch(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.relu6=function(){return this.throwIfDisposed(),dm(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.reshapeAs=function(n){return this.throwIfDisposed(),Wn(this,n.shape)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.reshape=function(n){return this.throwIfDisposed(),Wn(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.resizeBilinear=function(n,t,e){return this.throwIfDisposed(),sT(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.resizeNearestNeighbor=function(n,t,e){return this.throwIfDisposed(),oT(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.reverse=function(n){return this.throwIfDisposed(),Hd(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.rfft=function(){return this.throwIfDisposed(),ap(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.round=function(){return this.throwIfDisposed(),ng(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.rsqrt=function(){return this.throwIfDisposed(),$y(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.selu=function(){return this.throwIfDisposed(),jx(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.separableConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),Zv(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sigmoid=function(){return this.throwIfDisposed(),Wu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sign=function(){return this.throwIfDisposed(),xD(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sin=function(){return this.throwIfDisposed(),e0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sinh=function(){return this.throwIfDisposed(),By(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.slice=function(n,t){return this.throwIfDisposed(),Wo(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.softmax=function(n){return this.throwIfDisposed(),r0(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.softplus=function(){return this.throwIfDisposed(),Dn(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.spaceToBatchND=function(n,t){return this.throwIfDisposed(),Px(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.split=function(n,t){return this.throwIfDisposed(),dd(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sqrt=function(){return this.throwIfDisposed(),tn(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.square=function(){return this.throwIfDisposed(),qn(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.squaredDifference=function(n){return this.throwIfDisposed(),a0(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.squeeze=function(n){return this.throwIfDisposed(),yf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.stack=function(n,t){this.throwIfDisposed();const e=n instanceof Y?[this,n]:[this,...n];return Ou(e,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.step=function(n){return this.throwIfDisposed(),lg(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.stridedSlice=function(n,t,e,i,r,a,c,u){return this.throwIfDisposed(),l0(this,n,t,e,i,r,a,c,u)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sub=function(n){return this.throwIfDisposed(),Vr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.sum=function(n,t){return this.throwIfDisposed(),Hr(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.tan=function(){return this.throwIfDisposed(),qx(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.tanh=function(){return this.throwIfDisposed(),Jf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.tile=function(n){return this.throwIfDisposed(),Gu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.toBool=function(){return this.throwIfDisposed(),yr(this,"bool")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.toFloat=function(){return this.throwIfDisposed(),yr(this,"float32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.toInt=function(){return this.throwIfDisposed(),yr(this,"int32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.topk=function(n,t){return this.throwIfDisposed(),PD(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.transpose=function(n){return this.throwIfDisposed(),oa(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.unique=function(n){return this.throwIfDisposed(),FD(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.unsortedSegmentSum=function(n,t){return this.throwIfDisposed(),zy(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.unstack=function(n){return this.throwIfDisposed(),uh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.where=function(n,t){return this.throwIfDisposed(),ou(n,this,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
le().prototype.zerosLike=function(){return this.throwIfDisposed(),Ji(this)};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Sf extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Sf.prototype)}}class ph extends Error{constructor(t){super(t),Object.setPrototypeOf(this,ph.prototype)}}class Bn extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Bn.prototype)}}class _o extends Error{constructor(t){super(t),Object.setPrototypeOf(this,_o.prototype)}}class eC extends Error{constructor(t){super(t),Object.setPrototypeOf(this,eC.prototype)}}Error;
/**
       * @license
       * Copyright 2022 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class S_{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let e;return this.cache.has(t)&&(e=this.cache.get(t),this.cache.delete(t),this.cache.set(t,e)),e}put(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,e)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let e=0;e<this.maxEntries-t;e++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function mh(n,t){if(Array.isArray(n)){let e=[];for(let i=0;i<t;i++)e=e.concat(n);return e}{const e=new Array(t);return e.fill(n),e}}function Xu(n,t){if(!n)throw new eC(t)}function D_(n,t){let e=0;for(const i of n)i===t&&e++;return e}function Cu(n){return 1===n.length?n[0]:n}function Ha(n){return Array.isArray(n)?n:[n]}function Df(n){const e=n.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function Tf(n){return n.length<=1||-1===n.indexOf("_")?n:n.replace(/[_]+(\w|$)/g,(t,e)=>e.toUpperCase())}let Sd={};function A0(n){if(null==n)return null;const t={};return t.className=n.getClassName(),t.config=n.getConfig(),t}function p1(n){if(null!=n&&"object"==typeof n)if(Array.isArray(n))n.forEach(t=>p1(t));else{const t=Object.keys(n);for(const e of t){const i=n[e];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?p1(i):n[e]=i.value)}}}function If(n,t={},e={},i="object",r=!1){if("string"==typeof n){let c;if(n in e)c=e[n];else if(n in Sd)c=Sd[n];else if(c=t[n],null==c)throw new Bn(`Unknown ${i}: ${n}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return c}{const a=n;if(null==a.className||null==a.config)throw new Bn(`${i}: Improper config format: ${JSON.stringify(a)}.\n'className' and 'config' must set.`);const c=a.className;let u,f;if(c in e?[u,f]=e[c]:c in Sd?[u,f]=Sd.className:c in t&&([u,f]=t[c]),null==u)throw new Bn(`Unknown ${i}: ${c}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=f){const p={};for(const P of Object.keys(Sd))p[P]=Sd[P];for(const P of Object.keys(e))p[P]=e[P];a.config.customObjects=p;const y=Object.assign({},Sd);for(const P of Object.keys(e))Sd[P]=e[P];p1(a.config);const x=f(u,a.config,e,r);return Sd=Object.assign({},y),x}{const p=Object.assign({},Sd);for(const y of Object.keys(e))Sd[y]=e[y];const g=new u(a.config);return Sd=Object.assign({},p),g}}}function mm(n,t){return-1*function m1(n,t){return n<t?-1:n>t?1:0}(n,t)}function Hh(n){if(null==n)return n;const t=[];for(const e of n)-1===t.indexOf(e)&&t.push(e);return t}function hR(n){if(null==n)throw new Bn(`Invalid value in obj: ${JSON.stringify(n)}`);for(const t in n)if(n.hasOwnProperty(t))return!1;return!0}function gm(n,t,e){if(null!=e&&n.indexOf(e)<0)throw new Bn(`${e} is not a valid ${t}.  Valid values are ${n} or null/undefined.`)}function M0(n,t,e=0,i=1/0){return Xu(e>=0),Xu(i>=e),Array.isArray(n)&&n.length>=e&&n.length<=i&&n.every(r=>typeof r===t)}function Ic(n,t){Array.isArray(n)?(Me(n.length>0,()=>`${t} is unexpectedly an empty array.`),n.forEach((e,i)=>Ic(e,`element ${i+1} of ${t}`))):Me(Number.isInteger(n)&&n>0,()=>`Expected ${t} to be a positive integer, but got ${_m(n)}.`)}function _m(n){return null===n?"null":Array.isArray(n)?"["+n.map(t=>_m(t)).join(",")+"]":"string"==typeof n?`"${n}"`:`${n}`}function Dd(n){return"relu"===n?"relu":"linear"===n?"linear":"elu"===n?"elu":null}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let pR=0;function R0(){return pR++}const pb={};function mb(n=""){return n in pb||(pb[n]=0),pb[n]+=1,n+pb[n].toString()
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}const mR=["channelsFirst","channelsLast"],V2=["nearest","bilinear"],gR=["valid","same","causal"],N0=["max","avg"],tC=["sum","mul","concat","ave"],Gh=new Map;
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function vc(n){gm(mR,"DataFormat",n)}function Su(n){gm(gR,"PaddingMode",n)}function O0(n){gm(N0,"PoolMode",n)}const bg=[];function ym(n,t){bg.push(n);try{const e=t();return bg.pop(),e}catch(e){throw bg.pop(),e}}function b1(n){if(!iC(n))throw new Error("Not a valid tensor name: '"+n+"'");return function y1(){return 0===bg.length?"":bg.join("/")+"/"}()+n}function v1(n){if(!iC(n))throw new Error("Not a valid tensor name: '"+n+"'");Gh.has(n)||Gh.set(n,0);const t=Gh.get(n);if(Gh.set(n,Gh.get(n)+1),t>0){const e=`${n}_${t}`;return Gh.set(e,1),e}return n}const T_=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function iC(n){return!!n.match(T_)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function _R(n){return n===parseInt(n.toString(),10)}function bm(n,t,e){null==t&&(t=0),null==e&&(e=n.length);let i=1;for(let r=t;r<e;++r)i*=n[r];return i}function I_(n){if(0===n.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i<t&&(t=i)}return t}function pp(n){if(0===n.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i>t&&(t=i)}return t}function Gd(n,t){if(t<n)throw new Bn(`end (${t}) < begin (${n}) is forbidden.`);const e=[];for(let i=n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */let k_;function Yc(){return null==k_&&(k_=Yn().epsilon()),k_}function kf(n,t){return yr(n,t)}function gb(n,t=-1){const e=n.shape.slice();return t<0&&(t=e.length+t+1),e.splice(t,0,1),Wn(n,e)}function vg(n,t,e){return Gn(()=>{switch(n.rank){case 1:return rg(n,t,e);case 2:return t0(n,[t,0],[e,n.shape[1]]);case 3:return hm(n,[t,0,0],[e,n.shape[1],n.shape[2]]);case 4:return og(n,[t,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3]]);case 5:return Wo(n,[t,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4]]);case 6:return Wo(n,[t,0,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4],n.shape[5]]);default:throw new Bn(`sliceAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}})}function rC(n,t,e){return Gn(()=>{switch(n.rank){case 1:return rg(n,t,e);case 2:return t0(n,[0,t],[n.shape[0],e]);case 3:return hm(n,[0,0,t],[n.shape[0],n.shape[1],e]);case 4:return og(n,[0,0,0,t],[n.shape[0],n.shape[1],n.shape[2],e]);default:throw new Bn(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function P0(n,t,e,i){return Gn(()=>{switch(n.rank){case 1:return rg(n,t,e);case 2:switch(i){case 1:return vg(n,t,e);case 2:return rC(n,t,e);default:throw new Bn(`The axis is not within the rank of the tensor ${i}`)}case 3:switch(i){case 1:return vg(n,t,e);case 2:return hm(n,[0,t,0],[n.shape[0],e,n.shape[2]]);case 3:return rC(n,t,e);default:throw new Bn(`The axis is not within the rank of the tensor ${i}`)}case 4:switch(i){case 1:return vg(n,t,e);case 2:return og(n,[0,t,0,0],[n.shape[0],e,n.shape[2],n.shape[3]]);case 3:return og(n,[0,0,t,0],[n.shape[0],n.shape[1],e,n.shape[3]]);case 4:return rC(n,t,e);default:throw new Bn(`The axis is not within the rank of the tensor ${i}`)}default:throw new Bn(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function F0(n,t=-1){let e;return t<0&&(e=n[0].rank,t=0!==e?e:0),t===n[0].rank&&(t=-1),cc(n,t)}function sC(n,t){switch(n.rank){case 1:return bv([n,t]);case 2:return vy([n,t],0);case 3:return wv([n,t],0);case 4:return em([n,t],0);default:throw new Bn(`concatAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}}function Af(n,t){if(Array.isArray(t)||(t=[t]),n.rank!==t.length)throw new Bn(`The length of input n (${t.length}) does not match the number of dimensions in input x (${n.rank})`);return Gu(n,t)}function A_(n,t=0,e=1,i,r){return um(n,t,e,i,r)}function Mf(n,t,e,i){if(n.rank<2||t.rank<2)throw new _o(`dot requires both inputs to be rank >= 2 but got x shape = ${n.shape} and y shape = ${t.shape}`);if(t.rank>=3&&n.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new _o(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${n.shape} and  y shape = ${t.shape}`);if(2===n.rank&&2===t.rank)return aE({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?_b(n.rank,i,"channelsLast"):null,activation:e});{const r=n.shape.slice(),a=r.pop();n=Wn(n,[-1,a]);const c=t.shape.slice(),u=c.pop(),f=c.pop(),p=[...c,u],g=Array.from({length:t.rank},(j,J)=>0===J?t.rank-2:J<=t.rank-2?J-1:J);t=Wn(oa(t,g),[f,-1]);const y=[...r,...p];return Wn(aE({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?_b(n.rank,i,"channelsLast"):null,activation:e}),y)}}function oC(n,t,e){return Gn(()=>(t=Array.isArray(t)?uu(t,"int32"):yr(t,"int32"),rm(n,t,e)))}function M_(n){return ae(n,n)}function _b(n,t,e){const i=t.shape;if(1!==t.rank&&t.rank!==n)throw new Bn(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${n}`);if(5===n){if("channelsFirst"===e)return Wn(t,1===i.length?[1,i[0],1,1,1]:[1,i[3],i[0],i[1],i[2]]);if("channelsLast"===e)return Wn(t,1===i.length?[1,1,1,1,i[0]]:[1].concat(i))}else if(4===n){if("channelsFirst"===e)return Wn(t,1===i.length?[1,i[0],1,1]:[1,i[2],i[0],i[1]]);if("channelsLast"===e)return Wn(t,1===i.length?[1,1,1,i[0]]:[1].concat(i))}else if(3===n){if("channelsFirst"===e)return Wn(t,1===i.length?[1,i[0],1]:[1,i[1],i[0]]);if("channelsLast"===e)return Wn(t,1===i.length?[1,1,i[0]]:[1].concat(i))}else if(n<3)return t;throw new Bn(`Unsupported input rank by biasAdd: ${t.rank}`)}function qu(n,t,e){return Gn(()=>(null==e&&(e="channelsLast"),vc(e),Wi(n,_b(n.rank,t,e))))}function $0(n,t,e,i){return Gn(()=>tE(n,t,e,i))}function Rf(n,t,e=!1){return e?n():t()}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const O_=["fanIn","fanOut","fanAvg"],P_=["normal","uniform","truncatedNormal"];
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class Pu extends lo{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}qi((()=>{class n extends Pu{apply(e,i){return $c(e,i)}}return n.className="Zeros",n})());let aC=(()=>{class n extends Pu{apply(e,i){return zd(e,i)}}return n.className="Ones",n})();qi(aC),qi((()=>{class n extends Pu{constructor(e){if(super(),"object"!=typeof e)throw new Bn(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new Bn(`config must have value set but got ${e}`);this.value=e.value}apply(e,i){return Gn(()=>ae(Kr(this.value),zd(e,i)))}getConfig(){return{value:this.value}}}return n.className="Constant",n})()),qi((()=>{class n extends Pu{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,i){return g_(e,this.minval,this.maxval,i,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}return n.className="RandomUniform",n})()),qi((()=>{class n extends Pu{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new _o(`randomNormal does not support dType ${i}.`);return A_(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="RandomNormal",n})()),qi((()=>{class n extends Pu{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new _o(`truncatedNormal does not support dType ${i}.`);return Ku(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="TruncatedNormal",n})()),qi((()=>{class n extends Pu{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,i){return Gn(()=>{if(2!==e.length||e[0]!==e[1])throw new Bn("Identity matrix initializer can only be used for 2D square matrices.");return ae(this.gain,im(e[0]))})}getConfig(){return{gain:this.gain}}}return n.className="Identity",n})());let Td=(()=>{class n extends Pu{constructor(e){if(super(),e.scale<0)throw new Bn(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function F_(n){gm(O_,"FanMode",n)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function L_(n){gm(P_,"Distribution",n)}(this.distribution),this.seed=e.seed}apply(e,i){const r=function C1(n,t="channelsLast"){let e,i;if(vc(t),2===n.length)e=n[0],i=n[1];else if(-1!==[3,4,5].indexOf(n.length)){if("channelsFirst"===t){const r=bm(n,2);e=n[1]*r,i=n[0]*r}else if("channelsLast"===t){const r=bm(n,0,n.length-2);e=n[n.length-2]*r,i=n[n.length-1]*r}}else{const r=bm(n);e=Math.sqrt(r),i=Math.sqrt(r)}return[e,i]}(e),a=r[0],c=r[1];let u=this.scale;if(u/="fanIn"===this.mode?Math.max(1,a):"fanOut"===this.mode?Math.max(1,c):Math.max(1,(a+c)/2),"normal"===this.distribution){const f=Math.sqrt(u);if("float32"!==(i=i||"float32")&&"int32"!==i)throw new _o(`${this.getClassName()} does not support dType ${i}.`);return Ku(e,0,f,i,this.seed)}{const f=Math.sqrt(3*u);return g_(e,-f,f,i,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}return n.className="VarianceScaling",n})();qi(Td);let lC=(()=>{class n extends Td{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="GlorotUniform",n})();qi(lC);let vb=(()=>{class n extends Td{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="GlorotNormal",n})();qi(vb);let mp=(()=>{class n extends Td{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="HeNormal",n})();qi(mp);let S1=(()=>{class n extends Td{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="HeUniform",n})();qi(S1);let D1=(()=>{class n extends Td{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="LeCunNormal",n})();qi(D1);let B0=(()=>{class n extends Td{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Td.className}}return n.className="LeCunUniform",n})();qi(B0),qi((()=>{class n extends Pu{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,i){return Gn(()=>{if(e.length<2)throw new _o("Shape must be at least 2D.");if("int32"!==i&&"float32"!==i&&void 0!==i)throw new TypeError(`Unsupported data type ${i}.`);const r=Ot(e.slice(0,-1)),a=e[e.length-1],c=r*a;c>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${c}) elements: Slowness may result.`);const f=A_([Math.max(a,r),Math.min(a,r)],0,1,i,this.seed),p=vT.qr(f,!1);let g=p[0];const x=p[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return g=ae(g,x.sign()),r<a&&(g=g.transpose()),ae(Kr(this.gain),g.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}return n.className="Orthogonal",n})());const V0={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function T1(n,t={}){return If(n,zu.getMap().classNameMap,t,"initializer")}function Wl(n){return A0(n)}function dc(n){if("string"==typeof n){const t=n in V0?V0[n]:n;if("GlorotNormal"===t)return new vb;if("GlorotUniform"===t)return new lC;if("HeNormal"===t)return new mp;if("HeUniform"===t)return new S1;if("LeCunNormal"===t)return new D1;if("LeCunUniform"===t)return new B0;{const e={};return e.className=t,e.config={},T1(e)}}return n instanceof Pu?n:T1(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function I1(n){return Array.isArray(n)&&Array.isArray(n[0])}function U0(n){return 0===n.length?[]:Array.isArray(n[0])?n:[n]}function Js(n){let t;if(Array.isArray(n)){if(1!==n.length)throw new Bn(`Expected Tensor length to be 1; got ${n.length}`);t=n[0]}else t=n;return t}function pa(n){if(Array.isArray(n)&&Array.isArray(n[0])){if(1===n.length)return n[0];throw new Bn(`Expected exactly 1 Shape; got ${n.length}`)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function z0(n){let t=0;for(const e of n)t+=0===e.shape.length?1:e.shape.reduce((i,r)=>i*r);return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const Qc="Variable";class Xh{constructor(t,e="float32",i=Qc,r=!0,a=null){this.dtype=e??"float32",this.shape=t.shape,this.id=R0(),this.originalName=b1(i=i??Qc),this.name=v1(this.originalName),this.trainable_=r,this.constraint=a,this.val=$D(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),function IR(n,t){if(n.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(n.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function xb(n){return n.map(t=>t.read())}function Eb(n){n.forEach(t=>{t[0].write(t[1])})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class kc{constructor(t){this.dtype=t.dtype,this.shape=t.shape,this.ndim=null!=t.shape?t.shape.length:t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class Zc{constructor(t,e,i,r,a,c,u){this.dtype=t,this.shape=e,this.sourceLayer=i,this.inputs=r,this.callArgs=a,this.outputTensorIndex=u,this.id=R0(),null!=c&&(this.originalName=b1(c),this.name=v1(this.originalName)),this.rank=e.length}}let OR=0;class Cb{constructor(t,e){this.callArgs=e,this.id=OR++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const i of t.inboundLayers)i?.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const e of this.inboundLayers)t.push(null!=e?e.name:null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Nf=0;class eo extends lo{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Nf++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let e=t.name;if(!e){const i=this.getClassName();e=Df(i)+"_"+mb(i)}if(this.name=e,this.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){let i;if(null!=t.batchInputShape)i=t.batchInputShape;else if(null!=t.inputShape){let a=null;null!=t.batchSize&&(a=t.batchSize),i=[a].concat(t.inputShape)}this.batchInputShape=i;let r=t.dtype;null==r&&(r=t.inputDType),null==r&&(r="float32"),this.dtype=r}this.initialWeights=null!=t.weights?t.weights:null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,e){return t.name+"_ib-"+e.toString()}getNodeAtIndex(t,e){if(0===this.inboundNodes.length)throw new ph(`The layer has never been called and thus has no defined ${e}.`);if(this.inboundNodes.length<=t)throw new Bn(`Asked to get ${e} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return Cu(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return Cu(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Sf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new Sf(`Layer ${this.name} is not connected, no input to return.`);return Cu(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new Sf(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Sf(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Cu(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(e=>e.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const e=Ha(t);if(null==this.inputSpec||0===this.inputSpec.length)return;const i=Ha(this.inputSpec);if(e.length!==i.length)throw new Bn(`Layer ${this.name} expects ${i.length} inputs, but it received ${e.length} input tensors. Input received: ${t}`);for(let r=0;r<e.length;r++){const a=e[r],c=i[r];if(null==c)continue;const u=a.rank;if(null!=c.ndim&&u!==c.ndim)throw new Bn(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${c.ndim}, found ndim=${u}`);if(null!=c.maxNDim&&u>c.maxNDim)throw new Bn(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${c.maxNDim}, found ndim=${u}`);if(null!=c.minNDim&&u<c.minNDim)throw new Bn(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${c.minNDim}, found ndim=${u}.`);if(null!=c.dtype&&a.dtype!==c.dtype)throw new Bn(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${c.dtype}, found dtype=${a.dtype}.`);if(c.axes){const f=a.shape;for(const p in c.axes){const g=Number(p),y=c.axes[p];if(null!=y&&-1===[y,null].indexOf(g>=0?f[g]:f[f.length+g]))throw new Bn(`Input ${r} is incompatible with layer ${this.name}: expected axis ${g} of input shape to have value ${y} but got shape ${f}.`)}}if(null!=c.shape)for(let f=0;f<c.shape.length;++f){const p=c.shape[f],g=a.shape[f];if(null!=p&&null!=g&&p!==g)throw new Bn(`Input ${r} is incompatible with layer ${this.name}: expected shape=${c.shape}, found shape=${a.shape}.`)}}}call(t,e){return t}invokeCallHook(t,e){null!=this._callHook&&this._callHook(t,e)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,e){e=e||{},this.assertNotDisposed();const i=Ha(t),r=function PR(n){let t=!0;for(const e of Ha(n))if(!(e instanceof Zc)){t=!1;break}return t}(t),a=function FR(n){let t=!0;for(const e of Ha(n))if(e instanceof Zc){t=!1;break}return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(t);if(r===a)throw new Bn("Arguments to apply() must be all SymbolicTensors or all Tensors");return ym(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const c=[];for(const u of Ha(t))c.push(u.shape);this.build(Cu(c)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(t),a){let c=this.call(t,e);this.supportsMasking&&this.setMaskMetadata(t,c);const u=Ha(c),f=[];for(let p of u)-1!==i.indexOf(p)&&(p=p.clone()),f.push(p);if(c=Cu(f),null!=this.activityRegularizer)throw new _o("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}{const c=function qh(n){n=Ha(n);const t=[];for(const e of n)t.push(e.shape);return Cu(t)}(t),u=this.computeOutputShape(c);let f;const p="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(t)?c[0]:c),f=null!=u&&u.length>0&&Array.isArray(u[0])?u.map((g,y)=>new Zc(p,g,this,Ha(t),e,this.name,y)):new Zc(p,u,this,Ha(t),e,this.name),this.addInboundNode(t,f,null,null,c,u,e),this._refCount++,null!=this.activityRegularizer)throw new _o("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}})}warnOnIncompatibleInputShape(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let e=!1;this.batchInputShape.forEach((i,r)=>{null!=i&&null!=t[r]&&t[r]!==i&&(e=!0)}),e&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Sf(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const e of this.inboundNodes){const i=JSON.stringify(e.outputShapes);-1===t.indexOf(i)&&t.push(i)}if(1===t.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new Sf(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new ph(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return z0(this.weights)}build(t){this.built=!0}getWeights(t=!1){return xb(t?this.trainableWeights:this.weights)}setWeights(t){Gn(()=>{const e=this.weights;if(e.length!==t.length)throw new Bn(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${e.length} weights. Provided weights: ${t}...`);if(0===e.length)return;const i=[],r=xb(e);for(let a=0;a<r.length;++a){const c=r[a],u=e[a],f=t[a];if(!Ae(c.shape,f.shape))throw new Bn(`Layer weight shape ${c.shape} not compatible with provided weight shape ${f.shape}`);i.push([u,f])}Eb(i)})}addWeight(t,e,i,r,a,c,u,f){if(-1!==this._addedWeightNames.indexOf(t))throw new Bn(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),null==i&&(i="float32"),this.fastWeightInitDuringBuild&&(r=null!=f?f():dc("zeros"));const p=r.apply(e,i),g=new Xh(p,i,t,c,u);return p.dispose(),null!=a&&this.addLoss(()=>a.apply(g.read())),null==c&&(c=!0),c?this._trainableWeights.push(g):this._nonTrainableWeights.push(g),g}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){null==t||Array.isArray(t)&&0===t.length||(t=Ha(t),null!=this._losses&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,e){if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);e.forEach(i=>{if(null!=i)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)})}return null}return e}setMaskMetadata(t,e,i){if(!this.supportsMasking)return;const r=this.computeMask(t,i),a=Ha(e),c=Ha(r);if(a.length!==c.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let u=0;u<a.length;u++)a[u].kerasMask=c[u]}addInboundNode(t,e,i,r,a,c,u=null){const f=Ha(t);e=Ha(e),i=Ha(i),r=Ha(r),a=U0(a),c=U0(c);const p=[],g=[],y=[];for(const x of f)p.push(x.sourceLayer),g.push(x.nodeIndex),y.push(x.tensorIndex);new Cb({outboundLayer:this,inboundLayers:p,nodeIndices:g,tensorIndices:y,inputTensors:f,outputTensors:e,inputMasks:i,outputMasks:r,inputShapes:a,outputShapes:c},u);for(let x=0;x<e.length;x++)e[x].sourceLayer=this,e[x].nodeIndex=this.inboundNodes.length-1,e[x].tensorIndex=x}getConfig(){const t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return 0==--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}}function cC(n,t,e){if((null==t||null!=e&&e>0)&&(t=n.sourceLayer,e=n.nodeIndex),0===t.inboundNodes.length)return[n];{const i=t.inboundNodes[e];if(0===i.inboundLayers.length)return i.inputTensors;{const r=[];for(let a=0;a<i.inboundLayers.length;a++){const p=cC(i.inputTensors[a],i.inboundLayers[a],i.nodeIndices[a]);for(const g of p)-1===r.indexOf(g)&&r.push(g)}return r}}}let j0=(()=>{class n extends eo{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:mb("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Bn("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let i=e.batchInputShape;if(null==i){if(null==e.inputShape)throw new Bn("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");i=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Bn("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=i,this.dtype=r,this.inputSpec=[{shape:i}];const a=new Zc(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[i],outputShapes:[i]})}apply(e,i){throw new Bn(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}return n.className="InputLayer",n})();qi(j0);class gh{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof gh)for(const e in t.id2Value)this.id2Value[e]=t.id2Value[e],e in t.id2Mask&&(this.id2Mask[e]=t.id2Mask[e]);else{if(null==t)return;for(const e of t)this.add(e.key,e.value)}}add(t,e,i){if(null!=this.id2Value[t.id])throw new Bn(`Duplicate key: name=${t.name}, id=${t.id}`);return this.id2Value[t.id]=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function uC(n,t){if(null==n.dtype||n.dtype===t.dtype)return t;try{return yr(t,n.dtype)}catch{throw new Bn(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${n.name}' (${n.dtype}).`)}}(t,e),this.name2Id[t.name]=t.id,null!=i&&(this.id2Mask[t.id]=i),this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return null!=this.id2Value[t.id]}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof Zc){if(null==this.id2Value[t.id])throw new Bn(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}{const e=this.name2Id[t];if(null==e)throw new Bn(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[e]}}getMask(t){if(t instanceof Zc){if(null==this.id2Value[t.id])throw new Bn(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}{const e=this.name2Id[t];if(null==e)throw new Bn(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[e]}}disposeMasks(){null!=this.id2Mask&&Sr(this.id2Mask)}}const W0=new S_,Sb=new S_;function Db(n,t,e,i){const r=null!=e&&e.training,a=Array.isArray(n),c=a?n:[n],u=c.map(j=>j.name),f=[],p=t.names();for(const j of u)-1!==p.indexOf(j)?f.push(t.getValue(j)):f.push(null);null!=i&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);const g=u.join(",")+"|"+t.names().sort().join(",");let x,y=W0.get(g);if(null==y){const j=function M1(n,t){Me(null!=n&&n.length>0,()=>"Expected at least one fetch, got none");let e=[],i={};if(1===n.length){const r=Tb(n[0],t);e=r.sorted,i=r.recipientMap}else{const r=new Set;for(const a of n){const{sorted:c,recipientMap:u}=Tb(a,t);for(const f of c)r.has(f.name)||(e.push(f),r.add(f.name));for(const f in u)null==i[f]&&(i[f]=new Set),u[f].forEach(p=>i[f].add(p))}}return{sorted:e,recipientCounts:R1(i)}}(c,t);y=j.sorted,x=j.recipientCounts,W0.put(g,y),Sb.put(g,x)}x={},r||Object.assign(x,Sb.get(g));const P=new gh(t);for(let j=0;j<y.length;++j){if(null!=i){const On=Zl().numTensors;On>i.maxNumTensors&&(i.maxNumTensors=On),On<i.minNumTensors&&(i.minNumTensors=On)}const J=y[j],G=J.sourceLayer;if(G instanceof j0)continue;const he=[],xe=[],et=[];let it=!1;for(const On of J.inputs){const jn=P.getValue(On),si=P.getMask(On);he.push(jn),xe.push(si),null!=si&&(it=!0),r||(x[On.name]--,0===x[On.name]&&!t.hasKey(On)&&-1===u.indexOf(On.name)&&!jn.isDisposed&&!0!==On.sourceLayer.stateful&&et.push(jn))}it&&((e=e||{}).mask=xe[0]);const Dt=Ha(G.apply(he,e));let Yt=null;G.supportsMasking&&(Yt=G.computeMask(he,xe));const pn=BR(J),bn=Array.isArray(pn)?pn:[pn];for(let On=0;On<bn.length;++On){P.hasKey(bn[On])||P.add(bn[On],Dt[On],Array.isArray(Yt)?Yt[0]:Yt);const jn=u.indexOf(bn[On].name);-1!==jn&&(f[jn]=Dt[On])}r||Sr(et)}return P.disposeMasks(),a?f:f[0]}function R1(n){const t={};for(const e in n)t[e]=n[e].size;return t}function Tb(n,t){const e=new Set,i=[],r={};for(const u of t.names())e.add(u);const a=[],c=[];for(a.push(n);a.length>0;){const u=a[a.length-1];if(e.has(u.name)){a.pop();continue}const f=c[c.length-1]===a.length-1;if(0===u.inputs.length||f)a.pop(),i.push(u),e.add(u.name),f&&c.pop();else{c.push(a.length-1);for(const p of u.inputs)null==r[p.name]&&(r[p.name]=new Set),r[p.name].add(u.name),!e.has(p.name)&&a.push(p)}}return{sorted:i,recipientMap:r}}function BR(n){let t;if(1===n.sourceLayer.inboundNodes.length)t=n.sourceLayer.output;else{let e=null;for(let i=0;i<n.sourceLayer.inboundNodes.length;++i)for(const r of n.sourceLayer.inboundNodes[i].outputTensors)if(r.id===n.id){e=i;break}t=n.sourceLayer.getOutputAt(e)}return t}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function H0(n,t){return Gn(()=>tn(Hr(ae(n,n),t,!0)))}we().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function $R(n){W0?.setMaxEntries(n),Sb?.setMaxEntries(n)});class Ib extends lo{getConfig(){return{}}}qi((()=>{class n extends Ib{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Gn(()=>{const i=H0(e,this.axis),r=xu(i,0,this.maxValue);return ae(e,R(r,Wi(Yc(),i)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}return n.className="MaxNorm",n})()),qi((()=>{class n extends Ib{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Gn(()=>R(e,Wi(Yc(),H0(e,this.axis))))}getConfig(){return{axis:this.axis}}}return n.className="UnitNorm",n})()),qi((()=>{class n extends Ib{apply(e){return ch(e)}}return n.className="NonNeg",n})()),qi((()=>{class n extends Ib{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Gn(()=>{const i=H0(e,this.axis),r=Wi(ae(this.rate,xu(i,this.minValue,this.maxValue)),ae(1-this.rate,i));return ae(e,R(r,Wi(Yc(),i)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}return n.className="MinMaxNorm",n})());const N1={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Jc(n){return A0(n)}function O1(n,t={}){return If(n,zu.getMap().classNameMap,t,"constraint")}function eu(n){return null==n?null:"string"==typeof n?O1({className:n in N1?N1[n]:n,config:{}}):n instanceof Ib?n:O1(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function vm(n){return hC.apply(this,arguments)}function hC(){return(hC=(0,oe.A)(function*(n){if(null==n)return;const t=[],e=[],i=[];for(const r in n){const a=n[r];if("number"!=typeof a){const c=a;t.push(c.data()),e.push(r),i.push(c)}}if(t.length>0){const r=yield Promise.all(t);for(let a=0;a<r.length;++a)n[e[a]]=r[a][0];Sr(i)}})).apply(this,arguments)}function G0(n){if(null!=n)for(const t in n){const e=n[t];"number"!=typeof e&&e.dispose()}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class gp{constructor(){this.validationData=null}setParams(t){this.params=t}onEpochBegin(t,e){return(0,oe.A)(function*(){})()}onEpochEnd(t,e){return(0,oe.A)(function*(){})()}onBatchBegin(t,e){return(0,oe.A)(function*(){})()}onBatchEnd(t,e){return(0,oe.A)(function*(){})()}onTrainBegin(t){return(0,oe.A)(function*(){})()}onTrainEnd(t){return(0,oe.A)(function*(){})()}setModel(t){}}class fC{constructor(t,e=10){null==t&&(t=[]),this.callbacks=t,this.queueLength=e}append(t){this.callbacks.push(t)}setParams(t){for(const e of this.callbacks)e.setParams(t)}setModel(t){for(const e of this.callbacks)e.setModel(t)}onEpochBegin(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochBegin(t,e)})()}onEpochEnd(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochEnd(t,e)})()}onBatchBegin(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchBegin(t,e)})()}onBatchEnd(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchEnd(t,e)})()}onTrainBegin(t){var e=this;return(0,oe.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainBegin(t)})()}onTrainEnd(t){var e=this;return(0,oe.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainEnd(t)})()}}class L1 extends gp{constructor(){super()}onEpochBegin(t){var e=this;return(0,oe.A)(function*(){e.seen=0,e.totals={}})()}onBatchEnd(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={});const r=null==e.size?0:e.size;i.seen+=r;for(const a in e){const c=e[a];if("number"==typeof c)i.totals.hasOwnProperty(a)||(i.totals[a]=0),i.totals[a]=i.totals[a]+c*r;else{let u;a in i.totals?u=i.totals[a]:i.totals[a]=0;const f=Gn(()=>Wi(i.totals[a],ae(c,r)));i.totals[a]=f,u?.dispose()}}})()}onEpochEnd(t,e){var i=this;return(0,oe.A)(function*(){if(null!=e)for(const r of i.params.metrics)null!=i.totals[r]&&("number"==typeof i.totals[r]?e[r]=i.totals[r]/i.seen:Gn(()=>{const a=ae(R(1,i.seen),i.totals[r]);e[r]=a,i.totals[r].dispose(),cs(e[r])}))})()}}class YR extends gp{onTrainBegin(t){var e=this;return(0,oe.A)(function*(){e.epoch=[],e.history={}})()}onEpochEnd(t,e){var i=this;return(0,oe.A)(function*(){null==e&&(e={}),i.epoch.push(t);for(const r in e)null==i.history[r]&&(i.history[r]=[]),i.history[r].push(e[r])})()}syncData(){var t=this;return(0,oe.A)(function*(){const e=[],i=[],r=[];for(const c in t.history){const u=t.history[c];for(let f=0;f<u.length;++f)"number"!=typeof u[f]&&(e.push(u[f].data()),i.push(c),r.push(f))}const a=yield Promise.all(e);for(let c=0;c<a.length;++c)t.history[i[c]][r[c]].dispose(),t.history[i[c]][r[c]]=a[c][0]})()}}class QR extends gp{constructor(t,e){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||ib,this.yieldEvery=e||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");mn(this.yieldEvery)&&(this.maybeWait=function fR(n,t,e){let r,i=null!=e?e():Is();return(...c)=>{const u=null!=e?e():Is();return u-i<t||(i=u,r=n(...c)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}maybeWait(t,e,i){var r=this;return(0,oe.A)(function*(){const a=[];null!=r.yield&&(yield vm(i),a.push(r.yield(t,e,i))),a.push(r.nextFrameFunc()),yield Promise.all(a)})()}onEpochBegin(t,e){var i=this;return(0,oe.A)(function*(){i.currentEpoch=t,null!=i.epochBegin&&(yield vm(e),yield i.epochBegin(t,e))})()}onEpochEnd(t,e){var i=this;return(0,oe.A)(function*(){const r=[];null!=i.epochEnd&&(yield vm(e),r.push(i.epochEnd(t,e))),"epoch"===i.yieldEvery&&r.push(i.nextFrameFunc()),yield Promise.all(r)})()}onBatchBegin(t,e){var i=this;return(0,oe.A)(function*(){null!=i.batchBegin&&(yield vm(e),yield i.batchBegin(t,e))})()}onBatchEnd(t,e){var i=this;return(0,oe.A)(function*(){const r=[];null!=i.batchEnd&&(yield vm(e),r.push(i.batchEnd(t,e))),"batch"===i.yieldEvery?r.push(i.nextFrameFunc()):mn(i.yieldEvery)&&r.push(i.maybeWait(i.currentEpoch,t,e)),yield Promise.all(r)})()}onTrainBegin(t){var e=this;return(0,oe.A)(function*(){null!=e.trainBegin&&(yield vm(t),yield e.trainBegin(t))})()}onTrainEnd(t){var e=this;return(0,oe.A)(function*(){null!=e.trainEnd&&(yield vm(t),yield e.trainEnd(t))})()}}function $1(n,t){return null==n&&(n={}),n instanceof gp?[n]:Array.isArray(n)&&n[0]instanceof gp?n:Ha(n).map(i=>new QR(i,t))}let X0=(()=>{class n{constructor(){}static registerCallbackConstructor(e,i){Me(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),n.checkForDuplicate(i),null==n.constructors[e]&&(n.constructors[e]=[]),n.constructors[e].push(i)}static checkForDuplicate(e){for(const i in n.constructors)n.constructors[+i].forEach(a=>{if(a===e)throw new Bn("Duplicate callback constructor.")})}static clear(){n.constructors={}}static createCallbacks(e){const i=[];for(const r in n.constructors){const a=+r;e>=a&&i.push(...n.constructors[a])}return i.map(r=>new r)}}return n.constructors={},n})();function kb(n,t,e,i,r,a,c,u,f){const p=new YR,g=[new L1,...X0.createCallbacks(t)];null!=n&&g.push(...n),g.push(p);const y=new fC(g);return y.setParams({epochs:e,initialEpoch:i,samples:r,steps:a,batchSize:c,verbose:t,doValidation:u,metrics:f}),{callbackList:y,history:p}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}function Yh(n,t={},e=!1){return If(n,zu.getMap().classNameMap,t,"layer",e)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Ab(n,t){return Gn(()=>{"float32"!==n.dtype&&(n=yr(n,"float32"));const e=Hr(M_(n),t,!0),i=wu(e.shape,Yc()),r=tn(Xa(e,i));return R(n,r)})}function q0(n,t){return Gn(()=>uc(M_(Vr(t,n)),-1))}function pC(n,t){return Gn(()=>uc(Pa(Vr(t,n)),-1))}function Y0(n,t){return Gn(()=>{const e=Vr(n,t),i=xu(Pa(n),Yc(),Number.MAX_VALUE),r=Pa(R(e,i));return ae(100,uc(r,-1))})}function Of(n,t,e=!1){return Gn(()=>{if(e)t=r0(t);else{const i=Hr(t,t.shape.length-1,!0);t=R(t,i)}return t=xu(t,Yc(),1-Yc()),at(Hr(ae(yr(n,"float32"),v(t)),t.shape.length-1))})}function _C(n,t,e=!1){return Gn(()=>{const i=yr(np(function vR(n){const t=[bm(n.shape)];return Wn(n,t)}(n)),"int32"),r=(t=xu(t,Yc(),1-Yc())).shape;return Of(Wn(Kv(i,r[r.length-1]),r),t,e)})}function bC(n,t){return Gn(()=>{let e;return e=xu(t,Yc(),1-Yc()),e=v(R(e,Vr(1,e))),uc(function yC(n,t){if(!Ae(n.shape,t.shape))throw new Bn(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(t.shape)}`);return Gn(()=>{const e=ch(t),i=at(Pa(t));return Wi(Vr(e,ae(t,n)),ue(lu(i)))})}(n,e),-1)})}function eN(n,t){return Gn(()=>{const e=Ab(n,-1),i=Ab(t,-1),r=ae(e,i);return at(Hr(r,-1))})}const Q0={meanSquaredError:q0,meanAbsoluteError:pC,meanAbsolutePercentageError:Y0,meanSquaredLogarithmicError:function mC(n,t){return Gn(()=>{const e=xu(t,Yc(),Number.MAX_VALUE),i=v(Wi(1,e)),r=xu(n,Yc(),Number.MAX_VALUE),a=v(Wi(1,r));return uc(M_(Vr(i,a)),-1)})},squaredHinge:function gC(n,t){return Gn(()=>{const e=Xa(0,Vr(1,ae(n,t)));return uc(M_(e),-1)})},hinge:function wg(n,t){return Gn(()=>{const e=Xa(0,Vr(1,ae(n,t)));return uc(e,-1)})},categoricalHinge:function ZR(n,t){return Gn(()=>{const e=Hr(ae(n,t),-1),i=Hu(ae(Vr(1,n),t),-1);return Xa(0,Wi(1,Vr(i,e)))})},logcosh:function JR(n,t){return Gn(()=>{const e=Math.log(2),i=Vr(t,n),r=Vr(Wi(i,Dn(ae(-2,i))),e);return uc(r,-1)})},categoricalCrossentropy:Of,sparseCategoricalCrossentropy:_C,binaryCrossentropy:bC,kullbackLeiblerDivergence:function B1(n,t){return Gn(()=>{const e=xu(n,Yc(),1),i=xu(t,Yc(),1);return Hr(ae(n,v(R(e,i))),-1)})},poisson:function V1(n,t){return Gn(()=>{const e=v(Wi(Yc(),t));return uc(Vr(t,ae(n,e)),-1)})},cosineProximity:eN};function xg(n){if("string"==typeof n){if(n in Q0)return Q0[n];let t=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Bn(t)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function B_(n,t){return Gn(()=>{const e=ae(.5,Ed(t)),i=kf(ud(t,e),n.dtype);return uc(wd(n,i),-1)})}function U1(n,t){return Gn(()=>kf(wd(Yf(n,-1),Yf(t,-1)),"float32"))}function iN(n,t){return bC(n,t)}function W1(n,t){return n.rank===t.rank&&(n=yf(n,[n.rank-1])),(t=Yf(t,-1)).dtype!==n.dtype&&(t=yr(t,n.dtype)),yr(wd(n,t),"float32")}const EC=Of,G1=_C,J0={binaryAccuracy:B_,categoricalAccuracy:U1,precision:function nN(n,t){return Gn(()=>{const e=function z1(n,t){return Gn(()=>yr(Hr(No(wd(n,1),wd(t,1))),"float32"))}(n,t),i=function Rb(n,t){return Gn(()=>yr(Hr(No(wd(n,0),wd(t,1))),"float32"))}(n,t),r=Wi(e,i);return yr(ou(ud(r,0),R(e,r),0),"float32")})},categoricalCrossentropy:EC,sparseCategoricalCrossentropy:G1,mse:q0,MSE:q0,mae:pC,MAE:pC,mape:Y0,MAPE:Y0,cosine:eN};function K1(n){if("string"==typeof n&&n in J0)return J0[n];if("string"!=typeof n&&null!=n)return n;throw new Bn(`Unknown metric ${n}`)}function wm(n){if(Xu(null!==n,`Unknown LossOrMetricFn ${n}`),"string"==typeof n)return n;{let t;for(const e of Object.keys(Q0))if(Q0[e]===n){t=e;break}if(void 0!==t)return t;for(const e of Object.keys(J0))if(J0[e]===n){t=e;break}return void 0!==t?t:n.name}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function q1(n,t,e=!1){if(null==n||"object"!=typeof n||Object.getPrototypeOf(n)!==Object.prototype||!CC(n))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(e){const i=JSON.stringify(n);i.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${i.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function CC(n){if(null===n)return!0;if("object"==typeof n){if(Object.getPrototypeOf(n)===Object.prototype){const t=Object.keys(n);for(const e of t)if("string"!=typeof e||!CC(n[e]))return!1;return!0}if(Array.isArray(n)){for(const t of n)if(!CC(t))return!1;return!0}return!1}{const t=typeof n;return"string"===t||"number"===t||"boolean"===t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function ew(n,t,e=console.log){let i="";for(let r=0;r<n.length;++r)r>0&&(i=i.slice(0,i.length-1)+" "),i+=n[r],i=i.slice(0,t[r]),i+=" ".repeat(t[r]-i.length);e(i)}function cN(n,t,e){let i,r;try{r=n.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{r="multiple"}try{i=JSON.stringify(n.outputShape)}catch{i="multiple"}ew([`${n.name} (${n.getClassName()})`,r,i,n.countParams().toString()],t,e)}function Nb(n,t,e,i){let r,a;try{a=n.inboundNodes.map(y=>JSON.stringify(y.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(n.outputShape)}catch{r="multiple"}const c=[];for(const y of n.inboundNodes)if(!(null!=e&&e.length>0&&-1===e.indexOf(y)))for(let x=0;x<y.inboundLayers.length;++x)c.push(`${y.inboundLayers[x].name}[${y.nodeIndices[x]}][${y.tensorIndices[x]}]`);const u=n.name,f=n.getClassName(),p=0===c.length?"":c[0];ew([`${u} (${f})`,a,r,n.countParams().toString(),p],t,i);for(let y=1;y<c.length;++y)ew(["","","","",c[y]],t,i)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Q1(n,t,e){return("inboundNodes"===n||"outputLayers"===n||"inputLayers"===n)&&0===t&&"string"==typeof e}function tw(n,t){if(null===n)return null;if("string"==typeof n)return Tf(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];Q1(t,r,a)?e.push(a):e.push(tw(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];if("name"===i&&"string"==typeof r)e[i]=r;else{const a=Tf(i);e[a]=tw(r,a)}}return e}}function nw(n,t){if(null==n)return null;if("string"==typeof n)return Df(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];Q1(t,r,a)?e.push(a):e.push(nw(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];e[Df(i)]="name"!==i&&"className"!==i||"string"!=typeof r?nw(r,i):r}return e}}
/** @license See the LICENSE file. */class Qh extends eo{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,null==this.name){const xe=this.getClassName().toLowerCase();this.name=mb(xe)}if(this.supportsMasking=!1,this.trainable_=!0,this.inputs=Array.isArray(t.inputs)?t.inputs.slice():[t.inputs],this.outputs=Array.isArray(t.outputs)?t.outputs.slice():[t.outputs],Hh(this.inputs).length!==this.inputs.length)throw new Bn(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(xe=>xe.name)}`);Hh(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(xe=>xe.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const xe of this.outputs){const it=xe.nodeIndex,Dt=xe.tensorIndex;this.outputLayers.push(xe.sourceLayer),this.outputLayersNodeIndices.push(it),this.outputLayersTensorIndices.push(Dt)}for(const xe of this.inputs){const et=xe.sourceLayer,it=xe.nodeIndex,Dt=xe.tensorIndex;Xu(0===it,"input layer has >1 nodes"),Xu(0===Dt,"input layer has >1 tensors"),this.inputLayers.push(et),this.inputLayersNodeIndices.push(it),this.inputLayersTensorIndices.push(Dt)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let xe=0;xe<this.inputLayers.length;xe++){const et=this.inputLayers[xe];if(!(et instanceof j0))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${xe} (0-based) originates from layer type ${et.getClassName()}.`);this.inputNames.push(et.name),this.feedInputShapes.push(et.batchInputShape),this.feedInputNames.push(et.name)}for(const xe of this.outputLayers)this.outputNames.push(xe.name);this.internalInputShapes=this.inputs.map(xe=>xe.shape),this.internalOutputShapes=this.outputs.map(xe=>xe.shape);const e={},i={},r={},a={},c={},u=[],f=(xe,et,it,Dt,Yt,pn)=>{(null==Dt||null==Yt||null==pn)&&(Dt=xe.sourceLayer,Yt=xe.nodeIndex,pn=xe.tensorIndex);const bn=Dt.inboundNodes[Yt];if(-1!==it.indexOf(bn))throw new ph(`The tensor ${xe.name} at layer "${Dt.name}" is part of a cycle.`);if(-1!==et.indexOf(bn))return;this.containerNodes.add(Qh.nodeKey(Dt,Yt)),Dt.id in c||(c[Dt.id]=Object.keys(c).length),-1===it.indexOf(bn)&&it.push(bn);const On=bn.inboundLayers.length;for(let jn=0;jn<On;jn++)f(bn.inputTensors[jn],et,it,bn.inboundLayers[jn],bn.nodeIndices[jn],bn.tensorIndices[jn]);for(et.push(bn);it.indexOf(bn)>=0;)it.splice(it.indexOf(bn),1);u.push(bn)},p=[],g=[];for(const xe of this.outputs)f(xe,p,g);const y=u.slice().reverse();for(const xe of y){i[xe.id]=xe,xe.id in e||(e[xe.id]=0);let et=e[xe.id];et=Math.max(et,null==r[xe.outboundLayer.id]?0:r[xe.outboundLayer.id]),r[xe.outboundLayer.id]=et,a[xe.outboundLayer.id]=xe.outboundLayer,e[xe.id]=et;for(let Dt=0;Dt<xe.inboundLayers.length;Dt++){const bn=xe.inboundLayers[Dt].inboundNodes[xe.nodeIndices[Dt]];e[bn.id]=Math.max(et+1,null==e[bn.id]?0:e[bn.id]),i[bn.id]=bn}}const x={};for(const xe in e){const et=e[xe];et in x||(x[et]=[]),x[et].push(i[xe])}const P={};for(const xe in r){const et=r[xe];et in P||(P[et]=[]),P[et].push(a[xe])}let j=Object.keys(P).map(xe=>parseInt(xe,10)).sort(mm);this.layers=[];for(const xe of j){const et=P[xe];et.sort((it,Dt)=>{const Yt=c[it.id],pn=c[Dt.id];return Yt<pn?-1:Yt>pn?1:0});for(const it of et)it instanceof Qh&&this.internalContainerRefs.push(it),this.layers.push(it)}this.layersByDepth=P,j=Object.keys(x).map(xe=>parseInt(xe,10)).sort(mm);const J=this.inputs.slice(),G=[];for(const xe of j)for(const et of x[xe]){const it=et.outboundLayer;if(null!=it){for(const Dt of et.inputTensors)if(-1===J.indexOf(Dt))throw new ph(`Graph disconnected: cannot obtain value for tensor ${Dt} at layer "${it.name}". The following previous layers were accessed without issue: ${G}`);for(const Dt of et.outputTensors)J.push(Dt);G.push(it.name)}}this.nodesByDepth=x;const he=this.layers.map(xe=>xe.name);for(const xe of he){const et=he.filter(it=>it===xe).length;if(1!==et)throw new ph(`The name "${xe}" is used ${et} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(he))}this.outboundNodes=[],this.inboundNodes=[],new Cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(xe=>null),outputMasks:this.outputs.map(xe=>null),inputShapes:this.inputs.map(xe=>xe.shape),outputShapes:this.outputs.map(xe=>xe.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const e of this.layers)t.numDisposedVariables+=e.dispose().numDisposedVariables;for(const e of this.internalContainerRefs)t.numDisposedVariables+=e.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(e=>{e._trainableWeights.forEach(i=>i.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new Bn("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const e of this.layers)t=t.concat(e.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const e of this.layers)t.push(...e.nonTrainableWeights);if(!this.trainable){const e=[];for(const i of this.layers)e.push(...i.trainableWeights);return e.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,e=!0){const i={};let r=0;const a=(n=>{const t=Object.keys(n);if(0===t.length)return!1;const e=t[0].split("/");return!isNaN(parseInt(e[e.length-1],10))})(t);a&&this.parseWeights(t);for(const u of this.layers)for(const[f,p]of u.weights.entries()){const g=a?`${p.name.split("/").slice(0,-1).join("/")+"/"}${f}`:p.originalName;if(null!=i[g])throw new Bn(`Duplicate weight name: ${g}`);i[g]=p,r++}const c=[];for(const u in t){let f=u;if(null==i[u]){const p=u.split("/");f=p.slice(0,-2).concat([p[p.length-1]]).join("/")}if(null!=i[f])c.push([i[f],t[u]]);else if(e)throw new Bn(`Provided weight data has no target variable: ${u}`);delete i[f]}if(e){const u=[];for(const f in i)u.push(f);if(u.length>0)throw new Bn(`${u.length} of ${r} weights are not set: ${u}`)}Eb(c)}parseWeights(t){for(const e in Object.keys(t)){const i=e.split("/"),r=["vars","layer_checkpoint_dependencies"],a=i.map(c=>c.startsWith("_")?c.slice(1):c).filter(c=>!r.includes(c)).join("/");a!==e&&(t[a]=t[e],delete t[e])}}updatedConfig(){const t=this.getConfig(),e={};return e.className=this.getClassName(),e.config=t,e.kerasVersion="tfjs-layers 4.21.0",e.backend="TensorFlow.js",e}toJSON(t,e=!0){const i=nw(this.updatedConfig());return e?JSON.stringify(i):i}call(t,e){return Gn(()=>{t=Ha(t);const i=new gh;for(let r=0;r<this.inputs.length;++r)i.add(this.inputs[r],t[r]);return Db(this.outputs,i,e)})}computeMask(t,e){return Gn(()=>{let i;return t=Ha(t),i=null==e?mh(null,t.length):Ha(e),this.runInternalGraph(t,i)[1]})}computeOutputShape(t){const e=U0(t);if(e.length!==this.inputLayers.length)throw new Bn(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const i={};for(let u=0;u<e.length;u++)i[this.inputLayers[u].name+"_0_0"]=e[u];const r=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(mm);if(r.length>1)for(const u of r){const f=this.nodesByDepth[u];for(const p of f){const g=p.outboundLayer;if(-1!==this.inputLayers.map(J=>J.id).indexOf(g.id))continue;const y=[];for(let J=0;J<p.inboundLayers.length;J++)y.push(i[`${p.inboundLayers[J].name}_${p.nodeIndices[J]}_${p.tensorIndices[J]}`]);const P=U0(g.computeOutputShape(Cu(y))),j=g.inboundNodes.indexOf(p);for(let J=0;J<P.length;J++)i[`${g.name}_${j}_${J}`]=P[J]}}const a=[],c=[];for(let u=0;u<this.outputLayers.length;u++)c.push(`${this.outputLayers[u].name}_${this.outputLayersNodeIndices[u]}_${this.outputLayersTensorIndices[u]}`);for(let u=0;u<c.length;u++){const f=c[u];Xu(f in i),a.push(i[f])}return Cu(a)}runInternalGraph(t,e){null==e&&(e=mh(null,t.length));const i={};for(let f=0;f<this.inputs.length;++f)i[this.inputs[f].id]=[t[f],e[f]];const r=Object.keys(this.nodesByDepth).map(f=>parseInt(f,10)).sort(mm);for(const f of r){const p=this.nodesByDepth[f];for(const g of p){const y=g.outboundLayer,x=g.inputTensors,P=g.outputTensors,j=new Array;for(const J of x)J.id in i&&j.push(i[J.id]);if(j.length===x.length){let G,he,xe,et,J={};if(null!=g.callArgs&&(J=g.callArgs),1===j.length){const[it,Dt]=j[0];null==J.mask&&(J.mask=Dt),xe=Ha(y.call(it,J)),et=Ha(y.computeMask(it,Dt)),G=[it],he=[Dt]}else G=j.map(it=>it[0]),he=j.map(it=>it[1]),null==J.mask&&(J.mask=he),xe=Ha(y.call(G,J)),et=Ha(y.computeMask(G,he));if(y.activityRegularizer)throw new _o("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let it=0;it<P.length;++it)i[P[it].id]=[xe[it],et[it]]}}}const a=[],c=[],u=[];for(const f of this.outputs){Xu(f.id in i,`Could not compute output ${f.name} : ${f.id}`);const[p,g]=i[f.id];u.push(p.shape),a.push(p),c.push(g)}return[a,c,u]}buildNodeConversionMap(t){const e={};let i;for(const r of this.layers){i=r instanceof Qh?1:0;for(let a=0;a<r.inboundNodes.length;a++){const c=Qh.nodeKey(r,a);this.containerNodes.has(c)&&(e[c]=i,i+=1)}}return e}getLayer(t,e){if(null!=e)return this.findLayer(e);if(null==t)throw new Bn("Provide either a layer name or layer index");if("number"==typeof t)return this.findLayer(t);for(const i of this.layers)if(i.name===t)return i;throw new Bn(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new Bn(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return Gn(()=>{const t=[];for(const e of this.layers)for(let i=0;i<e.inboundNodes.length;++i){const r=Qh.nodeKey(e,i);this.containerNodes.has(r)&&t.push(...e.calculateLosses())}return t})}getConfig(){const t={name:this.name},e=this.buildNodeConversionMap(this.layers),i=[];for(const c of this.layers){const u=c.getClassName(),f=c.getConfig(),p=[];for(let y=0;y<c.inboundNodes.length;y++){const x=c.inboundNodes[y],P=Qh.nodeKey(c,y);let j={};if(this.containerNodes.has(P)){if(x.callArgs)try{JSON.stringify(x.callArgs),j=x.callArgs}catch{console.warn(`Layer ${c.name} was passed non-serializable keyword arguments: ${x.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),j={}}if(x.inboundLayers.length>0){const J=[];for(let G=0;G<x.inboundLayers.length;G++){const he=x.inboundLayers[G],et=x.tensorIndices[G];let Dt=e[Qh.nodeKey(he,x.nodeIndices[G])];null==Dt&&(Dt=0),J.push([he.name,Dt,et,j])}p.push(J)}}}const g={};g.name=c.name,g.className=u,g.config=f,g.inboundNodes=p,i.push(g)}t.layers=i;const r=[];for(let c=0;c<this.inputLayers.length;c++){const u=this.inputLayers[c],p=Qh.nodeKey(u,this.inputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),r.push([u.name,g,this.inputLayersTensorIndices[c]])}t.inputLayers=r;const a=[];for(let c=0;c<this.outputLayers.length;c++){const u=this.outputLayers[c],p=Qh.nodeKey(u,this.outputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),a.push([u.name,g,this.outputLayersTensorIndices[c]])}return t.outputLayers=a,t}static fromConfig(t,e,i={},r=!1){const a={},c={};function u(G,he){G.name in c?c[G.name].push(he):c[G.name]=[he]}function f(G,he){const xe=[];let et;for(const it of he){const Dt=it[0],Yt=it[1],pn=it[2];if(et=null==it[3]?{}:it[3],!(Dt in a))return void u(G,he);const bn=a[Dt];if(bn.inboundNodes.length<=Yt)return void u(G,he);xe.push(bn.inboundNodes[Yt].outputTensors[pn])}xe.length>0&&G.apply(Cu(xe),et)}function p(G){const he=G.name,xe=Yh(G,null!=e.customObjects?e.customObjects:{});xe.setFastWeightInitDuringBuild(r),a[he]=xe,G.inboundNodes.forEach(it=>{if(!(it instanceof Array))throw new Bn(`Corrupted configuration, expected array for nodeData: ${it}`);u(xe,it)})}const g=e.name,y=e.layers;for(const G of y)p(G);for(;!hR(c);)for(const G of y){const he=a[G.name];if(he.name in c){const xe=c[he.name];delete c[he.name];for(const et of xe)f(he,et)}}const x=[],P=[],j=e.inputLayers;for(const G of j){const he=G[0],xe=G[1],et=G[2];Xu(he in a),x.push(a[he].inboundNodes[xe].outputTensors[et])}const J=e.outputLayers;for(const G of J){const he=G[0],xe=G[1],et=G[2];Xu(he in a),P.push(a[he].inboundNodes[xe].outputTensors[et])}return new t({inputs:x,outputs:P,name:g})}get stateful(){if(this._stateful)throw new Bn("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){Gn(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function J1(n,t){return function iw(n,t,e){const i=t.length;if(null==n||Array.isArray(n)&&0===n.length)return t.map(r=>null);if(1===i)return Array.isArray(n)&&1===n.length?n:"object"==typeof n&&t[0]in n?[n[t[0]]]:[n];if(Array.isArray(n)){if(n.length!==i)throw new Error(`Provided ${e} is an array of ${n.length} element(s), but the model has ${i} outputs. Make sure a set of weights is provided for each model output.`);return n}if("object"==typeof n&&Object.keys(n).length>0&&"object"==typeof n[Object.keys(n)[0]]){const r=[];return t.forEach(a=>{r.push(a in n?n[a]:null)}),r}throw new Error(`The model has multiple (${i}) outputs, so ${e} must be either an array with ${i} elements or an object with ${t} keys. Provided ${e} not understood: ${JSON.stringify(n)}`)}(n,t,"classWeight")}function DC(n,t,e,i){return TC.apply(this,arguments)}function TC(){return(TC=(0,oe.A)(function*(n,t,e,i){if(null!=t||null!=i)throw new Error("Support sampleWeight is not implemented yet");if(null!=e){const r=Gn(()=>{if(1===n.shape.length)return bd(n);if(2===n.shape.length){if(n.shape[1]>1)return Yf(n,1);if(1===n.shape[1])return Wn(n,[n.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${n.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${n.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),a=Array.from(yield r.data());Sr(r);const c=[];return a.forEach(u=>{if(null==e[u])throw new Error(`classWeight must contain all classes in the training data. The class ${u} exists in the data but not in classWeight`);c.push(e[u])}),uu(c,"float32")}return null})).apply(this,arguments)}function dN(n,t){return ae(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function rw(n,t){let e,i;e=t.xs,i=t.ys,Me(null!=e&&null!=i,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const a=eI("input",n.inputNames,e),c=eI("output",n.outputNames,i),u=a[0].shape[0];Me(a.length===n.inputs.length,()=>`LayersModel has ${n.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(n.inputNames)})`),Me(c.length===n.outputs.length,()=>`LayersModel has ${n.outputs.length} outputs, but the dataset provides ${c.length} outputs.  (Expected output keys: ${JSON.stringify(n.outputNames)})`);for(let f=0;f<a.length;f++)Me(a[f].shape[0]===u,()=>`Batch size mismatch: input ${n.inputNames[f]} has ${a[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);for(let f=0;f<c.length;f++)Me(c[f].shape[0]===u,()=>`Batch size mismatch: output ${n.outputNames[f]} has ${c[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);return{xs:a,ys:c}}function eI(n,t,e){if(e instanceof Y)return[e];if(Array.isArray(e))return Me(e.length===t.length,()=>`Received an array of ${e.length} Tensors, but expected ${t.length} to match the ${n} keys ${t}.`),e;{const i=[];for(const r of t){if(null==e[r])throw new Bn(`The feature data generated by the dataset lacks the required ${n} key '${r}'.`);i.push(e[r])}return i}}function IC(){return(IC=(0,oe.A)(function*(n,t,e){const i=null!=e.batchesPerEpoch;if(Me(null!=n.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Me(null!=e,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Me(null!=e.epochs&&e.epochs>0&&Number.isInteger(e.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${e.epochs}`),Me(!i||e.batchesPerEpoch>0&&Number.isInteger(e.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${e.batchesPerEpoch}`),Me(null==e.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");n.isTraining=!0;try{const r=null!=e.validationData;let a,c;if(r)if(nI(e.validationData))Me(null==e.validationBatches||e.validationBatches>0&&Number.isInteger(e.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${e.validationBatches}`);else{const G=function tI(n){if(3===n.length)throw new _o("Validation with sample weights is not implemented yet.");return{xs:n[0],ys:n[1]}}(e.validationData);a=G.xs,c=G.ys}const u=n.makeTrainFunction(),f=n.getDedupedMetricsNames();let p;p=r?f.slice().concat(f.map(G=>"val_"+G)):f.slice();const g=$1(e.callbacks,e.yieldEvery),y=null==e.verbose?1:e.verbose,{callbackList:x,history:P}=kb(g,y,e.epochs,null,null,function pN(n,t){let e=null;return null!=t.batchesPerEpoch?e=t.batchesPerEpoch:Number.isFinite(n.size)&&(e=n.size),e}(t,e),null,r,p);x.setModel(n),n.history=P,yield x.onTrainBegin(),n.stopTraining_=!1;let j=null==e.initialEpoch?0:e.initialEpoch,J=yield t.iterator();for(;j<e.epochs;){const G={};yield x.onEpochBegin(j);let he=0,xe=0;for(i||(J=yield t.iterator());!i||he<e.batchesPerEpoch;){const et=yield J.next();if(i&&et.done){console.warn(`You provided \`batchesPerEpoch\` as ${e.batchesPerEpoch}, but your dataset iterator ran out of data after ${he} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${e.batchesPerEpoch*e.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=et.value){const{xs:it,ys:Dt}=rw(n,et.value),Yt={};Yt.batch=xe,Yt.size=it[0].shape[0],yield x.onBatchBegin(xe,Yt);const pn=[];if(null!=e.classWeight){const jn=J1(e.classWeight,n.outputNames);for(let si=0;si<jn.length;++si)pn.push(yield DC(Dt[si],null,jn[si]))}const bn=it.concat(Dt).concat(pn),On=u(bn);Sr(bn);for(let jn=0;jn<f.length;++jn){const yi=On[jn];Yt[f[jn]]=yi,cs(yi)}yield x.onBatchEnd(xe,Yt),G0(Yt),xe++,he++}if(i?he>=e.batchesPerEpoch:et.done){if(r){let it;it=nI(e.validationData)?Ha(yield n.evaluateDataset(e.validationData,{batches:e.validationBatches})):Ha(n.evaluate(a,c,{batchSize:null==e.validationBatchSize?32:e.validationBatchSize,verbose:0}));for(let Dt=0;Dt<n.metricsNames.length;++Dt)G[`val_${n.metricsNames[Dt]}`]=it[Dt]}break}if(n.stopTraining_)break}if(yield x.onEpochEnd(j,G),j++,n.stopTraining_)break}return yield x.onTrainEnd(),yield n.history.syncData(),n.history}finally{n.isTraining=!1}})).apply(this,arguments)}function nI(n){return"function"==typeof n.iterator}function kC(){return(kC=(0,oe.A)(function*(n,t,e){const i=null!=(e=e||{}).batches,r=n.testFunction;let a=[];if(e.verbose>0)throw new _o("Verbose mode is not implemented yet.");Me(!i||e.batches>0&&Number.isInteger(e.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(e.batches)}`);const c=function mN(n){return"function"==typeof n.next}(t)?t:yield t.iterator();let u=0,f=0;for(;!i||f<e.batches;){const p=yield c.next();if(a=Gn(()=>{if(p.value){const{xs:g,ys:y}=rw(n,p.value),x=g.concat(y),P=Gn(()=>r(x));if(Sr(x),0===f)for(let J=0;J<P.length;++J)a.push(Kr(0));const j=x[0].shape[0];for(let J=0;J<P.length;++J){const G=P[J],he=a[J];a[J]=Gn(()=>Wi(a[J],ae(j,G))),f>0&&Sr(he)}Sr(P),u+=j,++f}return a}),p.done){i&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${e.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let p=0;p<a.length;++p){const g=a[p];a[p]=R(a[p],u),Sr(g)}return Cu(a)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function AC(n){Me(n>0&&Number.isInteger(n),()=>`batchSize is required to be a positive integer, but got ${n}`)}function Eg(n,t,e){return null==n?[null]:Array.isArray(n)?n.map(i=>vg(i,t,e-t)):vg(n,t,e-t)}function Ob(n,t){return Gn(()=>null==n?null:Array.isArray(n)?n.map(e=>Ob(e,t)):oC(n,"int32"===t.dtype?t:yr(t,"int32")))}function sw(n,t){const e=[];let i=0,r=null;for(;i<n;)r=i+t,r>=n&&(r=n),e.push([i,r]),i=r;return e}function iI(n){const t=[];n instanceof Y&&(n=[n]);for(let e=0;e<n.length;++e){const i=n[e];if(1===i.rank)t.push(gb(i,1));else{if(0===i.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(i)}}return t}function Xd(n,t){if(null==n)return;const e=[];if(t instanceof Y)e.push(t.id);else if(Array.isArray(t))t.forEach(r=>e.push(r.id));else if(null!=t)for(const r in t)e.push(t[r].id);const i=[];if(n instanceof Y)-1===e.indexOf(n.id)&&i.push(n);else if(Array.isArray(n))n.forEach(r=>{-1===e.indexOf(r.id)&&i.push(r)});else if(null!=n)for(const r in n){const a=n[r];-1===e.indexOf(a.id)&&i.push(a)}i.forEach(r=>{r.isDisposed||r.dispose()})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function ow(n){return Array.isArray(n)}function MC(n){return!function rI(n){return n instanceof Y}(n)&&!ow(n)}function RC(n,t,e,i=!0,r=""){if(null==t||0===t.length){if(null!=n){let c=!1;if(ow(n)&&n.length>0)c=!0;else if(MC(n)){for(const u in n)if(n.hasOwnProperty(u)){c=!0;break}}else c=!0;if(c)throw new Bn(`Error when checking model ${r} expected no data, but got ${n}`)}return[]}if(null==n)return t.map(c=>null);let a;if(MC(n)){a=[];for(const c of t){if(null==n[c])throw new Bn(`No data provided for "${c}". Need data for each key in: ${t}`);a.push(n[c])}}else if(ow(n)){if(n.length!==t.length)throw new Bn(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${n}`);a=n}else{if(t.length>1)throw new Bn(`The model ${r} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${n.shape}`);a=[n]}if(a=iI(a),null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new Bn(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s). but got array with shape ${u.shape}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g>=0&&u.shape[f]!==g)throw new Bn(`${r} expected a batch of elements where each example has shape [${e[c].slice(1,e[c].length)}] (i.e.,tensor shape [*,${e[c].slice(1,e[c].length)}]) but the ${r} received an input with ${u.shape[0]} examples, each with shape [${u.shape.slice(1,u.shape.length)}] (tensor shape [${u.shape}])`)}}return a}function sI(n,t,e,i=!0,r=""){let a;if(Array.isArray(n)){if(n.length!==t.length)throw new Bn(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${n.length} Tensors(s).`);a=n}else{if(t.length>1)throw new Bn(`The model expects ${t.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(n.shape)}.`);a=[n]}if(null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new Bn(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s), but got array with shape ${JSON.stringify(u.shape)}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g!==u.shape[f])throw new Bn(`Error when checking ${r}: expected ${t[c]} to have shape ${JSON.stringify(e[c])} but got array with shape ${JSON.stringify(u.shape)}.`)}}}let Cg=(()=>{class n extends Qh{constructor(e){super(e),this.isTraining=!1}summary(e,i,r=console.log){if(!this.built)throw new Bn("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function bF(n,t,e,i=console.log){const r=function Y1(n){let t=!0;const e=[],i=[];for(const r in n.nodesByDepth)e.push(n.nodesByDepth[r]);for(const r of e){if(r.length>1||1===r.length&&r[0].inboundLayers.length>1){t=!1;break}i.push(...r)}if(t)for(const r of n.layers){let a=!1;for(const c of r.inboundNodes)if(-1!==i.indexOf(c)){if(a){t=!1;break}a=!0}if(!t)break}return t}(n),a=["Layer (type)","Input Shape","Output shape","Param #"];let c;if(r?(t=t||90,e=e||[.32,.61,.89,1]):(t=t||115,e=e||[.24,.48,.7,.8,1]),e[e.length-1]<=1&&(e=e.map(g=>Math.floor(t*g))),!r){a.push("Receives inputs"),c=[];for(const g in n.nodesByDepth)c.push(...n.nodesByDepth[g])}i("_".repeat(t)),ew(a,e,i),i("=".repeat(t));const u=n.layers;for(let g=0;g<u.length;++g)r?cN(u[g],e,i):Nb(u[g],e,c,i),i((g===u.length-1?"=":"_").repeat(t));n.checkTrainableWeightsConsistency();const f=function lN(n){let t;return t=z0(null!=n.collectedTrainableWeights?n.collectedTrainableWeights:n.trainableWeights),t}(n),p=z0(n.nonTrainableWeights);i(`Total params: ${f+p}`),i(`Trainable params: ${f}`),i(`Non-trainable params: ${p}`),i("_".repeat(t))}(this,e,i,r)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function aN(n){const t={Adagrad:()=>v_.adagrad(.01),Adadelta:()=>v_.adadelta(1,.95,Yc()),Adam:()=>v_.adam(.001,.9,.999,Yc()),Adamax:()=>v_.adamax(.002,.9,.999,Yc(),0),RMSProp:()=>v_.rmsprop(.001,.9,0,Yc()),SGD:()=>v_.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,n in t)return t[n]();throw new Bn(`Unknown Optimizer ${n}`)}
/**
       * @license
       * Copyright 2019 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Fh))throw new Bn("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let i=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Bn(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);i=e.loss.map(f=>xg(f))}else{const u=xg(e.loss);this.outputs.forEach(f=>{i.push(u)})}else{e.loss=e.loss;for(const u in e.loss)if(-1===this.outputNames.indexOf(u))throw new Bn(`Unknown entry in loss dictionary: "${u}". Only expected the following keys: ${this.outputNames}`);for(const u of this.outputNames)null==e.loss[u]&&console.warn(`Output "${u}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${u} during training`),i.push(xg(e.loss[u]))}this.lossFunctions=i,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let u=0;u<this.outputs.length;++u){const f=this.internalOutputShapes[u];this.feedOutputNames.push(this.outputNames[u]),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[u])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ym("loss",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&this.outputs.length>1&&(this.metricsTensors.push([this.lossFunctions[u],u]),this.metricsNames.push(this.outputNames[u]+"_loss"))});const a=function PC(n,t){if(null==n||Array.isArray(n)&&0===n.length)return t.map(i=>[]);let e;if("string"==typeof n||"function"==typeof n)e=[n];else{if(!Array.isArray(n)&&"object"!=typeof n)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${n}`);e=n}if(Array.isArray(e))return t.map(i=>e);{const i=[];for(const r of t){let a=e.hasOwnProperty(r)?e[r]:[];Array.isArray(a)||(a=[a]),i.push(a)}return i}}(e.metrics,this.outputNames),c=(u,f,p)=>{this.outputNames.length>1&&(f=this.outputNames[u]+"_"+f),this.metricsNames.push(f),this.metricsTensors.push([p,u])};ym("metric",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&(g=>{let x,P,j;for(const J of g){if("string"==typeof J&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(J)){const he=this.internalOutputShapes[u];let xe;1===he[he.length-1]||this.lossFunctions[u]===bC?-1!==["accuracy","acc"].indexOf(J)?P=B_:-1!==["crossentropy","ce"].indexOf(J)&&(P=iN):this.lossFunctions[u]===_C?-1!==["accuracy","acc"].indexOf(J)?P=W1:-1!==["crossentropy","ce"].indexOf(J)&&(P=G1):-1!==["accuracy","acc"].indexOf(J)?P=U1:-1!==["crossentropy","ce"].indexOf(J)&&(P=EC),-1!==["accuracy","acc"].indexOf(J)?xe="acc":-1!==["crossentropy","ce"].indexOf(J)&&(xe="ce"),j=P,x=""+xe}else j=K1(J),x=""+wm(J);let G;ym(x,()=>{G=j}),c(u,x,G)}})(a[u])}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,i,r={}){const a=null==r.batchSize?32:r.batchSize;AC(a);const u=this.standardizeUserDataXY(e,i,!0,a);try{const f=u[0].concat(u[1]);return this.makeTestFunction(),Cu(this.testLoop(this.testFunction,f,a,r.verbose,r.steps))}finally{Xd(u[0],e),Xd(u[1],i)}}evaluateDataset(e,i){var r=this;return(0,oe.A)(function*(){return r.makeTestFunction(),function gN(n,t,e){return kC.apply(this,arguments)}(r,e,i)})()}checkNumSamples(e,i,r,a="steps"){let c;if(null!=r){if(c=null,null!=i)throw new Bn(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${i}`)}else{if(null==e)throw new Bn(`Either the input data should have a defined shape, or ${a} shoud be specified.`);c=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return c}execute(e,i){if(Array.isArray(i)&&0===i.length)throw new Bn("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(i),c=this.retrieveSymbolicTensors(r?i:[i]),u=new gh;if(e instanceof Y&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Bn(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let p=0;p<this.inputs.length;++p)u.add(this.inputs[p],e[p])}else for(const p of this.inputs){const g=e[p.name];if(null==g)throw new Bn(`No value is provided for the model's input ${p.name}`);u.add(p,g)}const f=Db(c,u);return r?f:f[0]}retrieveSymbolicTensors(e){const i=mh(null,e.length);let r=e.length;for(const a of this.layers){const c=Array.isArray(a.output)?a.output:[a.output],u=c.map(f=>f.name);for(let f=0;f<e.length;++f){const p=u.indexOf(e[f]);if(-1!==p&&(i[f]=c[p],r--),0===r)break}if(0===r)break}if(r>0){const a=[];throw i.forEach((c,u)=>{null==c&&a.push(e[u])}),new Bn(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return i}predictLoop(e,i=32,r=!1){return Gn(()=>{const a=this.checkNumSamples(e);if(r)throw new _o("Verbose predictLoop() is not implemented yet.");const c=sw(a,i),u=this.outputs.map(f=>[]);for(let f=0;f<c.length;++f)Gn(()=>{const x=Eg(e,c[f][0],c[f][1]),P=[];if(Array.isArray(x))for(let J=0;J<x.length;++J)P.push({key:this.inputs[J],value:x[J]});else P.push({key:this.inputs[0],value:x});const j=new gh(P);return Db(this.outputs,j)}).forEach((g,y)=>u[y].push(g));return Cu(u.map(f=>cc(f,0)))})}predict(e,i={}){const r=iI(e);sI(r,this.inputNames,this.feedInputShapes,!1);try{const a=null==i.batchSize?32:i.batchSize;return AC(a),this.predictLoop(r,a)}finally{Xd(r,e)}}predictOnBatch(e){sI(e,this.inputNames,this.feedInputShapes,!0);const i=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,i)}standardizeUserDataXY(e,i,r=!0,a){if(null==this.optimizer_)throw new ph("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const c=[];for(let u=0;u<this.feedOutputShapes.length;++u){const f=this.feedOutputShapes[u];c.push(this.feedLossFns[u]===_C?f.slice(0,f.length-1).concat([1]):f)}if(function NC(n,t){const i=Hh(n.map(a=>a.shape[0]));i.sort();const r=Hh(t.map(a=>a.shape[0]));if(r.sort(),i.length>1)throw new Bn(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map(a=>a.shape))}`);if(r.length>1)throw new Bn(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(a=>a.shape))}`);if(i.length>0&&r.length>0&&!Ae(i,r))throw new Bn(`Input Tensors should have the same number of samples as target Tensors. Found ${i[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=RC(e,this.feedInputNames,this.feedInputShapes,!1,"input"),i=RC(i,this.feedOutputNames,c,!1,"target")),function OC(n,t,e){const i=[q0,bC,Of];for(let r=0;r<n.length;++r){const a=n[r],c=t[r],u=e[r];if(null!=c){if(c===Of&&1===a.shape[a.shape.length-1])throw new Bn(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==i.indexOf(c)){const f=a.shape.slice(1),p=u.slice(1);for(let g=0;g<f.length;++g){const x=p[g];if(null!=x&&f[g]!==x)throw new Bn(`A target Tensor with shape ${a.shape} was passed for an output of shape ${u}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(i,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=a&&a>0&&e[0].shape[0]%a!=0)throw new Bn(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,i]}standardizeUserData(e,i,r,a,c=!0,u){var f=this;return(0,oe.A)(function*(){const[p,g]=f.standardizeUserDataXY(e,i,c,u);if(null!=r)throw new Error("sample weight is not supported yet.");let y=null;if(null!=a){const x=J1(a,f.outputNames);y=[];for(let P=0;P<x.length;++P)y.push(yield DC(g[P],null,x[P]))}return[p,g,y]})()}testLoop(e,i,r,a=0,c){return Gn(()=>{const u=this.checkNumSamples(i,r,c,"steps"),f=[];if(a>0)throw new _o("Verbose mode is not implemented yet.");if(null!=c)throw new _o("steps mode in testLoop() is not implemented yet");{const p=sw(u,r),g=uu(Gd(0,u));for(let y=0;y<p.length;++y){const x=p[y][0],P=p[y][1],j=vg(g,x,P-x),J=Ob(i,j),G=e(J);if(0===y)for(let he=0;he<G.length;++he)f.push(Kr(0));for(let he=0;he<G.length;++he)f[he]=Wi(f[he],ae(P-x,G[he]))}for(let y=0;y<f.length;++y)f[y]=R(f[y],u)}return f})}getDedupedMetricsNames(){const e=this.metricsNames,i=[];for(let r=0;r<e.length;++r){const a=e[r];let c=a;D_(e,a)>1&&(c+=`_${D_(e.slice(0,r),a)}`),i.push(c)}return i}makeTrainFunction(){return e=>{const i=[],r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),c=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),u=[],p=this.collectedTrainableWeights.map(x=>x.read());return[this.optimizer_.minimize(()=>{const x=[];for(let G=0;G<this.inputs.length;++G)x.push({key:this.inputs[G],value:r[G]});const P=new gh(x),j=Db(this.outputs,P,{training:!0});let J;for(let G=0;G<this.lossFunctions.length;++G){let xe=(0,this.lossFunctions[G])(a[G],j[G]);null!=c[G]&&(xe=dN(xe,c[G]));const et=uc(xe);i.push(et),J=0===G?xe:Wi(J,xe)}for(let G=0;G<this.metricsTensors.length;++G){let he;if(this.outputs.length>1&&G<this.outputs.length)he=i[G];else{const et=this.metricsTensors[G][1];he=uc((0,this.metricsTensors[G][0])(a[et],j[et]))}cs(he),u.push(he)}return J=uc(J),this.calculateLosses().forEach(G=>{J=Wi(J,G)}),J},!0,p)].concat(u)}}makeTestFunction(){this.testFunction=e=>Gn(()=>{const i=[];let r;const a=e.slice(0,this.inputs.length),c=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),u=[];for(let g=0;g<this.inputs.length;++g)u.push({key:this.inputs[g],value:a[g]});const f=new gh(u),p=Db(this.outputs,f);for(let g=0;g<this.lossFunctions.length;++g){const x=uc((0,this.lossFunctions[g])(c[g],p[g]));r=0===g?x:Wi(r,x),i.push(r)}for(let g=0;g<this.metricsTensors.length;++g){const x=this.metricsTensors[g][1],P=uc((0,this.metricsTensors[g][0])(c[x],p[x]));i.push(P)}return i})}fit(e,i,r={}){var a=this;return(0,oe.A)(function*(){if(a.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let c,u,f,p,g,y,x,P,j;a.isTraining=!0;try{const J=null==r.batchSize?32:r.batchSize;AC(J);const he=yield a.standardizeUserData(e,i,r.sampleWeight,r.classWeight,!1,J);c=he[0],u=he[1],j=he[2];let et,xe=!1;if(null!=r.validationData&&r.validationData.length>0){if(xe=!0,2!==r.validationData.length)throw 3===r.validationData.length?new _o("validationData including sample weights is not supported yet."):new Bn(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);g=r.validationData[0],y=r.validationData[1];const yi=yield a.standardizeUserData(g,y,null,null,!0,J);x=yi[0],P=yi[1],et=x.concat(P)}else if(null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1){xe=!0;const si=Math.floor(c[0].shape[0]*(1-r.validationSplit)),yi=c[0].shape[0];x=Eg(c,si,yi),f=c,c=Eg(c,0,si),P=Eg(u,si,yi),p=u,u=Eg(u,0,si),et=x.concat(P)}else null!=r.validationSteps&&(xe=!0);const it=c.concat(u).concat(j);a.checkTrainableWeightsConsistency();const Dt=a.makeTrainFunction(),Yt=a.getDedupedMetricsNames();let pn,bn;xe?(a.makeTestFunction(),pn=a.testFunction,bn=Yt.slice().concat(Yt.map(si=>"val_"+si))):(pn=null,et=[],bn=Yt.slice());const On=$1(r.callbacks,r.yieldEvery);return yield a.fitLoop(Dt,it,Yt,J,r.epochs,r.verbose,On,pn,et,r.shuffle,bn,r.initialEpoch,null,null)}finally{a.isTraining=!1,Xd(c,e),Xd(u,i),Xd(f,e),Xd(p,i),Xd(x,g),Xd(P,y),null!=j&&Sr(j)}})()}fitLoop(e,i,r,a,c,u,f,p,g,y,x,P,j,J){var G=this;return(0,oe.A)(function*(){null==a&&(a=32),null==c&&(c=1),null==y&&(y=!0),null==P&&(P=0);let he=!1;if(null!=p&&null!=g&&(he=!0),null!=J&&(he=!0,null==j))throw new Bn("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const xe=G.checkNumSamples(i,a,j,"steps_per_epoch");let et;null!=xe&&(et=Gd(0,xe)),null==u&&(u=1);const{callbackList:it,history:Dt}=kb(f,u,c,P,xe,j,a,he,x);it.setModel(G),G.history=Dt,yield it.onTrainBegin(),G.stopTraining_=!1;for(let Yt=P;Yt<c;++Yt){yield it.onEpochBegin(Yt);const pn={};if(null!=j)throw new _o("stepsPerEpoch mode is not implemented yet.");{if("batch"===y)throw new _o("batch shuffling is not implemneted yet");y&&Ce(et);const bn=uu(et),On=sw(xe,a);for(let jn=0;jn<On.length;++jn){const si={};if(yield it.onBatchBegin(jn,si),Gn(()=>{const yi=On[jn][0],Ei=On[jn][1],Ci=vg(bn,yi,Ei-yi);si.batch=jn,si.size=Ei-yi;const Di=Ob(i,Ci),Mi=e(Di);for(let Oi=0;Oi<r.length;++Oi){const Fi=Mi[Oi];si[r[Oi]]=Fi,cs(Fi)}if(jn===On.length-1&&he){const Oi=G.testLoop(p,g,a);for(let Ti=0;Ti<r.length;++Ti){const Fi=r[Ti],or=Oi[Ti];cs(or),pn["val_"+Fi]=or}}}),yield it.onBatchEnd(jn,si),G0(si),G.stopTraining_)break}bn.dispose()}if(yield it.onEpochEnd(Yt,pn),G.stopTraining_)break}return yield it.onTrainEnd(),yield G.history.syncData(),G.history})()}fitDataset(e,i){var r=this;return(0,oe.A)(function*(){return function fN(n,t,e){return IC.apply(this,arguments)}(r,e,i)})()}trainOnBatch(e,i){var r=this;return(0,oe.A)(function*(){const a=yield r.standardizeUserData(e,i),c=a[0],u=a[1],p=r.makeTrainFunction()(c.concat(u)),g=[];for(const y of p){const x=yield y.data();g.push(x[0])}return Sr(p),Xd(a[0],e),Xd(a[1],i),Cu(g)})()}getNamedWeights(e){const i=[],r=null!=e&&e.trainableOnly,a=r?this.trainableWeights:this.weights,c=this.getWeights(r);for(let u=0;u<a.length;++u)r&&!a[u].trainable||i.push({name:a[u].originalName,tensor:c[u]});return i}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const i=Zl().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=i-Zl().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=Df(this.loss);else if(Array.isArray(this.loss)){for(const i of this.loss)if("string"!=typeof i)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(i=>Df(i))}else{const i=Object.keys(this.loss);e={};const r=this.loss;for(const a of i){if("string"!=typeof r[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=Df(r[a])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[Df(wm(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>Df(wm(e)));{const e={};for(const i in this.metrics)e[i]=Df(wm(this.metrics[i]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const r=Yh(tw(e.optimizer_config));let a,c;if("string"==typeof e.loss)a=Tf(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(u=>Tf(u));else if(null!=e.loss){a={};for(const u in e.loss)a[u]=Tf(e.loss[u])}if(Array.isArray(e.metrics))c=e.metrics.map(u=>Tf(u));else if(null!=e.metrics){c={};for(const u in e.metrics)c[u]=Tf(e.metrics[u])}this.compile({loss:a,metrics:c,optimizer:r})}save(e,i){var r=this;return(0,oe.A)(function*(){if("string"==typeof e){const y=Rl(e);if(0===y.length)throw new Bn(`Cannot find any save handlers for URL '${e}'`);if(y.length>1)throw new Bn(`Found more than one (${y.length}) save handlers for URL '${e}'`);e=y[0]}if(null==e.save)throw new Bn("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const a=yield Ln(r.getNamedWeights(i)),p={modelTopology:r.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v4.21.0",convertedBy:null};if(null!=i&&i.includeOptimizer&&null!=r.optimizer){p.trainingConfig=r.getTrainingConfig();const y="optimizer",{data:x,specs:P}=yield Ln(yield r.optimizer.getWeights(),y);a.specs.push(...P),a.data=ss([a.data,x])}return null!=r.userDefinedMetadata&&(q1(r.userDefinedMetadata,r.name,!0),p.userDefinedMetadata=r.userDefinedMetadata),p.weightData=a.data,p.weightSpecs=a.specs,e.save(p)})()}setUserDefinedMetadata(e){q1(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}return n.className="Model",n})();qi(Cg),qi((()=>{class n extends Cg{}return n.className="Functional",n})()),qi((()=>{class n extends Cg{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:mb("sequential_"),null!=e.layers)for(const i of e.layers)this.add(i)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new Bn(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const i=e instanceof n||e instanceof Cg;let r;if(i){if(r=e,1!==r.outputs.length)throw new Bn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==r.inputs.length)throw new Bn("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Bn("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=function LR(n){if(null==n.batchShape&&null==n.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=n.batchShape&&null!=n.shape)throw new Bn("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=n.batchShape;null!=n.shape&&null==t&&(t=[null].concat(n.shape));let e=n.dtype;return null==e&&(e="float32"),new j0({batchInputShape:t,name:n.name,dtype:e,sparse:n.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(i)this.outputs=r.outputs,this.inputs=r.inputs;else{if(1!==e.inboundNodes.length)throw new Bn(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new Bn("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=cC(this.outputs[0])}this.inboundNodes=[],new Cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:mh(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,i){return null==this.model&&this.build(),this.model.call(e,i)}build(e){if(pa(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Cg({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,i,r=console.log){this.built||this.build(),super.summary(e,i,r)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,i,r={}){if(!this.built)throw new ph("The model needs to be compiled before being used.");return this.model.evaluate(e,i,r)}evaluateDataset(e,i){var r=this;return(0,oe.A)(function*(){if(!r.built)throw new ph("The model needs to be compiled before being used.");return r.model.evaluateDataset(e,i)})()}predict(e,i={}){return null==this.model&&this.build(),this.model.predict(e,i)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}fit(e,i,r={}){var a=this;return(0,oe.A)(function*(){if(!a.built)throw new ph("The model needs to be compiled before being used.");return a.model.fit(e,i,r)})()}fitDataset(e,i){var r=this;return(0,oe.A)(function*(){if(!r.built)throw new ph("The model needs to be compiled before being used.");return r.model.fitDataset(e,i)})()}trainOnBatch(e,i){var r=this;return(0,oe.A)(function*(){return r.model.trainOnBatch(e,i)})()}static fromConfig(e,i,r={},a=!1){let c,u={};if(i instanceof Array){if(null==i[0].className||"Merge"===i[0].className)throw new Bn("Legacy serialization format not supported yet.");c=i}else Me(null!=i.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),c=i.layers,delete i.layers,u=i;const f=new e(u);if(!(f instanceof n))throw new _o(`Sequential.fromConfig called on non-Sequential input: ${f}`);for(const p of c){const y=Yh(p,void 0,a);a&&y.setFastWeightInitDuringBuild(!0),f.add(y)}return f}set stopTraining(e){if(null==this.model)throw new Bn("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new Bn("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const i of this.layers){const r={};r.className=i.getClassName(),r.config=i.getConfig(),e.push(r)}return{name:this.name,layers:e}}}return n.className="Sequential",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Du extends lo{getConfig(){return{}}}qi((()=>{class n extends Du{apply(e,i=1){return function E1(n,t=1){if(1!==t)throw new _o(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return nm(n)}(e,i)}}return n.className="elu",n})()),qi((()=>{class n extends Du{apply(e){return jx(e)}}return n.className="selu",n})()),qi((()=>{class n extends Du{apply(e){return ch(e)}}return n.className="relu",n})()),qi((()=>{class n extends Du{apply(e){return Gn(()=>sp(6,ch(e)))}}return n.className="relu6",n})()),qi((()=>{class n extends Du{apply(e){return e}}return n.className="linear",n})()),qi((()=>{class n extends Du{apply(e){return Wu(e)}}return n.className="sigmoid",n})()),qi((()=>{class n extends Du{apply(e){return function N_(n){return Gn(()=>{const t=Wi(.5,ae(.2,n));return xu(t,0,1)})}(e)}}return n.className="hardSigmoid",n})()),qi((()=>{class n extends Du{apply(e){return Dn(e)}}return n.className="softplus",n})()),qi((()=>{class n extends Du{apply(e){return function R_(n){return Gn(()=>R(n,Wi(Pa(n),1)))}(e)}}return n.className="softsign",n})()),qi((()=>{class n extends Du{apply(e){return Jf(e)}}return n.className="tanh",n})());let $C=(()=>{class n extends Du{apply(e,i=-1){return r0(e,i)}}return n.className="softmax",n})();function xm(n){return n.getClassName()}function BC(n,t={}){return If(n,zu.getMap().classNameMap,t,"activation")}function Em(n){if(null==n){return BC({className:"linear",config:{}})}if("string"==typeof n){const t={};return t.className=n,t.config={},BC(t)}return n instanceof Du?n:BC(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */qi($C),qi((()=>{class n extends Du{apply(e,i=-1){return jr(e,i)}}return n.className="logSoftmax",n})()),qi((()=>{class n extends Du{apply(e){return Gn(()=>Gn(()=>{const i=Math.sqrt(2),r=ae(.5,Wi(1,kv(R(e,i))));return ae(e,r)}))}}return n.className="gelu",n})()),qi((()=>{class n extends Du{apply(e){return Gn(()=>ae(.5,ae(e,Wi(1,Jf(ae(tn(R(2,Math.PI)),Wi(e,ae(.044715,ih(e,3)))))))))}}return n.className="gelu_new",n})()),qi((()=>{class n extends Du{apply(e){return Gn(()=>ae(e,Jf(Dn(e))))}}return n.className="mish",n})()),qi((()=>{class n extends Du{apply(e,i=1){return Gn(()=>ae(Wu(ae(e,i)),e))}}return n.className="swish",n})());class UC extends lo{}qi((()=>{class n extends UC{constructor(e){super(),function VC(n){if(null!=n&&"object"!=typeof n)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${n}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return Gn(()=>{let i=$c([1]);return this.hasL1&&(i=Wi(i,Hr(ae(this.l1,Pa(e))))),this.hasL2&&(i=Wi(i,Hr(ae(this.l2,M_(e))))),Wn(i,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,i){return new e({l1:i.l1,l2:i.l2})}}return n.className="L1L2",n})());const zC={l1l2:"L1L2"};function fl(n){return A0(n)}function jC(n,t={}){return If(n,zu.getMap().classNameMap,t,"regularizer")}function Hl(n){return null==n?null:"string"==typeof n?jC({className:n in zC?zC[n]:n,config:{}}):n instanceof UC?n:jC(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function _p(n,t,e){if("number"==typeof n)return mh(n,t);if(n.length!==t)throw new Bn(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${n.length} elements.`);for(let i=0;i<t;++i){const r=n[i];if(!_R(r))throw new Bn(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(n)} including a non-integer number ${r}`)}return n}function qd(n,t,e,i,r=1){if(null==n)return n;let c;return c="same"===e?n:n-(t+(t-1)*(r-1))+1,Math.floor((c+i-1)/i)}function _h(n,t,e,i){if(null==n)return null;if("valid"===i)n=n*t+pp([e-t,0]);else{if("same"!==i)throw new Bn(`Unsupport padding mode: ${i}.`);n*=t}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function uw(n,t){return Gn(()=>(vc(t),"channelsFirst"===t?oa(n,[0,2,3,1]):n))}function WC(n,t){return Gn(()=>(vc(t),"channelsFirst"===t?oa(n,[0,2,3,4,1]):n))}function dw(n,t,e,i=[1,1],r="valid",a,c,u=null){return Gn(()=>{if(null==a&&(a="channelsLast"),vc(a),3!==n.rank&&4!==n.rank)throw new Bn(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${n.rank}.`);if(3!==t.rank&&4!==t.rank)throw new Bn(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${n.rank}.`);let f=uw(n,a);if("causal"===r)throw new _o("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return f=y_({x:f,filter:t,strides:i,pad:"same"===r?"same":"valid",dilations:c,dataFormat:"NHWC",bias:e,activation:u}),"channelsFirst"===a&&(f=oa(f,[0,3,1,2])),f})}qi((()=>{class n extends eo{constructor(e){super(e??{}),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,i){e=Js(e);let r=ch(e);return null!=this.maxValue&&(r=xu(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ReLU",n})()),qi((()=>{class n extends eo{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=Js(e);return ip(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LeakyReLU",n})()),qi((()=>{class n extends eo{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=dc(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Hl(e.alphaRegularizer),this.alphaConstraint=eu(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Bn(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const i=(e=pa(e)).slice(1);if(null!=this.sharedAxes)for(const a of this.sharedAxes)i[a-1]=1;this.alpha=this.addWeight("alpha",i,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(null!=this.sharedAxes)for(let a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new kc({ndim:e.length,axes:r})],this.built=!0}call(e,i){return e=Js(e),qv(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Wl(this.alphaInitializer),alphaRegularizer:fl(this.alphaRegularizer),alphaConstraint:Jc(this.alphaConstraint),sharedAxes:this.sharedAxes},i=super.getConfig();return Object.assign(e,i),e}}return n.className="PReLU",n})()),qi((()=>{class n extends eo{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new _o(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=Js(e);return nm(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ELU",n})()),qi((()=>{class n extends eo{constructor(e){super(e??{}),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,i){const r=Js(e);return ae(r,yr(ud(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ThresholdedReLU",n})()),qi((()=>{class n extends eo{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new $C).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,i){return Gn(()=>{let r=Js(e);const a=i.mask;if(null!=a){const c=ae(Vr(zd(r.shape),yr(a,r.dtype)),Kr(-1e9));r=Wi(r,c)}return this.axis instanceof Array?this.axis.length>1?lu(Vr(r,Ks(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Softmax",n})());class V_ extends eo{constructor(t,e){if(super(e),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",V_.verifyArgs(e),this.rank=t,Ic(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new _o(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=_p(e.kernelSize,t,"kernelSize"),this.strides=_p(null==e.strides?1:e.strides,t,"strides"),this.padding=null==e.padding?"valid":e.padding,Su(this.padding),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,vc(this.dataFormat),this.activation=Em(e.activation),this.useBias=null==e.useBias||e.useBias,this.biasInitializer=dc(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=eu(e.biasConstraint),this.biasRegularizer=Hl(e.biasRegularizer),this.activityRegularizer=Hl(e.activityRegularizer),this.dilationRate=_p(null==e.dilationRate?1:e.dilationRate,t,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new Bn(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new Bn(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new Bn(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(t){if(Xu("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!M0(t.kernelSize,"number",1,3))throw new Bn(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:xm(this.activation),useBias:this.useBias,biasInitializer:Wl(this.biasInitializer),biasRegularizer:fl(this.biasRegularizer),activityRegularizer:fl(this.activityRegularizer),biasConstraint:Jc(this.biasConstraint)},e=super.getConfig();return Object.assign(t,e),t}}class Sg extends V_{constructor(t,e){super(t,e),this.kernel=null,Sg.verifyArgs(e),this.filters=e.filters,Ic(this.filters,"filters"),this.kernelInitializer=dc(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=eu(e.kernelConstraint),this.kernelRegularizer=Hl(e.kernelRegularizer)}build(t){t=pa(t);const e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new Bn(`The channel dimension of the input should be defined. Found ${t[e]}`);const i=t[e],r=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[e]:i}}],this.built=!0}call(t,e){return Gn(()=>{let i;t=Js(t);const r=null==this.bias?null:this.bias.read(),a=Dd(this.activation.getClassName());if(null!=a&&2===this.rank)i=dw(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)i=function HC(n,t,e,i=1,r="valid",a,c=1){return Gn(()=>{if(null==a&&(a="channelsLast"),vc(a),3!==n.shape.length)throw new Bn(`The input of a conv1dWithBias operation should be 3, but is ${n.shape.length} instead.`);if(3!==t.shape.length)throw new Bn(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=e&&1!==e.shape.length)throw new Bn(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if("channelsFirst"===a&&(n=oa(n,[0,2,1])),"causal"===r)throw new _o("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let u=xv(n,t,i,"same"===r?"same":"valid","NWC",c);return null!=e&&(u=qu(u,e)),u})}(t,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)i=dw(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new _o("convolutions greater than 3D are not implemented yet.");i=function GC(n,t,e,i=[1,1,1],r="valid",a,c){return Gn(()=>{if(null==a&&(a="channelsLast"),vc(a),4!==n.rank&&5!==n.rank)throw new Bn(`conv3dWithBias expects input to be of rank 4 or 5, but received ${n.rank}.`);if(4!==t.rank&&5!==t.rank)throw new Bn(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${n.rank}.`);let u=WC(n,a);if("causal"===r)throw new _o("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=wy(u,t,i,"same"===r?"same":"valid","NDHWC",c),null!=e&&(u=qu(u,e)),"channelsFirst"===a&&(u=oa(u,[0,4,1,2,3])),u})}(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(i=this.activation.apply(i))}return i})}computeOutputShape(t){t=pa(t);const e=[],i="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2);for(let a=0;a<i.length;++a){const c=qd(i[a],this.kernelSize[a],this.padding,this.strides[a],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);e.push(c)}let r=[t[0]];return"channelsLast"===this.dataFormat?(r=r.concat(e),r.push(this.filters)):(r.push(this.filters),r=r.concat(e)),r}getConfig(){const t={filters:this.filters,kernelInitializer:Wl(this.kernelInitializer),kernelRegularizer:fl(this.kernelRegularizer),kernelConstraint:Jc(this.kernelConstraint)},e=super.getConfig();return Object.assign(t,e),t}static verifyArgs(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new Bn(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}let KC=(()=>{class n extends Sg{constructor(e){super(2,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!M0(e.kernelSize,"number",1,2))throw new Bn(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv2D",n})();qi(KC);let uI=(()=>{class n extends Sg{constructor(e){super(3,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Bn(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv3D",n})();qi(uI),qi((()=>{class n extends KC{constructor(e){if(super(e),this.inputSpec=[new kc({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new Bn(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=pa(e)).length)throw new Bn("Input should have rank 4; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new Bn("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new kc({ndim:4,axes:{[i]:r}})],this.built=!0}call(e,i){return Gn(()=>{let r=Js(e);if(4!==r.shape.length)throw new Bn(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f;"channelsFirst"===this.dataFormat?(u=2,f=3):(u=1,f=2);const g=a[f],x=this.kernelSize[1],j=this.strides[1],he=[a[0],_h(a[u],this.strides[0],this.kernelSize[0],this.padding),_h(g,j,x,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=oa(r,[0,2,3,1]));let xe=s_(r,this.kernel.read(),he,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(xe=oa(xe,[0,3,1,2])),null!=this.bias&&(xe=qu(xe,this.bias.read(),this.dataFormat)),null!=this.activation&&(xe=this.activation.apply(xe)),xe})}computeOutputShape(e){const i=(e=pa(e)).slice();let r,a,c;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3):(r=3,a=1,c=2);const u=this.kernelSize[0],f=this.kernelSize[1],p=this.strides[0],g=this.strides[1];return i[r]=this.filters,i[a]=_h(i[a],p,u,this.padding),i[c]=_h(i[c],g,f,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv2DTranspose",n})()),qi((()=>{class n extends uI{constructor(e){if(super(e),this.inputSpec=[new kc({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new Bn(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=pa(e)).length)throw new Bn("Input should have rank 5; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new Bn("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new kc({ndim:5,axes:{[i]:r}})],this.built=!0}call(e,i){return Gn(()=>{let r=Js(e);if(5!==r.shape.length)throw new Bn(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f,p;"channelsFirst"===this.dataFormat?(p=2,u=3,f=4):(p=1,u=2,f=3);const y=a[u],x=a[f],j=this.kernelSize[1],J=this.kernelSize[2],he=this.strides[1],xe=this.strides[2],Yt=[a[0],_h(a[p],this.strides[0],this.kernelSize[0],this.padding),_h(y,he,j,this.padding),_h(x,xe,J,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=oa(r,[0,2,3,4,1]));let pn=Ey(r,this.kernel.read(),Yt,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(pn=oa(pn,[0,4,1,2,3])),null!==this.bias&&(pn=qu(pn,this.bias.read(),this.dataFormat)),null!==this.activation&&(pn=this.activation.apply(pn)),pn})}computeOutputShape(e){const i=(e=pa(e)).slice();let r,a,c,u;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3,u=4):(r=4,a=1,c=2,u=3);const f=this.kernelSize[0],p=this.kernelSize[1],g=this.kernelSize[2],y=this.strides[0],x=this.strides[1],P=this.strides[2];return i[r]=this.filters,i[a]=_h(i[a],y,f,this.padding),i[c]=_h(i[c],x,p,this.padding),i[u]=_h(i[u],P,g,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv3DTranspose",n})());let XC=(()=>{class n extends Sg{constructor(e,i){if(super(e,i),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==i.filters)throw new Bn("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=i.kernelInitializer||null!=i.kernelRegularizer||null!=i.kernelConstraint)throw new Bn("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=i.padding&&"same"!==i.padding&&"valid"!==i.padding)throw new Bn(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(i.padding)}`);this.depthMultiplier=null==i.depthMultiplier?1:i.depthMultiplier,this.depthwiseInitializer=dc(i.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Hl(i.depthwiseRegularizer),this.depthwiseConstraint=eu(i.depthwiseConstraint),this.pointwiseInitializer=dc(i.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Hl(i.pointwiseRegularizer),this.pointwiseConstraint=eu(i.pointwiseConstraint)}build(e){if((e=pa(e)).length<this.rank+2)throw new Bn(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i]||e[i]<0)throw new Bn(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[i])}`);const r=e[i],a=this.kernelSize.concat([r,this.depthMultiplier]),c=[];for(let f=0;f<this.rank;++f)c.push(1);c.push(r*this.depthMultiplier,this.filters);const u=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,u,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",c,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,u,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,u,this.biasConstraint):null,this.inputSpec=[new kc({ndim:this.rank+2,axes:{[i]:r}})],this.built=!0}call(e,i){return Gn(()=>{let r;if(e=Js(e),1===this.rank)throw new _o("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=oa(e,[0,2,3,1])),r=Zv(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=qu(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),"channelsFirst"===this.dataFormat&&(r=oa(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Wl(this.depthwiseInitializer),e.pointwiseInitializer=Wl(this.pointwiseInitializer),e.depthwiseRegularizer=fl(this.depthwiseRegularizer),e.pointwiseRegularizer=fl(this.pointwiseRegularizer),e.depthwiseConstraint=Jc(this.depthwiseConstraint),e.pointwiseConstraint=Jc(this.pointwiseConstraint),e}}return n.className="SeparableConv",n})();
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function pI(n,t,e,i){if(Array.isArray(n)){if(null!=t||null!=e)throw new Bn("When inputs is an array, neither initialState or constants should be provided");null!=i&&(e=n.slice(n.length-i,n.length),n=n.slice(0,n.length-i)),n.length>1&&(t=n.slice(1,n.length)),n=n[0]}function r(a){return null==a||Array.isArray(a)?a:[a]}return{inputs:n,initialState:t=r(t),constants:e=r(e)}}function qC(n,t,e,i=!1,r,a,c=!1,u=!1){return Gn(()=>{const f=t.shape.length;if(f<3)throw new Bn(`Input should be at least 3D, but is ${f}D.`);const p=[1,0].concat(Gd(2,f));if(t=oa(t,p),null!=a)throw new _o("The rnn() functoin of the deeplearn.js backend does not support constants yet.");c&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=r&&((r=yr(yr(r,"bool"),"float32")).rank===f-1&&(r=cu(r,-1)),r=oa(r,p)),i&&(t=Hd(t,0),null!=r&&(r=Hd(r,0)));const g=[];let y,x=e;const P=t.shape[0],j=uh(t);let J,G;null!=r&&(J=uh(r));for(let he=0;he<P;++he){const xe=j[he],et=Gn(()=>n(xe,x));if(null==r)y=et[0],x=et[1];else{const it=Gn(()=>{const Dt=J[he],Yt=Vr(Ed(Dt),Dt);return{output:Wi(ae(et[0],Dt),ae(x[0],Yt)),newStates:x.map((On,jn)=>Wi(ae(et[1][jn],Dt),ae(On,Yt)))}});y=it.output,x=it.newStates}u&&g.push(y)}return u&&(G=Ou(g,1)),[y,G,x]})}qi((()=>{class n extends XC{constructor(e){super(2,e)}}return n.className="SeparableConv2D",n})()),qi((()=>{class n extends Sg{constructor(e){super(1,e),n.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!M0(e.kernelSize,"number",1,1))throw new Bn(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv1D",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.cropping="number"==typeof e.cropping?[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,i){return Gn(()=>{if(e=Js(e),"channelsLast"===this.dataFormat){const r=P0(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return P0(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const r=P0(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return P0(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Cropping2D",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,vc(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function _1(n){gm(V2,"InterpolationFormat",n)}(this.interpolation)}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],null==e[2]?null:this.size[0]*e[2],null==e[3]?null:this.size[1]*e[3]]:[e[0],null==e[1]?null:this.size[0]*e[1],null==e[2]?null:this.size[1]*e[2],e[3]]}call(e,i){return Gn(()=>{let r=Js(e);const a=r.shape;if("channelsFirst"===this.dataFormat){r=oa(r,[0,2,3,1]);const c=this.size[0]*a[2],u=this.size[1]*a[3],f="nearest"===this.interpolation?dh.resizeNearestNeighbor(r,[c,u]):dh.resizeBilinear(r,[c,u]);return oa(f,[0,3,1,2])}{const c=this.size[0]*a[1],u=this.size[1]*a[2];return"nearest"===this.interpolation?dh.resizeNearestNeighbor(r,[c,u]):dh.resizeBilinear(r,[c,u])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}}return n.className="UpSampling2D",n})()),qi((()=>{class n extends V_{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=dc(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=eu(e.depthwiseConstraint),this.depthwiseRegularizer=Hl(e.depthwiseRegularizer)}build(e){if((e=pa(e)).length<4)throw new Bn(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const i="channelsFirst"===this.dataFormat?1:3;if(null==e[i]||e[i]<0)throw new Bn(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[i]}).`);const r=e[i];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return Gn(()=>{let r=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function UN(n,t,e=[1,1],i="valid",r,a){return Gn(()=>{null==r&&(r="channelsLast"),vc(r);let c=uw(n,r);if(4!==n.rank)throw new Bn(`Input for depthwiseConv2d is required to be 4-D, but is instead ${n.rank}-D`);if(4!==t.rank)throw new Bn(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return c=Vd(c,t,e,"same"===i?"same":"valid","NHWC",a),"channelsFirst"===r&&(c=oa(c,[0,3,1,2])),c})}(e=Js(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=qu(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=pa(e);const r="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,c=qd("channelsFirst"===this.dataFormat?e[2]:e[1],this.kernelSize[0],this.padding,this.strides[0]),u=qd(r,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,c,u]:[e[0],c,u,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Wl(this.depthwiseInitializer),e.depthwiseRegularizer=fl(this.depthwiseRegularizer),e.depthwiseConstraint=Jc(this.depthwiseRegularizer),e}}return n.className="DepthwiseConv2D",n})());let Pb=(()=>{class n extends eo{constructor(e){let i;if(super(e),null==e.cell)throw new Bn("cell property is missing for the constructor of RNN.");if(i=Array.isArray(e.cell)?new mI({cells:e.cell}):e.cell,null==i.stateSize)throw new Bn("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=i,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new kc({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?Gd(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(i=>null):this.states_}setStates(e){this.states_=e}computeOutputShape(e){I1(e)&&(e=e[0]);let i=this.cell.stateSize;Array.isArray(i)||(i=[i]);const r=i[0];let a;if(a=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){const c=[];for(const u of i)c.push([e[0],u]);return[a].concat(c)}return a}computeMask(e,i){return Gn(()=>{Array.isArray(i)&&(i=i[0]);const r=this.returnSequences?i:null;if(this.returnState){const a=this.states.map(c=>null);return[r].concat(a)}return r})}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,i=[];for(let r=0;r<e;++r)i.push(null);return i}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new _o("Constants support is not implemented in RNN yet.");I1(e)&&(e=e[0]);const r=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new kc({shape:[r,null,...a]});const c=[e[0]].concat(e.slice(2));let u;if(this.cell.build(c),u=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Ae(this.stateSpec.map(f=>f.shape[f.shape.length-1]),u))throw new Bn(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=u.map(f=>new kc({shape:[null,f]}));this.stateful&&this.resetStates()}resetStates(e,i=!1){Gn(()=>{if(!this.stateful)throw new Sf("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(null==r)throw new Bn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(a=>$c([r,a])):[$c([r,this.cell.stateSize])];else if(null==e)Sr(this.states_),null!=this.keptStates&&(Sr(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>$c([r,a])):this.states_[0]=$c([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Bn(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===i?this.keptStates.push(this.states_.slice()):Sr(this.states_);for(let a=0;a<this.states_.length;++a){const c=e[a],u=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,f=[r,u];if(!Ae(c.shape,f))throw new Bn(`State ${a} is incompatible with layer ${this.name}: expected shape=${f}, received shape=${c.shape}`);this.states_[a]=c}}this.states_=this.states_.map(a=>cs(a.clone()))})}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=pI(e,r,a,this.numConstants);e=c.inputs,r=c.initialState,a=c.constants;let u=[],f=[];if(null!=r){i.initialState=r,u=u.concat(r),this.stateSpec=[];for(const g of r)this.stateSpec.push(new kc({shape:g.shape}));f=f.concat(this.stateSpec)}if(null!=a&&(i.constants=a,u=u.concat(a),this.numConstants=a.length),u[0]instanceof Zc){const g=[e].concat(u),y=this.inputSpec.concat(f),x=this.inputSpec;this.inputSpec=y;const P=super.apply(g,i);return this.inputSpec=x,P}return super.apply(e,i)}call(e,i){return Gn(()=>{const r=null==i?null:i.mask,a=null==i?null:i.training;let c=null==i?null:i.initialState;e=Js(e),null==c&&(c=this.stateful?this.states_:this.getInitialState(e));const u=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(c.length!==u)throw new Bn(`RNN Layer has ${u} state(s) but was passed ${c.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const f={training:a},g=qC((J,G)=>{const he=this.cell.call([J].concat(G),f);return[he[0],he.slice(1)]},e,c,this.goBackwards,r,null,this.unroll,this.returnSequences),y=g[0],x=g[1],P=g[2];this.stateful&&this.resetStates(P,a);const j=this.returnSequences?x:y;return this.returnState?[j].concat(P):j})}getInitialState(e){return Gn(()=>{let i=$c(e.shape);return i=Hr(i,[1,2]),i=gb(i),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?Af(i,[1,r]):i):this.cell.stateSize>1?[Af(i,[1,this.cell.stateSize])]:[i]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),i={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(i.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===n.className&&(i.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),i)}static fromConfig(e,i,r={}){const c=Yh(i.cell,r);return new e(Object.assign(i,{cell:c}))}}return n.className="RNN",n})();qi(Pb);class Fb extends eo{}let YC=(()=>{class n extends Fb{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ic(this.units,"units"),this.activation=Em(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=dc(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dc(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dc(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Hl(e.kernelRegularizer),this.recurrentRegularizer=Hl(e.recurrentRegularizer),this.biasRegularizer=Hl(e.biasRegularizer),this.kernelConstraint=eu(e.kernelConstraint),this.recurrentConstraint=eu(e.recurrentConstraint),this.biasConstraint=eu(e.biasConstraint),this.dropout=I_([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=I_([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=pa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return Gn(()=>{if(2!==e.length)throw new Bn(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const a=null!=i.training&&i.training;let c;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yp({ones:()=>Ed(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yp({ones:()=>Ed(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));const u=this.dropoutMask,f=this.recurrentDropoutMask;c=Mf(null!=u?ae(e,u):e,this.kernel.read()),null!=this.bias&&(c=qu(c,this.bias.read())),null!=f&&(r=ae(r,f));let p=Wi(c,Mf(r,this.recurrentKernel.read()));return null!=this.activation&&(p=this.activation.apply(p)),[p,p]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:xm(this.activation),useBias:this.useBias,kernelInitializer:Wl(this.kernelInitializer),recurrentInitializer:Wl(this.recurrentInitializer),biasInitializer:Wl(this.biasInitializer),kernelRegularizer:fl(this.kernelRegularizer),recurrentRegularizer:fl(this.recurrentRegularizer),biasRegularizer:fl(this.biasRegularizer),activityRegularizer:fl(this.activityRegularizer),kernelConstraint:Jc(this.kernelConstraint),recurrentConstraint:Jc(this.recurrentConstraint),biasConstraint:Jc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),i)}}return n.className="SimpleRNNCell",n})();qi(YC),qi((()=>{class n extends Pb{constructor(e){e.cell=new YC(e),super(e)}call(e,i){return Gn(()=>(null!=this.cell.dropoutMask&&(Sr(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Sr(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return new e(i)}}return n.className="SimpleRNN",n})());let Lb=(()=>{class n extends Fb{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Bn("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Ic(this.units,"units"),this.activation=Em(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Em(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=dc(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dc(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dc(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Hl(e.kernelRegularizer),this.recurrentRegularizer=Hl(e.recurrentRegularizer),this.biasRegularizer=Hl(e.biasRegularizer),this.kernelConstraint=eu(e.kernelConstraint),this.recurrentConstraint=eu(e.recurrentConstraint),this.biasConstraint=eu(e.biasConstraint),this.dropout=I_([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=I_([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=pa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return Gn(()=>{if(2!==e.length)throw new Bn(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=null!=i.training&&i.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yp({ones:()=>Ed(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yp({ones:()=>Ed(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const u=this.recurrentDropoutMask;let f,p,g;0<this.dropout&&this.dropout<1&&(e=ae(e,this.dropoutMask[0]));let y=Mf(e,this.kernel.read());this.useBias&&(y=qu(y,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ae(a,u[0]));const x=this.recurrentKernel.read(),[P,j]=dd(x,[2*this.units,this.units],x.rank-1),J=Mf(a,P),[G,he,xe]=dd(y,3,y.rank-1),[et,it]=dd(J,2,J.rank-1);f=this.recurrentActivation.apply(Wi(G,et)),p=this.recurrentActivation.apply(Wi(he,it));const Dt=Mf(ae(p,a),j);g=this.activation.apply(Wi(xe,Dt));const Yt=Wi(ae(f,a),ae(Wi(1,at(f)),g));return[Yt,Yt]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:xm(this.activation),recurrentActivation:xm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Wl(this.kernelInitializer),recurrentInitializer:Wl(this.recurrentInitializer),biasInitializer:Wl(this.biasInitializer),kernelRegularizer:fl(this.kernelRegularizer),recurrentRegularizer:fl(this.recurrentRegularizer),biasRegularizer:fl(this.biasRegularizer),activityRegularizer:fl(this.activityRegularizer),kernelConstraint:Jc(this.kernelConstraint),recurrentConstraint:Jc(this.recurrentConstraint),biasConstraint:Jc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),i)}}return n.className="GRUCell",n})();qi(Lb),qi((()=>{class n extends Pb{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Lb(e),super(e)}call(e,i){return Gn(()=>(null!=this.cell.dropoutMask&&(Sr(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Sr(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="GRU",n})());let U_=(()=>{class n extends Fb{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ic(this.units,"units"),this.activation=Em(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Em(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=dc(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=dc(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=dc(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Hl(e.kernelRegularizer),this.recurrentRegularizer=Hl(e.recurrentRegularizer),this.biasRegularizer=Hl(e.biasRegularizer),this.kernelConstraint=eu(e.kernelConstraint),this.recurrentConstraint=eu(e.recurrentConstraint),this.biasConstraint=eu(e.biasConstraint),this.dropout=I_([1,pp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=I_([1,pp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var i;let a;if(e=pa(e),this.kernel=this.addWeight("kernel",[e[e.length-1],4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const c=this.biasInitializer,u=this.units;a=new((i=class extends Pu{apply(p,g){const y=c.apply([u]),x=(new aC).apply([u]),P=c.apply([2*u]);return sC(sC(y,x),P)}}).className="CustomInit",i)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,i){return Gn(()=>{const r=null!=i.training&&i.training;if(3!==e.length)throw new Bn(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const c=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yp({ones:()=>Ed(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yp({ones:()=>Ed(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let p,g,y,x;0<this.dropout&&this.dropout<1&&(e=ae(e,this.dropoutMask[0]));let P=Mf(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ae(a,f[0])),P=Wi(P,Mf(a,this.recurrentKernel.read())),this.useBias&&(P=qu(P,this.bias.read()));const[j,J,G,he]=dd(P,4,P.rank-1);p=this.recurrentActivation.apply(j),g=this.recurrentActivation.apply(J),y=Wi(ae(g,c),ae(p,this.activation.apply(G))),x=this.recurrentActivation.apply(he);const xe=ae(x,this.activation.apply(y));return[xe,xe,y]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:xm(this.activation),recurrentActivation:xm(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Wl(this.kernelInitializer),recurrentInitializer:Wl(this.recurrentInitializer),biasInitializer:Wl(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:fl(this.kernelRegularizer),recurrentRegularizer:fl(this.recurrentRegularizer),biasRegularizer:fl(this.biasRegularizer),activityRegularizer:fl(this.activityRegularizer),kernelConstraint:Jc(this.kernelConstraint),recurrentConstraint:Jc(this.recurrentConstraint),biasConstraint:Jc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),i)}}return n.className="LSTMCell",n})();qi(U_),qi((()=>{class n extends Pb{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new U_(e),super(e)}call(e,i){return Gn(()=>(null!=this.cell.dropoutMask&&(Sr(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Sr(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="LSTM",n})());let mI=(()=>{class n extends Fb{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const i of this.cells.slice().reverse())Array.isArray(i.stateSize)?e.push(...i.stateSize):e.push(i.stateSize);return e}call(e,i){return Gn(()=>{let r=e.slice(1);const a=[];for(const f of this.cells.slice().reverse())Array.isArray(f.stateSize)?a.push(r.splice(0,f.stateSize.length)):a.push(r.splice(0,1));a.reverse();const c=[];let u;for(let f=0;f<this.cells.length;++f){const p=this.cells[f];r=a[f],u=0===f?[e[0]].concat(r):[u[0]].concat(r),u=p.call(u,i),c.push(u.slice(1))}r=[];for(const f of c.slice().reverse())r.push(...f);return[u[0]].concat(r)})}build(e){let i;I1(e)&&(e=e[0]),this.cells.forEach((r,a)=>{ym(`RNNCell_${a}`,()=>{r.build(e),i=Array.isArray(r.stateSize)?r.stateSize[0]:r.stateSize,e=[e[0],i]})}),this.built=!0}getConfig(){const e=super.getConfig(),a={cells:this.cells.map(c=>({className:c.getClassName(),config:c.getConfig()}))};return Object.assign(Object.assign({},e),a)}static fromConfig(e,i,r={}){const a=[];for(const c of i.cells)a.push(Yh(c,r));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const i of this.cells)e.push(...i.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const i of this.cells)e.push(...i.nonTrainableWeights);if(!this.trainable){const i=[];for(const r of this.cells)i.push(...r.trainableWeights);return i.concat(e)}return e}getWeights(){const e=[];for(const i of this.cells)e.push(...i.weights);return xb(e)}setWeights(e){const i=[];for(const r of this.cells){const c=e.splice(r.weights.length);for(let u=0;u<r.weights.length;++u)i.push([r.weights[u],c[u]])}Eb(i)}}return n.className="StackedRNNCells",n})();function yp(n){const{ones:t,rate:e,training:i=!1,count:r=1,dropoutFunc:a}=n,c=()=>null!=a?a(t(),e):$0(t(),e),u=()=>Rf(c,t,i);return!r||r<=1?cs(u().clone()):Array(r).fill(void 0).map(u).map(p=>cs(p.clone()))}
/**
       * @license
       * Copyright 2020 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */qi(mI);let _I=(()=>{class n extends Pb{constructor(e){if(e.unroll)throw new _o("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new _o("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new kc({ndim:5})]}call(e,i){return Gn(()=>{if(null!=this.cell.dropoutMask&&(Sr(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Sr(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),i&&i.constants)throw new Bn("ConvRNN2D cell does not support constants");return super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})})}computeOutputShape(e){let i=this.computeSingleOutputShape(e);return this.returnSequences||(i=[i[0],...i.slice(2)]),this.returnState&&(i=[i,...Array(2).fill([e[0],...i.slice(-3)])]),i}getInitialState(e){return Gn(()=>{const{stateSize:i}=this.cell,a=this.computeSingleOutputShape(e.shape),u=$c([a[0],...a.slice(2)]);return Array.isArray(i)?Array(i.length).fill(u):[u]})}resetStates(e,i=!1){Gn(()=>{if(!this.stateful)throw new Sf("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),c=[a[0],...a.slice(2)];if(null==r[0])throw new Bn("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(()=>$c(c)):[$c(c)];else if(null==e)Sr(this.states_),null!=this.keptStates&&(Sr(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>$c(c)):this.states_[0]=$c(c);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Bn(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);i?this.keptStates.push(this.states_.slice()):Sr(this.states_);for(let f=0;f<this.states_.length;++f){const p=e[f],g=c;if(!Ae(p.shape,g))throw new Bn(`State ${f} is incompatible with layer ${this.name}: expected shape=${g}, received shape=${p.shape}`);this.states_[f]=p}}this.states_=this.states_.map(f=>cs(f.clone()))})}computeSingleOutputShape(e){const{dataFormat:i,filters:r,kernelSize:a,padding:c,strides:u,dilationRate:f}=this.cell,p="channelsFirst"===i,y=e[p?4:3],x=qd(e[p?3:2],a[0],c,u[0],f[0]),P=qd(y,a[1],c,u[1],f[1]);return[...e.slice(0,2),...p?[r,x,P]:[x,P,r]]}}return n.className="ConvRNN2D",n})(),QC=(()=>{class n extends U_{constructor(e){const{filters:i,kernelSize:r,strides:a,padding:c,dataFormat:u,dilationRate:f}=e;super(Object.assign(Object.assign({},e),{units:i})),this.filters=i,Ic(this.filters,"filters"),this.kernelSize=_p(r,2,"kernelSize"),this.kernelSize.forEach(p=>Ic(p,"kernelSize")),this.strides=_p(a||1,2,"strides"),this.strides.forEach(p=>Ic(p,"strides")),this.padding=c||"valid",Su(this.padding),this.dataFormat=u||"channelsLast",vc(this.dataFormat),this.dilationRate=_p(f||1,2,"dilationRate"),this.dilationRate.forEach(p=>Ic(p,"dilationRate"))}build(e){var i;e=pa(e);const r="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[r])throw new Bn(`The channel dimension of the input should be defined. Found ${e[r]}`);const u=this.kernelSize.concat([e[r],4*this.filters]);this.kernel=this.addWeight("kernel",u,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const f=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",f,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let p;if(this.unitForgetBias){const g=this.biasInitializer,y=this.filters;p=new((i=class extends Pu{apply(P,j){return F0([g.apply([y]),zd([y]),g.apply([2*y])])}}).className="CustomInit",i)}else p=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,p,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,i){return Gn(()=>{if(3!==e.length)throw new Bn(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=i.training||!1,a=e[0],c=e[1],u=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=yp({ones:()=>Ed(a),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const p=this.dropoutMask,g=(ar,Cr,fr)=>Cr&&Cr[fr]?ae(Cr[fr],ar):ar;let y=g(a,p,0),x=g(a,p,1),P=g(a,p,2),j=g(a,p,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=yp({ones:()=>Ed(c),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const J=this.recurrentDropoutMask;let G=g(c,J,0),he=g(c,J,1),xe=g(c,J,2),et=g(c,J,3);const[Dt,Yt,pn,bn]=dd(this.kernel.read(),4,3),[On,jn,si,yi]=this.useBias?dd(this.bias.read(),4):[null,null,null,null];y=this.inputConv(y,Dt,On,this.padding),x=this.inputConv(x,Yt,jn,this.padding),P=this.inputConv(P,pn,si,this.padding),j=this.inputConv(j,bn,yi,this.padding);const[Ei,Ci,Di,Mi]=dd(this.recurrentKernel.read(),4,3);G=this.recurrentConv(G,Ei),he=this.recurrentConv(he,Ci),xe=this.recurrentConv(xe,Di),et=this.recurrentConv(et,Mi);const Oi=this.recurrentActivation.apply(Wi(y,G)),Ti=this.recurrentActivation.apply(Wi(x,he)),Fi=Wi(ae(Ti,u),ae(Oi,this.activation.apply(Wi(P,xe)))),or=ae(this.recurrentActivation.apply(Wi(j,et)),this.activation.apply(Fi));return[or,or,Fi]})}getConfig(){const r=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(super.getConfig(),["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),a)}inputConv(e,i,r,a){const c=ld(e,i,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return r?qu(c,r,this.dataFormat):c}recurrentConv(e,i){return ld(e,i,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}return n.className="ConvLSTM2DCell",n})();qi(QC),qi((()=>{class n extends _I{constructor(e){const i=new QC(e);super(Object.assign(Object.assign({},e),{cell:i}))}static fromConfig(e,i){return new e(i)}}return n.className="ConvLSTM2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let yI=(()=>{class n extends eo{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const i=e.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(null==this.noiseShape[a]?i[a]:this.noiseShape[a]);return r}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e);if(0<this.rate&&this.rate<1){const a=null!=i.training&&i.training,c=this.getNoiseShape(r);return Rf(()=>$0(r,this.rate,c,this.seed),()=>r,a)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},i=super.getConfig();return Object.assign(e,i),e}dispose(){return super.dispose()}}return n.className="Dropout",n})();qi(yI),qi((()=>{class n extends yI{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const i=e.shape;return[i[0],1,i[2]]}}return n.className="SpatialDropout1D",n})()),qi((()=>{class n extends eo{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=[i,e.inputDim]}this.units=e.units,Ic(this.units,"units"),this.activation=Em(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=dc(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=dc(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=eu(e.kernelConstraint),this.biasConstraint=eu(e.biasConstraint),this.kernelRegularizer=Hl(e.kernelRegularizer),this.biasRegularizer=Hl(e.biasRegularizer),this.activityRegularizer=Hl(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const i=(e=pa(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[i,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:i}}],this.built=!0}computeOutputShape(e){const i=(e=pa(e)).slice();return i[i.length-1]=this.units,i}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e),a=Dd(this.activation.getClassName());let c;return null!=a?c=Mf(r,this.kernel.read(),a,this.bias?this.bias.read():null):(c=Mf(r,this.kernel.read()),null!=this.bias&&(c=qu(c,this.bias.read())),null!=this.activation&&(c=this.activation.apply(c))),c})}getConfig(){const e={units:this.units,activation:xm(this.activation),useBias:this.useBias,kernelInitializer:Wl(this.kernelInitializer),biasInitializer:Wl(this.biasInitializer),kernelRegularizer:fl(this.kernelRegularizer),biasRegularizer:fl(this.biasRegularizer),activityRegularizer:fl(this.activityRegularizer),kernelConstraint:Jc(this.kernelConstraint),biasConstraint:Jc(this.biasConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dense",n})()),qi((()=>{class n extends eo{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=pa(e);for(const i of e.slice(1))if(null==i)throw new Bn(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],bm(e,1)]}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);let r=Js(e);if("channelsFirst"===this.dataFormat&&r.rank>1){const a=[0];for(let c=2;c<r.rank;++c)a.push(c);a.push(1),r=oa(r,a)}return function wR(n){if(n.rank<=1)throw new Bn(`batchFlatten requires a minimum rank of 2. Got rank: ${n.rank}.`);const t=[n.shape[0],bm(n.shape,1)];return Wn(n,t)}(r)})}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const i=super.getConfig();return Object.assign(e,i),e}}return n.className="Flatten",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.supportsMasking=!0,this.activation=Em(e.activation)}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e);return this.activation.apply(r)})}getConfig(){const e={activation:xm(this.activation)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Activation",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,i){return Gn(()=>function bR(n,t){return Gn(()=>{if(2!==n.shape.length)throw new Bn(`repeat() expects a rank-2 tensor, but received a rank-${n.shape.length} tensor.`);return Af(gb(n,1),[1,t,1])})}(e=Js(e),this.n))}getConfig(){const e={n:this.n},i=super.getConfig();return Object.assign(e,i),e}}return n.className="RepeatVector",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.targetShape=e.targetShape;for(let i=0;i<this.targetShape.length;++i)this.isUnknown(this.targetShape[i])&&(this.targetShape[i]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,i){const r="Total size of new array must be unchanged.",a=i.slice();let c=1,u=null;for(let p=0;p<a.length;++p){const g=a[p];if(this.isUnknown(g)){if(null!==u)throw new Bn("Can only specifiy one unknown dimension.");u=p}else c*=g}const f=bm(e);if(null!==u){if(0===c||f%c!=0)throw new Bn(r);a[u]=f/c}else if(f!==c)throw new Bn(r);return a}computeOutputShape(e){let i=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){i=!0;break}return i?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e),a=r.shape,c=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return Wn(r,c)})}getConfig(){const e={targetShape:this.targetShape},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Reshape",n})()),qi((()=>{class n extends eo{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const i=Gd(1,e.dims.length+1);if(!Ae(e.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new kc({ndim:this.dims.length+1})]}computeOutputShape(e){const i=(e=pa(e)).slice();return this.dims.forEach((r,a)=>{i[a+1]=e[r]}),i}call(e,i){return oa(Js(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Permute",n})()),qi((()=>{class n extends eo{constructor(e){super(e??{}),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={maskValue:this.maskValue};return Object.assign(i,e),i}computeMask(e,i){const r=Js(e);return Gp(p_(r,this.maskValue),-1)}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e),u=Gp(p_(r,this.maskValue),-1,!0);return ae(r,yr(u,r.dtype))})}}return n.className="Masking",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
qi((()=>{class n extends eo{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=null==e.inputLength?[i,null]:[i].concat(Ha(e.inputLength))}this.inputDim=e.inputDim,Ic(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Ic(this.outputDim,"outputDim"),this.embeddingsInitializer=dc(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Hl(e.embeddingsRegularizer),this.activityRegularizer=Hl(e.activityRegularizer),this.embeddingsConstraint=eu(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,i){return Gn(()=>this.maskZero?(e=Js(e),p_(e,Ji(e))):null)}computeOutputShape(e){if(e=pa(e),null==this.inputLength)return[...e,this.outputDim];const i=Ha(this.inputLength);if(i.length!==e.length-1)throw new Bn(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let a=0;a<i.length;++a){const c=i[a],u=e[a+1];if(null!=c&&null!=u&&c!==u)throw new Bn(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==c&&(i[r]=u),r++}}return[e[0],...i,this.outputDim]}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);let r=Js(e);"int32"!==r.dtype&&(r=kf(r,"int32"));const a=oC(this.embeddings.read(),Wn(r,[r.size]));return Wn(a,pa(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Wl(this.embeddingsInitializer),embeddingsRegularizer:fl(this.embeddingsRegularizer),activityRegularizer:fl(this.activityRegularizer),embeddingsConstraint:Jc(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Embedding",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Cm extends eo{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new _o}computeElementwiseOpOutputShape(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;const i=t.slice(0,t.length-e.length);for(let r=0;r<e.length;++r){const a=t[t.length-e.length+r],c=e[r];if(null==a||null==c||a<0||c<0)i.push(null);else if(1===a)i.push(c);else if(1===c)i.push(a);else{if(a!==c)throw new Bn("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));i.push(a)}}return i}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[pa(t)]),t.length<2)throw new Bn(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let e=[];for(const a of t)null!=a&&null!==a[0]&&e.push(a[0]);if(e=Hh(e),e.length>1)throw new Bn(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let i=null==t[0]?null:t[0].slice(1);for(let a=1;a<t.length;++a){const c=null==t[a]?null:t[a].slice(1);i=this.computeElementwiseOpOutputShape(i,c)}const r=t.map(a=>a.length);this.reshapeRequired=-1!==t.indexOf(null)||1!==Hh(r).length}call(t,e){return Gn(()=>{if(this.reshapeRequired){const i=[],r=t.map(a=>a.rank);if(-1===r.indexOf(null)){const a=pp(r);for(let c of t){const u=c.rank;for(let f=0;f<a-u;++f)c=gb(c,1);i.push(c)}return this.mergeFunction(i)}{let a=!1;for(const f of t){const p=f.rank;if(null==p){const g=f.shape,y=g[0],x=g.slice(1).concat([y]);let P=Wn(f,[y].concat(bm(g.slice(1))));P=oa(P,[1,0]),P=Wn(P,x),i.push(P),a=!0}else if(p>1){const g=Gd(1,p).concat([0]);i.push(oa(f,g)),a=!0}else i.push(f)}let c=this.mergeFunction(i);const u=c.rank;if(a)if(null==u){const f=c.shape,g=f[f.length-1],y=[g].concat(f.slice(0,f.length-1));c=Wn(oa(Wn(c,[-1,g]),[1,0]),y)}else if(u>1){const f=[u-1].concat(Gd(0,u-1));c=oa(c,f)}return c}}return this.mergeFunction(t)})}computeOutputShape(t){let e;e=null==t[0]?null:t[0].slice(1);for(let r=1;r<t.length;++r){const a=null==t[r]?null:t[r].slice(1);e=this.computeElementwiseOpOutputShape(e,a)}let i=[];for(const r of t)null!=r&&null!==r[0]&&i.push(r[0]);return i=Hh(i),e=1===i.length?i.concat(e):[null].concat(e),e}computeMask(t,e){return Gn(()=>{if(null==e)return null;if(!Array.isArray(e))throw new Bn("`mask` should be an Array");if(!Array.isArray(t))throw new Bn("`inputs` should be an Array");if(e.length!==t.length)throw new Bn(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${e.length})`);if(e.every(r=>null==r))return null;let i=(e=e.map(r=>null==r?r:cu(r,0)))[0];for(let r=1;r<e.length-1;++r)i=No(i,e[r]);return i})}}function $b(n,t){for(;n<0;)n+=t;return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function yw(n,t,e,i,r,a=.001){let c;if(2===n.rank)c=yv(n,t,e,i,r,a);else if(3===n.rank)c=bx(n,t,e,i,r,a);else{if(4!==n.rank)throw new _o(`batchNormalization is not implemented for array of rank ${n.rank} yet`);c=Zp(n,t,e,i,r,a)}return c}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function z_(n,t,e,i,r,a){return Gn(()=>{let c;vc(r),O0(a),Su(i),null==e&&(e=[1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=uw(n,r);const u="same"===i?"same":"valid";return c="max"===a?Hv(n,t,e,u):qp(n,t,e,u),"channelsFirst"===r&&(c=oa(c,[0,3,1,2])),c})}function eS(n,t,e,i,r,a){return Gn(()=>{let c;vc(r),O0(a),Su(i),null==e&&(e=[1,1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=WC(n,r);const u="same"===i?"same":"valid";return c="max"===a?Ry(n,t,e,u):Yp(n,t,e,u),"channelsFirst"===r&&(c=oa(c,[0,4,1,2,3])),c})}qi((()=>{class n extends Cm{constructor(e){super(e)}mergeFunction(e){return Gn(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=Wi(i,e[r]);return i})}}return n.className="Add",n})()),qi((()=>{class n extends Cm{constructor(e){super(e)}mergeFunction(e){return Gn(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=ae(i,e[r]);return i})}}return n.className="Multiply",n})()),qi((()=>{class n extends Cm{constructor(e){super(e)}mergeFunction(e){return Gn(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=Wi(i,e[r]);return ae(1/e.length,i)})}}return n.className="Average",n})()),qi((()=>{class n extends Cm{constructor(e){super(e)}mergeFunction(e){return Gn(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=Xa(i,e[r]);return i})}}return n.className="Maximum",n})()),qi((()=>{class n extends Cm{constructor(e){super(e)}mergeFunction(e){return Gn(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=sp(i,e[r]);return i})}}return n.className="Minimum",n})()),qi((()=>{class n extends Cm{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Bn("A `Concatenate` layer should be called on a list of at least 2 inputs");let i=!0;for(const a of e)if(null!=a){i=!1;break}if(i)return;const r=[];for(let a=0;a<e.length;++a){const c=e[a].slice();c.splice(this.axis,1);let u=!1;for(const f of r)if(Ae(f,c)){u=!0;break}u||r.push(c)}if(r.length>1)throw new Bn("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Gn(()=>F0(e,this.axis))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Bn("A `Concatenate` layer should be called on a list of inputs.");const i=e,r=i[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const c of i.slice(1)){if(null==r[a]||null==c[a]){r[a]=null;break}r[a]+=c[a]}return r}computeMask(e,i){if(null==i)return null;if(!Array.isArray(i))throw new Bn("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Bn("`inputs` should be an array for Concatenate");if(i.length!==e.length)throw new Bn(`Mismatch in the length of mask (${i.length}) and the legnth of inputs (${e.length})`);return Gn(()=>{let r=!0;if(i.forEach(u=>{null==u||(r=!1)}),r)return null;const a=[];for(let u=0;u<e.length;++u)a.push(null==i[u]?yr(Ed(e[u]),"bool"):i[u].rank<e[u].rank?cu(i[u],-1):i[u]);const c=cc(a,this.axis);return Hp(c,-1,!1)})}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Concatenate",n})()),qi((()=>{class n extends Cm{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Me(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0],r=e[1];if(i.length>3||r.length>3)throw new _o("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);if(i[a[0]]!==r[a[1]])throw new Bn(`Dimension incompatibility: ${i[a[0]]} !== ${r[a[1]]}`)}mergeFunction(e){if(2!==e.length)throw new Bn(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let a,i=e[0],r=e[1];return a=Array.isArray(this.axes)?this.axes.map((c,u)=>$b(c,e[u].shape.length)):[$b(this.axes,i.shape.length),$b(this.axes,r.shape.length)],this.normalize&&(i=Ab(i,a[0]),r=Ab(r,a[1])),function fd(n,t,e){if(n.shape.length>3||t.shape.length>3)throw new _o("batchDot is not implemented for tensors of 4D or higher rank yet");if(Me(n.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${n.shape.length}`),Me(n.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),"number"==typeof e&&(e=[e,e]),"complex64"===n.dtype||"complex64"===t.dtype)throw new _o("batchDot is not implemented for complex64-type Tensors yet.");const i=n.shape.length,r=t.shape.length;null==e&&(e=[i-1,r-2]);const a=e;return Gn(()=>{let c,u;if(i>r){c=i-r;const f=[];for(let p=0;p<c;++p)f.push(1);t=Wn(t,t.shape.concat(f))}else if(r>i){c=r-i;const f=[];for(let p=0;p<c;++p)f.push(1);n=Wn(n,n.shape.concat(f))}else c=0;if(u=2===n.shape.length&&2===t.shape.length?a[0]===a[1]?Hr(ae(n,t),a[0]):Hr(ae(oa(n,[1,0]),t),a[1]):Ro(n,t,a[0]!==n.shape.length-1,a[1]===t.shape.length-1),c>0){let f;f=i>r?i+r-3:i-1;const p=[];for(let g=f;g<f+c;++g)p.push(g);u=yf(u,p)}return 1===u.shape.length&&(u=cu(u,1)),u})}(i,r,a)}interpretAxes(e,i){let r;return r=Array.isArray(this.axes)?this.axes:[$b(this.axes,e.length),$b(this.axes,i.length)],r}computeOutputShape(e){Me(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0].slice(),r=e[1].slice();if(i.length>3||r.length>3)throw new _o("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);i.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const c=i.concat(r);return 1===c.length&&c.push(1),c}computeMask(e,i){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dot",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
qi((()=>{class n extends eo{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={stddev:this.stddev};return Object.assign(i,e),i}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e);return Rf(()=>Wi(A_(r.shape,0,this.stddev),r),()=>r,i.training||!1)})}}return n.className="GaussianNoise",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return Gn(()=>{this.invokeCallHook(e,i);const r=Js(e);return this.rate>0&&this.rate<1?Rf(()=>{const c=Math.sqrt(this.rate/(1-this.rate));return ae(r,A_(r.shape,1,c))},()=>r,i.training||!1):r})}}return n.className="GaussianDropout",n})()),qi((()=>{class n extends eo{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Js(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return Gn(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return Rf(()=>{const c=Js(e),p=-1.7580993408473766;let g=_f(g_(r),this.rate);g=kf(g,"float32");const y=((1-this.rate)*(1+this.rate*p**2))**-.5,x=-y*p*this.rate,P=Wi(ae(c,g),ae(Wi(g,-1),p));return Wi(ae(P,y),x)},()=>Js(e),i.training||!1)}return e})}}return n.className="AlphaDropout",n})()),qi((()=>{class n extends eo{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=dc(e.betaInitializer||"zeros"),this.gammaInitializer=dc(e.gammaInitializer||"ones"),this.movingMeanInitializer=dc(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=dc(e.movingVarianceInitializer||"ones"),this.betaConstraint=eu(e.betaConstraint),this.gammaConstraint=eu(e.gammaConstraint),this.betaRegularizer=Hl(e.betaRegularizer),this.gammaRegularizer=Hl(e.gammaRegularizer)}build(e){e=pa(e);const i=this.axis>=0?this.axis:this.axis+e.length,r=e[i];if(null==r)throw new Bn(`Axis ${i} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new kc({ndim:e.length,axes:{[i]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,i){return Gn(()=>{const r=null!=i.training&&i.training,a=Js(e),c=a.shape,u=c.length,f=Gd(0,u),p=this.axis>=0?this.axis:this.axis+u;f.splice(p,1);const g=mh(1,u);g[p]=c[p];const y=f.slice();y.sort();const x=!Ae(y,Gd(0,u).slice(0,u-1));if(!r)return(()=>{if(x){const et=Wn(this.movingMean.read(),g),it=Wn(this.movingVariance.read(),g),Dt=this.center?Wn(this.beta.read(),g):null,Yt=this.scale?Wn(this.gamma.read(),g):null;return yw(a,et,it,Dt,Yt,this.epsilon)}return yw(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[j,J,G]=function JC(n,t,e,i,r=.001){return Ae(i.slice().sort(),Gd(0,n.rank-1))?function Vb(n,t,e,i,r=.001){return Gn(()=>{const a=Gv(n,i),c=a.mean,u=a.variance;return[yw(n,c,u,e,t,r),c,u]})}(n,t,e,i,r):function QN(n,t,e,i,r=.001){return Gn(()=>{const a=Gv(n,i),c=a.mean,u=a.variance,f=[];for(const j of Gd(0,n.rank))-1!==i.indexOf(j)?f.push(1):f.push(n.shape[j]);const p=Wn(c,f),g=Wn(u,f),y=null==t?null:Wn(t,f),x=null==e?null:Wn(e,f);return[yw(n,p,g,x,y,r),c,u]})}(n,t,e,i,r)}(a,this.gamma.read(),this.beta.read(),f,this.epsilon),he=(et,it,Dt)=>{Gn(()=>{const Yt=1-Dt,pn=et.read(),bn=ae(Vr(pn,it),Yt);et.write(Vr(pn,bn))})};return(()=>{he(this.movingMean,J,this.momentum),he(this.movingVariance,G,this.momentum)})(),j})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Wl(this.betaInitializer),gammaInitializer:Wl(this.gammaInitializer),movingMeanInitializer:Wl(this.movingMeanInitializer),movingVarianceInitializer:Wl(this.movingVarianceInitializer),betaRegularizer:fl(this.betaRegularizer),gammaRegularizer:fl(this.gammaRegularizer),betaConstraint:Jc(this.betaConstraint),gammaConstraint:Jc(this.gammaConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BatchNormalization",n})()),qi((()=>{class n extends eo{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const i of this.axis)if(!Number.isInteger(i))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=dc(e.betaInitializer||"zeros"),this.gammaInitializer=dc(e.gammaInitializer||"ones"),this.betaRegularizer=Hl(e.betaRegularizer),this.gammaRegularizer=Hl(e.gammaRegularizer),this.supportsMasking=!0}build(e){const i=(e=pa(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let c=0;c<this.axis.length;++c)this.axis[c]<0&&(this.axis[c]+=i);for(const c of this.axis)if(c<0||c>=i)throw new Error(`Invalid axis: ${c}`);if(this.axis.length!==Hh(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(c=>e[c]),a=!0;this.gamma=this.scale?this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):null,this.beta=this.center?this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):null,this.built=!0}call(e,i){const r=Js(e),a=r.shape,c=a.length;return Gn(()=>{let{mean:f,variance:p}=Gv(r,this.axis,!0);const g=mh(1,c);for(const G of this.axis)g[G]=a[G];const y=G=>null!=G&&G.shape.length!==c?Wn(G,g):G;let x=this.scale?y(this.gamma.read()):null,P=this.center?y(this.beta.read()):null;const j=[],J=[];for(let G=0;G<c;++G)-1!==this.axis.indexOf(G)?(j.push(a[G]),J.push(1)):(j.push(1),J.push(a[G]));return f=Gu(f,j),p=Gu(p,j),null!=x&&(x=Gu(x,J)),null!=P&&(P=Gu(P,J)),yw(r,f,p,P,x,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Wl(this.betaInitializer),gammaInitializer:Wl(this.gammaInitializer),betaRegularizer:fl(this.betaRegularizer),gammaRegularizer:fl(this.gammaRegularizer)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LayerNormalization",n})()),qi((()=>{class n extends eo{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Bn(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let i,r;if("number"==typeof e.padding[0])i=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Bn(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(i=e.padding[0],2!==e.padding[1].length)throw new Bn(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[i,r]}this.inputSpec=[new kc({ndim:4})]}computeOutputShape(e){let i,r;return e=pa(e),"channelsFirst"===this.dataFormat?(i=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],i,r]):(i=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],i,r,e[3]])}call(e,i){return Gn(()=>function JN(n,t,e){return Gn(()=>{if(4!==n.rank)throw new Bn(`temporalPadding expects input tensor to be 4-D, but received a ${n.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Bn("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==e&&(e="channelsLast"),"channelsLast"!==e&&"channelsFirst"!==e)throw new Bn(`Unknown data format: ${e}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let i;return i="channelsFirst"===e?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],op(n,i)})}(Js(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ZeroPadding2D",n})());class vI extends eo{constructor(t){if(null==t.poolSize&&(t.poolSize=2),super(t),"number"==typeof t.poolSize)this.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new Bn(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);this.poolSize=t.poolSize}if(Ic(this.poolSize,"poolSize"),null==t.strides)this.strides=this.poolSize;else if("number"==typeof t.strides)this.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new Bn(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);this.strides=t.strides}Ic(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,Su(this.padding),this.inputSpec=[new kc({ndim:3})]}computeOutputShape(t){const e=qd((t=pa(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]}call(t,e){return Gn(()=>{this.invokeCallHook(t,e),t=gb(Js(t),2);const i=this.poolingFunction(Js(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return yf(i,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},e=super.getConfig();return Object.assign(t,e),t}}qi((()=>{class n extends vI{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),z_(e,i,r,a,c,"max")}}return n.className="MaxPooling1D",n})()),qi((()=>{class n extends vI{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),z_(e,i,r,a,c,"avg")}}return n.className="AveragePooling1D",n})());class eO extends eo{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new Bn(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];Ic(this.poolSize,"poolSize"),Ic(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,vc(this.dataFormat),Su(this.padding),this.inputSpec=[new kc({ndim:4})]}computeOutputShape(t){t=pa(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2];return e=qd(e,this.poolSize[0],this.padding,this.strides[0]),i=qd(i,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i]:[t[0],e,i,t[3]]}call(t,e){return Gn(()=>(this.invokeCallHook(t,e),this.poolingFunction(Js(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}qi((()=>{class n extends eO{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),z_(e,i,r,a,c,"max")}}return n.className="MaxPooling2D",n})()),qi((()=>{class n extends eO{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),z_(e,i,r,a,c,"avg")}}return n.className="AveragePooling2D",n})());class nS extends eo{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new Bn(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];Ic(this.poolSize,"poolSize"),Ic(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,vc(this.dataFormat),Su(this.padding),this.inputSpec=[new kc({ndim:5})]}computeOutputShape(t){t=pa(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[4]:t[3];return e=qd(e,this.poolSize[0],this.padding,this.strides[0]),i=qd(i,this.poolSize[1],this.padding,this.strides[1]),r=qd(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i,r]:[t[0],e,i,r,t[4]]}call(t,e){return Gn(()=>(this.invokeCallHook(t,e),this.poolingFunction(Js(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}qi((()=>{class n extends nS{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),eS(e,i,r,a,c,"max")}}return n.className="MaxPooling3D",n})()),qi((()=>{class n extends nS{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return vc(c),Su(a),eS(e,i,r,a,c,"avg")}}return n.className="AveragePooling3D",n})());class iS extends eo{constructor(t){super(t),this.inputSpec=[new kc({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,e){throw new _o}}qi((()=>{class n extends iS{constructor(e){super(e||{})}call(e,i){return Gn(()=>{const r=Js(e);return uc(r,1)})}}return n.className="GlobalAveragePooling1D",n})()),qi((()=>{class n extends iS{constructor(e){super(e||{})}call(e,i){return Gn(()=>{const r=Js(e);return Hu(r,1)})}}return n.className="GlobalMaxPooling1D",n})());class EI extends eo{constructor(t){super(t),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,vc(this.dataFormat),this.inputSpec=[new kc({ndim:4})]}computeOutputShape(t){return"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]}call(t,e){throw new _o}getConfig(){const t={dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}qi((()=>{class n extends EI{call(e,i){return Gn(()=>{const r=Js(e);return uc(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalAveragePooling2D",n})()),qi((()=>{class n extends EI{call(e,i){return Gn(()=>{const r=Js(e);return Hu(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalMaxPooling2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class rS extends eo{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(t){null!=this.layer&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},e=super.getConfig();return Object.assign(t,e),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,e,i={}){const a=Yh(e.layer,i);delete e.layer;const c={layer:a};return Object.assign(c,e),new t(c)}}qi((()=>{class n extends rS{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=pa(e)).length<3)throw new Bn(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const i=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(i),this.layer.built=!0),super.build(e)}computeOutputShape(e){const i=[(e=pa(e))[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(i);return[r[0],e[1]].concat(r.slice(1))}call(e,i){return Gn(()=>qC((u,f)=>[Js(this.layer.call(u,i)),[]],e=Js(e),[],!1,null,null,!1,!0)[1])}}return n.className="TimeDistributed",n})()),qi((()=>{class n extends rS{constructor(e){super(e);const i=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=i,this.forwardLayer=Yh(r),i.goBackwards=!0!==i.goBackwards;const a={};if(a.className=e.layer.getClassName(),a.config=i,this.backwardLayer=Yh(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function iO(n){gm(tC,"BidirectionalMergeMode",n)}(this.mergeMode),e.weights)throw new _o("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const r=Math.floor(e.length/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let r,a,c,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState&&(c=i.slice(1)),r=i[0],"concat"===this.mergeMode?(r[r.length-1]*=2,a=[r]):a=null==this.mergeMode?[r,r.slice()]:[r],this.returnState?null==this.mergeMode?a.concat(c).concat(c.slice()):[r].concat(c).concat(c.slice()):Cu(a)}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=pI(e,r,a,this.numConstants);if(e=c.inputs,r=c.initialState,a=c.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return super.apply(e,i);const u=[],f=[];if(null!=r){const g=r.length;if(g%2>0)throw new Bn("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");i.initialState=r,u.push(...r);const y=r.map(x=>new kc({shape:x.shape}));this.forwardLayer.stateSpec=y.slice(0,g/2),this.backwardLayer.stateSpec=y.slice(g/2),f.push(...y)}if(null!=a)throw new _o("Support for constants in Bidirectional layers is not implemented yet.");const p=u[0]instanceof Zc;for(const g of u)if(g instanceof Zc!==p)throw new Bn("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(p){const g=[e].concat(u),y=this.inputSpec.concat(f),x=this.inputSpec;this.inputSpec=y;const P=super.apply(g,i);return this.inputSpec=x,P}return super.apply(e,i)}call(e,i){return Gn(()=>{const r=i.initialState;let a,c,u,f;if(null==r)a=this.forwardLayer.call(e,i),c=this.backwardLayer.call(e,i);else{const p=r.slice(0,r.length/2),g=r.slice(r.length/2);a=this.forwardLayer.call(e,Object.assign(i,{initialState:p})),c=this.backwardLayer.call(e,Object.assign(i,{initialState:g}))}return this.returnState&&(Array.isArray(a)&&(u=a.slice(1).concat(c.slice(1))),a=a[0],c=c[0]),this.returnSequences&&(c=Hd(c,1)),"concat"===this.mergeMode?f=F0([a,c]):"sum"===this.mergeMode?f=Wi(a,c):"ave"===this.mergeMode?f=ae(.5,Wi(a,c)):"mul"===this.mergeMode?f=ae(a,c):null==this.mergeMode&&(f=[a,c]),this.returnState?null==this.mergeMode?f.concat(u):[f].concat(u):f})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){ym(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),ym(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,i){let r;if(Array.isArray(i)&&(i=i[0]),r=this.returnSequences?null==this.mergeMode?[i,i]:i:null==this.mergeMode?[null,null]:null,this.returnState){const c=this.forwardLayer.states.map(u=>null);return Array.isArray(r)?r.concat(c).concat(c):[r].concat(c).concat(c)}return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},i=super.getConfig();return Object.assign(e,i),e}static fromConfig(e,i){const r=Yh(i.layer);if(delete i.layer,null!=i.numConstants)throw new _o("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=i;return a.layer=r,new e(a)}}return n.className="Bidirectional",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
qi((()=>{class n extends eo{constructor(e){super(e),this.scale=e.scale,this.offset=e.offset?e.offset:0}getConfig(){const e={scale:this.scale,offset:this.offset},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return Gn(()=>("float32"!==(e=Js(e)).dtype&&(e=kf(e,"float32")),Wi(ae(e,this.scale),this.offset)))}}return n.className="Rescaling",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const{resizeBilinear:sO,cropAndResize:SI}=dh;qi((()=>{class n extends eo{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,i,r,a,c,u,f,p){return Gn(()=>{let g,y=!1;const G=[i/u,r/f,(a+i)/u,(c+r)/f],he=[];3===e.rank?(y=!0,g=Ou([e])):g=e;for(let Yt=0;Yt<g.shape[0];Yt++)he.push(G);const xe=gi(he,[he.length,4]),et=Fy(0,he.length,1,"int32"),Dt=SI(g,xe,et,[a,c],"nearest");return kf(y?Js(uh(Dt)):Dt,p)})}upsize(e,i,r,a){return Gn(()=>kf(sO(e,[i,r]),a))}call(e,i){return Gn(()=>{const r=Js(e),a=r.dtype,c=r.shape,u=c[c.length-3],f=c[c.length-2];let p=0;u!==this.height&&(p=Math.floor((u-this.height)/2));let g=0;return f!==this.width&&(g=Math.floor((f-this.width)/2),0===g&&(g=1)),p>=0&&g>=0?this.centerCrop(r,p,g,this.height,this.width,u,f,a):this.upsize(e,this.height,this.width,a)})}getConfig(){const e={height:this.height,width:this.width},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){const r=(e=pa(e)).length-2;return e[e.length-3]=this.height,e[r]=this.width,e}}return n.className="CenterCrop",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
qi((()=>{class n extends eo{constructor(e){super(e),this.numTokens=e.numTokens,this.outputMode=e.outputMode?e.outputMode:"multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return null==(e=pa(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,i){return Gn(()=>{let r;if("int32"!==(e=Js(e)).dtype&&(e=kf(e,"int32")),typeof i.countWeights<"u"){if("count"!==this.outputMode)throw new Bn(`countWeights is not used when outputMode !== count.\n              Received countWeights=${i.countWeights}`);r=Js(i.countWeights)}const a=Hu(e),c=mf(e),u=ud(this.numTokens,a).bufferSync().get(0),f=_f(c,0).bufferSync().get(0);if(!u||!f)throw new Bn(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
return function DI(n,t,e,i){let r=Js(n);if("int32"!==r.dtype&&(r=kf(r,"int32")),"int"===t)return r;const a=r.shape;if(0===r.rank&&(r=cu(r,-1)),"oneHot"===t&&1!==r.shape[r.shape.length-1]&&(r=cu(r,-1)),r.rank>2)throw new Bn(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${a} which would result in output rank ${r.rank}.`);const c=["multiHot","oneHot"].includes(t);let f;if(f=tp(r,typeof i<"u"&&"count"===t?i:[],e,c),"tfIdf"!==t)return f;if(i)return ae(f,i);throw new Bn("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,r)})}}return n.className="CategoryEncoding",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const sS=new Set(["bilinear","nearest"]);qi((()=>{class n extends eo{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!sS.has(e.interpolation))throw new Bn(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){return e=pa(e),[this.height,this.width,e[2]]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return Gn(()=>{const r=[this.height,this.width];if("bilinear"===this.interpolation)return dh.resizeBilinear(e,r,!this.cropToAspectRatio);if("nearest"===this.interpolation)return dh.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...sS]} are supported`)})}}return n.className="Resizing",n})());
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let aO=(()=>{class n{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}return n.className="RandomSeed",n})(),YF=(()=>{class n extends eo{constructor(e){super(e),this.randomGenerator=new aO(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BaseRandomLayer",n})();
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const lO=new Set(["bilinear","nearest"]);qi((()=>{class n extends YF{constructor(e){super(e);const{factor:i,interpolation:r="bilinear"}=e;if(this.factor=i,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new Bn(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new Bn(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new Bn(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(r){if(!lO.has(r))throw new Bn(`Invalid interpolation parameter: ${r} is not implemented`);this.interpolation=r}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return e=pa(e),[this.imgHeight,-1,e[2]]}call(e,i){return Gn(()=>{const r=Js(e);this.imgHeight=r.shape[r.shape.length-3];const a=r.shape[r.shape.length-2];this.widthFactor=g_([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let c=this.widthFactor.dataSync()[0]*a;c=Math.round(c);const u=[this.imgHeight,c];switch(this.interpolation){case"bilinear":return dh.resizeBilinear(e,u);case"nearest":return dh.resizeNearestNeighbor(e,u);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...lO]} are supported`)}})}}return n.className="RandomWidth",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
we().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       *
       * =============================================================================
       */
var fS,Yd=function(n){return n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF",n}(Yd||{});!function(n){let t;var e;(e=t=n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(fS||(fS={}));
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const xw={};function Ew(n){return xw[n]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function st(n,t,e,i,r){const a=t.inputParams[n];if(a&&void 0!==a.inputIndexStart){const u=a.inputIndexStart,f=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?u+1:a.inputIndexEnd,p=u<0?t.inputNames.length+u:u;if("tensor"===a.type)return du(t.inputNames[p],e,i,r);if("tensors"===a.type){const x=t.inputs.slice(u,f);return t.inputNames.slice(u,f).filter((j,J)=>{var G;return"NoOp"!==(null===(G=x[J])||void 0===G?void 0:G.op)}).map(j=>du(j,e,i,r))}const g=du(t.inputNames[p],e,i,r),y=g.dataSync();return"number"===a.type?y[0]:Xn(g.shape,y)}const c=t.attrParams[n];return c&&c.value}function du(n,t,e,i){const[r,a]=Qd(n,e);if(null!=i){const u=i.getHashTableHandleByName(r);if(null!=u)return u}const c=e.currentContextIds.find(u=>!!t[pS(r,u)]);return void 0!==c?t[pS(r,c)][a]:void 0}function AO(n,t,e){return t[pS(n,e.currentContextId)]}function Sm(n,t){const[e,i,r]=Qd(n,t);return[pS(e,t&&t.currentContextId),i,r]}function pS(n,t){return t?`${n}-${t}`:n}function Qd(n,t){if(""===n)return["",0,void 0];const e=null!=t&&null!=t.parseNodeNameCache;if(e){const a=t.parseNodeNameCache.get(n);if(null!=a)return a}const i=n.split(":");let r;if(1===i.length)r=[n,0,void 0];else{const c=3===i.length?i[1]:void 0;r=[i[0],Number(i[i.length-1]),c]}return e&&t.parseNodeNameCache.set(n,r),r}function mS(n,t,e){let i=st("pad",n,t,e);if("explicit"===i){i=st("explicitPaddings",n,t,e);const r=[[0,0],[0,0],[0,0],[0,0]];for(let a=0;a<4;a++)r[a][0]=i[2*a],r[a][1]=i[2*a+1];return r}return i}function Dm(n){return n.kept?n:bd(n)}
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const FI=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],LI=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],MO=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],RO=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],WL=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],HL=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],GL=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],KL=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],XL=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],$I=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Cw=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],NO=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],OO=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],BI=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Ig=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],VI=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],gS=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],_S=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],PO=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Sw{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[W,L,N,z,re,q,Z,ee,De,Ee,ke,Qe,Pe,Ye,Re,nt,Te,je,Xe].map(i=>i.json));this.opMappers=e.reduce((i,r)=>(i[r.tfOpName]=r,i),{})}transformGraph(t,e={}){const r=[],a=[],c=[],u=t.node.reduce((J,G)=>(J[G.name]=this.mapNode(G),G.op.startsWith("Placeholder")?r.push(J[G.name]):"Const"===G.op?a.push(J[G.name]):(null==G.input||0===G.input.length)&&c.push(J[G.name]),J),{});let f=[];const p=[];let g={},y={};null!=e&&(g=this.mapSignatureEntries(e.inputs),y=this.mapSignatureEntries(e.outputs));const x=Object.keys(u);x.forEach(J=>{const G=u[J];G.inputNames.forEach((he,xe)=>{const[et,,it]=Sm(he),Dt=u[et];if(null!=Dt.outputs){const Yt=Dt.outputs.indexOf(it);-1!==Yt&&(G.inputNames[xe]=`${et}:${Yt}`)}G.inputs.push(Dt),Dt.children.push(G)})}),0===Object.keys(y).length?x.forEach(J=>{const G=u[J];0===G.children.length&&p.push(G)}):Object.keys(y).forEach(J=>{const[G]=Sm(J),he=u[G];null!=he&&(he.signatureKey=y[J],p.push(he))}),Object.keys(g).length>0?Object.keys(g).forEach(J=>{const[G]=Sm(J),he=u[G];he&&(he.signatureKey=g[J],f.push(he))}):f=r;let P={};null!=t.library&&null!=t.library.function&&(P=t.library.function.reduce((J,G)=>(J[G.signature.name]=this.mapFunction(G),J),{}));const j={nodes:u,inputs:f,outputs:p,weights:a,placeholders:r,signature:e,functions:P};return c.length>0&&(j.initNodes=c),j}mapSignatureEntries(t){return Object.keys(t||{}).reduce((e,i)=>(e[t[i].name]=i,e),{})}mapNode(t){const e=Ew(t.op)||this.opMappers[t.op]||{};null==t.attr&&(t.attr={});const i={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:e.outputs};return null!=e.inputs&&(i.inputParams=e.inputs.reduce((r,a)=>(r[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},r),{})),null!=e.attrs&&(i.attrParams=e.attrs.reduce((r,a)=>{const c=a.type;let u;switch(a.type){case"string":u=UI(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=UI(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":u=kw(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=kw(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":u=jI(t.attr,a.tfName,a.defaultValue||0),void 0===u&&a.tfDeprecatedName&&(u=jI(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":u=Iw(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=Iw(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":u=zI(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=zI(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":u=xS(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=xS(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":u=Tw(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=Tw(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":u=wS(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=wS(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":u=bS(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=bS(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":u=vS(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=vS(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":u=WI(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=WI(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${t.op}`)}return r[a.name]={value:u,type:c},r},{})),i}mapFunction(t){const e=t.nodeDef,r=[];let a={};null!=e&&(a=e.reduce((y,x)=>(y[x.name]=this.mapNode(x),"Const"===x.op&&r.push(y[x.name]),y),{}));const c=[],u=[];t.signature.inputArg.forEach(y=>{const[x]=Sm(y.name),P={name:x,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Dw(y.type),type:"dtype"}},children:[]};P.signatureKey=y.name,c.push(P),a[x]=P}),Object.keys(a).forEach(y=>{const x=a[y];x.inputNames.forEach((P,j)=>{const[J,,G]=Sm(P),he=a[J];if(null!=he.outputs){const xe=he.outputs.indexOf(G);-1!==xe&&(x.inputNames[j]=`${J}:${xe}`)}x.inputs.push(he),he.children.push(x)})});const p=t.ret;t.signature.outputArg.forEach(y=>{const[x,P]=Sm(p[y.name]),j=a[x];null!=j&&(j.defaultOutput=P,u.push(j))});const g=this.mapArgsToSignature(t);return{nodes:a,inputs:c,outputs:u,weights:r,placeholders:[],signature:g}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i),e),{}),outputs:t.signature.outputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i,t.ret),e),{})}}mapArgToTensorInfo(t,e){let i=t.name;return null!=e&&(i=e[i]),{name:i,dtype:t.type}}}function zb(n,t){const e=Array.isArray(n)?String.fromCharCode.apply(null,n):function yS(n){const t=we().global;if(typeof t.atob<"u")return t.atob(n);if(typeof Buffer<"u")return new Buffer(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(n);return t?e:e.toLowerCase()}function UI(n,t,e,i=!1){const r=n[t];return null!=r?zb(r.s,i):e}function zI(n,t,e){const i=n[t];return i?i.b:e}function jI(n,t,e){const i=n[t]||{},r=null!=i.i?i.i:null!=i.f?i.f:e;return"number"==typeof r?r:parseInt(r,10)}function Dw(n){switch("string"==typeof n&&(n=Yd[n]),n){case Yd.DT_FLOAT:case Yd.DT_HALF:return"float32";case Yd.DT_INT32:case Yd.DT_INT64:case Yd.DT_INT8:case Yd.DT_UINT8:return"int32";case Yd.DT_BOOL:return"bool";case Yd.DT_DOUBLE:return"float32";case Yd.DT_STRING:return"string";case Yd.DT_COMPLEX64:case Yd.DT_COMPLEX128:return"complex64";default:return null}}function WI(n,t,e){const i=n[t];return i&&i.func?i.func.name:e}function bS(n,t,e){const i=n[t];return i&&i.type?Dw(i.type):e}function vS(n,t,e){const i=n[t];return i&&i.list&&i.list.type?i.list.type.map(r=>Dw(r)):e}function HI(n){if(!n.unknownRank)return null!=n.dim?n.dim.map(t=>"number"==typeof t.size?t.size:parseInt(t.size,10)):[]}function Tw(n,t,e){const i=n[t];return i&&i.shape?HI(i.shape):e}function Iw(n,t,e){const i=n[t];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(r=>"number"==typeof r?r:parseInt(r,10)):e}function kw(n,t,e,i=!1){const r=n[t];return r&&r.list&&r.list.s?r.list.s.map(a=>zb(a,i)):e}function wS(n,t,e){const i=n[t];return i&&i.list&&i.list.shape?i.list.shape.map(r=>HI(r)):e}function xS(n,t,e){const i=n[t];return i&&i.list&&i.list.b?i.list.b:e}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class GI{constructor(t,e,i){this.node=t,this.tensorMap=e,this.context=i,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(r=>this.getInput(r)),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((r,a)=>(r[a]=this.getAttr(a),r),{}))}getInput(t){return du(t,this.tensorMap,this.context)}getAttr(t,e){const i=this.node.rawAttrs[t];if(null!=i.tensor)return du(t,this.tensorMap,this.context);if(null!=i.i||null!=i.f)return jI(this.node.rawAttrs,t,e);if(null!=i.s)return UI(this.node.rawAttrs,t,e);if(null!=i.b)return zI(this.node.rawAttrs,t,e);if(null!=i.shape)return Tw(this.node.rawAttrs,t,e);if(null!=i.type)return bS(this.node.rawAttrs,t,e);if(null!=i.list){if(null!=i.list.i||null!=i.list.f)return Iw(this.node.rawAttrs,t,e);if(null!=i.list.s)return kw(this.node.rawAttrs,t,e);if(null!=i.list.shape)return wS(this.node.rawAttrs,t,e);if(null!=i.list.b)return xS(this.node.rawAttrs,t,e);if(null!=i.list.type)return vS(this.node.rawAttrs,t,e)}return e}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yh(n,t,e=""){if("number"!=typeof n&&"number"!=typeof t){Me(n.length===t.length,()=>e+` Shapes ${n} and ${t} must match`);for(let i=0;i<n.length;i++){const r=n[i],a=t[i];Me(r<0||a<0||r===a,()=>e+` Shapes ${n} and ${t} must match`)}}}function qI(n){return!("number"==typeof n||n.some(t=>t<0))}function Aw(n,t,e){let i=YI(n,e);const r=!qI(i);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${i}`);if(r&&t.forEach(a=>{i=YI(a.shape,i)}),!qI(i))throw new Error(`Non-fully-defined elementShape: ${i}`);return i}function YI(n,t){if("number"==typeof n)return t;if("number"==typeof t)return n;if(n.length!==t.length)throw new Error(`Incompatible ranks during merge: ${n} vs. ${t}`);const e=[];for(let i=0;i<n.length;++i){const r=n[i],a=t[i];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${n} vs. ${t}`);e[i]=r>=0?r:a}return e}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class FO{constructor(t,e,i,r,a,c,u){this.name=t,this.dtype=e,this.maxSize=i,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=c,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=Kr(0),cs(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.tensor.id))&&e.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);const e=this.tensors[t];if(e.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor}readMany(t){return t.map(e=>this.read(e))}write(t,e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);const i=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},\n          because the value dtype is ${e.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=e.shape),yh(this.elementShape,e.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),i.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(i.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);i.tensor=e,cs(e),i.written=!0,this.tensors[t]=i}writeMany(t,e){if(t.length!==e.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${e.length}.`);t.forEach((i,r)=>this.write(i,e[r]))}gather(t,e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${e}`);if(t)t=t.slice(0,this.size());else{t=[];for(let r=0;r<this.size();r++)t.push(r)}if(0===t.length)return gi([],[0].concat(this.elementShape));const i=this.readMany(t);return yh(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),Ou(i,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(0===this.size())return gi([],[0].concat(this.elementShape));const e=[];for(let r=0;r<this.size();r++)e.push(r);const i=this.readMany(e);return yh(this.elementShape,i[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${i[0].shape})`),cc(i,0)}scatter(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(!this.dynamicSize&&i>=this.maxSize)throw new Error(`Max index must be < array size (${i}  vs. ${this.maxSize})`);this.writeMany(t,uh(e,0))}split(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);let i=0;const r=t.map(f=>(i+=f,i));if(i!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${e.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===i?0:e.size/i,c=[];Gn(()=>{e=Wn(e,[1,i,a]);for(let f=0;f<t.length;++f)c[f]=Wn(Wo(e,[0,0===f?0:r[f-1],0],[1,t[f],a]),this.elementShape);return c});const u=[];for(let f=0;f<t.length;f++)u[f]=f;this.writeMany(u,c)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class kg{get id(){return this.idTensor.id}constructor(t,e,i,r=-1){this.tensors=t,this.elementShape=e,this.elementDtype=i,t?.forEach(a=>{if(i!==a.dtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${a.dtype}`);yh(e,a.shape,"TensorList shape mismatch: "),cs(a)}),this.idTensor=Kr(0),this.maxNumElements=r,cs(this.idTensor)}copy(){return new kg([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.id))&&e.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,e,i=-1){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(-1!==i&&this.tensors.length!==i)throw new Error(`Operation expected a list with ${i} elements but got a list with ${this.tensors.length} elements.`);yh(t,this.elementShape,"TensorList shape mismatch: ");const r=Aw(this.elementShape,this.tensors,t);return Gn(()=>{const a=this.tensors.map(c=>Wn(c,r));return Ou(a,0)})}popBack(t,e){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const i=Aw(this.elementShape,this.tensors,t),r=this.tensors.pop();return r.kept=!1,yh(r.shape,t,"TensorList shape mismatch: "),Wn(r,i)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(yh(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");cs(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);const e=new kg([],this.elementShape,this.elementDtype,this.maxNumElements);e.tensors.length=t;for(let i=0;i<Math.min(this.tensors.length,t);++i)e.tensors[i]=this.tensors[i];return e}getItem(t,e,i){if(i!==this.elementDtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[t])throw new Error(`element at index ${t} is null.`);yh(this.tensors[t].shape,e,"TensorList shape mismatch: ");const r=Aw(this.elementShape,this.tensors,e);return Wn(this.tensors[t],r)}setItem(t,e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(t<0||-1!==this.maxNumElements&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);yh(this.elementShape,e.shape,"TensorList shape mismatch: "),cs(e),null!=this.tensors[t]&&(this.tensors[t].kept=!1),this.tensors[t]=e}gather(t,e,i){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);yh(this.elementShape,i,"TensorList shape mismatch: "),t=t.slice(0,this.size());const r=Aw(this.elementShape,this.tensors,i);return 0===t.length?gi([],[0].concat(r)):Gn(()=>{const a=t.map(c=>Wn(this.tensors[c],r));return Ou(a,0)})}concat(t,e){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);yh(this.elementShape,e,"TensorList shape mismatch: ");const i=Aw(this.elementShape,this.tensors,e);return 0===this.size()?gi([],[0].concat(i)):Gn(()=>{const r=this.tensors.map(a=>Wn(a,i));return cc(r,0)})}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const Rw=function(){var n=(0,oe.A)(function*(t,e,i){switch(t.op){case"If":case"StatelessIf":{const r=st("thenBranch",t,e,i),a=st("elseBranch",t,e,i),c=st("cond",t,e,i),u=st("args",t,e,i);return(yield c.data())[0]?i.functionMap[r].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap):i.functionMap[a].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap)}case"While":case"StatelessWhile":{const r=st("body",t,e,i),a=st("cond",t,e,i),c=st("args",t,e,i),u=yield i.functionMap[a].executeFunctionAsync(c,i.tensorArrayMap,i.tensorListMap),f=c.map(y=>y.id);let p=yield u[0].data();u.forEach(y=>{!y.kept&&-1===f.indexOf(y.id)&&y.dispose()});let g=c;for(;p[0];){const y=g;g=yield i.functionMap[r].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);const x=g.map(j=>j.id);y.forEach(j=>{!j.kept&&-1===f.indexOf(j.id)&&-1===x.indexOf(j.id)&&j.dispose()});const P=yield i.functionMap[a].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);p=yield P[0].data(),P.forEach(j=>{!j.kept&&-1===f.indexOf(j.id)&&-1===x.indexOf(j.id)&&j.dispose()})}return g}case"LoopCond":return[Dm(st("pred",t,e,i))];case"Switch":{const r=st("pred",t,e,i);let a=st("data",t,e,i);return a.kept||(a=Dm(a)),(yield r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>void 0!==du(a,e,i));return r?[Dm(du(r,e,i))]:void 0}case"Enter":{const r=st("frameName",t,e,i),a=st("tensor",t,e,i);return i.enterFrame(r),[Dm(a)]}case"Exit":{const r=st("tensor",t,e,i);return i.exitFrame(),[Dm(r)]}case"NextIteration":{const r=st("tensor",t,e,i);return i.nextIteration(),[Dm(r)]}case"TensorArrayV3":{const r=st("size",t,e,i),a=st("dtype",t,e,i),c=st("elementShape",t,e,i),u=st("dynamicSize",t,e,i),f=st("clearAfterRead",t,e,i),p=st("identicalElementShapes",t,e,i),g=st("name",t,e,i),y=new FO(g,a,r,c,p,u,f);return i.addTensorArray(y),[y.idTensor,Kr(1)]}case"TensorArrayWriteV3":{const r=st("tensorArrayId",t,e,i),a=st("index",t,e,i),c=st("tensor",t,e,i),u=i.getTensorArray(r.id);return u.write(a,c),[u.idTensor]}case"TensorArrayReadV3":{const r=st("tensorArrayId",t,e,i),a=st("index",t,e,i);return[i.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=st("tensorArrayId",t,e,i),a=st("indices",t,e,i),c=st("dtype",t,e,i);return[i.getTensorArray(r.id).gather(a,c)]}case"TensorArrayScatterV3":{const r=st("tensorArrayId",t,e,i),a=st("indices",t,e,i),c=st("tensor",t,e,i),u=i.getTensorArray(r.id);return u.scatter(a,c),[u.idTensor]}case"TensorArrayConcatV3":{const r=st("tensorArrayId",t,e,i),a=i.getTensorArray(r.id),c=st("dtype",t,e,i);return[a.concat(c)]}case"TensorArraySplitV3":{const r=st("tensorArrayId",t,e,i),a=st("tensor",t,e,i),c=st("lengths",t,e,i),u=i.getTensorArray(r.id);return u.split(c,a),[u.idTensor]}case"TensorArraySizeV3":{const r=st("tensorArrayId",t,e,i);return[Kr(i.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=st("tensorArrayId",t,e,i),a=i.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=st("tensorListId",t,e,i),a=st("index",t,e,i),c=st("tensor",t,e,i),u=i.getTensorList(r.id);return u.setItem(a,c),[u.idTensor]}case"TensorListGetItem":{const r=st("tensorListId",t,e,i),a=st("index",t,e,i),c=st("elementShape",t,e,i),u=st("elementDType",t,e,i);return[i.getTensorList(r.id).getItem(a,c,u)]}case"TensorListScatterV2":case"TensorListScatter":{const r=st("indices",t,e,i),f=function jb(n,t,e,i){if(t.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${n.shape[0]}`);const r=Math.max(...t);if(null!=i&&-1!==i&&r>=i)throw new Error(`Max index must be < array size (${r}  vs. ${i})`);const a=new kg([],e,n.dtype,i),c=uh(n,0);return t.forEach((u,f)=>{a.setItem(u,c[f])}),a}(st("tensor",t,e,i),r,st("elementShape",t,e,i),st("numElements",t,e,i));return i.addTensorList(f),[f.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=st("elementShape",t,e,i),a=st("elementDType",t,e,i);let c;c="TensorListReserve"===t.op?"numElements":"maxNumElements";const u=st(c,t,e,i),p=function hu(n,t,e,i){return new kg([],n,t,i)}(r,a,0,"TensorListReserve"===t.op?-1:u);return i.addTensorList(p),[p.idTensor]}case"TensorListGather":{const r=st("tensorListId",t,e,i),a=st("indices",t,e,i),c=st("elementShape",t,e,i),u=st("elementDType",t,e,i);return[i.getTensorList(r.id).gather(a,u,c)]}case"TensorListStack":{const r=st("tensorListId",t,e,i),a=st("elementShape",t,e,i),c=st("elementDType",t,e,i),u=st("numElements",t,e,i);return[i.getTensorList(r.id).stack(a,c,u)]}case"TensorListFromTensor":{const u=function qL(n,t,e){const i=n.dtype;if(n.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${n.shape}`);if(n.dtype!==e)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${e}`);yh(n.shape.slice(1),t,"TensorList shape mismatch: ");const a=uh(n);return new kg(a,t,i)}(st("tensor",t,e,i),st("elementShape",t,e,i),st("elementDType",t,e,i));return i.addTensorList(u),[u.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=st("tensorListId",t,e,i),a=i.getTensorList(r.id),c=st("dtype",t,e,i),u=st("elementShape",t,e,i);return[a.concat(c,u)]}case"TensorListPushBack":{const r=st("tensorListId",t,e,i),a=st("tensor",t,e,i),c=i.getTensorList(r.id);return c.pushBack(a),[c.idTensor]}case"TensorListPopBack":{const r=st("tensorListId",t,e,i),a=st("elementShape",t,e,i),c=st("elementDType",t,e,i);return[i.getTensorList(r.id).popBack(a,c)]}case"TensorListSplit":{const r=st("tensor",t,e,i),a=st("elementShape",t,e,i),u=function Mw(n,t,e){let i=0;const r=t.map(g=>(i+=g,i));if(i!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${n.shape}`);const c=YI(n.shape.slice(1),e),u=0===i?0:n.size/i,f=Gn(()=>{const g=[];n=Wn(n,[1,i,u]);for(let y=0;y<t.length;++y)g[y]=Wn(Wo(n,[0,0===y?0:r[y-1],0],[1,t[y],u]),c);return n.dispose(),g}),p=new kg([],e,n.dtype,t.length);for(let g=0;g<f.length;g++)p.setItem(g,f[g]);return p}(r,st("lengths",t,e,i),a);return i.addTensorList(u),[u.idTensor]}case"TensorListLength":{const r=st("tensorListId",t,e,i);return[Kr(i.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=st("tensorListId",t,e,i),a=st("size",t,e,i),u=i.getTensorList(r.id).resize(a);return i.addTensorList(u),[u.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $O(n,t,e){const[i,r]=st("fusedOps",n,t,e),a="biasadd"===i,c=!a,u="prelu"===r,f="fusedbatchnorm"===i,p=st("numArgs",n,t,e);if(a){if(u&&2!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&a&&1!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const g=st("strides",n,t,e),y=mS(n,t,e),x=st("dataFormat",n,t,e).toUpperCase(),P=st("dilations",n,t,e);let[j,J]=st("args",n,t,e);return c&&(J=j,j=void 0),{stride:g,pad:y,dataFormat:x,dilations:P,biasArg:j,preluArg:J,activationFunc:r,leakyreluAlpha:st("leakyreluAlpha",n,t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CS(n,t,e){return{boxes:st("boxes",n,t,e),scores:st("scores",n,t,e),maxOutputSize:st("maxOutputSize",n,t,e),iouThreshold:st("iouThreshold",n,t,e),scoreThreshold:st("scoreThreshold",n,t,e),softNmsSigma:st("softNmsSigma",n,t,e)}}const ZI=function(){var n=(0,oe.A)(function*(t,e,i,r,a=Q){switch(t.op){case"NonMaxSuppressionV5":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g,softNmsSigma:y}=CS(t,e,i),x=yield a.image.nonMaxSuppressionWithScoreAsync(c,u,f,p,g,y);return[x.selectedIndices,x.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=CS(t,e,i),y=st("padToMaxOutputSize",t,e,i),x=yield a.image.nonMaxSuppressionPaddedAsync(c,u,f,p,g,y);return[x.selectedIndices,x.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=CS(t,e,i);return[yield a.image.nonMaxSuppressionAsync(c,u,f,p,g)]}case"Where":{const c=a.cast(st("condition",t,e,i),"bool"),u=[yield a.whereAsync(c)];return c.dispose(),u}case"ListDiff":return a.setdiff1dAsync(st("x",t,e,i),st("y",t,e,i));default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class ek{get id(){return this.handle.id}constructor(t,e){this.keyDType=t,this.valueDType=e,this.handle=Kr(0),this.tensorMap=new Map,cs(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Kr(this.size(),"int32")}import(t,e){var i=this;return(0,oe.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return i.tensorMap.forEach(a=>a.dispose()),i.tensorMap.clear(),Gn(()=>{const a=uh(e),c=r.length,u=a.length;Me(c===u,()=>`The number of elements doesn't match, keys has ${c} elements, the values has ${u} elements.`);for(let f=0;f<c;f++){const p=r[f],g=a[f];cs(g),i.tensorMap.set(p,g)}return i.handle})})()}find(t,e){var i=this;return(0,oe.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return Gn(()=>{const a=[];for(let c=0;c<r.length;c++){const f=i.findWithDefault(r[c],e);a.push(f)}return Ou(a)})})()}findWithDefault(t,e){return this.tensorMap.get(t)??e}checkKeyAndValueTensor(t,e){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(e.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${e.dtype}`)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const jO=function(){var n=(0,oe.A)(function*(t,e,i,r){switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(null!=a)return[a];{const c=st("keyDType",t,e,i),u=st("valueDType",t,e,i),f=new ek(c,u);return r.addHashTable(t.name,f),[f.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=st("tableHandle",t,e,i,r),c=st("keys",t,e,i),u=st("values",t,e,i);return[yield r.getHashTableById(a.id).import(c,u)]}case"LookupTableFind":case"LookupTableFindV2":{const a=st("tableHandle",t,e,i,r),c=st("keys",t,e,i),u=st("defaultValue",t,e,i);return[yield r.getHashTableById(a.id).find(c,u)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=st("tableHandle",t,e,i,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ik(n,t,e,i,r=Gn){const a=((c,u,f)=>{switch(c.category){case"arithmetic":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"BiasAdd":case"AddV2":case"Add":return[i.add(st("a",n,t,e),st("b",n,t,e))];case"AddN":return[i.addN(st("tensors",n,t,e))];case"FloorMod":case"Mod":return[i.mod(st("a",n,t,e),st("b",n,t,e))];case"Mul":return[i.mul(st("a",n,t,e),st("b",n,t,e))];case"RealDiv":case"Div":return[i.div(st("a",n,t,e),st("b",n,t,e))];case"DivNoNan":return[i.divNoNan(st("a",n,t,e),st("b",n,t,e))];case"FloorDiv":return[i.floorDiv(st("a",n,t,e),st("b",n,t,e))];case"Sub":return[i.sub(st("a",n,t,e),st("b",n,t,e))];case"Minimum":return[i.minimum(st("a",n,t,e),st("b",n,t,e))];case"Maximum":return[i.maximum(st("a",n,t,e),st("b",n,t,e))];case"Pow":return[i.pow(st("a",n,t,e),st("b",n,t,e))];case"SquaredDifference":return[i.squaredDifference(st("a",n,t,e),st("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"basic_math":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Abs":case"ComplexAbs":return[i.abs(st("x",n,t,e))];case"Acos":return[i.acos(st("x",n,t,e))];case"Acosh":return[i.acosh(st("x",n,t,e))];case"Asin":return[i.asin(st("x",n,t,e))];case"Asinh":return[i.asinh(st("x",n,t,e))];case"Atan":return[i.atan(st("x",n,t,e))];case"Atan2":return[i.atan2(st("x",n,t,e),st("y",n,t,e))];case"Atanh":return[i.atanh(st("x",n,t,e))];case"Ceil":return[i.ceil(st("x",n,t,e))];case"Complex":return[i.complex(st("real",n,t,e),st("imag",n,t,e))];case"Cos":return[i.cos(st("x",n,t,e))];case"Cosh":return[i.cosh(st("x",n,t,e))];case"Elu":return[i.elu(st("x",n,t,e))];case"Erf":return[i.erf(st("x",n,t,e))];case"Exp":return[i.exp(st("x",n,t,e))];case"Expm1":return[i.expm1(st("x",n,t,e))];case"Floor":return[i.floor(st("x",n,t,e))];case"Log":return[i.log(st("x",n,t,e))];case"Log1p":return[i.log1p(st("x",n,t,e))];case"Imag":return[i.imag(st("x",n,t,e))];case"Neg":return[i.neg(st("x",n,t,e))];case"Reciprocal":return[i.reciprocal(st("x",n,t,e))];case"Real":return[i.real(st("x",n,t,e))];case"Relu":return[i.relu(st("x",n,t,e))];case"Round":return[i.round(st("x",n,t,e))];case"Selu":return[i.selu(st("x",n,t,e))];case"Sigmoid":return[i.sigmoid(st("x",n,t,e))];case"Sin":return[i.sin(st("x",n,t,e))];case"Sign":return[i.sign(st("x",n,t,e))];case"Sinh":return[i.sinh(st("x",n,t,e))];case"Softplus":return[i.softplus(st("x",n,t,e))];case"Sqrt":return[i.sqrt(st("x",n,t,e))];case"Square":return[i.square(st("x",n,t,e))];case"Tanh":return[i.tanh(st("x",n,t,e))];case"Tan":return[i.tan(st("x",n,t,e))];case"ClipByValue":return[i.clipByValue(st("x",n,t,e),st("clipValueMin",n,t,e),st("clipValueMax",n,t,e))];case"Relu6":return[i.relu6(st("x",n,t,e))];case"Rsqrt":return[i.rsqrt(du(n.inputNames[0],t,e))];case"LeakyRelu":return[i.leakyRelu(st("x",n,t,e),st("alpha",n,t,e))];case"Prelu":return[i.prelu(st("x",n,t,e),st("alpha",n,t,e))];case"IsNan":return[i.isNaN(du(n.inputNames[0],t,e))];case"IsInf":return[i.isInf(du(n.inputNames[0],t,e))];case"IsFinite":return[i.isFinite(du(n.inputNames[0],t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"control":return Rw(c,u,f);case"convolution":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Conv1D":{const r=st("stride",n,t,e),a=st("pad",n,t,e),c=st("dataFormat",n,t,e).toUpperCase(),u=st("dilation",n,t,e);return[i.conv1d(st("x",n,t,e),st("filter",n,t,e),r,a,c,u)]}case"Conv2D":{const r=st("strides",n,t,e),a=mS(n,t,e),c=st("dataFormat",n,t,e).toUpperCase(),u=st("dilations",n,t,e);return[i.conv2d(st("x",n,t,e),st("filter",n,t,e),[r[1],r[2]],a,c,[u[1],u[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:y}=$O(n,t,e);return[i.fused.conv2d({x:st("x",n,t,e),filter:st("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:y})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:y}=$O(n,t,e);return[i.fused.depthwiseConv2d({x:st("x",n,t,e),filter:st("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:y})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=st("outputShape",n,t,e),a=st("strides",n,t,e),c=mS(n,t,e);return[i.conv2dTranspose(st("x",n,t,e),st("filter",n,t,e),r,[a[1],a[2]],c)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=st("strides",n,t,e),a=mS(n,t,e),c=st("dilations",n,t,e),u=st("dataFormat",n,t,e).toUpperCase();return[i.depthwiseConv2d(st("input",n,t,e),st("filter",n,t,e),[r[1],r[2]],a,u,[c[1],c[2]])]}case"Conv3D":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("dataFormat",n,t,e).toUpperCase(),u=st("dilations",n,t,e);return[i.conv3d(st("x",n,t,e),st("filter",n,t,e),[r[1],r[2],r[3]],a,c,[u[1],u[2],u[3]])]}case"AvgPool":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("kernelSize",n,t,e);return[i.avgPool(st("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("kernelSize",n,t,e);return[i.maxPool(st("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("kernelSize",n,t,e),u=st("includeBatchInIndex",n,t,e),{result:f,indexes:p}=i.maxPoolWithArgmax(st("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a,u);return[f,p]}case"AvgPool3D":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("kernelSize",n,t,e);return[i.avgPool3d(st("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("kernelSize",n,t,e);return[i.maxPool3d(st("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=st("strides",n,t,e),a=st("pad",n,t,e),c=st("dilations",n,t,e),u=r[1],f=r[2],p=c[1],g=c[2];return[i.dilation2d(st("x",n,t,e),st("filter",n,t,e),[u,f],a,[p,g],"NHWC")]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"creation":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Fill":{const r=st("shape",n,t,e),a=st("dtype",n,t,e),c=st("value",n,t,e);return[i.fill(r,c,a)]}case"LinSpace":{const r=st("start",n,t,e),a=st("stop",n,t,e),c=st("num",n,t,e);return[i.linspace(r,a,c)]}case"Multinomial":{const r=st("logits",n,t,e),a=st("numSamples",n,t,e),c=st("seed",n,t,e);return[i.multinomial(r,a,c)]}case"OneHot":{const r=st("indices",n,t,e),a=st("depth",n,t,e),c=st("onValue",n,t,e),u=st("offValue",n,t,e),f=st("dtype",n,t,e);return[i.oneHot(r,a,c,u,f)]}case"Ones":return[i.ones(st("shape",n,t,e),st("dtype",n,t,e))];case"OnesLike":return[i.onesLike(st("x",n,t,e))];case"RandomStandardNormal":return[i.randomStandardNormal(st("shape",n,t,e),st("dtype",n,t,e),st("seed",n,t,e))];case"RandomUniform":return[i.randomUniform(st("shape",n,t,e),st("minval",n,t,e),st("maxval",n,t,e),st("dtype",n,t,e))];case"RandomUniformInt":return[i.randomUniformInt(st("shape",n,t,e),st("minval",n,t,e),st("maxval",n,t,e),st("seed",n,t,e))];case"Range":{const r=st("start",n,t,e),a=st("stop",n,t,e),c=st("step",n,t,e);return[i.range(r,a,c,st("dtype",n,t,e))]}case"TruncatedNormal":{const r=st("shape",n,t,e),a=st("mean",n,t,e),c=st("stdDev",n,t,e),u=st("seed",n,t,e);return[i.truncatedNormal(r,a,c,st("dtype",n,t,e),u)]}case"Zeros":return[i.zeros(st("shape",n,t,e),st("dtype",n,t,e))];case"ZerosLike":return[i.zerosLike(st("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"dynamic":return ZI(c,u,f);case"evaluation":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"LowerBound":{const r=st("sortedSequence",n,t,e),a=st("values",n,t,e);return[i.lowerBound(r,a)]}case"TopKV2":{const r=st("x",n,t,e),a=st("k",n,t,e),c=st("sorted",n,t,e),u=i.topk(r,a,c);return[u.values,u.indices]}case"UpperBound":{const r=st("sortedSequence",n,t,e),a=st("values",n,t,e);return[i.upperBound(r,a)]}case"Unique":{const r=st("x",n,t,e),a=i.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=st("x",n,t,e),a=st("axis",n,t,e),c=i.unique(r,a);return[c.values,c.indices]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"image":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"ResizeBilinear":{const r=st("images",n,t,e),a=st("size",n,t,e),c=st("alignCorners",n,t,e),u=st("halfPixelCenters",n,t,e);return[i.image.resizeBilinear(r,[a[0],a[1]],c,u)]}case"ResizeNearestNeighbor":{const r=st("images",n,t,e),a=st("size",n,t,e),c=st("alignCorners",n,t,e),u=st("halfPixelCenters",n,t,e);return[i.image.resizeNearestNeighbor(r,[a[0],a[1]],c,u)]}case"CropAndResize":{const r=st("image",n,t,e),a=st("boxes",n,t,e),c=st("boxInd",n,t,e),u=st("cropSize",n,t,e),f=st("method",n,t,e),p=st("extrapolationValue",n,t,e);return[i.image.cropAndResize(r,a,c,u,f,p)]}case"ImageProjectiveTransformV3":{const r=st("images",n,t,e),a=st("transforms",n,t,e),c=st("outputShape",n,t,e),u=st("fillValue",n,t,e),f=st("interpolation",n,t,e),p=st("fillMode",n,t,e);return[i.image.transform(r,a,f.toLowerCase(),p.toLowerCase(),u,c)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"graph":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Const":return t[n.name];case"PlaceholderWithDefault":const r=st("default",n,t,e);return[du(n.name,t,e)||r];case"Placeholder":return[du(n.name,t,e)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Dm(st("x",n,t,e))];case"IdentityN":return st("x",n,t,e).map(g=>Dm(g));case"Shape":return[i.tensor1d(st("x",n,t,e).shape,"int32")];case"ShapeN":return st("x",n,t,e).map(g=>i.tensor1d(g.shape));case"Size":return[i.scalar(st("x",n,t,e).size,"int32")];case"Rank":return[i.scalar(st("x",n,t,e).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const c=st("x",n,t,e),u=st("data",n,t,e),f=st("message",n,t,e),p=st("summarize",n,t,e);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(f);for(let g=0;g<u.length;g++)console.log(Array.prototype.slice.call(u[g].dataSync()).slice(0,p));return[c];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"logical":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Equal":return[i.equal(st("a",n,t,e),st("b",n,t,e))];case"NotEqual":return[i.notEqual(st("a",n,t,e),st("b",n,t,e))];case"Greater":return[i.greater(st("a",n,t,e),st("b",n,t,e))];case"GreaterEqual":return[i.greaterEqual(st("a",n,t,e),st("b",n,t,e))];case"Less":return[i.less(st("a",n,t,e),st("b",n,t,e))];case"LessEqual":return[i.lessEqual(st("a",n,t,e),st("b",n,t,e))];case"LogicalAnd":return[i.logicalAnd(st("a",n,t,e),st("b",n,t,e))];case"LogicalNot":return[i.logicalNot(st("a",n,t,e))];case"LogicalOr":return[i.logicalOr(st("a",n,t,e),st("b",n,t,e))];case"Select":case"SelectV2":return[i.where(st("condition",n,t,e),st("a",n,t,e),st("b",n,t,e))];case"BitwiseAnd":return[i.bitwiseAnd(st("a",n,t,e),st("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"matrices":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul(st("a",n,t,e),st("b",n,t,e),st("transposeA",n,t,e),st("transposeB",n,t,e))];case"Einsum":return[i.einsum(st("equation",n,t,e),...st("tensors",n,t,e))];case"Transpose":return[i.transpose(st("x",n,t,e),st("perm",n,t,e))];case"_FusedMatMul":const[r,a]=st("fusedOps",n,t,e),c="biasadd"===r,u="prelu"===a,f=st("numArgs",n,t,e),p=st("leakyreluAlpha",n,t,e);if(c){if(u&&2!==f)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==f)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[g,y]=st("args",n,t,e);return[i.fused.matMul({a:st("a",n,t,e),b:st("b",n,t,e),transposeA:st("transposeA",n,t,e),transposeB:st("transposeB",n,t,e),bias:g,activation:a,preluActivationWeights:y,leakyreluAlpha:p})];case"MatrixBandPart":return[i.linalg.bandPart(st("a",n,t,e),st("numLower",n,t,e),st("numUpper",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"normalization":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"EuclideanNorm":return[i.euclideanNorm(st("x",n,t,e),st("axis",n,t,e),st("keepDims",n,t,e))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[i.batchNorm(st("x",n,t,e),st("mean",n,t,e),st("variance",n,t,e),st("offset",n,t,e),st("scale",n,t,e),st("epsilon",n,t,e))];case"LRN":return[i.localResponseNormalization(st("x",n,t,e),st("radius",n,t,e),st("bias",n,t,e),st("alpha",n,t,e),st("beta",n,t,e))];case"Softmax":return[i.softmax(st("x",n,t,e))];case"LogSoftmax":return[i.logSoftmax(st("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"ragged":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=i.raggedGather(st("paramsNestedSplits",n,t,e),st("paramsDenseValues",n,t,e),st("indices",n,t,e),st("outputRaggedRank",n,t,e));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=i.raggedRange(st("starts",n,t,e),st("limits",n,t,e),st("splits",n,t,e));return[r,a]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor(st("shape",n,t,e),st("values",n,t,e),st("defaultValue",n,t,e),st("rowPartitionTensors",n,t,e),st("rowPartitionTypes",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"reduction":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Max":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.max(st("x",n,t,e),u,f)]}case"Mean":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.mean(st("x",n,t,e),u,f)]}case"Min":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.min(st("x",n,t,e),u,f)]}case"Sum":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.sum(st("x",n,t,e),u,f)]}case"All":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.all(st("x",n,t,e),u,f)]}case"Any":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.any(st("x",n,t,e),u,f)]}case"ArgMax":{const u=st("axis",n,t,e);return[i.argMax(st("x",n,t,e),u)]}case"ArgMin":{const u=st("axis",n,t,e);return[i.argMin(st("x",n,t,e),u)]}case"Prod":{const u=st("axis",n,t,e),f=st("keepDims",n,t,e);return[i.prod(st("x",n,t,e),u,f)]}case"Cumprod":{const u=st("axis",n,t,e),f=st("exclusive",n,t,e),p=st("reverse",n,t,e);return[i.cumprod(st("x",n,t,e),u,f,p)]}case"Cumsum":{const u=st("axis",n,t,e),f=st("exclusive",n,t,e),p=st("reverse",n,t,e);return[i.cumsum(st("x",n,t,e),u,f,p)]}case"Bincount":const r=st("x",n,t,e),a=st("weights",n,t,e),c=st("size",n,t,e);return[i.bincount(r,a,c)];case"DenseBincount":{const u=st("x",n,t,e),f=st("weights",n,t,e),p=st("size",n,t,e),g=st("binaryOutput",n,t,e);return[i.denseBincount(u,f,p,g)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"slice_join":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"ConcatV2":case"Concat":{const r=st("n",n,t,e),a=st("axis",n,t,e);let c=st("tensors",n,t,e);return c=c.slice(0,r),[i.concat(c,a)]}case"Gather":{const r=st("x",n,t,e),a=st("indices",n,t,e);return[i.gather(r,i.cast(a,"int32"),0)]}case"GatherV2":{const r=st("axis",n,t,e),a=st("batchDims",n,t,e),c=st("x",n,t,e),u=st("indices",n,t,e);return[i.gather(c,i.cast(u,"int32"),r,a)]}case"Reverse":{const r=st("dims",n,t,e),a=[];for(let u=0;u<r.length;u++)r[u]&&a.push(u);const c=st("x",n,t,e);return[i.reverse(c,a)]}case"ReverseV2":{const r=st("axis",n,t,e),a=st("x",n,t,e);return[i.reverse(a,r)]}case"Slice":{const r=st("begin",n,t,e),a=st("size",n,t,e);return[i.slice(st("x",n,t,e),r,a)]}case"StridedSlice":{const r=st("begin",n,t,e),a=st("end",n,t,e),c=st("strides",n,t,e),u=st("beginMask",n,t,e),f=st("endMask",n,t,e),p=st("ellipsisMask",n,t,e),g=st("newAxisMask",n,t,e),y=st("shrinkAxisMask",n,t,e),x=st("x",n,t,e);return[i.stridedSlice(x,r,a,c,u,f,p,g,y)]}case"Pack":return Gn(()=>{const r=st("axis",n,t,e),a=st("tensors",n,t,e),c=a[0].shape,u=i.squeeze(a[0]).shape,f=a.map(p=>{const g=Ae(p.shape,c);if(!g&&!Ae(i.squeeze(p).shape,u))throw new Error("the input tensors shape does not match");return g?p:i.reshape(p,c)});return[i.stack(f,r)]});case"Unpack":{const r=st("axis",n,t,e),a=st("tensor",n,t,e);return i.unstack(a,r)}case"Tile":{const r=st("reps",n,t,e);return[i.tile(st("x",n,t,e),r)]}case"Split":case"SplitV":{const r=st("axis",n,t,e),a=st("numOrSizeSplits",n,t,e),c=st("x",n,t,e);return i.split(c,a,r)}case"ScatterNd":{const r=st("indices",n,t,e),a=st("values",n,t,e),c=st("shape",n,t,e);return[i.scatterND(r,a,c)]}case"GatherNd":{const r=st("x",n,t,e),a=st("indices",n,t,e);return[i.gatherND(r,a)]}case"SparseToDense":{const r=st("sparseIndices",n,t,e),a=st("outputShape",n,t,e),c=st("sparseValues",n,t,e),u=st("defaultValue",n,t,e);return[i.sparseToDense(r,c,a,c.dtype===u.dtype?u:i.cast(u,c.dtype))]}case"TensorScatterUpdate":{const r=st("indices",n,t,e),a=st("values",n,t,e),c=st("tensor",n,t,e);return[i.tensorScatterUpdate(c,r,a)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"sparse":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:c,reverseIndexMap:u}=i.sparse.sparseFillEmptyRows(st("indices",n,t,e),st("values",n,t,e),st("denseShape",n,t,e),st("defaultValue",n,t,e));return[r,a,c,u]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=i.sparse.sparseReshape(st("inputIndices",n,t,e),st("inputShape",n,t,e),st("newShape",n,t,e));return[r,a]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean(st("data",n,t,e),st("indices",n,t,e),st("segmentIds",n,t,e))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum(st("data",n,t,e),st("indices",n,t,e),st("segmentIds",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"spectral":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"FFT":return[i.fft(st("x",n,t,e))];case"IFFT":return[i.ifft(st("x",n,t,e))];case"RFFT":return[i.rfft(st("x",n,t,e))];case"IRFFT":return[i.irfft(st("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"string":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"StaticRegexReplace":return[i.string.staticRegexReplace(st("input",n,t,e),st("pattern",n,t,e),st("rewrite",n,t,e),st("replaceGlobal",n,t,e))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=i.string.stringNGrams(st("data",n,t,e),st("dataSplits",n,t,e),st("separator",n,t,e),st("nGramWidths",n,t,e),st("leftPad",n,t,e),st("rightPad",n,t,e),st("padWidth",n,t,e),st("preserveShortSequences",n,t,e));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:c}=i.string.stringSplit(st("input",n,t,e),st("delimiter",n,t,e),st("skipEmpty",n,t,e));return[r,a,c]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast(st("input",n,t,e),st("numBuckets",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"transformation":return r(()=>((n,t,e,i=Q)=>{switch(n.op){case"Cast":return[i.cast(st("x",n,t,e),st("dtype",n,t,e))];case"ExpandDims":{const r=st("axis",n,t,e);return[i.expandDims(st("x",n,t,e),r)]}case"Squeeze":{const r=st("axis",n,t,e);return[i.squeeze(st("x",n,t,e),r)]}case"Reshape":return[i.reshape(st("x",n,t,e),st("shape",n,t,e))];case"EnsureShape":return[i.ensureShape(st("x",n,t,e),st("shape",n,t,e))];case"MirrorPad":return[i.mirrorPad(st("x",n,t,e),st("padding",n,t,e),st("mode",n,t,e))];case"PadV2":case"Pad":return[i.pad(st("x",n,t,e),st("padding",n,t,e),st("constantValue",n,t,e))];case"SpaceToBatchND":{const r=st("blockShape",n,t,e),a=st("paddings",n,t,e);return[i.spaceToBatchND(st("x",n,t,e),r,a)]}case"BatchToSpaceND":{const r=st("blockShape",n,t,e),a=st("crops",n,t,e);return[i.batchToSpaceND(st("x",n,t,e),r,a)]}case"DepthToSpace":{const r=st("blockSize",n,t,e),a=st("dataFormat",n,t,e).toUpperCase();return[i.depthToSpace(st("x",n,t,e),r,a)]}case"BroadcastTo":return[i.broadcastTo(st("x",n,t,e),st("shape",n,t,e))];case"BroadcastArgs":return[i.broadcastArgs(st("s0",n,t,e),st("s1",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"hash_table":return jO(c,u,f,i);case"custom":const p=Ew(c.op);if(p&&p.customExecutor)return p.customExecutor(new GI(c,u,f));throw TypeError(`Custom op ${c.op} is not registered.`);default:throw TypeError(`Unknown op '${c.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(n,t,e);return qt(a)?a.then(c=>[].concat(c)):[].concat(a)}class qO{constructor(t={},e={},i={},r={},a){this.weightMap=t,this.tensorArrayMap=e,this.tensorListMap=i,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,e){return{id:t,frameName:e,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const t=[];for(let e=0;e<this.contexts.length-1;e++){const i=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(i))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(const e in this.tensorArrayMap)this.tensorArrayMap[e].clearAndClose(t);for(const e in this.tensorListMap)this.tensorListMap[e].clearAndClose(t)}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function SS(n,t,e,i){const r=new Set,a=[];let c=null,u=null;const f=new Set,p=new Set(Object.keys(n).map(x=>Qd(x)[0]));i=i||[];const g=new Set(i.map(x=>Qd(x.name)[0])),y=[...t];for(;y.length>0;){const x=y.pop();if((vp(x)||ak(x)||JO(x))&&null==c&&(c=x,u=c.children.map(P=>P.name).filter(P=>r.has(P))),r.add(x.name),null==e[x.name]&&!p.has(x.name)&&!g.has(x.name)){if(0===x.inputs.length){a.push(x.name);continue}x.inputs.forEach(P=>{f.has(P.name)||(f.add(P.name),y.push(P))})}}return{inputs:n,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:c,syncInputs:u}}class DS extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}}const QO=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),ok=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),ZO=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function vp(n){return QO.has(n.op)}function ak(n){return ok.has(n.op)}function JO(n){return ZO.has(n.op)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Lw{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){const e=Object.keys(t).map(i=>t[i].map(r=>r.id));this._weightIds=[].concat(...e),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{const e=t.signatureKey||t.name;return t.defaultOutput?`${e}:${t.defaultOutput}`:e})}get functions(){return Object.keys(this._functions).reduce((t,e)=>(t[e]=this._functions[e].signature,t),{})}constructor(t,e){this.graph=t,this.parent=e,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach(i=>{this._functionExecutorMap[i]=new Lw(t.functions[i],this)})}getCompilationKey(t,e){const i=t.map(a=>a.name).sort(),r=e.map(a=>a.name).sort();return i.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(t,e){const i=SS(t,e,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:c}=i;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${c}]`);if(r.length>0){const p=e.map(y=>y.name),g=Object.keys(t);throw new Error(`Cannot compute the outputs [${p}] from the provided inputs [${g}]. Missing the following inputs: [${r}]`)}const u=function YO(n,t){const{usedNodes:e,inputs:i}=t,c=G=>e.has("string"==typeof G?G:G.name);function u(G){return[...new Map(G.map(he=>[he.name,he])).values()]}const f=u([...Object.keys(i).map(G=>Qd(G)[0]).map(G=>n.nodes[G]),...n.weights,...n.initNodes||[]]).filter(c),p=u([...f,...Object.values(n.nodes)]).filter(c),g=new Map(p.map(G=>[G.name,G])),y={};for(const G of p){y[G.name]=y[G.name]||0;for(const he of G.children)c(he)||(y[he.name]=Number.POSITIVE_INFINITY),y[he.name]=(y[he.name]||0)+1}const x=Object.entries(y).filter(([,G])=>0===G).map(([G])=>G),P=[...x];for(;x.length>0;){const G=x.pop(),he=g.get(G);for(const xe of he.children.filter(c))0==--y[xe.name]&&(P.push(xe.name),x.push(xe.name))}const J=function r$(n,t){const e=new Map(n.map(c=>[c.name,c])),i=t.map(c=>c.name),r=new Set(i);for(;i.length>0;){const c=i.pop(),u=e.get(c);for(const f of u.children)!e.has(f.name)||r.has(f.name)||(r.add(f.name),i.push(f.name))}return n.filter(c=>r.has(c.name))}(P.map(G=>g.get(G)),f);return function rk(n,t){const e=new Map(n.map((u,f)=>[u.name,f])),i=new Set(t.map(u=>u.name)),r=u=>i.has("string"==typeof u?u:u.name),a=new Set(n.map(u=>u.name)),c=u=>a.has("string"==typeof u?u:u.name);for(const u of n){for(const f of u.children.filter(c)){if(!e.has(f.name))throw new DS(`Child ${f.name} of node ${u.name} is unreachable.`);if(e.get(u.name)>e.get(f.name))throw new DS(`Node ${u.name} is scheduled to run after its child ${f.name}.`)}if(!r(u))for(const f of u.inputs){if(!e.has(f.name))throw new DS(`Input ${f.name} of node ${u.name} is unreachable.`);if(e.get(f.name)>e.get(u.name))throw new DS(`Node ${u.name} is scheduled to run before its input ${f.name}.`)}}}(J,f),J}(this.graph,i),f=function sk(n){const t=new Map(n.map((u,f)=>[u.name,f])),e=Number.MAX_SAFE_INTEGER,i=n.map((u,f)=>vp(u)?e:f),r=u=>i[t.get(u.name)]??-1,a=n.map((u,f)=>u.children.map(r).reduce((p,g)=>Math.max(p,g),i[f])),c=new Map;for(let u=0;u<n.length;++u){const f=a[u];if(f===e)continue;const p=n[u],g=n[f];c.has(g.name)||c.set(g.name,[]),c.get(g.name).push(p)}return c}(u);return{orderedNodes:u,nodeLiveUntilMap:f}}cloneAndKeepTensor(t){if(null==t)return null;const e=t.clone();return cs(e),e}cloneTensorList(t){return t?t.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([e,i])=>[e,this.cloneTensorList(i)]))}execute(t,e){this.disposeIntermediateTensors(),t=this.mapInputs(t);const i=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),e=this.mapOutputs(e),this.checkOutputs(e);const r=i.map(x=>this.graph.nodes[Qd(x)[0]]),a=e.map(x=>Qd(x)[0]),c=new Set(a);let u=a.map(x=>this.graph.nodes[x]);0===u.length&&(u=this._outputs);const f=this.getCompilationKey(r,u);let p=this.compiledMap.get(f);null==p&&(p=this.compile(t,u),this.compiledMap.set(f,p));try{this.keepIntermediateTensors=we().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(x){this.keepIntermediateTensors=!1,console.warn(x.message)}const g={},y={};return Gn(()=>{const x=new qO(this.weightMap,g,y,this.functionExecutorMap,this.parseNodeNameCache),P=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(he=>{const[xe,et]=Qd(he,x),it=[];it[et]=t[he],P[xe]=it,this.keepIntermediateTensors&&(this.clonedTensorsMap[xe]=this.cloneTensorList(it))});const j=this.getFrozenTensorIds(P),{orderedNodes:J,nodeLiveUntilMap:G}=p;for(const he of J){if(P[he.name])continue;const xe=ik(he,P,x,this._resourceManager);if(qt(xe))throw new Error(`The execution of the op '${he.op}' returned a promise. Please use model.executeAsync() instead.`);P[he.name]=xe,this.keepIntermediateTensors&&(this.clonedTensorsMap[he.name]=this.cloneTensorList(xe)),this.checkTensorForDisposalWithNodeLiveUntilInfo(he,P,x,j,c,G.get(he.name))}return null==this.parent&&x.dispose(j),e.map(he=>du(he,P,x))})}getFrozenTensorIds(t){const e=[].concat.apply([],Object.keys(t).map(i=>t[i]).map(i=>i.map(r=>r.id)));return new Set(e)}checkTensorForDisposal(t,e,i,r,a,c,u){if(!vp(e)&&!c.has(t)){for(const f of i[t])null!=f&&(u[f.id]=(u[f.id]||0)+e.children.length);for(const f of e.inputs){if(vp(f))continue;const p=AO(f.name,i,r);if(null!=p)for(const g of p){if(!g||g.kept||a.has(g.id))continue;const y=u[g.id];1===y?(g.dispose(),delete u[g.id]):null!=y&&u[g.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,e,i,r,a,c){function u(f){return vp(f)||a.has(f.name)}if(!vp(t)&&null!=c)for(const f of c){if(u(f))continue;const p=AO(f.name,e,i);for(const g of p)!g||g.kept||r.has(g.id)||g.dispose()}}executeAsync(t,e){var i=this;return(0,oe.A)(function*(){return i._executeAsync(t,e)})()}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(const e of t)e&&!e.isDisposed&&e.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(t,e,i=!1,r={},a={}){var c=this;return(0,oe.A)(function*(){c.disposeIntermediateTensors(),i||(t=c.mapInputs(t),c.checkInputs(t),c.checkInputShapeAndType(t),e=c.mapOutputs(e),c.checkOutputs(e));try{c.keepIntermediateTensors=we().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(P){c.keepIntermediateTensors=!1,console.warn(P.message)}const u=new qO(c.weightMap,r,a,c.functionExecutorMap,c.parseNodeNameCache);c.keepIntermediateTensors&&(c.clonedTensorsMap=c.cloneTensorMap(c.weightMap));const f=yield c.executeWithControlFlow(t,u,e,i),p=e.map(P=>du(P,f,u)),g=p.map(P=>P.id),y=Object.keys(t).map(P=>t[P].id),x=new Set([...g,...y,...c.weightIds]);return Object.values(f).forEach(P=>{P.forEach(j=>{j&&!j.isDisposed&&!x.has(j.id)&&j.dispose()})}),null==c.parent&&u.dispose(x),p})()}executeFunctionAsync(t,e,i){var r=this;return(0,oe.A)(function*(){const a=t.reduce((c,u,f)=>(c[r.inputs[f].name]=u,c),{});return r._executeAsync(a,r.outputNodes,!0,e,i)})()}executeWithControlFlow(t,e,i,r){var a=this;return(0,oe.A)(function*(){const c=Object.keys(t),u=c.map(Dt=>a.graph.nodes[Qd(Dt)[0]]),f=i.map(Dt=>Qd(Dt)[0]),p=new Set(f);let g=f.map(Dt=>a.graph.nodes[Dt]);0===g.length&&(g=a._outputs);const{usedNodes:y,missingInputs:x,dynamicNode:P,syncInputs:j}=SS(t,g,a.weightMap,a._initNodes),J=[...u,...a.graph.weights,...a._initNodes||[]].map(Dt=>({node:Dt,contexts:e.currentContext})),G=Object.assign({},a.weightMap);Object.keys(t).forEach(Dt=>{const[Yt,pn]=Qd(Dt),bn=[];bn[pn]=t[Dt],G[Yt]=bn});const he={},xe=a.getFrozenTensorIds(G),et={};for(;J.length>0;){const Dt=a.processStack(u,J,e,G,et,xe,p,he,y);yield Promise.all(Dt)}null==P&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const it=g.filter(Dt=>!vp(Dt)&&!du(Dt.name,G,e)).map(Dt=>Dt.name);if(it.length>0){let Dt="";throw null!=P&&(Dt=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${j}]`),new Error(`Cannot compute the outputs [${it}] from the provided inputs [${c}]. Consider providing the following inputs: [${x}]. ${Dt}`)}return G})()}processStack(t,e,i,r,a,c,u,f,p){const g=[];for(;e.length>0;){const y=e.pop();i.currentContext=y.contexts;let x="";if("Enter"===y.node.op&&st("isConstant",y.node,r,i)&&([x]=Sm(y.node.name,i)),null==r[y.node.name]){const P=ik(y.node,r,i,this._resourceManager);x||([x]=Sm(y.node.name,i));const j=i.currentContext;qt(P)?g.push(P.then(J=>(r[x]=J,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(J)),i.currentContext=j,this.checkTensorForDisposal(x,y.node,r,i,c,u,f),this.processChildNodes(y.node,e,i,r,a,p),J))):(r[x]=P,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(P)),this.checkTensorForDisposal(x,y.node,r,i,c,u,f),this.processChildNodes(y.node,e,i,r,a,p))}else this.processChildNodes(y.node,e,i,r,a,p)}return g}processChildNodes(t,e,i,r,a,c){t.children.forEach(u=>{const[f]=Sm(u.name,i);a[f]||!c.has(u.name)||("Merge"===u.op?u.inputNames.some(p=>!!du(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})):u.inputNames.every(p=>!!du(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(e=>e.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(e=>{const i=t[e],[r]=Qd(e),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const c=a.attrParams.shape.value;Me(c.length===i.shape.length&&i.shape.every((f,p)=>-1===c[p]||c[p]===f),()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${c}], but was [${i.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&Me(i.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${i.dtype}`)})}mapInputs(t){var e,i;const r={};for(const a in t){const c=null===(i=null===(e=this._signature)||void 0===e?void 0:e.inputs)||void 0===i?void 0:i[a];null!=c?r[c.name]=t[a]:r[a]=t[a]}return r}checkInputs(t){const e=Object.keys(t).filter(i=>{const[r]=Qd(i);return null==this.graph.nodes[r]});if(e.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${e}] that are not part of graph`)}mapOutputs(t){return t.map(e=>{var i,r;const a=null===(r=null===(i=this._signature)||void 0===i?void 0:i.outputs)||void 0===r?void 0:r[e];return null!=a?a.name:e},{})}checkOutputs(t){t.forEach(e=>{const[i]=Qd(e);if(!this.graph.nodes[i])throw new Error(`The output '${e}' is not found in the graph`)})}}class lk{constructor(t={},e={}){this.hashTableNameToHandle=t,this.hashTableMap=e}addHashTable(t,e){this.hashTableNameToHandle[t]=e.handle,this.hashTableMap[e.id]=e}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(const t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(const t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const eP="?tfjs-format=file",ck="model.json";class tP{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,e={},i=h){this.modelUrl=t,this.loadOptions=e,this.version="n/a",this.io=i,null==e&&(this.loadOptions={}),this.resourceManager=new lk}findIOHandler(){const t=this.modelUrl;if(null!=t.load)this.handler=t;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{const e=this.io.getLoadHandlers(t,this.loadOptions);if(0===e.length)e.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(e.length>1)throw new Error(`Found more than one (${e.length}) load handlers for URL '${[t]}'`);this.handler=e[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const t=this.handler.load();return qt(t)?t.then(e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e)):this.loadSync(t)}loadSync(t){const e=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,e)}loadStreaming(t){var e=this;return(0,oe.A)(function*(){if(null==t.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const i=yield Co(t.getWeightStream(),t.weightSpecs);return e.loadWithWeightMap(t,i)})()}loadWithWeightMap(t,e){this.artifacts=t;const i=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const a=this.artifacts.userDefinedMetadata;null!=a.signature&&(r=a.signature),null!=a.structuredOutputKeys&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=r,this.version=`${i.versions.producer}.${i.versions.minConsumer}`,this.executor=new Lw(Sw.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(e),this.executor.resourceManager=this.resourceManager,null!=t.modelInitializer&&null!=t.modelInitializer.node){const a=Sw.Instance.transformGraph(t.modelInitializer);this.initializer=new Lw(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}save(t,e){var i=this;return(0,oe.A)(function*(){if("string"==typeof t){const r=i.io.getSaveHandlers(t);if(0===r.length)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${t}'`);t=r[0]}if(null==t.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(i.artifacts)})()}addStructuredOutputNames(t){if(this.structuredOutputKeys){const i={};return(t instanceof Y?[t]:t).forEach((r,a)=>i[this.structuredOutputKeys[a]]=r),i}return t}predict(t,e){const i=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(i)}predictAsync(t,e){var i=this;return(0,oe.A)(function*(){const r=yield i.executeAsync(t,i.outputNodes);return i.addStructuredOutputNames(r)})()}normalizeInputs(t){var e;if(!(t instanceof Y||Array.isArray(t))){const a=null===(e=this.signature)||void 0===e?void 0:e.inputs;if(null!=a)for(const c in a){const u=a[c];null!=u.resourceId&&(t[c]=this.resourceIdToCapturedInput[u.resourceId])}return t}t=Array.isArray(t)?t:[t];const i=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+i!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-i} non-resource placeholders, while there are ${t.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((a,c)=>{var u,f,p;const g=null===(p=null===(f=null===(u=this.signature)||void 0===u?void 0:u.inputs)||void 0===f?void 0:f[c])||void 0===p?void 0:p.resourceId;return a[c]=null!=g?this.resourceIdToCapturedInput[g]:t[r++],a},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return null==this.initializer?[]:this.initializer.execute({},null==this.initializerSignature?[]:Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){var t=this;return(0,oe.A)(function*(){return null==t.initializer?[]:t.initializer.executeAsync({},null==t.initializerSignature?[]:Object.keys(t.initializerSignature.outputs))})()}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){const e=this.initializerSignature.outputs,i=Object.keys(e);for(let r=0;r<i.length;r++)this.resourceIdToCapturedInput[e[i[r]].resourceId]=t[r]}}execute(t,e){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),e=this.normalizeOutputs(e);const i=this.executor.execute(t,e);return i.length>1?i:i[0]}executeAsync(t,e){var i=this;return(0,oe.A)(function*(){null==i.resourceIdToCapturedInput&&i.setResourceIdToCapturedInput(yield i.executeInitializerGraphAsync()),t=i.normalizeInputs(t),e=i.normalizeOutputs(e);const r=yield i.executor.executeAsync(t,e);return r.length>1?r:r[0]})()}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((e,i)=>(e[i]=[t[i]],e),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Sr(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}function nP(n){return TS.apply(this,arguments)}function TS(){return(TS=(0,oe.A)(function*(n,t={},e=h){if(null==n)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"==typeof n&&(n=function iP(n){return n.endsWith("/")||(n+="/"),`${n}${ck}${eP}`
/** @license See the LICENSE file. */}(n));const i=new tP(n,t,e);return yield i.load(),i})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ms(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Me("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");const FV=c0;let LV=(()=>{class n extends St{nextDataId(){return n.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Nt(this,vl())}write(e,i,r){this.firstUse&&(this.firstUse=!1,we().get("IS_NODE")&&un("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&ci(r[0])){const c=r.map(u=>pu(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return{dataId:a,shape:e,dtype:i}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){this.data.get(e).refCount++}decRef(e){this.data.has(e)&&this.data.get(e).refCount--}move(e,i,r,a,c){this.data.set(e,{values:i,dtype:a,refCount:c})}numDataIds(){return this.data.numDataIds()}read(e){var i=this;return(0,oe.A)(function*(){return i.readSync(e)})()}readSync(e){const{dtype:i,complexTensorInfos:r}=this.data.get(e);return"complex64"===i?hh(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):function zi(n,t){if(Array.isArray(n))return n;if("float32"===t)return n instanceof Float32Array?n:new Float32Array(n);if("int32"===t)return n instanceof Int32Array?n:new Int32Array(n);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(n));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,i)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>Hc(a));return Us(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Us(e.shape,e.dtype,i)}makeOutput(e,i,r){return vl().makeTensorFromTensorInfo(this.makeTensorInfo(i,r,e),this)}disposeData(e,i=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!i&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}time(e){return(0,oe.A)(function*(){const i=Is();return e(),{kernelMs:Is()-i}})()}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){ms([e],"where");const i=this.readSync(e.dataId);return FV(e.shape,i)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}return n.nextDataId=0,n})();
/** @license See the LICENSE file. */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Im(n){return(t,e,i)=>{const r=de(e,t.length);for(let a=0;a<t.length;++a)r[a]=n(t[a],i);return r}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function El(n,t,e){return W_(n,Im(t),e)}function W_(n,t,e){return({inputs:i,attrs:r,backend:a})=>{const{x:c}=i;ms(c,n);const u=a,f=u.data.get(c.dataId).values;let p;if("string"===c.dtype){if(!Array.isArray(f))throw new Error("String tensor's value was not an instance of Array");p=Ef(f)}else p=f;const g=e||c.dtype,y=t(p,g,r);return u.makeTensorInfo(c.shape,g,y)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
Cn("cpu",()=>new LV,1);const y$=El(xa,n=>n>=0?n:Math.exp(n)-1),BV={kernelName:xa,backendName:"cpu",kernelFunc:y$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function km(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const VV={kernelName:hs,backendName:"cpu",kernelFunc:km};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function b$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i;ms([r],"leakyRelu");const c=Ot(r.shape),u=e.data.get(r.dataId).values,f=sn("float32",c);for(let p=0;p<u.length;p++)f[p]=u[p]<0?a*u[p]:u[p];return e.makeTensorInfo(r.shape,"float32",f)}const UV={kernelName:oo,backendName:"cpu",kernelFunc:b$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nu(n){return(t,e,i,r,a)=>{const c=Bs(t,e),u=c.length,f=Bt(c),g=sn(a,Ot(c)),y=t.length,x=e.length,P=Bt(t),j=Bt(e),J=Jl(t,c),G=Jl(e,c);if(J.length+G.length===0)for(let he=0;he<g.length;++he)g[he]=n(i[he%i.length],r[he%r.length]);else for(let he=0;he<g.length;++he){const xe=xt(he,u,f),et=xe.slice(-y);J.forEach(pn=>et[pn]=0);const it=jt(et,y,P),Dt=xe.slice(-x);G.forEach(pn=>Dt[pn]=0);const Yt=jt(Dt,x,j);g[he]=n(i[it],r[Yt])}return[g,c]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zV=nu((n,t)=>n<0?t*n:n);function v$(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t;ms([i,r],"prelu");const a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,[u,f]=zV(i.shape,r.shape,a,c,"float32");return e.makeTensorInfo(f,"float32",u)}const jV={kernelName:K,backendName:"cpu",kernelFunc:v$},w$=El(xs,n=>Math.max(0,n)),WV={kernelName:xs,backendName:"cpu",kernelFunc:w$},x$=El(ro,n=>Math.min(Math.max(0,n),6)),HV={kernelName:ro,backendName:"cpu",kernelFunc:x$},GV=Im(n=>1/(1+Math.exp(-n))),E$=El(ai,n=>1/(1+Math.exp(-n))),KV={kernelName:ai,backendName:"cpu",kernelFunc:E$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wk(n,t,e,i,r){if("linear"===e)return km({inputs:{x:t},backend:n});if("relu"===e)return w$({inputs:{x:t},backend:n});if("elu"===e)return y$({inputs:{x:t},backend:n});if("relu6"===e)return x$({inputs:{x:t},backend:n});if("prelu"===e)return v$({inputs:{x:t,alpha:i},backend:n});if("leakyrelu"===e)return b$({inputs:{x:t},backend:n,attrs:{alpha:r}});if("sigmoid"===e)return E$({inputs:{x:t},backend:n});throw new Error(`Activation ${e} has not been implemented for the CPU backend.`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function vh(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=e.makeTensorInfo(i.shape,"complex64");return e.data.get(u.dataId).complexTensorInfos={real:e.makeTensorInfo(i.shape,"float32",a),imag:e.makeTensorInfo(r.shape,"float32",c)},u}const XV={kernelName:Vt,backendName:"cpu",kernelFunc:vh};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function xk(n,t,e="float32"){if("complex64"===e)return vh({inputs:{real:xk(n,t,"float32"),imag:xk(n,t,"float32")},backend:n});const i=ui(Ot(t),e);return n.makeTensorInfo(t,e,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Gb(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.real,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const qV={kernelName:vi,backendName:"cpu",kernelFunc:Gb};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function C$(n,t,e,i){if("int32"===i)return[t,"int32",Int32Array.from(n)];if("bool"===i){const r=Eo([0],e),[a,c]=nu((u,f)=>u!==f?1:0)(t,[],n,r,"bool");return[c,"bool",a]}throw new Error(`Error in Cast: failed to cast ${e} to ${i}`)}function H_(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return km({inputs:{x:r},backend:e});const g=xk(e,r.shape,r.dtype),y=H_({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),x=vh({inputs:{real:y,imag:g},backend:e});return e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(y),x}if("complex64"===r.dtype){const g=Gb({inputs:{input:r},backend:e}),y=H_({inputs:{x:g},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(g),y}if(!ut(r.dtype,a)){const g=km({inputs:{x:r},backend:e});return{dataId:g.dataId,shape:g.shape,dtype:a}}const c=e.data.get(r.dataId).values,[u,f,p]=C$(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}const YV={kernelName:Ke,backendName:"cpu",kernelFunc:H_};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Tu(n,t,e,i){return null==e?({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;ms([c,u],n);const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,y="string"===c.dtype?Ef(p):p,x="string"===c.dtype?Ef(g):g,P=i||c.dtype,[j,J]=t(c.shape,u.shape,y,x,P);return f.makeTensorInfo(J,P,j)}:({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;if("complex64"===c.dtype||"complex64"===u.dtype){const p=H_({inputs:{x:c},backend:f,attrs:{dtype:"complex64"}}),g=f.data.get(p.dataId),x=g.complexTensorInfos.imag,P=f.data.get(g.complexTensorInfos.real.dataId).values,j=f.data.get(x.dataId).values,J=H_({inputs:{x:u},backend:f,attrs:{dtype:"complex64"}}),G=f.data.get(J.dataId),xe=G.complexTensorInfos.imag,et=f.data.get(G.complexTensorInfos.real.dataId).values,it=f.data.get(xe.dataId).values,[Dt,Yt,pn]=e(c.shape,u.shape,P,j,et,it),bn=f.makeTensorInfo(pn,"float32",Dt),On=f.makeTensorInfo(pn,"float32",Yt),jn=vh({inputs:{real:bn,imag:On},backend:f});return f.disposeIntermediateTensorInfo(p),f.disposeIntermediateTensorInfo(J),f.disposeIntermediateTensorInfo(bn),f.disposeIntermediateTensorInfo(On),jn}{const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,y=i||c.dtype,[x,P]=t(c.shape,u.shape,p,g,y);return f.makeTensorInfo(P,y,x)}}}function vP(n){return(t,e,i,r,a,c)=>{const u=Bs(t,e),f=Ot(u),p=u.length,g=Bt(u),y=sn("float32",f),x=sn("float32",f),P=Jl(t,u),j=Jl(e,u),J=hh(i,r),G=hh(a,c),he=t.length,xe=Bt(t),et=e.length,it=Bt(e);if(P.length+j.length===0)for(let Dt=0;Dt<y.length;Dt++){const Yt=Dt%J.length,pn=Dt%G.length,bn=n(J[2*Yt],J[2*Yt+1],G[2*pn],G[2*pn+1]);y[Dt]=bn.real,x[Dt]=bn.imag}else for(let Dt=0;Dt<y.length;Dt++){const Yt=xt(Dt,p,g),pn=Yt.slice(-he);P.forEach(yi=>pn[yi]=0);const bn=jt(pn,he,xe),On=Yt.slice(-et);j.forEach(yi=>On[yi]=0);const jn=jt(On,et,it),si=n(J[2*bn],J[2*bn+1],G[2*jn],G[2*jn+1]);y[Dt]=si.real,x[Dt]=si.imag}return[y,x,u]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const S$=nu((n,t)=>n+t),QV=vP((n,t,e,i)=>({real:n+e,imag:t+i})),Uw=Tu(Jn,S$,QV),ZV={kernelName:Jn,backendName:"cpu",kernelFunc:Uw};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function nc(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=Ot(r.shape),u=vn(a,c),f=Ot(u);Me(c===f,()=>`The new shape (${u}) has ${f} elements and the old shape (${r.shape}) has ${c} elements. The new shape and old shape must have the same number of elements.`),e.incRef(r.dataId);const p=e.data.get(r.dataId);if(null!=p.complexTensorInfos){const y=p.complexTensorInfos.imag;p.complexTensorInfos.real.shape=u,y.shape=u}return{dataId:r.dataId,shape:u,dtype:r.dtype}}const JV={kernelName:Yr,backendName:"cpu",kernelFunc:nc};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function D$(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;ms([r,a],"matMul");const f=r.shape.length,p=a.shape.length,g=c?r.shape[f-2]:r.shape[f-1],y=u?a.shape[p-1]:a.shape[p-2],x=c?r.shape[f-1]:r.shape[f-2],P=u?a.shape[p-2]:a.shape[p-1],j=r.shape.slice(0,-2),J=a.shape.slice(0,-2),G=Ot(j),he=Ot(J),et=Bs(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([x,P]);Me(g===y,()=>`Error in matMul: inner shapes (${g}) and (${y}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${c} and transposeB=${u} must match.`);const Dt=u?[he,P,y]:[he,y,P],Yt=nc({inputs:{x:r},backend:e,attrs:{shape:c?[G,g,x]:[G,x,g]}}),pn=nc({inputs:{x:a},backend:e,attrs:{shape:Dt}}),bn=c?Yt.shape[1]:Yt.shape[2],On=c?Yt.shape[2]:Yt.shape[1],jn=u?pn.shape[1]:pn.shape[2],si=Math.max(G,he),yi=e.data.get(Yt.dataId).values,Ei=e.data.get(pn.dataId).values,Ci=Bt(Yt.shape),Di=Bt(pn.shape),[Mi,Oi,Ti]=c?[Ci[0],1,Ci[1]]:[Ci[0],Ci[1],1],[Fi,or,ar]=u?[1,Di[1],Di[0]]:[Di[1],1,Di[0]],Cr=On*jn,fr=Us([si,On,jn],Yt.dtype),Lr=fr.values,kr=e.blockSize;for(let es=0;es<si;es++){const Ns=es%G,no=es%he;for(let Qs=0;Qs<On;Qs+=kr){const Vo=Math.min(Qs+kr,On);for(let Ho=0;Ho<jn;Ho+=kr){const Cl=Math.min(Ho+kr,jn);for(let ic=0;ic<bn;ic+=kr){const Vc=Math.min(ic+kr,bn);for(let rc=Qs;rc<Vo;rc++)for(let Bl=Ho;Bl<Cl;Bl++){let Ac=0;for(let wc=ic;wc<Vc;wc++)Ac+=yi[Ns*Mi+rc*Oi+wc*Ti]*Ei[wc*Fi+Bl*or+no*ar];Lr[es*Cr+(rc*jn+Bl)]+=Ac}}}}}return e.disposeIntermediateTensorInfo(Yt),e.disposeIntermediateTensorInfo(pn),e.makeTensorInfo(et,fr.dtype,fr.values)}const eU={kernelName:vr,backendName:"cpu",kernelFunc:D$},nU={kernelName:Tt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tU(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:y}=i;let x,P,j;const J=[];x=D$({inputs:{a:r,b:a},attrs:{transposeA:f,transposeB:p},backend:e}),c&&(P=Uw({inputs:{a:x,b:c},backend:e}),J.push(x),x=P),g&&(j=wk(e,x,g,u,y),J.push(x),x=j);for(const he of J)e.disposeIntermediateTensorInfo(he);return x}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T$(n){const t=new Float32Array(n.length);for(let e=0;e<n.length;++e)t[e]=Math.abs(n[e]);return t}const iU={kernelName:Mt,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend;ms(t,"abs");let i=new Float32Array(Ot(t.shape));return i=T$(e.data.get(t.dataId).values),e.makeOutput(i,t.shape,t.dtype)}},rU=El(hn,n=>Math.acos(n)),sU={kernelName:hn,backendName:"cpu",kernelFunc:rU},oU=El(Kn,n=>Math.acosh(n)),aU={kernelName:Kn,backendName:"cpu",kernelFunc:oU},cU={kernelName:Bi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lU(n){const{inputs:t,backend:e}=n,i=t;ms(t,"addN");const r=i.map(u=>e.data.get(u.dataId).values),a=Us(i[0].shape,i[0].dtype),c=a.values;for(let u=0;u<i.length;u++){const f=r[u];for(let p=0;p<c.length;p++)c[p]+=f[p]}return e.makeTensorInfo(a.shape,a.dtype,a.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wP(n,t,e,i,r){const a=t.length,c=Ot(t),u=Bt(t),f=Bt(r),p=sn(e,Ot(r));for(let g=0;g<c;++g){const y=xt(g,a,u),x=new Array(y.length);for(let j=0;j<x.length;j++)x[j]=y[i[j]];p[jt(x,a,f)]=n[g]}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jd(n){const{inputs:t,attrs:e,backend:i}=n,{x:r}=t,{perm:a}=e;ms(r,"transpose");const u=new Array(r.shape.length);for(let y=0;y<u.length;y++)u[y]=r.shape[a[y]];const p=wP(i.data.get(r.dataId).values,r.shape,r.dtype,a,u);return{dataId:i.write(p,u,r.dtype),shape:u,dtype:r.dtype}}const uU={kernelName:sc,backendName:"cpu",kernelFunc:Jd},hU={kernelName:"All",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;ms(r,"all");const u=wn(a,r.shape);let f=u;const p=ec(f,r.shape.length);let g=r;null!=p&&(g=Jd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=tc(f.length,r.shape.length)),Dc("all",f,g.shape.length);const[y,x]=au(g.shape,f),P=Ot(x),j=ui(Ot(y),g.dtype),J=e.data.get(g.dataId).values;for(let he=0;he<j.length;++he){const xe=he*P;let et=J[xe];for(let it=0;it<P;++it)et=et&&J[xe+it];j[he]=et}null!=p&&e.disposeIntermediateTensorInfo(g);const G=e.makeTensorInfo(y,g.dtype,j);if(c){const xe=nc({inputs:{x:G},backend:e,attrs:{shape:Sc(y,u)}});return e.disposeIntermediateTensorInfo(G),xe}return G}},pU={kernelName:"Any",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;ms(r,"any");const u=wn(a,r.shape);let f=u;const p=ec(f,r.shape.length);let g=r;null!=p&&(g=Jd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=tc(f.length,r.shape.length)),Dc("any",f,g.shape.length);const[y,x]=au(g.shape,f),P=Ot(x),j=ui(Ot(y),g.dtype),J=e.data.get(g.dataId).values;for(let he=0;he<j.length;++he){const xe=he*P;let et=J[xe];for(let it=0;it<P;++it)et=et||J[xe+it];j[he]=et}null!=p&&e.disposeIntermediateTensorInfo(g);const G=e.makeTensorInfo(y,g.dtype,j);if(c){const xe=nc({inputs:{x:G},backend:e,attrs:{shape:Sc(y,u)}});return e.disposeIntermediateTensorInfo(G),xe}return G}},gU={kernelName:br,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;ms(r,"argMax");let c=wn(a,r.shape);const u=ec(c,r.shape.length);let f=r;const p=[];null!=u&&(f=Jd({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=tc(c.length,f.shape.length)),c=[c[0]],Dc("argMax",c,f.shape.length);const[g,y]=au(f.shape,c),P=ui(Ot(g),"int32"),j=Ot(y),J=e.data.get(f.dataId).values;for(let G=0;G<P.length;++G){const he=G*j;let xe=J[he],et=0;for(let it=0;it<j;++it){const Dt=J[he+it];Dt>xe&&(xe=Dt,et=it)}P[G]=et}return p.forEach(G=>e.disposeIntermediateTensorInfo(G)),e.makeTensorInfo(g,"int32",P)}},yU={kernelName:Tr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _U(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;ms(r,"argMin");let c=wn(a,r.shape);const u=ec(c,r.shape.length);let f=r;const p=[];null!=u&&(f=Jd({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=tc(c.length,f.shape.length)),c=[c[0]],Dc("argMin",c,f.shape.length);const[g,y]=au(f.shape,c),P=ui(Ot(g),"int32"),j=Ot(y),J=e.data.get(f.dataId).values;for(let G=0;G<P.length;++G){const he=G*j;let xe=J[he],et=0;for(let it=0;it<j;++it){const Dt=J[he+it];Dt<xe&&(xe=Dt,et=it)}P[G]=et}return p.forEach(G=>e.disposeIntermediateTensorInfo(G)),e.makeTensorInfo(g,"int32",P)}},bU=El(Hi,n=>Math.asin(n)),vU={kernelName:Hi,backendName:"cpu",kernelFunc:bU},wU=El(xr,n=>Math.asinh(n)),xU={kernelName:xr,backendName:"cpu",kernelFunc:wU},EU=El(as,n=>Math.atan(n)),CU={kernelName:as,backendName:"cpu",kernelFunc:EU},SU=nu((n,t)=>Math.atan2(n,t)),DU=Tu(bs,SU),TU={kernelName:bs,backendName:"cpu",kernelFunc:DU},IU=El(ts,n=>Math.atanh(n)),kU={kernelName:ts,backendName:"cpu",kernelFunc:IU};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xP(n,t,e,i,r,a){const c=r.strideHeight,u=r.strideWidth,f=r.dilationHeight,p=r.dilationWidth,g=r.effectiveFilterHeight,y=r.effectiveFilterWidth,x=r.padInfo.top,P=r.padInfo.left,j="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,J=Us(r.outShape,e),G=J.values,he=r.outShape[1]*r.outShape[2]*r.outShape[3],xe=r.outShape[2]*r.outShape[3],et=r.outShape[3];for(let it=0;it<r.batchSize;++it){const Dt=it*he,Yt=it*i[0];for(let pn=0;pn<r.inChannels;++pn)for(let bn=0;bn<r.outHeight;++bn){const On=bn*c-x,jn=Math.max(0,On),si=Math.min(r.inHeight,g+On),yi=Dt+bn*xe;for(let Ei=0;Ei<r.outWidth;++Ei){const Ci=Ei*u-P,Di=Math.max(0,Ci),Mi=Math.min(r.inWidth,y+Ci);let Oi=j,Ti=0,Fi=0;for(let ar=jn;ar<si;ar+=f){const Cr=Yt+ar*i[1];for(let fr=Di;fr<Mi;fr+=p){const kr=n[Cr+fr*i[2]+pn];"max"===a&&kr>Oi?Oi=kr:"avg"===a&&(Ti+=kr,Fi++)}if(isNaN(Oi))break}G[yi+Ei*et+pn]="avg"===a?Ti/Fi:Oi}}}return J}function I$(n,t,e,i,r=!1,a=!1){const c=Us(i.outShape,"int32"),u=i.strideHeight,f=i.strideWidth,p=i.dilationHeight,g=i.dilationWidth,y=i.effectiveFilterHeight,x=i.effectiveFilterWidth,P=i.padInfo.top,j=i.padInfo.left,J=Us(t,e,n);for(let G=0;G<i.batchSize;++G)for(let he=0;he<i.inChannels;++he)for(let xe=0;xe<i.outHeight;++xe){const et=xe*u-P;let it=et;for(;it<0;)it+=p;const Dt=Math.min(i.inHeight,y+et);for(let Yt=0;Yt<i.outWidth;++Yt){const pn=Yt*f-j;let bn=pn;for(;bn<0;)bn+=g;const On=Math.min(i.inWidth,x+pn);let jn=Number.NEGATIVE_INFINITY,si=-1;for(let yi=it;yi<Dt;yi+=p){const Ei=yi-et;for(let Ci=bn;Ci<On;Ci+=g){const Di=Ci-pn,Mi=J.get(G,yi,Ci,he);Mi>jn&&(jn=Mi,si=r?a?((G*i.inHeight+yi)*i.inWidth+Ci)*i.inChannels+he:(yi*i.inWidth+Ci)*i.inChannels+he:Ei*x+Di)}}c.set(si,G,xe,Yt,he)}}return c}function k$(n,t,e,i,r,a){const c=r.strideDepth,u=r.strideHeight,f=r.strideWidth,p=r.dilationDepth,g=r.dilationHeight,y=r.dilationWidth,x=r.effectiveFilterDepth,P=r.effectiveFilterHeight,j=r.effectiveFilterWidth,J=r.padInfo.front,G=r.padInfo.top,he=r.padInfo.left,xe="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,et=Us(r.outShape,e),it=et.values,Dt=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],Yt=r.outShape[2]*r.outShape[3]*r.outShape[4],pn=r.outShape[3]*r.outShape[4],bn=r.outShape[4];for(let On=0;On<r.batchSize;++On){const jn=On*Dt,si=On*i[0];for(let yi=0;yi<r.inChannels;++yi)for(let Ei=0;Ei<r.outDepth;++Ei){const Ci=Ei*c-J;let Di=Ci;for(;Di<0;)Di+=p;const Mi=Math.min(r.inDepth,x+Ci),Oi=jn+Ei*Yt;for(let Ti=0;Ti<r.outHeight;++Ti){const Fi=Ti*u-G;let or=Fi;for(;or<0;)or+=g;const ar=Math.min(r.inHeight,P+Fi),Cr=Oi+Ti*pn;for(let fr=0;fr<r.outWidth;++fr){const Lr=fr*f-he;let kr=Lr;for(;kr<0;)kr+=y;const es=Math.min(r.inWidth,j+Lr),Ns=Cr+fr*bn;let no=xe,Qs=0,Vo=0;for(let Cl=Di;Cl<Mi;Cl+=p){const ic=si+Cl*i[1];for(let Vc=or;Vc<ar;Vc+=g){const rc=ic+Vc*i[2];for(let Bl=kr;Bl<es;Bl+=y){const wc=n[rc+Bl*i[3]+yi];if("max"===a&&wc>no?no=wc:"avg"===a&&(Qs+=wc,Vo++),isNaN(no))break}if(isNaN(no))break}if(isNaN(no))break}it[Ns+yi]="avg"===a?Qs/Math.max(Vo,1):no}}}}return et}const RU={kernelName:Os,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;ms(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Me(su(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Nu(r.shape,a,c,1,u,f);let y;if(1===g.filterWidth&&1===g.filterHeight&&Ae(g.inShape,g.outShape))y=km({inputs:{x:r},backend:e});else{const x=e.data.get(r.dataId).values,P=Bt(r.shape),j=xP(x,0,r.dtype,P,g,"avg");y=e.makeTensorInfo(g.outShape,r.dtype,j.values)}return y}},OU={kernelName:lr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;ms(r,"avgPool3d");const g=oh(r.shape,a,c,1,u,f,p),x=k$(e.data.get(r.dataId).values,0,r.dtype,Bt(r.shape),g,"avg");return e.makeTensorInfo(x.shape,"float32",x.values)}},FU={kernelName:Ir,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PU(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;ms([r,a],"avgPool3DGrad");const g=oh(a.shape,c,u,1,f,p),y=g.strideDepth,x=g.strideHeight,P=g.strideWidth,j=g.filterDepth,J=g.filterHeight,G=g.filterWidth,he=g.dilationDepth,xe=g.dilationHeight,et=g.dilationWidth,it=g.effectiveFilterDepth,Dt=g.effectiveFilterHeight,Yt=g.effectiveFilterWidth,pn=it-1-g.padInfo.front,bn=Yt-1-g.padInfo.left,On=Dt-1-g.padInfo.top,jn=Us(a.shape,"float32"),si=1/(j*J*G),yi=e.bufferSync(r);for(let Ei=0;Ei<g.batchSize;++Ei)for(let Ci=0;Ci<g.inChannels;++Ci)for(let Di=0;Di<g.inDepth;++Di)for(let Mi=0;Mi<g.inHeight;++Mi)for(let Oi=0;Oi<g.inWidth;++Oi){const Ti=Di-pn,Fi=Mi-On,or=Oi-bn;let ar=0;for(let Cr=0;Cr<it;Cr+=he){const fr=(Ti+Cr)/y;if(!(fr<0||fr>=g.outDepth||Math.floor(fr)!==fr))for(let Lr=0;Lr<Dt;Lr+=xe){const kr=(Fi+Lr)/x;if(!(kr<0||kr>=g.outHeight||Math.floor(kr)!==kr))for(let es=0;es<Yt;es+=et){const Ns=(or+es)/P;Ns<0||Ns>=g.outWidth||Math.floor(Ns)!==Ns||(ar+=yi.get(Ei,fr,kr,Ns,Ci))}}}jn.set(ar*si,Ei,Di,Mi,Oi,Ci)}return e.makeTensorInfo(jn.shape,jn.dtype,jn.values)}},$U={kernelName:ds,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LU(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;ms([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Nu(c.shape,u,f,1,p),y=g.strideHeight,x=g.strideWidth,P=g.filterHeight,j=g.filterWidth,J=g.dilationHeight,G=g.dilationWidth,he=g.effectiveFilterHeight,xe=g.effectiveFilterWidth,et=xe-1-g.padInfo.left,it=he-1-g.padInfo.top,Dt=Us(c.shape,"float32"),Yt=1/(P*j),pn=e.data.get(r.dataId).values,bn=Us(r.shape,"float32",pn);for(let On=0;On<g.batchSize;++On)for(let jn=0;jn<g.inChannels;++jn)for(let si=0;si<g.inHeight;++si)for(let yi=0;yi<g.inWidth;++yi){const Ei=si-it,Ci=yi-et;let Di=0;for(let Mi=0;Mi<he;Mi+=J){const Oi=(Ei+Mi)/y;if(!(Oi<0||Oi>=g.outHeight||Math.floor(Oi)!==Oi))for(let Ti=0;Ti<xe;Ti+=G){const Fi=(Ci+Ti)/x;Fi<0||Fi>=g.outWidth||Math.floor(Fi)!==Fi||(Di+=bn.get(On,Oi,Fi,jn))}}Dt.set(Di*Yt,On,si,yi,jn)}return e.makeTensorInfo(Dt.shape,Dt.dtype,Dt.values)}},VU={kernelName:In,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,scale:a,offset:c,mean:u,variance:f}=t;Me(u.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Me(null==c||u.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Me(null==a||u.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),ms([r,u,f,a,c],"batchNorm");let{varianceEpsilon:p}=i;null==p&&(p=.001);const g=e.data.get(r.dataId).values,y=e.data.get(u.dataId).values,x=e.data.get(f.dataId).values,P=a?e.data.get(a.dataId).values:new Float32Array([1]),j=c?e.data.get(c.dataId).values:new Float32Array([0]),J=new Float32Array(g.length),G=j.length,he=P.length,xe=x.length,et=y.length;let it=0,Dt=0,Yt=0,pn=0;for(let bn=0;bn<g.length;++bn)J[bn]=j[it++]+(g[bn]-y[Dt++])*P[Yt++]/Math.sqrt(x[pn++]+p),it>=G&&(it=0),Dt>=et&&(Dt=0),Yt>=he&&(Yt=0),pn>=xe&&(pn=0);return e.makeTensorInfo(r.shape,r.dtype,J)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function A$(n,t,e,i,r){const a=Kg(i,t,e),c=Ot(e),u=Bt(i);if(a){const y=Wp(t,u);return"string"===r?n.slice(y,y+c):n.subarray(y,y+c)}const p=Us(i,r,"string"===r?Ef(n):n),g=Us(e,r);for(let y=0;y<g.size;++y){const x=g.indexToLoc(y),P=x.map((j,J)=>j+t[J]);g.set(p.get(...P),...x)}return"string"===r?OT(g.values):g.values}function Kb(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i;ms(r,"slice");const[u,f]=Bm(r,a,c);Up(r,u,f);const g=A$(e.data.get(r.dataId).values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,g)}const UU={kernelName:Hn,backendName:"cpu",kernelFunc:Kb},jU={kernelName:tr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;ms([r],"batchToSpaceND");const u=a.reduce((he,xe)=>he*xe),f=pg(r.shape,a,u),p=rb(f.length,a.length),g=w_(r.shape,a,u),y=xE(c,a.length),x=v0(g,c,a.length),P=nc({inputs:{x:r},backend:e,attrs:{shape:f}}),j=Jd({inputs:{x:P},backend:e,attrs:{perm:p}}),J=nc({inputs:{x:j},backend:e,attrs:{shape:g}}),G=Kb({inputs:{x:J},backend:e,attrs:{begin:y,size:x}});return e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),e.disposeIntermediateTensorInfo(J),G}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EP(n,t,e,i,r){const a=Ot(i),c=ui(r,e);for(let u=0;u<n.length;u++){const f=n[u];if(f<0)throw new Error("Input x must be non-negative!");f>=r||(c[f]+=a>0?t[u]:1)}return c}function M$(n,t,e,i=!1){const r=n.shape[0],a=n.shape[1],c=Us([r,e],t.dtype);for(let u=0;u<r;u++)for(let f=0;f<a;f++){const p=n.get(u,f);if(p<0)throw new Error("Input x must be non-negative!");p>=e||c.set(i?1:t.size>0?c.get(u,p)+t.get(u,f):c.get(u,p)+1,u,p)}return c}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const HU={kernelName:xi,backendName:"cpu",kernelFunc:function WU(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,p=EP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},R$=nu((n,t)=>n&t),GU=Tu(He,R$),KU={kernelName:He,backendName:"cpu",kernelFunc:GU},qU={kernelName:H,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XU(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=Bs(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},N$=Im(n=>Math.ceil(n)),YU=W_(ze,N$),QU={kernelName:ze,backendName:"cpu",kernelFunc:YU},ZU=El(kt,(n,t)=>n>t.clipValueMax?t.clipValueMax:n<t.clipValueMin?t.clipValueMin:n),JU={kernelName:kt,backendName:"cpu",kernelFunc:ZU},ez={kernelName:mi,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend,i=new Float32Array(Ot(t.shape)),r=e.data.get(t.dataId),c=r.complexTensorInfos.imag,u=e.data.get(r.complexTensorInfos.real.dataId).values,f=e.data.get(c.dataId).values;for(let p=0;p<u.length;p++)i[p]=Math.hypot(u[p],f[p]);return e.makeOutput(i,t.shape,"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function O$(n,t,e,i){const r=de(e,Ot(t));if(i&&"string"!==e){let a=0;n.forEach(c=>{const u=Ot(c.shape);r.set(c.vals,a),a+=u})}else{let a=0;n.forEach(c=>{const u="string"===e?Ef(c.vals):c.vals;let f=0;for(let p=0;p<c.shape[0];++p){const g=p*t[1]+a;for(let y=0;y<c.shape[1];++y)r[g+y]=u[f++]}a+=c.shape[1]})}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zw(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.imag,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const tz={kernelName:Ms,backendName:"cpu",kernelFunc:zw};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function jw(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wn(r,t[0].shape)[0];vE(t.map(J=>J.shape),a);let u=wf(t.map(J=>J.shape),a);if(0===Ot(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(J=>Ot(J.shape)>0);if(1===f.length)return km({inputs:{x:f[0]},backend:e});if("complex64"===f[0].dtype){const J=f.map(it=>Gb({inputs:{input:it},backend:e})),G=f.map(it=>zw({inputs:{input:it},backend:e})),he=jw({inputs:J,backend:e,attrs:{axis:a}}),xe=jw({inputs:G,backend:e,attrs:{axis:a}}),et=vh({inputs:{real:he,imag:xe},backend:e});return J.forEach(it=>e.disposeIntermediateTensorInfo(it)),G.forEach(it=>e.disposeIntermediateTensorInfo(it)),e.disposeIntermediateTensorInfo(he),e.disposeIntermediateTensorInfo(xe),et}const p=f.map(J=>{const he=[-1,Ot(J.shape.slice(a))];return nc({inputs:{x:J},backend:e,attrs:{shape:he}})}),g=p.map(J=>({vals:e.data.get(J.dataId).values,shape:J.shape}));u=wf(p.map(J=>J.shape),1);const x=O$(g,u,t[0].dtype,1===p[0].shape[0]),P=wf(f.map(J=>J.shape),a),j=e.makeTensorInfo(P,t[0].dtype,x);return p.forEach(J=>e.disposeIntermediateTensorInfo(J)),j}const nz={kernelName:Zi,backendName:"cpu",kernelFunc:jw};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function P$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i;ms([r,a],"conv2d");const y=qc(f),x=ia(r.shape,a.shape,c,p,u,g,!1,y),P=x.filterHeight,j=x.filterWidth,J=x.dilationHeight,G=x.dilationWidth,he=x.padInfo.left,xe=x.padInfo.top,et="channelsLast"===x.dataFormat,it=new nl(x.outShape,r.dtype),Dt=Bt(r.shape),Yt=Bt(a.shape),pn=Dt[0],bn=et?Dt[1]:Dt[2],On=et?Dt[2]:1,jn=et?1:Dt[1],si=it.strides[0],yi=et?it.strides[1]:it.strides[2],Ei=et?it.strides[2]:1,Ci=et?1:it.strides[1],Di=e.data.get(r.dataId).values,Mi=e.data.get(a.dataId).values,Oi=it.values;for(let Ti=0;Ti<x.batchSize;++Ti){const Fi=Ti*pn,or=Ti*si;for(let ar=0;ar<x.outHeight;++ar){const Cr=or+ar*yi,fr=ar*x.strideHeight-xe;for(let Lr=0;Lr<P;++Lr){const kr=fr+Lr*J;if(kr<0||kr>=x.inHeight)continue;const es=Lr*Yt[0],Ns=Fi+kr*bn;for(let no=0;no<x.outWidth;++no){const Qs=Cr+no*Ei,Vo=no*x.strideWidth-he;for(let Ho=0;Ho<j;++Ho){const Cl=Vo+Ho*G;if(Cl<0||Cl>=x.inWidth)continue;const Vc=Ns+Cl*On;let rc=es+Ho*Yt[1];for(let Bl=0;Bl<x.inChannels;++Bl){const Ac=Di[Vc+Bl*jn];for(let wc=0;wc<x.outChannels;++wc)Oi[Qs+wc*Ci]+=Ac*Mi[rc+wc];rc+=x.outChannels}}}}}}return e.makeTensorInfo(it.shape,it.dtype,Oi)}const iz={kernelName:cr,backendName:"cpu",kernelFunc:P$},sz={kernelName:ns,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i;ms([r,a],"conv2dBackpropFilter");const y=qc(f),x=ia(r.shape,g,c,1,u,p,!1,y),{strideHeight:P,strideWidth:j,filterHeight:J,filterWidth:G}=x,he="channelsLast"===x.dataFormat,xe=new nl(x.filterShape,"float32"),et=x.padInfo.left,it=x.padInfo.top,Dt=e.data.get(r.dataId).values,Yt=e.data.get(a.dataId).values,pn=new nl(r.shape,r.dtype,Dt),bn=new nl(a.shape,a.dtype,Yt);for(let On=0;On<J;++On){const jn=Math.max(0,Math.ceil((it-On)/P)),si=Math.min(x.outHeight,(x.inHeight+it-On)/P);for(let yi=0;yi<G;++yi){const Ei=Math.max(0,Math.ceil((et-yi)/j)),Ci=Math.min(x.outWidth,(x.inWidth+et-yi)/j);for(let Di=0;Di<x.inChannels;++Di)for(let Mi=0;Mi<x.outChannels;++Mi){let Oi=0;for(let Ti=0;Ti<x.batchSize;++Ti)for(let Fi=jn;Fi<si;++Fi){const or=On+Fi*P-it;for(let ar=Ei;ar<Ci;++ar){const Cr=yi+ar*j-et;Oi+=he?pn.get(Ti,or,Cr,Di)*bn.get(Ti,Fi,ar,Mi):pn.get(Ti,Di,or,Cr)*bn.get(Ti,Mi,Fi,ar)}}xe.set(Oi,On,yi,Di,Mi)}}}return e.makeTensorInfo(xe.shape,xe.dtype,xe.values)}},az={kernelName:Jr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i;ms([r,a],"conv2dBackpropInput");const y=Bt(a.shape),x=Bt(r.shape);let P=qc(p);const j=ia(c,a.shape,u,1,f,g,!1,P),J=new nl(j.inShape,"float32"),G=J.values,he=e.data.get(r.dataId).values,xe=e.data.get(a.dataId).values,[et,it,Dt]=y,{batchSize:Yt,filterHeight:pn,filterWidth:bn,inChannels:On,inHeight:jn,inWidth:si,outChannels:yi,outHeight:Ei,outWidth:Ci,strideHeight:Di,strideWidth:Mi}=j;P=j.dataFormat;const Oi=pn-1-j.padInfo.top,Ti=bn-1-j.padInfo.left,Fi="channelsLast"===P,or=J.strides[0],ar=Fi?J.strides[1]:J.strides[2],Cr=Fi?J.strides[2]:1,fr=Fi?1:J.strides[1],Lr=x[0],kr=Fi?x[1]:x[2],es=Fi?x[2]:1,Ns=Fi?1:x[1];for(let no=0;no<Yt;++no)for(let Qs=0;Qs<On;++Qs)for(let Vo=0;Vo<jn;++Vo){const Ho=Vo-Oi,Cl=Math.max(0,Math.ceil(Ho/Di)),ic=Math.min(Ei,(pn+Ho)/Di);for(let Vc=0;Vc<si;++Vc){const rc=Vc-Ti,Bl=Math.max(0,Math.ceil(rc/Mi)),Ac=Math.min(Ci,(bn+rc)/Mi);let wc=0;for(let Qu=Cl;Qu<ic;++Qu){const Y_=Qu*Di-Ho;for(let Jh=Bl;Jh<Ac;++Jh){const xp=Lr*no+kr*Qu+es*Jh,Ng=et*(pn-1-Y_)+it*(bn-1-(Jh*Mi-rc))+Dt*Qs;for(let Q_=0;Q_<yi;++Q_)wc+=he[xp+Ns*Q_]*xe[Ng+Q_]}}G[or*no+ar*Vo+Cr*Vc+fr*Qs]=wc}}return e.makeTensorInfo(J.shape,J.dtype,J.values)}},cz={kernelName:is,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i;ms([r,a],"conv3d");const p=Qf(r.shape,a.shape,c,f,u),{filterDepth:g,filterHeight:y,filterWidth:x,dilationDepth:P,dilationHeight:j,dilationWidth:J,padInfo:G}=p,he=G.front,xe=G.left,et=G.top,it=new nl(p.outShape,r.dtype),Dt=e.data.get(r.dataId).values,Yt=e.data.get(a.dataId).values,pn=it.values,bn=Bt(r.shape),On=Bt(a.shape);for(let jn=0;jn<p.batchSize;++jn){const si=jn*bn[0],yi=jn*it.strides[0];for(let Ei=0;Ei<p.outDepth;++Ei){const Ci=yi+Ei*it.strides[1],Di=Ei*p.strideDepth-he;for(let Mi=0;Mi<g;++Mi){const Oi=Di+Mi*P;if(Oi<0||Oi>=p.inDepth)continue;const Ti=Mi*On[0],Fi=si+Oi*bn[1];for(let or=0;or<p.outHeight;++or){const ar=Ci+or*it.strides[2],Cr=or*p.strideHeight-et;for(let fr=0;fr<y;++fr){const Lr=Cr+fr*j;if(Lr<0||Lr>=p.inHeight)continue;const kr=Ti+fr*On[1],es=Fi+Lr*bn[2];for(let Ns=0;Ns<p.outWidth;++Ns){const no=ar+Ns*p.outChannels,Qs=Ns*p.strideWidth-xe;for(let Vo=0;Vo<x;++Vo){const Ho=Qs+Vo*J;if(Ho<0||Ho>=p.inWidth)continue;const ic=es+Ho*p.inChannels;let Vc=kr+Vo*On[2];for(let rc=0;rc<p.inChannels;++rc){const Bl=Dt[ic+rc];for(let Ac=0;Ac<p.outChannels;++Ac)pn[no+Ac]+=Bl*Yt[Vc+Ac];Vc+=p.outChannels}}}}}}}}return e.makeTensorInfo(it.shape,it.dtype,it.values)}},dz={kernelName:Es,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i;ms([r,a],"conv3dBackpropFilterV2");const p=Bt(r.shape),g=Bt(a.shape),y=Qf(r.shape,f,c,1,u),x=y.strideDepth,P=y.strideHeight,j=y.strideWidth,J=y.filterDepth,G=y.filterHeight,he=y.filterWidth,xe=new nl(y.filterShape,"float32"),et=xe.values,[it,Dt,Yt,pn]=xe.strides,bn=e.data.get(a.dataId).values,[On,jn,si,yi]=g,Ei=e.data.get(r.dataId).values,[Ci,Di,Mi,Oi]=p,Ti=y.padInfo.front,Fi=y.padInfo.left,or=y.padInfo.top;for(let ar=0;ar<J;++ar){const Cr=Math.max(0,Math.ceil((Ti-ar)/x)),fr=Math.min(y.outDepth,(y.inDepth+Ti-ar)/x),Lr=ar*it;for(let kr=0;kr<G;++kr){const es=Math.max(0,Math.ceil((or-kr)/P)),Ns=Math.min(y.outHeight,(y.inHeight+or-kr)/P),no=kr*Dt+Lr;for(let Qs=0;Qs<he;++Qs){const Vo=Math.max(0,Math.ceil((Fi-Qs)/j)),Ho=Math.min(y.outWidth,(y.inWidth+Fi-Qs)/j),Cl=Qs*Yt+no;for(let ic=0;ic<y.inChannels;++ic){const Vc=ic*pn+Cl;for(let rc=0;rc<y.outChannels;++rc){let Bl=0;for(let Ac=0;Ac<y.batchSize;++Ac){const wc=Ac*Ci,Rg=Ac*On;for(let Qu=Cr;Qu<fr;++Qu){const Jh=(ar+Qu*x-Ti)*Di+wc,tv=Qu*jn+Rg;for(let xp=es;xp<Ns;++xp){const Q_=(kr+xp*P-or)*Mi+Jh,Z_=xp*si+tv;for(let J_=Vo;J_<Ho;++J_)Bl+=Ei[(Qs+J_*j-Fi)*Oi+Q_+ic]*bn[J_*yi+Z_+rc]}}}et[Vc+rc]=Bl}}}}}return e.makeTensorInfo(xe.shape,xe.dtype,xe.values)}},fz={kernelName:to,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i;ms([r],"conv3dBackpropInputV2");const p=Bt(r.shape),g=Bt(a.shape),y=Qf(f,a.shape,u,1,c),x=new nl(y.inShape,"float32"),P=x.values,[j,J,G,he]=x.strides,xe=e.data.get(r.dataId).values,[et,it,Dt,Yt]=p,pn=e.data.get(a.dataId).values,[bn,On,jn,si]=g,{batchSize:yi,filterDepth:Ei,filterHeight:Ci,filterWidth:Di,inChannels:Mi,inDepth:Oi,inHeight:Ti,inWidth:Fi,outChannels:or,outDepth:ar,outHeight:Cr,outWidth:fr,strideDepth:Lr,strideHeight:kr,strideWidth:es}=y,Ns=Ei-1-y.padInfo.front,no=Ci-1-y.padInfo.top,Qs=Di-1-y.padInfo.left;for(let Vo=0;Vo<yi;++Vo)for(let Ho=0;Ho<Mi;++Ho)for(let Cl=0;Cl<Oi;++Cl){const ic=Cl-Ns,Vc=Math.max(0,Math.ceil(ic/Lr)),rc=Math.min(ar,(Ei+ic)/Lr);for(let Bl=0;Bl<Ti;++Bl){const Ac=Bl-no,wc=Math.max(0,Math.ceil(Ac/kr)),Rg=Math.min(Cr,(Ci+Ac)/kr);for(let Qu=0;Qu<Fi;++Qu){const Y_=Qu-Qs,Jh=Math.max(0,Math.ceil(Y_/es)),tv=Math.min(fr,(Di+Y_)/es);let xp=0;for(let Ng=Vc;Ng<rc;++Ng){const Q_=Ng*Lr-ic;for(let Z_=wc;Z_<Rg;++Z_){const J_=Z_*kr-Ac;for(let US=Jh;US<tv;++US){const qP=et*Vo+it*Ng+Dt*Z_+Yt*US,cZ=bn*(Ei-1-Q_)+On*(Ci-1-J_)+jn*(Di-1-(US*es-Y_))+si*Ho;for(let qk=0;qk<or;++qk)xp+=xe[qP+qk]*pn[cZ+qk]}}}P[j*Vo+J*Cl+G*Bl+he*Qu+Ho]=xp}}}return e.makeTensorInfo(x.shape,x.dtype,x.values)}},pz=El(Gr,n=>Math.cos(n)),mz={kernelName:Gr,backendName:"cpu",kernelFunc:pz},gz=El(rs,n=>Math.cosh(n)),_z={kernelName:rs,backendName:"cpu",kernelFunc:gz},bz={kernelName:Ur,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yz(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,[g,y,x,P]=r.shape,j=a.shape[0],[J,G]=u,he=Us([j,J,G,P],"float32"),xe=e.data.get(a.dataId).values,et=e.data.get(c.dataId).values,it=e.data.get(r.dataId).values,Dt=Bt(r.shape),Yt=Bt(he.shape);for(let pn=0;pn<j;pn++){const bn=4*pn,On=xe[bn],jn=xe[bn+1],si=xe[bn+2],yi=xe[bn+3],Ei=et[pn];if(Ei>=g)continue;const Ci=J>1?(si-On)*(y-1)/(J-1):0,Di=G>1?(yi-jn)*(x-1)/(G-1):0;for(let Mi=0;Mi<J;Mi++){const Oi=J>1?On*(y-1)+Mi*Ci:.5*(On+si)*(y-1);if(Oi<0||Oi>y-1)for(let Ti=0;Ti<G;Ti++)for(let Fi=0;Fi<P;Fi++)he.values[Fi+Ti*Yt[2]+Mi*Yt[1]+pn*Yt[0]]=p;else if("bilinear"===f){const Ti=Math.floor(Oi),Fi=Math.ceil(Oi),or=Oi-Ti;for(let ar=0;ar<G;ar++){const Cr=G>1?jn*(x-1)+ar*Di:.5*(jn+yi)*(x-1);if(Cr<0||Cr>x-1){for(let es=0;es<P;es++)he.values[es+ar*Yt[2]+Mi*Yt[1]+pn*Yt[0]]=p;continue}const fr=Math.floor(Cr),Lr=Math.ceil(Cr),kr=Cr-fr;for(let es=0;es<P;es++){let Ns=es+fr*Dt[2]+Ti*Dt[1]+Ei*Dt[0];const no=it[Ns];Ns=es+Lr*Dt[2]+Ti*Dt[1]+Ei*Dt[0];const Qs=it[Ns];Ns=es+fr*Dt[2]+Fi*Dt[1]+Ei*Dt[0];const Vo=it[Ns];Ns=es+Lr*Dt[2]+Fi*Dt[1]+Ei*Dt[0];const Ho=it[Ns],Cl=no+(Qs-no)*kr;Ns=es+ar*Yt[2]+Mi*Yt[1]+pn*Yt[0],he.values[Ns]=Cl+(Vo+(Ho-Vo)*kr-Cl)*or}}}else for(let Ti=0;Ti<G;++Ti){const Fi=G>1?jn*(x-1)+Ti*Di:.5*(jn+yi)*(x-1);if(Fi<0||Fi>x-1){for(let Cr=0;Cr<P;Cr++)he.values[Cr+Ti*Yt[2]+Mi*Yt[1]+pn*Yt[0]]=p;continue}const or=Math.round(Fi),ar=Math.round(Oi);for(let Cr=0;Cr<P;Cr++)he.values[Cr+Ti*Yt[2]+Mi*Yt[1]+pn*Yt[0]]=it[Cr+or*Dt[2]+ar*Dt[1]+Ei*Dt[0]]}}}return e.makeTensorInfo(he.shape,he.dtype,he.values)}},wz={kernelName:gs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;ms(r,"cumprod");const f=ec([a],r.shape.length);let p=r;null!=f&&(p=Jd({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=tc(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const y=Yi(p.dtype,"int32"),x=Vn(Ot(p.shape),y),P=e.data.get(p.dataId).values,j=p.shape[p.shape.length-1],J=u?(he,xe)=>he+j-xe-1:(he,xe)=>he+xe;for(let he=0;he<P.length;he+=j)for(let xe=0;xe<j;xe++){const et=J(he,xe);if(0===xe)x[et]=c?1:P[et];else{const it=J(he,xe-1);x[et]=c?P[it]*x[it]:P[et]*x[it]}}const G=e.makeTensorInfo(p.shape,y,x);if(null!=f){const xe=Jd({inputs:{x:G},backend:e,attrs:{perm:jh(f)}});return e.disposeIntermediateTensorInfo(G),e.disposeIntermediateTensorInfo(p),xe}return G}},Ez={kernelName:Bo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;ms(r,"cumsum");const f=ec([a],r.shape.length);let p=r;null!=f&&(p=Jd({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=tc(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const y=Yi(p.dtype,"int32"),x=ui(Ot(p.shape),y),P=e.data.get(p.dataId).values,j=p.shape[p.shape.length-1],J=u?(he,xe)=>he+j-xe-1:(he,xe)=>he+xe;for(let he=0;he<P.length;he+=j)for(let xe=0;xe<j;xe++){const et=J(he,xe);if(0===xe)x[et]=c?0:P[et];else{const it=J(he,xe-1);x[et]=c?P[it]+x[it]:P[et]+x[it]}}const G=e.makeTensorInfo(p.shape,y,x);if(null!=f){const xe=Jd({inputs:{x:G},backend:e,attrs:{perm:jh(f)}});return e.disposeIntermediateTensorInfo(G),e.disposeIntermediateTensorInfo(p),xe}return G}},Sz={kernelName:Go,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const g=EP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const g=M$(e.bufferSync(r),e.bufferSync(a),c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}},Tz={kernelName:wo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i;Me("NHWC"===c,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${c}`);const u=r.shape[0],f=r.shape[1],p=r.shape[2],g=r.shape[3],y=f*a,x=p*a,P=g/(a*a),j=e.data.get(r.dataId).values,J=new Float32Array(u*y*x*P);let G=0;for(let he=0;he<u;++he)for(let xe=0;xe<y;++xe){const et=Math.floor(xe/a),it=xe%a;for(let Dt=0;Dt<x;++Dt){const Yt=Math.floor(Dt/a),bn=(it*a+Dt%a)*P;for(let On=0;On<P;++On)J[G++]=j[On+bn+g*(Yt+p*(et+f*he))]}}return e.makeTensorInfo([u,y,x,P],r.dtype,J)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function F$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;ms([r,a],"depthwiseConv2DNative");const g=Bt(r.shape),y=Bt(a.shape);let x=f;null==x&&(x=[1,1]),Me(su(c,x),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${x}'`);const P=ia(r.shape,a.shape,c,x,u,p,!0),{filterHeight:j,filterWidth:J,dilationHeight:G,dilationWidth:he,padInfo:xe}=P,et=xe.left,it=xe.top,Dt=P.outChannels/P.inChannels,Yt=new nl(P.outShape,r.dtype),pn=e.data.get(r.dataId).values,bn=e.data.get(a.dataId).values,On=Yt.values;for(let jn=0;jn<P.batchSize;++jn){const si=jn*g[0],yi=jn*Yt.strides[0];for(let Ei=0;Ei<P.outHeight;++Ei){const Ci=yi+Ei*Yt.strides[1],Di=Ei*P.strideHeight-it;for(let Mi=0;Mi<j;++Mi){const Oi=Di+Mi*G;if(Oi<0||Oi>=P.inHeight)continue;const Ti=Mi*y[0],Fi=si+Oi*g[1];for(let or=0;or<P.outWidth;++or){const ar=Ci+or*Yt.strides[2],Cr=or*P.strideWidth-et;for(let fr=0;fr<J;++fr){const Lr=Cr+fr*he;if(Lr<0||Lr>=P.inWidth)continue;const es=Fi+Lr*P.inChannels;let Ns=ar,no=Ti+fr*y[1];for(let Qs=0;Qs<P.inChannels;++Qs){const Vo=pn[es+Qs];for(let Ho=0;Ho<Dt;++Ho)On[Ns+Ho]+=Vo*bn[no+Ho];Ns+=Dt,no+=Dt}}}}}}return e.makeTensorInfo(Yt.shape,Yt.dtype,Yt.values)}const Iz={kernelName:Ko,backendName:"cpu",kernelFunc:F$},Az={kernelName:rl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i;ms([r,a],"depthwiseConv2dNativeBackpropFilter");const y=ia(r.shape,g,c,u,f,p,!0),{strideHeight:x,strideWidth:P,filterHeight:j,filterWidth:J}=y,G=new nl(y.filterShape,"float32"),he=y.padInfo.left,xe=y.padInfo.top,et=y.outChannels/y.inChannels,it=e.data.get(r.dataId).values,Dt=new nl(r.shape,r.dtype,it),Yt=e.data.get(a.dataId).values,pn=new nl(a.shape,a.dtype,Yt);for(let bn=0;bn<j;++bn){const On=Math.max(0,Math.ceil((xe-bn)/x)),jn=Math.min(y.outHeight,(y.inHeight+xe-bn)/x);for(let si=0;si<J;++si){const yi=Math.max(0,Math.ceil((he-si)/P)),Ei=Math.min(y.outWidth,(y.inWidth+he-si)/P);for(let Ci=0;Ci<y.outChannels;++Ci){const Di=Math.trunc(Ci/et),Mi=Ci%et;let Oi=0;for(let Ti=0;Ti<y.batchSize;++Ti)for(let Fi=On;Fi<jn;++Fi){const or=bn+Fi*x-xe;for(let ar=yi;ar<Ei;++ar)Oi+=Dt.get(Ti,or,si+ar*P-he,Di)*pn.get(Ti,Fi,ar,Ci)}G.set(Oi,bn,si,Di,Mi)}}}return e.makeTensorInfo(G.shape,G.dtype,G.values)}},Rz={kernelName:$a,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Mz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i;ms([r,a],"depthwiseConv2DNativeBackpropInput");const y=Bt(r.shape),x=Bt(a.shape),P=ia(g,a.shape,c,u,f,p,!0),j=new nl(P.inShape,"float32"),J=j.values,[G,he,xe]=j.strides,et=e.data.get(r.dataId).values,[it,Dt,Yt]=y,pn=e.data.get(a.dataId).values,[bn,On,jn]=x,{batchSize:si,filterHeight:yi,filterWidth:Ei,inChannels:Ci,inHeight:Di,inWidth:Mi,outChannels:Oi,outHeight:Ti,outWidth:Fi,strideHeight:or,strideWidth:ar}=P,Cr=yi-1-P.padInfo.top,fr=Ei-1-P.padInfo.left,Lr=Oi/Ci;for(let kr=0;kr<si;++kr)for(let es=0;es<Ci;++es)for(let Ns=0;Ns<Di;++Ns){const no=Ns-Cr,Qs=Math.max(0,Math.ceil(no/or)),Vo=Math.min(Ti,(yi+no)/or);for(let Ho=0;Ho<Mi;++Ho){const Cl=Ho-fr,ic=Math.max(0,Math.ceil(Cl/ar)),Vc=Math.min(Fi,(Ei+Cl)/ar);let rc=0;for(let Bl=Qs;Bl<Vo;++Bl){const Ac=Bl*or-no;for(let wc=ic;wc<Vc;++wc){const Qu=it*kr+Dt*Bl+Yt*wc,Y_=bn*(yi-1-Ac)+On*(Ei-1-(wc*ar-Cl))+jn*es;for(let Jh=0;Jh<Lr;++Jh)rc+=et[Qu+(es*Lr+Jh)]*pn[Y_+Jh]}}J[G*kr+he*Ns+xe*Ho+es]=rc}}return e.makeTensorInfo(j.shape,j.dtype,j.values)}},Oz={kernelName:qa,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Nz(n){const{inputs:t,backend:e}=n,{x:i}=t,r=Ot(i.shape),a=e.data.get(i.dataId).values,c=Us([r,r],i.dtype),u=c.values;for(let p=0;p<a.length;p++)u[p*r+p]=a[p];const f=[...i.shape,...i.shape];return e.makeTensorInfo(f,c.dtype,c.values)}},Pz={kernelName:Jo,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r}=n,{strides:a,pad:c,dilations:u}=e,f=t,p=f.data.get(i.dataId).values,g=i.shape.length,y=f.data.get(r.dataId).values,x=r.shape.length,{batchSize:P,inHeight:j,inWidth:J,inChannels:G,outHeight:he,outWidth:xe,padInfo:et,strideHeight:it,strideWidth:Dt,filterHeight:Yt,filterWidth:pn,dilationHeight:bn,dilationWidth:On,outShape:jn}=Jg(i.shape,r.shape,a,c,"NHWC",u),si=Ot(jn),yi=jn.length,Ei=de(i.dtype,si);for(let Di=0;Di<P;++Di)for(let Mi=0;Mi<he;++Mi){const Oi=Mi*it-et.top;for(let Ti=0;Ti<xe;++Ti){const Fi=Ti*Dt-et.left;for(let or=0;or<G;++or){let ar=Number.MIN_SAFE_INTEGER;for(let fr=0;fr<Yt;++fr){const Lr=Oi+fr*bn;if(Lr>=0&&Lr<j)for(let kr=0;kr<pn;++kr){const es=Fi+kr*On;if(es>=0&&es<J){const Ns=jt([Di,Lr,es,or],g,Bt(i.shape)),no=jt([fr,kr,or],x,Bt(r.shape)),Qs=p[Ns]+y[no];Qs>ar&&(ar=Qs)}}}Ei[jt([Di,Mi,Ti,or],yi,Bt(jn))]=ar}}}return{dataId:f.write(Eo(Ei,i.dtype),jn,i.dtype),shape:jn,dtype:i.dtype}}},Fz={kernelName:Ba,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Xn(i.shape,p.data.get(i.dataId).values),y=Xn(r.shape,p.data.get(r.dataId).values),{batchSize:x,inHeight:P,inWidth:j,inChannels:J,outHeight:G,outWidth:he,padInfo:xe,strideHeight:et,strideWidth:it,filterHeight:Dt,filterWidth:Yt,dilationHeight:pn,dilationWidth:bn,outShape:On}=Jg(i.shape,r.shape,c,u,"NHWC",f);Me(a.rank===On.length,()=>`Error in ${Ba}, dy must have the same rank as output ${On.length}, but got ${a.rank}`);const jn=Xn(On,p.data.get(a.dataId).values),si=Pn(r.shape,r.dtype);for(let Ei=0;Ei<x;++Ei)for(let Ci=0;Ci<G;++Ci){const Di=Ci*et-xe.top;for(let Mi=0;Mi<he;++Mi){const Oi=Mi*it-xe.left;for(let Ti=0;Ti<J;++Ti){let Fi=Number.MIN_SAFE_INTEGER,or=0,ar=0;for(let Cr=0;Cr<Dt;++Cr){const fr=Di+Cr*pn;if(fr>=0&&fr<P)for(let Lr=0;Lr<Yt;++Lr){const kr=Oi+Lr*bn;if(kr>=0&&kr<j){const es=g[Ei][fr][kr][Ti]+y[Cr][Lr][Ti];es>Fi&&(Fi=es,or=Cr,ar=Lr)}}}si[or][ar][Ti]+=jn[Ei][Ci][Mi][Ti]}}}return{dataId:p.write(Eo(si,i.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Lz={kernelName:co,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Xn(i.shape,p.data.get(i.dataId).values),y=Xn(r.shape,p.data.get(r.dataId).values),{batchSize:x,inHeight:P,inWidth:j,inChannels:J,outHeight:G,outWidth:he,padInfo:xe,strideHeight:et,strideWidth:it,filterHeight:Dt,filterWidth:Yt,dilationHeight:pn,dilationWidth:bn,outShape:On}=Jg(i.shape,r.shape,c,u,"NHWC",f);Me(a.rank===On.length,()=>`Error in ${co}, dy must have the same rank as output ${On.length}, but got ${a.rank}`);const jn=Xn(On,p.data.get(a.dataId).values),si=Pn(i.shape,i.dtype);for(let Ei=0;Ei<x;++Ei)for(let Ci=0;Ci<G;++Ci){const Di=Ci*et-xe.top;for(let Mi=0;Mi<he;++Mi){const Oi=Mi*it-xe.left;for(let Ti=0;Ti<J;++Ti){let Fi=Number.MIN_SAFE_INTEGER,or=Di<0?0:Di,ar=Oi<0?0:Oi;for(let Cr=0;Cr<Dt;++Cr){const fr=Di+Cr*pn;if(fr>=0&&fr<P)for(let Lr=0;Lr<Yt;++Lr){const kr=Oi+Lr*bn;if(kr>=0&&kr<j){const es=g[Ei][fr][kr][Ti]+y[Cr][Lr][Ti];es>Fi&&(Fi=es,or=fr,ar=kr)}}}si[Ei][or][ar][Ti]+=jn[Ei][Ci][Mi][Ti]}}}return{dataId:p.write(Eo(si,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Bz={kernelName:Gl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $z(n){const{inputs:t,backend:e,attrs:i}=n,{image:r}=t,{canvas:a,options:c}=i,{contextOptions:u,imageOptions:f}=c||{},p=f?.alpha||1,g=u?.contextType||"2d";if("2d"!==g)throw new Error(`Context type ${u.contextType} is not supported by the CPU backend.`);const y=a.getContext(g,u?.contextAttributes||{});if(null==y)throw new Error(`Could not get the context with ${g} type.`);const[x,P]=r.shape.slice(0,2),j=2===r.shape.length?1:r.shape[2],J=e.data.get(r.dataId).values,G="float32"===r.dtype?255:1,he=new Uint8ClampedArray(P*x*4);for(let et=0;et<x*P;++et){const it=[0,0,0,255*p];for(let Yt=0;Yt<j;Yt++){const pn=J[et*j+Yt];if("float32"===r.dtype){if(pn<0||pn>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${pn}.`)}else if("int32"===r.dtype&&(pn<0||pn>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${pn}.`);1===j?(it[0]=pn*G,it[1]=pn*G,it[2]=pn*G):it[Yt]=pn*G}const Dt=4*et;he[Dt+0]=Math.round(it[0]),he[Dt+1]=Math.round(it[1]),he[Dt+2]=Math.round(it[2]),he[Dt+3]=Math.round(it[3])}a.width=P,a.height=x;const xe=new ImageData(he,P,x);return y.putImageData(xe,0,0),r}},CP=nu((n,t)=>n*t),Vz=vP((n,t,e,i)=>({real:n*e-t*i,imag:n*i+t*e})),Ek=Tu(ol,CP,Vz),Uz={kernelName:ol,backendName:"cpu",kernelFunc:Ek};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AS(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;let u;ms(r,"sum"),u="bool"===r.dtype?H_({inputs:{x:r},backend:e,attrs:{dtype:"int32"}}):km({inputs:{x:r},backend:e});const f=u.shape.length,p=wn(a,u.shape),g=ec(p,f);let y=p,x=u;null!=g&&(x=Jd({inputs:{x:u},backend:e,attrs:{perm:g}}),y=tc(y.length,f)),Dc("sum",y,x.shape.length);const[P,j]=au(x.shape,y);let G=xk(e,P,Yi(x.dtype,"int32"));const he=Ot(j),xe=e.data.get(G.dataId).values,et=e.data.get(x.dataId).values;for(let it=0;it<xe.length;++it){const Dt=it*he;let Yt=0;for(let pn=0;pn<he;++pn)Yt+=et[Dt+pn];xe[it]=Yt}if(c){const Dt=G;G=nc({inputs:{x:G},backend:e,attrs:{shape:Sc(G.shape,p)}}),e.disposeIntermediateTensorInfo(Dt)}return e.disposeIntermediateTensorInfo(u),null!=g&&e.disposeIntermediateTensorInfo(x),G}const zz={kernelName:er,backendName:"cpu",kernelFunc:AS},Wz={kernelName:ra,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jz(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=E0(r,a.length);gg(c.length,f,a);const{path:p,steps:g}=ME(u,f),y=g.length;let x=null,P=c.length;const j=[];for(let J=0;J<y;++J){for(const G of g[J]){const{permutationIndices:he,expandDims:xe}=AE(P,f[G]);let et;RE(he)?et=a[G]:(et=Jd({inputs:{x:a[G]},backend:e,attrs:{perm:he}}),j.push(et));const it=et.shape.slice();for(let Dt=0;Dt<xe.length;++Dt)it.splice(xe[Dt],0,1);Ae(et.shape,it)||(et=nc({inputs:{x:et},backend:e,attrs:{shape:it}}),j.push(et)),null===x?x=et:(x=Ek({inputs:{a:et,b:x},backend:e}),j.push(x))}J<y-1&&(p[J]>=0&&(x=AS({inputs:{x},backend:e,attrs:{axis:p[J]-(c.length-P),keepDims:!1}}),j.push(x)),P--)}for(const J of j)J!==x&&e.disposeIntermediateTensorInfo(J);return x}},Gz={kernelName:Kl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Hz(n){const{inputs:t,backend:e}=n,{dy:i,y:r}=t;ms([i,r],"eluGrad");const a=new Float32Array(Ot(r.shape)),c=e.data.get(r.dataId).values,u=e.data.get(i.dataId).values;for(let f=0;f<c.length;++f){const p=c[f];a[f]=p>=0?u[f]:u[f]*(p+1)}return e.makeTensorInfo(r.shape,"float32",a)}},L$=nu((n,t)=>n===t?1:0),$$=Tu(Va,L$,null,"bool"),Kz={kernelName:Va,backendName:"cpu",kernelFunc:$$},Xz=sb,qz=EE,Yz=CE,Qz=SE,Zz=ob,Jz=xf,e4=El(Ea,n=>{const t=Math.sign(n),e=Math.abs(n),i=1/(1+Xz*e);return t*(1-((((Jz*i+Zz)*i+Qz)*i+Yz)*i+qz)*i*Math.exp(-e*e))}),t4={kernelName:Ea,backendName:"cpu",kernelFunc:e4},B$=Im(n=>Math.exp(n)),V$=W_(Xr,B$,"float32"),n4={kernelName:Xr,backendName:"cpu",kernelFunc:V$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ck(n){const{inputs:t,backend:e,attrs:i}=n,{input:r}=t,{dim:a}=i,c=r.shape.length,u=r.shape.slice();let f=a;return a<0&&(Me(-(c+1)<=a,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+a+1),u.splice(f,0,1),nc({inputs:{x:r},backend:e,attrs:{shape:u}})}const r4={kernelName:Rr,backendName:"cpu",kernelFunc:Ck},U$=Im(n=>Math.expm1(n)),s4=W_(uo,U$),o4={kernelName:uo,backendName:"cpu",kernelFunc:s4},a4=nu((n,t)=>n/t),SP=Tu(aa,a4),DP={kernelName:aa,backendName:"cpu",kernelFunc:SP},z$=nu((n,t)=>n-t),l4=vP((n,t,e,i)=>({real:n-e,imag:t-i})),TP=Tu(Fu,z$,l4),c4={kernelName:Fu,backendName:"cpu",kernelFunc:TP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function j$(n,t,e){const i=n.shape,r=i[0],a=i[1],c=e.data.get(n.dataId),u=c.complexTensorInfos.real,f=c.complexTensorInfos.imag,p=[r,a],g=Ot(p),y=sn("float32",g),x=sn("float32",g);for(let G=0;G<r;G++){const he=Kb({inputs:{x:u},backend:e,attrs:{begin:[G,0],size:[1,a]}}),xe=Kb({inputs:{x:f},backend:e,attrs:{begin:[G,0],size:[1,a]}}),et=vh({inputs:{real:he,imag:xe},backend:e}),{real:it,imag:Dt}=u4(et,t,e),Yt=hh(it,Dt);for(let pn=0;pn<a;pn++){const bn=TE(Yt,pn);y[G*a+pn]=bn.real,x[G*a+pn]=bn.imag}e.disposeIntermediateTensorInfo(he),e.disposeIntermediateTensorInfo(xe),e.disposeIntermediateTensorInfo(et)}const P=e.makeTensorInfo(p,"float32",y),j=e.makeTensorInfo(p,"float32",x),J=vh({inputs:{real:P,imag:j},backend:e});return e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),J}function u4(n,t,e){const i=Ot(n.shape),r=e.data.get(n.dataId),a=e.data.get(r.complexTensorInfos.real.dataId).values,c=e.data.get(r.complexTensorInfos.imag.dataId).values;if(function d4(n){return!(n&n-1)}(i)){const u=IP(a,c,i,t,e),f=[n.shape[0],n.shape[1]];if(t){const p=e.makeTensorInfo(f,"float32",u.real),g=e.makeTensorInfo(f,"float32",u.imag),y=e.makeTensorInfo([],"float32",iu(i,"float32")),x=km({inputs:{x:y},backend:e}),P=DP.kernelFunc({inputs:{a:p,b:y},backend:e}),j=DP.kernelFunc({inputs:{a:g,b:x},backend:e}),J=e.data.get(P.dataId).values,G=e.data.get(j.dataId).values;return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(y),e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),{real:J,imag:G}}return u}{const f=function h4(n,t,e){const i=new Float32Array(2*t);for(let r=0;r<t;r++){let a=0,c=0;for(let u=0;u<t;u++){const f=fp(r*u,t,e),p=TE(n,u);a+=p.real*f.real-p.imag*f.imag,c+=p.real*f.imag+p.imag*f.real}e&&(a/=t,c/=t),x0(i,a,c,r)}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(hh(a,c),i,t);return DE(f)}}function IP(n,t,e,i,r){if(1===e)return{real:n,imag:t};const a=hh(n,t),c=e/2,u=x_(a),f=u.real,p=u.imag,g=[f.length],y=r.makeTensorInfo(g,"float32",f),x=r.makeTensorInfo(g,"float32",p),P=vh({inputs:{real:y,imag:x},backend:r}),j=DT(a),J=j.real,G=j.imag,he=[J.length],xe=r.makeTensorInfo(he,"float32",J),et=r.makeTensorInfo(he,"float32",G),it=vh({inputs:{real:xe,imag:et},backend:r}),Dt=IP(f,p,c,i,r),Yt=Dt.real,pn=Dt.imag,bn=[Yt.length],On=r.makeTensorInfo(bn,"float32",Yt),jn=r.makeTensorInfo(bn,"float32",pn),si=vh({inputs:{real:On,imag:jn},backend:r}),yi=IP(J,G,c,i,r),Ei=yi.real,Ci=yi.imag,Di=[Ei.length],Mi=r.makeTensorInfo(Di,"float32",Ei),Oi=r.makeTensorInfo(Di,"float32",Ci),Ti=vh({inputs:{real:Mi,imag:Oi},backend:r}),Fi=IE(e,i),or=[Fi.real.length],ar=r.makeTensorInfo(or,"float32",Fi.real),Cr=r.makeTensorInfo(or,"float32",Fi.imag),fr=vh({inputs:{real:ar,imag:Cr},backend:r}),Lr=Ek({inputs:{a:fr,b:Ti},backend:r}),kr=Uw({inputs:{a:si,b:Lr},backend:r}),es=TP({inputs:{a:si,b:Lr},backend:r}),Ns=Gb({inputs:{input:kr},backend:r}),no=Gb({inputs:{input:es},backend:r}),Qs=zw({inputs:{input:kr},backend:r}),Vo=zw({inputs:{input:es},backend:r}),Ho=jw({inputs:[Ns,no],backend:r,attrs:{axis:0}}),Cl=jw({inputs:[Qs,Vo],backend:r,attrs:{axis:0}}),ic=r.data.get(Ho.dataId).values,Vc=r.data.get(Cl.dataId).values;return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(xe),r.disposeIntermediateTensorInfo(et),r.disposeIntermediateTensorInfo(it),r.disposeIntermediateTensorInfo(On),r.disposeIntermediateTensorInfo(jn),r.disposeIntermediateTensorInfo(si),r.disposeIntermediateTensorInfo(Mi),r.disposeIntermediateTensorInfo(Oi),r.disposeIntermediateTensorInfo(Ti),r.disposeIntermediateTensorInfo(ar),r.disposeIntermediateTensorInfo(Cr),r.disposeIntermediateTensorInfo(fr),r.disposeIntermediateTensorInfo(Lr),r.disposeIntermediateTensorInfo(kr),r.disposeIntermediateTensorInfo(es),r.disposeIntermediateTensorInfo(Ns),r.disposeIntermediateTensorInfo(Qs),r.disposeIntermediateTensorInfo(no),r.disposeIntermediateTensorInfo(Vo),r.disposeIntermediateTensorInfo(Ho),r.disposeIntermediateTensorInfo(Cl),{real:ic,imag:Vc}}const p4={kernelName:"FFT",backendName:"cpu",kernelFunc:function f4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Ot(i.shape),a=i.shape[i.shape.length-1],u=nc({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=j$(u,!1,e),p=nc({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function kP(n){const{backend:t,attrs:e}=n,{shape:i,value:r,dtype:a}=e,c=a||cn(r),u=de(c,Ot(i));return function g4(n,t){n.fill(t)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(u,r),t.makeTensorInfo(i,c,u)}const m4={kernelName:Vl,backendName:"cpu",kernelFunc:kP},_4={kernelName:ga,backendName:"cpu",kernelFunc:({inputs:n,backend:e})=>{const{image:i}=n,r=e,a=sn(i.dtype,Ot(i.shape)),[c,u,f,p]=i.shape,g=r.data.get(i.dataId).values;for(let x=0;x<c;x++){const P=x*f*u*p;for(let j=0;j<u;j++){const J=j*(f*p);for(let G=0;G<f;G++){const he=G*p;for(let xe=0;xe<p;xe++){const et=Math.round(f-G-1),it=P+J+he+xe;let Dt=g[it];et>=0&&et<f&&(Dt=g[P+J+et*p+xe]),a[it]=Dt}}}}return{dataId:r.write(a,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},W$=Im(n=>Math.floor(n)),y4=W_(Ue,W$),b4={kernelName:Ue,backendName:"cpu",kernelFunc:y4},v4=nu((n,t)=>Math.floor(n/t)),w4=Tu(Wt,v4,null,"int32"),x4={kernelName:Wt,backendName:"cpu",kernelFunc:w4},C4={kernelName:Be,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function E4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:y,dimRoundingMode:x,activation:P,leakyreluAlpha:j}=i;let J=P$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:y,dimRoundingMode:x}});if(c){const G=J;if("NCHW"===g&&1===c.shape.length&&1!==c.shape[0]){const he=nc({inputs:{x:c},backend:e,attrs:{shape:[c.shape[0],1,1]}});J=Uw({inputs:{a:J,b:he},backend:e}),e.disposeIntermediateTensorInfo(he)}else J=Uw({inputs:{a:J,b:c},backend:e});e.disposeIntermediateTensorInfo(G)}if(P){const G=J;if("NCHW"===g&&"prelu"===P&&1===u.shape.length&&1!==u.shape[0]){const he=nc({inputs:{x:u},backend:e,attrs:{shape:[u.shape[0],1,1]}});J=wk(e,J,P,he,j),e.disposeIntermediateTensorInfo(he)}else J=wk(e,J,P,u,j);e.disposeIntermediateTensorInfo(G)}return J}},D4={kernelName:gt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function S4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:y,dimRoundingMode:x,activation:P,leakyreluAlpha:j}=i;let J=F$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:y,dimRoundingMode:x}});if(c){const G=J;J=Uw({inputs:{a:J,b:c},backend:e}),e.disposeIntermediateTensorInfo(G)}if(P){const G=J;J=wk(e,J,P,u,j),e.disposeIntermediateTensorInfo(G)}return J}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H$(n,t,e,i,r,a,c,u,f){const p=Us([i,a],e);for(let g=0;g<i;g++){const y=[];let x=0;for(let P=0;P<r;P++){const j=n[g*r+P];x+=j*c[P],y.push(j)}if(x<0||x>=f/a)throw new Error(`Invalid indices: ${y} does not index into ${u}`);for(let P=0;P<a;P++)p.values[g*a+P]=t.get(...t.indexToLoc(x*a+P))}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const I4={kernelName:Nr,backendName:"cpu",kernelFunc:function T4(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=Ot(i.shape),c=r.shape,u=c[c.length-1],[f,p,g,y]=ST(i,r);if(0===p)return e.makeTensorInfo(f,i.dtype,[]);const j=H$(e.data.get(r.dataId).values,e.bufferSync(i),i.dtype,p,u,g,y,i.shape,a);return e.makeTensorInfo(f,i.dtype,j.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function G$(n,t,e){const i=Us(e,n.dtype);for(let r=0;r<i.size;++r){const c=i.indexToLoc(r).slice(),p=t.locToIndex([c[0],c[2]]);c[2]=t.values[p];const g=n.locToIndex(c);0<=g&&g<n.values.length&&(i.values[r]=n.values[g])}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const A4={kernelName:fi,backendName:"cpu",kernelFunc:function k4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i;ms([r,a],"gatherV2");const f=wn(c,r.shape)[0],p=e.data.get(a.dataId).values,g=r.shape[f];for(let it=0;it<p.length;++it){const Dt=p[it];Me(Dt<=g-1&&Dt>=0,()=>`GatherV2: the index value ${Dt} is not in [0, ${g-1}]`)}let y=u;null==u&&(y=0);const x=Ot(a.shape),P=T0(r,a,f,y),j=nc({inputs:{x:r},backend:e,attrs:{shape:[P.batchSize,P.outerSize,P.dimSize,P.sliceSize]}}),J=nc({inputs:{x:a},backend:e,attrs:{shape:[P.batchSize,x/P.batchSize]}}),G=[P.batchSize,P.outerSize,x/P.batchSize,P.sliceSize],he=e.bufferSync(J),et=G$(e.bufferSync(j),he,G);return e.disposeIntermediateTensorInfo(j),e.disposeIntermediateTensorInfo(J),e.makeTensorInfo(P.outputShape,et.dtype,et.values)}},K$=nu((n,t)=>n>t?1:0),M4=Tu(dr,K$,null,"bool"),R4={kernelName:dr,backendName:"cpu",kernelFunc:M4},X$=nu((n,t)=>n>=t?1:0),N4=Tu(Wr,X$,null,"bool"),O4={kernelName:Wr,backendName:"cpu",kernelFunc:N4},F4={kernelName:Vs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function P4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Ot(i.shape),a=i.shape[i.shape.length-1],u=nc({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=j$(u,!0,e),p=nc({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}},L4=El(ho,n=>Number.isFinite(n)?1:0,"bool"),$4={kernelName:ho,backendName:"cpu",kernelFunc:L4},B4=El(Ar,n=>Math.abs(n)===1/0?1:0,"bool"),V4={kernelName:Ar,backendName:"cpu",kernelFunc:B4},U4=El($r,n=>Number.isNaN(n)?1:0,"bool"),z4={kernelName:$r,backendName:"cpu",kernelFunc:U4},q$=nu((n,t)=>n<t?1:0),j4=Tu(vs,q$,null,"bool"),W4={kernelName:vs,backendName:"cpu",kernelFunc:j4},Y$=nu((n,t)=>n<=t?1:0),H4=Tu(sa,Y$,null,"bool"),G4={kernelName:sa,backendName:"cpu",kernelFunc:H4};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Q$(n,t,e){const i=(t-n)/(e-1),r=ui(e,"float32");r[0]=n;for(let a=1;a<r.length;a++)r[a]=r[a-1]+i;return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const X4={kernelName:ea,backendName:"cpu",kernelFunc:function K4(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=Q$(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},Z$=Im(n=>Math.log(n)),q4=W_(la,Z$),Y4={kernelName:la,backendName:"cpu",kernelFunc:q4},Q4=El(Ki,n=>Math.log1p(n)),Z4={kernelName:Ki,backendName:"cpu",kernelFunc:Q4},J4=nu((n,t)=>n&&t),ej=Tu(Xo,J4,null,"bool"),tj={kernelName:Xo,backendName:"cpu",kernelFunc:ej},nj=El(So,n=>n?0:1,"bool"),ij={kernelName:So,backendName:"cpu",kernelFunc:nj},rj=nu((n,t)=>n||t),sj=Tu(Ca,rj,null,"bool"),oj={kernelName:Ca,backendName:"cpu",kernelFunc:sj},lj={kernelName:ta,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i;ms(r,"LRN");const p=r.shape[3],g=p-1,y=e.data.get(r.dataId).values,x=Ot(r.shape),P=new Float32Array(x);function j(J){const G=J%p;let he=J-G+Math.max(0,G-a);const xe=J-G+Math.min(G+a,g);let et=0;for(;he<=xe;he++){const it=y[he];et+=it*it}return et}for(let J=0;J<x;J++){const G=j(J),he=y[J]*Math.pow(c+u*G,-f);P[J]=he}return e.makeTensorInfo(r.shape,r.dtype,P)}},uj={kernelName:Ya,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i;ms(c,"LRNGrad");const y=Ot(c.shape),x=c.shape[3],P=e.data.get(c.dataId).values,j=e.data.get(r.dataId).values,J=e.data.get(a.dataId).values,G=new Float32Array(y),he=y;for(let xe=0;xe<he;xe++){const et=xe%x,it=xe-et+Math.max(0,et-u),Dt=xe-et+Math.min(x,et+u+1);let Yt=0;for(let pn=it;pn<Dt;pn++)Yt+=Math.pow(j[pn],2);Yt=p*Yt+f;for(let pn=it;pn<Dt;pn++){let bn=-2*p*g*j[pn]*J[xe]/Yt;xe===pn&&(bn+=Math.pow(Yt,-g)),bn*=P[xe],G[pn]+=bn}}return e.makeTensorInfo(c.shape,r.dtype,G)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J$(n,t,e,i){const r=sn(i,Ot(e));for(let a=0;a<r.length;++a){const c=a*t;let u=n[c];for(let f=0;f<t;++f){const p=n[c+f];(Number.isNaN(p)||p>u)&&(u=p)}r[a]=u}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function eB(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=e;let f=r.shape;const p=f.length,g=wn(a,f);let y=g;const x=ec(y,p);let P=u.data.get(r.dataId).values;if(null!=x){const it=new Array(p);for(let Dt=0;Dt<it.length;Dt++)it[Dt]=f[x[Dt]];P=wP(P,f,r.dtype,x,it),y=tc(y.length,p),f=it}ms(r,"max"),Dc("max",y,p);const[j,J]=au(f,y),he=J$(P,Ot(J),j,r.dtype),xe=u.write(he,j,r.dtype);let et=j;return c&&(et=Sc(j,g)),{dataId:xe,shape:et,dtype:r.dtype}}const dj={kernelName:sl,backendName:"cpu",kernelFunc:eB},tB=nu((n,t)=>Math.max(n,t)),hj=Tu(Ua,tB),fj={kernelName:Ua,backendName:"cpu",kernelFunc:hj},mj={kernelName:Da,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;ms(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Me(su(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Nu(r.shape,a,c,1,u,f);let y;if(1===g.filterWidth&&1===g.filterHeight&&Ae(g.inShape,g.outShape))y=km({inputs:{x:r},backend:e});else{const x=e.data.get(r.dataId).values,P=Bt(r.shape),j=xP(x,0,r.dtype,P,g,"max");y=e.makeTensorInfo(g.outShape,r.dtype,j.values)}return y}},_j={kernelName:Xl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;ms(r,"maxPool3d");const g=oh(r.shape,a,c,1,u,f,p),x=k$(e.data.get(r.dataId).values,0,r.dtype,Bt(r.shape),g,"max");return e.makeTensorInfo(x.shape,"float32",x.values)}},bj={kernelName:Do,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;ms([r,a],"maxPool3DGrad");const g=oh(a.shape,c,u,1,f,p),x=function AU(n,t){const e=Us(t.outShape,"int32"),i=t.strideDepth,r=t.strideHeight,a=t.strideWidth,c=t.dilationDepth,u=t.dilationHeight,f=t.dilationWidth,p=t.effectiveFilterDepth,g=t.effectiveFilterHeight,y=t.effectiveFilterWidth,x=t.padInfo.front,P=t.padInfo.top,j=t.padInfo.left;for(let J=0;J<t.batchSize;++J)for(let G=0;G<t.inChannels;++G)for(let he=0;he<t.outDepth;++he){const xe=he*i-x;let et=xe;for(;et<0;)et+=c;const it=Math.min(t.inDepth,p+xe);for(let Dt=0;Dt<t.outHeight;++Dt){const Yt=Dt*r-P;let pn=Yt;for(;pn<0;)pn+=u;const bn=Math.min(t.inHeight,g+Yt);for(let On=0;On<t.outWidth;++On){const jn=On*a-j;let si=jn;for(;si<0;)si+=f;const yi=Math.min(t.inWidth,y+jn);let Ei=Number.NEGATIVE_INFINITY,Ci=-1;for(let Di=et;Di<it;Di+=c){const Mi=Di-xe;for(let Oi=pn;Oi<bn;Oi+=u){const Ti=Oi-Yt;for(let Fi=si;Fi<yi;Fi+=f){const or=Fi-jn,ar=n.get(J,Di,Oi,Fi,G);ar>=Ei&&(Ei=ar,Ci=Mi*g*y+Ti*g+or)}}}e.set(Ci,J,he,Dt,On,G)}}}return e}(e.bufferSync(a),g),P=g.strideDepth,j=g.strideHeight,J=g.strideWidth,G=g.dilationDepth,he=g.dilationHeight,xe=g.dilationWidth,et=g.effectiveFilterDepth,it=g.effectiveFilterHeight,Dt=g.effectiveFilterWidth,Yt=et-1-g.padInfo.front,pn=Dt-1-g.padInfo.left,bn=it-1-g.padInfo.top,On=Us(a.shape,"float32"),jn=e.bufferSync(r);for(let si=0;si<g.batchSize;++si)for(let yi=0;yi<g.inChannels;++yi)for(let Ei=0;Ei<g.inDepth;++Ei)for(let Ci=0;Ci<g.inHeight;++Ci)for(let Di=0;Di<g.inWidth;++Di){const Mi=Ei-Yt,Oi=Ci-bn,Ti=Di-pn;let Fi=0;for(let or=0;or<et;or+=G){const ar=(Mi+or)/P;if(!(ar<0||ar>=g.outDepth||Math.floor(ar)!==ar))for(let Cr=0;Cr<it;Cr+=he){const fr=(Oi+Cr)/j;if(!(fr<0||fr>=g.outHeight||Math.floor(fr)!==fr))for(let Lr=0;Lr<Dt;Lr+=xe){const kr=(Ti+Lr)/J;if(kr<0||kr>=g.outWidth||Math.floor(kr)!==kr)continue;const no=et*it*Dt-1-x.get(si,ar,fr,kr,yi)===or*it*Dt+Cr*Dt+Lr?1:0;0!==no&&(Fi+=jn.get(si,ar,fr,kr,yi)*no)}}}On.set(Fi,si,Ei,Ci,Di,yi)}return e.makeTensorInfo(On.shape,On.dtype,On.values)}},wj={kernelName:Sl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;ms([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:y}=i,x=Nu(u.shape,f,p,1,g,y),P=e.data.get(u.dataId).values,j=Us(x.outShape,u.dtype,I$(P,u.shape,u.dtype,x).values),J=x.strideHeight,G=x.strideWidth,he=x.dilationHeight,xe=x.dilationWidth,et=x.effectiveFilterHeight,it=x.effectiveFilterWidth,Dt=it-1-x.padInfo.left,Yt=et-1-x.padInfo.top,pn=Us(u.shape,"float32"),bn=e.data.get(r.dataId).values,On=Us(r.shape,"float32",bn);for(let jn=0;jn<x.batchSize;++jn)for(let si=0;si<x.inChannels;++si)for(let yi=0;yi<x.inHeight;++yi)for(let Ei=0;Ei<x.inWidth;++Ei){const Ci=yi-Yt,Di=Ei-Dt;let Mi=0;for(let Oi=0;Oi<et;Oi+=he){const Ti=(Ci+Oi)/J;if(!(Ti<0||Ti>=x.outHeight||Math.floor(Ti)!==Ti))for(let Fi=0;Fi<it;Fi+=xe){const or=(Di+Fi)/G;if(or<0||or>=x.outWidth||Math.floor(or)!==or)continue;const fr=et*it-1-j.get(jn,Ti,or,si)===Oi*it+Fi?1:0;0!==fr&&(Mi+=On.get(jn,Ti,or,si)*fr)}}pn.set(Mi,jn,yi,Ei,si)}return e.makeTensorInfo(pn.shape,pn.dtype,pn.values)}},Ej={kernelName:pl,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;ms(i,"MaxPoolWithArgmax");const p=f.data.get(i.dataId).values,g=Nu(i.shape,r,a,[1,1],c),[y,x]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xj(n,t,e,i,r){const c=xP(n,0,e,Bt(t),r,"max"),u=I$(n,t,e,r,!0,i);return[c.values,u.values]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(p,i.shape,i.dtype,u,g),P=f.write(y,g.outShape,i.dtype),j=f.write(x,g.outShape,i.dtype);return[{dataId:P,shape:g.outShape,dtype:i.dtype},{dataId:j,shape:g.outShape,dtype:"int32"}]}},Sj={kernelName:Za,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=wn(a,r.shape),g=Ot(au(r.shape,u)[1]),y=[],x=e.makeTensorInfo([],"float32",new Float32Array([g]));y.push(x);const P=H_({inputs:{x:r},backend:e,attrs:{dtype:"float32"}});y.push(P);const j=SP({inputs:{a:P,b:x},backend:e});y.push(j);const J=AS({inputs:{x:j},backend:e,attrs:{axis:a,keepDims:c}});return y.forEach(G=>e.disposeIntermediateTensorInfo(G)),J}},Tj={kernelName:Ps,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;ms(r,"min");const u=wn(a,r.shape);let f=u;const p=ec(f,r.shape.length);let g=r;null!=p&&(g=Jd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=tc(f.length,r.shape.length)),Dc("min",f,g.shape.length);const[y,x]=au(g.shape,f),P=Ot(x),j=ui(Ot(y),g.dtype),J=e.data.get(g.dataId).values;for(let he=0;he<j.length;++he){const xe=he*P;let et=J[xe];for(let it=0;it<P;++it){const Dt=J[xe+it];(Number.isNaN(Dt)||Dt<et)&&(et=Dt)}j[he]=et}null!=p&&e.disposeIntermediateTensorInfo(g);const G=e.makeTensorInfo(y,g.dtype,j);if(c){const xe=nc({inputs:{x:G},backend:e,attrs:{shape:Sc(y,u)}});return e.disposeIntermediateTensorInfo(G),xe}return G}},nB=nu((n,t)=>Math.min(n,t)),Ij=Tu(Dl,nB),kj={kernelName:Dl,backendName:"cpu",kernelFunc:Ij},Mj={kernelName:qo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Aj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,mode:c}=i;ms(r,"mirrorPad");const u=a.map((et,it)=>et[0]+r.shape[it]+et[1]),f=a.map(et=>et[0]),p=a.map((et,it)=>et[0]+r.shape[it]),g="reflect"===c?0:1,y=e.data.get(r.dataId).values,x=r.shape.length,P=Bt(r.shape),j=Ot(u),J=u.length,G=Bt(u),he=sn(r.dtype,j);for(let et=0;et<j;et++){let it=xt(et,J,G);for(let Yt=0;Yt<J;Yt++)it[Yt]<f[Yt]?it[Yt]=2*f[Yt]-it[Yt]-g:it[Yt]>=p[Yt]&&(it[Yt]=2*(p[Yt]-1)-it[Yt]+g);it=it.map((Yt,pn)=>Yt-f[pn]);const Dt=jt(it,x,P);he[et]=y[Dt]}return{dataId:e.write(he,u,r.dtype),shape:u,dtype:r.dtype}}},Rj=nu((n,t)=>{const e=n%t;return n<0&&t<0||n>=0&&t>=0?e:(e+t)%t}),Nj=Tu(ml,Rj),Oj={kernelName:ml,backendName:"cpu",kernelFunc:Nj};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iB(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=r.shape.length;let u=a;if(-1===u&&(u=c-1),u!==c-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${c} and dim was ${u}`);const f=wn([u],r.shape),p=eB({inputs:{x:r},backend:e,attrs:{reductionIndices:f,keepDims:!1}}),g=Sc(p.shape,f),y=nc({inputs:{x:p},backend:e,attrs:{shape:g}}),x=TP({inputs:{a:r,b:y},backend:e}),P=V$({inputs:{x},backend:e}),j=AS({inputs:{x:P},backend:e,attrs:{axis:f,keepDims:!1}}),J=nc({inputs:{x:j},backend:e,attrs:{shape:g}}),G=SP({inputs:{a:P,b:J},backend:e});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(y),e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),e.disposeIntermediateTensorInfo(J),G}const Pj={kernelName:zs,backendName:"cpu",kernelFunc:iB},Lj={kernelName:gl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fj(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i;ms(r,"multinomial");const f=u?r:iB({inputs:{logits:r},backend:e,attrs:{dim:-1}}),p=f.shape[0],g=f.shape[1],y=e.data.get(f.dataId).values,x=[p,a],P=ui(Ot(x),"int32");for(let j=0;j<p;++j){const J=j*g,G=new Float32Array(g-1);G[0]=y[J];for(let et=1;et<G.length;++et)G[et]=G[et-1]+y[J+et];const he=Py.alea(c.toString()),xe=j*a;for(let et=0;et<a;++et){const it=he();P[xe+et]=G.length;for(let Dt=0;Dt<G.length;Dt++)if(it<G[Dt]){P[xe+et]=Dt;break}}}return u||e.disposeIntermediateTensorInfo(f),e.makeTensorInfo(x,"int32",P)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rB(n,t,e){const i=iu(-1,e);return CP([],t,i,n,e)}const Bj={kernelName:ql,backendName:"cpu",kernelFunc:function $j(n){const{inputs:t,backend:e}=n,{x:i}=t;ms(i,"neg");const r=e.data.get(i.dataId).values,[a,c]=rB(r,i.shape,i.dtype);return e.makeTensorInfo(c,i.dtype,a)}},Vj=ZD,zj={kernelName:ao,backendName:"cpu",kernelFunc:function Uj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i;ms(r,"NonMaxSuppression");const p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,{selectedIndices:y}=Vj(p,g,c,u,f);return e.makeTensorInfo([y.length],"int32",new Int32Array(y))}},jj=uE,Hj={kernelName:Yo,backendName:"cpu",kernelFunc:function Wj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i;ms(r,"NonMaxSuppressionPadded");const g=e.data.get(r.dataId).values,y=e.data.get(a.dataId).values,{selectedIndices:x,validOutputs:P}=jj(g,y,c,u,f,p);return[e.makeTensorInfo([x.length],"int32",new Int32Array(x)),e.makeTensorInfo([],"int32",new Int32Array([P]))]}},Gj=JD,Xj={kernelName:_l,backendName:"cpu",kernelFunc:function Kj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i;ms(r,"NonMaxSuppressionWithScore");const g=e.data.get(r.dataId).values,y=e.data.get(a.dataId).values,x=c,P=u,j=f,J=p,{selectedIndices:G,selectedScores:he}=Gj(g,y,x,P,j,J);return[e.makeTensorInfo([G.length],"int32",new Int32Array(G)),e.makeTensorInfo([he.length],"float32",new Float32Array(he))]}},sB=nu((n,t)=>n!==t?1:0),qj=Tu(qr,sB,null,"bool"),Yj={kernelName:qr,backendName:"cpu",kernelFunc:qj},Zj={kernelName:Gt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qj(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i;ms(r,"oneHot");const p=Ot(r.shape),g=new Float32Array(p*c);g.fill(f);const y=e.data.get(r.dataId).values;for(let x=0;x<p;++x)y[x]>=0&&y[x]<c&&(g[x*c+y[x]]=u);return e.makeTensorInfo([...r.shape,c],a,g)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sk(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===i.dtype){const r=Gb({inputs:{input:i},backend:e}),a=Sk({inputs:{x:r},backend:e}),c=zw({inputs:{input:i},backend:e}),u=Sk({inputs:{x:c},backend:e}),f=vh({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return kP({backend:e,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const Jj={kernelName:Mc,backendName:"cpu",kernelFunc:Sk},eW={kernelName:po,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oB(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const r=Gb({inputs:{input:i},backend:e}),a=oB({inputs:{x:r},backend:e}),c=zw({inputs:{input:i},backend:e}),u=Sk({inputs:{x:c},backend:e}),f=vh({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return kP({backend:e,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aB(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return Ck({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{kn(a,g.shape,"All tensors passed to stack must have matching shapes"),Me(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=jw({inputs:t.map(g=>{const y=Ck({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(y),y}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}const tW={kernelName:ne,backendName:"cpu",kernelFunc:aB},lB={kernelName:fe,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;ms(r,"pad");const u=a.map((xe,et)=>xe[0]+r.shape[et]+xe[1]),f=a.map(xe=>xe[0]),p=e.data.get(r.dataId).values,g=Ot(r.shape),y=r.shape.length,x=Bt(r.shape),P=Ot(u),j=u.length,J=Bt(u),G=sn(r.dtype,P);0!==c&&G.fill(c);for(let xe=0;xe<g;xe++)G[jt(xt(xe,y,x).map((Yt,pn)=>Yt+f[pn]),j,J)]=p[xe];return{dataId:e.write(G,u,r.dtype),shape:u,dtype:r.dtype}}},iW=nu((n,t)=>Math.pow(n,t)),rW=Tu(te,iW),sW={kernelName:te,backendName:"cpu",kernelFunc:rW};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cB(n,t,e,i){const[r,a]=au(n,i),c=Yi(t,"int32"),u=ui(Ot(r),c),f=Ot(a);for(let p=0;p<u.length;++p){const g=p*f;let y=1;for(let x=0;x<f;++x)y*=e[g+x];u[p]=y}return{outVals:u,outShape:r,outDtype:c}}const aW={kernelName:We,backendName:"cpu",kernelFunc:function oW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;ms(r,"prod");const u=r.shape.length,f=wn(a,r.shape),p=ec(f,u);let g=f,y=r;const x=[];null!=p&&(y=Jd({inputs:{x:r},backend:e,attrs:{perm:p}}),x.push(y),g=tc(g.length,u));const P=e.data.get(y.dataId).values,{outVals:j,outShape:J,outDtype:G}=cB(y.shape,y.dtype,P,g);let he=J;return c&&(he=Sc(J,f)),x.forEach(xe=>e.disposeIntermediateTensorInfo(xe)),e.makeTensorInfo(he,G,j)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function uB(n,t){const e=n.slice(0,t);for(;e.length<t;)e.push(1);for(let i=t;i<n.length;i++)e[t-1]*=n[i];return e}function dB(n,t,e,i,r,a,c,u){if(0===n.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function lW(n,t,e){n.forEach((i,r)=>{if(i<0||i>=e){const a=xt(r,t.length,Bt(t)).join(",");throw new Error(`indices[${a}] = ${i} is not in [0, ${e})`)}})}(a,c,t[0][0]-1),0===i.length)throw new Error("params.rank must be nonzero");const p=i[0],{outSplits:g,valueSlices:y,numValues:x}=function uW(n,t,e,i){const r=[];let a=0;const u=new Array(t.length-1+e.length).fill(null).map(()=>[0]);!function cW(n,t){for(let e=0;e<n.length;++e){const i=n[e],r=e===n.length-1?t:n[e+1].length;if(0===i.length)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>r)throw new Error("Ragged splits must not point past values");for(let a=1;a<i.length;++a)if(i[a-1]>i[a])throw new Error("Ragged splits must be sorted in ascending order")}}(e,i);let f=1;for(let p=0;p<t.length-1;++p){f*=t[p];const g=t[p+1];for(let y=1;y<f+1;++y)u[p].push(y*g)}for(let p=0;p<n.length;++p){let g=n[p],y=n[p]+1;for(let x=0;x<e.length;++x){const P=e[x],j=x+t.length-1;if(j>=0){const J=u[j],G=J[J.length-1]-P[g];for(let he=g;he<y;++he)u[j].push(P[he+1]+G)}g=P[g],y=P[y]}y!==g&&(r.push([g,y]),a+=y-g)}return{outSplits:u,valueSlices:r,numValues:a}}(a,c,n,p),P=function dW(n){const t=[];for(let e=0;e<n.length;++e){const r=de("int32",n[e].length);t.push(r),n[e].forEach((a,c)=>r[c]=a)}return t}(g),j=function fW(n,t,e,i,r){const a=t.slice();a[0]=r;const c=de(e,Ot(a)),u=n.length;return function hW(n,t,e,i,r,a){const c=uB(t,2)[1],u=uB(a,2)[1];let f=0;for(const p of e)for(let g=p[0];g<p[1];++g){for(let y=0;y<i;++y)r[f*u+y]=n[g*c+y];++f}}(n,t,i,0===u?0:u/t[0],c,a),[c,a]}(e,i,r,y,x);return[P,j[0],j[1]]}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const mW={kernelName:pt,backendName:"cpu",kernelFunc:function pW(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,f=r.map(he=>e.data.get(he.dataId).values),p=r.map(he=>he.shape),g=e.data.get(a.dataId).values,y=e.data.get(c.dataId).values,[x,P,j]=dB(f,p,g,a.shape,a.dtype,y,c.shape),J=x.map(he=>e.makeTensorInfo([he.length],"int32",he)),G=e.makeTensorInfo(j,a.dtype,P);return J.concat([G])}},hB=2147483647;
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function fB(n,t,e,i,r,a,c){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(c.length>1)throw new Error("deltas must be a scalar or vector");const u=0===t.length,f=0===r.length,p=0===c.length,g=[];u||g.push(t[0]),f||g.push(r[0]),p||g.push(c[0]);for(let G=1;G<g.length;++G)if(g[G]!==g[G-1])throw new Error("starts, limits, and deltas must have the same shape");const y=0===g.length?1:g[0],x=de("int32",y+1);x[0]=0;for(let G=0;G<y;++G){const he=u?n[0]:n[G],xe=f?i[0]:i[G],et=p?a[0]:a[G];if(0===et)throw new Error("Requires delta != 0");let it;if(et>0&&xe<he||et<0&&xe>he)it=0;else if(it=Math.ceil(Math.abs((xe-he)/et)),it>hB)throw new Error(`Requires ((limit - start) / delta) <= ${hB}`);x[G+1]=x[G]+it}const j=de(e,x[y]);let J=0;for(let G=0;G<y;++G){const he=x[G+1]-x[G];let xe=u?n[0]:n[G];const et=p?a[0]:a[G];for(let it=0;it<he;++it)j[J++]=xe,xe+=et}return[x,j]}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const _W={kernelName:Fn,backendName:"cpu",kernelFunc:function gW(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=fB(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Pf=Wh;class Dk{constructor(t,e,i,r,a,c,u,f,p,g){this.shape=t,this.shapeShape=e,this.values=i,this.valuesShape=r,this.valuesDType=a,this.defaultValue=c,this.defaultValueShape=u,this.rowPartitionValues=f,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=CT(g),this.raggedRank=fm(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===Pf.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===Pf.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const e=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case Pf.VALUE_ROWIDS:return Dk.getMaxWidthValueRowID(e);case Pf.ROW_SPLITS:return Dk.getMaxWidthRowSplit(e);default:throw new Error(`Cannot handle partition type ${Pf[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const e=t.length;if(0===e||1===e)return 0;let i=0;for(let r=0;r<e-1;++r){const a=t[r+1]-t[r];a>i&&(i=a)}return i}static getMaxWidthValueRowID(t){const e=t.length;if(0===e)return 0;let i=0,r=t[0],a=0;for(let c=1;c<e;++c){const u=t[c];u!==r&&(r=u,a=Math.max(c-i,a),i=c)}return Math.max(e-i,a)}tensorShapeFromTensor(t,e,i=!0){if(0===e.length){if(-1===t[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return mB(t,i)}calculateOutputSize(t){const e=this.valuesShape;hg(this.defaultValueShape,e);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),c=ET(this.raggedRank,r,e);c[0]<0&&(c[0]=t);for(let u=1;u<=this.raggedRank;++u)c[u]<0&&(c[u]=this.getMaxWidth(u));return c}calculateFirstParentOutputIndex(t,e,i){const r=Math.min(t,i),a=[];let c=0;for(let u=0;u<r;++u,c+=e)a.push(c);for(let u=r;u<t;++u)a.push(-1);return Me(a.length===t,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(t,e,i,r){const a=t.length,c=[];for(let u=0;u<a-1;++u){const f=t[u+1]-t[u];let p=Math.min(r,f),g=e[u];-1===g&&(p=0);for(let y=0;y<p;++y)c.push(g),g+=i;for(let y=0;y<f-p;++y)c.push(-1)}if(a>0&&c.length!==t[a-1])throw new Error("Invalid row split size.");return c}calculateOutputIndexValueRowID(t,e,i,r){const a=t.length,c=[];if(0===a)return[];let u=0,f=t[0];if(f>=e.length)throw new Error(`Got currentValueRowId=${f}, which is not less than ${e.length}`);let p=e[f];c.push(p);for(let g=1;g<a;++g){const y=t[g];if(y===f)p>=0&&(++u,u<r?p+=i:p=-1);else{if(u=0,f=y,y>=e.length)throw new Error(`Got nextValueRowId=${y} which is not less than ${e.length}`);p=e[y]}c.push(p)}if(c.length!==t.length)throw new Error("Invalid row ids.");return c}calculateOutputIndex(t,e,i,r){const a=this.getRowPartitionTensor(t),c=this.getRowPartitionTypeByDimension(t);switch(c){case Pf.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,e,i,r);case Pf.ROW_SPLITS:if(a.length-1>e.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${e.length}`);return this.calculateOutputIndexRowSplit(a,e,i,r);default:throw new Error(`Unsupported partition type: ${Pf[c]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const e=this.rowPartitionTypes[0];switch(e){case Pf.FIRST_DIM_SIZE:return t[0];case Pf.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Pf.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Pf[e]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),i=this.calculateOutputSize(e),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let f=r.length-2;f>=0;--f)r[f]=r[f+1]*i[f+1];const a=mB(i,!1),c=de(this.valuesDType,Ot(a));if(r[0]*i[0]>0){let f=this.calculateFirstParentOutputIndex(e,r[0],i[0]);for(let p=1;p<=this.raggedRank;++p)f=this.calculateOutputIndex(p-1,f,r[p],i[p]);this.setOutput(this.raggedRank,f,c,a)}return[a,c]}setOutput(t,e,i,r){if(0===i.length)return;const a=this.values,c=i;let u=r.slice();u=u.slice(t+1);const f=Ot(u),p=e.length;let g=this.defaultValue;if(g.length!==f&&1!==g.length){const j=this.defaultValueShape;Gn(()=>{const J=Wn(g,j);g=ep(J,u).dataSync()})}let y=0,x=0,P=0;for(let j=0;j<=p;++j){let J=j<p?e[j]:-1;if(J!==P){if(x<P){const G=a.subarray(y*f);pB(c.subarray(x*f),G,(P-x)*f)}if(j>=p&&(J=Math.floor(i.length/f)),J>P)if(1===this.defaultValue.length)c.subarray(P*f,J*f).fill(this.defaultValue[0]),P=J;else for(;J>P;)pB(c.slice(P*f),g,f),++P;J<0?(y=j+1,x=P):(y=j,x=P,P=x+1)}else++P}}}function pB(n,t,e){for(let i=0;i<e;i++)n[i]=t[i]}function mB(n,t){const e=[];for(let i of n){if(i<0){if(!t)throw new Error(`Dimension ${i} must be >= 0`);if(i<-1)throw new Error(`Dimension ${i} must be >= -1`);i=-1}e.push(i)}return e}function gB(n,t,e,i,r,a,c,u,f,p){return new Dk(n,t,e,i,r,a,c,u,f,p).compute()}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const bW={kernelName:ei,backendName:"cpu",kernelFunc:function yW(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,y=e.data.get(c.dataId).values,x=u.map(G=>e.data.get(G.dataId).values),P=u.map(G=>G.shape),[j,J]=gB(p,r.shape,g,a.shape,a.dtype,y,c.shape,x,P,f);return e.makeTensorInfo(j,a.dtype,J)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function _B(n,t,e,i){if(n===t||n<t&&e<0||t<n&&e>1)return ui(0,i);const f=ui(Math.abs(Math.ceil((t-n)/e)),i);t<n&&1===e&&(e=-1),f[0]=n;for(let p=1;p<f.length;p++)f[p]=f[p-1]+e;return f}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const wW={kernelName:Vi,backendName:"cpu",kernelFunc:function vW(n){const{backend:t,attrs:e}=n,{start:i,stop:r,dtype:a,step:c}=e,u=_B(i,r,c,a);return t.makeTensorInfo([u.length],a,u)}},xW=El(ws,n=>1/n),EW={kernelName:ws,backendName:"cpu",kernelFunc:xW},SW={kernelName:Li,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;ms(r,"resizeBilinear");const f=Bt(r.shape),[p,g]=u,[y,x,P,j]=r.shape,J=e.data.get(r.dataId).values,G=new Float32Array(Ot([y,p,g,j])),he=[a&&p>1?x-1:x,a&&g>1?P-1:P],xe=[a&&p>1?p-1:p,a&&g>1?g-1:g];let et=0;const it=he[0]/xe[0],Dt=he[1]/xe[1];for(let Yt=0;Yt<y;Yt++)for(let pn=0;pn<p;pn++){let bn;bn=c?it*(pn+.5)-.5:it*pn;const On=Math.max(0,Math.floor(bn)),jn=bn-On,si=Math.min(x-1,Math.ceil(bn)),yi=Yt*f[0]+On*f[1],Ei=Yt*f[0]+si*f[1];for(let Ci=0;Ci<g;Ci++){let Di;Di=c?Dt*(Ci+.5)-.5:Dt*Ci;const Mi=Math.max(0,Math.floor(Di)),Oi=Di-Mi,Ti=Math.min(P-1,Math.ceil(Di)),Fi=yi+Mi*f[2],or=Ei+Mi*f[2],ar=yi+Ti*f[2],Cr=Ei+Ti*f[2];for(let fr=0;fr<j;fr++){const Lr=J[Fi+fr],kr=J[or+fr],no=Lr+(J[ar+fr]-Lr)*Oi;G[et++]=no+(kr+(J[Cr+fr]-kr)*Oi-no)*jn}}}return e.makeTensorInfo([y,p,g,j],"float32",G)}},TW={kernelName:Xs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;ms([a,r],"resizeBilinearGrad");const u=Bt(r.shape),[f,p,g,y]=r.shape,[,x,P]=a.shape,j=new Float32Array(f*p*g*y),J=[c&&x>1?p-1:p,c&&P>1?g-1:g],G=[c&&x>1?x-1:x,c&&P>1?P-1:P],he=J[0]/G[0],xe=J[1]/G[1],et=e.data.get(a.dataId).values;let it=0;for(let Dt=0;Dt<f;Dt++){const Yt=Dt*u[0];for(let pn=0;pn<x;pn++){const bn=pn*he,On=Math.floor(bn),jn=Math.min(Math.ceil(bn),p-1),si=Yt+On*u[1],yi=Yt+jn*u[1],Ei=bn-On,Ci=1-Ei;for(let Di=0;Di<P;Di++){const Mi=Di*xe,Oi=Math.floor(Mi),Ti=Math.min(Math.ceil(Mi),g-1),Fi=Mi-Oi,or=1-Fi,ar=si+Oi*u[2],Cr=si+Ti*u[2],fr=yi+Oi*u[2],Lr=yi+Ti*u[2],kr=Ci*or,es=Ci*Fi,Ns=Ei*or,no=Ei*Fi;for(let Qs=0;Qs<y;Qs++){const Vo=et[it++];j[ar+Qs]+=Vo*kr,j[Cr+Qs]+=Vo*es,j[fr+Qs]+=Vo*Ns,j[Lr+Qs]+=Vo*no}}}}return e.makeTensorInfo([f,g,p,y],"float32",j)}},kW={kernelName:mr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function IW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;ms(r,"resizeNearestNeighbor");const f=Bt(r.shape),[p,g]=u,[y,x,P,j]=r.shape,J=e.data.get(r.dataId).values,G=new Float32Array(y*p*g*j),he=[a&&p>1?x-1:x,a&&g>1?P-1:P],xe=[a&&p>1?p-1:p,a&&g>1?g-1:g],et=he[0]/xe[0],it=he[1]/xe[1];let Dt=0;for(let Yt=0;Yt<y;Yt++){const pn=Yt*f[0];for(let bn=0;bn<p;bn++){const On=c?et*(bn+.5):et*bn;let jn=Math.min(x-1,a?Math.round(On):Math.floor(On));c&&(jn=Math.max(0,jn));const si=pn+jn*f[1];for(let yi=0;yi<g;yi++){const Ei=c?it*(yi+.5):it*yi;let Ci=Math.min(P-1,a?Math.round(Ei):Math.floor(Ei));c&&(Ci=Math.max(0,Ci));const Di=si+Ci*f[2];for(let Mi=0;Mi<j;Mi++)G[Dt++]=J[Di+Mi]}}}return e.makeTensorInfo([y,p,g,j],r.dtype,G)}},MW={kernelName:Po,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;ms([a,r],"resizeNearestNeighborGrad");const u=Bt(r.shape),f=Bt(a.shape),[p,g,y,x]=r.shape,[,P,j]=a.shape,J=new Float32Array(p*g*y*x),G=e.data.get(a.dataId).values,he=[c&&P>1?g-1:g,c&&j>1?y-1:y],xe=[c&&P>1?P-1:P,c&&j>1?j-1:j],et=he[0]/xe[0],it=he[1]/xe[1],Dt=1/et,Yt=1/it,pn=2*Math.ceil(Dt)+2,bn=2*Math.ceil(Yt)+2;for(let On=0;On<p;On++){const jn=On*u[0];for(let si=0;si<g;si++){const yi=jn+si*u[1],Ei=Math.floor(si*Dt),Ci=Math.floor(Ei-pn/2);for(let Di=0;Di<y;Di++){const Mi=yi+Di*u[2],Oi=Math.floor(Di*Yt),Ti=Math.floor(Oi-bn/2);for(let Fi=0;Fi<x;Fi++){let or=0;for(let ar=0;ar<pn;ar++){const Cr=ar+Ci;if(Cr<0||Cr>=P)continue;const fr=jn+Cr*f[1],Lr=Cr*et;if(si===Math.min(g-1,c?Math.round(Lr):Math.floor(Lr)))for(let es=0;es<bn;es++){const Ns=es+Ti;if(Ns<0||Ns>=j)continue;const no=fr+Ns*f[2],Qs=Ns*it;Di===Math.min(y-1,c?Math.round(Qs):Math.floor(Qs))&&(or+=G[no+Fi])}}J[Mi+Fi]=or}}}}return e.makeTensorInfo(r.shape,r.dtype,J)}},NW={kernelName:Fo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i;ms(r,"reverse");const c=r.shape.length,u=wn(a,r.shape);if(0===c)return km({inputs:{x:r},backend:e});const f=new nl(r.shape,r.dtype),p=e.bufferSync(r);for(let g=0;g<f.size;g++){const y=f.indexToLoc(g),x=y.slice();u.forEach(P=>x[P]=r.shape[P]-1-x[P]),f.set(p.get(...x),...y)}return e.makeTensorInfo(f.shape,f.dtype,f.values)}},OW={kernelName:ge,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=sn(i.dtype,Ot(i.shape)),[p,g,y,x]=i.shape,[P,j]=b0(c,g,y),G=Math.sin(r),he=Math.cos(r),xe=u.data.get(i.dataId).values;for(let it=0;it<p;it++){const Dt=it*y*g*x;for(let Yt=0;Yt<g;Yt++){const pn=Yt*(y*x);for(let bn=0;bn<y;bn++){const On=bn*x;for(let jn=0;jn<x;jn++){const si=[p,Yt,bn,jn],yi=si[2],Ei=si[1];let Ci=(yi-P)*he-(Ei-j)*G,Di=(yi-P)*G+(Ei-j)*he;Ci=Math.round(Ci+P),Di=Math.round(Di+j);let Mi=a;"number"!=typeof a&&(Mi=3===jn?255:a[jn]),Ci>=0&&Ci<y&&Di>=0&&Di<g&&(Mi=xe[Dt+Di*(y*x)+Ci*x+jn]),f[Dt+pn+On+jn]=Mi}}}}return{dataId:u.write(f,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},PW=El(za,n=>{const t=Math.floor(n);return n-t<.5?Math.floor(n):n-t>.5?Math.ceil(n):t%2==0?t:t+1}),FW={kernelName:za,backendName:"cpu",kernelFunc:PW},yB=Im(n=>1/Math.sqrt(n)),LW=W_(al,yB),$W={kernelName:al,backendName:"cpu",kernelFunc:LW};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xb(n,t,e,i,r,a,c,u,f,p){const g=[i/r,r],y=n.values,x=t.values;if(0===i)return Us(e,t.dtype);const P=f instanceof nl?f:Us(g,t.dtype);"string"==typeof f||"number"==typeof f?P.values.fill(f):"boolean"==typeof f&&P.values.fill(+f);for(let j=0;j<a;j++){const J=[];let G=0;for(let he=0;he<c;he++){const xe=y[j*c+he];J.push(xe),G+=xe*u[he]}if(G<0||G>=i/r)throw new Error(`Invalid indices: ${J} does not index into ${e}`);for(let he=0;he<r;he++)p?P.values[G*r+he]+=x[j*r+he]:P.values[G*r+he]=0===t.rank?x[0]:x[j*r+he]}return P}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const VW={kernelName:I,backendName:"cpu",kernelFunc:function BW(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:y}=ug(0,r,c),J=Xb(e.bufferSync(r),e.bufferSync(a),c,y,p,f,u,g,0,!0);return e.makeTensorInfo(c,J.dtype,J.values)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function UW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<t?e=r+1:i=r;return i}function zW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<=t?e=r+1:i=r;return i}const HW={kernelName:Xt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WW(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,p=function jW(n,t,e,i,r,a){const c=de("int32",e*r);for(let u=0;u<e;++u){const f=n.slice(u*i,(u+1)*i),p=u*r;for(let g=0;g<r;++g)c[p+g]="left"===a?UW(f,t[g+p]):zW(f,t[g+p])}return c}(e.data.get(r.dataId).values,e.data.get(a.dataId).values,r.shape[0],r.shape[1],a.shape[1],c);return e.makeTensorInfo(a.shape,"int32",p)}},KW={kernelName:_n,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GW(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t;ms([i,r,a],"select");const c=i.shape.length,u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=Yi(r.dtype,a.dtype),y=ui(Ot(r.shape),g);let x=0;const P=0===c||c>1||1===r.shape.length?1:Ot(r.shape.slice(1));for(let j=0;j<u.length;j++)for(let J=0;J<P;J++)y[x++]=1===u[j]?f[j]:p[j];return e.makeTensorInfo(r.shape,g,y)}},XW=w0,qW=pm,YW=El(ln,n=>n>=0?qW*n:XW*(Math.exp(n)-1)),QW={kernelName:ln,backendName:"cpu",kernelFunc:YW},ZW=El(pi,n=>n<0?-1:n>0?1:0),JW={kernelName:pi,backendName:"cpu",kernelFunc:ZW},eH=El(yn,n=>Math.sin(n)),tH={kernelName:yn,backendName:"cpu",kernelFunc:eH},nH=El(Zn,n=>Math.sinh(n)),iH={kernelName:Zn,backendName:"cpu",kernelFunc:nH},bB=Math.log(1.1920928955078125e-7)+2,rH=El(Ai,n=>{const t=n>-bB,e=n<bB,i=Math.exp(n);let r;return r=e?i:t?n:Math.log(1+i),r}),sH={kernelName:Ai,backendName:"cpu",kernelFunc:rH},aH={kernelName:Er,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;ms([r],"spaceToBatchND");const u=Ot(a),f=[[0,0]];f.push(...c);for(let Yt=1+a.length;Yt<r.shape.length;++Yt)f.push([0,0]);const p=lB.kernelFunc({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),g=pg(p.shape,a,u,!1),y=rb(g.length,a.length,!1),x=w_(p.shape,a,u,!1),J=nc({inputs:{x:p},backend:e,attrs:{shape:g}}),xe=Jd({inputs:{x:J},backend:e,attrs:{perm:y}}),Dt=nc({inputs:{x:xe},backend:e,attrs:{shape:x}});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(xe),Dt}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vB(n,t,e,i,r,a,c){const u=t[0],f=a[0],p=new Array(f),g=new Array(u),y=t[1];if(0===f){if(0!==u)throw new Error(TT(u));return[de(e,0),[0,y],de(r,0),p,g]}let x=!0,P=0;const j=new Array(f).fill(0);for(let G=0;G<u;++G){const he=n[G*y];if(he<0)throw new Error(IT(G,he));if(he>=f)throw new Error(kT(G,he,f));++j[he],x=x&&he>=P,P=he}let J=!0;for(let G=0;G<f;++G){const he=0===j[G];p[G]=he,J=J&&!he,j[G]=Math.max(j[G],1),G>0&&(j[G]+=j[G-1])}if(J&&x){const G=n,he=i;for(let xe=0;xe<u;++xe)g[xe]=xe;return[G,[u,y],he,p,g]}{const G=j[f-1],he=de(e,G*y),xe=de(r,G),et=new Array(f).fill(0);for(let it=0;it<u;++it){const Dt=n[it*y],pn=(0===Dt?0:j[Dt-1])+et[Dt];et[Dt]++;for(let bn=0;bn<y;++bn)he[pn*y+bn]=n[it*y+bn];xe[pn]=i[it],g[it]=pn}for(let it=0;it<f;++it)if(0===et[it]){const Yt=0===it?0:j[it-1];he[Yt*y+0]=it;for(let pn=1;pn<y;++pn)he[Yt*y+pn]=0;xe[Yt]=c}return[he,[G,y],xe,p,g]}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const cH={kernelName:To,backendName:"cpu",kernelFunc:function lH(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=e.data.get(c.dataId).values[0],[y,x,P,j,J]=vB(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(x,i.dtype,y),e.makeTensorInfo([x[0]],r.dtype,P),e.makeTensorInfo([j.length],"bool",new Uint8Array(j.map(G=>Number(G)))),e.makeTensorInfo([J.length],i.dtype,new Int32Array(J))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function wB(n,t,e,i,r){const a=Ot(i),c=t[0],u=r.length,f=[];let p=1,g=-1;for(let G=0;G<u;++G){const he=r[G];if(-1===he){if(-1!==g)throw new Error(AT(g,G));g=G,f.push(1)}else{if(he<0)throw new Error(lb(G,he));p*=he,f.push(he)}}if(-1!==g){if(p<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const G=Math.trunc(a/p);if(p*G!==a)throw new Error(RT(i,f));f[g]=G}if(Ot(f)!==a)throw new Error(OE(i,f));const x=i.length,P=[];if(x>0){P[x-1]=1;for(let G=x-2;G>=0;--G)P[G]=P[G+1]*i[G+1]}const j=[];if(u>0){j[u-1]=1;for(let G=u-2;G>=0;--G)j[G]=j[G+1]*f[G+1]}const J=de(e,c*u);for(let G=0;G<c;++G){let he=0;for(let xe=0;xe<x;++xe)he+=n[G*x+xe]*P[xe];for(let xe=0;xe<u;++xe)J[G*u+xe]=Math.trunc(he/j[xe]),he%=j[xe]}return[J,[c,u],f]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const dH={kernelName:Cs,backendName:"cpu",kernelFunc:function uH(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.data.get(r.dataId).values),u=e.data.get(i.dataId).values,f=Array.from(e.data.get(a.dataId).values),[p,g,y]=wB(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([y.length],a.dtype,new Int32Array(y))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AP(n,t,e,i,r,a=!1,c=0){const u=i.length,f=[t[0],n.length/t[0]],p=f[1],y=u>0?r[u-1]+1:0;if(y<0)throw new Error("segment ids must be >= 0");const x=t.slice();x[0]=y;const j=de(e,x.reduce((et,it)=>et*it,1));if(0===u)return y>0&&j.fill(c),[j,x];if(y<=0)throw new Error("segment ids must be >= 0");let J=0,G=1,he=0,xe=r[J];for(;;){let et=0;if(G<u){if(et=r[G],xe===et){++G;continue}if(xe>=et)throw new Error("segment ids are not increasing")}if(xe<0||xe>=y)throw new Error(PE(xe,y));xe>he&&j.fill(c,he*p,xe*p);for(let it=J;it<G;++it){const Dt=i[it];if(Dt<0||Dt>=f[0])throw new Error(NT(it,i[it],f[0]));for(let Yt=0;Yt<p;Yt++)j[xe*p+Yt]+=n[Dt*p+Yt]}if(a)for(let it=0;it<p;it++)j[xe*p+it]/=G-J;if(J=G,++G,he=xe+1,xe=et,G>u)break}return he<y&&j.fill(c,he*p,y*p),[j,x]
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const fH={kernelName:qs,backendName:"cpu",kernelFunc:function hH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=AP(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},mH={kernelName:Ec,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=AP(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},_H={kernelName:Ta,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gH(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:y,outputSize:x}=ug(0,r,u),P=!1,j=e.bufferSync(r);let J;switch(a.dtype){case"bool":J=Xb(j,e.bufferSync(a),u,x,g,p,f,y,!!e.data.get(c.dataId).values[0],P);break;case"float32":case"int32":J=Xb(j,e.bufferSync(a),u,x,g,p,f,y,e.data.get(c.dataId).values[0],P);break;case"string":J=Xb(j,e.bufferSync(a),u,x,g,p,f,y,Hc(e.data.get(c.dataId).values[0]),P);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return e.makeTensorInfo(u,J.dtype,J.values)}},bH={kernelName:Ts,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wn(c,r.shape)[0],f=NE(r,a,u),p=new Array(r.shape.length).fill(0),g=r.shape.slice();return f.map(y=>{const x=[...g];x[u]=y;const P=Kb({inputs:{x:r},backend:e,attrs:{begin:p,size:x}});return p[u]+=y,P})}},vH=Im(n=>Math.sqrt(n)),wH=El(_i,n=>Math.sqrt(n)),xH={kernelName:_i,backendName:"cpu",kernelFunc:wH},EH={kernelName:Io,backendName:"cpu",kernelFunc:({inputs:n,backend:t})=>{const{x:e}=n,i=t;ms(e,"square");const r=i.data.get(e.dataId).values,a=new Float32Array(r.length);for(let u=0;u<r.length;++u){const f=r[u];a[u]=f*f}return{dataId:i.write(a,e.shape,e.dtype),shape:e.shape,dtype:e.dtype}}},CH=nu((n,t)=>{const e=n-t;return e*e}),SH=Tu(Ga,CH),DH={kernelName:Ga,backendName:"cpu",kernelFunc:SH},xB=Im((n,t)=>{const{pattern:e,replaceGlobal:i,rewrite:r}=t;return n.replace(new RegExp(e,i?"g":""),r)}),TH=W_(Tl,xB),IH={kernelName:Tl,backendName:"cpu",kernelFunc:TH},kH=El(Rc,(n,t)=>{const e=t;return isNaN(n)?NaN:n>0?1:e.alpha}),AH={kernelName:Rc,backendName:"cpu",kernelFunc:kH};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EB(n,t,e,i){const r=Us(n,t.dtype);for(let a=0;a<r.size;a++){const c=r.indexToLoc(a),u=new Array(c.length);for(let f=0;f<u.length;f++)u[f]=c[f]*e[f]+i[f];r.set(t.get(...u),...c)}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const RH={kernelName:yl,backendName:"cpu",kernelFunc:function MH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:y,shrinkAxisMask:x}=i;ms(r,"stridedSlice");const{finalShapeSparse:P,finalShape:j,isIdentity:J,sliceDim0:G,isSimpleSlice:he,begin:xe,end:et,strides:it}=Xg(r.shape,a,c,u,f,p,g,y,x);let Dt;if(J)Dt=nc({inputs:{x:r},backend:e,attrs:{shape:j}});else if(G||he){Me(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const Yt=cy(xe,et,it),pn=Kb({inputs:{x:r},backend:e,attrs:{begin:xe,size:Yt}});Dt=nc({inputs:{x:pn},backend:e,attrs:{shape:j}}),e.disposeIntermediateTensorInfo(pn)}else{const pn=EB(P,e.bufferSync(r),it,xe);Dt=e.makeTensorInfo(j,pn.dtype,pn.values)}return Dt}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class NH{constructor(t,e,i,r,a,c){this.separator=pu(t),this.nGramWidths=e,this.leftPad=pu(i),this.rightPad=pu(r),this.padWidth=a,this.preserveShort=c}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,e){const i=this.getPadWidth(e);return Math.max(0,t+2*i-e+1)}createNGrams(t,e,i,r,a,c){for(let u=0;u<a;++u){const f=this.getPadWidth(c),p=Math.max(0,f-u),g=Math.max(0,f-(a-(u+1))),y=c-(p+g),x=e+(p>0?0:u-f);let P=0;P+=p*this.leftPad.length;for(let xe=0;xe<y;++xe)P+=t[x+xe].length;P+=g*this.rightPad.length,P+=(p+g+y-1)*this.separator.length,i[r+u]=new Uint8Array(P);const J=i[r+u];let G=0;const he=xe=>xe.forEach(et=>J[G++]=et);for(let xe=0;xe<p;++xe)he(this.leftPad),he(this.separator);for(let xe=0;xe<y-1;++xe)he(t[x+xe]),he(this.separator);if(y>0){he(t[x+y-1]);for(let xe=0;xe<g;++xe)he(this.separator),he(this.rightPad)}else{for(let xe=0;xe<g-1;++xe)he(this.rightPad),he(this.separator);he(this.rightPad)}}}compute(t,e){const i=t.length,r=e.length;if(r>0){let f=e[0];if(0!==f)throw new Error(`First split value must be 0, got ${f}`);for(let p=1;p<r;++p){let g=e[p]>=f;if(g=g&&e[p]<=i,!g)throw new Error(`Invalid split value ${e[p]}, must be in [${f}, ${i}]`);f=e[p]}if(f!==i)throw new Error(`Last split value must be data size. Expected ${i}, got ${f}`)}const a=r-1,c=de("int32",r);if(0===i||0===r){const f=new Array(i);for(let p=0;p<=a;++p)c[p]=0;return[f,c]}c[0]=0;for(let f=1;f<=a;++f){const p=e[f]-e[f-1];let g=0;this.nGramWidths.forEach(y=>{g+=this.getNumNGrams(p,y)}),this.preserveShort&&p>0&&0===g&&(g=1),c[f]=c[f-1]+g}const u=new Array(c[a]);for(let f=0;f<a;++f){const p=e[f];let g=c[f];if(this.nGramWidths.forEach(y=>{const P=this.getNumNGrams(e[f+1]-e[f],y);this.createNGrams(t,p,u,g,P,y),g+=P}),this.preserveShort&&g===c[f]){const y=e[f+1]-e[f];if(0===y)continue;this.createNGrams(t,p,u,g,1,y+2*this.padWidth)}}return[u,c]}}function CB(n,t,e,i,r,a,c,u){return new NH(e,i,r,a,c,u).compute(n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const PH={kernelName:Ss,backendName:"cpu",kernelFunc:function OH(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:y}=t,x=e.data.get(g.dataId).values,P=e.data.get(y.dataId).values,[j,J]=CB(x,P,r,a,c,u,f,p);return[e.makeTensorInfo([j.length],"string",j),e.makeTensorInfo(y.shape,"int32",J)]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function FH(n,t,e,i){if(!n.length)return;if(0===t.length){for(let a=0;a<n.length;++a)i.push(n.subarray(a,a+1));return}if(1===t.length){const a=t[0];let c=n.indexOf(a);for(;-1!==c;){const u=n.subarray(0,c);(!e||0!==u.length)&&i.push(u),c=(n=n.subarray(c+1)).indexOf(a)}return void((!e||0!==n.length)&&i.push(n))}let r=0;for(let a=0;a<n.length+1;a++)if(a===n.length||-1!==t.indexOf(n[a])){const c=n.subarray(r,a);(!e||0!==c.length)&&i.push(c),r=a+1}}function SB(n,t,e){const i=n.length,r=[];let a=0,c=0;const u=new Array(i);for(let x=0;x<i;++x){const P=r.length;FH(n[x],t,e,r);const j=r.length-P;u[x]=j,a+=j,c=Math.max(c,j)}const f=de("int32",2*a),p=new Array(a),g=[i,c];let y=0;for(let x=0;x<i;++x)for(let P=0;P<u[x];++P)f[2*y]=x,f[2*y+1]=P,p[y]=r[y],++y;return[f,p,g]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const $H={kernelName:bo,backendName:"cpu",kernelFunc:function LH(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.data.get(a.dataId).values,f=e.data.get(c.dataId).values[0],[p,g,y]=SB(u,f,r),x=g.length;return[e.makeTensorInfo([x,2],"int32",p),e.makeTensorInfo([x],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(y))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function DB(n,t){const e=de("int32",n.length);for(let i=0;i<n.length;++i)e[i]=Wc(n[i]).modulo(t).getLowBitsUnsigned();return e}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const VH={kernelName:gd,backendName:"cpu",kernelFunc:function BH(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const u=DB(e.data.get(a.dataId).values,r);return e.makeTensorInfo(a.shape,"int32",u)}},UH=El(Yl,n=>Math.tan(n)),zH={kernelName:Yl,backendName:"cpu",kernelFunc:UH},jH=El(Ja,n=>Math.tanh(n));
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TB(n,t){const e=new Array(n.rank);for(let r=0;r<e.length;r++)e[r]=n.shape[r]*t[r];const i=Us(e,n.dtype);for(let r=0;r<i.values.length;++r){const a=i.indexToLoc(r),c=new Array(n.rank);for(let f=0;f<c.length;f++)c[f]=a[f]%n.shape[f];const u=n.locToIndex(c);i.values[r]=n.values[u]}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const MS=(n,t)=>{const e=t.value-n.value;return 0===e?n.index-t.index:e};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function IB(n,t,e=0,i=n.length-1){for(;i>e;){if(i-e>600){const u=i-e+1,f=t-e+1,p=Math.log(u),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(u-g)/u)*Math.sign(f-u/2);IB(n,t,Math.max(e,Math.floor(t-f*g/u+y)),Math.min(i,Math.floor(t+(u-f)*g/u+y)))}const r=n[t];let a=e,c=i;for(Oe(n,e,t),MS(n[i],r)>0&&Oe(n,e,i);a<c;){for(Oe(n,a,c),a++,c--;MS(n[a],r)<0;)a+=1;for(;MS(n[c],r)>0;)c-=1}0===MS(n[e],r)?Oe(n,e,c):(c+=1,Oe(n,c,i)),c<=t&&(e=c+1),t<=c&&(i=c-1)}}function kB(n,t,e,i,r){const a=t[t.length-1],[c,u]=[n.length/a,a],f=sn(e,c*i),p=sn("int32",c*i);for(let y=0;y<c;y++){const x=y*u,P=n.subarray(x,x+u);let j=new Array(P.length);P.forEach((xe,et)=>j[et]={value:xe,index:et}),i<j.length&&(IB(j,i),j=j.slice(0,i)),r&&j.sort(MS);const J=y*i,G=f.subarray(J,J+i),he=p.subarray(J,J+i);for(let xe=0;xe<i;xe++)G[xe]=j[xe].value,he[xe]=j[xe].index}const g=t.slice();return g[g.length-1]=i,[Us(g,e,f),Us(g,"int32",p)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function AB(n,t,e){switch(e){case"reflect":return function JH(n,t){let e=n;if(e<0)if(t<=1)e=0;else{const i=2*t;e<i&&(e=i*Math.trunc(-e/i)+e),e=e<-t?e+i:-e-1}else if(e>t-1)if(t<=1)e=0;else{const i=2*t;e-=i*Math.trunc(e/i),e>=t&&(e=i-e-1)}return ve(0,e,t-1)}(n,t);case"wrap":return function e5(n,t){let e=n;return e<0?t<=1?e=0:e+=t*(Math.trunc(-e/(t-1))+1):e>t-1&&(t<=1?e=0:e-=t*Math.trunc(e/(t-1))),ve(0,e,t-1)}(n,t);case"nearest":return function n5(n,t){return ve(0,n,t-1)}(n,t);default:return function t5(n){return n}(n)}}function RS(n,t,e,i,r,a,c,u,f,p,g){return 0<=u&&u<t&&0<=f&&f<e?n[c*i+u*r+f*a+p]:g}function i5(n,t,e,i,r,a,c,u,f,p,g){return RS(n,t,e,i,r,a,c,Math.round(u),Math.round(f),p,g)}function r5(n,t,e,i,r,a,c,u,f,p,g){const y=Math.floor(u),x=Math.floor(f),P=y+1,j=x+1;return(P-u)*((j-f)*RS(n,t,e,i,r,a,c,y,x,p,g)+(f-x)*RS(n,t,e,i,r,a,c,y,j,p,g))+(u-y)*((j-f)*RS(n,t,e,i,r,a,c,P,x,p,g)+(f-x)*RS(n,t,e,i,r,a,c,P,j,p,g))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function MB(n,t,e,i){const r=wn(t,e)[0],a=[1,e[0],1];for(let j=0;j<r;j++)a[0]*=e[j];a[1]=e[r];for(let j=r+1;j<e.length;j++)a[2]*=e[j];const c=new Map,u=new Int32Array(e[r]),f=new nl(a,i,n),p=[],g=1===a[0]&&1===a[2];for(let j=0;j<e[r];j++){let J;if(g)J=n[j].toString();else{const he=[];for(let xe=0;xe<a[0];xe++)for(let et=0;et<a[2];et++)he.push(f.get(xe,j,et));J=he.join(",")}const G=c.get(J);if(null!=G)u[j]=G;else{const he=c.size;c.set(J,he),u[j]=he,p.push(j)}}const y=a.slice();y[1]=c.size;const x=new nl(y,i);p.forEach((j,J)=>{for(let G=0;G<a[0];G++)for(let he=0;he<a[2];he++)x.set(f.get(G,j,he),G,J,he)});const P=e.slice();return P[r]=y[1],{outputValues:x.values,outputShape:P,indices:u}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const d5=[nU,iU,sU,aU,ZV,cU,hU,pU,gU,yU,vU,xU,CU,TU,kU,RU,OU,FU,$U,eU,VU,jU,HU,KU,qU,YV,QU,JU,XV,ez,nz,iz,sz,az,cz,dz,fz,mz,_z,bz,wz,Ez,Sz,Tz,Iz,Az,Rz,Oz,Pz,Fz,Lz,Bz,Wz,BV,Gz,Kz,t4,n4,r4,o4,p4,m4,_4,b4,x4,C4,D4,I4,A4,R4,O4,VV,F4,tz,$4,V4,z4,UV,W4,G4,X4,Y4,Z4,tj,ij,oj,lj,uj,dj,fj,mj,_j,bj,wj,Ej,Sj,Tj,kj,Mj,Oj,Lj,Uz,Bj,zj,Hj,Xj,Yj,Zj,eW,tW,lB,sW,jV,aW,mW,_W,bW,wW,qV,DP,EW,WV,HV,JV,SW,TW,kW,MW,NW,OW,FW,$W,VW,HW,KW,QW,KV,JW,tH,iH,UU,Pj,sH,aH,cH,dH,fH,mH,_H,bH,xH,EH,DH,IH,AH,RH,PH,$H,VH,c4,zz,zH,{kernelName:Ja,backendName:"cpu",kernelFunc:jH},{kernelName:Ct,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HH(n){const{inputs:t,backend:e}=n,{tensor:i,indices:r,updates:a}=t,{sliceRank:c,numUpdates:u,sliceSize:f,strides:p,outputSize:g}=ug(0,r,i.shape),x=e.bufferSync(r),P=e.bufferSync(a),j=e.bufferSync(i),J=Xb(x,P,i.shape,g,f,u,c,p,j,!1);return e.makeTensorInfo(i.shape,J.dtype,J.values)}},{kernelName:Ia,backendName:"cpu",kernelFunc:function KH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;ms(r,"tile");const c=TB(e.bufferSync(r),a);return e.makeTensorInfo(c.shape,c.dtype,c.values)}},{kernelName:Ul,backendName:"cpu",kernelFunc:function qH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i;ms(r,"topk");const u=e.data.get(r.dataId).values,[f,p]=kB(u,r.shape,r.dtype,a,c);return[e.makeTensorInfo(f.shape,f.dtype,f.values),e.makeTensorInfo(p.shape,p.dtype,p.values)]}},{kernelName:Ds,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QH(n){const{inputs:t,attrs:e,backend:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=e,[g,y,x,P]=r.shape,[j,J]=p??[y,x],G=[g,j,J,P],he=Bt(r.shape),xe=he[0],et=he[1],it=he[2],Dt=Bt(G),Yt=Dt[0],pn=Dt[1],bn=Dt[2],On=sn(r.dtype,Ot(G));On.fill(f);const jn=i.data.get(r.dataId).values,si=i.data.get(a.dataId).values;for(let Ei=0;Ei<g;++Ei){const Ci=1===a.shape[0]?si:si.subarray(8*Ei,8*Ei+8);for(let Di=0;Di<j;++Di)for(let Mi=0;Mi<J;++Mi)for(let Oi=0;Oi<P;++Oi){let Ti;const Fi=Ci[6]*Mi+Ci[7]*Di+1;if(0===Fi)continue;const ar=(Ci[3]*Mi+Ci[4]*Di+Ci[5])/Fi,Cr=AB((Ci[0]*Mi+Ci[1]*Di+Ci[2])/Fi,x,u),fr=AB(ar,y,u);switch(c){case"nearest":Ti=i5(jn,y,x,xe,et,it,Ei,fr,Cr,Oi,f);break;case"bilinear":Ti=r5(jn,y,x,xe,et,it,Ei,fr,Cr,Oi,f);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${c}`)}On[Ei*Yt+Di*pn+Mi*bn+Oi]=Ti}return i.makeTensorInfo(G,r.dtype,On)}return{dataId:i.write(On,G,r.dtype),shape:r.shape,dtype:r.dtype}}},uU,{kernelName:Iu,backendName:"cpu",kernelFunc:function s5(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;ms(a,"unique");const c=i.data.get(a.dataId).values,{outputValues:u,outputShape:f,indices:p}=MB(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},{kernelName:ca,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a5(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r.shape.length,u=r.shape[a],f=new Array(c-1);let p=0;for(let P=0;P<c;P++)P!==a&&(f[p++]=r.shape[P]);const g=new Array(c).fill(0),y=r.shape.slice();y[a]=1;const x=new Array(u);for(let P=0;P<x.length;P++){g[a]=P;const j=Kb({inputs:{x:r},backend:e,attrs:{begin:g,size:y}});x[P]=nc({inputs:{x:j},backend:e,attrs:{shape:f}}),e.disposeIntermediateTensorInfo(j)}return x}},{kernelName:fo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function c5(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i;ms(r,"unsortedSegmentSum");const p=[],g=[],y=r.shape.length-a.shape.length;let x=a;for(let j=0;j<y;++j){const J=Ck({inputs:{input:x},backend:e,attrs:{dim:j+1}});x=J,g.push(J)}for(let j=0;j<c;++j){const J=iu(j,"int32"),G=e.makeTensorInfo([],"int32",J),he=$$({inputs:{a:G,b:x},backend:e}),xe=H_({inputs:{x:he},backend:e,attrs:{dtype:"float32"}}),et=Ek({inputs:{a:xe,b:r},backend:e}),it=AS({inputs:{x:et},backend:e,attrs:{axis:0,keepDims:!1}});p.push(it),g.push(G),g.push(he),g.push(xe),g.push(et),g.push(it)}const P=aB({inputs:p,backend:e,attrs:{axis:0}});return g.forEach(j=>e.disposeIntermediateTensorInfo(j)),P}},Jj];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of d5)ji(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const G_={},Tk={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function wp(n,t){if(!(n in G_)||null!=t){const i=function p5(n,t){if(1!==n&&2!==n)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const e=t??function f5(n){if(!we().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&2===n)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return e.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete G_[n]},!1),we().getBool("SOFTWARE_WEBGL_ENABLED")&&(Tk.failIfMajorPerformanceCaveat=!1),1===n?e.getContext("webgl",Tk)||e.getContext("experimental-webgl",Tk):e.getContext("webgl2",Tk)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(n,t);if(null===i)return console.log("Could not get context for WebGL version",n),null;G_[n]=i}const e=G_[n];return null==e||e.isContextLost()?(delete G_[n],wp(n)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),G_[n])}var Ik=function(n){return n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH",n}(Ik||{}),Ff=function(n){return n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD",n}(Ff||{}),pd=function(n){return n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16",n}(pd||{});function NS(n,t){return[t,n]}function kk(n){const t=Ot(n);return an(Math.ceil(t/4))}function Ww(n,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(n/2))]}function MP(n,t){const e=n;let i,r,a,c,u,f,p,g,y,x;return 2===we().getNumber("WEBGL_VERSION")?(i=e.R32F,r=e.R16F,a=e.RGBA16F,c=e.RGBA32F,u=e.RED,p=4,g=1,y=e.HALF_FLOAT,x=e.FLOAT,f=e.RGBA8):(i=n.RGBA,r=n.RGBA,a=n.RGBA,c=e.RGBA,u=n.RGBA,p=4,g=4,y=null!=t?t.HALF_FLOAT_OES:null,x=n.FLOAT,f=n.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:c,textureFormatFloat:u,downloadTextureFormat:f,downloadUnpackNumChannels:p,defaultNumChannels:g,textureTypeHalfFloat:y,textureTypeFloat:x}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function Fr(n,t){const e=t();return we().getBool("DEBUG")&&function _5(n){const t=n.getError();if(t!==n.NO_ERROR)throw new Error("WebGL Error: "+function w5(n,t){switch(t){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(n,t))}(n),e}function v5(n){return!!(we().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===n||5.96e-8<Math.abs(n)&&Math.abs(n)<65504)}function Ak(n,t){return Mg(n,()=>n.getExtension(t),'Extension "'+t+'" not supported on this browser.')}const C5=/ERROR: [0-9]+:([0-9]+):/g;function RB(n,t){const e=C5.exec(t);if(null==e)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(n);const i=+e[1],r=n.split("\n"),a=r.length.toString().length+2,c=r.map((y,x)=>yt((x+1).toString(),a)+y);let u=0;for(let y=0;y<c.length;y++)u=Math.max(c[y].length,u);const f=c.slice(0,i-1),p=c.slice(i-1,i),g=c.slice(i);console.log(f.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${yt(p[0],u)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(g.join("\n"))}function RP(n,t){if(Fr(n,()=>n.validateProgram(t)),!1===n.getProgramParameter(t,n.VALIDATE_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function NB(n,t,e,i,r,a,c){const u=n.getAttribLocation(t,e);return-1!==u&&(Fr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,i)),Fr(n,()=>n.vertexAttribPointer(u,r,n.FLOAT,!1,a,c)),Fr(n,()=>n.enableVertexAttribArray(u)),!0)}function P5(n,t,e,i){Fr(n,()=>function R5(n,t,e){(function PB(n,t){const e=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=t+n.TEXTURE0;if(i<n.TEXTURE0||i>e)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${e}].`)})(n,e),Fr(n,()=>n.activeTexture(n.TEXTURE0+e)),Fr(n,()=>n.bindTexture(n.TEXTURE_2D,t))}(n,t,i)),Fr(n,()=>n.uniform1i(e,i))}function NP(n,t,e){Fr(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,e)),Fr(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0))}function OB(n,t){Fr(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,t)),Fr(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0))}function Mk(n){const t=n.checkFramebufferStatus(n.FRAMEBUFFER);if(t!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function F5(n,t){switch(t){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(n,t))}function Mg(n,t,e){const i=Fr(n,()=>t());if(null==i)throw new Error(e);return i}function Hw(n,t=2){return Ot(n.slice(0,n.length-t))}function Gw(n){if(0===n.length)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function Rk(n){let t=[1,1,1];return 0===n.length||1===n.length&&1===n[0]||(t=[Hw(n),...Gw(n)]),t}function Nk(n){return n%2==0}function Ok(n,t){if(Ae(n=n.slice(-2),t=t.slice(-2))||!n.length||!t.length||0===n[0]||0===n[1]||0===t[0]||0===t[1])return!0;if(n.length!==t.length){const e=n[n.length-1],i=t[t.length-1];if(e===i||Nk(e)&&Nk(i)&&(1===n[0]||1===t[0]))return!0}return n[1]===t[1]&&Nk(n[0])&&Nk(t[0])}let Pk,Fk;function Lf(n,t){return null!=n.getExtension(t)}function FB(n){try{if(null!=wp(n))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function OP(n){const t=MP(n),e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const c=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(e),n.deleteFramebuffer(a),c}function OS(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Me("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const ys=we();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Id(){let n,t,e,i,r,a,c,u,f,p;return 2===we().getNumber("WEBGL_VERSION")?(n="#version 300 es",t="in",e="out",i="in",r="texture",a="outputColor",c="out vec4 outputColor;",u=we().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",f="",p="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",t="attribute",e="varying",i="varying",r="texture2D",a="gl_FragColor",c="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",f="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",p="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:t,varyingVs:e,varyingFs:i,texture2D:r,output:a,defineOutput:c,defineSpecialNaN:u,defineSpecialInf:f,defineRound:p}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function qb(n,t,e="index"){const i=Bt(t);return i.map((r,a)=>`int ${n[a]} = ${e} / ${r}; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * ${r}`:`index -= ${n[a]} * ${r}`};`).join("")}function Lk(n,t,e="index"){const i=Bt(t);return i.map((r,a)=>`int ${n[a]} = ${e} / outShapeStrides[${a}]; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * outShapeStrides[${a}]`:`index -= ${n[a]} * outShapeStrides[${a}]`};`).join("")}function PP(n){const t=Bt(n).map(e=>e.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}ys.registerFlag("HAS_WEBGL",()=>ys.getNumber("WEBGL_VERSION")>0),ys.registerFlag("WEBGL_VERSION",()=>FB(2)?2:FB(1)?1:0),ys.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),ys.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===ys.get("WEBGL_VERSION")),ys.registerFlag("WEBGL_CPU_FORWARD",()=>!0),ys.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),ys.registerFlag("WEBGL_PACK",()=>ys.getBool("HAS_WEBGL")),ys.registerFlag("WEBGL_PACK_NORMALIZATION",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_CLIP",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_REDUCE",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_LAZILY_UNPACK",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_CONV_IM2COL",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>ys.getBool("WEBGL_PACK")),ys.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>function $5(n){if(null==Pk){const t=wp(n);Pk=t.getParameter(t.MAX_TEXTURE_SIZE)}return Pk}(ys.getNumber("WEBGL_VERSION"))),ys.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>function B5(n){if(null==Fk){const t=wp(n);Fk=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Fk)}(ys.getNumber("WEBGL_VERSION"))),ys.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=ys.getNumber("WEBGL_VERSION");return 0===n?0:function V5(n){if(0===n)return 0;let t;const e=wp(n);return t=Lf(e,"EXT_disjoint_timer_query_webgl2")&&2===n?2:Lf(e,"EXT_disjoint_timer_query")?1:0,t}(n)}),ys.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>ys.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!$f()),ys.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>function U5(n){if(0===n)return!1;const t=wp(n);if(1===n){if(!Lf(t,"OES_texture_float"))return!1}else if(!Lf(t,"EXT_color_buffer_float"))return!1;return OP(t)}(ys.getNumber("WEBGL_VERSION"))),ys.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!ys.getBool("WEBGL_FORCE_F16_TEXTURES")&&ys.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),ys.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>function z5(n){if(0===n)return!1;const t=wp(n);if(1!==n){if(Lf(t,"EXT_color_buffer_float"))return OP(t);const i="EXT_color_buffer_half_float";if(Lf(t,i)){const r=t.getExtension(i);return function j5(n,t){const e=MP(n,t),i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatHalfFloat,1,1,0,e.textureFormatFloat,e.textureTypeHalfFloat,null);const c=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,c),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0);const u=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(i),n.deleteFramebuffer(c),u}(t,r)}return!1}return!(!Lf(t,"OES_texture_float")||!Lf(t,"WEBGL_color_buffer_float"))&&OP(t)}(ys.getNumber("WEBGL_VERSION"))),ys.registerFlag("WEBGL_FENCE_API_ENABLED",()=>function W5(n){return 2===n&&null!=wp(n).fenceSync}(ys.getNumber("WEBGL_VERSION"))),ys.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>ys.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),ys.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)}),ys.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>$f()?1:-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)}),ys.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),ys.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),ys.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),ys.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),ys.registerFlag("WEBGL_EXP_CONV",()=>!1),ys.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>ys.getBool("IS_TEST")),ys.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),ys.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),ys.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),ys.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);const LB="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:$B}=C;
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function K5(n,t,e){const i=[];if(n.forEach(P=>{const j=Ot(P.shapeInfo.logicalShape);if(P.shapeInfo.isUniform?i.push(`uniform float ${P.name}${j>1?`[${j}]`:""};`):(i.push(`uniform sampler2D ${P.name};`),i.push(`uniform int offset${P.name};`)),e.enableShapeUniforms){const{uniformShape:J}=LP(e.packedInputs,P.shapeInfo.logicalShape,P.shapeInfo.texShape);switch(J.length){case 1:i.push(`uniform int ${P.name}Shape;`);break;case 2:i.push(`uniform ivec2 ${P.name}Shape;`);break;case 3:i.push(`uniform ivec3 ${P.name}Shape;`);break;case 4:i.push(`uniform ivec4 ${P.name}Shape;`)}i.push(`uniform ivec2 ${P.name}TexShape;`)}}),e.enableShapeUniforms){switch(t.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;")}i.push("uniform ivec2 outTexShape;")}e.customUniforms&&e.customUniforms.forEach(P=>{i.push(`uniform ${P.type} ${P.name}${P.arrayIndex?`[${P.arrayIndex}]`:""};`)});const r=i.join("\n"),a=n.map(P=>function X5(n,t,e=!1,i){let r="";r+=e?BB(n,i):Kw(n,i);return n.shapeInfo.logicalShape.length<=t.logicalShape.length&&(r+=e?function TG(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",a=n.shapeInfo.logicalShape.length,c=t.logicalShape.length,u=$B(n.shapeInfo.logicalShape,t.logicalShape),f=$l(c),p=c-a;let g;const y=["x","y","z","w","u","v"];g=0===a?"":c<2&&u.length>=1?"coords = 0;":u.map(xe=>`coords.${y[xe+p]} = 0;`).join("\n");let x="";x=c<2&&a>0?"coords":n.shapeInfo.logicalShape.map((xe,et)=>`coords.${y[et+p]}`).join(", ");let P="return outputValue;";const J=1===Ot(n.shapeInfo.logicalShape),he=1===Ot(t.logicalShape);if(1!==a||J||he){if(J&&!he)P=1===c?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){const xe=a-2,et=a-1;u.indexOf(xe)>-1&&u.indexOf(et)>-1?P="return vec4(outputValue.x);":u.indexOf(xe)>-1?P="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(et)>-1&&(P="return vec4(outputValue.xx, outputValue.zz);")}}else P="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${f} coords = getOutputCoords();\n      ${g}\n      vec4 outputValue = get${i}(${x});\n      ${P}\n    }\n  `}(n,t):function IG(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",u=n.shapeInfo.logicalShape.length,f=t.logicalShape.length;if(!n.shapeInfo.isUniform&&u===f&&null==n.shapeInfo.flatOffset&&Ae(n.shapeInfo.texShape,t.texShape))return`\n      float ${r}() {\n        return sampleTexture(${e}, resultUV);\n      }\n    `;const p=$l(f),g=$B(n.shapeInfo.logicalShape,t.logicalShape),y=f-u;let x;const P=["x","y","z","w","u","v"];x=0===u?"":f<2&&g.length>=1?"coords = 0;":g.map(J=>`coords.${P[J+y]} = 0;`).join("\n");let j="";return j=f<2&&u>0?"coords":n.shapeInfo.logicalShape.map((J,G)=>`coords.${P[G+y]}`).join(", "),`\n    float ${r}() {\n      ${p} coords = getOutputCoords();\n      ${x}\n      return get${i}(${j});\n    }\n  `}(n,t)),r}(P,t,e.packedInputs,e.enableShapeUniforms)).join("\n"),c=t.texShape,u=Id(),f=function Q5(n){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${n.texture2D}(textureSampler, uv).r;\n    }\n  `}(u);let p,g,y=function eG(n){return`${n.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${n.varyingFs} vec2 resultUV;\n    ${n.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${n.defineSpecialNaN}\n    ${n.defineSpecialInf}\n    ${n.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${tG}\n    ${nG}\n    ${iG}\n  `}(u);return t.isPacked?(p=function q5(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function sG(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===i[0]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${i[1]}.0);\n      }\n    `:1===i[1]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${i[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      return 2 * (resTexRC.x * ${i[1]} + resTexRC.y);\n    }\n  `}(0,t,e);case 2:return function fG(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Ae(n,t))return e?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${i[0]}, ${i[1]}));\n      }\n    `;const r=Math.ceil(n[1]/2);return e?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function aG(n,t,e){if(e)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[2]/2),a=r*Math.ceil(n[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(n,t,e);default:return function cG(n,t,e){if(e)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[n.length-1]/2),a=r*Math.ceil(n[n.length-2]/2);let c=a,u="",f="b, r, c";for(let p=2;p<n.length-1;p++)c*=n[n.length-p-1],u=`\n      int b${p} = index / ${c};\n      index -= b${p} * ${c};\n    `+u,f=`b${p}, `+f;return`\n    ivec${n.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      ${u}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${n.length}(${f});\n    }\n  `}(n,t,e)}}(t.logicalShape,c,e.enableShapeUniforms),g=function J5(n){return`\n    void setOutput(vec4 val) {\n      ${n.output} = val;\n    }\n  `}(u)):(p=function Y5(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function oG(n,t,e){return 1===t[0]?e?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?e?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,e);case 2:return function pG(n,t,e){return Ae(n,t)?e?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===n[1]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===n[0]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:e?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${n[1]};\n      int c = index - r * ${n[1]};\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function lG(n,t,e){if(e)return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${Lk(["r","c","d"],n)}\n    return ivec3(r, c, d);\n  }\n`;const i=qb(["r","c","d"],n);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec3(r, c, d);\n    }\n  `}(n,t,e);case 4:return function uG(n,t,e){if(e)return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${Lk(["r","c","d","d2"],n)}\n      return ivec4(r, c, d, d2);\n    }\n  `;const i=qb(["r","c","d","d2"],n);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec4(r, c, d, d2);\n    }\n  `}(n,t,e);case 5:return function dG(n,t){const e=qb(["r","c","d","d2","d3"],n);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(n,t);case 6:return function hG(n,t){const e=qb(["r","c","d","d2","d3","d4"],n);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(n,t);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}(t.logicalShape,c,e.enableShapeUniforms),g=function Z5(n){return`\n    void setOutput(float val) {\n      ${n.output} = vec4(val, 0, 0, 0);\n    }\n  `}(u)),e.packedInputs&&(y+=rG),[y,f,g,r,p,a,e.userCode].join("\n")}function Kw(n,t=!1){const e=n.shapeInfo.logicalShape;switch(e.length){case 0:return function gG(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`float ${i}() {return ${e};}`;const[r,a]=n.shapeInfo.texShape;if(1===r&&1===a)return`\n      float ${i}() {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const c=Yb(e);if(t)return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `;const[u,f]=n.shapeInfo.texShape;return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${u}, ${f}, ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 1:return function yG(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`\n      float ${i}(int index) {\n        ${Xw(n)}\n      }\n    `;const r=n.shapeInfo.texShape,a=r[0],c=r[1];if(1===c&&1===a)return`\n      float ${i}(int index) {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const u=Yb(e);return 1===c?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / float(${e}TexShape[0]));\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / ${a}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `:1===a?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / float(${e}TexShape[1]), 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / ${c}.0, 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:t?`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `:`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${c}, index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 2:return function vG(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape;if(null!=a&&Ae(e,a))return t?`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${a[0]}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const{newShape:c,keptDims:u}=on(e);if(c.length<e.length){const P=["row","col"];return`\n      ${Kw(qw(n,c),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${Yw(P,u)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${e[1]}, 1)));\n        ${Xw(n)}\n      }\n    `;const p=a[0],g=a[1],y=Yb(i);return 1===g?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${y}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${i}TexShape[0]));\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${y}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${p}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `:1===p?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${y}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${i}TexShape[1]), 0.5);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${y}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${g}.0, 0.5);\n      return sampleTexture(${i}, uv);\n    }\n  `:t?`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i}Shape[1] + col + ${y};\n        vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${e[1]} + col + ${y};\n    vec2 uv = uvFromFlat(${p}, ${g}, index);\n    return sampleTexture(${i}, uv);\n  }\n`}(n,t);case 3:return function xG(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[1]*e[2],c=e[2],{newShape:u,keptDims:f}=on(e);if(u.length<e.length){const G=["row","col","depth"];return`\n        ${Kw(qw(n,u),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${Yw(G,f)});\n        }\n      `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${c}, 1)));\n        ${Xw(n)}\n      }\n    `;const g=n.shapeInfo.texShape,y=g[0],x=g[1],P=n.shapeInfo.flatOffset;if(x===a&&null==P)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${i}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${c}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${x}.0, ${y}.0);\n          return sampleTexture(${i}, uv);\n        }\n      `;if(x===c&&null==P)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${i}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${e[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${x}.0, ${y}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const j=Yb(i);return t?`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${i}Shape[1] * ${i}Shape[2];\n      int stride1 = ${i}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${j};\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n      return sampleTexture(${i}, uv);\n    }\n    `:`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${c} + depth + ${j};\n        vec2 uv = uvFromFlat(${y}, ${x}, index);\n        return sampleTexture(${i}, uv);\n      }\n  `}(n,t);case 4:return function CG(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[3],c=e[2]*a,u=e[1]*c,{newShape:f,keptDims:p}=on(e);if(f.length<e.length){const et=["row","col","depth","depth2"];return`\n      ${Kw(qw(n,f),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${Yw(et,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${u}, ${c}, ${a}, 1)));\n        ${Xw(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],P=y[1],j=`int stride2 = ${i}Shape[3];`,J=`int stride1 = ${i}Shape[2] * stride2;`,G=`int stride0 = ${i}Shape[1] * stride1;`;if(P===u&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${j}\n        ${J}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${c}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${P}.0, ${x}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;if(P===a&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${i}Shape[1] * ${i}Shape[2], ${i}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${e[1]*e[2]}, ${e[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${P}.0, ${x}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;const he=Yb(i);return t?`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${j}\n      ${J}\n      ${G}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index + ${he});\n      return sampleTexture(${i}, uv);\n    }\n  `:`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${x}, ${P}, index + ${he});\n      return sampleTexture(${i}, uv);\n    }\n  `}(n,t);case 5:return function SG(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t[4],a=t[3]*r,c=t[2]*a,u=t[1]*c,{newShape:f,keptDims:p}=on(t);if(f.length<t.length){const G=["row","col","depth","depth2","depth3"];return`\n      ${Kw(qw(n,f))}\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        return ${i}(${Yw(G,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${a}, ${r})) +\n          depth3;\n        ${Xw(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],P=y[1];if(P===u&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${c}, ${a}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${P}.0, ${x}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(P===r&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${P}.0, ${x}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${a} +\n          depth2 * ${r} + depth3 + ${Yb(e)};\n      vec2 uv = uvFromFlat(${x}, ${P}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);case 6:return function DG(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),{newShape:r,keptDims:a}=on(t);if(r.length<t.length){const he=["row","col","depth","depth2","depth3","depth4"];return`\n      ${Kw(qw(n,r))}\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${i}(${Yw(he,a)});\n      }\n    `}const c=t[5],u=t[4]*c,f=t[3]*u,p=t[2]*f,g=t[1]*p;if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${g}, ${p}, ${f}, ${u})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${c}, 1)));\n        ${Xw(n)}\n      }\n    `;const y=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,P=x[0],j=x[1];if(j===g&&null==y)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${p}, ${f}, ${u}, ${c})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${j}.0, ${P}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(j===c&&null==y)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${j}.0, ${P}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${g} + col * ${p} + depth * ${f} +\n          depth2 * ${u} + depth3 * ${c} + depth4 + ${Yb(e)};\n      vec2 uv = uvFromFlat(${P}, ${j}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);default:throw new Error(`${e.length}-D input sampling is not yet supported`)}}function BB(n,t){switch(n.shapeInfo.logicalShape.length){case 0:return function mG(n){const t=n.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${Id().texture2D}(${t}, halfCR);\n    }\n  `}(n);case 1:return function _G(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=n.shapeInfo.texShape,a=Id();if(t)return`\n    vec4 ${i}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `;const c=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${i}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${c[0]}, ${c[1]}, index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `}(n,t);case 2:return function bG(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=a[0],u=a[1],f=Id();if(null!=a&&Ae(e,a))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${u}.0, ${c}.0);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `;const p=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(e[1]/2)}, ${p[0]}, ${p[1]}, row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `}(n,t);case 3:return function wG(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===e[0]){const P=[1,2],J=["b","row","col"];return`\n        ${BB(qw(n,e.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${Yw(J,P)});\n        }\n      `}const u=Id();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `;const f=c[0],p=c[1],g=Math.ceil(e[2]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${f}, ${p}, ${g*Math.ceil(e[1]/2)}, ${g}, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `}(n,t);default:return function EG(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Id();if(t)return`\n    vec4 ${i}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${e}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${e}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${e}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${e}, uv);\n    }\n  `;const a=n.shapeInfo.logicalShape,c=a.length,u=n.shapeInfo.texShape,f=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],p=f[0],g=f[1],y=Math.ceil(a[c-1]/2);let x=y*Math.ceil(a[c-2]/2),P="int b, int row, int col",j=`b * ${x} + (row / 2) * ${y} + (col / 2)`;for(let J=2;J<c-1;J++)P=`int b${J}, `+P,x*=a[c-J-1],j=`b${J} * ${x} + `+j;return`\n    vec4 ${i}(${P}) {\n      int index = ${j};\n      int texR = index / ${g};\n      int texC = index - texR * ${g};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${g}, ${p});\n      return ${r.texture2D}(${e}, uv);\n    }\n  `}(n,t)}}const tG="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",nG="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",iG="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",rG="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Yb(n){return`offset${n}`}function Xw(n){const t=n.name,e=Ot(n.shapeInfo.logicalShape);return e<2?`return ${t};`:`\n    for (int i = 0; i < ${e}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function $l(n){if(n<=1)return"int";if(2===n)return"ivec2";if(3===n)return"ivec3";if(4===n)return"ivec4";if(5===n)return"ivec5";if(6===n)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function LP(n,t,e){const{newShape:i,keptDims:r}=on(t),a=t.length,c=n&&3===a&&1===t[0],u=c?t.slice(1):i,f=!n&&a>1&&!Ae(t,e)&&i.length<a||c;return{useSqueezeShape:f,uniformShape:f?u:t,keptDims:r}}function qw(n,t){const e=JSON.parse(JSON.stringify(n));return e.shapeInfo.logicalShape=t,e}function Yw(n,t){return t.map(e=>n[e]).join(", ")}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function UB(n,t,e){const i=[],r=[];let a,c,u,f=null,p=null;p=n.getUniformLocation(e,"NAN",!1),1===we().getNumber("WEBGL_VERSION")&&(f=n.getUniformLocation(e,"INFINITY",!1));const g=!1;for(const y of t.variableNames){const x={name:y,uniform:n.getUniformLocation(e,y,g),offset:n.getUniformLocation(e,`offset${y}`,g)};t.enableShapeUniforms&&(x.shape=n.getUniformLocation(e,`${y}Shape`,g),x.texShape=n.getUniformLocation(e,`${y}TexShape`,g)),i.push(x)}if(t.enableShapeUniforms&&(a=n.getUniformLocation(e,"outShape",g),u=n.getUniformLocation(e,"outShapeStrides",g),c=n.getUniformLocation(e,"outTexShape",g)),t.customUniforms)for(const y of t.customUniforms)r.push(n.getUniformLocation(e,y.name,g));return{variablesLocations:i,customUniformLocations:r,infLoc:f,nanLoc:p,outShapeLocation:a,outShapeStridesLocation:u,outTexShapeLocation:c}}function zB(n,t){if(n.length!==t.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${t.length} inputs`);n.forEach((e,i)=>{const r=e.logicalShape,a=t[i],c=a.shape;if(!Ae(r,c))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${c} must match`);if(e.isUniform&&a.isUniform)return;const u=e.texShape,f=a.isUniform?null:a.texData.texShape;if(!Ae(u,f))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${u} and ${f} must match`)})}function md(n){return we().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class RG{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ik.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Id();this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Lk(["r","c","d"],t):qb(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class NG{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ik.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Id();this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Lk(["r","c","d"],t):qb(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class OG{constructor(t){this.variableNames=["A"],this.outTexUsage=Ff.DOWNLOAD;const e=Id();this.outputShape=t,this.userCode=`\n      ${LB}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class PG{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ff.DOWNLOAD;const e=Id();this.outputShape=t,this.userCode=`\n      ${LB}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const FG={R:0,G:1,B:2,A:3};class jB{constructor(t,e=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Id();this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length);let a="result";e&&(a="floor(result * 255. + 0.5)");let c="";for(let u=0;u<i.length;u++)c+=`\n          if(offset == ${u}) {\n            result = values[${FG[i[u]]}];\n          }`;this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PP(t)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${i.length});\n\n        flatIndex = idiv(flatIndex, ${i.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${c}\n        }\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class LG{constructor(t,e=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=Id();this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length);let r="",a="result";e&&(a="floor(result * 255. + 0.5)");for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){const f=2*c+u;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${u} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {\n          localCoords[2] += ${u};\n          if (localCoords[1] + ${c} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {\n            localCoords[1] += ${c};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${i.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${f}] = values[0];\n            } else if (offset == 1) {\n              result[${f}] = values[1];\n            } else if (offset == 2) {\n              result[${f}] = values[2];\n            } else {\n              result[${f}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PP(t)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${i.output} = ${a};\n        }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function PS(n,t,e,i,r,a){!function A5(n,t){const e=we().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||t<=0)throw new Error(`Requested texture size [${n}x${t}] is invalid.`);if(n>e||t>e)throw new Error(`Requested texture size [${n}x${t}] greater than WebGL maximum on this browser / GPU [${e}x${e}].`)}(t,e);const c=function k5(n){return Mg(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}(n),u=n.TEXTURE_2D;return Fr(n,()=>n.bindTexture(u,c)),Fr(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),Fr(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),Fr(n,()=>n.texParameteri(u,n.TEXTURE_MIN_FILTER,n.NEAREST)),Fr(n,()=>n.texParameteri(u,n.TEXTURE_MAG_FILTER,n.NEAREST)),1===we().getNumber("WEBGL_VERSION")?Fr(n,()=>n.texImage2D(u,0,i,t,e,0,r,a,null)):Fr(n,()=>n.texStorage2D(u,1,i,t,e)),Fr(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:c,texShape:[e,t]}}function WB(n){return n.internalFormatFloat}function HB(n){return n.internalFormatHalfFloat}function GB(n){return n.downloadTextureFormat}function KB(n){return n.internalFormatPackedFloat}function XB(n){return n.internalFormatPackedHalfFloat}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class $P{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const e=we().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,function h5(n,t){G_[n]=t}(e,t)):this.gl=wp(e),t=this.gl,2===we().getNumber("WEBGL_VERSION")){const a=t;this.createVertexArray=()=>Fr(a,()=>a.createVertexArray()),this.bindVertexArray=c=>Fr(a,()=>a.bindVertexArray(c)),this.deleteVertexArray=c=>Fr(a,()=>a.deleteVertexArray(c)),this.getVertexArray=()=>Fr(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(null!=t){const a=t.getExtension("OES_vertex_array_object");if(null==a)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Fr(t,()=>a.createVertexArrayOES()),this.bindVertexArray=c=>Fr(t,()=>a.bindVertexArrayOES(c)),this.deleteVertexArray=c=>Fr(t,()=>a.deleteVertexArrayOES(c)),this.getVertexArray=()=>Fr(t,()=>t.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===we().getNumber("WEBGL_VERSION")){const c="OES_texture_half_float";if(this.textureFloatExtension=Ak(this.gl,"OES_texture_float"),Lf(this.gl,c))this.textureHalfFloatExtension=Ak(this.gl,c);else if(we().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),Lf(this.gl,r))this.colorBufferHalfFloatExtension=Ak(this.gl,r);else if(we().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",Lf(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else{if(!Lf(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=function BG(n){return function T5(n,t){const e=Mg(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Fr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),Fr(n,()=>n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}(this.gl),this.indexBuffer=function VG(n){return function I5(n,t){const e=Mg(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return Fr(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e)),Fr(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Uint16Array([0,1,2,2,1,3]))}(this.gl),this.framebuffer=function M5(n){return Mg(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=MP(this.gl,this.textureHalfFloatExtension)}get debug(){return we().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;Fr(t,()=>t.finish()),Fr(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Fr(t,()=>t.deleteFramebuffer(this.framebuffer)),Fr(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),Fr(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),Fr(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,e){return this.throwIfDisposed(),function UG(n,t,e,i){const[r,a]=NS(t,e);return PS(n,r,a,WB(i),i.textureFormatFloat,n.FLOAT)}(this.gl,t,e,this.textureConfig)}createFloat16MatrixTexture(t,e){return this.throwIfDisposed(),function zG(n,t,e,i){const[r,a]=NS(t,e);return PS(n,r,a,HB(i),i.textureFormatFloat,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createUnsignedBytesMatrixTexture(t,e){return this.throwIfDisposed(),function jG(n,t,e,i){const[r,a]=NS(t,e);return PS(n,r,a,GB(i),n.RGBA,n.UNSIGNED_BYTE)}(this.gl,t,e,this.textureConfig)}uploadPixelDataToTexture(t,e){this.throwIfDisposed(),function XG(n,t,e){Fr(n,()=>n.bindTexture(n.TEXTURE_2D,t)),e.data instanceof Uint8Array?2===we().getNumber("WEBGL_VERSION")?Fr(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.width,e.height,n.RGBA,n.UNSIGNED_BYTE,e.data)):Fr(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.width,e.height,0,n.RGBA,n.UNSIGNED_BYTE,e.data)):2===we().getNumber("WEBGL_VERSION")?Fr(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,e)):Fr(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)),Fr(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e)}uploadDenseMatrixToTexture(t,e,i,r){this.throwIfDisposed(),function KG(n,t,e,i,r,a){let c,u,f;Fr(n,()=>n.bindTexture(n.TEXTURE_2D,t)),r instanceof Uint8Array?(c=new Uint8Array(e*i*4),u=n.UNSIGNED_BYTE,f=n.RGBA):(c=new Float32Array(e*i*4),u=n.FLOAT,f=a.internalFormatPackedFloat),c.set(r),2===we().getNumber("WEBGL_VERSION")?Fr(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,i,n.RGBA,u,c)):Fr(n,()=>n.texImage2D(n.TEXTURE_2D,0,f,e,i,0,n.RGBA,u,c)),Fr(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e,i,r,this.textureConfig)}createFloat16PackedMatrixTexture(t,e){return this.throwIfDisposed(),function HG(n,t,e,i){const[r,a]=Ww(t,e);return PS(n,r,a,XB(i),n.RGBA,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createPackedMatrixTexture(t,e){return this.throwIfDisposed(),function WG(n,t,e,i){const[r,a]=Ww(t,e);return PS(n,r,a,KB(i),n.RGBA,n.FLOAT)}(this.gl,t,e,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(OB(this.gl,this.framebuffer),this.outputTexture=null),Fr(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function QG(n,t,e,i){const[r,a]=NS(t,e),u=new Uint8Array(function m5(n,t){return n*t}(t*e,4));return Fr(n,()=>n.readPixels(0,0,r,a,i.downloadTextureFormat,n.UNSIGNED_BYTE,u)),new Float32Array(u.buffer)}(this.gl,e,i,this.textureConfig))}downloadPackedMatrixFromBuffer(t,e,i,r,a,c){return function ZG(n,t,e,i,r,a,c,u){const f=n,p=new Float32Array(function g5(n,t){const[e,i]=Ww(n,t);return e*i*4}(a,c));return f.bindBuffer(f.PIXEL_PACK_BUFFER,t),f.getBufferSubData(f.PIXEL_PACK_BUFFER,0,p),f.bindBuffer(f.PIXEL_PACK_BUFFER,null),p}(this.gl,t,0,0,0,a,c)}downloadFloat32MatrixFromBuffer(t,e){return function YG(n,t,e){const i=n,r=new Float32Array(e);return i.bindBuffer(i.PIXEL_PACK_BUFFER,t),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,r),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),r}(this.gl,t,e)}createBufferFromTexture(t,e,i){this.bindTextureToFrameBuffer(t);const r=function qG(n,t,e){const r=n.createBuffer();Fr(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,r));const u=16*t*e;return Fr(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,u,n.STREAM_READ)),Fr(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,0)),Fr(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),r}(this.gl,e,i);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let e,i;if(we().getBool("WEBGL_FENCE_API_ENABLED")){const r=t,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),i=()=>{const c=r.clientWaitSync(a,0,0);return c===r.ALREADY_SIGNALED||c===r.CONDITION_SATISFIED},e=a}else we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(e,we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:e,isFencePassed:i}}downloadMatrixFromPackedTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function JG(n,t,e){const i=new Float32Array(t*e*4);return Fr(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,i)),i}(this.gl,e,i))}createProgram(t){this.throwIfDisposed();const e=this.gl;null==this.vertexShader&&(this.vertexShader=function $G(n){const t=Id();return function x5(n,t){const e=Mg(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Fr(n,()=>n.shaderSource(e,t)),Fr(n,()=>n.compileShader(e)),!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw console.log(n.getShaderInfoLog(e)),new Error("Failed to compile vertex shader.");return e}(n,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}(e));const i=function S5(n){return Mg(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}(e);Fr(e,()=>e.attachShader(i,this.vertexShader)),Fr(e,()=>e.attachShader(i,t)),function D5(n,t){if(Fr(n,()=>n.linkProgram(t)),!we().get("ENGINE_COMPILE_ONLY")&&!1===n.getProgramParameter(t,n.LINK_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(e,i);const r=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&RP(e,r),r}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const e=this.gl;Fr(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),function GG(n,t,e){Fr(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),NB(n,t,"clipSpacePos",e,3,20,0)&&NB(n,t,"uv",e,2,20,12)}(e,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&(Fr(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&RP(this.gl,this.program),Fr(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,e,i=!0){return this.throwIfDisposed(),i?function N5(n,t,e){return Mg(n,()=>n.getUniformLocation(t,e),'uniform "'+e+'" not present in program.')}(this.gl,t,e):function O5(n,t,e){return n.getUniformLocation(t,e)}(this.gl,t,e)}getAttributeLocation(t,e){return this.throwIfDisposed(),Fr(this.gl,()=>this.gl.getAttribLocation(t,e))}getUniformLocationNoThrow(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)}setInputMatrixTexture(t,e,i){this.throwIfDisposed(),this.throwIfNoProgram(),P5(this.gl,t,e,i)}setOutputMatrixTexture(t,e,i){this.setOutputMatrixTextureDriver(t,i,e)}setOutputPackedMatrixTexture(t,e,i){this.throwIfDisposed();const[r,a]=Ww(e,i);this.setOutputMatrixTextureDriver(t,r,a)}setOutputMatrixWriteRegion(t,e,i,r){this.setOutputMatrixWriteRegionDriver(i,t,r,e)}setOutputPackedMatrixWriteRegion(t,e,i,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&RP(this.gl,this.program),Mk(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Fr(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Fr(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ak(this.gl,2===we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.createQuery();return i.beginQuery(r.TIME_ELAPSED_EXT,a),a}const t=this.getQueryTimerExtensionWebGL1(),e=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,e),e}endQuery(){if(2===we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,i=this.getQueryTimerExtensionWebGL2();return void e.endQuery(i.TIME_ELAPSED_EXT)}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}waitForQueryAndGetTime(t){var e=this;return(0,oe.A)(function*(){return yield Jt(()=>e.disposed||e.isQueryAvailable(t,we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),e.getQueryTime(t,we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})()}getQueryTime(t,e){if(0===e)return null;if(2===e){const i=this.gl;return i.getQueryParameter(t,i.QUERY_RESULT)/1e6}{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,e){if(0===e)return!0;if(2===e){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.getQueryParameter(t,i.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const i=this.getQueryTimerExtensionWebGL1(),r=i.getQueryObjectEXT(t,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(t){return new Promise(e=>{this.addItemToPoll(()=>t.isFencePassed(),()=>e())})}pollItems(){const t=function e8(n){let t=0;for(;t<n.length&&n[t]();++t);return t-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.itemsToPoll.map(e=>e.isDoneFn));for(let e=0;e<=t;++e){const{resolveFn:i}=this.itemsToPoll[e];i()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,e){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in we().platform&&(i=we().platform.setTimeoutCustom.bind(we().platform)),Jt(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,i)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),NP(this.gl,t,this.framebuffer),this.debug&&Mk(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(NP(this.gl,this.outputTexture,this.framebuffer),this.debug&&Mk(this.gl)):OB(this.gl,this.framebuffer)}downloadMatrixDriver(t,e){this.bindTextureToFrameBuffer(t);const i=e();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(t,e,i){this.throwIfDisposed();const r=this.gl;NP(r,t,this.framebuffer),this.debug&&Mk(r),this.outputTexture=t,Fr(r,()=>r.viewport(0,0,e,i)),Fr(r,()=>r.scissor(0,0,e,i))}setOutputMatrixWriteRegionDriver(t,e,i,r){this.throwIfDisposed(),Fr(this.gl,()=>this.gl.scissor(t,e,i,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:t8,XI:qB,Nk:n8,f6:i8,ct:r8,YG:s8,hH:o8,z3:a8,sG:l8,uM:c8,vS:u8,qB:d8,GG:h8,rq:f8,lg:p8,WR:m8,cu:g8,GE:_8,px:y8,jC:b8,He:v8,hE:w8,BF:x8,Dk:E8,cl:C8,_B:S8,ub:D8,_f:T8,Ku:I8,qy:k8,Zy:A8,bu:M8,zv:R8,dH:YB,HS:N8,yH:O8,l3:P8,z9:QB,x6:F8,_m:L8,eW:$8,GK:B8,SP:V8,yr:U8,dl:z8,Dw:j8,xT:W8,_X:BP,wz:H8}=rt;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ZB(n,t){return["x","y","z","w","u","v"].slice(0,t).map(e=>`${n}.${e}`)}function kd(n,t){return 1===t?[n]:ZB(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class K8{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=md(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=kd("rc",this.rank),i=$l(this.rank),r=this.getOutOfBoundsCondition(e),a=this.getSetup(e),c=this.getOutput(e);this.userCode=`\n        void main() {\n          ${i} rc = getOutputCoords();\n\n          if(${r}) {\n            setOutput(vec4(0));\n          } else {\n            ${a}\n\n            setOutput(vec4(${c}));\n          }\n        }\n      `}}getSourceCoordsArr(t){const e=[];for(let i=0;i<=1;i++)for(let r=0;r<=1;r++){let a=`${0===i?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let c=2;c<this.rank;c++)a=`${t[t.length-1-c]},`+a;e.push(a)}return e}getOutOfBoundsCondition(t){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let e="";for(let i=this.rank-2;i<this.rank;i++)e+=`${t[i]} >= ${this.enableShapeUniforms?`outShape[${i}]`:this.outputShape[i]}`,i<this.rank-1&&(e+="||");return e}getSetup(t){if(1===this.rank)return"";const e=t.slice(-2);return`\n      int r = ${e[0]};\n      int c = ${e[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1]};\n      bool rEdge = rp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2]};\n    `}getOutput(t){const e=this.getSourceCoordsArr(t);return 1===this.rank?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${e[0]}),\n            cEdge ? 0. : getA(${e[1]}),\n            rEdge ? 0. : getA(${e[2]}),\n            rEdge || cEdge ? 0. : getA(${e[3]})`}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class JB{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length);let i="";for(let r=0;r<4;r++){let a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),i+=`\n        ${a}\n        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${r}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${r>0?"}":""}\n      `}this.userCode=`\n      ${function X8(n,t){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t?function G5(n,t,e="index"){const r=function H5(n,t){const e=n.length,i=n.map(a=>`${t}[${a}]`),r=new Array(e-1);r[e-2]=i[e-1];for(let a=e-3;a>=0;--a)r[a]=`(${r[a+1]} * ${i[a+1]})`;return r}(n.map((a,c)=>c),t);return r.map((a,c)=>`int ${n[c]} = ${e} / ${r[c]}; ${c===r.length-1?`int ${n[c+1]} = ${e} - ${n[c]} * ${r[c]}`:`index -= ${n[c]} * ${r[c]}`};`).join("")}(["r","c","d"],"inputShape"):qb(["r","c","d"],n)}\n      return ivec3(r, c, d);\n    }\n  `}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e,this.enableShapeUniforms)}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":PP(t)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};\n\n        ${i}\n\n        setOutput(result);\n      }\n    `}}class q8{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,e,i){const r=t3(e,i),a=n3(t,r,i);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const c=e3(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=c,this.log();const f=this.freeTextures[a].pop();return this.usedTextures[a].push(f),f}let u;return r===pd.PACKED_2X2_FLOAT32?u=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):r===pd.PACKED_2X2_FLOAT16?u=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):r===pd.UNPACKED_FLOAT32?u=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):r===pd.UNPACKED_FLOAT16?u=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):r===pd.PACKED_4X1_UNSIGNED_BYTE&&(u=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(u),this.numUsedTextures++,this._numBytesAllocated+=c,this.log(),u}releaseTexture(t,e,i,r){if(null==this.freeTextures)return;const a=t3(i,r),c=n3(e,a,r);c in this.freeTextures||(this.freeTextures[c]=[]);const u=e3(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),f=we().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==f&&this._numBytesAllocated>f?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=u):(this.freeTextures[c].push(t),this.numFreeTextures++,this._numBytesFree+=u),this.numUsedTextures--;const p=this.usedTextures[c],g=p&&p.indexOf(t);if(null==g||g<0)throw new Error("Cannot release a texture that was never provided by this texture manager");p[g]=p[p.length-1],p.pop(),this.log()}log(){if(!this.logEnabled)return;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${this.numFreeTextures+this.numUsedTextures})`);const e=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*e)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const t in this.freeTextures)this.freeTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function e3(n,t,e,i,r){const a=function Q8(n,t){switch(n){case pd.PACKED_2X2_FLOAT32:return KB(t);case pd.PACKED_2X2_FLOAT16:return XB(t);case pd.UNPACKED_FLOAT32:return WB(t);case pd.UNPACKED_FLOAT16:return HB(t);case pd.PACKED_4X1_UNSIGNED_BYTE:return GB(t);default:throw new Error(`Unknown physical texture type ${n}`)}}(t,i);let c;if(r){const[f,p]=Ww(n[0],n[1]);c=f*p}else{const[f,p]=NS(n[0],n[1]);c=f*p}const u=function Y8(n,t){if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===n.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(e,a);return c*u}function t3(n,t){if(n===Ff.UPLOAD)return pd.PACKED_2X2_FLOAT32;if(n===Ff.RENDER||null==n)return function Z8(n){return we().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?pd.PACKED_2X2_FLOAT32:pd.UNPACKED_FLOAT32:n?pd.PACKED_2X2_FLOAT16:pd.UNPACKED_FLOAT16}(t);if(n===Ff.DOWNLOAD||n===Ff.PIXELS)return pd.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function n3(n,t,e){return`${n[0]}_${n[1]}_${t}_${e}`}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Am{constructor(t,e){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${e}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Zh="if (isnan(x)) return x;",J8="return x;",i3="return abs(x);",e6="return (x >= 0.0) ? x : (exp(x) - 1.0);",t6=Zh+"\n  return (x < 0.0) ? 0.0 : x;\n",n6=Zh+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",K_="return x;",i6="return 1.0 / (1.0 + exp(-1.0 * x));",r6="return x;",s6="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",o6="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",a6="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",l6="return 1.0 / (1.0 + exp(-1.0 * x));";class X_{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${e}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class c6{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length);const e=t.length,i=kd("rc",e),r=$l(e),a=function G8(n,t){if(1===n)return"rc";let e="";for(let i=0;i<n;i++)e+=t[i],i<n-1&&(e+=",");return e}(e,i),c=i.slice(-2),u=e<=1?"rc":`vec2(${c.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const u6=c0,Bk={},p6=we().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");let _6=(()=>{class n extends St{nextDataId(){return n.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!we().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let i;if(null!=e){if(e instanceof $P)i=e;else{const r=wp(we().getNumber("WEBGL_VERSION"),e);i=new $P(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=wp(we().getNumber("WEBGL_VERSION"));i=new $P(r),this.binaryCache=function f6(n){return n in Bk||(Bk[n]={}),Bk[n]}(we().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=i,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new q8(this.gpgpu),this.numMBBeforeWarning=function g6(){return null==we().global.screen?1024:we().global.screen.height*we().global.screen.width*window.devicePixelRatio*600/1024/1024}(),this.texData=new Nt(this,vl())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,i,r,a,c,u){const f=this.makeTensorInfo(i,r),p=this.texData.get(f.dataId);p.isPacked=!1,p.texture={texture:e,texShape:[a,c]},p.texShape=[a,c];const g=Rk(i),y=new jB(g,!1,u),x=this.runWebGLProgram(y,[f],r,[[a,c]]);return x.shape=i,p.texture=null,this.disposeIntermediateTensorInfo(f),x.dataId}write(e,i,r){if((we().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||we().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:i,dtype:r,values:e,usage:Ff.UPLOAD,refCount:1}),a}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){this.texData.get(e).refCount++}decRef(e){this.texData.has(e)&&this.texData.get(e).refCount--}move(e,i,r,a,c){if(we().getBool("DEBUG")&&this.checkNumericalProblems(i),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:a,values:i,usage:Ff.UPLOAD,refCount:c})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const i=this.texData.get(e),{values:r,dtype:a,complexTensorInfos:c,slice:u,shape:f,isPacked:p}=i;if(null!=u){let P;P=p?new X_(f,K_):new Am(f,K_);const j=this.runWebGLProgram(P,[{dataId:e,shape:f,dtype:a}],a),J=this.readSync(j.dataId);return this.disposeIntermediateTensorInfo(j),J}if(null!=r)return this.convertAndCacheOnCPU(e);if("string"===a)return r;const g=null!=this.activeTimers;let y,x;return g&&(y=Is()),x="complex64"===a?hh(this.readSync(c.real.dataId),this.readSync(c.imag.dataId)):this.getValuesFromTexture(e),g&&(this.downloadWaitMs+=Is()-y),this.convertAndCacheOnCPU(e,x)}read(e){var i=this;return(0,oe.A)(function*(){if(i.pendingRead.has(e)){const G=i.pendingRead.get(e);return new Promise(he=>G.push(he))}const r=i.texData.get(e),{values:a,shape:c,slice:u,dtype:f,complexTensorInfos:p,isPacked:g}=r;if(null!=u){let G;G=g?new X_(c,K_):new Am(c,K_);const he=i.runWebGLProgram(G,[{dataId:e,shape:c,dtype:f}],f),xe=i.read(he.dataId);return i.disposeIntermediateTensorInfo(he),xe}if(null!=a)return i.convertAndCacheOnCPU(e);if(we().getBool("DEBUG")&&!we().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===we().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let x,P,y=null;if("complex64"!==f&&we().get("WEBGL_BUFFER_SUPPORTED")){x=i.decode(e);const G=i.texData.get(x.dataId);y=i.gpgpu.createBufferFromTexture(G.texture.texture,...kk(c))}if(i.pendingRead.set(e,[]),"complex64"!==f&&(yield i.gpgpu.createAndWaitForFence()),"complex64"===f){const G=yield Promise.all([i.read(p.real.dataId),i.read(p.imag.dataId)]);P=hh(G[0],G[1])}else if(null==y)P=i.getValuesFromTexture(e);else{const G=Ot(c);P=i.gpgpu.downloadFloat32MatrixFromBuffer(y,G)}if(null!=x&&i.disposeIntermediateTensorInfo(x),null!=y){const G=i.gpgpu.gl;Fr(G,()=>G.deleteBuffer(y))}const j=i.convertAndCacheOnCPU(e,P),J=i.pendingRead.get(e);return i.pendingRead.delete(e),J.forEach(G=>G(j)),i.pendingDisposal.has(e)&&(i.pendingDisposal.delete(e),i.disposeData(e)&&vl().removeDataId(e,i),i.pendingDeletes--),j})()}readToGPU(e,i={}){const r=this.texData.get(e),{values:a,shape:c,slice:u,dtype:f,isPacked:p,texture:g}=r;if("complex64"===f)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=u){let j;j=p?new X_(c,K_):new Am(c,K_);const J=this.runWebGLProgram(j,[{dataId:e,shape:c,dtype:f}],f),G=this.readToGPU(J,i);return this.disposeIntermediateTensorInfo(J),G}if(null==g)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const y=this.decode(e,i.customTexShape),x=vl().makeTensorFromTensorInfo(y),P=this.texData.get(y.dataId);return Object.assign({tensorRef:x},P.texture)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>Hc(a));return Us(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Us(e.shape,e.dtype,i)}checkNumericalProblems(e){if(null!=e)for(let i=0;i<e.length;i++){const r=e[i];if(!v5(r))throw we().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:i,dtype:r,isPacked:a}=this.texData.get(e),c=Ot(i);if(we().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const P=this.decode(e),j=this.texData.get(P.dataId),J=this.gpgpu.downloadMatrixFromPackedTexture(j.texture.texture,...kk(i)).subarray(0,c);return this.disposeIntermediateTensorInfo(P),J}const u=we().getBool("WEBGL_PACK")&&!0===a,f=u?Rk(i):i,p=u?new PG(f):new OG(f),g=this.runWebGLProgram(p,[{shape:f,dtype:r,dataId:e}],"float32"),y=this.texData.get(g.dataId),x=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture.texture,y.texShape[0],y.texShape[1]).subarray(0,c);return this.disposeIntermediateTensorInfo(g),x}timerAvailable(){return we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){var i=this;const r=this.activeTimers,a=[];let c=!1;null==this.programTimersStack?(this.programTimersStack=a,c=!0):this.activeTimers.push(a),this.activeTimers=a,e();const u=fc(this.activeTimers.map(g=>g.query)).filter(g=>null!=g),f=fc(this.activeTimers.map(g=>g.name)).filter(g=>null!=g);this.activeTimers=r,c&&(this.programTimersStack=null);const p={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,oe.A)(function*(){if(we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const g=yield Promise.all(u);p.kernelMs=function At(n){let t=0;for(let e=0;e<n.length;e++)t+=n[e];return t}(g),p.getExtraProfileInfo=()=>g.map((y,x)=>({name:f[x],ms:y})).map(y=>`${y.name}: ${y.ms}`).join(", ")}else p.kernelMs={error:"WebGL query timers are not supported in this environment."};return i.uploadWaitMs=0,i.downloadWaitMs=0,p})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Is(),endMs:null}}endTimer(e){return we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Is(),e)}getQueryTime(e){var i=this;return(0,oe.A)(function*(){return we().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?i.gpgpu.waitForQueryAndGetTime(e):e.endMs-e.startMs})()}disposeData(e,i=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(i?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!i&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return null!=r&&(this.disposeData(r.real.dataId,i),this.disposeData(r.imag.dataId,i)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:i,dtype:r,texShape:a,usage:c,isPacked:u,slice:f}=this.texData.get(e),p=f&&f.origDataId||e,g=this.dataRefCount.get(p);g>1?this.dataRefCount.set(p,g-1):(this.dataRefCount.delete(p),null!=i&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(i,a,c,u)));const y=this.texData.get(e);y.texture=null,y.texShape=null,y.isPacked=!1,y.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,i=p6){return we().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>null==this.texData.get(r.dataId).texture&&Ot(r.shape)<i)}getGPGPUContext(){return this.gpgpu}where(e){un("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const i=e.dataSync();return u6(e.shape,i)}packedUnaryOp(e,i,r){const a=new X_(e.shape,i),c=this.compileAndRun(a,[e],r);return vl().makeTensorFromTensorInfo(c)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const a=YB(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,a)}if(we().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,i3,e.dtype);const i=new Am(e.shape,i3),r=this.compileAndRun(i,[e]);return vl().makeTensorFromTensorInfo(r)}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&ci(r[0])){const c=r.map(u=>pu(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:i}}makeOutput(e,i,r){return vl().makeTensorFromTensorInfo(this.makeTensorInfo(e,i,r),this)}unpackTensor(e){const i=new c6(e.shape);return this.runWebGLProgram(i,[e],e.dtype)}packTensor(e){const i=new K8(e.shape);return this.runWebGLProgram(i,[e],e.dtype,null,!0)}packedReshape(e,i){const r=[Hw(e.shape),...Gw(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},c=[Hw(i),...Gw(i)],u=new JB(c,r),g=this.runWebGLProgram(u,[a],e.dtype,[r],!0);return{dataId:g.dataId,shape:i,dtype:g.dtype}}decode(e,i){const r=this.texData.get(e),{isPacked:a,shape:c,dtype:u}=r;null!=i&&Me(Ot(c)<=i[0]*i[1]*4,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.");const f=Rk(c);let p;p=a?new NG(f):new RG(f);const y=[i??kk(f)];return{dtype:u,shape:c,dataId:this.runWebGLProgram(p,[{shape:f,dtype:u,dataId:e}],u,y,!0,i).dataId}}runWebGLProgram(e,i,r,a,c=!1,u){const f=this.makeTensorInfo(e.outputShape,r),p=this.texData.get(f.dataId);if(e.packedOutput&&(p.isPacked=!0),e.outPackingScheme===Ik.DENSE){const xe=u??kk(e.outputShape);p.texShape=xe.map(et=>2*et)}if(null!=e.outTexUsage&&(p.usage=e.outTexUsage),0===Ot(f.shape))return p.values=sn(f.dtype,0),f;const g=[],y=i.map(xe=>{if("complex64"===xe.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let et=this.texData.get(xe.dataId);if(null==et.texture){if(!e.packedInputs&&Ot(xe.shape)<=we().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:xe.shape,texData:null,isUniform:!0,uniformValues:et.values};e.packedInputs&&(et.isPacked=!0,et.shape=xe.shape)}if(this.uploadToGPU(xe.dataId),!!et.isPacked!=!!e.packedInputs)xe=et.isPacked?this.unpackTensor(xe):this.packTensor(xe),g.push(xe),et=this.texData.get(xe.dataId);else if(et.isPacked&&!Ok(et.shape,xe.shape)){const it=xe,Dt=xe.shape;xe.shape=et.shape,xe=this.packedReshape(xe,Dt),g.push(xe),et=this.texData.get(xe.dataId),it.shape=Dt}return{shape:xe.shape,texData:et,isUniform:!1}});this.uploadToGPU(f.dataId);const x={shape:f.shape,texData:p,isUniform:!1},P=function MG(n,t,e){let i="";t.concat(e).forEach(c=>{const u=null!=c.texData&&null!=c.texData.slice&&c.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!c.isUniform){const f=c.texData.texShape,{useSqueezeShape:p,uniformShape:g,keptDims:y}=LP(n.packedInputs,c.shape,f);let x="",P="",j="";if(1===g.length&&n.packedInputs){const Dt=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)];x=`${Dt[0]>1}_${Dt[1]>1}`}else if(2!==g.length||n.packedInputs){if(g.length>2&&!n.packedInputs){const Dt=Bt(g);j=`${Dt[0]===f[1]}_${Dt[Dt.length-1]===f[1]}`}}else P=`${g[0]>1}_${g[1]>1}`;const J=c.shape.length,G=2===g.length&&Ae(c.shape,f),he=1===Ot(c.shape),xe=Jl(c.shape,e.shape),et=!n.packedInputs&&J===e.shape.length&&Ae(f,e.texData.texShape);i+=`${J}_${et}_${p?y:""}_${g.length}_${he}_${xe}_${G}_${x}_${P}_${j}_${n.packedInputs||g.length>2?"":`${f[0]>1}_${f[1]>1}`}_${u}`}else i+=`${c.shape}_${c.isUniform?"uniform":c.texData.texShape}_${u}`});let a=n.constructor.name;return a+="_"+i+"_"+n.userCode+`${we().getNumber("WEBGL_VERSION")}`,a}(e,y,x),j=this.getAndSaveBinary(P,()=>function kG(n,t,e,i){const r=e.map((g,y)=>{const x={logicalShape:g.shape,texShape:g.isUniform?null:g.texData.texShape,isUniform:g.isUniform,isPacked:!g.isUniform&&g.texData.isPacked,flatOffset:null};return null!=g.texData&&null!=g.texData.slice&&g.texData.slice.flatOffset>0&&(x.flatOffset=g.texData.slice.flatOffset),{name:t.variableNames[y],shapeInfo:x}}),a=r.map(g=>g.shapeInfo),c={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},u=K5(r,c,t),f=function E5(n,t){const e=Mg(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Fr(n,()=>n.shaderSource(e,t)),Fr(n,()=>n.compileShader(e)),we().get("ENGINE_COMPILE_ONLY"))return e;if(!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw RB(t,n.getShaderInfoLog(e)),new Error("Failed to compile fragment shader.");return e}(n.gl,u),p=n.createProgram(f);return we().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(n.buildVao(p),Object.assign({program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c},UB(n,t,p)))}(this.gpgpu,e,y,x)),J=null!=this.activeTimers;let G;J&&(G=this.startTimer()),we().get("ENGINE_COMPILE_ONLY")||function AG(n,t,e,i,r){t.program.enableShapeUniforms||(zB(t.inShapeInfos,e),zB([t.outShapeInfo],[i]));const a=i.texData.texture,c=i.texData.texShape;i.texData.isPacked?n.setOutputPackedMatrixTexture(a.texture,c[0],c[1]):n.setOutputMatrixTexture(a.texture,c[0],c[1]),n.setProgram(t.webGLProgram),n.bindVertexArray(t.webGLProgram.vao),1===we().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&n.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&n.gl.uniform1f(t.nanLoc,NaN);for(let f=0;f<e.length;++f){const p=e[f],{uniform:g,offset:y,shape:x,texShape:P}=t.variablesLocations[f];if(x){const{uniformShape:j}=LP(t.program.packedInputs,p.shape,p.texData.texShape);switch(j.length){case 1:n.gl.uniform1iv(x,new Int32Array(j));break;case 2:n.gl.uniform2iv(x,new Int32Array(j));break;case 3:n.gl.uniform3iv(x,new Int32Array(j));break;case 4:n.gl.uniform4iv(x,new Int32Array(j))}}if(P&&n.gl.uniform2i(P,p.texData.texShape[0],p.texData.texShape[1]),null!=g){if(p.isUniform){if(Ot(p.shape)<2)n.gl.uniform1f(g,p.uniformValues[0]);else{let j=p.uniformValues;j instanceof Float32Array||(j=new Float32Array(j)),n.gl.uniform1fv(g,j)}continue}null!=p.texData.slice&&null!=y&&n.gl.uniform1i(y,p.texData.slice.flatOffset),n.setInputMatrixTexture(p.texData.texture.texture,g,f)}}const u=t.outShapeLocation;if(u)switch(i.shape.length){case 1:n.gl.uniform1iv(u,new Int32Array(i.shape));break;case 2:n.gl.uniform2iv(u,new Int32Array(i.shape));break;case 3:n.gl.uniform3iv(u,new Int32Array(i.shape));break;case 4:n.gl.uniform4iv(u,new Int32Array(i.shape))}if(t.outShapeStridesLocation){const f=Bt(i.shape);switch(i.shape.length){case 2:n.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(f));break;case 3:n.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(f));break;case 4:n.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(f))}}if(t.outTexShapeLocation&&n.gl.uniform2i(t.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),t.program.customUniforms&&r)for(let f=0;f<t.program.customUniforms.length;++f){const p=t.program.customUniforms[f],g=t.customUniformLocations[f],y=r[f];if("float"===p.type)n.gl.uniform1fv(g,y);else if("vec2"===p.type)n.gl.uniform2fv(g,y);else if("vec3"===p.type)n.gl.uniform3fv(g,y);else if("vec4"===p.type)n.gl.uniform4fv(g,y);else if("int"===p.type)n.gl.uniform1iv(g,y);else if("ivec2"===p.type)n.gl.uniform2iv(g,y);else if("ivec3"===p.type)n.gl.uniform3iv(g,y);else{if("ivec4"!==p.type)throw Error(`uniform type ${p.type} is not supported yet.`);n.gl.uniform4iv(g,y)}}n.executeProgram()}(this.gpgpu,j,y,x,a),g.forEach(xe=>this.disposeIntermediateTensorInfo(xe)),J&&(G=this.endTimer(G),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(G)}));const he=we().getNumber("WEBGL_FLUSH_THRESHOLD");if(he>0){const xe=Is();xe-this.lastGlFlushTime>he&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=xe)}if(!we().getBool("WEBGL_LAZILY_UNPACK")&&p.isPacked&&!1===c){const xe=this.unpackTensor(f);return this.disposeIntermediateTensorInfo(f),xe}return f}compileAndRun(e,i,r,a,c=!1){return this.runWebGLProgram(e,i,r=r||i[0].dtype,a,c)}getAndSaveBinary(e,i){return e in this.binaryCache||(this.binaryCache[e]=i()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(we().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(i=>{this.gpgpu.deleteProgram(this.binaryCache[i].webGLProgram),delete this.binaryCache[i]}),this.textureManager.dispose(),null!=this.canvas&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Gn(()=>{if(!we().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=we().getBool("DEBUG");we().set("DEBUG",!1);const i=this.abs(Kr(1e-8)).dataSync()[0];if(we().set("DEBUG",e),i>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const i=this.texData.get(e),{shape:r,dtype:a,values:c,texture:u,usage:f,isPacked:p}=i;if(null!=u)return;const g=null!=this.activeTimers;let y;g&&(y=Is());let x=i.texShape;if(null==x&&(x=function L5(n,t=!1){let e=we().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=we().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&we().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=e/2),t&&(e*=2,i*=2,1===(n=n.map((u,f)=>f>=n.length-2?me(n[f]):n[f])).length&&(n=[2,n[0]])),2!==n.length&&(n=on(n).newShape);let r=Ot(n),a=null;n.length<=1&&r<=e?a=[1,r]:2===n.length&&n[0]<=e&&n[1]<=e?a=n:3===n.length&&n[0]*n[1]<=e&&n[2]<=e?a=[n[0]*n[1],n[2]]:3===n.length&&n[0]<=e&&n[1]*n[2]<=e?a=[n[0],n[1]*n[2]]:4===n.length&&n[0]*n[1]*n[2]<=e&&n[3]<=e?a=[n[0]*n[1]*n[2],n[3]]:4===n.length&&n[0]<=e&&n[1]*n[2]*n[3]<=e&&(a=[n[0],n[1]*n[2]*n[3]]);const c=null!=a&&Math.max(...a)>i&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||c)if(t){const u=Hw(n);let f=2,p=2;n.length&&([f,p]=Gw(n)),r=u*(f/2)*(p/2),a=an(r).map(g=>2*g)}else a=an(r);return a}(r,p),i.texShape=x),null!=c){const P=Rk(r);let j,J=x[1],G=x[0];const he=c instanceof Uint8Array||c instanceof Uint8ClampedArray;(p||!he)&&([J,G]=Ww(x[0],x[1])),j=p?new LG(P,he):new jB(P,he);const xe=he?[G,J]:x,et=this.makeTensorInfo(xe,a),it=this.texData.get(et.dataId);it.usage=he?Ff.PIXELS:Ff.UPLOAD,it.texShape=xe,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(et.dataId),J,G,c);const pn=this.runWebGLProgram(j,[et],a,[[G,J]],!0),bn=this.texData.get(pn.dataId);i.texShape=bn.texShape,i.isPacked=bn.isPacked,i.usage=bn.usage,we().get("ENGINE_COMPILE_ONLY")?this.disposeData(pn.dataId):(i.texture=bn.texture,i.values=null,this.texData.delete(pn.dataId)),this.disposeIntermediateTensorInfo(et),g&&(this.uploadWaitMs+=Is()-y)}else{const P=this.acquireTexture(x,f,a,p);i.texture=P}}convertAndCacheOnCPU(e,i){const r=this.texData.get(e),{dtype:a}=r;return null!=i&&(r.values=function y6(n,t){if("float32"===t||"complex64"===t)return n;if("int32"===t||"bool"===t){const e="int32"===t?new Int32Array(n.length):new Uint8Array(n.length);for(let i=0;i<e.length;++i)e[i]=Math.round(n[i]);return e}throw new Error(`Unknown dtype ${t}`)}
/** @license See the LICENSE file. */(i,a)),r.values}acquireTexture(e,i,r,a){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const c=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${c} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,i,a)}computeBytes(e,i){return e[0]*e[1]*rn(i)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}checkCompileCompletionAsync(){var e=this;return(0,oe.A)(function*(){const i=[];if(e.gpgpu.parallelCompilationExtension){for(const[,r]of Object.entries(e.binaryCache))i.push(e.checkCompletionAsync_(r));return Promise.all(i)}for(const[,r]of Object.entries(e.binaryCache)){const a=new Promise(c=>{try{e.checkCompletion_(r),c(!0)}catch(u){throw u}});i.push(a)}return Promise.all(i)})()}checkCompletionAsync_(e){var i=this;return(0,oe.A)(function*(){return i.gpgpu.gl.getProgramParameter(e.webGLProgram,i.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?i.checkCompletion_(e):(yield ib(),i.checkCompletionAsync_(e))})()}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS))throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)?(RB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:i,customUniformLocations:r,infLoc:a,nanLoc:c,outShapeLocation:u,outShapeStridesLocation:f,outTexShapeLocation:p}=UB(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=i,e.customUniformLocations=r,e.infLoc=a,e.nanLoc=c,e.outShapeLocation=u,e.outShapeStridesLocation=f,e.outTexShapeLocation=p}}createTensorFromGPUData(e,i,r){e.channels=e.channels||"RGBA";const{texture:a,height:c,width:u,channels:f}=e,p=vl().backend;if(!p.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const g=p.writeTexture(a,i,r,c,u,f);return vl().makeTensorFromDataId(g,i,r,p)}}return n.nextDataId=0,n})();
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
Bf()&&Cn("webgl",()=>new _6,2);const VP="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Qb{constructor(t,e,i){this.variableNames=["A","B"],this.outputShape=Bs(e,i),this.enableShapeUniforms=md(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${t}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Zb="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class Qw{constructor(t,e,i,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Bs(e,i);const a=this.outputShape.length;this.enableShapeUniforms=md(a);let c="";if(r)if(0===a||1===Ot(this.outputShape))c="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(c=`\n          ${$l(a)} coords = getOutputCoords();\n        `,1===a)c+=this.enableShapeUniforms?"\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const f=kd("coords",a);c+=this.enableShapeUniforms?`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${t}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${c}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function wh(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const w6={kernelName:hs,backendName:"webgl",kernelFunc:wh};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function q_(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.makeTensorInfo(i.shape,"complex64"),c=e.texData.get(a.dataId),u=wh({inputs:{x:i},backend:e}),f=wh({inputs:{x:r},backend:e});return c.complexTensorInfos={real:u,imag:f},a}const x6={kernelName:Vt,backendName:"webgl",kernelFunc:q_},r3="return (a < 0.) ? b * a : a;",s3="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",C6={kernelName:oo,backendName:"webgl",kernelFunc:function E6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i,c=e.makeTensorInfo([],"float32",iu(a,"float32")),u=we().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qw(s3,r.shape,c.shape):new Qb(r3,r.shape,c.shape),f=e.runWebGLProgram(u,[r,c],"float32");return e.disposeIntermediateTensorInfo(c),f}},o3="return (a < 0.) ? b * a : a;",a3="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",D6={kernelName:K,backendName:"webgl",kernelFunc:function S6(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t,a=we().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qw(a3,i.shape,r.shape):new Qb(o3,i.shape,r.shape);return e.runWebGLProgram(a,[i,r],"float32")}},Zw="if (isnan(x)) return x;";
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function La({opSnippet:n,packedOpSnippet:t,cpuKernelImpl:e,dtype:i}){return({inputs:r,backend:a})=>{const{x:c}=r,u=a,f=i||c.dtype;if(u.shouldExecuteOnCPU([c])&&null!=e){const y=u.texData.get(c.dataId),x=e(y.values,f);return u.makeTensorInfo(c.shape,f,x)}let g;return g=we().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new X_(c.shape,t):new Am(c.shape,n),u.runWebGLProgram(g,[c],f)}}function Yu({opSnippet:n,packedOpSnippet:t,checkOutOfBounds:e=!1,supportsComplex:i=!1,cpuKernelImpl:r,dtype:a}){return({inputs:c,backend:u})=>{const{a:f,b:p}=c,g=u;if(i&&"complex64"===f.dtype){const j=g.texData.get(f.dataId),J=g.texData.get(p.dataId),[G,he]=[[j.complexTensorInfos.real,J.complexTensorInfos.real],[j.complexTensorInfos.imag,J.complexTensorInfos.imag]].map(et=>{const[it,Dt]=et,Yt={dataId:it.dataId,dtype:it.dtype,shape:f.shape},pn={dataId:Dt.dataId,dtype:Dt.dtype,shape:p.shape},bn=new Qb(n,f.shape,p.shape);return g.runWebGLProgram(bn,[Yt,pn],Yi(it.dtype,Dt.dtype))}),xe=q_({inputs:{real:G,imag:he},backend:g});return g.disposeIntermediateTensorInfo(G),g.disposeIntermediateTensorInfo(he),xe}const y=a||Yi(f.dtype,p.dtype);if(("string"===f.dtype||"string"===p.dtype||g.shouldExecuteOnCPU([f,p]))&&null!=r){const j=g.texData.get(f.dataId).values,J=g.texData.get(p.dataId).values,G="string"===f.dtype?Ef(j):j,he="string"===f.dtype?Ef(J):J,[xe,et]=r(f.shape,p.shape,G,he,y),it=g.makeTensorInfo(et,y);return g.texData.get(it.dataId).values=xe,it}let P;return P=we().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new Qw(t,f.shape,p.shape,e):new Qb(n,f.shape,p.shape),g.runWebGLProgram(P,[f,p],y)}}function FS(n,t=!1){if("linear"===n)return t?r6:J8;if("relu"===n)return t?o6:t6;if("elu"===n)return t?s6:e6;if("relu6"===n)return t?a6:n6;if("prelu"===n)return t?a3:o3;if("leakyrelu"===n)return t?s3:r3;if("sigmoid"===n)return t?l6:i6;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class l3{constructor(t,e,i,r=!1,a=!1,c=!1,u=null,f=!1,p=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=md(this.outputShape.length);const y=Math.ceil((r?t[1]:t[2])/2),x=r?"i * 2, rc.y":"rc.y, i * 2",P=a?"rc.z, i * 2":"i * 2, rc.z",j=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],J=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let G="",he="";u&&(G=f?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${u}\n        }`:p?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${u}\n        }`:`vec4 activation(vec4 x) {\n          ${u}\n        }`,he="result = activation(result);");const xe=c?"result += getBiasAtOutCoords();":"";c&&this.variableNames.push("bias"),f&&this.variableNames.push("preluActivationWeights"),p&&this.variableNames.push("leakyreluAlpha");let et="rc.x",it="rc.x";t[0]<e[0]?et=`imod(rc.x, ${t[0]})`:e[0]<t[0]&&(it=`imod(rc.x, ${e[0]})`),this.userCode=`\n      ${G}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${y}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${et};\n        int batchB = ${it};\n        for (int i = 0; i < ${y}; i++) {\n          vec4 a = getMatrixA(batchA, ${x});\n          vec4 b = getMatrixB(batchB, ${P});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${j[0]} * ${J[0]});\n          result += (${j[1]} * ${J[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${xe}\n\n        ${he}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const c3={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class u3{constructor(t,e,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Bs(e,i),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${t}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const d3="return a * b;";function UP(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=Yi(i.dtype,r.dtype);if("complex64"===i.dtype){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),p=new u3(c3.REAL,i.shape,r.shape),g=new u3(c3.IMAG,i.shape,r.shape),y=[{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:i.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:f.complexTensorInfos.real.dataId,dtype:f.complexTensorInfos.real.dtype,shape:r.shape},{dataId:f.complexTensorInfos.imag.dataId,dtype:f.complexTensorInfos.imag.dtype,shape:r.shape}],x=e.runWebGLProgram(p,y,"float32"),P=e.runWebGLProgram(g,y,"float32"),j=q_({inputs:{real:x,imag:P},backend:e});return e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P),j}if(e.shouldExecuteOnCPU([i,r])){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),[p,g]=x8(i.shape,r.shape,u.values,f.values,a),y=e.makeTensorInfo(g,a);return e.texData.get(y.dataId).values=p,y}let c;return c=we().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qw(d3,i.shape,r.shape):new Qb(d3,i.shape,r.shape),e.runWebGLProgram(c,[i,r],a)}const T6={kernelName:ol,backendName:"webgl",kernelFunc:UP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pr(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=e,u=Ot(r.shape),f=vn(a,u),p=Ot(f);Me(u===p,()=>`The new shape (${f}) has ${p} elements and the old shape (${r.shape}) has ${u} elements. The new shape and old shape must have the same number of elements.`);const g=c.texData.get(r.dataId);return!g.isPacked||Ok(r.shape,f)||null!==g.texture&&Ok(g.shape,f)?(c.incRef(r.dataId),{dataId:r.dataId,shape:f,dtype:r.dtype}):function I6(n,t,e){const i=[Hw(n.shape),...Gw(n.shape)],r={dtype:n.dtype,shape:i,dataId:n.dataId},a=[Hw(t),...Gw(t)],c=new JB(a,i),p=e.runWebGLProgram(c,[r],n.dtype,[i],!0);return{dataId:p.dataId,shape:t,dtype:p.dtype}}(r,f,c)}const k6={kernelName:Yr,backendName:"webgl",kernelFunc:Pr};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class h3{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];const u=4*Math.floor(i/4),f=i%4;let p="sumValue += dot(values, ones);";if(null!=e){const y=1/e;p=`sumValue += dot(values * ${Ve(y)?y.toPrecision(2):y}, ones);`}let g="";a%i>0&&(g=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${g}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===f}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${p}\n        } else if (${2===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${p}\n        } else if (${3===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${p}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class A6{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];let u="0.0",f="";"prod"===e?u="1.0":"min"===e?(u="1.0 / 1e-20",f="min"):"max"===e&&(u="-1.0 / 1e-20",f="max");let p=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===e?p="sumValue":"prod"===e?p="prodValue":"all"===e?p="allValue":"any"===e&&(p="anyValue");const g=4*Math.floor(i/4),y=i%4;let x=`\n      if (${"sum"===e}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===e}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${f}(values, minMaxValue);\n        if (${"min"===e} || ${"max"===e}) {\n          minMaxValue = ${f}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,P="vec4";"all"===e?(u="1.0",x="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",P="bvec4"):"any"===e&&(u="0.0",x="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",P="bvec4");let j="";a%i>0&&(j=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${u};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${j}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        vec4 minMaxValue = vec4(${u});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          ${P} values = ${P}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${x}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===y}) {\n          ${P} values = ${P}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${x}\n        } else if (${2===y}) {\n          ${P} values = ${P}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${x}\n        } else if (${3===y}) {\n          ${P} values = ${P}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${x}\n        }\n        setOutput(${p});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jb(n,t,e,i){const r=function M6(n){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const e=t.length?t[t.length-1].outSize:n[1],i=wE(e);t.push({inSize:e,windowSize:i,outSize:Math.ceil(e/i)})}return t}(n.shape);let a=n;for(let c=0;c<r.length;c++){const{inSize:u,windowSize:f,outSize:p}=r[c];let g,y;g="mean"===e?0===c?new h3({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},u):new h3({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p}):new A6({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},e),y=a,a=i.runWebGLProgram(g,[a],t),y.dataId!==n.dataId&&i.disposeIntermediateTensorInfo(y)}return a}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class R6{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[e[c]];this.outputShape=i,this.rank=i.length;const r=$l(this.rank),a=function N6(n){const t=n.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(t);for(let r=0;r<n.length;r++)i[n[r]]=e[r];return i.join()}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class O6{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(t.length);for(let g=0;g<i.length;g++)i[g]=t[e[g]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=$l(this.rank),a=ZB("rc",this.rank),c=new Array(this.rank);for(let g=0;g<e.length;g++)c[e[g]]=a[g];const u=`vec2(${c.slice(-2).join()})`,f=`++${a[this.rank-1]} < ${i[this.rank-1]}`,p=`getChannel(getA(${c.join()}), ${u})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${p};\n      if(${f}) {\n        result[1] = ${p};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${i[this.rank-2]}) {\n        result[2] = ${p};\n        if(${f}) {\n          result[3] = ${p};\n        }\n      }\n      setOutput(result);\n    }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Vk(n,t,e){const i=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new O6(n.shape,t):new R6(n.shape,t);return e.runWebGLProgram(i,[n],n.dtype)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uk(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;return function P6(n,t,e,i){const a=n.shape.length,c=wn(t,n.shape);let u=c;const f=ec(u,a),p=null!=f;let g=n;p&&(g=Vk(n,f,i),u=tc(u.length,a)),Dc("sum",u,a);const[y,x]=au(g.shape,u);let P=y;e&&(P=Sc(y,c));const j=Ot(x),he=Pr({inputs:{x:g},attrs:{shape:[Ot(n.shape)/j,j]},backend:i}),et=Jb(he,ir(n.dtype),"sum",i),it=Pr({inputs:{x:et},attrs:{shape:P},backend:i});return i.disposeIntermediateTensorInfo(he),i.disposeIntermediateTensorInfo(et),p&&i.disposeIntermediateTensorInfo(g),it}(r,a,c,e)}const F6={kernelName:er,backendName:"webgl",kernelFunc:Uk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ad(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{perm:a}=i,c=e,f=new Array(r.shape.length);for(let g=0;g<f.length;g++)f[g]=r.shape[a[g]];let p;if(c.shouldExecuteOnCPU([r])){const y=c.texData.get(r.dataId).values,x=BP(y,r.shape,r.dtype,a,f);p=c.makeTensorInfo(f,r.dtype),c.texData.get(p.dataId).values=x}else p=Vk(r,a,c);return p}const L6={kernelName:sc,backendName:"webgl",kernelFunc:Ad},f3=1e3;
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zk({a:n,b:t,transposeA:e,transposeB:i,backend:r,bias:a=null,preluActivationWeights:c=null,leakyreluAlpha:u=0,activation:f=null}){const p=n.shape.length,g=t.shape.length,y=e?n.shape[p-2]:n.shape[p-1],x=i?t.shape[g-1]:t.shape[g-2],P=e?n.shape[p-1]:n.shape[p-2],j=i?t.shape[g-2]:t.shape[g-1],J=n.shape.slice(0,-2),G=t.shape.slice(0,-2),he=Ot(J),xe=Ot(G),it=Bs(n.shape.slice(0,-2),t.shape.slice(0,-2)).concat([P,j]);Me(y===x,()=>`Error in matMul: inner shapes (${y}) and (${x}) of Tensors with shapes ${n.shape} and ${t.shape} and transposeA=${e} and transposeB=${i} must match.`);const Dt=e?[he,y,P]:[he,P,y],Yt=i?[xe,j,x]:[xe,x,j],pn=Pr({inputs:{x:n},backend:r,attrs:{shape:Dt}}),bn=Pr({inputs:{x:t},backend:r,attrs:{shape:Yt}}),On=[pn,bn],jn=Math.max(he,xe),si=e?pn.shape[1]:pn.shape[2],yi=null!=a,Ei=null!=c,Ci="leakyrelu"===f,Di=null!=f?FS(f,!0):null;let Oi;if((1===P||1===j)&&si>f3&&!1===(yi||Ei||Ci||null!=Di)){let Fi=pn,or=bn;e&&(Fi=Ad({inputs:{x:pn},backend:r,attrs:{perm:[0,2,1]}}),On.push(Fi)),i&&(or=Ad({inputs:{x:bn},backend:r,attrs:{perm:[0,2,1]}}),On.push(or));const Cr=1===j;let fr=Fi;1!==j&&(fr=Pr({inputs:{x:Fi},backend:r,attrs:{shape:[jn,si,1]}}),On.push(fr));const Lr=1===j?2:1;let kr=or;Cr&&(kr=Pr({inputs:{x:or},backend:r,attrs:{shape:[jn,1,si]}}),On.push(kr));const es=UP({inputs:{a:fr,b:kr},backend:r});Oi=Uk({inputs:{x:es},backend:r,attrs:{axis:Lr,keepDims:!0}}),On.push(es)}else{const Fi=Yi(n.dtype,t.dtype),or=new l3(Dt,Yt,[jn,P,j],e,i,yi,Di,Ei,Ci),ar=[pn,bn];if(null!=a&&ar.push(a),Ei&&ar.push(c),Ci){const Cr=r.makeTensorInfo([],"float32",iu(u,"float32"));ar.push(Cr),On.push(Cr)}Oi=r.runWebGLProgram(or,ar,Fi)}const Ti=Pr({inputs:{x:Oi},backend:r,attrs:{shape:it}});On.push(Oi);for(const Fi of On)r.disposeIntermediateTensorInfo(Fi);return Ti}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const B6={kernelName:Tt,backendName:"webgl",kernelFunc:function $6(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:y}=i;return zk({a:r,b:a,transposeA:f,transposeB:p,backend:e,bias:c,preluActivationWeights:u,leakyreluAlpha:y,activation:g})}},p3="return abs(x);",U6={kernelName:Mt,backendName:"webgl",kernelFunc:function V6(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){const a=e.texData.get(i.dataId),c=YB(a.values);return e.makeTensorInfo(i.shape,i.dtype,c)}let r;return r=we().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new X_(i.shape,p3):new Am(i.shape,p3),e.runWebGLProgram(r,[i],i.dtype)}},j6=La({opSnippet:Zh+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),W6={kernelName:hn,backendName:"webgl",kernelFunc:j6},G6=La({opSnippet:Zh+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),K6={kernelName:Kn,backendName:"webgl",kernelFunc:G6},m3="return a + b;",X6=Yu({opSnippet:m3,packedOpSnippet:m3,supportsComplex:!0,cpuKernelImpl:t8}),q6={kernelName:Jn,backendName:"webgl",kernelFunc:X6};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Y6{constructor(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`float v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Q6{constructor(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`vec4 v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z6={kernelName:Bi,backendName:"webgl",kernelFunc:function jk(n){const{inputs:t,backend:e}=n,i=t;if(1===i.length)return wh({inputs:{x:i[0]},backend:e});if(i.length>we().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const f=Math.floor(i.length/2),p=jk({inputs:i.slice(0,f),backend:e}),g=jk({inputs:i.slice(f),backend:e});return jk({inputs:[p,g],backend:e})}const r=i.map(f=>f.dtype).reduce((f,p)=>Yi(f,p)),a=i.map(f=>f.shape),u=we().getBool("WEBGL_PACK")?new Q6(i[0].shape,a):new Y6(i[0].shape,a);return e.runWebGLProgram(u,i,r)}},eK={kernelName:"All",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wn(a,r.shape);let p=f;const g=ec(p,u);let y=r;null!=g&&(y=Ad({inputs:{x:r},backend:e,attrs:{perm:g}}),p=tc(p.length,u)),Dc("all",p,u);const[x,P]=au(y.shape,p),J=Pr({inputs:{x:y},backend:e,attrs:{shape:[-1,Ot(P)]}}),G=Jb(J,J.dtype,"all",e);let he;return he=Pr(c?{inputs:{x:G},backend:e,attrs:{shape:Sc(x,f)}}:{inputs:{x:G},backend:e,attrs:{shape:x}}),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(G),null!=g&&e.disposeIntermediateTensorInfo(y),he}},nK={kernelName:"Any",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wn(a,r.shape);let p=f;const g=ec(p,u);let y=r;null!=g&&(y=Ad({inputs:{x:r},backend:e,attrs:{perm:g}}),p=tc(p.length,u)),Dc("any",p,u);const[x,P]=au(y.shape,p),J=Pr({inputs:{x:y},backend:e,attrs:{shape:[-1,Ot(P)]}}),G=Jb(J,J.dtype,"any",e);let he;return he=Pr(c?{inputs:{x:G},backend:e,attrs:{shape:Sc(x,f)}}:{inputs:{x:G},backend:e,attrs:{shape:x}}),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(G),null!=g&&e.disposeIntermediateTensorInfo(y),he}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class iK{constructor(t,e,i){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:c}=t;i||this.variableNames.push("bestIndicesA"),this.outputShape=[a,c],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${"max"===e?">":"<"} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class rK{constructor(t,e,i,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Me(t.length>2,()=>`Packed arg${i.charAt(0).toUpperCase()+i.slice(1)} supports only inputs with rank above 2.`);const c=Math.ceil(t[t.length-1]/e);this.outputShape=t.slice(0,-1),c>1&&this.outputShape.push(c),r||this.variableNames.push("bestIndicesA");const u=this.outputShape,f=u.length,p=$l(f),g=kd("coords",f);let y,x;if(1===c){x=f+1;const bn=$l(x);y=`\n        ${bn} sourceLocR = ${bn}(${g.join()}, 0);\n        ++${g[f-1]};\n        ${bn} sourceLocG = ${bn}(${g.join()}, 0);\n        ++${g[f-2]};\n        ${bn} sourceLocA = ${bn}(${g.join()}, 0);\n        --${g[f-1]};\n        ${bn} sourceLocB = ${bn}(${g.join()}, 0);\n        --${g[f-2]};`}else x=f,y=`\n        ${p} sourceLocR = coords;\n        ++${g[f-1]};\n        ${p} sourceLocG = coords;\n        ++${g[f-2]};\n        ${p} sourceLocA = coords;\n        --${g[f-1]};\n        ${p} sourceLocB = coords;\n        --${g[f-2]};`;const P=["x","y","z","w","u","v"].slice(0,x),j="."+P[x-1],J=P.map(bn=>"int "+bn),G=kd("sourceLocR",x-1).concat("inIdx.r"),he=kd("sourceLocG",x-1).concat("inIdx.g"),xe=kd("sourceLocB",x-1).concat("inIdx.b"),et=kd("sourceLocA",x-1).concat("inIdx.a"),it="max"===i?"greaterThan":"lessThan",Dt=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${G.join()}),\n                             getBestIndicesAChannel(${he.join()}),\n                             getBestIndicesAChannel(${xe.join()}),\n                             getBestIndicesAChannel(${et.join()})));`,Yt=`vec4(\n            getAChannel(${G.join()}),\n            hasNextCol ? getAChannel(${he.join()}) : 0.,\n            hasNextRow ? getAChannel(${xe.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${et.join()}) : 0.)`,pn=r?"":`\n      float getBestIndicesAChannel(${J.join()}) {\n        return getChannel(getBestIndicesA(${P.join()}),\n                                          vec2(${P.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${J.join()}) {\n        return getChannel(getA(${P.join()}),\n                               vec2(${P.slice(-2).join()}));\n      }\n      ${pn}\n      void main() {\n        ${p} coords = getOutputCoords();\n        bool hasNextCol = ${g[f-1]} < ${u[f-1]-1};\n        bool hasNextRow = ${g[f-2]} < ${u[f-2]-1};\n        ${y}\n        ivec4 srcIdx = ivec4(sourceLocR${j}, sourceLocG${j},\n          sourceLocB${j}, sourceLocA${j}) * ${e};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${Yt};\n\n        for (int i = 0; i < ${e}; i++) {\n          inIdx = srcIdx;\n          ${Dt}\n          vec4 candidate = ${Yt};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${it}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function g3(n,t,e,i=null){let r=t.shape[0],a=t.shape[1];null!=i&&(r=i.shape[0],a=i.shape[1]);const c=wE(a),u={windowSize:c,inSize:a,batchSize:r,outSize:Math.ceil(a/c)},f=new iK(u,e,null==i),p=[t];null!=i&&p.push(i);const g=n.runWebGLProgram(f,p,"int32");if(1===g.shape[1])return g;const y=g3(n,t,e,g);return n.disposeIntermediateTensorInfo(g),y}function _3(n,t,e,i=null){const r=null!=i?i.shape:t.shape,c=wE(r[r.length-1]),u=new rK(r,c,e,null==i),p=n.runWebGLProgram(u,null==i?[t]:[t,i],"int32");if(p.shape.length===t.shape.length){const g=_3(n,t,e,p);return n.disposeIntermediateTensorInfo(p),g}return p}function y3(n,t,e,i){const r=[e];if(Dc("arg"+i.charAt(0).toUpperCase()+i.slice(1),r,t.shape.length),!we().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const a=[],c=n.texData.get(t.dataId);let f=t;null!==c&&c.isPacked&&(f=n.unpackTensor(t),a.push(f));const[p,g]=au(f.shape,r),y=Ot(g),x=Pr({inputs:{x:f},backend:n,attrs:{shape:[-1,y]}});a.push(x);const P=g3(n,x,i);a.push(P);const j=Pr({inputs:{x:P},backend:n,attrs:{shape:p}});return a.forEach(J=>n.disposeIntermediateTensorInfo(J)),j}return _3(n,t,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const oK={kernelName:br,backendName:"webgl",kernelFunc:function sK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wn(a,r.shape);const u=ec(c,r.shape.length);let f=r;const p=[];null!=u&&(f=Ad({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=tc(c.length,f.shape.length)),Dc("argMax",[c[0]],f.shape.length);const g=y3(e,f,c[0],"max");return p.forEach(y=>e.disposeIntermediateTensorInfo(y)),g}},lK={kernelName:Tr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wn(a,r.shape);const u=ec(c,r.shape.length);let f=r;const p=[];null!=u&&(f=Ad({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=tc(c.length,f.shape.length)),Dc("argMin",[c[0]],f.shape.length);const g=y3(e,f,c[0],"min");return p.forEach(y=>e.disposeIntermediateTensorInfo(y)),g}},uK=La({opSnippet:Zh+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),dK={kernelName:Hi,backendName:"webgl",kernelFunc:uK},fK=La({opSnippet:Zh+"return log(x + sqrt(x * x + 1.0));"}),pK={kernelName:xr,backendName:"webgl",kernelFunc:fK},gK=La({opSnippet:Zh+"\n  return atan(x);\n"}),_K={kernelName:as,backendName:"webgl",kernelFunc:gK},vK=Yu({opSnippet:VP+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Zb+"\n  return result;\n"}),wK={kernelName:bs,backendName:"webgl",kernelFunc:vK},EK=La({opSnippet:Zh+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),CK={kernelName:ts,backendName:"webgl",kernelFunc:EK};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class LS{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideHeight,f=t.strideWidth,p=t.dilationHeight,g=t.dilationWidth,y=t.effectiveFilterHeight,x=t.effectiveFilterWidth,P=t.padInfo.top,j=t.padInfo.left;this.outputShape=t.outShape;const J="avg"===e;let xe="0.0";if(J||(xe="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec2 strides = ivec2(${u}, ${f});\n        const ivec2 pads = ivec2(${P}, ${j});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${y};\n              wR += ${p}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${x};\n                wC += ${g}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`:`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`:`wR * ${x} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let it=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(it="avgValue / max(count, 1.0)");const Dt=4*Math.floor(c/4),Yt=c%4,pn=`\n      if (${J}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${u}, ${f});\n      const ivec2 pads = ivec2(${P}, ${j});\n      const float initializationValue = ${xe};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${xe});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${y};\n            wR += ${p}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${Dt}; wC += 4) {\n            int xC = xCCorner + wC * ${g};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              getValue(batch, xR, xC + 3 * ${g}, d)\n            );\n\n            ${pn}\n          }\n\n          int xC = xCCorner + ${Dt};\n          if (${1===Yt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${pn}\n          } else if (${2===Yt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${pn}\n          } else if (${3===Yt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              initializationValue\n            );\n\n            ${pn}\n          }\n        }\n        setOutput(${it});\n      }\n    `}}class zP{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideDepth,f=t.strideHeight,p=t.strideWidth,g=t.dilationDepth,y=t.dilationHeight,x=t.dilationWidth,P=t.effectiveFilterDepth,j=t.effectiveFilterHeight,J=t.effectiveFilterWidth,G=t.padInfo.front,he=t.padInfo.top,xe=t.padInfo.left;this.outputShape=t.outShape;const et="avg"===e;let it="0.0";if(et||(it="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${u}, ${f}, ${p});\n        const ivec3 pads = ivec3(${G}, ${he}, ${xe});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${P};\n              wD += ${g}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${j};\n                wR += ${y}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${J};\n                  wC += ${x}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${j} * ${J} +\n                      wR * ${J} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let Yt=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(Yt="avgValue / max(count, 1.0)");const pn=4*Math.floor(c/4),bn=c%4,On=`\n      if (${et}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${u}, ${f}, ${p});\n      const ivec3 pads = ivec3(${G}, ${he}, ${xe});\n      const float initializationValue = ${it};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${it});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${P};\n            wD += ${g}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${j};\n            wR += ${y}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${pn}; wC += 4) {\n              int xC = xCCorner + wC * ${x};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${x}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${x}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${x}, ch)\n              );\n\n              ${On}\n            }\n\n            int xC = xCCorner + ${pn};\n            if (${1===bn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${On}\n            } else if (${2===bn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${x}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${On}\n            } else if (${3===bn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${x}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${x}, ch),\n                initializationValue\n              );\n\n              ${On}\n            }\n          }\n        }\n        setOutput(${Yt});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const DK={kernelName:Os,backendName:"webgl",kernelFunc:function SK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;OS(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Me(su(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Nu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Ae(g.inShape,g.outShape))return wh({inputs:{x:r},backend:e});const y=new LS(g,"avg",!1);return e.runWebGLProgram(y,[r],"float32")}},IK={kernelName:lr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i,y=oh(r.shape,a,c,[1,1,1],u,f,p),x=new zP(y,"avg",!1);return e.runWebGLProgram(x,[r],"float32")}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class kK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const f=t.effectiveFilterHeight,p=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${f-1-t.padInfo.top}, ${p-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${f};\n            wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${p};\n            wC+= ${t.dilationWidth}) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class AK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const y=t.effectiveFilterDepth,x=t.effectiveFilterHeight,P=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${y-1-t.padInfo.front}, ${x-1-t.padInfo.top}, ${P-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterDepth*t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${y};\n            wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${x};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${P};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const RK={kernelName:Ir,backendName:"webgl",kernelFunc:function MK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,x=oh(c.shape,u,f,[1,1,1],p,g),P=new AK(x);return e.runWebGLProgram(P,[r],c.dtype)}},OK={kernelName:ds,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;OS([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Nu(c.shape,u,f,1,p),y=new kK(g);return e.runWebGLProgram(y,[r],c.dtype)}},FK={kernelName:vr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PK(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;return zk({a:r,b:a,transposeA:c,transposeB:u,backend:e})}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class LK{constructor(t,e,i,r,a,c){this.outputShape=[],this.variableNames=["x","mean","variance"],Bs(t,e),Bs(t,i);let u="0.0";null!=r&&(Bs(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="1.0";null!=a&&(Bs(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${u};\n        float scale = ${f};\n        float inv = scale * inversesqrt(variance + float(${c}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class $K{constructor(t,e,i,r,a,c){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Bs(t,e),Bs(t,i);let u="vec4(0.0)";null!=r&&(Bs(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="vec4(1.0)";null!=a&&(Bs(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        vec4 offset = ${u};\n        vec4 scale = ${f};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${c}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const BK={kernelName:In,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,mean:r,variance:a,offset:c,scale:u}=n;Me(r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Me(null==c||r.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Me(null==u||r.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:f}=e;null==f&&(f=.001);const p=[i,r,a];let g=null;null!=c&&(g=c.shape,p.push(c));let y=null;null!=u&&(y=u.shape,p.push(u));const x=we().getBool("WEBGL_PACK_NORMALIZATION")?new $K(i.shape,r.shape,a.shape,g,y,f):new LK(i.shape,r.shape,a.shape,g,y,f);return t.runWebGLProgram(x,p,p[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class VK{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const e=$l(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=function UK(n){if(1===n)return"sourceLoc";if(n<=6)return jP.slice(0,n).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.rank);let r;r=`\n        ${e} sourceLoc;\n        ${e} coords = getOutputCoords();\n        ${t.map((c,u)=>`sourceLoc.${jP[u]} = start[${u}] + coords.${jP[u]};`).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${i}));\n      }\n    `}}const jP=["x","y","z","w","u","v"];class zK{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const e=$l(this.rank),i=kd("coords",this.rank),r=kd("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,c=`getChannel(getSource(${r.join()}), ${a})`,u=`\n      result.x = ${c};\n      if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${c};\n        --${r[this.rank-1]};\n      }\n    `,f=1===this.rank?"":`\n      --${i[this.rank-1]};\n      if (++${i[this.rank-2]} < ${t[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${c};\n        if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${c};\n        }\n      }\n    `,p=this.rank<=4?`sourceLoc = coords +\n            ${e}(${t.map((g,y)=>`start[${y}]`).join()});`:t.map((g,y)=>`${r[y]} = ${i[y]} + start[${y}];`).join("\n");this.userCode=`\n      void main() {\n        ${e} coords = getOutputCoords();\n        ${e} sourceLoc;\n        ${p}\n        vec4 result = vec4(0.);\n        ${u}\n        ${f}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jw(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i,[u,f]=Bm(r,a,c);if(Up(r,u,f),0===Ot(f))return e.makeTensorInfo(f,r.dtype,[]);if(e.shouldExecuteOnCPU([r])||"string"===r.dtype){const y=e.texData.get(r.dataId),x=N8(y.values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,x)}const{isPacked:p}=e.texData.get(r.dataId),g=Kg(r.shape,u,f);if(p||!g){const y=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zK(f):new VK(f);return e.runWebGLProgram(y,[r],r.dtype,[u])}return e.uploadToGPU(r.dataId),function jK(n,t,e,i){const r=i.texData.get(n.dataId),a=i.makeTensorInfo(e,n.dtype),c=i.texData.get(a.dataId);Object.assign(c,r),c.refCount=1,c.shape=e,c.dtype=n.dtype;let u=Wp(t,Bt(n.shape));r.slice&&(u+=r.slice.flatOffset),c.slice={flatOffset:u,origDataId:r.slice&&r.slice.origDataId||n.dataId};const f=i.dataRefCount.get(c.slice.origDataId)||1;return i.dataRefCount.set(c.slice.origDataId,f+1),a}(r,u,f,e)}const WK={kernelName:Hn,backendName:"webgl",kernelFunc:Jw},HK={kernelName:tr,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;Me(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((xe,et)=>xe*et),f=pg(r.shape,a,u),p=rb(f.length,a.length),g=w_(r.shape,a,u),y=xE(c,a.length),x=v0(g,c,a.length),P=[],j=Pr({inputs:{x:r},backend:e,attrs:{shape:f}}),J=Ad({inputs:{x:j},backend:e,attrs:{perm:p}}),G=Pr({inputs:{x:J},backend:e,attrs:{shape:g}}),he=Jw({inputs:{x:G},backend:e,attrs:{begin:y,size:x}});return P.push(j),P.push(J),P.push(G),P.forEach(xe=>e.disposeIntermediateTensorInfo(xe)),he}},KK={kernelName:xi,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,u=e.readSync(r.dataId),f=e.readSync(a.dataId),p=qB(u,f,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},QK={kernelName:He,backendName:"webgl",kernelFunc:function YK(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=we().getBool("WEBGL_PACK_BINARY_OPERATIONS"),c=we().getNumber("WEBGL_VERSION");if(e.shouldExecuteOnCPU([i,r])||1===c){const f=e.texData.get(i.dataId).values,p=e.texData.get(r.dataId).values,[g,y]=i8(i.shape,r.shape,f,p,i.dtype),x=e.makeTensorInfo(y,i.dtype);return e.texData.get(x.dataId).values=g,x}let u;return u=a?new Qw("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",i.shape,r.shape,!1):new Qb("\n  return float(int(a.r) & int(b.r));\n",i.shape,r.shape),e.runWebGLProgram(u,[i,r],i.dtype)}},JK={kernelName:H,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZK(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.readSync(i.dataId),c=e.readSync(r.dataId),u=Bs(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},b3=Yu({opSnippet:"return float(a != b);",cpuKernelImpl:C8,dtype:"bool"}),e7={kernelName:qr,backendName:"webgl",kernelFunc:b3};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $S(n){const{inputs:t,backend:e}=n,{input:i}=t;return wh({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.real},backend:e})}const t7={kernelName:vi,backendName:"webgl",kernelFunc:$S},r7={kernelName:Ke,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WP(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return wh({inputs:{x:r},backend:e});const c=$c(r.shape),u=WP({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),f=q_({inputs:{real:u,imag:c},backend:e});return c.dispose(),e.disposeIntermediateTensorInfo(u),f}if("complex64"===r.dtype){const c=$S({inputs:{input:r},backend:e}),u=WP({inputs:{x:c},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(c),u}if(!ut(r.dtype,a)){const c=wh({inputs:{x:r},backend:e});return{dataId:c.dataId,shape:c.shape,dtype:a}}if(e.shouldExecuteOnCPU([r])){const c=e.texData.get(r.dataId).values,[u,f,p]=r8(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}if("int32"===a)return function i7(n,t){const e=new Am(n.shape,"return float(int(x));"),i=t.runWebGLProgram(e,[n],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}(r,e);if("bool"===a){const c=e.makeTensorInfo([],"bool",sn("bool",1)),f=b3({inputs:{a:r,b:c},backend:e});return e.disposeIntermediateTensorInfo(c),f}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${a}`)}},v3="return ceil(x);",s7=La({opSnippet:v3,packedOpSnippet:v3,cpuKernelImpl:s8}),o7={kernelName:ze,backendName:"webgl",kernelFunc:s7};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class a7{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class l7{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const u7={kernelName:kt,backendName:"webgl",kernelFunc:function c7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{clipValueMin:a,clipValueMax:c}=i;let u;return u=we().getBool("WEBGL_PACK_CLIP")?new l7(r.shape):new a7(r.shape),e.runWebGLProgram(u,[r],r.dtype,[[a],[c]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class d7{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function w3(n,t){return{dataId:t.dataId,dtype:t.dtype,shape:n.shape}}const f7={kernelName:mi,backendName:"webgl",kernelFunc:function h7(n){const{inputs:t,backend:e}=n,{x:i}=t,r=e.texData.get(i.dataId),a=new d7(i.shape),c=[w3(i,r.complexTensorInfos.real),w3(i,r.complexTensorInfos.imag)];return e.runWebGLProgram(a,c,c[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class p7{constructor(t){this.outputShape=[],this.outputShape=wf(t,1),this.variableNames=t.map((c,u)=>`T${u}`);const e=new Array(t.length-1);e[0]=t[0][1];for(let c=1;c<e.length;c++)e[c]=e[c-1]+t[c][1];const i=[`if (yC < ${e[0]}) setOutput(getT0(yR, yC));`];for(let c=1;c<e.length;c++)i.push(`else if (yC < ${e[c]}) setOutput(getT${c}(yR, yC-${e[c-1]}));`);i.push(`else setOutput(getT${e.length}(yR, yC-${e[e.length-1]}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${i.join("\n        ")}\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class m7{constructor(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=wf(t,e);const i=this.outputShape,r=i.length,a=$l(r),c=kd("coords",r),u=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map((J,G)=>`T${G}`);const f=new Array(t.length-1);f[0]=t[0][e];for(let J=1;J<f.length;J++)f[J]=f[J-1]+t[J][e];const p=u[e],g=u.slice(-2),y=u.join();let x=`if (${p} < ${f[0]}) {\n        return getChannel(\n            getT0(${y}), vec2(${g.join()}));\n        }`;for(let J=1;J<f.length;J++){const G=f[J-1];x+=`\n        if (${p} < ${f[J]}  && ${p} >= ${f[J-1]}) {\n          return getChannel(\n            getT${J}(${Wk(u,p,G)}),\n            vec2(${Wk(g,p,G)}));\n        }`}const j=f[f.length-1];x+=`\n        return getChannel(\n          getT${f.length}(${Wk(u,p,j)}),\n          vec2(${Wk(g,p,j)}));`,this.userCode=`\n      float getValue(${u.map(J=>"int "+J)}) {\n        ${x}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${c}), 0., 0., 0.);\n\n        ${c[r-1]} = ${c[r-1]} + 1;\n        if (${c[r-1]} < ${i[r-1]}) {\n          result.g = getValue(${c});\n        }\n\n        ${c[r-2]} = ${c[r-2]} + 1;\n        if (${c[r-2]} < ${i[r-2]}) {\n          result.a = getValue(${c});\n        }\n\n        ${c[r-1]} = ${c[r-1]} - 1;\n        if (${c[r-2]} < ${i[r-2]} &&\n            ${c[r-1]} < ${i[r-1]}) {\n          result.b = getValue(${c});\n        }\n        setOutput(result);\n      }\n    `}}function Wk(n,t,e){const i=n.indexOf(t);return n.map((a,c)=>c===i?`${a} - ${e}`:a).join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Hk(n){const{inputs:t,backend:e}=n,{input:i}=t;return wh({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.imag},backend:e})}const g7={kernelName:Ms,backendName:"webgl",kernelFunc:Hk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function BS(n,t,e){const i=n[0].dtype;if("complex64"===i){const P=n.map(xe=>$S({inputs:{input:xe},backend:e})),j=n.map(xe=>Hk({inputs:{input:xe},backend:e})),J=BS(P,t,e),G=BS(j,t,e),he=q_({inputs:{real:J,imag:G},backend:e});return P.forEach(xe=>e.disposeIntermediateTensorInfo(xe)),j.forEach(xe=>e.disposeIntermediateTensorInfo(xe)),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(G),he}let r=e.shouldExecuteOnCPU(n);if("string"===i&&(r=!0),r){const P=n.map(it=>{const Yt=[-1,Ot(it.shape.slice(t))];return Pr({inputs:{x:it},backend:e,attrs:{shape:Yt}})}),j=P.map(it=>({vals:e.readSync(it.dataId),shape:it.shape})),J=wf(P.map(it=>it.shape),1),he=o8(j,J,i,1===P[0].shape[0]),xe=wf(n.map(it=>it.shape),t),et=e.makeTensorInfo(xe,i,he);return P.forEach(it=>e.disposeIntermediateTensorInfo(it)),et}const a=n.filter(P=>Ot(P.shape)>0),c=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const P=c?new Am(n[0].shape,K_):new X_(n[0].shape,K_);return e.runWebGLProgram(P,n,i)}const u=we().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>u){const P=[];for(let J=0;J<a.length;J+=u){const G=a.slice(J,J+u);P.push(BS(G,t,e))}const j=BS(P,t,e);for(const J of P)e.disposeIntermediateTensorInfo(J);return j}if(c){const P=new m7(a.map(j=>j.shape),t);return e.runWebGLProgram(P,a,i)}const{tensors2D:f,outShape:p}=function _7(n,t,e){const i=wf(n.map(a=>a.shape),t);return{tensors2D:n.map(a=>Pr({inputs:{x:a},attrs:{shape:[-1,Ot(a.shape.slice(t))]},backend:e})),outShape:i}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(a,t,e),g=new p7(f.map(P=>P.shape)),y=e.runWebGLProgram(g,f,i);f.forEach(P=>e.disposeIntermediateTensorInfo(P));const x=Pr({inputs:{x:y},attrs:{shape:p},backend:e});return e.disposeIntermediateTensorInfo(y),x}function x3(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wn(r,t[0].shape)[0];vE(t.map(p=>p.shape),a);const u=wf(t.map(p=>p.shape),a);if(0===Ot(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(p=>Ot(p.shape)>0);return 1===f.length?wh({inputs:{x:f[0]},backend:e}):BS(f,a,e)}const y7={kernelName:Zi,backendName:"webgl",kernelFunc:x3};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class E3{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const c=t.padInfo.top,u=t.padInfo.left,f=t.strideHeight,p=t.strideWidth,g=t.dilationHeight,y=t.dilationWidth,x=t.filterHeight,P=t.filterWidth,j=4*Math.floor(t.inChannels/4),J=t.inChannels%4,G="channelsLast"===t.dataFormat,he=G?1:2,xe=G?2:3,et=G?3:1;let it="",Dt="";i&&(it=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,Dt="result = activation(result);");const Yt=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${it}\n\n      const ivec2 strides = ivec2(${f}, ${p});\n      const ivec2 pads = ivec2(${c}, ${u});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${et}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${he}], coords[${xe}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${x}; wR++) {\n          int xR = xRCorner + wR * ${g};\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${P}; wC++) {\n            int xC = xCCorner + wC * ${y};\n\n            if (xC < 0 || xC >= ${t.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${j}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${G}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===J}) {\n\n              if (${G}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${j}) *\n                    getW(wR, wC, ${j}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${j}, xR, xC) *\n                    getW(wR, wC, ${j}, d2);\n              }\n\n            } else if (${2===J}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${j}, d2),\n                getW(wR, wC, ${j} + 1, d2)\n              );\n\n              if (${G}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${j}),\n                  getX(batch, xR, xC, ${j} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${j}, xR, xC),\n                  getX(batch, ${j} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===J}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${j}, d2),\n                getW(wR, wC, ${j} + 1, d2),\n                getW(wR, wC, ${j} + 2, d2)\n              );\n\n              if (${G}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${j}),\n                  getX(batch, xR, xC, ${j} + 1),\n                  getX(batch, xR, xC, ${j} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${j}, xR, xC),\n                  getX(batch, ${j} + 1, xR, xC),\n                  getX(batch, ${j} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${Yt}\n        ${Dt}\n        setOutput(result);\n      }\n    `}}class b7{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const e=t.padInfo.front,i=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,c=t.strideHeight,u=t.strideWidth,f=t.dilationDepth,p=t.dilationHeight,g=t.dilationWidth,y=t.filterDepth,x=t.filterHeight,P=t.filterWidth,j=4*Math.floor(t.inChannels/4),J=t.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${c}, ${u});\n      const ivec3 pads = ivec3(${e}, ${i}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${y}; wF++) {\n          int xF = xFCorner + wF * ${f};\n\n          if (xF < 0 || xF >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${x}; wR++) {\n            int xR = xRCorner + wR * ${p};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${P}; wC++) {\n              int xC = xCCorner + wC * ${g};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${j}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===J}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${j}) *\n                  getW(wF, wR, wC, ${j}, d2);\n              } else if (${2===J}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${j}),\n                  getX(batch, xF, xR, xC, ${j} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${j}, d2),\n                  getW(wF, wR, wC, ${j} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===J}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${j}),\n                  getX(batch, xF, xR, xC, ${j} + 1),\n                  getX(batch, xF, xR, xC, ${j} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${j}, d2),\n                  getW(wF, wR, wC, ${j} + 1, d2),\n                  getW(wF, wR, wC, ${j} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class C3{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=md(this.outputShape.length);const c=t.padInfo.left,u=t.strideWidth,f=t.dilationWidth,p=t.filterHeight,g=t.filterWidth,y=g;let x="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let G=0;G<g;G++)x+=`\n           vec4 xTexelC${2*G};\n           int xTexelC${2*G}Ready;\n           vec4 xTexelC${2*G+1};\n           int xTexelC${2*G+1}Ready;\n           vec4 xC${G};`;x+=`\n     for (int r = 0; r < ${p}; r++) {\n      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {\n       `;for(let G=0;G<g;G++)x+=`\n           xTexelC${2*G} = vec4(0.0);\n           xTexelC${2*G}Ready = 0;\n           xTexelC${2*G+1} = vec4(0.0);\n           xTexelC${2*G+1}Ready = 0;\n           xC${G} = vec4(0.0);`;x+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let G=0;G<(y+1)/2;G++){const he=2*G;if(x+=`\n           xC = xCCorner + ${he*f};\n           `,1===u){if(he<g&&(c%2==1?(x+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${he}Ready == 0) {\n                   xTexelC${he} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${he}.zw = vec2(0.0);\n                   }\n                   xTexelC${he}Ready = 1;\n                 }\n               `,x+=1===f&&he>0?`\n                 xC${he} = vec4(xTexelC${he-2}.zw, xTexelC${he}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${he} = vec4(previous.zw, xTexelC${he}.xy);\n                   } else {\n                     xC${he} = vec4(0.0, 0.0, xTexelC${he}.xy);\n                   }\n                   `):x+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${he}Ready == 0) {\n                   xTexelC${he} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${he}.zw = vec2(0.0);\n                   }\n                   xTexelC${he}Ready = 1;\n                 }\n\n                 xC${he} = xTexelC${he};\n                 `,he+1<g)){const xe=c%2==0?me(f):f;f%2==0&&c%2==1||f%2!=0&&c%2!=1?(x+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${xe};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${he+1}Ready == 0) {\n                     xTexelC${he+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${he+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${he+1}Ready = 1;\n                   }\n                   `,x+=f>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${he+1} = vec4(previous.zw, xTexelC${he+1}.xy);\n                     } else {\n                      xC${he+1} = vec4(0.0, 0.0, xTexelC${he+1}.xy);\n                     }\n                     `:`\n                     xC${he+1} = vec4(xTexelC${he}.zw, xTexelC${he+1}.xy);\n                     `):x+=1===xe?`\n                     xC${he+1} = xTexelC${he};\n                     `:`\n                     xCOffset = xC + ${xe};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${he+1}Ready == 0) {\n                       xTexelC${he+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${he+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${he+1}Ready = 1;\n                     }\n\n                     xC${he+1} = xTexelC${he+1};\n                     `}}else he<g&&(c%2==1?(x+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${he}Ready == 0) {\n                   xTexelC${he} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${he}.zw = vec2(0.0);\n                   }\n                   xTexelC${he}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${he+1}Ready == 0) {\n                   xTexelC${he+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${he+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${he+1}Ready = 1;\n                 }\n\n                 xC${he} = vec4(xTexelC${he}.zw, xTexelC${he+1}.zw);\n               `,he+1<g&&(x+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${he+1} = vec4(xTexelC${he+1}.xy, final.xy);\n                 `)):(x+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${he}Ready == 0) {\n                   xTexelC${he} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${he}.zw = vec2(0.0);\n                   }\n                   xTexelC${he}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${he+1}Ready == 0) {\n                   xTexelC${he+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${he+1}.zw = vec2(0.);\n                   }\n                   xTexelC${he+1}Ready = 1;\n                 }\n\n                 xC${he} = vec4(\n                   xTexelC${he}.xy, xTexelC${he+1}.xy);\n               `,he+1<g&&(x+=`\n                   xC${he+1} = vec4(xTexelC${he}.zw, xTexelC${he+1}.zw);\n                 `)));he<g&&(x+=`\n             wTexel = getW(r, ${he}, d1, d2);\n             dotProd += xC${he}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${t.inChannels}) {\n               dotProd += xC${he}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,he+1<g&&(x+=`\n               wTexel = getW(r, ${he+1}, d1, d2);\n               dotProd += xC${he+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${t.inChannels}) {\n                 dotProd += xC${he+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}x+="\n     }\n   ",x+="\n     }\n   ",x+="\n     }\n   ";let P="",j="";i&&(P=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${i}\n         }`:a?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${i}\n         }`:`vec4 activation(vec4 x) {\n           ${i}\n         }`,j="result = activation(result);");const J=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${P}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${x}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${J}\n         ${j}\n         setOutput(result);\n       }\n     `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class v7{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=md(this.outputShape.length);const{dataFormat:i}=e,r=Id(),a="channelsLast"===i,c=a?1:2,u=a?2:3,f=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let p="";for(let g=0;g<=1;g++)for(let y=0;y<=1;y++)p+=`\n          blockIndex = rc.z + ${y};\n          pos = rc.y + ${g};\n\n          ${f}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${c}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${u}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*g+y}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*g+y}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${p}\n\n        ${r.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Gk(n,t){const e=n.length;return e>=3?t?[...n.slice(0,-3),n[e-3]*n[e-2],n[e-1]]:[...n.slice(0,-3),n[e-3],n[e-2]*n[e-1]]:!t&&1===e&&n[0]>1?[n[0],1]:null}function S3({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const f=n.shape,p=i.texData.get(n.dataId),g=e.inChannels,y=f[0]*f[1]*f[2],x=e.outChannels,P="channelsLast"===e.dataFormat,J=!1;let G;const he=[];if(null!=a){const it=Gk(a.shape,P);null!=it&&(a=Pr({inputs:{x:a},backend:i,attrs:{shape:it}}),he.push(a))}if(null!=r){const it=Gk(r.shape,P);null!=it&&(r=Pr({inputs:{x:r},backend:i,attrs:{shape:it}}),he.push(r))}if((1!==y&&1!==x||!(g>f3))&&p.isPacked&&P&&null!=p.texture&&f[2]%2!=0&&Ae(p.shape.slice(-3),f.slice(-3))){const Dt={dataId:n.dataId,shape:[1,f[0]*f[1]*(f[2]+1),e.inChannels],dtype:n.dtype},Yt=p.shape;p.shape=p.shape.slice(),p.shape[p.shape.length-2]++,Me(Ok(p.shape,Dt.shape),()=>`packed reshape ${p.shape} to ${Dt.shape} isn't free`);const pn=Pr({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}});he.push(pn);const bn=zk({a:Dt,b:pn,backend:i,transposeA:!1,transposeB:J,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c}),On=i.texData.get(bn.dataId);Me(On.isPacked,()=>"batchMatMul result is expected to be packed"),p.shape=Yt,On.shape=e.outShape,G=wh({inputs:{x:bn},backend:i}),G.shape=e.outShape,he.push(bn)}else{const it=e.outHeight*e.outWidth,Dt=Pr({inputs:{x:n},backend:i,attrs:{shape:P?[e.batchSize,it,e.inChannels]:[e.batchSize,e.inChannels,it]}}),Yt=Pr({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}}),pn=zk({a:P?Dt:Yt,b:P?Yt:Dt,transposeA:!P,transposeB:J,backend:i,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c});G=Pr({inputs:{x:pn},backend:i,attrs:{shape:e.outShape}}),he.push(Dt),he.push(Yt),he.push(pn)}for(const it of he)i.disposeIntermediateTensorInfo(it);return G}function D3({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const{filterWidth:f,filterHeight:p,inChannels:g,outWidth:y,outHeight:x,dataFormat:P}=e,j="channelsLast"===P,J=f*p*g,G=x*y,he=[e.batchSize,J,G],it=[];if(null!=a){const Ti=Gk(a.shape,j);null!=Ti&&(a=Pr({inputs:{x:a},backend:i,attrs:{shape:Ti}}),it.push(a))}if(null!=r){const Ti=Gk(r.shape,j);null!=Ti&&(r=Pr({inputs:{x:r},backend:i,attrs:{shape:Ti}}),it.push(r))}const Dt=Pr({inputs:{x:t},backend:i,attrs:{shape:[1,J,Ot(t.shape)/J]}});it.push(Dt);const Yt=new v7(he,e),bn=i.runWebGLProgram(Yt,[n],"float32",[n.shape,[e.padInfo.top,e.padInfo.left],[e.strideHeight,e.strideWidth],[e.dilationHeight,e.dilationWidth],[e.inChannels],[e.filterWidth*e.inChannels],[e.outWidth]]),On=Pr({inputs:{x:bn},backend:i,attrs:{shape:he}});it.push(bn),it.push(On);const jn=null!=r,si=null!=a,yi="leakyrelu"===u,Ei=u?FS(u,!0):null,Ci=new l3(j?On.shape:Dt.shape,j?Dt.shape:On.shape,j?[e.batchSize,G,e.outChannels]:[e.batchSize,e.outChannels,G],!0,!1,jn,Ei,si,yi),Di=j?[On,Dt]:[Dt,On];if(r&&Di.push(r),si&&Di.push(a),yi){const Ti=i.makeTensorInfo([],"float32",iu(c,"float32"));Di.push(Ti),it.push(Ti)}const Mi=i.runWebGLProgram(Ci,Di,"float32"),Oi=Pr({inputs:{x:Mi},backend:i,attrs:{shape:e.outShape}});it.push(Mi);for(const Ti of it)i.disposeIntermediateTensorInfo(Ti);return Oi}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const x7={kernelName:cr,backendName:"webgl",kernelFunc:function w7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i,y=qc(f),x=ia(r.shape,a.shape,c,p,u,g,!1,y);let P;if(1!==x.filterHeight||1!==x.filterWidth||1!==x.dilationHeight||1!==x.dilationWidth||1!==x.strideHeight||1!==x.strideWidth||"SAME"!==x.padInfo.type&&"VALID"!==x.padInfo.type)if(x.strideWidth<=2&&"channelsLast"===y&&we().getBool("WEBGL_EXP_CONV")){const J=new C3(x);P=e.runWebGLProgram(J,[r,a],"float32",[[x.padInfo.top,x.padInfo.left],[x.strideHeight,x.strideWidth],[x.dilationHeight,x.dilationWidth],[x.inHeight,x.inWidth]])}else if(we().getBool("WEBGL_CONV_IM2COL"))P=D3({x:r,filter:a,convInfo:x,backend:e});else{const J=new E3(x);P=e.runWebGLProgram(J,[r,a],"float32")}else P=S3({x:r,filter:a,convInfo:x,backend:e});const j=Pr({inputs:{x:P},backend:e,attrs:{shape:x.outShape}});return e.disposeIntermediateTensorInfo(P),j}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class E7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              ${"channelsLast"===t.dataFormat?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class C7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,c="channelsLast"===t.dataFormat;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c?3:1}];\n\n        ivec2 dyCorner = ivec2(coords[${c?1:2}], coords[${c?2:3}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n\n              if (${c}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class S7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yF = 0; yF < ${t.outDepth}; yF++) {\n            int xF = wF + yF * ${t.strideDepth} - ${t.padInfo.front};\n\n            if (xF < 0 || xF >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${t.outHeight}; yR++) {\n              int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${t.outWidth}; yC++) {\n                int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class D7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterDepth,i=t.filterHeight,r=t.filterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${e-1-t.padInfo.front}, ${i-1-t.padInfo.top}, ${r-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${e}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${t.strideDepth}.0;\n\n          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${e} - 1 - wF;\n\n          for (int wR = 0; wR < ${i}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${i} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const I7={kernelName:ns,backendName:"webgl",kernelFunc:function T7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i,y=qc(f),x=ia(r.shape,g,c,1,u,p,!1,y),P=new E7(x);return e.runWebGLProgram(P,[r,a],"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class k7{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=md(this.outputShape.length);const e=t.filterHeight,i=t.filterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int wCPerm = ${i} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const M7={kernelName:Jr,backendName:"webgl",kernelFunc:function A7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i,y=qc(p),x=ia(c,a.shape,u,1,f,g,!1,y);if(we().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===y){const P=[[x.strideHeight,x.strideWidth]],j=new k7(x);return e.runWebGLProgram(j,[r,a],"float32",P)}{const P=new C7(x);return e.runWebGLProgram(P,[r,a],"float32")}}},N7={kernelName:is,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function R7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=Qf(r.shape,a.shape,c,f,u),g=new b7(p);return e.runWebGLProgram(g,[r,a],"float32")}},P7={kernelName:Es,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function O7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i,p=Qf(r.shape,f,c,1,u),g=new S7(p);return e.runWebGLProgram(g,[r,a],"float32")}},L7={kernelName:to,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function F7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i,p=Qf(f,a.shape,u,1,c),g=new D7(p);return e.runWebGLProgram(g,[r,a],"float32")}},V7=La({opSnippet:Zw+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${Zb}\n  return result;\n`}),U7={kernelName:Gr,backendName:"webgl",kernelFunc:V7},z7=La({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),j7={kernelName:rs,backendName:"webgl",kernelFunc:z7};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class W7{constructor(t,e,i,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[c,u,f,p]=t,[g]=e,[y,x]=i;this.outputShape=[g,y,x,p];const P="bilinear"===r?1:0,[j,J]=[u-1+".0",f-1+".0"],[G,he,xe]=y>1?[""+(u-1)/(y-1),"(y2-y1) * height_ratio",`y1*${j} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${j}`],[et,it,Dt]=x>1?[""+(f-1)/(x-1),"(x2-x1) * width_ratio",`x1*${J} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${J}`];this.userCode=`\n      const float height_ratio = float(${G});\n      const float width_ratio = float(${et});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${c}) {\n          return;\n        }\n\n        float height_scale = ${he};\n        float width_scale = ${it};\n\n        float in_y = ${xe};\n        if( in_y < 0.0 || in_y > ${j} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${Dt};\n        if( in_x < 0.0 || in_x > ${J} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${P} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const H7={kernelName:Ur,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,g=new W7(r.shape,a.shape,u,f,p);return e.runWebGLProgram(g,[r,a,c],"float32")}};var Kk=function(n){return n.Prod="*",n.Sum="+",n}(Kk||{});class T3{constructor(t,e,i,r){this.op=t,this.outputShape=e,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,u=i?this.op===Kk.Prod?"1.0":"0.0":`getX(${I3(a,"coords",this.op)})`,f=this.outputShape[this.outputShape.length-1];let p="",g="";i?(p=r?"end != "+(f-1):"end != 0",g=r?"end + 1":"end - 1"):(p=r?`end + pow2 < ${f}`:"end >= pow2",g=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${$l(a)} coords = getOutputCoords();\n        int end = ${k3(a,"coords",this.op)};\n        float val = ${u};\n        int pow2 = int(pow(2.0, index));\n        if (${p}) {\n          int idx = ${g};\n          ${k3(a,"coords",this.op)} = idx;\n          val ${this.op}= getX(${I3(a,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function I3(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.x, ${t}.y`;if(3===n)return`${t}.x, ${t}.y, ${t}.z`;if(4===n)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}function k3(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.y`;if(3===n)return`${t}.z`;if(4===n)return`${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function A3(n,t,e,i,r,a){const c=t.shape.length,u=ec([i],c);let f=t;null!=u&&(f=Ad({inputs:{x:t},backend:e,attrs:{perm:u}}));const p=tc(1,c)[0];if(p!==c-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${i}`);const g=f.shape[p];let y=wh({inputs:{x:f},backend:e});for(let x=0;x<=Math.ceil(Math.log2(g))-1;x++){const P=new T3(n,f.shape,!1,a),J=y;y=e.runWebGLProgram(P,[y],y.dtype,[[x]]),e.disposeIntermediateTensorInfo(J)}if(r){const x=new T3(n,f.shape,r,a),P=y;y=e.runWebGLProgram(x,[y],y.dtype),e.disposeIntermediateTensorInfo(P)}if(null!=u){const P=Ad({inputs:{x:y},backend:e,attrs:{perm:jh(u)}});return e.disposeIntermediateTensorInfo(y),e.disposeIntermediateTensorInfo(f),P}return y}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const K7={kernelName:gs,backendName:"webgl",kernelFunc:function G7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return A3(Kk.Prod,r,e,a,c,u)}},q7={kernelName:Bo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function X7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return A3(Kk.Sum,r,e,a,c,u)}},Q7={kernelName:Go,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Y7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=qB(f,p,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const f=e.bufferSync(r),p=e.bufferSync(a),g=n8(f,p,c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Z7{constructor(t,e,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=i,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${e};\n      int offset_h = imod(h, ${e});\n      int in_w = w / ${e};\n      int offset_w = imod(w, ${e});\n      int offset_d = (offset_h * ${e} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const e9={kernelName:wo,backendName:"webgl",kernelFunc:function J7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i,u=r.shape[0],y=("NHWC"===c?r.shape[1]:r.shape[2])*a,x=("NHWC"===c?r.shape[2]:r.shape[3])*a,P=("NHWC"===c?r.shape[3]:r.shape[1])/(a*a),J=new Z7("NHWC"===c?[u,y,x,P]:[u,P,y,x],a,c);return e.runWebGLProgram(J,[r],r.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class M3{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=md(this.outputShape.length);const c=t.filterHeight,u=t.filterWidth,f=t.outChannels/t.inChannels;let p="",g="";i&&(p=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,g="result = activation(result);");const y=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${f};\n        int q = d2 - d1 * ${f};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${c}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${u}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${y}\n        ${g}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class R3{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=md(this.outputShape.length);const c=t.outChannels/t.inChannels,u=t.padInfo.left,f=t.strideWidth,p=t.dilationWidth,g=t.filterHeight,y=t.filterWidth,x=y;let P="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let he=0;he<y;he++)P+=`\n          vec4 xTexelC${2*he};\n          int xTexelC${2*he}Ready;\n          vec4 xTexelC${2*he+1};\n          int xTexelC${2*he+1}Ready;\n          vec4 xC${he};`;P+=`\n    for (int r = 0; r < ${g}; r++) {\n      `;for(let he=0;he<y;he++)P+=`\n          xTexelC${2*he} = vec4(0.0);\n          xTexelC${2*he}Ready = 0;\n          xTexelC${2*he+1} = vec4(0.0);\n          xTexelC${2*he+1}Ready = 0;\n          xC${he} = vec4(0.0);`;P+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let he=0;he<(x+1)/2;he++){const xe=2*he;if(P+=`\n          xC = xCCorner + ${xe*p};\n          `,1===f){if(xe<y&&(u%2==1?(P+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${xe}Ready == 0) {\n                  xTexelC${xe} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${xe}.zw = vec2(0.0);\n                  }\n                  xTexelC${xe}Ready = 1;\n                }\n              `,P+=1===p&&xe>0?`\n                xC${xe} = vec4(xTexelC${xe-2}.zw, xTexelC${xe}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${xe} = vec4(previous.zw, xTexelC${xe}.xy);\n                  } else {\n                    xC${xe} = vec4(0.0, 0.0, xTexelC${xe}.xy);\n                  }\n                  `):P+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${xe}Ready == 0) {\n                  xTexelC${xe} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${xe}.zw = vec2(0.0);\n                  }\n                  xTexelC${xe}Ready = 1;\n                }\n\n                xC${xe} = xTexelC${xe};\n                `,xe+1<y)){const et=u%2==0?me(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(P+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${et};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${xe+1}Ready == 0) {\n                    xTexelC${xe+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${xe+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${xe+1}Ready = 1;\n                  }\n                  `,P+=p>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${xe+1} = vec4(previous.zw, xTexelC${xe+1}.xy);\n                    } else {\n                     xC${xe+1} = vec4(0.0, 0.0, xTexelC${xe+1}.xy);\n                    }\n                    `:`\n                    xC${xe+1} = vec4(xTexelC${xe}.zw, xTexelC${xe+1}.xy);\n                    `):P+=1===et?`\n                    xC${xe+1} = xTexelC${xe};\n                    `:`\n                    xCOffset = xC + ${et};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${xe+1}Ready == 0) {\n                      xTexelC${xe+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${xe+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${xe+1}Ready = 1;\n                    }\n\n                    xC${xe+1} = xTexelC${xe+1};\n                    `}}else xe<y&&(u%2==1?(P+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${xe}Ready == 0) {\n                  xTexelC${xe} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${xe}.zw = vec2(0.0);\n                  }\n                  xTexelC${xe}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${xe+1}Ready == 0) {\n                  xTexelC${xe+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${xe+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${xe+1}Ready = 1;\n                }\n\n                xC${xe} = vec4(xTexelC${xe}.zw, xTexelC${xe+1}.zw);\n              `,xe+1<y&&(P+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${xe+1} = vec4(xTexelC${xe+1}.xy, final.xy);\n                `)):(P+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${xe}Ready == 0) {\n                  xTexelC${xe} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${xe}.zw = vec2(0.0);\n                  }\n                  xTexelC${xe}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${xe+1}Ready == 0) {\n                  xTexelC${xe+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${xe+1}.zw = vec2(0.);\n                  }\n                  xTexelC${xe+1}Ready = 1;\n                }\n\n                xC${xe} = vec4(\n                  xTexelC${xe}.xy, xTexelC${xe+1}.xy);\n              `,xe+1<y&&(P+=`\n                  xC${xe+1} = vec4(xTexelC${xe}.zw, xTexelC${xe+1}.zw);\n                `)));xe<y&&(P+=`\n            wTexel = getW(r, ${xe}, d1, q);\n            dotProd += xC${xe} * vec4(wTexel.xz, wTexel.xz);\n          `,xe+1<y&&(P+=`\n              wTexel = getW(r, ${xe+1}, d1, q);\n              dotProd += xC${xe+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}P+="\n    }\n  ",P+="\n      }\n    ";let j="",J="";i&&(j=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,J="result = activation(result);");const G=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${j}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${c};\n        int q = d2 - d1 * ${c};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${P}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${G}\n        ${J}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const n9={kernelName:Ko,backendName:"webgl",kernelFunc:function t9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;let g=f;null==g&&(g=[1,1]),Me(su(c,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${g}'`);const y=ia(r.shape,a.shape,c,g,u,p,!0);let x;return x=we().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels==1?new R3(y):new M3(y),e.runWebGLProgram(x,[r,a],"float32",[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class i9{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${t.outChannels/t.inChannels} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class r9{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,f=t.outChannels/t.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${f}; dm++) {\n              int d2 = d1 * ${f} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const o9={kernelName:rl,backendName:"webgl",kernelFunc:function s9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i,y=ia(r.shape,g,c,u,f,p,!0),x=new i9(y);return e.runWebGLProgram(x,[r,a],"float32")}},l9={kernelName:$a,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a9(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i,y=ia(g,a.shape,c,u,f,p,!0),x=new r9(y);return e.runWebGLProgram(x,[r,a],"float32")}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class c9{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const d9={kernelName:qa,backendName:"webgl",kernelFunc:function u9(n){const{inputs:t,backend:e}=n,{x:i}=t,r=[...i.shape,...i.shape],a=Ot(i.shape),c=Pr({inputs:{x:i},backend:e,attrs:{shape:[a]}}),u=new c9(a),f=e.runWebGLProgram(u,[c],c.dtype),p=Pr({inputs:{x:f},backend:e,attrs:{shape:r}});return e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class h9{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:e,inWidth:i,padInfo:r,strideHeight:a,strideWidth:c,filterHeight:u,filterWidth:f,dilationHeight:p,dilationWidth:g}=t,{top:y,left:x}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${c});\n      const ivec2 pads = ivec2(${y}, ${x});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${u}; h++) {\n          int hIn = hBeg + h * ${p};\n\n          if (hIn >= 0 && hIn < ${e}) {\n            for (int w = 0; w < ${f}; w++) {\n              int wIn = wBeg + w * ${g};\n\n              if (wIn >= 0 && wIn < ${i}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const p9={kernelName:Jo,backendName:"webgl",kernelFunc:function f9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=Jg(r.shape,a.shape,c,u,"NHWC",f);let g;const y=new h9(p);g=e.runWebGLProgram(y,[r,a],"float32");const x=Pr({inputs:{x:g},backend:e,attrs:{shape:p.outShape}});return e.disposeIntermediateTensorInfo(g),x}},g9={kernelName:ra,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m9(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=E0(r,a.length);gg(c.length,f,a);const{path:p,steps:g}=ME(u,f),y=g.length;let x=null,P=c.length;const j=[];for(let J=0;J<y;++J){for(const G of g[J]){const{permutationIndices:he,expandDims:xe}=AE(P,f[G]);let et;RE(he)?et=a[G]:(et=Ad({inputs:{x:a[G]},backend:e,attrs:{perm:he}}),j.push(et));const it=et.shape.slice();for(let Dt=0;Dt<xe.length;++Dt)it.splice(xe[Dt],0,1);Ae(et.shape,it)||(et=Pr({inputs:{x:et},backend:e,attrs:{shape:it}}),j.push(et)),null===x?x=et:(x=UP({inputs:{a:et,b:x},backend:e}),j.push(x))}J<y-1&&(p[J]>=0&&(x=Uk({inputs:{x},backend:e,attrs:{axis:p[J]-(c.length-P),keepDims:!1}}),j.push(x)),P--)}for(const J of j)J!==x&&e.disposeIntermediateTensorInfo(J);return x}},_9=La({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),y9={kernelName:xa,backendName:"webgl",kernelFunc:_9},w9={kernelName:Kl,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e}=n,{dy:i,y:r}=t,a=we().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Qw("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",i.shape,r.shape):new Qb("return (b >= 0.0) ? a : a * (b + 1.0);",i.shape,r.shape);return e.runWebGLProgram(a,[i,r],i.dtype)}},x9=Yu({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:a8}),E9={kernelName:Va,backendName:"webgl",kernelFunc:x9},S9=La({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${sb};\n  float a1 = ${EE};\n  float a2 = ${CE};\n  float a3 = ${SE};\n  float a4 = ${ob};\n  float a5 = ${xf};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),D9={kernelName:Ea,backendName:"webgl",kernelFunc:S9},N3=La({opSnippet:Zw+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:l8,dtype:"float32"}),I9={kernelName:Xr,backendName:"webgl",kernelFunc:N3};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HP(n){const{inputs:t,attrs:e,backend:i}=n,{dim:r}=e,{input:a}=t,c=a.shape.length,u=a.shape.slice();let f=r;return r<0&&(Me(-(c+1)<=r,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+r+1),u.splice(f,0,1),Pr({inputs:{x:a},backend:i,attrs:{shape:u}})}const k9={kernelName:Rr,backendName:"webgl",kernelFunc:HP},O3="return exp(x) - 1.0;",A9=La({opSnippet:O3,packedOpSnippet:O3,cpuKernelImpl:c8}),M9={kernelName:uo,backendName:"webgl",kernelFunc:A9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class P3{constructor(t,e,i){this.variableNames=["real","imag"];const r=e[1];this.outputShape=e;const a=i?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,c=i?`${r}.0`:"1.0";let u;if("real"===t)u="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);u="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${u}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${c};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function F3(n,t,e){const i=e.texData.get(n.dataId),r=Ot(n.shape),a=n.shape[n.shape.length-1],u=Pr({inputs:{x:n},backend:e,attrs:{shape:[r/a,a]}}),f=u.shape,p=new P3("real",f,t),g=new P3("imag",f,t),y=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:f},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:f}],x=e.runWebGLProgram(p,y,"float32"),P=e.runWebGLProgram(g,y,"float32"),j=q_({inputs:{real:x,imag:P},backend:e});e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P);const J=Pr({inputs:{x:j},backend:e,attrs:{shape:n.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(j),J
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const N9={kernelName:"FFT",backendName:"webgl",kernelFunc:function R9(n){const{inputs:t,backend:e}=n,{input:i}=t;return F3(i,!1,e)}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class O9{constructor(t,e){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function VS(n){const{backend:t,attrs:e}=n,{shape:i,value:r}=e;let{dtype:a}=e;if(a=a||cn(r),"string"===a){const c=de(a,Ot(i));return c.fill(r),t.makeTensorInfo(i,a,c)}{const c=new O9(i,r);return t.runWebGLProgram(c,[],a,[[r]])}}const P9={kernelName:Vl,backendName:"webgl",kernelFunc:VS};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class F9{constructor(t){this.variableNames=["Image"],this.outputShape=[];const e=t[2];this.outputShape=t,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${e} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${e}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const L9={kernelName:ga,backendName:"webgl",kernelFunc:({inputs:n,backend:t})=>{const{image:e}=n,i=t,r=new F9(e.shape);return i.runWebGLProgram(r,[e],e.dtype)}},L3="return floor(x);",$9=La({opSnippet:L3,packedOpSnippet:L3,cpuKernelImpl:u8}),B9={kernelName:Ue,backendName:"webgl",kernelFunc:$9},V9=Yu({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),U9={kernelName:Wt,backendName:"webgl",kernelFunc:V9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class z9{constructor(t){this.variableNames=["A"];const e=Id(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${i}.0);\n\n        vec4 values = ${e.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class j9{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const e=Id(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${i}.0);\n            vec4 values = ${e.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const W9={kernelName:oc,backendName:"webgl",kernelFunc:function H9(n){const{inputs:t,backend:e,attrs:i}=n;let{pixels:r}=t;const{numChannels:a}=i,c=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,u=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[f,p]=c?[r.videoWidth,r.videoHeight]:[r.width,r.height],g=[p,f],y=[p,f,a];if(u||c){const J=we().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==ex||J!==GP)&&(GP=J,ex=document.createElement("canvas").getContext("2d",{willReadFrequently:GP})),ex.canvas.width=f,ex.canvas.height=p,ex.drawImage(r,0,0,f,p),r=ex.canvas}const x=e.makeTensorInfo(g,"int32");e.texData.get(x.dataId).usage=Ff.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(x.dataId),r);const P=we().getBool("WEBGL_PACK")?new j9(y):new z9(y),j=e.runWebGLProgram(P,[x],"int32");return e.disposeData(x.dataId),j
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}};let ex,GP=we().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const K9={kernelName:Be,backendName:"webgl",kernelFunc:function G9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:y,dimRoundingMode:x,activation:P,leakyreluAlpha:j}=i,J=qc(g),G=ia(r.shape,a.shape,f,y,p,x,!1,J);let he;const xe=[],et=null!=c,it=null!=u,Dt="leakyrelu"===P,Yt=()=>{const bn=[r,a],On=(jn,si)=>{if("NCHW"===si&&1===jn.shape.length&&1!==jn.shape[0]){const yi=Pr({inputs:{x:jn},backend:e,attrs:{shape:[jn.shape[0],1,1]}});return xe.push(yi),yi}return jn};if(et&&bn.push(On(c,g)),it&&bn.push(On(u,g)),Dt){const jn=e.makeTensorInfo([],"float32",iu(j,"float32"));bn.push(jn),xe.push(jn)}return bn};if(1!==G.filterHeight||1!==G.filterWidth||1!==G.dilationHeight||1!==G.dilationWidth||1!==G.strideHeight||1!==G.strideWidth||"SAME"!==G.padInfo.type&&"VALID"!==G.padInfo.type)if(G.strideWidth<=2&&"channelsLast"===J&&we().getBool("WEBGL_EXP_CONV")){const bn=P?FS(P,!0):null,On=new C3(G,et,bn,it,Dt),jn=[[G.padInfo.top,G.padInfo.left],[G.strideHeight,G.strideWidth],[G.dilationHeight,G.dilationWidth],[G.inHeight,G.inWidth]],si=Yt();he=e.runWebGLProgram(On,si,"float32",jn)}else if(we().getBool("WEBGL_CONV_IM2COL"))he=D3({x:r,filter:a,convInfo:G,backend:e,bias:c,activation:P,preluActivationWeights:u,leakyreluAlpha:j});else{const bn=P?FS(P,!1):null,On=new E3(G,et,bn,it,Dt),jn=Yt();he=e.runWebGLProgram(On,jn,"float32")}else he=S3({x:r,filter:a,convInfo:G,backend:e,bias:c,activation:P,preluActivationWeights:u,leakyreluAlpha:j});const pn=Pr({inputs:{x:he},backend:e,attrs:{shape:G.outShape}});return xe.push(he),xe.forEach(bn=>e.disposeIntermediateTensorInfo(bn)),pn}},q9={kernelName:gt,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function X9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dilations:g,dimRoundingMode:y,activation:x,leakyreluAlpha:P}=i,j=[];let J=g;null==J&&(J=[1,1]),Me(su(f,J),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${J}'`);const G=ia(r.shape,a.shape,f,J,p,y,!0),he=we().getBool("WEBGL_PACK_DEPTHWISECONV")&&G.strideWidth<=2&&G.outChannels/G.inChannels==1,xe=x?FS(x,he):null,et=[r,a],it=null!=c,Dt=null!=u,Yt="leakyrelu"===x;if(it&&et.push(c),Dt&&et.push(u),Yt){const jn=e.makeTensorInfo([],"float32",iu(P,"float32"));et.push(jn),j.push(jn)}let pn;pn=he?new R3(G,it,xe,Dt,Yt):new M3(G,it,xe,Dt,Yt);const On=e.runWebGLProgram(pn,et,"float32",[[G.padInfo.top,G.padInfo.left],[G.strideHeight,G.strideWidth],[G.dilationHeight,G.dilationWidth],[G.inHeight,G.inWidth]]);return j.forEach(jn=>e.disposeIntermediateTensorInfo(jn)),On}};class Y9{constructor(t,e,i,r){this.sliceDim=t,this.strides=e,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=i;const a=$l(i.length);let c="\n    int index;";for(let u=0;u<this.sliceDim;u++)c+=`\n          index = round(getIndices(coords[0], ${u}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[u]};\n          flattenIndex += index * ${this.strides[u]};`;this.userCode=`\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${c}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z9={kernelName:Nr,backendName:"webgl",kernelFunc:function Q9(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=r.shape,c=a[a.length-1],u=Ot(i.shape),[f,p,g,y]=ST(i,r),x=Pr({inputs:{x:r},backend:e,attrs:{shape:[p,c]}}),P=Pr({inputs:{x:i},backend:e,attrs:{shape:[Ot(i.shape)/g,g]}});if(e.shouldExecuteOnCPU([i,r])||"string"===i.dtype){const he=e.readSync(r.dataId),xe=e.bufferSync(i),et=d8(he,xe,i.dtype,p,c,g,y,i.shape,u);return e.makeTensorInfo(f,i.dtype,et.values)}const j=new Y9(c,y,[p,g],i.shape),J=e.runWebGLProgram(j,[P,x],P.dtype),G=Pr({inputs:{x:J},backend:e,attrs:{shape:f}});return e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(J),G}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class J9{constructor(t,e){this.variableNames=["A","indices"],this.outputShape=e,this.rank=e.length;const i=$l(this.rank),r=function eX(n){const e=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let r=0;r<n.length;r++)i.push(2===r?"index":`${e[r]}`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function $3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i,f=wn(c,r.shape)[0];if(we().get("DEBUG")){const xe=e.readSync(a.dataId),et=r.shape[f];for(let it=0;it<xe.length;++it){const Dt=xe[it];Me(Dt<=et-1&&Dt>=0,()=>`GatherV2: the index value ${Dt} is not in [0, ${et-1}]`)}}const p=T0(r,a,f,u),g=Ot(a.shape),y=[],x=Pr({inputs:{x:r},backend:e,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),P=Pr({inputs:{x:a},backend:e,attrs:{shape:[p.batchSize,g/p.batchSize]}});y.push(x),y.push(P);const j=[p.batchSize,p.outerSize,g/p.batchSize,p.sliceSize];if(e.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const xe=e.bufferSync(P),et=e.bufferSync(x),it=h8(et,xe,j);return y.forEach(Dt=>e.disposeIntermediateTensorInfo(Dt)),e.makeTensorInfo(p.outputShape,it.dtype,it.values)}const J=new J9(x.shape,j),G=e.runWebGLProgram(J,[x,P],x.dtype);y.push(G);const he=Pr({inputs:{x:G},backend:e,attrs:{shape:p.outputShape}});return y.forEach(xe=>e.disposeIntermediateTensorInfo(xe)),he}const tX={kernelName:fi,backendName:"webgl",kernelFunc:$3},nX=Yu({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:f8,dtype:"bool"}),iX={kernelName:dr,backendName:"webgl",kernelFunc:nX},rX=Yu({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:p8}),sX={kernelName:Wr,backendName:"webgl",kernelFunc:rX},aX={kernelName:Vs,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oX(n){const{inputs:t,backend:e}=n,{input:i}=t;return F3(i,!0,e)}},lX=La({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),cX={kernelName:ho,backendName:"webgl",kernelFunc:lX},uX=La({opSnippet:"return float(isinf(x));",dtype:"bool"}),dX={kernelName:Ar,backendName:"webgl",kernelFunc:uX},hX=La({opSnippet:"return float(isnan(x));",dtype:"bool"}),fX={kernelName:$r,backendName:"webgl",kernelFunc:hX},pX=Yu({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:m8,dtype:"bool"}),mX={kernelName:vs,backendName:"webgl",kernelFunc:pX},gX=Yu({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:g8,dtype:"bool"}),_X={kernelName:sa,backendName:"webgl",kernelFunc:gX},bX={kernelName:ea,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yX(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=_8(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},wX=La({opSnippet:Zw+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:y8}),xX={kernelName:la,backendName:"webgl",kernelFunc:wX},CX=La({opSnippet:Zw+"\n  return log(1.0 + x);\n"}),SX={kernelName:Ki,backendName:"webgl",kernelFunc:CX},DX=Yu({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),TX={kernelName:Xo,backendName:"webgl",kernelFunc:DX},IX=La({opSnippet:"return float(!(x >= 1.0));"}),kX={kernelName:So,backendName:"webgl",kernelFunc:IX},AX=Yu({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),MX={kernelName:Ca,backendName:"webgl",kernelFunc:AX};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class RX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[];const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${c}; j <= ${c}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${u}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${f};\n        setOutput(val);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class NX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${c};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${c}; j <= ${c}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${u}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${f};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OX={kernelName:ta,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i,p=we().getBool("WEBGL_PACK_NORMALIZATION")?new NX(r.shape,a,c,u,f):new RX(r.shape,a,c,u,f);return e.runWebGLProgram(p,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class PX{constructor(t,e,i,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=i,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${e})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${e} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${i});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const FX={kernelName:Ya,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i,y=new PX(r.shape,u,f,p,g);return e.runWebGLProgram(y,[r,a,c],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function B3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=r.shape.length,f=wn(a,r.shape);let p=f;const g=ec(p,u),y=null!=g,x=e.shouldExecuteOnCPU([r]);let P=r;if(y){if(x){const et=e.texData.get(P.dataId).values,it=new Array(u);for(let pn=0;pn<it.length;pn++)it[pn]=r.shape[g[pn]];const Dt=BP(et,r.shape,r.dtype,g,it);P=e.makeTensorInfo(it,r.dtype),e.texData.get(P.dataId).values=Dt}else P=Vk(r,g,e);p=tc(p.length,u)}Dc("max",p,u);const[j,J]=au(P.shape,p);let he,G=j;if(c&&(G=Sc(j,f)),x){const et=e.texData.get(P.dataId).values,it=b8(et,Ot(J),G,r.dtype);he=e.makeTensorInfo(G,r.dtype),e.texData.get(he.dataId).values=it}else he=function LX(n,t,e,i){const r=Ot(t),u=Pr({inputs:{x:n},attrs:{shape:[Ot(n.shape)/r,r]},backend:i}),f=Jb(u,n.dtype,"max",i),p=Pr({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p}(P,J,G,e);return y&&e.disposeIntermediateTensorInfo(P),he}const $X={kernelName:sl,backendName:"webgl",kernelFunc:B3},UX=Yu({opSnippet:VP+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Zb+"\n  return result;\n",cpuKernelImpl:v8}),zX={kernelName:Ua,backendName:"webgl",kernelFunc:UX},WX={kernelName:Da,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;OS(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Me(su(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Nu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Ae(g.inShape,g.outShape))return wh({inputs:{x:r},backend:e});const y=new LS(g,"max",!1);return e.runWebGLProgram(y,[r],r.dtype)}},GX={kernelName:Xl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dataFormat:f,dimRoundingMode:p}=i,y=oh(r.shape,a,c,[1,1,1],u,p,f),x=new zP(y,"max",!1);return e.runWebGLProgram(x,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class KX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const a=t.effectiveFilterHeight,c=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${a-1-t.padInfo.top}, ${c-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${c}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${a*c-1} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${c} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class XX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const f=t.effectiveFilterDepth,p=t.effectiveFilterHeight,g=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${f-1-t.padInfo.front}, ${p-1-t.padInfo.top}, ${g-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${f};\n           wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${g};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${f*p*g-1} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${p} * ${g} +\n                  wR * ${g} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const YX={kernelName:Do,backendName:"webgl",kernelFunc:function qX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,x=oh(c.shape,u,f,[1,1,1],p,g),P=new zP(x,"max",!0),j=e.runWebGLProgram(P,[c],c.dtype),J=new XX(x),G=e.runWebGLProgram(J,[r,j],c.dtype);return e.disposeIntermediateTensorInfo(j),G}},ZX={kernelName:Sl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;OS([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:y}=i,x=Nu(u.shape,f,p,1,g,y),j=new LS(x,"max",!0),J=e.runWebGLProgram(j,[u],u.dtype),G=new KX(x),he=e.runWebGLProgram(G,[r,J],u.dtype);return e.disposeIntermediateTensorInfo(J),he}},eq={kernelName:pl,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;Me(4===i.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${i.shape.length}.`);const p=[1,1];Me(su(a,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${p}'`);const g=Nu(i.shape,r,a,p,c),[y,x]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function JX(n,t,e,i){let r=new LS(e,"max",!1);const a=i.runWebGLProgram(r,[n],"float32");return r=new LS(e,"max",!0,!0,t),[a,i.runWebGLProgram(r,[n],"float32")]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(i,u,g,f);return[y,x]}},nq={kernelName:Za,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{keepDims:r,axis:a}=t,c=e,u=i.shape.length,f=wn(a,i.shape);let p=f;const g=ec(p,u),y=null!=g,x=c.shouldExecuteOnCPU([i]),P=[];let j=i;if(y){if(x){const it=c.texData.get(j.dataId).values,Dt=new Array(u);for(let bn=0;bn<Dt.length;bn++)Dt[bn]=i.shape[g[bn]];const Yt=BP(it,i.shape,i.dtype,g,Dt);j=c.makeTensorInfo(Dt,i.dtype),c.texData.get(j.dataId).values=Yt}else j=Vk(i,g,c);P.push(j),p=tc(p.length,u)}Dc("sum",p,u);const[J,G]=au(j.shape,p);let he=J;r&&(he=Sc(J,f));const xe=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tq(n,t,e,i){const r=Ot(t),u=Pr({inputs:{x:n},attrs:{shape:[Ot(n.shape)/r,r]},backend:i}),f=Jb(u,"float32","mean",i),p=Pr({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(j,G,he,c);for(const et of P)c.disposeIntermediateTensorInfo(et);return xe}},rq={kernelName:Ps,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iq(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wn(a,r.shape);let p=f;const g=ec(p,u);let y=r;null!=g&&(y=Ad({inputs:{x:r},backend:e,attrs:{perm:g}}),p=tc(p.length,r.shape.length)),Dc("min",p,u);const[x,P]=au(y.shape,p),J=Pr({inputs:{x:y},backend:e,attrs:{shape:[-1,Ot(P)]}}),G=Jb(J,J.dtype,"min",e);let he;return he=Pr(c?{inputs:{x:G},backend:e,attrs:{shape:Sc(x,f)}}:{inputs:{x:G},backend:e,attrs:{shape:x}}),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(G),null!=g&&e.disposeIntermediateTensorInfo(y),he}},aq=Yu({opSnippet:VP+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+Zb+"\n  return result;\n",cpuKernelImpl:w8}),lq={kernelName:Dl,backendName:"webgl",kernelFunc:aq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class cq{constructor(t,e,i){this.variableNames=["x"],this.outputShape=e.map((g,y)=>g[0]+t[y]+g[1]);const r=t.length,a=$l(r),c=e.map(g=>g[0]).join(","),u=e.map((g,y)=>g[0]+t[y]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),p="reflect"===i?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${p};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${p};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${f}));\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${p};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${p};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class uq{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((j,J)=>j[0]+t[J]+j[1]);const r=t.length,a=$l(r),c=e.map(j=>j[0]).join(","),u=e.map((j,J)=>j[0]+t[J]).join(","),f=kd("rc",r),p=kd("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,y=1===r?"source":`vec2(${p.slice(-2).join()})`,x="reflect"===i?0:1;let P="";if(1===r){const j=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${x};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${x};\n        }\n        source -= start;\n      `;P=`\n        ${a} rc = outputLoc;\n        ${j}\n        result[0] = getChannel(getX(${p.join()}), ${y});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${j}\n          result[1] = getChannel(getX(${p.join()}), ${y});\n        }\n      `}else{const j=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${x}) +\n                gte * ((end - 1) * 2 - source + ${x});\n        source -= start;\n      `;P=`\n        ${a} rc = outputLoc;\n        ${j}\n        result[0] = getChannel(getX(${p.join()}), ${y});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${j}\n          result[1] = getChannel(getX(${p.join()}), ${y});\n        }\n        rc = outputLoc;\n        ${f[r-2]} += 1;\n        if(${f[r-2]} < ${this.outputShape[r-2]}) {\n          ${j}\n          result[2] = getChannel(getX(${p.join()}), ${y});\n          ${f[r-1]} += 1;\n          if(${g}) {\n            ${j}\n            result[3] = getChannel(getX(${p.join()}), ${y});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${P}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const dq={kernelName:qo,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i}=n,{paddings:r,mode:a}=e,c=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new uq(i.shape,r,a):new cq(i.shape,r,a);return t.runWebGLProgram(c,[i],i.dtype)}},pq=Yu({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+Zb+"\n  return result;\n"}),mq={kernelName:ml,backendName:"webgl",kernelFunc:pq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class gq{constructor(t,e,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,i],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${e-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${e-1}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const V3=Yu({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),_q={kernelName:aa,backendName:"webgl",kernelFunc:V3},U3="return a - b;",z3=Yu({opSnippet:U3,packedOpSnippet:U3,supportsComplex:!0,cpuKernelImpl:z8}),yq={kernelName:Fu,backendName:"webgl",kernelFunc:z3};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function j3(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=wn([a],r.shape),u=B3({inputs:{x:r},backend:e,attrs:{reductionIndices:c,keepDims:!1}}),f=Sc(u.shape,c),p=Pr({inputs:{x:u},backend:e,attrs:{shape:f}}),g=z3({inputs:{a:r,b:p},backend:e}),y=N3({inputs:{x:g},backend:e}),x=Uk({inputs:{x:y},backend:e,attrs:{axis:c,keepDims:!1}}),P=Pr({inputs:{x},backend:e,attrs:{shape:f}}),j=V3({inputs:{a:y,b:P},backend:e});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(y),e.disposeIntermediateTensorInfo(x),e.disposeIntermediateTensorInfo(P),j}const bq={kernelName:zs,backendName:"webgl",kernelFunc:j3},wq={kernelName:gl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vq(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i,f=u?r:j3({inputs:{logits:r},backend:e,attrs:{dim:r.shape.length-1}}),y=new gq(f.shape[0],f.shape[1],a),P=e.runWebGLProgram(y,[f],"int32",[[c]]);return u||e.disposeIntermediateTensorInfo(f),P}},xq=Zh+"\n  return -x;\n",Sq={kernelName:ql,backendName:"webgl",kernelFunc:function Cq(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])){const a=e.texData.get(i.dataId),[c,u]=E8(a.values,i.shape,i.dtype);return e.makeTensorInfo(u,i.dtype,c)}let r;return r=we().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new X_(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Am(i.shape,xq),e.runWebGLProgram(r,[i],i.dtype)}},Dq=ZD,Iq={kernelName:ao,backendName:"webgl",kernelFunc:function Tq(n){un("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),{selectedIndices:y}=Dq(p,g,c,u,f);return e.makeTensorInfo([y.length],"int32",new Int32Array(y))}},kq=uE,Mq={kernelName:Yo,backendName:"webgl",kernelFunc:function Aq(n){un("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i,g=e.readSync(r.dataId),y=e.readSync(a.dataId),{selectedIndices:x,validOutputs:P}=kq(g,y,c,u,f,p);return[e.makeTensorInfo([x.length],"int32",new Int32Array(x)),e.makeTensorInfo([],"int32",new Int32Array([P]))]}},Rq=JD,Oq={kernelName:_l,backendName:"webgl",kernelFunc:function Nq(n){un("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i,g=e.readSync(r.dataId),y=e.readSync(a.dataId),x=c,P=u,j=f,J=p,{selectedIndices:G,selectedScores:he}=Rq(g,y,x,P,j,J);return[e.makeTensorInfo([G.length],"int32",new Int32Array(G)),e.makeTensorInfo([he.length],"float32",new Float32Array(he))]}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Pq{constructor(t,e,i,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${i}),\n                      float(index == coords.y)));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Fq={kernelName:Gt,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i,p=Ot(r.shape),g=new Pq(p,c,u,f),y=Pr({inputs:{x:r},backend:e,attrs:{shape:[p]}}),x=e.runWebGLProgram(g,[y],a);e.disposeIntermediateTensorInfo(y);const j=Pr({inputs:{x},backend:e,attrs:{shape:[...r.shape,c]}});return e.disposeIntermediateTensorInfo(x),j}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Xk(n){const{inputs:t,backend:e}=n,{x:i}=t;if("complex64"===i.dtype){const r=$S({inputs:{input:i},backend:e}),a=Xk({inputs:{x:r},backend:e}),c=Hk({inputs:{input:i},backend:e}),u=Xk({inputs:{x:c},backend:e}),f=q_({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return VS({attrs:{shape:i.shape,dtype:i.dtype,value:"string"===i.dtype?"":0},backend:e})}const Lq={kernelName:Mc,backendName:"webgl",kernelFunc:Xk},$q={kernelName:po,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function W3(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const r=$S({inputs:{input:i},backend:e}),a=W3({inputs:{x:r},backend:e}),c=Hk({inputs:{input:i},backend:e}),u=Xk({inputs:{x:c},backend:e}),f=q_({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return VS({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:e})}},Vq={kernelName:ne,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bq(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return HP({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{kn(a,g.shape,"All tensors passed to stack must have matching shapes"),Me(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=x3({inputs:t.map(g=>{const y=HP({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(y),y}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Uq{constructor(t,e,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((p,g)=>p[0]+t[g]+p[1]);const r=t.length,a=$l(r),c=e.map(p=>p[0]).join(","),u=e.map((p,g)=>p[0]+t[g]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${f}));\n        }\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class zq{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((J,G)=>J[0]+t[G]+J[1]);const r=t.length,a=$l(r),c=e.map(J=>J[0]).join(","),u=e.map((J,G)=>J[0]+t[G]).join(","),f=kd("rc",r),p=kd("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,y=1===r?"source":`vec2(${p.slice(-2).join()})`,x=[`${a} rc = outputLoc;`,`${f[r-1]} += 1;\n       if(${g}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${f[r-2]} += 1;\n       if(${f[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${f[r-1]} += 1;\n         if(${g}) {`],P=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let j="";for(let J=0,G=1===r?2:4;J<G;J++)j+=`\n        ${x[J]}\n        if (${P}) {\n          result[${J}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${J}] = getChannel(getX(${p.join()}), ${y});\n        }\n      `;j+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${j}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const H3=n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;if(0===Ot(r.shape))return VS({backend:e,attrs:{shape:a.map((g,y)=>g[0]+r.shape[y]+g[1]),value:c,dtype:r.dtype}});const u=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zq(r.shape,a,c):new Uq(r.shape,a,c);return e.runWebGLProgram(u,[r],r.dtype,[[c]])},jq={kernelName:fe,backendName:"webgl",kernelFunc:H3},Gq=Yu({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+Zb+"\n  return result;\n"}),Kq={kernelName:te,backendName:"webgl",kernelFunc:Gq},qq={kernelName:We,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xq(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=[],p=wn(a,r.shape);let g=p;const y=ec(g,u);let P,x=r;if(null!=y&&(x=Ad({inputs:{x:r},backend:e,attrs:{perm:y}}),g=tc(g.length,u),f.push(x)),Dc("prod",g,u),e.shouldExecuteOnCPU([x])){const j=e.texData.get(x.dataId).values,{outVals:J,outShape:G,outDtype:he}=S8(x.shape,x.dtype,j,g);P=e.makeTensorInfo(G,he,J)}else{const[j,J]=au(x.shape,g),G=Ot(J),he=Pr({inputs:{x},backend:e,attrs:{shape:[-1,G]}}),et=Jb(he,ir(r.dtype),"prod",e);P=Pr({inputs:{x:et},backend:e,attrs:{shape:j}}),f.push(he),f.push(et)}if(c){f.push(P);const j=Sc(P.shape,p);P=Pr({inputs:{x:P},backend:e,attrs:{shape:j}})}return f.forEach(j=>e.disposeIntermediateTensorInfo(j)),P}},Qq={kernelName:pt,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yq(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,{outputRaggedRank:u}=i,f=r.map(he=>e.readSync(he.dataId)),p=r.map(he=>he.shape),g=e.readSync(a.dataId),y=e.readSync(c.dataId),[x,P,j]=D8(f,p,g,a.shape,a.dtype,y,c.shape,u),J=x.map(he=>e.makeTensorInfo([he.length],"int32",he)),G=e.makeTensorInfo(j,a.dtype,P);return J.concat([G])}},Jq={kernelName:Fn,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zq(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=T8(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}},tY={kernelName:ei,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eY(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),y=e.readSync(c.dataId),x=u.map(G=>e.readSync(G.dataId)),P=u.map(G=>G.shape),[j,J]=I8(p,r.shape,g,a.shape,a.dtype,y,c.shape,x,P,f);return e.makeTensorInfo(j,a.dtype,J)}},G3=n=>{const{backend:t,attrs:e}=n,{start:i,stop:r,step:a,dtype:c}=e,u=k8(i,r,a,c);return t.makeTensorInfo([u.length],c,u)},nY={kernelName:Vi,backendName:"webgl",kernelFunc:G3},iY=La({opSnippet:"return 1.0 / x;"}),rY={kernelName:ws,backendName:"webgl",kernelFunc:iY},oY=La({opSnippet:Zh+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),aY={kernelName:xs,backendName:"webgl",kernelFunc:oY},cY=La({opSnippet:Zh+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),uY={kernelName:ro,backendName:"webgl",kernelFunc:cY};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class dY{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],y=[r&&e>1?e-1:e,r&&i>1?i-1:i];let x;x=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/y[0]},\n          ${g[1]/y[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${x};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class hY{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],y=[r&&e>1?e-1:e,r&&i>1?i-1:i];let x;x=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/y[0]},\n          ${g[1]/y[1]},\n          ${g[1]/y[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${x};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const pY={kernelName:Li,backendName:"webgl",kernelFunc:function fY(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=we().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new hY(r.shape,f,p,a,c):new dY(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],"float32")}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class mY{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],y=f[1]/p[1],x=1/g,P=1/y,j=2*Math.ceil(x)+2,J=2*Math.ceil(P)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${y});\n\n        const float invHeightScale = float(${x});\n        const float invWidthScale = float(${P});\n\n        const int winHeight = int(${j});\n        const int winWidth = int(${J});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const _Y={kernelName:Xs,backendName:"webgl",kernelFunc:function gY(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new mY(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yY{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],y=[r&&e>1?e-1:e,r&&i>1?i-1:i];let P;P=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/y[0]},\n          ${g[1]/y[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${P};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class bY{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],y=[r&&e>1?e-1:e,r&&i>1?i-1:i];let P;P=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/y[0]},\n          ${g[1]/y[1]},\n          ${g[1]/y[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${P};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const wY={kernelName:mr,backendName:"webgl",kernelFunc:function vY(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=we().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new bY(r.shape,f,p,a,c):new yY(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class xY{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],y=f[1]/p[1],x=1/g,P=1/y,j=2*Math.ceil(x)+2,J=2*Math.ceil(P)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${y});\n\n        const float invHeightScale = float(${x});\n        const float invWidthScale = float(${P});\n\n        const int winHeight = int(${j});\n        const int winWidth = int(${J});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${f[0]}) *\n                (float(dyR) / float(${p[0]}));\n\n            float sourceFracCol =\n                float(${f[1]}) *\n                  (float(dyC) / float(${p[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${i} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${i} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const CY={kernelName:Po,backendName:"webgl",kernelFunc:function EY(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new xY(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SY{constructor(t,e){this.variableNames=["x"];const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);if(this.outputShape=t,1===i)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${t[0]} - coord - 1));\n        }\n      `);const a=t.map((u,f)=>(u=>-1!==e.indexOf(u)&&1!==t[u]?`${t[u]} - coords[${u}] - 1`:`coords[${u}]`)(f)).join(","),c=$l(i);this.userCode=`\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class DY{constructor(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);this.outputShape=t;const r=kd("rc",i),a=`${r[i-1]} + 1 < ${this.outputShape[i-1]}`,c=`${r[i-2]} + 1 < ${this.outputShape[i-2]}`,u=$l(i);function x(j){const J=t.map((xe,et)=>function P(j,J){return-1!==e.indexOf(j)&&1!==t[j]?`${t[j]} - ${J[j]} - 1`:`${J[j]}`}(et,j));return`getChannel(getX(${J.join(",")}), vec2(${J.slice(-2).join(",")}))`}this.userCode=1===i?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${t[0]} - rc - 1),\n            ${t[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),\n                ${t[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${u} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function f(j){return x(j)}(r.slice())};\n          if(${a}){\n            result.g = ${function p(j){return j[i-1]="("+j[i-1]+" + 1)",x(j)}(r.slice())};\n          }\n          if(${c}) {\n            result.b = ${function g(j){return j[i-2]="("+j[i-2]+" + 1)",x(j)}(r.slice())};\n            if(${a}) {\n              result.a = ${function y(j){return j[i-1]="("+j[i-1]+" + 1)",j[i-2]="("+j[i-2]+" + 1)",x(j)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const IY={kernelName:Fo,backendName:"webgl",kernelFunc:function TY(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i,c=r.shape.length,u=wn(a,r.shape);if(0===c)return wh({inputs:{x:r},backend:e});const f=we().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new DY(r.shape,u):new SY(r.shape,u);return e.runWebGLProgram(f,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class kY{constructor(t,e){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=t[1],r=t[2];this.outputShape=t;let a="";a="number"==typeof e?`float outputValue = ${e.toFixed(2)};`:`\n        vec3 fill = vec3(${e.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${i}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const AY={kernelName:ge,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=new kY(i.shape,a),[p,g]=b0(c,i.shape[1],i.shape[2]),y=[[p,g,Math.sin(r),Math.cos(r)]];return u.runWebGLProgram(f,[i],i.dtype,y)}},MY=La({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),RY={kernelName:za,backendName:"webgl",kernelFunc:MY},NY=La({opSnippet:"return inversesqrt(x);",cpuKernelImpl:A8}),OY={kernelName:al,backendName:"webgl",kernelFunc:NY};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class KP{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;const p=$l(a.length),g=$l(c.length);let y="";1===i?y="i":2===i&&(y="i, j");let P="";1===r?P="i":2===r&&(P="i, coords[1]");let J="";f&&(J="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${t}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${e}; j++) {\n              int index = round(getIndices(${y}));\n              flattenedIndex += index * ${e>1?"strides[j]":"strides"};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates(${P});\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(${J}), sum, float(found)));\n        }\n      `}}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class PY{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c;const p=$l(a.length),g=$l(c.length);let y="";1===i?y="i":2===i&&(y="i, j");let P="";1===r?P="i":2===r&&(P="i, coords[1]");let J="";f&&(J="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${t}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${e}; j+=2) {\n              ivec4 index = round(getIndices(${y}));\n              flattenedIndex += index.xz * ${e>1?"strides[j]":"strides"};\n              if (j + 1 < ${e}) {\n                flattenedIndex += index.yw * ${e>1?"strides[j + 1]":"strides"};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = getUpdates(${P});\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(getDefaultValue(${J}), sum, found));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const LY={kernelName:I,backendName:"webgl",kernelFunc:function FY(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:y}=ug(0,r,c),x=[y/p,p];if(0===y)return e.makeTensorInfo(c,r.dtype);const P=Pr({inputs:{x:r},backend:e,attrs:{shape:[f,u]}}),j=Pr({inputs:{x:a},backend:e,attrs:{shape:[f,p]}}),J=e.makeTensorInfo([],"float32",new Float32Array([0]));let G;G=we().getBool("WEBGL_PACK")?new PY(f,u,P.shape.length,j.shape.length,g,x):new KP(f,u,P.shape.length,j.shape.length,g,x);const he=e.runWebGLProgram(G,[j,P,J],j.dtype),xe=Pr({inputs:{x:he},backend:e,attrs:{shape:c}});return e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),e.disposeIntermediateTensorInfo(he),e.disposeIntermediateTensorInfo(J),xe}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class $Y{constructor(t,e,i,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,i];const c=`for (int i = 0; i < ${Math.ceil(Math.log2(e+1))}; ++i) { if (left >= right) break;`,u=2===we().getNumber("WEBGL_VERSION")?"while (left < right) {":c;this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${u}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${"left"===r?"<":"<="} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const VY={kernelName:Xt,backendName:"webgl",kernelFunc:function BY(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,u=new $Y(r.shape[0],r.shape[1],a.shape[1],c);return e.runWebGLProgram(u,[r,a],"int32",[[r.shape[1]]])}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class UY{constructor(t,e,i){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=e,i>4)throw Error(`Where for rank ${i} is not yet supported`);if(1===i)a="resRC",r="resRC";else{const u=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],p=[];for(let g=0;g<e.length;g++)p.push(`${u[g]}`),g<t&&f.push(`${u[g]}`);r=f.join(),a=p.join()}const c=$l(i);this.userCode=`\n      void main() {\n        ${c} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const jY={kernelName:_n,backendName:"webgl",kernelFunc:function zY(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t,c=new UY(i.shape.length,r.shape,r.shape.length);return e.runWebGLProgram(c,[i,r,a],Yi(r.dtype,a.dtype))}},HY=La({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${w0};\n  float scale = ${pm};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),GY={kernelName:ln,backendName:"webgl",kernelFunc:HY},XY=La({opSnippet:Zw+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:R8}),qY={kernelName:ai,backendName:"webgl",kernelFunc:XY},YY=La({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),QY={kernelName:pi,backendName:"webgl",kernelFunc:YY},eQ=La({opSnippet:Zw+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${Zb}\n  return result;\n`}),tQ={kernelName:yn,backendName:"webgl",kernelFunc:eQ},nQ=La({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),iQ={kernelName:Zn,backendName:"webgl",kernelFunc:nQ},rQ=La({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),sQ={kernelName:Ai,backendName:"webgl",kernelFunc:rQ},oQ={kernelName:Er,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;Me(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((he,xe)=>he*xe),f=[[0,0]];f.push(...c);for(let he=1+a.length;he<r.shape.length;++he)f.push([0,0]);const p=[],g=H3({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),y=pg(g.shape,a,u,!1),x=rb(y.length,a.length,!1),P=w_(g.shape,a,u,!1),j=Pr({inputs:{x:g},backend:e,attrs:{shape:y}}),J=Ad({inputs:{x:j},backend:e,attrs:{perm:x}}),G=Pr({inputs:{x:J},backend:e,attrs:{shape:P}});return p.push(g),p.push(j),p.push(J),p.forEach(he=>e.disposeIntermediateTensorInfo(he)),G}},lQ={kernelName:To,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aQ(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.readSync(i.dataId),f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=e.readSync(c.dataId)[0],[y,x,P,j,J]=O8(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(x,i.dtype,y),e.makeTensorInfo([x[0]],r.dtype,P),e.makeTensorInfo([j.length],"bool",new Uint8Array(j.map(G=>Number(G)))),e.makeTensorInfo([J.length],i.dtype,new Int32Array(J))]}},uQ={kernelName:Cs,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cQ(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.readSync(r.dataId)),u=e.readSync(i.dataId),f=Array.from(e.readSync(a.dataId)),[p,g,y]=P8(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([y.length],a.dtype,new Int32Array(y))]}},hQ={kernelName:qs,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=QB(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},pQ={kernelName:Ec,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=QB(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},gQ={kernelName:Ta,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mQ(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:y,outputSize:x}=ug(0,r,u),P=!1;if("string"===a.dtype){const he=e.bufferSync(r),xe=e.bufferSync(a),et=Hc(e.readSync(c.dataId)[0]),it=M8(he,xe,u,x,g,p,f,y,et,P);return e.makeTensorInfo(u,it.dtype,it.values)}const j=new KP(p,f,r.shape.length,a.shape.length,y,[x,1],P),J=e.runWebGLProgram(j,[a,r,c],a.dtype),G=Pr({inputs:{x:J},backend:e,attrs:{shape:u}});return e.disposeIntermediateTensorInfo(J),G}},yQ={kernelName:Ts,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _Q(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wn(c,r.shape)[0],f=NE(r,a,u),g=new Array(r.shape.length).fill(0),y=r.shape.slice();return f.map(x=>{const P=[...y];P[u]=x;const j=Jw({inputs:{x:r},backend:e,attrs:{begin:g,size:P}});return g[u]+=x,j})}},K3="return sqrt(x);",bQ=La({opSnippet:K3,packedOpSnippet:K3,cpuKernelImpl:F8}),vQ={kernelName:_i,backendName:"webgl",kernelFunc:bQ},xQ={kernelName:Io,backendName:"webgl",kernelFunc:La({opSnippet:"return x * x;"})},X3="return (a - b) * (a - b);",EQ=Yu({opSnippet:X3,packedOpSnippet:X3}),CQ={kernelName:Ga,backendName:"webgl",kernelFunc:EQ},DQ={kernelName:Tl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");const c=Ef(e.readSync(r.dataId)),u=L8(c,"string",i);return e.makeTensorInfo(r.shape,"string",u)}},IQ={kernelName:Rc,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TQ({inputs:n,attrs:t,backend:e}){const{x:i}=n,a=new Am(i.shape,Zh+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `);return e.runWebGLProgram(a,[i],i.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class kQ{constructor(t,e,i){this.variableNames=["x"],this.outputShape=i;const r=i.length,a=$l(i.length),c=$l(i.length);let u="";if(1===r)u="coords * strides + begin";else{let f=0;u=i.map((p,g)=>(f++,1===i.length?`coords * strides[${g}] + begin[${g}]`:`coords[${f-1}] * strides[${g}] + begin[${g}]`)).join(",")}this.userCode=`\n      ${a} begin = ${a}(${t});\n      ${a} strides = ${a}(${e});\n\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const MQ={kernelName:yl,backendName:"webgl",kernelFunc:function AQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:y,shrinkAxisMask:x}=i,{finalShapeSparse:P,finalShape:j,isIdentity:J,sliceDim0:G,isSimpleSlice:he,begin:xe,end:et,strides:it}=Xg(r.shape,a,c,u,f,p,g,y,x);let Dt;if(J)Dt=Pr({inputs:{x:r},backend:e,attrs:{shape:j}});else if(G||he){Me(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const pn=cy(xe,et,it),bn=Jw({inputs:{x:r},backend:e,attrs:{begin:xe,size:pn}});Dt=Pr({inputs:{x:bn},backend:e,attrs:{shape:j}}),e.disposeIntermediateTensorInfo(bn)}else if(e.shouldExecuteOnCPU([r])){const bn=e.readSync(r.dataId),On=Us(r.shape,r.dtype,bn),jn=$8(P,On,it,xe);Dt=e.makeTensorInfo(j,r.dtype,jn.values)}else{const bn=new kQ(xe,it,P);Dt=e.runWebGLProgram(bn,[r],r.dtype)}const Yt=Pr({inputs:{x:Dt},backend:e,attrs:{shape:j}});return e.disposeIntermediateTensorInfo(Dt),Yt}},NQ={kernelName:Ss,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RQ(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:y}=t,x=e.readSync(g.dataId),P=e.readSync(y.dataId),[j,J]=B8(x,P,r,a,c,u,f,p);return[e.makeTensorInfo([j.length],"string",j),e.makeTensorInfo(y.shape,"int32",J)]}},PQ={kernelName:bo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OQ(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.readSync(a.dataId),f=e.readSync(c.dataId)[0],[p,g,y]=V8(u,f,r),x=g.length;return[e.makeTensorInfo([x,2],"int32",p),e.makeTensorInfo([x],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(y))]}},LQ={kernelName:gd,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FQ(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const c=e.readSync(a.dataId),u=U8(c,r);return e.makeTensorInfo(a.shape,"int32",u)}},$Q=La({opSnippet:"return tan(x);"}),BQ={kernelName:Yl,backendName:"webgl",kernelFunc:$Q},VQ=La({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),UQ={kernelName:Ja,backendName:"webgl",kernelFunc:VQ},jQ={kernelName:Ct,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zQ(n){const{inputs:t,backend:e}=n,{tensor:r,indices:a,updates:c}=t,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:y}=ug(0,a,r.shape),x=[y/p,p];if(0===y)return e.makeTensorInfo(r.shape,a.dtype);const P=Pr({inputs:{x:a},backend:e,attrs:{shape:[f,u]}}),j=Pr({inputs:{x:c},backend:e,attrs:{shape:[f,p]}}),J=Pr({inputs:{x:r},backend:e,attrs:{shape:x}}),G=new KP(f,u,P.shape.length,j.shape.length,g,x,!1,!0),he=e.runWebGLProgram(G,[j,P,J],J.dtype),xe=Pr({inputs:{x:he},backend:e,attrs:{shape:r.shape}});return e.disposeIntermediateTensorInfo(P),e.disposeIntermediateTensorInfo(j),e.disposeIntermediateTensorInfo(J),e.disposeIntermediateTensorInfo(he),xe}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class WQ{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[c]*e[c];this.outputShape=i,this.rank=i.length;const r=$l(this.rank),a=function HQ(n){const t=n.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${n[0]})`;const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let r=0;r<n.length;r++)i.push(`imod(${e[r]}, ${n[r]})`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function q3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;if("string"===r.dtype||r.shape.length>5){const f=e.readSync(r.dataId),p="string"===r.dtype?f.map(x=>Hc(x)):f,g=Us(r.shape,r.dtype,p),y=j8(g,a);return e.makeTensorInfo(y.shape,y.dtype,y.values)}const c=new WQ(r.shape,a);return e.runWebGLProgram(c,[r],r.dtype)}const GQ={kernelName:Ia,backendName:"webgl",kernelFunc:q3};class KQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class XQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ev(n,t){null!==t&&n.disposeIntermediateTensorInfo(t)}function Y3(n){let t=1;for(;t<n;)t*=2;return t}const YQ={kernelName:Ul,backendName:"webgl",kernelFunc:function qQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i,u=we().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),f=we().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),p=r.shape,g=p[p.length-1];if(e.shouldExecuteOnCPU([r])||g<u||a>f){const jn=e.readSync(r.dataId),[si,yi]=W8(jn,p,r.dtype,a,c);return[e.makeTensorInfo(si.shape,si.dtype,si.values),e.makeTensorInfo(yi.shape,yi.dtype,yi.values)]}if(0===a)return p[p.length-1]=0,[e.makeTensorInfo(p,r.dtype,[]),e.makeTensorInfo(p,"int32",[])];if(1===g)return[r,VS({attrs:{shape:p,dtype:"int32",value:0},backend:e})];const y=e.texData.get(r.dataId),x=null!==y&&y.isPacked,P=x?e.unpackTensor(r):r,J=Ot(p)/g,G=Pr({inputs:{x:P},attrs:{shape:[J,g]},backend:e});x&&ev(e,P);const he=Y3(a),xe=Y3(g);let et=null;const it=()=>null===et?[G,G]:[G,et],Dt=(jn,si,yi)=>{const Ei=it(),Ci=new KQ(yi),Oi=et;et=e.runWebGLProgram(Ci,Ei,"int32",[[g],[null===et?1:0],[Number.NEGATIVE_INFINITY],[jn],[si]]),ev(e,Oi)};for(let jn=1;jn<he;jn*=2){const si=2*jn;for(let yi=jn;yi>=1;yi/=2)Dt(si,yi,[J,xe])}for(let jn=xe;jn>he;jn/=2){const si=it(),yi=new XQ([J,jn/2]),Di=et;et=e.runWebGLProgram(yi,si,"int32",[[g],[null===et?1:0],[he]]),ev(e,Di);const Mi=he/2,Oi=2*Mi;for(let Ti=Mi;Ti>=1;Ti/=2)Dt(Oi,Ti,et.shape)}let Yt=et;et=Jw({inputs:{x:et},backend:e,attrs:{begin:0,size:[J,a]}}),ev(e,Yt);let pn=$3({inputs:{x:G,indices:et},backend:e,attrs:{axis:1,batchDims:1}});ev(e,G);const bn=p.slice(0,-1);bn.push(a),Yt=et,et=Pr({inputs:{x:et},attrs:{shape:bn},backend:e}),ev(e,Yt);const On=pn;return pn=Pr({inputs:{x:pn},attrs:{shape:bn},backend:e}),ev(e,On),[pn,et]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class QQ{constructor(t,e,i,r,a,c){this.variableNames=["Image","Transforms"],this.outputShape=c;const u="nearest"===i?1:2;let f;switch(r){case"constant":default:f=1;break;case"reflect":f=2;break;case"wrap":f=3;break;case"nearest":f=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${f} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${e}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${e}));\n                float mapY = mapCoord(inY, float(${t}));\n\n                if (${u} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const JQ={kernelName:Ds,backendName:"webgl",kernelFunc:function ZQ(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=i,[g,y,x,P]=r.shape,[j,J]=p??[y,x],he=new QQ(y,x,c,u,f,[g,j,J,P]);return e.runWebGLProgram(he,[r,a],"float32")}},tZ={kernelName:Iu,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eZ(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;OS(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const c=i.readSync(a.dataId),{outputValues:u,outputShape:f,indices:p}=H8(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},iZ={kernelName:ca,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nZ(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r,u=c.shape.length,f=r.shape[a],p=new Array(u-1);let g=0;for(let J=0;J<u;J++)J!==a&&(p[g++]=c.shape[J]);const y=[],x=new Array(u).fill(0),P=c.shape.slice();P[a]=1;const j=new Array(f);for(let J=0;J<j.length;J++){x[a]=J;const G=Jw({inputs:{x:c},backend:e,attrs:{begin:x,size:P}}),he=Pr({inputs:{x:G},backend:e,attrs:{shape:p}});j[J]=he,y.push(G)}return y.forEach(J=>e.disposeIntermediateTensorInfo(J)),j}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class rZ{constructor(t,e){this.variableNames=["x","segmentIds"];const i=t.windowSize,r=t.batchSize,a=t.inSize,c=t.numSegments,u=c*Math.ceil(a/i);this.outputShape=[r,u];const g=4*Math.floor(i/4),y=i%4,x="\n        sumValue += dot(values, segFilter);\n    ";let P="";a%i>0&&(P=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let j="";a%i>0&&(j=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${P}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${j}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${c})) * float(${i}));\n        int currentSeg = int(mod(float(outIdx), float(${c})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${x}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===y}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${x}\n        } else if (${2===y}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${x}\n        } else if (${3===y}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${x}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const aZ=[B6,U6,W6,K6,q6,Z6,eK,nK,oK,lK,dK,pK,_K,wK,CK,DK,IK,RK,OK,FK,BK,HK,KK,QK,JK,r7,o7,u7,x6,f7,y7,x7,I7,M7,N7,P7,L7,U7,j7,H7,K7,q7,Q7,e9,n9,o9,l9,d9,p9,g9,y9,w9,E9,D9,I9,k9,M9,N9,P9,L9,B9,U9,W9,K9,q9,Z9,tX,iX,sX,w6,aX,g7,cX,dX,fX,C6,mX,_X,bX,xX,SX,TX,kX,MX,OX,FX,$X,zX,WX,GX,YX,ZX,eq,nq,rq,lq,dq,mq,wq,T6,Sq,Iq,Mq,Oq,e7,Fq,$q,Vq,jq,Kq,D6,qq,Qq,Jq,tY,nY,t7,_q,rY,aY,uY,k6,pY,_Y,wY,CY,IY,AY,RY,OY,LY,VY,jY,GY,qY,QY,tQ,iQ,WK,bq,sQ,oQ,lQ,uQ,hQ,pQ,gQ,yQ,vQ,xQ,CQ,DQ,IQ,MQ,NQ,PQ,LQ,yq,F6,BQ,UQ,jQ,GQ,YQ,JQ,L6,tZ,iZ,{kernelName:fo,backendName:"webgl",kernelFunc:function sZ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i,u=r.shape.length,f=[];let p=0;const g=ec([p],u);let y=r;null!=g&&(y=Ad({inputs:{x:r},backend:e,attrs:{perm:g}}),f.push(y),p=tc(1,u)[0]);const x=D0(y.shape,p,c),P=Ot([y.shape[p]]),j=Pr({inputs:{x:y},backend:e,attrs:{shape:[-1,P]}});f.push(j);const J=ir(r.dtype),G=(it,Dt,Yt,pn,bn)=>{const On=it.shape[0],jn=it.shape[1],si=FE(jn,bn),Ei=new rZ({windowSize:si,inSize:jn,batchSize:On,numSegments:bn},Dt),Ci=e.compileAndRun(Ei,[it,Yt],pn);if(f.push(Ci),Ci.shape[1]===bn)return Ci;const Di=G3({backend:e,attrs:{start:0,stop:bn,step:1,dtype:"float32"}}),Mi=q3({inputs:{x:Di},backend:e,attrs:{reps:[jn/si]}});return f.push(Di),f.push(Mi),G(Ci,Dt,Mi,pn,bn)},xe=Pr({inputs:{x:G(j,"unsortedSegmentSum",a,J,c)},backend:e,attrs:{shape:x}});let et=xe;if(null!=g){f.push(xe);const it=jh(g);et=Ad({inputs:{x:et},backend:e,attrs:{perm:it}})}return f.forEach(it=>e.disposeIntermediateTensorInfo(it)),et}},Lq];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of aZ)ji(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/** @license See the LICENSE file. */},7092:(dn,Je,_)=>{"use strict";function De(Pe,Ye){return function E(Pe,Ye){Pe=Pe||[],"string"==typeof(Ye=Ye||{})&&(Ye={type:Ye});try{return new Blob(Pe,Ye)}catch(je){if("TypeError"!==je.name)throw je;for(var nt=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Te=0;Te<Pe.length;Te+=1)nt.append(Pe[Te]);return nt.getBlob(Ye.type)}}([Pe],Ye)}_.d(Je,{Ot:()=>De})},3398:(dn,Je)=>{"use strict";Je.if=A,Je.Kp=function S(L){if(L.length%4!=0)throw new Error("Unable to parse base64 string.");var N=L.indexOf("=");if(-1!==N&&N<L.length-2)throw new Error("Unable to parse base64 string.");for(var Z,z=L.endsWith("==")?2:L.endsWith("=")?1:0,re=L.length,q=new Uint8Array(re/4*3),ee=0,De=0;ee<re;ee+=4,De+=3)Z=E(L.charCodeAt(ee))<<18|E(L.charCodeAt(ee+1))<<12|E(L.charCodeAt(ee+2))<<6|E(L.charCodeAt(ee+3)),q[De]=Z>>16,q[De+1]=Z>>8&255,q[De+2]=255&Z;return q.subarray(0,q.length-z)},Je.Cw=function C(L){return A((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(L))};var h=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],O=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function E(L){if(L>=O.length)throw new Error("Unable to parse base64 string.");var N=O[L];if(255===N)throw new Error("Unable to parse base64 string.");return N}function A(L){var z,N="",re=L.length;for(z=2;z<re;z+=3)N+=h[L[z-2]>>2],N+=h[(3&L[z-2])<<4|L[z-1]>>4],N+=h[(15&L[z-1])<<2|L[z]>>6],N+=h[63&L[z]];return z===re+1&&(N+=h[L[z-2]>>2],N+=h[(3&L[z-2])<<4],N+="=="),z===re&&(N+=h[L[z-2]>>2],N+=h[(3&L[z-2])<<4|L[z-1]>>4],N+=h[(15&L[z-1])<<2],N+="="),N}},4778:dn=>{var Je=-1,_=1,h=0;function O(Q,rt,oe,ot,bt){if(Q===rt)return Q?[[h,Q]]:[];if(null!=oe){var Nt=function je(Q,rt,oe){var ot="number"==typeof oe?{index:oe,length:0}:oe.oldRange,bt="number"==typeof oe?null:oe.newRange,Nt=Q.length,St=rt.length;if(0===ot.length&&(null===bt||0===bt.length)){var $t=ot.index,Ce=Q.slice(0,$t),ce=Q.slice($t),ve=bt?bt.index:null,me=$t+St-Nt;if(!(null!==ve&&ve!==me||me<0||me>St)){var Oe=rt.slice(0,me);if((At=rt.slice(me))===ce){var Et=Math.min($t,me);if((En=Ce.slice(0,Et))===(Me=Oe.slice(0,Et)))return Te(En,Ce.slice(Et),Oe.slice(Et),ce)}}if(null===ve||ve===$t){var Ot=$t,At=(Oe=rt.slice(0,Ot),rt.slice(Ot));if(Oe===Ce){var Ft=Math.min(Nt-Ot,St-Ot);if((ft=ce.slice(ce.length-Ft))===(Ae=At.slice(At.length-Ft)))return Te(Ce,ce.slice(0,ce.length-Ft),At.slice(0,At.length-Ft),ft)}}}if(ot.length>0&&bt&&0===bt.length){var En=Q.slice(0,ot.index),ft=Q.slice(ot.index+ot.length);if(!(St<(Et=En.length)+(Ft=ft.length))){var Me=rt.slice(0,Et),Ae=rt.slice(St-Ft);if(En===Me&&ft===Ae)return Te(En,Q.slice(Et,Nt-Ft),rt.slice(Et,St-Ft),ft)}}return null}(Q,rt,oe);if(Nt)return Nt}var St=C(Q,rt),$t=Q.substring(0,St);St=L(Q=Q.substring(St),rt=rt.substring(St));var Ce=Q.substring(Q.length-St),ce=function E(Q,rt){var oe;if(!Q)return[[_,rt]];if(!rt)return[[Je,Q]];var ot=Q.length>rt.length?Q:rt,bt=Q.length>rt.length?rt:Q,Nt=ot.indexOf(bt);if(-1!==Nt)return oe=[[_,ot.substring(0,Nt)],[h,bt],[_,ot.substring(Nt+bt.length)]],Q.length>rt.length&&(oe[0][0]=oe[2][0]=Je),oe;if(1===bt.length)return[[Je,Q],[_,rt]];var St=function N(Q,rt){var oe=Q.length>rt.length?Q:rt,ot=Q.length>rt.length?rt:Q;if(oe.length<4||2*ot.length<oe.length)return null;function bt(At,Et,En){for(var Ot,Ft,ft,Ae,Me=At.substring(En,En+Math.floor(At.length/4)),kn=-1,nn="";-1!==(kn=Et.indexOf(Me,kn+1));){var Ve=C(At.substring(En),Et.substring(kn)),vt=L(At.substring(0,En),Et.substring(0,kn));nn.length<vt+Ve&&(nn=Et.substring(kn-vt,kn)+Et.substring(kn,kn+Ve),Ot=At.substring(0,En-vt),Ft=At.substring(En+Ve),ft=Et.substring(0,kn-vt),Ae=Et.substring(kn+Ve))}return 2*nn.length>=At.length?[Ot,Ft,ft,Ae,nn]:null}var $t,Ce,ce,ve,me,Nt=bt(oe,ot,Math.ceil(oe.length/4)),St=bt(oe,ot,Math.ceil(oe.length/2));return Nt||St?($t=St?Nt&&Nt[4].length>St[4].length?Nt:St:Nt,Q.length>rt.length?(Ce=$t[0],ce=$t[1],ve=$t[2],me=$t[3]):(ve=$t[0],me=$t[1],Ce=$t[2],ce=$t[3]),[Ce,ce,ve,me,$t[4]]):null}(Q,rt);if(St){var Ce=St[1],ve=St[3],me=St[4],Oe=O(St[0],St[2]),At=O(Ce,ve);return Oe.concat([[h,me]],At)}return function A(Q,rt){for(var oe=Q.length,ot=rt.length,bt=Math.ceil((oe+ot)/2),Nt=bt,St=2*bt,$t=new Array(St),Ce=new Array(St),ce=0;ce<St;ce++)$t[ce]=-1,Ce[ce]=-1;$t[Nt+1]=0,Ce[Nt+1]=0;for(var ve=oe-ot,me=ve%2!=0,Oe=0,At=0,Et=0,En=0,Me=0;Me<bt;Me++){for(var kn=-Me+Oe;kn<=Me-At;kn+=2){for(var nn=Nt+kn,Ft=(Ot=kn===-Me||kn!==Me&&$t[nn-1]<$t[nn+1]?$t[nn+1]:$t[nn-1]+1)-kn;Ot<oe&&Ft<ot&&Q.charAt(Ot)===rt.charAt(Ft);)Ot++,Ft++;if($t[nn]=Ot,Ot>oe)At+=2;else if(Ft>ot)Oe+=2;else if(me&&(ft=Nt+ve-kn)>=0&&ft<St&&-1!==Ce[ft]&&Ot>=(Ae=oe-Ce[ft]))return S(Q,rt,Ot,Ft)}for(var Ve=-Me+Et;Ve<=Me-En;Ve+=2){for(var Ae,ft=Nt+Ve,vt=(Ae=Ve===-Me||Ve!==Me&&Ce[ft-1]<Ce[ft+1]?Ce[ft+1]:Ce[ft-1]+1)-Ve;Ae<oe&&vt<ot&&Q.charAt(oe-Ae-1)===rt.charAt(ot-vt-1);)Ae++,vt++;if(Ce[ft]=Ae,Ae>oe)En+=2;else if(vt>ot)Et+=2;else if(!me){var Ot;if((nn=Nt+ve-Ve)>=0&&nn<St&&-1!==$t[nn])if(Ft=Nt+(Ot=$t[nn])-nn,Ot>=(Ae=oe-Ae))return S(Q,rt,Ot,Ft)}}}return[[Je,Q],[_,rt]]}(Q,rt)}(Q=Q.substring(0,Q.length-St),rt=rt.substring(0,rt.length-St));return $t&&ce.unshift([h,$t]),Ce&&ce.push([h,Ce]),ke(ce,bt),ot&&function z(Q){for(var rt=!1,oe=[],ot=0,bt=null,Nt=0,St=0,$t=0,Ce=0,ce=0;Nt<Q.length;)Q[Nt][0]==h?(oe[ot++]=Nt,St=Ce,$t=ce,Ce=0,ce=0,bt=Q[Nt][1]):(Q[Nt][0]==_?Ce+=Q[Nt][1].length:ce+=Q[Nt][1].length,bt&&bt.length<=Math.max(St,$t)&&bt.length<=Math.max(Ce,ce)&&(Q.splice(oe[ot-1],0,[Je,bt]),Q[oe[ot-1]+1][0]=_,ot--,Nt=--ot>0?oe[ot-1]:-1,St=0,$t=0,Ce=0,ce=0,bt=null,rt=!0)),Nt++;for(rt&&ke(Q),function Ee(Q){function rt(At,Et){if(!At||!Et)return 6;var En=At.charAt(At.length-1),Me=Et.charAt(0),kn=En.match(re),nn=Me.match(re),Ot=kn&&En.match(q),Ft=nn&&Me.match(q),ft=Ot&&En.match(Z),Ae=Ft&&Me.match(Z),Ve=ft&&At.match(ee),vt=Ae&&Et.match(De);return Ve||vt?5:ft||Ae?4:kn&&!Ot&&Ft?3:Ot||Ft?2:kn||nn?1:0}for(var oe=1;oe<Q.length-1;){if(Q[oe-1][0]==h&&Q[oe+1][0]==h){var ot=Q[oe-1][1],bt=Q[oe][1],Nt=Q[oe+1][1],St=L(ot,bt);if(St){var $t=bt.substring(bt.length-St);ot=ot.substring(0,ot.length-St),bt=$t+bt.substring(0,bt.length-St),Nt=$t+Nt}for(var Ce=ot,ce=bt,ve=Nt,me=rt(ot,bt)+rt(bt,Nt);bt.charAt(0)===Nt.charAt(0);){ot+=bt.charAt(0),bt=bt.substring(1)+Nt.charAt(0),Nt=Nt.substring(1);var Oe=rt(ot,bt)+rt(bt,Nt);Oe>=me&&(me=Oe,Ce=ot,ce=bt,ve=Nt)}Q[oe-1][1]!=Ce&&(Ce?Q[oe-1][1]=Ce:(Q.splice(oe-1,1),oe--),Q[oe][1]=ce,ve?Q[oe+1][1]=ve:(Q.splice(oe+1,1),oe--))}oe++}}(Q),Nt=1;Nt<Q.length;){if(Q[Nt-1][0]==Je&&Q[Nt][0]==_){var ve=Q[Nt-1][1],me=Q[Nt][1],Oe=W(ve,me),At=W(me,ve);Oe>=At?(Oe>=ve.length/2||Oe>=me.length/2)&&(Q.splice(Nt,0,[h,me.substring(0,Oe)]),Q[Nt-1][1]=ve.substring(0,ve.length-Oe),Q[Nt+1][1]=me.substring(Oe),Nt++):(At>=ve.length/2||At>=me.length/2)&&(Q.splice(Nt,0,[h,ve.substring(0,At)]),Q[Nt-1][0]=_,Q[Nt-1][1]=me.substring(0,me.length-At),Q[Nt+1][0]=Je,Q[Nt+1][1]=ve.substring(At),Nt++),Nt++}Nt++}}(ce),ce}function S(Q,rt,oe,ot){var bt=Q.substring(0,oe),Nt=rt.substring(0,ot),St=Q.substring(oe),$t=rt.substring(ot),Ce=O(bt,Nt),ce=O(St,$t);return Ce.concat(ce)}function C(Q,rt){if(!Q||!rt||Q.charAt(0)!==rt.charAt(0))return 0;for(var oe=0,ot=Math.min(Q.length,rt.length),bt=ot,Nt=0;oe<bt;)Q.substring(Nt,bt)==rt.substring(Nt,bt)?Nt=oe=bt:ot=bt,bt=Math.floor((ot-oe)/2+oe);return Qe(Q.charCodeAt(bt-1))&&bt--,bt}function W(Q,rt){var oe=Q.length,ot=rt.length;if(0==oe||0==ot)return 0;oe>ot?Q=Q.substring(oe-ot):oe<ot&&(rt=rt.substring(0,oe));var bt=Math.min(oe,ot);if(Q==rt)return bt;for(var Nt=0,St=1;;){var $t=Q.substring(bt-St),Ce=rt.indexOf($t);if(-1==Ce)return Nt;St+=Ce,(0==Ce||Q.substring(bt-St)==rt.substring(0,St))&&(Nt=St,St++)}}function L(Q,rt){if(!Q||!rt||Q.slice(-1)!==rt.slice(-1))return 0;for(var oe=0,ot=Math.min(Q.length,rt.length),bt=ot,Nt=0;oe<bt;)Q.substring(Q.length-bt,Q.length-Nt)==rt.substring(rt.length-bt,rt.length-Nt)?Nt=oe=bt:ot=bt,bt=Math.floor((ot-oe)/2+oe);return Pe(Q.charCodeAt(Q.length-bt))&&bt--,bt}var re=/[^a-zA-Z0-9]/,q=/\s/,Z=/[\r\n]/,ee=/\n\r?\n$/,De=/^\r?\n\r?\n/;function ke(Q,rt){Q.push([h,""]);for(var $t,oe=0,ot=0,bt=0,Nt="",St="";oe<Q.length;)if(oe<Q.length-1&&!Q[oe][1])Q.splice(oe,1);else switch(Q[oe][0]){case _:bt++,St+=Q[oe][1],oe++;break;case Je:ot++,Nt+=Q[oe][1],oe++;break;case h:var Ce=oe-bt-ot-1;if(rt){if(Ce>=0&&Re(Q[Ce][1])){var ce=Q[Ce][1].slice(-1);if(Q[Ce][1]=Q[Ce][1].slice(0,-1),Nt=ce+Nt,St=ce+St,!Q[Ce][1]){Q.splice(Ce,1),oe--;var ve=Ce-1;Q[ve]&&Q[ve][0]===_&&(bt++,St=Q[ve][1]+St,ve--),Q[ve]&&Q[ve][0]===Je&&(ot++,Nt=Q[ve][1]+Nt,ve--),Ce=ve}}Ye(Q[oe][1])&&(ce=Q[oe][1].charAt(0),Q[oe][1]=Q[oe][1].slice(1),Nt+=ce,St+=ce)}if(oe<Q.length-1&&!Q[oe][1]){Q.splice(oe,1);break}if(Nt.length>0||St.length>0){Nt.length>0&&St.length>0&&(0!==($t=C(St,Nt))&&(Ce>=0?Q[Ce][1]+=St.substring(0,$t):(Q.splice(0,0,[h,St.substring(0,$t)]),oe++),St=St.substring($t),Nt=Nt.substring($t)),0!==($t=L(St,Nt))&&(Q[oe][1]=St.substring(St.length-$t)+Q[oe][1],St=St.substring(0,St.length-$t),Nt=Nt.substring(0,Nt.length-$t)));var me=bt+ot;0===Nt.length&&0===St.length?(Q.splice(oe-me,me),oe-=me):0===Nt.length?(Q.splice(oe-me,me,[_,St]),oe=oe-me+1):0===St.length?(Q.splice(oe-me,me,[Je,Nt]),oe=oe-me+1):(Q.splice(oe-me,me,[Je,Nt],[_,St]),oe=oe-me+2)}0!==oe&&Q[oe-1][0]===h?(Q[oe-1][1]+=Q[oe][1],Q.splice(oe,1)):oe++,bt=0,ot=0,Nt="",St=""}""===Q[Q.length-1][1]&&Q.pop();var Oe=!1;for(oe=1;oe<Q.length-1;)Q[oe-1][0]===h&&Q[oe+1][0]===h&&(Q[oe][1].substring(Q[oe][1].length-Q[oe-1][1].length)===Q[oe-1][1]?(Q[oe][1]=Q[oe-1][1]+Q[oe][1].substring(0,Q[oe][1].length-Q[oe-1][1].length),Q[oe+1][1]=Q[oe-1][1]+Q[oe+1][1],Q.splice(oe-1,1),Oe=!0):Q[oe][1].substring(0,Q[oe+1][1].length)==Q[oe+1][1]&&(Q[oe-1][1]+=Q[oe+1][1],Q[oe][1]=Q[oe][1].substring(Q[oe+1][1].length)+Q[oe+1][1],Q.splice(oe+1,1),Oe=!0)),oe++;Oe&&ke(Q,rt)}function Qe(Q){return Q>=55296&&Q<=56319}function Pe(Q){return Q>=56320&&Q<=57343}function Ye(Q){return Pe(Q.charCodeAt(0))}function Re(Q){return Qe(Q.charCodeAt(Q.length-1))}function Te(Q,rt,oe,ot){return Re(Q)||Ye(ot)?null:function nt(Q){for(var rt=[],oe=0;oe<Q.length;oe++)Q[oe][1].length>0&&rt.push(Q[oe]);return rt}([[h,Q],[Je,rt],[_,oe],[h,ot]])}function Xe(Q,rt,oe,ot){return O(Q,rt,oe,ot,!0)}Xe.INSERT=_,Xe.DELETE=Je,Xe.EQUAL=h,dn.exports=Xe},5522:function(dn,Je,_){var h;!function(){var A={};!function(O){"use strict";O.__esModule=!0,O.digestLength=32,O.blockSize=64;var E=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function A(Z,ee,De,Ee,ke){for(var Qe,Pe,Ye,Re,nt,Te,je,Xe,Q,rt,oe,ot,bt;ke>=64;){for(Qe=ee[0],Pe=ee[1],Ye=ee[2],Re=ee[3],nt=ee[4],Te=ee[5],je=ee[6],Xe=ee[7],rt=0;rt<16;rt++)Z[rt]=(255&De[oe=Ee+4*rt])<<24|(255&De[oe+1])<<16|(255&De[oe+2])<<8|255&De[oe+3];for(rt=16;rt<64;rt++)Z[rt]=((ot=((Q=Z[rt-2])>>>17|Q<<15)^(Q>>>19|Q<<13)^Q>>>10)+Z[rt-7]|0)+((bt=((Q=Z[rt-15])>>>7|Q<<25)^(Q>>>18|Q<<14)^Q>>>3)+Z[rt-16]|0);for(rt=0;rt<64;rt++)ot=(((nt>>>6|nt<<26)^(nt>>>11|nt<<21)^(nt>>>25|nt<<7))+(nt&Te^~nt&je)|0)+(Xe+(E[rt]+Z[rt]|0)|0)|0,bt=((Qe>>>2|Qe<<30)^(Qe>>>13|Qe<<19)^(Qe>>>22|Qe<<10))+(Qe&Pe^Qe&Ye^Pe&Ye)|0,Xe=je,je=Te,Te=nt,nt=Re+ot|0,Re=Ye,Ye=Pe,Pe=Qe,Qe=ot+bt|0;ee[0]+=Qe,ee[1]+=Pe,ee[2]+=Ye,ee[3]+=Re,ee[4]+=nt,ee[5]+=Te,ee[6]+=je,ee[7]+=Xe,Ee+=64,ke-=64}return Ee}var S=function(){function Z(){this.digestLength=O.digestLength,this.blockSize=O.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return Z.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},Z.prototype.clean=function(){for(var ee=0;ee<this.buffer.length;ee++)this.buffer[ee]=0;for(ee=0;ee<this.temp.length;ee++)this.temp[ee]=0;this.reset()},Z.prototype.update=function(ee,De){if(void 0===De&&(De=ee.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var Ee=0;if(this.bytesHashed+=De,this.bufferLength>0){for(;this.bufferLength<64&&De>0;)this.buffer[this.bufferLength++]=ee[Ee++],De--;64===this.bufferLength&&(A(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(De>=64&&(Ee=A(this.temp,this.state,ee,Ee,De),De%=64);De>0;)this.buffer[this.bufferLength++]=ee[Ee++],De--;return this},Z.prototype.finish=function(ee){if(!this.finished){var De=this.bytesHashed,Ee=this.bufferLength,ke=De/536870912|0,Qe=De<<3,Pe=De%64<56?64:128;this.buffer[Ee]=128;for(var Ye=Ee+1;Ye<Pe-8;Ye++)this.buffer[Ye]=0;this.buffer[Pe-8]=ke>>>24&255,this.buffer[Pe-7]=ke>>>16&255,this.buffer[Pe-6]=ke>>>8&255,this.buffer[Pe-5]=ke>>>0&255,this.buffer[Pe-4]=Qe>>>24&255,this.buffer[Pe-3]=Qe>>>16&255,this.buffer[Pe-2]=Qe>>>8&255,this.buffer[Pe-1]=Qe>>>0&255,A(this.temp,this.state,this.buffer,0,Pe),this.finished=!0}for(Ye=0;Ye<8;Ye++)ee[4*Ye+0]=this.state[Ye]>>>24&255,ee[4*Ye+1]=this.state[Ye]>>>16&255,ee[4*Ye+2]=this.state[Ye]>>>8&255,ee[4*Ye+3]=this.state[Ye]>>>0&255;return this},Z.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},Z.prototype._saveState=function(ee){for(var De=0;De<this.state.length;De++)ee[De]=this.state[De]},Z.prototype._restoreState=function(ee,De){for(var Ee=0;Ee<this.state.length;Ee++)this.state[Ee]=ee[Ee];this.bytesHashed=De,this.finished=!1,this.bufferLength=0},Z}();O.Hash=S;var C=function(){function Z(ee){this.inner=new S,this.outer=new S,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var De=new Uint8Array(this.blockSize);if(ee.length>this.blockSize)(new S).update(ee).finish(De).clean();else for(var Ee=0;Ee<ee.length;Ee++)De[Ee]=ee[Ee];for(Ee=0;Ee<De.length;Ee++)De[Ee]^=54;for(this.inner.update(De),Ee=0;Ee<De.length;Ee++)De[Ee]^=106;for(this.outer.update(De),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),Ee=0;Ee<De.length;Ee++)De[Ee]=0}return Z.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},Z.prototype.clean=function(){for(var ee=0;ee<this.istate.length;ee++)this.ostate[ee]=this.istate[ee]=0;this.inner.clean(),this.outer.clean()},Z.prototype.update=function(ee){return this.inner.update(ee),this},Z.prototype.finish=function(ee){return this.outer.finished?this.outer.finish(ee):(this.inner.finish(ee),this.outer.update(ee,this.digestLength).finish(ee)),this},Z.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},Z}();function W(Z){var ee=(new S).update(Z),De=ee.digest();return ee.clean(),De}function L(Z,ee){var De=new C(Z).update(ee),Ee=De.digest();return De.clean(),Ee}function N(Z,ee,De,Ee){var ke=Ee[0];if(0===ke)throw new Error("hkdf: cannot expand more");ee.reset(),ke>1&&ee.update(Z),De&&ee.update(De),ee.update(Ee),ee.finish(Z),Ee[0]++}O.HMAC=C,O.hash=W,O.default=W,O.hmac=L;var z=new Uint8Array(O.digestLength);O.hkdf=function re(Z,ee,De,Ee){void 0===ee&&(ee=z),void 0===Ee&&(Ee=32);for(var ke=new Uint8Array([1]),Qe=L(ee,Z),Pe=new C(Qe),Ye=new Uint8Array(Pe.digestLength),Re=Ye.length,nt=new Uint8Array(Ee),Te=0;Te<Ee;Te++)Re===Ye.length&&(N(Ye,Pe,De,ke),Re=0),nt[Te]=Ye[Re++];return Pe.clean(),Ye.fill(0),ke.fill(0),nt},O.pbkdf2=function q(Z,ee,De,Ee){for(var ke=new C(Z),Qe=ke.digestLength,Pe=new Uint8Array(4),Ye=new Uint8Array(Qe),Re=new Uint8Array(Qe),nt=new Uint8Array(Ee),Te=0;Te*Qe<Ee;Te++){var je=Te+1;Pe[0]=je>>>24&255,Pe[1]=je>>>16&255,Pe[2]=je>>>8&255,Pe[3]=je>>>0&255,ke.reset(),ke.update(ee),ke.update(Pe),ke.finish(Re);for(var Xe=0;Xe<Qe;Xe++)Ye[Xe]=Re[Xe];for(Xe=2;Xe<=De;Xe++){ke.reset(),ke.update(Re).finish(Re);for(var Q=0;Q<Qe;Q++)Ye[Q]^=Re[Q]}for(Xe=0;Xe<Qe&&Te*Qe+Xe<Ee;Xe++)nt[Te*Qe+Xe]=Ye[Xe]}for(Te=0;Te<Qe;Te++)Ye[Te]=Re[Te]=0;for(Te=0;Te<4;Te++)Pe[Te]=0;return ke.clean(),nt}}(A);var S=A.default;for(var C in A)S[C]=A[C];"object"==typeof dn.exports?dn.exports=S:void 0!==(h=function(){return S}.call(A,_,A,dn))&&(dn.exports=h)}()},8805:(dn,Je,_)=>{dn=_.nmd(dn);var O="__lodash_hash_undefined__",E=9007199254740991,A="[object Arguments]",C="[object Boolean]",W="[object Date]",N="[object Function]",z="[object GeneratorFunction]",re="[object Map]",q="[object Number]",Z="[object Object]",ee="[object Promise]",De="[object RegExp]",Ee="[object Set]",ke="[object String]",Qe="[object Symbol]",Pe="[object WeakMap]",Ye="[object ArrayBuffer]",Re="[object DataView]",nt="[object Float32Array]",Te="[object Float64Array]",je="[object Int8Array]",Xe="[object Int16Array]",Q="[object Int32Array]",rt="[object Uint8Array]",oe="[object Uint8ClampedArray]",ot="[object Uint16Array]",bt="[object Uint32Array]",St=/\w*$/,$t=/^\[object .+?Constructor\]$/,Ce=/^(?:0|[1-9]\d*)$/,ce={};ce[A]=ce["[object Array]"]=ce[Ye]=ce[Re]=ce[C]=ce[W]=ce[nt]=ce[Te]=ce[je]=ce[Xe]=ce[Q]=ce[re]=ce[q]=ce[Z]=ce[De]=ce[Ee]=ce[ke]=ce[Qe]=ce[rt]=ce[oe]=ce[ot]=ce[bt]=!0,ce["[object Error]"]=ce[N]=ce[Pe]=!1;var ve="object"==typeof global&&global&&global.Object===Object&&global,me="object"==typeof self&&self&&self.Object===Object&&self,Oe=ve||me||Function("return this")(),At=Je&&!Je.nodeType&&Je,Et=At&&dn&&!dn.nodeType&&dn,En=Et&&Et.exports===At;function Me(Ue,Wt){return Ue.set(Wt[0],Wt[1]),Ue}function kn(Ue,Wt){return Ue.add(Wt),Ue}function Ft(Ue,Wt,In,fi){var Nr=-1,dr=Ue?Ue.length:0;for(fi&&dr&&(In=Ue[++Nr]);++Nr<dr;)In=Wt(In,Ue[Nr],Nr,Ue);return In}function Ve(Ue){var Wt=!1;if(null!=Ue&&"function"!=typeof Ue.toString)try{Wt=!!(Ue+"")}catch{}return Wt}function vt(Ue){var Wt=-1,In=Array(Ue.size);return Ue.forEach(function(fi,Nr){In[++Wt]=[Nr,fi]}),In}function an(Ue,Wt){return function(In){return Ue(Wt(In))}}function Pt(Ue){var Wt=-1,In=Array(Ue.size);return Ue.forEach(function(fi){In[++Wt]=fi}),In}var Ue,yt=Array.prototype,Jt=Function.prototype,vn=Object.prototype,wn=Oe["__core-js_shared__"],on=(Ue=/[^.]+$/.exec(wn&&wn.keys&&wn.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",sn=Jt.toString,de=vn.hasOwnProperty,tt=vn.toString,_e=RegExp("^"+sn.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=En?Oe.Buffer:void 0,rn=Oe.Symbol,fn=Oe.Uint8Array,ci=an(Object.getPrototypeOf,Object),$i=Object.create,mn=vn.propertyIsEnumerable,cn=yt.splice,wt=Object.getOwnPropertySymbols,Ht=ut?ut.isBuffer:void 0,Bt=an(Object.keys,Object),An=gs(Oe,"DataView"),Xn=gs(Oe,"Map"),zi=gs(Oe,"Promise"),Vn=gs(Oe,"Set"),ui=gs(Oe,"WeakMap"),Pn=gs(Object,"create"),oi=co(An),jt=co(Xn),xt=co(zi),qt=co(Vn),Lt=co(ui),Kt=rn?rn.prototype:void 0,Rn=Kt?Kt.valueOf:void 0;function Un(Ue){var Wt=-1,In=Ue?Ue.length:0;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function be(Ue){var Wt=-1,In=Ue?Ue.length:0;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function Jn(Ue){var Wt=-1,In=Ue?Ue.length:0;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function Hi(Ue){this.__data__=new be(Ue)}function lr(Ue,Wt,In){var fi=Ue[Wt];(!de.call(Ue,Wt)||!Gl(fi,In)||void 0===In&&!(Wt in Ue))&&(Ue[Wt]=In)}function Ir(Ue,Wt){for(var In=Ue.length;In--;)if(Gl(Ue[In][0],Wt))return In;return-1}function tr(Ue,Wt,In,fi,Nr,dr,Wr){var hs;if(fi&&(hs=dr?fi(Ue,Nr,dr,Wr):fi(Ue)),void 0!==hs)return hs;if(!Rr(Ue))return Ue;var Vs=ra(Ue);if(Vs){if(hs=function Go(Ue){var Wt=Ue.length,In=Ue.constructor(Wt);return Wt&&"string"==typeof Ue[0]&&de.call(Ue,"index")&&(In.index=Ue.index,In.input=Ue.input),In}(Ue),!Wt)return function is(Ue,Wt){var In=-1,fi=Ue.length;for(Wt||(Wt=Array(fi));++In<fi;)Wt[In]=Ue[In];return Wt}(Ue,hs)}else{var Ms=Ur(Ue),ho=Ms==N||Ms==z;if(Ea(Ue))return function ze(Ue,Wt){if(Wt)return Ue.slice();var In=new Ue.constructor(Ue.length);return Ue.copy(In),In}(Ue,Wt);if(Ms==Z||Ms==A||ho&&!dr){if(Ve(Ue))return dr?Ue:{};if(hs=function wo(Ue){return"function"!=typeof Ue.constructor||Jo(Ue)?{}:function xi(Ue){return Rr(Ue)?$i(Ue):{}}(ci(Ue))}(ho?{}:Ue),!Wt)return function to(Ue,Wt){return Es(Ue,Bo(Ue),Wt)}(Ue,function vr(Ue,Wt){return Ue&&Es(Wt,Zs(Wt),Ue)}(hs,Ue))}else{if(!ce[Ms])return dr?Ue:{};hs=function Ko(Ue,Wt,In,fi){var Nr=Ue.constructor;switch(Wt){case Ye:return kt(Ue);case C:case W:return new Nr(+Ue);case Re:return function Vt(Ue,Wt){var In=Wt?kt(Ue.buffer):Ue.buffer;return new Ue.constructor(In,Ue.byteOffset,Ue.byteLength)}(Ue,fi);case nt:case Te:case je:case Xe:case Q:case rt:case oe:case ot:case bt:return function Jr(Ue,Wt){var In=Wt?kt(Ue.buffer):Ue.buffer;return new Ue.constructor(In,Ue.byteOffset,Ue.length)}(Ue,fi);case re:return function mi(Ue,Wt,In){return Ft(Wt?In(vt(Ue),!0):vt(Ue),Me,new Ue.constructor)}(Ue,fi,In);case q:case ke:return new Nr(Ue);case De:return function Zi(Ue){var Wt=new Ue.constructor(Ue.source,St.exec(Ue));return Wt.lastIndex=Ue.lastIndex,Wt}(Ue);case Ee:return function cr(Ue,Wt,In){return Ft(Wt?In(Pt(Ue),!0):Pt(Ue),kn,new Ue.constructor)}(Ue,fi,In);case Qe:return function ns(Ue){return Rn?Object(Rn.call(Ue)):{}}(Ue)}}(Ue,Ms,tr,Wt)}}Wr||(Wr=new Hi);var Ar=Wr.get(Ue);if(Ar)return Ar;if(Wr.set(Ue,hs),!Vs)var $r=In?function Gr(Ue){return function He(Ue,Wt,In){var fi=Wt(Ue);return ra(Ue)?fi:function Ot(Ue,Wt){for(var In=-1,fi=Wt.length,Nr=Ue.length;++In<fi;)Ue[Nr+In]=Wt[In];return Ue}(fi,In(Ue))}(Ue,Zs,Bo)}(Ue):Zs(Ue);return function nn(Ue,Wt){for(var In=-1,fi=Ue?Ue.length:0;++In<fi&&!1!==Wt(Ue[In],In,Ue););}($r||Ue,function(oo,vs){$r&&(oo=Ue[vs=oo]),lr(hs,vs,tr(oo,Wt,In,fi,vs,Ue,Wr))}),hs}function kt(Ue){var Wt=new Ue.constructor(Ue.byteLength);return new fn(Wt).set(new fn(Ue)),Wt}function Es(Ue,Wt,In,fi){In||(In={});for(var Nr=-1,dr=Wt.length;++Nr<dr;){var Wr=Wt[Nr],hs=fi?fi(In[Wr],Ue[Wr],Wr,In,Ue):void 0;lr(In,Wr,void 0===hs?Ue[Wr]:hs)}return In}function rs(Ue,Wt){var In=Ue.__data__;return function $a(Ue){var Wt=typeof Ue;return"string"==Wt||"number"==Wt||"symbol"==Wt||"boolean"==Wt?"__proto__"!==Ue:null===Ue}(Wt)?In["string"==typeof Wt?"string":"hash"]:In.map}function gs(Ue,Wt){var In=function Ae(Ue,Wt){return Ue?.[Wt]}(Ue,Wt);return function H(Ue){return!(!Rr(Ue)||function qa(Ue){return!!on&&on in Ue}(Ue))&&(Va(Ue)||Ve(Ue)?_e:$t).test(co(Ue))}(In)?In:void 0}Un.prototype.clear=function dt(){this.__data__=Pn?Pn(null):{}},Un.prototype.delete=function we(Ue){return this.has(Ue)&&delete this.__data__[Ue]},Un.prototype.get=function Ne(Ue){var Wt=this.__data__;if(Pn){var In=Wt[Ue];return In===O?void 0:In}return de.call(Wt,Ue)?Wt[Ue]:void 0},Un.prototype.has=function U(Ue){var Wt=this.__data__;return Pn?void 0!==Wt[Ue]:de.call(Wt,Ue)},Un.prototype.set=function Se(Ue,Wt){return this.__data__[Ue]=Pn&&void 0===Wt?O:Wt,this},be.prototype.clear=function ct(){this.__data__=[]},be.prototype.delete=function Ze(Ue){var Wt=this.__data__,In=Ir(Wt,Ue);return!(In<0||(In==Wt.length-1?Wt.pop():cn.call(Wt,In,1),0))},be.prototype.get=function Mt(Ue){var Wt=this.__data__,In=Ir(Wt,Ue);return In<0?void 0:Wt[In][1]},be.prototype.has=function hn(Ue){return Ir(this.__data__,Ue)>-1},be.prototype.set=function Kn(Ue,Wt){var In=this.__data__,fi=Ir(In,Ue);return fi<0?In.push([Ue,Wt]):In[fi][1]=Wt,this},Jn.prototype.clear=function Bi(){this.__data__={hash:new Un,map:new(Xn||be),string:new Un}},Jn.prototype.delete=function di(Ue){return rs(this,Ue).delete(Ue)},Jn.prototype.get=function Qi(Ue){return rs(this,Ue).get(Ue)},Jn.prototype.has=function br(Ue){return rs(this,Ue).has(Ue)},Jn.prototype.set=function Tr(Ue,Wt){return rs(this,Ue).set(Ue,Wt),this},Hi.prototype.clear=function xr(){this.__data__=new be},Hi.prototype.delete=function as(Ue){return this.__data__.delete(Ue)},Hi.prototype.get=function ts(Ue){return this.__data__.get(Ue)},Hi.prototype.has=function bs(Ue){return this.__data__.has(Ue)},Hi.prototype.set=function Os(Ue,Wt){var In=this.__data__;if(In instanceof be){var fi=In.__data__;if(!Xn||fi.length<199)return fi.push([Ue,Wt]),this;In=this.__data__=new Jn(fi)}return In.set(Ue,Wt),this};var Bo=wt?an(wt,Object):function Vl(){return[]},Ur=function Rt(Ue){return tt.call(Ue)};function rl(Ue,Wt){return!!(Wt=Wt??E)&&("number"==typeof Ue||Ce.test(Ue))&&Ue>-1&&Ue%1==0&&Ue<Wt}function Jo(Ue){var Wt=Ue&&Ue.constructor;return Ue===("function"==typeof Wt&&Wt.prototype||vn)}function co(Ue){if(null!=Ue){try{return sn.call(Ue)}catch{}try{return Ue+""}catch{}}return""}function Gl(Ue,Wt){return Ue===Wt||Ue!=Ue&&Wt!=Wt}(An&&Ur(new An(new ArrayBuffer(1)))!=Re||Xn&&Ur(new Xn)!=re||zi&&Ur(zi.resolve())!=ee||Vn&&Ur(new Vn)!=Ee||ui&&Ur(new ui)!=Pe)&&(Ur=function(Ue){var Wt=tt.call(Ue),In=Wt==Z?Ue.constructor:void 0,fi=In?co(In):void 0;if(fi)switch(fi){case oi:return Re;case jt:return re;case xt:return ee;case qt:return Ee;case Lt:return Pe}return Wt});var ra=Array.isArray;function xa(Ue){return null!=Ue&&function Xr(Ue){return"number"==typeof Ue&&Ue>-1&&Ue%1==0&&Ue<=E}(Ue.length)&&!Va(Ue)}var Ea=Ht||function ga(){return!1};function Va(Ue){var Wt=Rr(Ue)?tt.call(Ue):"";return Wt==N||Wt==z}function Rr(Ue){var Wt=typeof Ue;return!!Ue&&("object"==Wt||"function"==Wt)}function Zs(Ue){return xa(Ue)?function ds(Ue,Wt){var In=ra(Ue)||function aa(Ue){return function Kl(Ue){return function uo(Ue){return!!Ue&&"object"==typeof Ue}(Ue)&&xa(Ue)}(Ue)&&de.call(Ue,"callee")&&(!mn.call(Ue,"callee")||tt.call(Ue)==A)}(Ue)?function ft(Ue,Wt){for(var In=-1,fi=Array(Ue);++In<Ue;)fi[In]=Wt(In);return fi}(Ue.length,String):[],fi=In.length,Nr=!!fi;for(var dr in Ue)(Wt||de.call(Ue,dr))&&(!Nr||"length"!=dr&&!rl(dr,fi))&&In.push(dr);return In}(Ue):function Ke(Ue){if(!Jo(Ue))return Bt(Ue);var Wt=[];for(var In in Object(Ue))de.call(Ue,In)&&"constructor"!=In&&Wt.push(In);return Wt}(Ue)}dn.exports=function Ba(Ue){return tr(Ue,!0,!0)}},6682:(dn,Je,_)=>{dn=_.nmd(dn);var O="__lodash_hash_undefined__",E=1,A=2,S=9007199254740991,C="[object Arguments]",W="[object Array]",L="[object AsyncFunction]",N="[object Boolean]",z="[object Date]",re="[object Error]",q="[object Function]",Z="[object GeneratorFunction]",ee="[object Map]",De="[object Number]",Ee="[object Null]",ke="[object Object]",Qe="[object Promise]",Pe="[object Proxy]",Ye="[object RegExp]",Re="[object Set]",nt="[object String]",je="[object Undefined]",Xe="[object WeakMap]",Q="[object ArrayBuffer]",rt="[object DataView]",Oe=/^\[object .+?Constructor\]$/,At=/^(?:0|[1-9]\d*)$/,Et={};Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et[C]=Et[W]=Et[Q]=Et[N]=Et[rt]=Et[z]=Et[re]=Et[q]=Et[ee]=Et[De]=Et[ke]=Et[Ye]=Et[Re]=Et[nt]=Et[Xe]=!1;var En="object"==typeof global&&global&&global.Object===Object&&global,Me="object"==typeof self&&self&&self.Object===Object&&self,kn=En||Me||Function("return this")(),nn=Je&&!Je.nodeType&&Je,Ot=nn&&dn&&!dn.nodeType&&dn,Ft=Ot&&Ot.exports===nn,ft=Ft&&En.process,Ae=function(){try{return ft&&ft.binding&&ft.binding("util")}catch{}}(),Ve=Ae&&Ae.isTypedArray;function Pt(Ue,Wt){for(var In=-1,fi=null==Ue?0:Ue.length;++In<fi;)if(Wt(Ue[In],In,Ue))return!0;return!1}function vn(Ue,Wt){return Ue.has(Wt)}function on(Ue){var Wt=-1,In=Array(Ue.size);return Ue.forEach(function(fi,Nr){In[++Wt]=[Nr,fi]}),In}function de(Ue){var Wt=-1,In=Array(Ue.size);return Ue.forEach(function(fi){In[++Wt]=fi}),In}var Ue,tt=Array.prototype,ut=Object.prototype,rn=kn["__core-js_shared__"],fn=Function.prototype.toString,ci=ut.hasOwnProperty,$i=(Ue=/[^.]+$/.exec(rn&&rn.keys&&rn.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",mn=ut.toString,cn=RegExp("^"+fn.call(ci).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Ft?kn.Buffer:void 0,Ht=kn.Symbol,Bt=kn.Uint8Array,An=ut.propertyIsEnumerable,Xn=tt.splice,zi=Ht?Ht.toStringTag:void 0,Vn=Object.getOwnPropertySymbols,ui=wt?wt.isBuffer:void 0,Pn=function sn(Ue,Wt){return function(In){return Ue(Wt(In))}}(Object.keys,Object),oi=Bo(kn,"DataView"),jt=Bo(kn,"Map"),xt=Bo(kn,"Promise"),qt=Bo(kn,"Set"),Lt=Bo(kn,"WeakMap"),Kt=Bo(Object,"create"),Rn=co(oi),Un=co(jt),dt=co(xt),we=co(qt),Ne=co(Lt),U=Ht?Ht.prototype:void 0,Se=U?U.valueOf:void 0;function be(Ue){var Wt=-1,In=null==Ue?0:Ue.length;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function Jn(Ue){var Wt=-1,In=null==Ue?0:Ue.length;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function Hi(Ue){var Wt=-1,In=null==Ue?0:Ue.length;for(this.clear();++Wt<In;){var fi=Ue[Wt];this.set(fi[0],fi[1])}}function ds(Ue){var Wt=-1,In=null==Ue?0:Ue.length;for(this.__data__=new Hi;++Wt<In;)this.add(Ue[Wt])}function vr(Ue){var Wt=this.__data__=new Jn(Ue);this.size=Wt.size}function ze(Ue,Wt){for(var In=Ue.length;In--;)if(Ba(Ue[In][0],Wt))return In;return-1}function Vt(Ue){return null==Ue?void 0===Ue?je:Ee:zi&&zi in Object(Ue)?function Ur(Ue){var Wt=ci.call(Ue,zi),In=Ue[zi];try{Ue[zi]=void 0;var fi=!0}catch{}var Nr=mn.call(Ue);return fi&&(Wt?Ue[zi]=In:delete Ue[zi]),Nr}(Ue):function Jo(Ue){return mn.call(Ue)}(Ue)}function mi(Ue){return Rr(Ue)&&Vt(Ue)==C}function Zi(Ue,Wt,In,fi,Nr){return Ue===Wt||(null==Ue||null==Wt||!Rr(Ue)&&!Rr(Wt)?Ue!=Ue&&Wt!=Wt:function cr(Ue,Wt,In,fi,Nr,dr){var Wr=aa(Ue),hs=aa(Wt),Vs=Wr?W:wo(Ue),Ms=hs?W:wo(Wt),ho=(Vs=Vs==C?ke:Vs)==ke,Ar=(Ms=Ms==C?ke:Ms)==ke,$r=Vs==Ms;if($r&&xa(Ue)){if(!xa(Wt))return!1;Wr=!0,ho=!1}if($r&&!ho)return dr||(dr=new vr),Wr||uo(Ue)?Es(Ue,Wt,In,fi,Nr,dr):function to(Ue,Wt,In,fi,Nr,dr,Wr){switch(In){case rt:if(Ue.byteLength!=Wt.byteLength||Ue.byteOffset!=Wt.byteOffset)return!1;Ue=Ue.buffer,Wt=Wt.buffer;case Q:return!(Ue.byteLength!=Wt.byteLength||!dr(new Bt(Ue),new Bt(Wt)));case N:case z:case De:return Ba(+Ue,+Wt);case re:return Ue.name==Wt.name&&Ue.message==Wt.message;case Ye:case nt:return Ue==Wt+"";case ee:var hs=on;case Re:if(hs||(hs=de),Ue.size!=Wt.size&&!(fi&E))return!1;var Ms=Wr.get(Ue);if(Ms)return Ms==Wt;fi|=A,Wr.set(Ue,Wt);var ho=Es(hs(Ue),hs(Wt),fi,Nr,dr,Wr);return Wr.delete(Ue),ho;case"[object Symbol]":if(Se)return Se.call(Ue)==Se.call(Wt)}return!1}(Ue,Wt,Vs,In,fi,Nr,dr);if(!(In&E)){var oo=ho&&ci.call(Ue,"__wrapped__"),vs=Ar&&ci.call(Wt,"__wrapped__");if(oo||vs){var sa=oo?Ue.value():Ue,ea=vs?Wt.value():Wt;return dr||(dr=new vr),Nr(sa,ea,In,fi,dr)}}return!!$r&&(dr||(dr=new vr),function Gr(Ue,Wt,In,fi,Nr,dr){var Wr=In&E,hs=rs(Ue),Vs=hs.length;if(Vs!=rs(Wt).length&&!Wr)return!1;for(var Ar=Vs;Ar--;){var $r=hs[Ar];if(!(Wr?$r in Wt:ci.call(Wt,$r)))return!1}var oo=dr.get(Ue);if(oo&&dr.get(Wt))return oo==Wt;var vs=!0;dr.set(Ue,Wt),dr.set(Wt,Ue);for(var sa=Wr;++Ar<Vs;){var ea=Ue[$r=hs[Ar]],la=Wt[$r];if(fi)var Ki=Wr?fi(la,ea,$r,Wt,Ue,dr):fi(ea,la,$r,Ue,Wt,dr);if(!(void 0===Ki?ea===la||Nr(ea,la,In,fi,dr):Ki)){vs=!1;break}sa||(sa="constructor"==$r)}if(vs&&!sa){var Xo=Ue.constructor,So=Wt.constructor;Xo!=So&&"constructor"in Ue&&"constructor"in Wt&&!("function"==typeof Xo&&Xo instanceof Xo&&"function"==typeof So&&So instanceof So)&&(vs=!1)}return dr.delete(Ue),dr.delete(Wt),vs}(Ue,Wt,In,fi,Nr,dr))}(Ue,Wt,In,fi,Zi,Nr))}function Es(Ue,Wt,In,fi,Nr,dr){var Wr=In&E,hs=Ue.length,Vs=Wt.length;if(hs!=Vs&&!(Wr&&Vs>hs))return!1;var Ms=dr.get(Ue);if(Ms&&dr.get(Wt))return Ms==Wt;var ho=-1,Ar=!0,$r=In&A?new ds:void 0;for(dr.set(Ue,Wt),dr.set(Wt,Ue);++ho<hs;){var oo=Ue[ho],vs=Wt[ho];if(fi)var sa=Wr?fi(vs,oo,ho,Wt,Ue,dr):fi(oo,vs,ho,Ue,Wt,dr);if(void 0!==sa){if(sa)continue;Ar=!1;break}if($r){if(!Pt(Wt,function(ea,la){if(!vn($r,la)&&(oo===ea||Nr(oo,ea,In,fi,dr)))return $r.push(la)})){Ar=!1;break}}else if(oo!==vs&&!Nr(oo,vs,In,fi,dr)){Ar=!1;break}}return dr.delete(Ue),dr.delete(Wt),Ar}function rs(Ue){return function kt(Ue,Wt,In){var fi=Wt(Ue);return aa(Ue)?fi:function an(Ue,Wt){for(var In=-1,fi=Wt.length,Nr=Ue.length;++In<fi;)Ue[Nr+In]=Wt[In];return Ue}(fi,In(Ue))}(Ue,Zs,Go)}function gs(Ue,Wt){var In=Ue.__data__;return function rl(Ue){var Wt=typeof Ue;return"string"==Wt||"number"==Wt||"symbol"==Wt||"boolean"==Wt?"__proto__"!==Ue:null===Ue}(Wt)?In["string"==typeof Wt?"string":"hash"]:In.map}function Bo(Ue,Wt){var In=function wn(Ue,Wt){return Ue?.[Wt]}(Ue,Wt);return function ns(Ue){return!(!Xr(Ue)||function $a(Ue){return!!$i&&$i in Ue}(Ue))&&(Ea(Ue)?cn:Oe).test(co(Ue))}(In)?In:void 0}be.prototype.clear=function ct(){this.__data__=Kt?Kt(null):{},this.size=0},be.prototype.delete=function Ze(Ue){var Wt=this.has(Ue)&&delete this.__data__[Ue];return this.size-=Wt?1:0,Wt},be.prototype.get=function Mt(Ue){var Wt=this.__data__;if(Kt){var In=Wt[Ue];return In===O?void 0:In}return ci.call(Wt,Ue)?Wt[Ue]:void 0},be.prototype.has=function hn(Ue){var Wt=this.__data__;return Kt?void 0!==Wt[Ue]:ci.call(Wt,Ue)},be.prototype.set=function Kn(Ue,Wt){var In=this.__data__;return this.size+=this.has(Ue)?0:1,In[Ue]=Kt&&void 0===Wt?O:Wt,this},Jn.prototype.clear=function Bi(){this.__data__=[],this.size=0},Jn.prototype.delete=function di(Ue){var Wt=this.__data__,In=ze(Wt,Ue);return!(In<0||(In==Wt.length-1?Wt.pop():Xn.call(Wt,In,1),--this.size,0))},Jn.prototype.get=function Qi(Ue){var Wt=this.__data__,In=ze(Wt,Ue);return In<0?void 0:Wt[In][1]},Jn.prototype.has=function br(Ue){return ze(this.__data__,Ue)>-1},Jn.prototype.set=function Tr(Ue,Wt){var In=this.__data__,fi=ze(In,Ue);return fi<0?(++this.size,In.push([Ue,Wt])):In[fi][1]=Wt,this},Hi.prototype.clear=function xr(){this.size=0,this.__data__={hash:new be,map:new(jt||Jn),string:new be}},Hi.prototype.delete=function as(Ue){var Wt=gs(this,Ue).delete(Ue);return this.size-=Wt?1:0,Wt},Hi.prototype.get=function ts(Ue){return gs(this,Ue).get(Ue)},Hi.prototype.has=function bs(Ue){return gs(this,Ue).has(Ue)},Hi.prototype.set=function Os(Ue,Wt){var In=gs(this,Ue),fi=In.size;return In.set(Ue,Wt),this.size+=In.size==fi?0:1,this},ds.prototype.add=ds.prototype.push=function lr(Ue){return this.__data__.set(Ue,O),this},ds.prototype.has=function Ir(Ue){return this.__data__.has(Ue)},vr.prototype.clear=function tr(){this.__data__=new Jn,this.size=0},vr.prototype.delete=function xi(Ue){var Wt=this.__data__,In=Wt.delete(Ue);return this.size=Wt.size,In},vr.prototype.get=function He(Ue){return this.__data__.get(Ue)},vr.prototype.has=function Rt(Ue){return this.__data__.has(Ue)},vr.prototype.set=function H(Ue,Wt){var In=this.__data__;if(In instanceof Jn){var fi=In.__data__;if(!jt||fi.length<199)return fi.push([Ue,Wt]),this.size=++In.size,this;In=this.__data__=new Hi(fi)}return In.set(Ue,Wt),this.size=In.size,this};var Go=Vn?function(Ue){return null==Ue?[]:(Ue=Object(Ue),function vt(Ue,Wt){for(var In=-1,fi=null==Ue?0:Ue.length,Nr=0,dr=[];++In<fi;){var Wr=Ue[In];Wt(Wr,In,Ue)&&(dr[Nr++]=Wr)}return dr}(Vn(Ue),function(Wt){return An.call(Ue,Wt)}))}:function Vl(){return[]},wo=Vt;function Ko(Ue,Wt){return!!(Wt=Wt??S)&&("number"==typeof Ue||At.test(Ue))&&Ue>-1&&Ue%1==0&&Ue<Wt}function co(Ue){if(null!=Ue){try{return fn.call(Ue)}catch{}try{return Ue+""}catch{}}return""}function Ba(Ue,Wt){return Ue===Wt||Ue!=Ue&&Wt!=Wt}(oi&&wo(new oi(new ArrayBuffer(1)))!=rt||jt&&wo(new jt)!=ee||xt&&wo(xt.resolve())!=Qe||qt&&wo(new qt)!=Re||Lt&&wo(new Lt)!=Xe)&&(wo=function(Ue){var Wt=Vt(Ue),In=Wt==ke?Ue.constructor:void 0,fi=In?co(In):"";if(fi)switch(fi){case Rn:return rt;case Un:return ee;case dt:return Qe;case we:return Re;case Ne:return Xe}return Wt});var Gl=mi(function(){return arguments}())?mi:function(Ue){return Rr(Ue)&&ci.call(Ue,"callee")&&!An.call(Ue,"callee")},aa=Array.isArray,xa=ui||function ga(){return!1};function Ea(Ue){if(!Xr(Ue))return!1;var Wt=Vt(Ue);return Wt==q||Wt==Z||Wt==L||Wt==Pe}function Va(Ue){return"number"==typeof Ue&&Ue>-1&&Ue%1==0&&Ue<=S}function Xr(Ue){var Wt=typeof Ue;return null!=Ue&&("object"==Wt||"function"==Wt)}function Rr(Ue){return null!=Ue&&"object"==typeof Ue}var uo=Ve?function Jt(Ue){return function(Wt){return Ue(Wt)}}(Ve):function Jr(Ue){return Rr(Ue)&&Va(Ue.length)&&!!Et[Vt(Ue)]};function Zs(Ue){return function ra(Ue){return null!=Ue&&Va(Ue.length)&&!Ea(Ue)}(Ue)?function Ke(Ue,Wt){var In=aa(Ue),fi=!In&&Gl(Ue),Nr=!In&&!fi&&xa(Ue),dr=!In&&!fi&&!Nr&&uo(Ue),Wr=In||fi||Nr||dr,hs=Wr?function yt(Ue,Wt){for(var In=-1,fi=Array(Ue);++In<Ue;)fi[In]=Wt(In);return fi}(Ue.length,String):[],Vs=hs.length;for(var Ms in Ue)(Wt||ci.call(Ue,Ms))&&(!Wr||!("length"==Ms||Nr&&("offset"==Ms||"parent"==Ms)||dr&&("buffer"==Ms||"byteLength"==Ms||"byteOffset"==Ms)||Ko(Ms,Vs)))&&hs.push(Ms);return hs}(Ue):function is(Ue){if(!function qa(Ue){var Wt=Ue&&Ue.constructor;return Ue===("function"==typeof Wt&&Wt.prototype||ut)}(Ue))return Pn(Ue);var Wt=[];for(var In in Object(Ue))ci.call(Ue,In)&&"constructor"!=In&&Wt.push(In);return Wt}(Ue)}dn.exports=function Kl(Ue,Wt){return Zi(Ue,Wt)}},9990:dn=>{dn.exports=_;var Je=null;try{Je=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _(Xe,Q,rt){this.low=0|Xe,this.high=0|Q,this.unsigned=!!rt}function h(Xe){return!0===(Xe&&Xe.__isLong__)}Object.defineProperty(_.prototype,"__isLong__",{value:!0}),_.isLong=h;var O={},E={};function A(Xe,Q){var rt,oe,ot;return Q?(ot=0<=(Xe>>>=0)&&Xe<256)&&(oe=E[Xe])?oe:(rt=C(Xe,(0|Xe)<0?-1:0,!0),ot&&(E[Xe]=rt),rt):(ot=-128<=(Xe|=0)&&Xe<128)&&(oe=O[Xe])?oe:(rt=C(Xe,Xe<0?-1:0,!1),ot&&(O[Xe]=rt),rt)}function S(Xe,Q){if(isNaN(Xe))return Q?ke:Ee;if(Q){if(Xe<0)return ke;if(Xe>=Z)return nt}else{if(Xe<=-ee)return Te;if(Xe+1>=ee)return Re}return Xe<0?S(-Xe,Q).neg():C(Xe%q|0,Xe/q|0,Q)}function C(Xe,Q,rt){return new _(Xe,Q,rt)}_.fromInt=A,_.fromNumber=S,_.fromBits=C;var W=Math.pow;function L(Xe,Q,rt){if(0===Xe.length)throw Error("empty string");if("NaN"===Xe||"Infinity"===Xe||"+Infinity"===Xe||"-Infinity"===Xe)return Ee;if("number"==typeof Q?(rt=Q,Q=!1):Q=!!Q,(rt=rt||10)<2||36<rt)throw RangeError("radix");var oe;if((oe=Xe.indexOf("-"))>0)throw Error("interior hyphen");if(0===oe)return L(Xe.substring(1),Q,rt).neg();for(var ot=S(W(rt,8)),bt=Ee,Nt=0;Nt<Xe.length;Nt+=8){var St=Math.min(8,Xe.length-Nt),$t=parseInt(Xe.substring(Nt,Nt+St),rt);if(St<8){var Ce=S(W(rt,St));bt=bt.mul(Ce).add(S($t))}else bt=(bt=bt.mul(ot)).add(S($t))}return bt.unsigned=Q,bt}function N(Xe,Q){return"number"==typeof Xe?S(Xe,Q):"string"==typeof Xe?L(Xe,Q):C(Xe.low,Xe.high,"boolean"==typeof Q?Q:Xe.unsigned)}_.fromString=L,_.fromValue=N;var q=4294967296,Z=q*q,ee=Z/2,De=A(1<<24),Ee=A(0);_.ZERO=Ee;var ke=A(0,!0);_.UZERO=ke;var Qe=A(1);_.ONE=Qe;var Pe=A(1,!0);_.UONE=Pe;var Ye=A(-1);_.NEG_ONE=Ye;var Re=C(-1,2147483647,!1);_.MAX_VALUE=Re;var nt=C(-1,-1,!0);_.MAX_UNSIGNED_VALUE=nt;var Te=C(0,-2147483648,!1);_.MIN_VALUE=Te;var je=_.prototype;je.toInt=function(){return this.unsigned?this.low>>>0:this.low},je.toNumber=function(){return this.unsigned?(this.high>>>0)*q+(this.low>>>0):this.high*q+(this.low>>>0)},je.toString=function(Q){if((Q=Q||10)<2||36<Q)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Te)){var rt=S(Q),oe=this.div(rt),ot=oe.mul(rt).sub(this);return oe.toString(Q)+ot.toInt().toString(Q)}return"-"+this.neg().toString(Q)}for(var bt=S(W(Q,6),this.unsigned),Nt=this,St="";;){var $t=Nt.div(bt),ce=(Nt.sub($t.mul(bt)).toInt()>>>0).toString(Q);if((Nt=$t).isZero())return ce+St;for(;ce.length<6;)ce="0"+ce;St=""+ce+St}},je.getHighBits=function(){return this.high},je.getHighBitsUnsigned=function(){return this.high>>>0},je.getLowBits=function(){return this.low},je.getLowBitsUnsigned=function(){return this.low>>>0},je.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Te)?64:this.neg().getNumBitsAbs();for(var Q=0!=this.high?this.high:this.low,rt=31;rt>0&&!(Q&1<<rt);rt--);return 0!=this.high?rt+33:rt+1},je.isZero=function(){return 0===this.high&&0===this.low},je.eqz=je.isZero,je.isNegative=function(){return!this.unsigned&&this.high<0},je.isPositive=function(){return this.unsigned||this.high>=0},je.isOdd=function(){return!(1&~this.low)},je.isEven=function(){return!(1&this.low)},je.equals=function(Q){return h(Q)||(Q=N(Q)),(this.unsigned===Q.unsigned||this.high>>>31!=1||Q.high>>>31!=1)&&this.high===Q.high&&this.low===Q.low},je.eq=je.equals,je.notEquals=function(Q){return!this.eq(Q)},je.neq=je.notEquals,je.ne=je.notEquals,je.lessThan=function(Q){return this.comp(Q)<0},je.lt=je.lessThan,je.lessThanOrEqual=function(Q){return this.comp(Q)<=0},je.lte=je.lessThanOrEqual,je.le=je.lessThanOrEqual,je.greaterThan=function(Q){return this.comp(Q)>0},je.gt=je.greaterThan,je.greaterThanOrEqual=function(Q){return this.comp(Q)>=0},je.gte=je.greaterThanOrEqual,je.ge=je.greaterThanOrEqual,je.compare=function(Q){if(h(Q)||(Q=N(Q)),this.eq(Q))return 0;var rt=this.isNegative(),oe=Q.isNegative();return rt&&!oe?-1:!rt&&oe?1:this.unsigned?Q.high>>>0>this.high>>>0||Q.high===this.high&&Q.low>>>0>this.low>>>0?-1:1:this.sub(Q).isNegative()?-1:1},je.comp=je.compare,je.negate=function(){return!this.unsigned&&this.eq(Te)?Te:this.not().add(Qe)},je.neg=je.negate,je.add=function(Q){h(Q)||(Q=N(Q));var ce=0,ve=0,me=0,Oe=0;return me+=(Oe+=(65535&this.low)+(65535&Q.low))>>>16,ve+=(me+=(this.low>>>16)+(Q.low>>>16))>>>16,ce+=(ve+=(65535&this.high)+(65535&Q.high))>>>16,ce+=(this.high>>>16)+(Q.high>>>16),C((me&=65535)<<16|(Oe&=65535),(ce&=65535)<<16|(ve&=65535),this.unsigned)},je.subtract=function(Q){return h(Q)||(Q=N(Q)),this.add(Q.neg())},je.sub=je.subtract,je.multiply=function(Q){if(this.isZero())return Ee;if(h(Q)||(Q=N(Q)),Je)return C(Je.mul(this.low,this.high,Q.low,Q.high),Je.get_high(),this.unsigned);if(Q.isZero())return Ee;if(this.eq(Te))return Q.isOdd()?Te:Ee;if(Q.eq(Te))return this.isOdd()?Te:Ee;if(this.isNegative())return Q.isNegative()?this.neg().mul(Q.neg()):this.neg().mul(Q).neg();if(Q.isNegative())return this.mul(Q.neg()).neg();if(this.lt(De)&&Q.lt(De))return S(this.toNumber()*Q.toNumber(),this.unsigned);var ot=65535&this.high,bt=this.low>>>16,Nt=65535&this.low,$t=65535&Q.high,Ce=Q.low>>>16,ce=65535&Q.low,ve=0,me=0,Oe=0,At=0;return Oe+=(At+=Nt*ce)>>>16,me+=(Oe+=bt*ce)>>>16,Oe&=65535,me+=(Oe+=Nt*Ce)>>>16,ve+=(me+=ot*ce)>>>16,me&=65535,ve+=(me+=bt*Ce)>>>16,me&=65535,ve+=(me+=Nt*$t)>>>16,ve+=(this.high>>>16)*ce+ot*Ce+bt*$t+Nt*(Q.high>>>16),C((Oe&=65535)<<16|(At&=65535),(ve&=65535)<<16|(me&=65535),this.unsigned)},je.mul=je.multiply,je.divide=function(Q){if(h(Q)||(Q=N(Q)),Q.isZero())throw Error("division by zero");var oe,ot,bt;if(Je)return this.unsigned||-2147483648!==this.high||-1!==Q.low||-1!==Q.high?C((this.unsigned?Je.div_u:Je.div_s)(this.low,this.high,Q.low,Q.high),Je.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ke:Ee;if(this.unsigned){if(Q.unsigned||(Q=Q.toUnsigned()),Q.gt(this))return ke;if(Q.gt(this.shru(1)))return Pe;bt=ke}else{if(this.eq(Te))return Q.eq(Qe)||Q.eq(Ye)?Te:Q.eq(Te)?Qe:(oe=this.shr(1).div(Q).shl(1)).eq(Ee)?Q.isNegative()?Qe:Ye:(ot=this.sub(Q.mul(oe)),bt=oe.add(ot.div(Q)));if(Q.eq(Te))return this.unsigned?ke:Ee;if(this.isNegative())return Q.isNegative()?this.neg().div(Q.neg()):this.neg().div(Q).neg();if(Q.isNegative())return this.div(Q.neg()).neg();bt=Ee}for(ot=this;ot.gte(Q);){oe=Math.max(1,Math.floor(ot.toNumber()/Q.toNumber()));for(var St=Math.ceil(Math.log(oe)/Math.LN2),$t=St<=48?1:W(2,St-48),Ce=S(oe),ce=Ce.mul(Q);ce.isNegative()||ce.gt(ot);)ce=(Ce=S(oe-=$t,this.unsigned)).mul(Q);Ce.isZero()&&(Ce=Qe),bt=bt.add(Ce),ot=ot.sub(ce)}return bt},je.div=je.divide,je.modulo=function(Q){return h(Q)||(Q=N(Q)),Je?C((this.unsigned?Je.rem_u:Je.rem_s)(this.low,this.high,Q.low,Q.high),Je.get_high(),this.unsigned):this.sub(this.div(Q).mul(Q))},je.mod=je.modulo,je.rem=je.modulo,je.not=function(){return C(~this.low,~this.high,this.unsigned)},je.and=function(Q){return h(Q)||(Q=N(Q)),C(this.low&Q.low,this.high&Q.high,this.unsigned)},je.or=function(Q){return h(Q)||(Q=N(Q)),C(this.low|Q.low,this.high|Q.high,this.unsigned)},je.xor=function(Q){return h(Q)||(Q=N(Q)),C(this.low^Q.low,this.high^Q.high,this.unsigned)},je.shiftLeft=function(Q){return h(Q)&&(Q=Q.toInt()),0==(Q&=63)?this:Q<32?C(this.low<<Q,this.high<<Q|this.low>>>32-Q,this.unsigned):C(0,this.low<<Q-32,this.unsigned)},je.shl=je.shiftLeft,je.shiftRight=function(Q){return h(Q)&&(Q=Q.toInt()),0==(Q&=63)?this:Q<32?C(this.low>>>Q|this.high<<32-Q,this.high>>Q,this.unsigned):C(this.high>>Q-32,this.high>=0?0:-1,this.unsigned)},je.shr=je.shiftRight,je.shiftRightUnsigned=function(Q){if(h(Q)&&(Q=Q.toInt()),0==(Q&=63))return this;var rt=this.high;return Q<32?C(this.low>>>Q|rt<<32-Q,rt>>>Q,this.unsigned):C(32===Q?rt:rt>>>Q-32,0,this.unsigned)},je.shru=je.shiftRightUnsigned,je.shr_u=je.shiftRightUnsigned,je.toSigned=function(){return this.unsigned?C(this.low,this.high,!1):this},je.toUnsigned=function(){return this.unsigned?this:C(this.low,this.high,!0)},je.toBytes=function(Q){return Q?this.toBytesLE():this.toBytesBE()},je.toBytesLE=function(){var Q=this.high,rt=this.low;return[255&rt,rt>>>8&255,rt>>>16&255,rt>>>24,255&Q,Q>>>8&255,Q>>>16&255,Q>>>24]},je.toBytesBE=function(){var Q=this.high,rt=this.low;return[Q>>>24,Q>>>16&255,Q>>>8&255,255&Q,rt>>>24,rt>>>16&255,rt>>>8&255,255&rt]},_.fromBytes=function(Q,rt,oe){return oe?_.fromBytesLE(Q,rt):_.fromBytesBE(Q,rt)},_.fromBytesLE=function(Q,rt){return new _(Q[0]|Q[1]<<8|Q[2]<<16|Q[3]<<24,Q[4]|Q[5]<<8|Q[6]<<16|Q[7]<<24,rt)},_.fromBytesBE=function(Q,rt){return new _(Q[4]<<24|Q[5]<<16|Q[6]<<8|Q[7],Q[0]<<24|Q[1]<<16|Q[2]<<8|Q[3],rt)}},6110:(dn,Je,_)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});const h=_(8805),O=_(6682);var E,A;(A=E||(E={})).compose=function S(N={},z={},re=!1){"object"!=typeof N&&(N={}),"object"!=typeof z&&(z={});let q=h(z);re||(q=Object.keys(q).reduce((Z,ee)=>(null!=q[ee]&&(Z[ee]=q[ee]),Z),{}));for(const Z in N)void 0!==N[Z]&&void 0===z[Z]&&(q[Z]=N[Z]);return Object.keys(q).length>0?q:void 0},A.diff=function C(N={},z={}){"object"!=typeof N&&(N={}),"object"!=typeof z&&(z={});const re=Object.keys(N).concat(Object.keys(z)).reduce((q,Z)=>(O(N[Z],z[Z])||(q[Z]=void 0===z[Z]?null:z[Z]),q),{});return Object.keys(re).length>0?re:void 0},A.invert=function W(N={},z={}){N=N||{};const re=Object.keys(z).reduce((q,Z)=>(z[Z]!==N[Z]&&void 0!==N[Z]&&(q[Z]=z[Z]),q),{});return Object.keys(N).reduce((q,Z)=>(N[Z]!==z[Z]&&void 0===z[Z]&&(q[Z]=null),q),re)},A.transform=function L(N,z,re=!1){if("object"!=typeof N)return z;if("object"!=typeof z)return;if(!re)return z;const q=Object.keys(z).reduce((Z,ee)=>(void 0===N[ee]&&(Z[ee]=z[ee]),Z),{});return Object.keys(q).length>0?q:void 0},Je.default=E},8392:(dn,Je,_)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0}),Je.AttributeMap=Je.OpIterator=Je.Op=void 0;const h=_(4778),O=_(8805),E=_(6682),A=_(6110);Je.AttributeMap=A.default;const S=_(9875);Je.Op=S.default;const C=_(3697);Je.OpIterator=C.default;const L=(z,re)=>{if("object"!=typeof z||null===z)throw new Error("cannot retain a "+typeof z);if("object"!=typeof re||null===re)throw new Error("cannot retain a "+typeof re);const q=Object.keys(z)[0];if(!q||q!==Object.keys(re)[0])throw new Error(`embed types not matched: ${q} != ${Object.keys(re)[0]}`);return[q,z[q],re[q]]};class N{constructor(re){this.ops=Array.isArray(re)?re:null!=re&&Array.isArray(re.ops)?re.ops:[]}static registerEmbed(re,q){this.handlers[re]=q}static unregisterEmbed(re){delete this.handlers[re]}static getHandler(re){const q=this.handlers[re];if(!q)throw new Error(`no handlers for embed type "${re}"`);return q}insert(re,q){const Z={};return"string"==typeof re&&0===re.length?this:(Z.insert=re,null!=q&&"object"==typeof q&&Object.keys(q).length>0&&(Z.attributes=q),this.push(Z))}delete(re){return re<=0?this:this.push({delete:re})}retain(re,q){if("number"==typeof re&&re<=0)return this;const Z={retain:re};return null!=q&&"object"==typeof q&&Object.keys(q).length>0&&(Z.attributes=q),this.push(Z)}push(re){let q=this.ops.length,Z=this.ops[q-1];if(re=O(re),"object"==typeof Z){if("number"==typeof re.delete&&"number"==typeof Z.delete)return this.ops[q-1]={delete:Z.delete+re.delete},this;if("number"==typeof Z.delete&&null!=re.insert&&(q-=1,Z=this.ops[q-1],"object"!=typeof Z))return this.ops.unshift(re),this;if(E(re.attributes,Z.attributes)){if("string"==typeof re.insert&&"string"==typeof Z.insert)return this.ops[q-1]={insert:Z.insert+re.insert},"object"==typeof re.attributes&&(this.ops[q-1].attributes=re.attributes),this;if("number"==typeof re.retain&&"number"==typeof Z.retain)return this.ops[q-1]={retain:Z.retain+re.retain},"object"==typeof re.attributes&&(this.ops[q-1].attributes=re.attributes),this}}return q===this.ops.length?this.ops.push(re):this.ops.splice(q,0,re),this}chop(){const re=this.ops[this.ops.length-1];return re&&"number"==typeof re.retain&&!re.attributes&&this.ops.pop(),this}filter(re){return this.ops.filter(re)}forEach(re){this.ops.forEach(re)}map(re){return this.ops.map(re)}partition(re){const q=[],Z=[];return this.forEach(ee=>{(re(ee)?q:Z).push(ee)}),[q,Z]}reduce(re,q){return this.ops.reduce(re,q)}changeLength(){return this.reduce((re,q)=>q.insert?re+S.default.length(q):q.delete?re-q.delete:re,0)}length(){return this.reduce((re,q)=>re+S.default.length(q),0)}slice(re=0,q=1/0){const Z=[],ee=new C.default(this.ops);let De=0;for(;De<q&&ee.hasNext();){let Ee;De<re?Ee=ee.next(re-De):(Ee=ee.next(q-De),Z.push(Ee)),De+=S.default.length(Ee)}return new N(Z)}compose(re){const q=new C.default(this.ops),Z=new C.default(re.ops),ee=[],De=Z.peek();if(null!=De&&"number"==typeof De.retain&&null==De.attributes){let ke=De.retain;for(;"insert"===q.peekType()&&q.peekLength()<=ke;)ke-=q.peekLength(),ee.push(q.next());De.retain-ke>0&&Z.next(De.retain-ke)}const Ee=new N(ee);for(;q.hasNext()||Z.hasNext();)if("insert"===Z.peekType())Ee.push(Z.next());else if("delete"===q.peekType())Ee.push(q.next());else{const ke=Math.min(q.peekLength(),Z.peekLength()),Qe=q.next(ke),Pe=Z.next(ke);if(Pe.retain){const Ye={};if("number"==typeof Qe.retain)Ye.retain="number"==typeof Pe.retain?ke:Pe.retain;else if("number"==typeof Pe.retain)null==Qe.retain?Ye.insert=Qe.insert:Ye.retain=Qe.retain;else{const nt=null==Qe.retain?"insert":"retain",[Te,je,Xe]=L(Qe[nt],Pe.retain),Q=N.getHandler(Te);Ye[nt]={[Te]:Q.compose(je,Xe,"retain"===nt)}}const Re=A.default.compose(Qe.attributes,Pe.attributes,"number"==typeof Qe.retain);if(Re&&(Ye.attributes=Re),Ee.push(Ye),!Z.hasNext()&&E(Ee.ops[Ee.ops.length-1],Ye)){const nt=new N(q.rest());return Ee.concat(nt).chop()}}else"number"==typeof Pe.delete&&("number"==typeof Qe.retain||"object"==typeof Qe.retain&&null!==Qe.retain)&&Ee.push(Pe)}return Ee.chop()}concat(re){const q=new N(this.ops.slice());return re.ops.length>0&&(q.push(re.ops[0]),q.ops=q.ops.concat(re.ops.slice(1))),q}diff(re,q){if(this.ops===re.ops)return new N;const Z=[this,re].map(Qe=>Qe.map(Pe=>{if(null!=Pe.insert)return"string"==typeof Pe.insert?Pe.insert:"\0";throw new Error("diff() called "+(Qe===re?"on":"with")+" non-document")}).join("")),ee=new N,De=h(Z[0],Z[1],q,!0),Ee=new C.default(this.ops),ke=new C.default(re.ops);return De.forEach(Qe=>{let Pe=Qe[1].length;for(;Pe>0;){let Ye=0;switch(Qe[0]){case h.INSERT:Ye=Math.min(ke.peekLength(),Pe),ee.push(ke.next(Ye));break;case h.DELETE:Ye=Math.min(Pe,Ee.peekLength()),Ee.next(Ye),ee.delete(Ye);break;case h.EQUAL:Ye=Math.min(Ee.peekLength(),ke.peekLength(),Pe);const Re=Ee.next(Ye),nt=ke.next(Ye);E(Re.insert,nt.insert)?ee.retain(Ye,A.default.diff(Re.attributes,nt.attributes)):ee.push(nt).delete(Ye)}Pe-=Ye}}),ee.chop()}eachLine(re,q="\n"){const Z=new C.default(this.ops);let ee=new N,De=0;for(;Z.hasNext();){if("insert"!==Z.peekType())return;const Ee=Z.peek(),ke=S.default.length(Ee)-Z.peekLength(),Qe="string"==typeof Ee.insert?Ee.insert.indexOf(q,ke)-ke:-1;if(Qe<0)ee.push(Z.next());else if(Qe>0)ee.push(Z.next(Qe));else{if(!1===re(ee,Z.next(1).attributes||{},De))return;De+=1,ee=new N}}ee.length()>0&&re(ee,{},De)}invert(re){const q=new N;return this.reduce((Z,ee)=>{if(ee.insert)q.delete(S.default.length(ee));else{if("number"==typeof ee.retain&&null==ee.attributes)return q.retain(ee.retain),Z+ee.retain;if(ee.delete||"number"==typeof ee.retain){const De=ee.delete||ee.retain;return re.slice(Z,Z+De).forEach(ke=>{ee.delete?q.push(ke):ee.retain&&ee.attributes&&q.retain(S.default.length(ke),A.default.invert(ee.attributes,ke.attributes))}),Z+De}if("object"==typeof ee.retain&&null!==ee.retain){const De=re.slice(Z,Z+1),Ee=new C.default(De.ops).next(),[ke,Qe,Pe]=L(ee.retain,Ee.insert),Ye=N.getHandler(ke);return q.retain({[ke]:Ye.invert(Qe,Pe)},A.default.invert(ee.attributes,Ee.attributes)),Z+1}}return Z},0),q.chop()}transform(re,q=!1){if(q=!!q,"number"==typeof re)return this.transformPosition(re,q);const Z=re,ee=new C.default(this.ops),De=new C.default(Z.ops),Ee=new N;for(;ee.hasNext()||De.hasNext();)if("insert"!==ee.peekType()||!q&&"insert"===De.peekType())if("insert"===De.peekType())Ee.push(De.next());else{const ke=Math.min(ee.peekLength(),De.peekLength()),Qe=ee.next(ke),Pe=De.next(ke);if(Qe.delete)continue;if(Pe.delete)Ee.push(Pe);else{const Ye=Qe.retain,Re=Pe.retain;let nt="object"==typeof Re&&null!==Re?Re:ke;if("object"==typeof Ye&&null!==Ye&&"object"==typeof Re&&null!==Re){const Te=Object.keys(Ye)[0];if(Te===Object.keys(Re)[0]){const je=N.getHandler(Te);je&&(nt={[Te]:je.transform(Ye[Te],Re[Te],q)})}}Ee.retain(nt,A.default.transform(Qe.attributes,Pe.attributes,q))}}else Ee.retain(S.default.length(ee.next()));return Ee.chop()}transformPosition(re,q=!1){q=!!q;const Z=new C.default(this.ops);let ee=0;for(;Z.hasNext()&&ee<=re;){const De=Z.peekLength(),Ee=Z.peekType();Z.next(),"delete"!==Ee?("insert"===Ee&&(ee<re||!q)&&(re+=De),ee+=De):re-=Math.min(De,re-ee)}return re}}N.Op=S.default,N.OpIterator=C.default,N.AttributeMap=A.default,N.handlers={},Je.default=N,dn.exports=N,dn.exports.default=N},9875:(dn,Je)=>{"use strict";var _;Object.defineProperty(Je,"__esModule",{value:!0}),(_||(_={})).length=function O(E){return"number"==typeof E.delete?E.delete:"number"==typeof E.retain?E.retain:"object"==typeof E.retain&&null!==E.retain?1:"string"==typeof E.insert?E.insert.length:1},Je.default=_},3697:(dn,Je,_)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});const h=_(9875);Je.default=class O{constructor(A){this.ops=A,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(A){A||(A=1/0);const S=this.ops[this.index];if(S){const C=this.offset,W=h.default.length(S);if(A>=W-C?(A=W-C,this.index+=1,this.offset=0):this.offset+=A,"number"==typeof S.delete)return{delete:A};{const L={};return S.attributes&&(L.attributes=S.attributes),"number"==typeof S.retain?L.retain=A:"object"==typeof S.retain&&null!==S.retain?L.retain=S.retain:L.insert="string"==typeof S.insert?S.insert.substr(C,A):S.insert,L}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?h.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const A=this.ops[this.index];return A?"number"==typeof A.delete?"delete":"number"==typeof A.retain||"object"==typeof A.retain&&null!==A.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const A=this.offset,S=this.index,C=this.next(),W=this.ops.slice(this.index);return this.offset=A,this.index=S,[C].concat(W)}}return[]}}},9477:dn=>{"use strict";var Je=Object.prototype.hasOwnProperty,_="~";function h(){}function O(C,W,L){this.fn=C,this.context=W,this.once=L||!1}function E(C,W,L,N,z){if("function"!=typeof L)throw new TypeError("The listener must be a function");var re=new O(L,N||C,z),q=_?_+W:W;return C._events[q]?C._events[q].fn?C._events[q]=[C._events[q],re]:C._events[q].push(re):(C._events[q]=re,C._eventsCount++),C}function A(C,W){0==--C._eventsCount?C._events=new h:delete C._events[W]}function S(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(_=!1)),S.prototype.eventNames=function(){var L,N,W=[];if(0===this._eventsCount)return W;for(N in L=this._events)Je.call(L,N)&&W.push(_?N.slice(1):N);return Object.getOwnPropertySymbols?W.concat(Object.getOwnPropertySymbols(L)):W},S.prototype.listeners=function(W){var N=this._events[_?_+W:W];if(!N)return[];if(N.fn)return[N.fn];for(var z=0,re=N.length,q=new Array(re);z<re;z++)q[z]=N[z].fn;return q},S.prototype.listenerCount=function(W){var N=this._events[_?_+W:W];return N?N.fn?1:N.length:0},S.prototype.emit=function(W,L,N,z,re,q){var Z=_?_+W:W;if(!this._events[Z])return!1;var Ee,ke,ee=this._events[Z],De=arguments.length;if(ee.fn){switch(ee.once&&this.removeListener(W,ee.fn,void 0,!0),De){case 1:return ee.fn.call(ee.context),!0;case 2:return ee.fn.call(ee.context,L),!0;case 3:return ee.fn.call(ee.context,L,N),!0;case 4:return ee.fn.call(ee.context,L,N,z),!0;case 5:return ee.fn.call(ee.context,L,N,z,re),!0;case 6:return ee.fn.call(ee.context,L,N,z,re,q),!0}for(ke=1,Ee=new Array(De-1);ke<De;ke++)Ee[ke-1]=arguments[ke];ee.fn.apply(ee.context,Ee)}else{var Pe,Qe=ee.length;for(ke=0;ke<Qe;ke++)switch(ee[ke].once&&this.removeListener(W,ee[ke].fn,void 0,!0),De){case 1:ee[ke].fn.call(ee[ke].context);break;case 2:ee[ke].fn.call(ee[ke].context,L);break;case 3:ee[ke].fn.call(ee[ke].context,L,N);break;case 4:ee[ke].fn.call(ee[ke].context,L,N,z);break;default:if(!Ee)for(Pe=1,Ee=new Array(De-1);Pe<De;Pe++)Ee[Pe-1]=arguments[Pe];ee[ke].fn.apply(ee[ke].context,Ee)}}return!0},S.prototype.on=function(W,L,N){return E(this,W,L,N,!1)},S.prototype.once=function(W,L,N){return E(this,W,L,N,!0)},S.prototype.removeListener=function(W,L,N,z){var re=_?_+W:W;if(!this._events[re])return this;if(!L)return A(this,re),this;var q=this._events[re];if(q.fn)q.fn===L&&(!z||q.once)&&(!N||q.context===N)&&A(this,re);else{for(var Z=0,ee=[],De=q.length;Z<De;Z++)(q[Z].fn!==L||z&&!q[Z].once||N&&q[Z].context!==N)&&ee.push(q[Z]);ee.length?this._events[re]=1===ee.length?ee[0]:ee:A(this,re)}return this},S.prototype.removeAllListeners=function(W){var L;return W?this._events[L=_?_+W:W]&&A(this,L):(this._events=new h,this._eventsCount=0),this},S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=_,S.EventEmitter=S,dn.exports=S},521:(dn,Je,_)=>{"use strict";_.d(Je,{t:()=>E});var h=_(3119),O=_(3586);class E extends h.B7{constructor(S){super(),this._value=S}get value(){return this.getValue()}_subscribe(S){const C=super._subscribe(S);return C&&!C.closed&&S.next(this._value),C}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new O.P;return this._value}next(S){super.next(this._value=S)}}},1500:(dn,Je,_)=>{"use strict";_.d(Je,{E:()=>S});var h=_(4380),O=_(1536),E=_(6651);class S{constructor(W,L,N){this.kind=W,this.value=L,this.error=N,this.hasValue="N"===W}observe(W){switch(this.kind){case"N":return W.next&&W.next(this.value);case"E":return W.error&&W.error(this.error);case"C":return W.complete&&W.complete()}}do(W,L,N){switch(this.kind){case"N":return W&&W(this.value);case"E":return L&&L(this.error);case"C":return N&&N()}}accept(W,L,N){return W&&"function"==typeof W.next?this.observe(W):this.do(W,L,N)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return(0,E.$)(this.error);case"C":return(0,h.I)()}throw new Error("unexpected notification kind value")}static createNext(W){return typeof W<"u"?new S("N",W):S.undefinedValueNotification}static createError(W){return new S("E",void 0,W)}static createComplete(){return S.completeNotification}}S.completeNotification=new S("C"),S.undefinedValueNotification=new S("N",void 0)},434:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>N});var h=_(8097),E=_(5230),A=_(181),C=_(9291),W=_(782),L=_(897);let N=(()=>{class re{constructor(Z){this._isScalar=!1,Z&&(this._subscribe=Z)}lift(Z){const ee=new re;return ee.source=this,ee.operator=Z,ee}subscribe(Z,ee,De){const{operator:Ee}=this,ke=function S(re,q,Z){if(re){if(re instanceof h.v)return re;if(re[E.D])return re[E.D]()}return re||q||Z?new h.v(re,q,Z):new h.v(A.I)}(Z,ee,De);if(ke.add(Ee?Ee.call(ke,this.source):this.source||L.$.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),L.$.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(Z){try{return this._subscribe(Z)}catch(ee){L.$.useDeprecatedSynchronousErrorHandling&&(Z.syncErrorThrown=!0,Z.syncErrorValue=ee),function O(re){for(;re;){const{closed:q,destination:Z,isStopped:ee}=re;if(q||ee)return!1;re=Z&&Z instanceof h.v?Z:null}return!0}(Z)?Z.error(ee):console.warn(ee)}}forEach(Z,ee){return new(ee=z(ee))((De,Ee)=>{let ke;ke=this.subscribe(Qe=>{try{Z(Qe)}catch(Pe){Ee(Pe),ke&&ke.unsubscribe()}},Ee,De)})}_subscribe(Z){const{source:ee}=this;return ee&&ee.subscribe(Z)}[C.s](){return this}pipe(...Z){return 0===Z.length?this:(0,W.m)(Z)(this)}toPromise(Z){return new(Z=z(Z))((ee,De)=>{let Ee;this.subscribe(ke=>Ee=ke,ke=>De(ke),()=>ee(Ee))})}}return re.create=q=>new re(q),re})();function z(re){if(re||(re=L.$.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},181:(dn,Je,_)=>{"use strict";_.d(Je,{I:()=>E});var h=_(897),O=_(9570);const E={closed:!0,next(A){},error(A){if(h.$.useDeprecatedSynchronousErrorHandling)throw A;(0,O.T)(A)},complete(){}}},7675:(dn,Je,_)=>{"use strict";_.d(Je,{m:()=>ke});var h=_(3119),O=_(6244),A=_(2059);const W=new class S extends A.q{}(class E extends O.R{constructor(Ye,Re){super(Ye,Re),this.scheduler=Ye,this.work=Re}schedule(Ye,Re=0){return Re>0?super.schedule(Ye,Re):(this.delay=Re,this.state=Ye,this.scheduler.flush(this),this)}execute(Ye,Re){return Re>0||this.closed?super.execute(Ye,Re):this._execute(Ye,Re)}requestAsyncId(Ye,Re,nt=0){return null!==nt&&nt>0||null===nt&&this.delay>0?super.requestAsyncId(Ye,Re,nt):Ye.flush(this)}});var L=_(2672),N=_(8097),z=_(1500);class Z extends N.v{constructor(Ye,Re,nt=0){super(Ye),this.scheduler=Re,this.delay=nt}static dispatch(Ye){const{notification:Re,destination:nt}=Ye;Re.observe(nt),this.unsubscribe()}scheduleMessage(Ye){this.destination.add(this.scheduler.schedule(Z.dispatch,this.delay,new ee(Ye,this.destination)))}_next(Ye){this.scheduleMessage(z.E.createNext(Ye))}_error(Ye){this.scheduleMessage(z.E.createError(Ye)),this.unsubscribe()}_complete(){this.scheduleMessage(z.E.createComplete()),this.unsubscribe()}}class ee{constructor(Ye,Re){this.notification=Ye,this.destination=Re}}var De=_(3586),Ee=_(8402);class ke extends h.B7{constructor(Ye=Number.POSITIVE_INFINITY,Re=Number.POSITIVE_INFINITY,nt){super(),this.scheduler=nt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Ye<1?1:Ye,this._windowTime=Re<1?1:Re,Re===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Ye){if(!this.isStopped){const Re=this._events;Re.push(Ye),Re.length>this._bufferSize&&Re.shift()}super.next(Ye)}nextTimeWindow(Ye){this.isStopped||(this._events.push(new Qe(this._getNow(),Ye)),this._trimBufferThenGetEvents()),super.next(Ye)}_subscribe(Ye){const Re=this._infiniteTimeWindow,nt=Re?this._events:this._trimBufferThenGetEvents(),Te=this.scheduler,je=nt.length;let Xe;if(this.closed)throw new De.P;if(this.isStopped||this.hasError?Xe=L.y.EMPTY:(this.observers.push(Ye),Xe=new Ee.Y(this,Ye)),Te&&Ye.add(Ye=new Z(Ye,Te)),Re)for(let Q=0;Q<je&&!Ye.closed;Q++)Ye.next(nt[Q]);else for(let Q=0;Q<je&&!Ye.closed;Q++)Ye.next(nt[Q].value);return this.hasError?Ye.error(this.thrownError):this.isStopped&&Ye.complete(),Xe}_getNow(){return(this.scheduler||W).now()}_trimBufferThenGetEvents(){const Ye=this._getNow(),Re=this._bufferSize,nt=this._windowTime,Te=this._events,je=Te.length;let Xe=0;for(;Xe<je&&!(Ye-Te[Xe].time<nt);)Xe++;return je>Re&&(Xe=Math.max(Xe,je-Re)),Xe>0&&Te.splice(0,Xe),Te}}class Qe{constructor(Ye,Re){this.time=Ye,this.value=Re}}},3119:(dn,Je,_)=>{"use strict";_.d(Je,{B7:()=>L,PJ:()=>W,kQ:()=>N});var h=_(434),O=_(8097),E=_(2672),A=_(3586),S=_(8402),C=_(5230);class W extends O.v{constructor(re){super(re),this.destination=re}}let L=(()=>{class z extends h.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[C.D](){return new W(this)}lift(q){const Z=new N(this,this);return Z.operator=q,Z}next(q){if(this.closed)throw new A.P;if(!this.isStopped){const{observers:Z}=this,ee=Z.length,De=Z.slice();for(let Ee=0;Ee<ee;Ee++)De[Ee].next(q)}}error(q){if(this.closed)throw new A.P;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:Z}=this,ee=Z.length,De=Z.slice();for(let Ee=0;Ee<ee;Ee++)De[Ee].error(q);this.observers.length=0}complete(){if(this.closed)throw new A.P;this.isStopped=!0;const{observers:q}=this,Z=q.length,ee=q.slice();for(let De=0;De<Z;De++)ee[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new A.P;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new A.P;return this.hasError?(q.error(this.thrownError),E.y.EMPTY):this.isStopped?(q.complete(),E.y.EMPTY):(this.observers.push(q),new S.Y(this,q))}asObservable(){const q=new h.c;return q.source=this,q}}return z.create=(re,q)=>new N(re,q),z})();class N extends L{constructor(re,q){super(),this.destination=re,this.source=q}next(re){const{destination:q}=this;q&&q.next&&q.next(re)}error(re){const{destination:q}=this;q&&q.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:q}=this;return q?this.source.subscribe(re):E.y.EMPTY}}},8402:(dn,Je,_)=>{"use strict";_.d(Je,{Y:()=>O});var h=_(2672);class O extends h.y{constructor(A,S){super(),this.subject=A,this.subscriber=S,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const A=this.subject,S=A.observers;if(this.subject=null,!S||0===S.length||A.isStopped||A.closed)return;const C=S.indexOf(this.subscriber);-1!==C&&S.splice(C,1)}}},8097:(dn,Je,_)=>{"use strict";_.d(Je,{v:()=>W});var h=_(4526),O=_(181),E=_(2672),A=_(5230),S=_(897),C=_(9570);class W extends E.y{constructor(z,re,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=O.I;break;case 1:if(!z){this.destination=O.I;break}if("object"==typeof z){z instanceof W?(this.syncErrorThrowable=z.syncErrorThrowable,this.destination=z,z.add(this)):(this.syncErrorThrowable=!0,this.destination=new L(this,z));break}default:this.syncErrorThrowable=!0,this.destination=new L(this,z,re,q)}}[A.D](){return this}static create(z,re,q){const Z=new W(z,re,q);return Z.syncErrorThrowable=!1,Z}next(z){this.isStopped||this._next(z)}error(z){this.isStopped||(this.isStopped=!0,this._error(z))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(z){this.destination.next(z)}_error(z){this.destination.error(z),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:z}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=z,this}}class L extends W{constructor(z,re,q,Z){super(),this._parentSubscriber=z;let ee,De=this;(0,h.T)(re)?ee=re:re&&(ee=re.next,q=re.error,Z=re.complete,re!==O.I&&(De=Object.create(re),(0,h.T)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ee,this._error=q,this._complete=Z}next(z){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;S.$.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,z)&&this.unsubscribe():this.__tryOrUnsub(this._next,z)}}error(z){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:q}=S.$;if(this._error)q&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,z),this.unsubscribe()):(this.__tryOrUnsub(this._error,z),this.unsubscribe());else if(re.syncErrorThrowable)q?(re.syncErrorValue=z,re.syncErrorThrown=!0):(0,C.T)(z),this.unsubscribe();else{if(this.unsubscribe(),q)throw z;(0,C.T)(z)}}}complete(){if(!this.isStopped){const{_parentSubscriber:z}=this;if(this._complete){const re=()=>this._complete.call(this._context);S.$.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?(this.__tryOrSetError(z,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(z,re){try{z.call(this._context,re)}catch(q){if(this.unsubscribe(),S.$.useDeprecatedSynchronousErrorHandling)throw q;(0,C.T)(q)}}__tryOrSetError(z,re,q){if(!S.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,q)}catch(Z){return S.$.useDeprecatedSynchronousErrorHandling?(z.syncErrorValue=Z,z.syncErrorThrown=!0,!0):((0,C.T)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:z}=this;this._context=null,this._parentSubscriber=null,z.unsubscribe()}}},2672:(dn,Je,_)=>{"use strict";_.d(Je,{y:()=>C});var h=_(9869),O=_(1689),E=_(4526);const S=(()=>{function L(N){return Error.call(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((z,re)=>`${re+1}) ${z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N,this}return L.prototype=Object.create(Error.prototype),L})();class C{constructor(N){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,N&&(this._ctorUnsubscribe=!0,this._unsubscribe=N)}unsubscribe(){let N;if(this.closed)return;let{_parentOrParents:z,_ctorUnsubscribe:re,_unsubscribe:q,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,z instanceof C)z.remove(this);else if(null!==z)for(let ee=0;ee<z.length;++ee)z[ee].remove(this);if((0,E.T)(q)){re&&(this._unsubscribe=void 0);try{q.call(this)}catch(ee){N=ee instanceof S?W(ee.errors):[ee]}}if((0,h.c)(Z)){let ee=-1,De=Z.length;for(;++ee<De;){const Ee=Z[ee];if((0,O.G)(Ee))try{Ee.unsubscribe()}catch(ke){N=N||[],ke instanceof S?N=N.concat(W(ke.errors)):N.push(ke)}}}if(N)throw new S(N)}add(N){let z=N;if(!N)return C.EMPTY;switch(typeof N){case"function":z=new C(N);case"object":if(z===this||z.closed||"function"!=typeof z.unsubscribe)return z;if(this.closed)return z.unsubscribe(),z;if(!(z instanceof C)){const Z=z;z=new C,z._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+N+" added to Subscription.")}let{_parentOrParents:re}=z;if(null===re)z._parentOrParents=this;else if(re instanceof C){if(re===this)return z;z._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return z;re.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[z]:q.push(z),z}remove(N){const z=this._subscriptions;if(z){const re=z.indexOf(N);-1!==re&&z.splice(re,1)}}}var L;function W(L){return L.reduce((N,z)=>N.concat(z instanceof S?z.errors:z),[])}C.EMPTY=((L=new C).closed=!0,L)},897:(dn,Je,_)=>{"use strict";_.d(Je,{$:()=>O});let h=!1;const O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const A=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+A.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=E},get useDeprecatedSynchronousErrorHandling(){return h}}},3879:(dn,Je,_)=>{"use strict";_.d(Je,{gn:()=>C,tS:()=>L,zA:()=>A});var h=_(8097),O=_(434),E=_(2794);class A extends h.v{constructor(z){super(),this.parent=z}_next(z){this.parent.notifyNext(z)}_error(z){this.parent.notifyError(z),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class C extends h.v{notifyNext(z){this.destination.next(z)}notifyError(z){this.destination.error(z)}notifyComplete(){this.destination.complete()}}function L(N,z){if(z.closed)return;if(N instanceof O.c)return N.subscribe(z);let re;try{re=(0,E.i)(N)(z)}catch(q){z.error(q)}return re}},1810:(dn,Je,_)=>{"use strict";_.d(Je,{G:()=>C,f:()=>W});var h=_(3119),O=_(434),A=(_(8097),_(2672)),S=_(3261);class C extends O.c{constructor(q,Z){super(),this.source=q,this.subjectFactory=Z,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new A.y,q.add(this.source.subscribe(new L(this.getSubject(),this))),q.closed&&(this._connection=null,q=A.y.EMPTY)),q}refCount(){return(0,S.B)()(this)}}const W=(()=>{const re=C.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}}})();class L extends h.PJ{constructor(q,Z){super(q),this.connectable=Z}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const Z=q._connection;q._refCount=0,q._subject=null,q._connection=null,Z&&Z.unsubscribe()}}}},2175:(dn,Je,_)=>{"use strict";_.d(Je,{zV:()=>re});var h=_(8201),O=_(9869),E=_(8097);class A extends E.v{notifyNext(De,Ee,ke,Qe,Pe){this.destination.next(Ee)}notifyError(De,Ee){this.destination.error(De)}notifyComplete(De){this.destination.complete()}}class S extends E.v{constructor(De,Ee,ke){super(),this.parent=De,this.outerValue=Ee,this.outerIndex=ke,this.index=0}_next(De){this.parent.notifyNext(this.outerValue,De,this.outerIndex,this.index++,this)}_error(De){this.parent.notifyError(De,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var C=_(2794),W=_(434);function L(ee,De,Ee,ke,Qe=new S(ee,Ee,ke)){if(!Qe.closed)return De instanceof W.c?De.subscribe(Qe):(0,C.i)(De)(Qe)}var N=_(4324);const z={};function re(...ee){let De,Ee;return(0,h.m)(ee[ee.length-1])&&(Ee=ee.pop()),"function"==typeof ee[ee.length-1]&&(De=ee.pop()),1===ee.length&&(0,O.c)(ee[0])&&(ee=ee[0]),(0,N.c)(ee,Ee).lift(new q(De))}class q{constructor(De){this.resultSelector=De}call(De,Ee){return Ee.subscribe(new Z(De,this.resultSelector))}}class Z extends A{constructor(De,Ee){super(De),this.resultSelector=Ee,this.active=0,this.values=[],this.observables=[]}_next(De){this.values.push(z),this.observables.push(De)}_complete(){const De=this.observables,Ee=De.length;if(0===Ee)this.destination.complete();else{this.active=Ee,this.toRespond=Ee;for(let ke=0;ke<Ee;ke++)this.add(L(this,De[ke],void 0,ke))}}notifyComplete(De){0==(this.active-=1)&&this.destination.complete()}notifyNext(De,Ee,ke){const Qe=this.values,Ye=this.toRespond?Qe[ke]===z?--this.toRespond:this.toRespond:0;Qe[ke]=Ee,0===Ye&&(this.resultSelector?this._tryResultSelector(Qe):this.destination.next(Qe.slice()))}_tryResultSelector(De){let Ee;try{Ee=this.resultSelector.apply(this,De)}catch(ke){return void this.destination.error(ke)}this.destination.next(Ee)}}},6933:(dn,Je,_)=>{"use strict";_.d(Je,{x:()=>A});var h=_(1536),O=_(9450);function A(...S){return function E(){return(0,O.U)(1)}()((0,h.of)(...S))}},6965:(dn,Je,_)=>{"use strict";_.d(Je,{v:()=>A});var h=_(434),O=_(2677),E=_(4380);function A(S){return new h.c(C=>{let W;try{W=S()}catch(N){return void C.error(N)}return(W?(0,O.H)(W):(0,E.I)()).subscribe(C)})}},1478:(dn,Je,_)=>{"use strict";_.d(Je,{K:()=>N});var h=_(3119),O=_(8097),E=_(434),A=_(2672),S=_(7675);const C={url:"",deserializer:z=>JSON.parse(z.data),serializer:z=>JSON.stringify(z)};class L extends h.kQ{constructor(re,q){if(super(),re instanceof E.c)this.destination=q,this.source=re;else{const Z=this._config=Object.assign({},C);if(this._output=new h.B7,"string"==typeof re)Z.url=re;else for(let ee in re)re.hasOwnProperty(ee)&&(Z[ee]=re[ee]);if(!Z.WebSocketCtor&&WebSocket)Z.WebSocketCtor=WebSocket;else if(!Z.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new S.m}}lift(re){const q=new L(this._config,this.destination);return q.operator=re,q.source=this,q}_resetState(){this._socket=null,this.source||(this.destination=new S.m),this._output=new h.B7}multiplex(re,q,Z){const ee=this;return new E.c(De=>{try{ee.next(re())}catch(ke){De.error(ke)}const Ee=ee.subscribe(ke=>{try{Z(ke)&&De.next(ke)}catch(Qe){De.error(Qe)}},ke=>De.error(ke),()=>De.complete());return()=>{try{ee.next(q())}catch(ke){De.error(ke)}Ee.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:re,protocol:q,url:Z,binaryType:ee}=this._config,De=this._output;let Ee=null;try{Ee=q?new re(Z,q):new re(Z),this._socket=Ee,ee&&(this._socket.binaryType=ee)}catch(Qe){return void De.error(Qe)}const ke=new A.y(()=>{this._socket=null,Ee&&1===Ee.readyState&&Ee.close()});Ee.onopen=Qe=>{const{_socket:Pe}=this;if(!Pe)return Ee.close(),void this._resetState();const{openObserver:Ye}=this._config;Ye&&Ye.next(Qe);const Re=this.destination;this.destination=O.v.create(nt=>{if(1===Ee.readyState)try{const{serializer:Te}=this._config;Ee.send(Te(nt))}catch(Te){this.destination.error(Te)}},nt=>{const{closingObserver:Te}=this._config;Te&&Te.next(void 0),nt&&nt.code?Ee.close(nt.code,nt.reason):De.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:nt}=this._config;nt&&nt.next(void 0),Ee.close(),this._resetState()}),Re&&Re instanceof S.m&&ke.add(Re.subscribe(this.destination))},Ee.onerror=Qe=>{this._resetState(),De.error(Qe)},Ee.onclose=Qe=>{this._resetState();const{closeObserver:Pe}=this._config;Pe&&Pe.next(Qe),Qe.wasClean?De.complete():De.error(Qe)},Ee.onmessage=Qe=>{try{const{deserializer:Pe}=this._config;De.next(Pe(Qe))}catch(Pe){De.error(Pe)}}}_subscribe(re){const{source:q}=this;return q?q.subscribe(re):(this._socket||this._connectSocket(),this._output.subscribe(re),re.add(()=>{const{_socket:Z}=this;0===this._output.observers.length&&(Z&&1===Z.readyState&&Z.close(),this._resetState())}),re)}unsubscribe(){const{_socket:re}=this;re&&1===re.readyState&&re.close(),this._resetState(),super.unsubscribe()}}function N(z){return new L(z)}},4380:(dn,Je,_)=>{"use strict";_.d(Je,{I:()=>E,w:()=>O});var h=_(434);const O=new h.c(S=>S.complete());function E(S){return S?function A(S){return new h.c(C=>S.schedule(()=>C.complete()))}(S):O}},8757:(dn,Je,_)=>{"use strict";_.d(Je,{p:()=>C});var h=_(434),O=_(9869),E=_(5443),A=_(1689),S=_(2677);function C(...L){if(1===L.length){const N=L[0];if((0,O.c)(N))return W(N,null);if((0,A.G)(N)&&Object.getPrototypeOf(N)===Object.prototype){const z=Object.keys(N);return W(z.map(re=>N[re]),z)}}if("function"==typeof L[L.length-1]){const N=L.pop();return W(L=1===L.length&&(0,O.c)(L[0])?L[0]:L,null).pipe((0,E.T)(z=>N(...z)))}return W(L,null)}function W(L,N){return new h.c(z=>{const re=L.length;if(0===re)return void z.complete();const q=new Array(re);let Z=0,ee=0;for(let De=0;De<re;De++){const Ee=(0,S.H)(L[De]);let ke=!1;z.add(Ee.subscribe({next:Qe=>{ke||(ke=!0,ee++),q[De]=Qe},error:Qe=>z.error(Qe),complete:()=>{Z++,(Z===re||!ke)&&(ee===re&&z.next(N?N.reduce((Qe,Pe,Ye)=>(Qe[Pe]=q[Ye],Qe),{}):q),z.complete())}}))}})}},2677:(dn,Je,_)=>{"use strict";_.d(Je,{H:()=>De});var h=_(434),O=_(2794),E=_(2672),A=_(9291),W=_(5661),L=_(9136),re=_(4113),q=_(3370);function De(Ee,ke){return ke?function ee(Ee,ke){if(null!=Ee){if(function z(Ee){return Ee&&"function"==typeof Ee[A.s]}(Ee))return function S(Ee,ke){return new h.c(Qe=>{const Pe=new E.y;return Pe.add(ke.schedule(()=>{const Ye=Ee[A.s]();Pe.add(Ye.subscribe({next(Re){Pe.add(ke.schedule(()=>Qe.next(Re)))},error(Re){Pe.add(ke.schedule(()=>Qe.error(Re)))},complete(){Pe.add(ke.schedule(()=>Qe.complete()))}}))})),Pe})}(Ee,ke);if((0,re.y)(Ee))return function C(Ee,ke){return new h.c(Qe=>{const Pe=new E.y;return Pe.add(ke.schedule(()=>Ee.then(Ye=>{Pe.add(ke.schedule(()=>{Qe.next(Ye),Pe.add(ke.schedule(()=>Qe.complete()))}))},Ye=>{Pe.add(ke.schedule(()=>Qe.error(Ye)))}))),Pe})}(Ee,ke);if((0,q.X)(Ee))return(0,W.V)(Ee,ke);if(function Z(Ee){return Ee&&"function"==typeof Ee[L.lJ]}(Ee)||"string"==typeof Ee)return function N(Ee,ke){if(!Ee)throw new Error("Iterable cannot be null");return new h.c(Qe=>{const Pe=new E.y;let Ye;return Pe.add(()=>{Ye&&"function"==typeof Ye.return&&Ye.return()}),Pe.add(ke.schedule(()=>{Ye=Ee[L.lJ](),Pe.add(ke.schedule(function(){if(Qe.closed)return;let Re,nt;try{const Te=Ye.next();Re=Te.value,nt=Te.done}catch(Te){return void Qe.error(Te)}nt?Qe.complete():(Qe.next(Re),this.schedule())}))})),Pe})}(Ee,ke)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,ke):Ee instanceof h.c?Ee:new h.c((0,O.i)(Ee))}},4324:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>A});var h=_(434),O=_(7824),E=_(5661);function A(S,C){return C?(0,E.V)(S,C):new h.c((0,O.v)(S))}},7557:(dn,Je,_)=>{"use strict";_.d(Je,{R:()=>C});var h=_(434),O=_(9869),E=_(4526),A=_(5443);function C(re,q,Z,ee){return(0,E.T)(Z)&&(ee=Z,Z=void 0),ee?C(re,q,Z).pipe((0,A.T)(De=>(0,O.c)(De)?ee(...De):ee(De))):new h.c(De=>{W(re,q,function Ee(ke){De.next(arguments.length>1?Array.prototype.slice.call(arguments):ke)},De,Z)})}function W(re,q,Z,ee,De){let Ee;if(function z(re){return re&&"function"==typeof re.addEventListener&&"function"==typeof re.removeEventListener}(re)){const ke=re;re.addEventListener(q,Z,De),Ee=()=>ke.removeEventListener(q,Z,De)}else if(function N(re){return re&&"function"==typeof re.on&&"function"==typeof re.off}(re)){const ke=re;re.on(q,Z),Ee=()=>ke.off(q,Z)}else if(function L(re){return re&&"function"==typeof re.addListener&&"function"==typeof re.removeListener}(re)){const ke=re;re.addListener(q,Z),Ee=()=>ke.removeListener(q,Z)}else{if(!re||!re.length)throw new TypeError("Invalid event target");for(let ke=0,Qe=re.length;ke<Qe;ke++)W(re[ke],q,Z,ee,De)}ee.add(Ee)}},7405:(dn,Je,_)=>{"use strict";_.d(Je,{h:()=>S});var h=_(434),O=_(8201),E=_(9450),A=_(4324);function S(...C){let W=Number.POSITIVE_INFINITY,L=null,N=C[C.length-1];return(0,O.m)(N)?(L=C.pop(),C.length>1&&"number"==typeof C[C.length-1]&&(W=C.pop())):"number"==typeof N&&(W=C.pop()),null===L&&1===C.length&&C[0]instanceof h.c?C[0]:(0,E.U)(W)((0,A.c)(C,L))}},1536:(dn,Je,_)=>{"use strict";_.d(Je,{of:()=>A});var h=_(8201),O=_(4324),E=_(5661);function A(...S){let C=S[S.length-1];return(0,h.m)(C)?(S.pop(),(0,E.V)(S,C)):(0,O.c)(S)}},6651:(dn,Je,_)=>{"use strict";_.d(Je,{$:()=>O});var h=_(434);function O(A,S){return new h.c(S?C=>S.schedule(E,0,{error:A,subscriber:C}):C=>C.error(A))}function E({error:A,subscriber:S}){S.error(A)}},3340:(dn,Je,_)=>{"use strict";_.d(Je,{O:()=>C});var h=_(434),O=_(9573),E=_(9869);function A(L){return!(0,E.c)(L)&&L-parseFloat(L)+1>=0}var S=_(8201);function C(L=0,N,z){let re=-1;return A(N)?re=Number(N)<1?1:Number(N):(0,S.m)(N)&&(z=N),(0,S.m)(z)||(z=O.b),new h.c(q=>{const Z=A(L)?L:+L-z.now();return z.schedule(W,Z,{index:0,period:re,subscriber:q})})}function W(L){const{index:N,period:z,subscriber:re}=L;if(re.next(N),!re.closed){if(-1===z)return re.complete();L.index=N+1,this.schedule(L,z)}}},1506:(dn,Je,_)=>{"use strict";_.d(Je,{yU:()=>C});var h=_(4324),O=_(9869),E=_(8097),A=_(9136),S=_(3879);function C(...q){const Z=q[q.length-1];return"function"==typeof Z&&q.pop(),(0,h.c)(q,void 0).lift(new W(Z))}class W{constructor(Z){this.resultSelector=Z}call(Z,ee){return ee.subscribe(new L(Z,this.resultSelector))}}class L extends E.v{constructor(Z,ee,De=Object.create(null)){super(Z),this.resultSelector=ee,this.iterators=[],this.active=0,this.resultSelector="function"==typeof ee?ee:void 0}_next(Z){const ee=this.iterators;(0,O.c)(Z)?ee.push(new z(Z)):ee.push("function"==typeof Z[A.lJ]?new N(Z[A.lJ]()):new re(this.destination,this,Z))}_complete(){const Z=this.iterators,ee=Z.length;if(this.unsubscribe(),0!==ee){this.active=ee;for(let De=0;De<ee;De++){let Ee=Z[De];Ee.stillUnsubscribed?this.destination.add(Ee.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const Z=this.iterators,ee=Z.length,De=this.destination;for(let Qe=0;Qe<ee;Qe++){let Pe=Z[Qe];if("function"==typeof Pe.hasValue&&!Pe.hasValue())return}let Ee=!1;const ke=[];for(let Qe=0;Qe<ee;Qe++){let Pe=Z[Qe],Ye=Pe.next();if(Pe.hasCompleted()&&(Ee=!0),Ye.done)return void De.complete();ke.push(Ye.value)}this.resultSelector?this._tryresultSelector(ke):De.next(ke),Ee&&De.complete()}_tryresultSelector(Z){let ee;try{ee=this.resultSelector.apply(this,Z)}catch(De){return void this.destination.error(De)}this.destination.next(ee)}}class N{constructor(Z){this.iterator=Z,this.nextResult=Z.next()}hasValue(){return!0}next(){const Z=this.nextResult;return this.nextResult=this.iterator.next(),Z}hasCompleted(){const Z=this.nextResult;return!(!Z||!Z.done)}}class z{constructor(Z){this.array=Z,this.index=0,this.length=0,this.length=Z.length}[A.lJ](){return this}next(Z){const ee=this.index++;return ee<this.length?{value:this.array[ee],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class re extends S.gn{constructor(Z,ee,De){super(Z),this.parent=ee,this.observable=De,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A.lJ](){return this}next(){const Z=this.buffer;return 0===Z.length&&this.isComplete?{value:null,done:!0}:{value:Z.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(Z){this.buffer.push(Z),this.parent.checkIterators()}subscribe(){return(0,S.tS)(this.observable,new S.zA(this))}}},9314:(dn,Je,_)=>{"use strict";_.d(Je,{W:()=>O});var h=_(3879);function O(S){return function(W){const L=new E(S),N=W.lift(L);return L.caught=N}}class E{constructor(C){this.selector=C}call(C,W){return W.subscribe(new A(C,this.selector,this.caught))}}class A extends h.gn{constructor(C,W,L){super(C),this.selector=W,this.caught=L}error(C){if(!this.isStopped){let W;try{W=this.selector(C,this.caught)}catch(z){return void super.error(z)}this._unsubscribeAndRecycle();const L=new h.zA(this);this.add(L);const N=(0,h.tS)(W,L);N!==L&&this.add(N)}}}},9003:(dn,Je,_)=>{"use strict";_.d(Je,{H:()=>O});var h=_(3107);function O(E,A){return(0,h.ZZ)(E,A,1)}},9803:(dn,Je,_)=>{"use strict";_.d(Je,{B:()=>E});var h=_(8097),O=_(9573);function E(W,L=O.b){return N=>N.lift(new A(W,L))}class A{constructor(L,N){this.dueTime=L,this.scheduler=N}call(L,N){return N.subscribe(new S(L,this.dueTime,this.scheduler))}}class S extends h.v{constructor(L,N,z){super(L),this.dueTime=N,this.scheduler=z,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(L){this.clearDebounce(),this.lastValue=L,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(C,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:L}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(L)}}clearDebounce(){const L=this.debouncedSubscription;null!==L&&(this.remove(L),L.unsubscribe(),this.debouncedSubscription=null)}}function C(W){W.debouncedNext()}},4702:(dn,Je,_)=>{"use strict";_.d(Je,{U:()=>O});var h=_(8097);function O(S=null){return C=>C.lift(new E(S))}class E{constructor(C){this.defaultValue=C}call(C,W){return W.subscribe(new A(C,this.defaultValue))}}class A extends h.v{constructor(C,W){super(C),this.defaultValue=W,this.isEmpty=!0}_next(C){this.isEmpty=!1,this.destination.next(C)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},9277:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>S});var h=_(9573),E=_(8097),A=_(1500);function S(N,z=h.b){const q=function O(N){return N instanceof Date&&!isNaN(+N)}(N)?+N-z.now():Math.abs(N);return Z=>Z.lift(new C(q,z))}class C{constructor(z,re){this.delay=z,this.scheduler=re}call(z,re){return re.subscribe(new W(z,this.delay,this.scheduler))}}class W extends E.v{constructor(z,re,q){super(z),this.delay=re,this.scheduler=q,this.queue=[],this.active=!1,this.errored=!1}static dispatch(z){const re=z.source,q=re.queue,Z=z.scheduler,ee=z.destination;for(;q.length>0&&q[0].time-Z.now()<=0;)q.shift().notification.observe(ee);if(q.length>0){const De=Math.max(0,q[0].time-Z.now());this.schedule(z,De)}else this.unsubscribe(),re.active=!1}_schedule(z){this.active=!0,this.destination.add(z.schedule(W.dispatch,this.delay,{source:this,destination:this.destination,scheduler:z}))}scheduleNotification(z){if(!0===this.errored)return;const re=this.scheduler,q=new L(re.now()+this.delay,z);this.queue.push(q),!1===this.active&&this._schedule(re)}_next(z){this.scheduleNotification(A.E.createNext(z))}_error(z){this.errored=!0,this.queue=[],this.destination.error(z),this.unsubscribe()}_complete(){this.scheduleNotification(A.E.createComplete()),this.unsubscribe()}}class L{constructor(z,re){this.time=z,this.notification=re}}},6109:(dn,Je,_)=>{"use strict";_.d(Je,{F:()=>O});var h=_(8097);function O(S,C){return W=>W.lift(new E(S,C))}class E{constructor(C,W){this.compare=C,this.keySelector=W}call(C,W){return W.subscribe(new A(C,this.compare,this.keySelector))}}class A extends h.v{constructor(C,W,L){super(C),this.keySelector=L,this.hasKey=!1,"function"==typeof W&&(this.compare=W)}compare(C,W){return C===W}_next(C){let W;try{const{keySelector:N}=this;W=N?N(C):C}catch(N){return this.destination.error(N)}let L=!1;if(this.hasKey)try{const{compare:N}=this;L=N(this.key,W)}catch(N){return this.destination.error(N)}else this.hasKey=!0;L||(this.key=W,this.destination.next(C))}}},7504:(dn,Je,_)=>{"use strict";_.d(Je,{w:()=>O});var h=_(6109);function O(E,A){return(0,h.F)((S,C)=>A?A(S[E],C[E]):S[E]===C[E])}},8627:(dn,Je,_)=>{"use strict";_.d(Je,{p:()=>O});var h=_(8097);function O(S,C){return function(L){return L.lift(new E(S,C))}}class E{constructor(C,W){this.predicate=C,this.thisArg=W}call(C,W){return W.subscribe(new A(C,this.predicate,this.thisArg))}}class A extends h.v{constructor(C,W,L){super(C),this.predicate=W,this.thisArg=L,this.count=0}_next(C){let W;try{W=this.predicate.call(this.thisArg,C,this.count++)}catch(L){return void this.destination.error(L)}W&&this.destination.next(C)}}},9863:(dn,Je,_)=>{"use strict";_.d(Je,{j:()=>E});var h=_(8097),O=_(2672);function E(C){return W=>W.lift(new A(C))}class A{constructor(W){this.callback=W}call(W,L){return L.subscribe(new S(W,this.callback))}}class S extends h.v{constructor(W,L){super(W),this.add(new O.y(L))}}},7871:(dn,Je,_)=>{"use strict";_.d(Je,{$:()=>W});var h=_(5363),O=_(8627),E=_(3602),A=_(4702),S=_(3505),C=_(5980);function W(L,N){const z=arguments.length>=2;return re=>re.pipe(L?(0,O.p)((q,Z)=>L(q,Z,re)):C.D,(0,E.s)(1),z?(0,A.U)(N):(0,S.v)(()=>new h.G))}},5443:(dn,Je,_)=>{"use strict";_.d(Je,{T:()=>O});var h=_(8097);function O(S,C){return function(L){if("function"!=typeof S)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return L.lift(new E(S,C))}}class E{constructor(C,W){this.project=C,this.thisArg=W}call(C,W){return W.subscribe(new A(C,this.project,this.thisArg))}}class A extends h.v{constructor(C,W,L){super(C),this.project=W,this.count=0,this.thisArg=L||this}_next(C){let W;try{W=this.project.call(this.thisArg,C,this.count++)}catch(L){return void this.destination.error(L)}this.destination.next(W)}}},9450:(dn,Je,_)=>{"use strict";_.d(Je,{U:()=>E});var h=_(3107),O=_(5980);function E(A=Number.POSITIVE_INFINITY){return(0,h.ZZ)(O.D,A)}},3107:(dn,Je,_)=>{"use strict";_.d(Je,{ZZ:()=>A});var h=_(5443),O=_(2677),E=_(3879);function A(L,N,z=Number.POSITIVE_INFINITY){return"function"==typeof N?re=>re.pipe(A((q,Z)=>(0,O.H)(L(q,Z)).pipe((0,h.T)((ee,De)=>N(q,ee,Z,De))),z)):("number"==typeof N&&(z=N),re=>re.lift(new S(L,z)))}class S{constructor(N,z=Number.POSITIVE_INFINITY){this.project=N,this.concurrent=z}call(N,z){return z.subscribe(new C(N,this.project,this.concurrent))}}class C extends E.gn{constructor(N,z,re=Number.POSITIVE_INFINITY){super(N),this.project=z,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(N){this.active<this.concurrent?this._tryNext(N):this.buffer.push(N)}_tryNext(N){let z;const re=this.index++;try{z=this.project(N,re)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(z)}_innerSub(N){const z=new E.zA(this),re=this.destination;re.add(z);const q=(0,E.tS)(N,z);q!==z&&re.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(N){this.destination.next(N)}notifyComplete(){const N=this.buffer;this.active--,N.length>0?this._next(N.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3261:(dn,Je,_)=>{"use strict";_.d(Je,{B:()=>O});var h=_(8097);function O(){return function(C){return C.lift(new E(C))}}class E{constructor(C){this.connectable=C}call(C,W){const{connectable:L}=this;L._refCount++;const N=new A(C,L),z=W.subscribe(N);return N.closed||(N.connection=L.connect()),z}}class A extends h.v{constructor(C,W){super(C),this.connectable=W}_unsubscribe(){const{connectable:C}=this;if(!C)return void(this.connection=null);this.connectable=null;const W=C._refCount;if(W<=0)return void(this.connection=null);if(C._refCount=W-1,W>1)return void(this.connection=null);const{connection:L}=this,N=C._connection;this.connection=null,N&&(!L||N===L)&&N.unsubscribe()}}},7783:(dn,Je,_)=>{"use strict";_.d(Je,{L:()=>O});var h=_(8097);function O(S=-1){return C=>C.lift(new E(S,C))}class E{constructor(C,W){this.count=C,this.source=W}call(C,W){return W.subscribe(new A(C,this.count,this.source))}}class A extends h.v{constructor(C,W,L){super(C),this.count=W,this.source=L}error(C){if(!this.isStopped){const{source:W,count:L}=this;if(0===L)return super.error(C);L>-1&&(this.count=L-1),W.subscribe(this._unsubscribeAndRecycle())}}}},7841:(dn,Je,_)=>{"use strict";_.d(Je,{t:()=>O});var h=_(7675);function O(A,S,C){let W;return W=A&&"object"==typeof A?A:{bufferSize:A,windowTime:S,refCount:!1,scheduler:C},L=>L.lift(function E({bufferSize:A=Number.POSITIVE_INFINITY,windowTime:S=Number.POSITIVE_INFINITY,refCount:C,scheduler:W}){let L,z,N=0,re=!1,q=!1;return function(ee){let De;N++,!L||re?(re=!1,L=new h.m(A,S,W),De=L.subscribe(this),z=ee.subscribe({next(Ee){L.next(Ee)},error(Ee){re=!0,L.error(Ee)},complete(){q=!0,z=void 0,L.complete()}}),q&&(z=void 0)):De=L.subscribe(this),this.add(()=>{N--,De.unsubscribe(),De=void 0,z&&!q&&C&&0===N&&(z.unsubscribe(),z=void 0,L=void 0)})}}(W))}},1314:(dn,Je,_)=>{"use strict";_.d(Je,{i:()=>O});var h=_(8097);function O(S){return C=>C.lift(new E(S))}class E{constructor(C){this.total=C}call(C,W){return W.subscribe(new A(C,this.total))}}class A extends h.v{constructor(C,W){super(C),this.total=W,this.count=0}_next(C){++this.count>this.total&&this.destination.next(C)}}},9273:(dn,Je,_)=>{"use strict";_.d(Je,{Z:()=>E});var h=_(6933),O=_(8201);function E(...A){const S=A[A.length-1];return(0,O.m)(S)?(A.pop(),C=>(0,h.x)(A,C,S)):C=>(0,h.x)(A,C)}},1963:(dn,Je,_)=>{"use strict";_.d(Je,{n:()=>A});var h=_(5443),O=_(2677),E=_(3879);function A(W,L){return"function"==typeof L?N=>N.pipe(A((z,re)=>(0,O.H)(W(z,re)).pipe((0,h.T)((q,Z)=>L(z,q,re,Z))))):N=>N.lift(new S(W))}class S{constructor(L){this.project=L}call(L,N){return N.subscribe(new C(L,this.project))}}class C extends E.gn{constructor(L,N){super(L),this.project=N,this.index=0}_next(L){let N;const z=this.index++;try{N=this.project(L,z)}catch(re){return void this.destination.error(re)}this._innerSub(N)}_innerSub(L){const N=this.innerSubscription;N&&N.unsubscribe();const z=new E.zA(this),re=this.destination;re.add(z),this.innerSubscription=(0,E.tS)(L,z),this.innerSubscription!==z&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:L}=this;(!L||L.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(L){this.destination.next(L)}}},3602:(dn,Je,_)=>{"use strict";_.d(Je,{s:()=>A});var h=_(8097),O=_(5741),E=_(4380);function A(W){return L=>0===W?(0,E.I)():L.lift(new S(W))}class S{constructor(L){if(this.total=L,this.total<0)throw new O.k}call(L,N){return N.subscribe(new C(L,this.total))}}class C extends h.v{constructor(L,N){super(L),this.total=N,this.count=0}_next(L){const N=this.total,z=++this.count;z<=N&&(this.destination.next(L),z===N&&(this.destination.complete(),this.unsubscribe()))}}},7464:(dn,Je,_)=>{"use strict";_.d(Je,{Q:()=>O});var h=_(3879);function O(S){return C=>C.lift(new E(S))}class E{constructor(C){this.notifier=C}call(C,W){const L=new A(C),N=(0,h.tS)(this.notifier,new h.zA(L));return N&&!L.seenValue?(L.add(N),W.subscribe(L)):L}}class A extends h.gn{constructor(C){super(C),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},370:(dn,Je,_)=>{"use strict";_.d(Je,{v:()=>O});var h=_(8097);function O(S,C=!1){return W=>W.lift(new E(S,C))}class E{constructor(C,W){this.predicate=C,this.inclusive=W}call(C,W){return W.subscribe(new A(C,this.predicate,this.inclusive))}}class A extends h.v{constructor(C,W,L){super(C),this.predicate=W,this.inclusive=L,this.index=0}_next(C){const W=this.destination;let L;try{L=this.predicate(C,this.index++)}catch(N){return void W.error(N)}this.nextOrComplete(C,L)}nextOrComplete(C,W){const L=this.destination;W?L.next(C):(this.inclusive&&L.next(C),L.complete())}}},6e3:(dn,Je,_)=>{"use strict";_.d(Je,{M:()=>A});var h=_(8097),O=_(8986),E=_(4526);function A(W,L,N){return function(re){return re.lift(new S(W,L,N))}}class S{constructor(L,N,z){this.nextOrObserver=L,this.error=N,this.complete=z}call(L,N){return N.subscribe(new C(L,this.nextOrObserver,this.error,this.complete))}}class C extends h.v{constructor(L,N,z,re){super(L),this._tapNext=O.l,this._tapError=O.l,this._tapComplete=O.l,this._tapError=z||O.l,this._tapComplete=re||O.l,(0,E.T)(N)?(this._context=this,this._tapNext=N):N&&(this._context=N,this._tapNext=N.next||O.l,this._tapError=N.error||O.l,this._tapComplete=N.complete||O.l)}_next(L){try{this._tapNext.call(this._context,L)}catch(N){return void this.destination.error(N)}this.destination.next(L)}_error(L){try{this._tapError.call(this._context,L)}catch(N){return void this.destination.error(N)}this.destination.error(L)}_complete(){try{this._tapComplete.call(this._context)}catch(L){return void this.destination.error(L)}return this.destination.complete()}}},3505:(dn,Je,_)=>{"use strict";_.d(Je,{v:()=>E});var h=_(5363),O=_(8097);function E(W=C){return L=>L.lift(new A(W))}class A{constructor(L){this.errorFactory=L}call(L,N){return N.subscribe(new S(L,this.errorFactory))}}class S extends O.v{constructor(L,N){super(L),this.errorFactory=N,this.hasValue=!1}_next(L){this.hasValue=!0,this.destination.next(L)}_complete(){if(this.hasValue)return this.destination.complete();{let L;try{L=this.errorFactory()}catch(N){L=N}this.destination.error(L)}}}function C(){return new h.G}},5661:(dn,Je,_)=>{"use strict";_.d(Je,{V:()=>E});var h=_(434),O=_(2672);function E(A,S){return new h.c(C=>{const W=new O.y;let L=0;return W.add(S.schedule(function(){L!==A.length?(C.next(A[L++]),C.closed||W.add(this.schedule())):C.complete()})),W})}},6244:(dn,Je,_)=>{"use strict";_.d(Je,{R:()=>E});var h=_(2672);class O extends h.y{constructor(S,C){super()}schedule(S,C=0){return this}}class E extends O{constructor(S,C){super(S,C),this.scheduler=S,this.work=C,this.pending=!1}schedule(S,C=0){if(this.closed)return this;this.state=S;const W=this.id,L=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(L,W,C)),this.pending=!0,this.delay=C,this.id=this.id||this.requestAsyncId(L,this.id,C),this}requestAsyncId(S,C,W=0){return setInterval(S.flush.bind(S,this),W)}recycleAsyncId(S,C,W=0){if(null!==W&&this.delay===W&&!1===this.pending)return C;clearInterval(C)}execute(S,C){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(S,C);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,C){let L,W=!1;try{this.work(S)}catch(N){W=!0,L=!!N&&N||new Error(N)}if(W)return this.unsubscribe(),L}_unsubscribe(){const S=this.id,C=this.scheduler,W=C.actions,L=W.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==L&&W.splice(L,1),null!=S&&(this.id=this.recycleAsyncId(C,S,null)),this.delay=null}}},2059:(dn,Je,_)=>{"use strict";_.d(Je,{q:()=>O});let h=(()=>{class E{constructor(S,C=E.now){this.SchedulerAction=S,this.now=C}schedule(S,C=0,W){return new this.SchedulerAction(this,S).schedule(W,C)}}return E.now=()=>Date.now(),E})();class O extends h{constructor(A,S=h.now){super(A,()=>O.delegate&&O.delegate!==this?O.delegate.now():S()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(A,S=0,C){return O.delegate&&O.delegate!==this?O.delegate.schedule(A,S,C):super.schedule(A,S,C)}flush(A){const{actions:S}=this;if(this.active)return void S.push(A);let C;this.active=!0;do{if(C=A.execute(A.state,A.delay))break}while(A=S.shift());if(this.active=!1,C){for(;A=S.shift();)A.unsubscribe();throw C}}}},2800:(dn,Je,_)=>{"use strict";_.d(Je,{$:()=>re});let h=1;const O=Promise.resolve(),E={};function A(Z){return Z in E&&(delete E[Z],!0)}const S={setImmediate(Z){const ee=h++;return E[ee]=!0,O.then(()=>A(ee)&&Z()),ee},clearImmediate(Z){A(Z)}};var W=_(6244),N=_(2059);const re=new class z extends N.q{flush(ee){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let Ee,ke=-1,Qe=De.length;ee=ee||De.shift();do{if(Ee=ee.execute(ee.state,ee.delay))break}while(++ke<Qe&&(ee=De.shift()));if(this.active=!1,Ee){for(;++ke<Qe&&(ee=De.shift());)ee.unsubscribe();throw Ee}}}(class L extends W.R{constructor(ee,De){super(ee,De),this.scheduler=ee,this.work=De}requestAsyncId(ee,De,Ee=0){return null!==Ee&&Ee>0?super.requestAsyncId(ee,De,Ee):(ee.actions.push(this),ee.scheduled||(ee.scheduled=S.setImmediate(ee.flush.bind(ee,null))))}recycleAsyncId(ee,De,Ee=0){if(null!==Ee&&Ee>0||null===Ee&&this.delay>0)return super.recycleAsyncId(ee,De,Ee);0===ee.actions.length&&(S.clearImmediate(De),ee.scheduled=void 0)}})},9573:(dn,Je,_)=>{"use strict";_.d(Je,{b:()=>A});var h=_(6244);const A=new(_(2059).q)(h.R)},9136:(dn,Je,_)=>{"use strict";_.d(Je,{lJ:()=>O});const O=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},9291:(dn,Je,_)=>{"use strict";_.d(Je,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},5230:(dn,Je,_)=>{"use strict";_.d(Je,{D:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5741:(dn,Je,_)=>{"use strict";_.d(Je,{k:()=>O});const O=(()=>{function E(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return E.prototype=Object.create(Error.prototype),E})()},5363:(dn,Je,_)=>{"use strict";_.d(Je,{G:()=>O});const O=(()=>{function E(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return E.prototype=Object.create(Error.prototype),E})()},3586:(dn,Je,_)=>{"use strict";_.d(Je,{P:()=>O});const O=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})()},9570:(dn,Je,_)=>{"use strict";function h(O){setTimeout(()=>{throw O},0)}_.d(Je,{T:()=>h})},5980:(dn,Je,_)=>{"use strict";function h(O){return O}_.d(Je,{D:()=>h})},9869:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>h});const h=Array.isArray||(O=>O&&"number"==typeof O.length)},3370:(dn,Je,_)=>{"use strict";_.d(Je,{X:()=>h});const h=O=>O&&"number"==typeof O.length&&"function"!=typeof O},4526:(dn,Je,_)=>{"use strict";function h(O){return"function"==typeof O}_.d(Je,{T:()=>h})},1689:(dn,Je,_)=>{"use strict";function h(O){return null!==O&&"object"==typeof O}_.d(Je,{G:()=>h})},6899:(dn,Je,_)=>{"use strict";_.d(Je,{A:()=>O});var h=_(434);function O(E){return!!E&&(E instanceof h.c||"function"==typeof E.lift&&"function"==typeof E.subscribe)}},4113:(dn,Je,_)=>{"use strict";function h(O){return!!O&&"function"!=typeof O.subscribe&&"function"==typeof O.then}_.d(Je,{y:()=>h})},8201:(dn,Je,_)=>{"use strict";function h(O){return O&&"function"==typeof O.schedule}_.d(Je,{m:()=>h})},8986:(dn,Je,_)=>{"use strict";function h(){}_.d(Je,{l:()=>h})},782:(dn,Je,_)=>{"use strict";_.d(Je,{F:()=>O,m:()=>E});var h=_(5980);function O(...A){return E(A)}function E(A){return 0===A.length?h.D:1===A.length?A[0]:function(C){return A.reduce((W,L)=>L(W),C)}}},2794:(dn,Je,_)=>{"use strict";_.d(Je,{i:()=>re});var h=_(7824),O=_(9570),A=_(9136),C=_(9291),L=_(3370),N=_(4113),z=_(1689);const re=q=>{if(q&&"function"==typeof q[C.s])return(q=>Z=>{const ee=q[C.s]();if("function"!=typeof ee.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ee.subscribe(Z)})(q);if((0,L.X)(q))return(0,h.v)(q);if((0,N.y)(q))return(q=>Z=>(q.then(ee=>{Z.closed||(Z.next(ee),Z.complete())},ee=>Z.error(ee)).then(null,O.T),Z))(q);if(q&&"function"==typeof q[A.lJ])return(q=>Z=>{const ee=q[A.lJ]();for(;;){let De;try{De=ee.next()}catch(Ee){return Z.error(Ee),Z}if(De.done){Z.complete();break}if(Z.next(De.value),Z.closed)break}return"function"==typeof ee.return&&Z.add(()=>{ee.return&&ee.return()}),Z})(q);{const ee=`You provided ${(0,z.G)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ee)}}},7824:(dn,Je,_)=>{"use strict";_.d(Je,{v:()=>h});const h=O=>E=>{for(let A=0,S=O.length;A<S&&!E.closed;A++)E.next(O[A]);E.complete()}},2667:(dn,Je,_)=>{var h=_(7576),O=_(6369),E=_(3555),A=_(2751),S=_(8365),C=_(3777),W=_(9781);W.alea=h,W.xor128=O,W.xorwow=E,W.xorshift7=A,W.xor4096=S,W.tychei=C,dn.exports=W},7576:function(dn,Je,_){var h;!function(O,E){function S(N){var z=this,re=function L(){var N=4022871197;return function(re){re=String(re);for(var q=0;q<re.length;q++){var Z=.02519603282416938*(N+=re.charCodeAt(q));Z-=N=Z>>>0,N=(Z*=N)>>>0,N+=4294967296*(Z-=N)}return 2.3283064365386963e-10*(N>>>0)}}();z.next=function(){var q=2091639*z.s0+2.3283064365386963e-10*z.c;return z.s0=z.s1,z.s1=z.s2,z.s2=q-(z.c=0|q)},z.c=1,z.s0=re(" "),z.s1=re(" "),z.s2=re(" "),z.s0-=re(N),z.s0<0&&(z.s0+=1),z.s1-=re(N),z.s1<0&&(z.s1+=1),z.s2-=re(N),z.s2<0&&(z.s2+=1),re=null}function C(N,z){return z.c=N.c,z.s0=N.s0,z.s1=N.s1,z.s2=N.s2,z}function W(N,z){var re=new S(N),q=z&&z.state,Z=re.next;return Z.int32=function(){return 4294967296*re.next()|0},Z.double=function(){return Z()+11102230246251565e-32*(2097152*Z()|0)},Z.quick=Z,q&&("object"==typeof q&&C(q,re),Z.state=function(){return C(re,{})}),Z}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.alea=W}(0,dn=_.nmd(dn))},3777:function(dn,Je,_){var h;!function(O,E){function S(L){var N=this,z="";N.next=function(){var q=N.b,Z=N.c,ee=N.d,De=N.a;return q=q<<25^q>>>7^Z,Z=Z-ee|0,ee=ee<<24^ee>>>8^De,De=De-q|0,N.b=q=q<<20^q>>>12^Z,N.c=Z=Z-ee|0,N.d=ee<<16^Z>>>16^De,N.a=De-q|0},N.a=0,N.b=0,N.c=-1640531527,N.d=1367130551,L===Math.floor(L)?(N.a=L/4294967296|0,N.b=0|L):z+=L;for(var re=0;re<z.length+20;re++)N.b^=0|z.charCodeAt(re),N.next()}function C(L,N){return N.a=L.a,N.b=L.b,N.c=L.c,N.d=L.d,N}function W(L,N){var z=new S(L),re=N&&N.state,q=function(){return(z.next()>>>0)/4294967296};return q.double=function(){do{var De=((z.next()>>>11)+(z.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},q.int32=z.next,q.quick=q,re&&("object"==typeof re&&C(re,z),q.state=function(){return C(z,{})}),q}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.tychei=W}(0,dn=_.nmd(dn))},6369:function(dn,Je,_){var h;!function(O,E){function S(L){var N=this,z="";N.x=0,N.y=0,N.z=0,N.w=0,N.next=function(){var q=N.x^N.x<<11;return N.x=N.y,N.y=N.z,N.z=N.w,N.w^=N.w>>>19^q^q>>>8},L===(0|L)?N.x=L:z+=L;for(var re=0;re<z.length+64;re++)N.x^=0|z.charCodeAt(re),N.next()}function C(L,N){return N.x=L.x,N.y=L.y,N.z=L.z,N.w=L.w,N}function W(L,N){var z=new S(L),re=N&&N.state,q=function(){return(z.next()>>>0)/4294967296};return q.double=function(){do{var De=((z.next()>>>11)+(z.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},q.int32=z.next,q.quick=q,re&&("object"==typeof re&&C(re,z),q.state=function(){return C(z,{})}),q}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.xor128=W}(0,dn=_.nmd(dn))},8365:function(dn,Je,_){var h;!function(O,E){function S(L){var N=this;N.next=function(){var ee,De,re=N.w,q=N.X,Z=N.i;return N.w=re=re+1640531527|0,De=q[Z+34&127],ee=q[Z=Z+1&127],De^=De<<13,ee^=ee<<17,De=q[Z]=(De^=De>>>15)^(ee^=ee>>>12),N.i=Z,De+(re^re>>>16)|0},function z(re,q){var Z,ee,De,Ee,ke,Qe=[],Pe=128;for(q===(0|q)?(ee=q,q=null):(q+="\0",ee=0,Pe=Math.max(Pe,q.length)),De=0,Ee=-32;Ee<Pe;++Ee)q&&(ee^=q.charCodeAt((Ee+32)%q.length)),0===Ee&&(ke=ee),ee^=ee<<10,ee^=ee>>>15,ee^=ee<<4,ee^=ee>>>13,Ee>=0&&(De=0==(Z=Qe[127&Ee]^=ee+(ke=ke+1640531527|0))?De+1:0);for(De>=128&&(Qe[127&(q&&q.length||0)]=-1),De=127,Ee=512;Ee>0;--Ee)ee=Qe[De+34&127],Z=Qe[De=De+1&127],ee^=ee<<13,Z^=Z<<17,Qe[De]=(ee^=ee>>>15)^(Z^=Z>>>12);re.w=ke,re.X=Qe,re.i=De}(N,L)}function C(L,N){return N.i=L.i,N.w=L.w,N.X=L.X.slice(),N}function W(L,N){null==L&&(L=+new Date);var z=new S(L),re=N&&N.state,q=function(){return(z.next()>>>0)/4294967296};return q.double=function(){do{var De=((z.next()>>>11)+(z.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},q.int32=z.next,q.quick=q,re&&(re.X&&C(re,z),q.state=function(){return C(z,{})}),q}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.xor4096=W}(0,dn=_.nmd(dn))},2751:function(dn,Je,_){var h;!function(O,E){function S(L){var N=this;N.next=function(){var Z,ee,re=N.x,q=N.i;return Z=re[q],ee=(Z^=Z>>>7)^Z<<24,ee^=(Z=re[q+1&7])^Z>>>10,ee^=(Z=re[q+3&7])^Z>>>3,ee^=(Z=re[q+4&7])^Z<<7,Z=re[q+7&7],re[q]=ee^=(Z^=Z<<13)^Z<<9,N.i=q+1&7,ee},function z(re,q){var Z,De=[];if(q===(0|q))De[0]=q;else for(q=""+q,Z=0;Z<q.length;++Z)De[7&Z]=De[7&Z]<<15^q.charCodeAt(Z)+De[Z+1&7]<<13;for(;De.length<8;)De.push(0);for(Z=0;Z<8&&0===De[Z];++Z);for(8==Z&&(De[7]=-1),re.x=De,re.i=0,Z=256;Z>0;--Z)re.next()}(N,L)}function C(L,N){return N.x=L.x.slice(),N.i=L.i,N}function W(L,N){null==L&&(L=+new Date);var z=new S(L),re=N&&N.state,q=function(){return(z.next()>>>0)/4294967296};return q.double=function(){do{var De=((z.next()>>>11)+(z.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},q.int32=z.next,q.quick=q,re&&(re.x&&C(re,z),q.state=function(){return C(z,{})}),q}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.xorshift7=W}(0,dn=_.nmd(dn))},3555:function(dn,Je,_){var h;!function(O,E){function S(L){var N=this,z="";N.next=function(){var q=N.x^N.x>>>2;return N.x=N.y,N.y=N.z,N.z=N.w,N.w=N.v,(N.d=N.d+362437|0)+(N.v=N.v^N.v<<4^q^q<<1)|0},N.x=0,N.y=0,N.z=0,N.w=0,N.v=0,L===(0|L)?N.x=L:z+=L;for(var re=0;re<z.length+64;re++)N.x^=0|z.charCodeAt(re),re==z.length&&(N.d=N.x<<10^N.x>>>4),N.next()}function C(L,N){return N.x=L.x,N.y=L.y,N.z=L.z,N.w=L.w,N.v=L.v,N.d=L.d,N}function W(L,N){var z=new S(L),re=N&&N.state,q=function(){return(z.next()>>>0)/4294967296};return q.double=function(){do{var De=((z.next()>>>11)+(z.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},q.int32=z.next,q.quick=q,re&&("object"==typeof re&&C(re,z),q.state=function(){return C(z,{})}),q}E&&E.exports?E.exports=W:_.amdD&&_.amdO?void 0!==(h=function(){return W}.call(Je,_,Je,E))&&(E.exports=h):this.xorwow=W}(0,dn=_.nmd(dn))},9781:function(dn,Je,_){var h;!function(O,E,A){var Z,S=256,N=A.pow(S,6),z=A.pow(2,52),re=2*z,q=S-1;function ee(Re,nt,Te){var je=[],Xe=Qe(ke((nt=1==nt?{entropy:!0}:nt||{}).entropy?[Re,Ye(E)]:Re??function Pe(){try{var Re;return Z&&(Re=Z.randomBytes)?Re=Re(S):(Re=new Uint8Array(S),(O.crypto||O.msCrypto).getRandomValues(Re)),Ye(Re)}catch{var nt=O.navigator,Te=nt&&nt.plugins;return[+new Date,O,Te,O.screen,Ye(E)]}}(),3),je),Q=new De(je),rt=function(){for(var oe=Q.g(6),ot=N,bt=0;oe<z;)oe=(oe+bt)*S,ot*=S,bt=Q.g(1);for(;oe>=re;)oe/=2,ot/=2,bt>>>=1;return(oe+bt)/ot};return rt.int32=function(){return 0|Q.g(4)},rt.quick=function(){return Q.g(4)/4294967296},rt.double=rt,Qe(Ye(Q.S),E),(nt.pass||Te||function(oe,ot,bt,Nt){return Nt&&(Nt.S&&Ee(Nt,Q),oe.state=function(){return Ee(Q,{})}),bt?(A.random=oe,ot):oe})(rt,Xe,"global"in nt?nt.global:this==A,nt.state)}function De(Re){var nt,Te=Re.length,je=this,Xe=0,Q=je.i=je.j=0,rt=je.S=[];for(Te||(Re=[Te++]);Xe<S;)rt[Xe]=Xe++;for(Xe=0;Xe<S;Xe++)rt[Xe]=rt[Q=q&Q+Re[Xe%Te]+(nt=rt[Xe])],rt[Q]=nt;(je.g=function(oe){for(var ot,bt=0,Nt=je.i,St=je.j,$t=je.S;oe--;)ot=$t[Nt=q&Nt+1],bt=bt*S+$t[q&($t[Nt]=$t[St=q&St+ot])+($t[St]=ot)];return je.i=Nt,je.j=St,bt})(S)}function Ee(Re,nt){return nt.i=Re.i,nt.j=Re.j,nt.S=Re.S.slice(),nt}function ke(Re,nt){var Xe,Te=[],je=typeof Re;if(nt&&"object"==je)for(Xe in Re)try{Te.push(ke(Re[Xe],nt-1))}catch{}return Te.length?Te:"string"==je?Re:Re+"\0"}function Qe(Re,nt){for(var je,Te=Re+"",Xe=0;Xe<Te.length;)nt[q&Xe]=q&(je^=19*nt[q&Xe])+Te.charCodeAt(Xe++);return Ye(nt)}function Ye(Re){return String.fromCharCode.apply(0,Re)}if(Qe(A.random(),E),dn.exports){dn.exports=ee;try{Z=_(1234)}catch{}}else void 0!==(h=function(){return ee}.call(Je,_,Je,dn))&&(dn.exports=h)}(typeof self<"u"?self:this,[],Math)},3277:(dn,Je,_)=>{"use strict";_.d(Je,{VV:()=>h,LL:()=>E});class h{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(S,C=!1){return this.onePassHasher.start().appendStr(S).end(C)}static hashAsciiStr(S,C=!1){return this.onePassHasher.start().appendAsciiStr(S).end(C)}static _hex(S){const C=h.hexChars,W=h.hexOut;let L,N,z,re;for(re=0;re<4;re+=1)for(N=8*re,L=S[re],z=0;z<8;z+=2)W[N+1+z]=C.charAt(15&L),L>>>=4,W[N+0+z]=C.charAt(15&L),L>>>=4;return W.join("")}static _md5cycle(S,C){let W=S[0],L=S[1],N=S[2],z=S[3];W+=(L&N|~L&z)+C[0]-680876936|0,W=(W<<7|W>>>25)+L|0,z+=(W&L|~W&N)+C[1]-389564586|0,z=(z<<12|z>>>20)+W|0,N+=(z&W|~z&L)+C[2]+606105819|0,N=(N<<17|N>>>15)+z|0,L+=(N&z|~N&W)+C[3]-1044525330|0,L=(L<<22|L>>>10)+N|0,W+=(L&N|~L&z)+C[4]-176418897|0,W=(W<<7|W>>>25)+L|0,z+=(W&L|~W&N)+C[5]+1200080426|0,z=(z<<12|z>>>20)+W|0,N+=(z&W|~z&L)+C[6]-1473231341|0,N=(N<<17|N>>>15)+z|0,L+=(N&z|~N&W)+C[7]-45705983|0,L=(L<<22|L>>>10)+N|0,W+=(L&N|~L&z)+C[8]+1770035416|0,W=(W<<7|W>>>25)+L|0,z+=(W&L|~W&N)+C[9]-1958414417|0,z=(z<<12|z>>>20)+W|0,N+=(z&W|~z&L)+C[10]-42063|0,N=(N<<17|N>>>15)+z|0,L+=(N&z|~N&W)+C[11]-1990404162|0,L=(L<<22|L>>>10)+N|0,W+=(L&N|~L&z)+C[12]+1804603682|0,W=(W<<7|W>>>25)+L|0,z+=(W&L|~W&N)+C[13]-40341101|0,z=(z<<12|z>>>20)+W|0,N+=(z&W|~z&L)+C[14]-1502002290|0,N=(N<<17|N>>>15)+z|0,L+=(N&z|~N&W)+C[15]+1236535329|0,L=(L<<22|L>>>10)+N|0,W+=(L&z|N&~z)+C[1]-165796510|0,W=(W<<5|W>>>27)+L|0,z+=(W&N|L&~N)+C[6]-1069501632|0,z=(z<<9|z>>>23)+W|0,N+=(z&L|W&~L)+C[11]+643717713|0,N=(N<<14|N>>>18)+z|0,L+=(N&W|z&~W)+C[0]-373897302|0,L=(L<<20|L>>>12)+N|0,W+=(L&z|N&~z)+C[5]-701558691|0,W=(W<<5|W>>>27)+L|0,z+=(W&N|L&~N)+C[10]+38016083|0,z=(z<<9|z>>>23)+W|0,N+=(z&L|W&~L)+C[15]-660478335|0,N=(N<<14|N>>>18)+z|0,L+=(N&W|z&~W)+C[4]-405537848|0,L=(L<<20|L>>>12)+N|0,W+=(L&z|N&~z)+C[9]+568446438|0,W=(W<<5|W>>>27)+L|0,z+=(W&N|L&~N)+C[14]-1019803690|0,z=(z<<9|z>>>23)+W|0,N+=(z&L|W&~L)+C[3]-187363961|0,N=(N<<14|N>>>18)+z|0,L+=(N&W|z&~W)+C[8]+1163531501|0,L=(L<<20|L>>>12)+N|0,W+=(L&z|N&~z)+C[13]-1444681467|0,W=(W<<5|W>>>27)+L|0,z+=(W&N|L&~N)+C[2]-51403784|0,z=(z<<9|z>>>23)+W|0,N+=(z&L|W&~L)+C[7]+1735328473|0,N=(N<<14|N>>>18)+z|0,L+=(N&W|z&~W)+C[12]-1926607734|0,L=(L<<20|L>>>12)+N|0,W+=(L^N^z)+C[5]-378558|0,W=(W<<4|W>>>28)+L|0,z+=(W^L^N)+C[8]-2022574463|0,z=(z<<11|z>>>21)+W|0,N+=(z^W^L)+C[11]+1839030562|0,N=(N<<16|N>>>16)+z|0,L+=(N^z^W)+C[14]-35309556|0,L=(L<<23|L>>>9)+N|0,W+=(L^N^z)+C[1]-1530992060|0,W=(W<<4|W>>>28)+L|0,z+=(W^L^N)+C[4]+1272893353|0,z=(z<<11|z>>>21)+W|0,N+=(z^W^L)+C[7]-155497632|0,N=(N<<16|N>>>16)+z|0,L+=(N^z^W)+C[10]-1094730640|0,L=(L<<23|L>>>9)+N|0,W+=(L^N^z)+C[13]+681279174|0,W=(W<<4|W>>>28)+L|0,z+=(W^L^N)+C[0]-358537222|0,z=(z<<11|z>>>21)+W|0,N+=(z^W^L)+C[3]-722521979|0,N=(N<<16|N>>>16)+z|0,L+=(N^z^W)+C[6]+76029189|0,L=(L<<23|L>>>9)+N|0,W+=(L^N^z)+C[9]-640364487|0,W=(W<<4|W>>>28)+L|0,z+=(W^L^N)+C[12]-421815835|0,z=(z<<11|z>>>21)+W|0,N+=(z^W^L)+C[15]+530742520|0,N=(N<<16|N>>>16)+z|0,L+=(N^z^W)+C[2]-995338651|0,L=(L<<23|L>>>9)+N|0,W+=(N^(L|~z))+C[0]-198630844|0,W=(W<<6|W>>>26)+L|0,z+=(L^(W|~N))+C[7]+1126891415|0,z=(z<<10|z>>>22)+W|0,N+=(W^(z|~L))+C[14]-1416354905|0,N=(N<<15|N>>>17)+z|0,L+=(z^(N|~W))+C[5]-57434055|0,L=(L<<21|L>>>11)+N|0,W+=(N^(L|~z))+C[12]+1700485571|0,W=(W<<6|W>>>26)+L|0,z+=(L^(W|~N))+C[3]-1894986606|0,z=(z<<10|z>>>22)+W|0,N+=(W^(z|~L))+C[10]-1051523|0,N=(N<<15|N>>>17)+z|0,L+=(z^(N|~W))+C[1]-2054922799|0,L=(L<<21|L>>>11)+N|0,W+=(N^(L|~z))+C[8]+1873313359|0,W=(W<<6|W>>>26)+L|0,z+=(L^(W|~N))+C[15]-30611744|0,z=(z<<10|z>>>22)+W|0,N+=(W^(z|~L))+C[6]-1560198380|0,N=(N<<15|N>>>17)+z|0,L+=(z^(N|~W))+C[13]+1309151649|0,L=(L<<21|L>>>11)+N|0,W+=(N^(L|~z))+C[4]-145523070|0,W=(W<<6|W>>>26)+L|0,z+=(L^(W|~N))+C[11]-1120210379|0,z=(z<<10|z>>>22)+W|0,N+=(W^(z|~L))+C[2]+718787259|0,N=(N<<15|N>>>17)+z|0,L+=(z^(N|~W))+C[9]-343485551|0,L=(L<<21|L>>>11)+N|0,S[0]=W+S[0]|0,S[1]=L+S[1]|0,S[2]=N+S[2]|0,S[3]=z+S[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(h.stateIdentity),this}appendStr(S){const C=this._buffer8,W=this._buffer32;let N,z,L=this._bufferLength;for(z=0;z<S.length;z+=1){if(N=S.charCodeAt(z),N<128)C[L++]=N;else if(N<2048)C[L++]=192+(N>>>6),C[L++]=63&N|128;else if(N<55296||N>56319)C[L++]=224+(N>>>12),C[L++]=N>>>6&63|128,C[L++]=63&N|128;else{if(N=1024*(N-55296)+(S.charCodeAt(++z)-56320)+65536,N>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");C[L++]=240+(N>>>18),C[L++]=N>>>12&63|128,C[L++]=N>>>6&63|128,C[L++]=63&N|128}L>=64&&(this._dataLength+=64,h._md5cycle(this._state,W),L-=64,W[0]=W[16])}return this._bufferLength=L,this}appendAsciiStr(S){const C=this._buffer8,W=this._buffer32;let N,L=this._bufferLength,z=0;for(;;){for(N=Math.min(S.length-z,64-L);N--;)C[L++]=S.charCodeAt(z++);if(L<64)break;this._dataLength+=64,h._md5cycle(this._state,W),L=0}return this._bufferLength=L,this}appendByteArray(S){const C=this._buffer8,W=this._buffer32;let N,L=this._bufferLength,z=0;for(;;){for(N=Math.min(S.length-z,64-L);N--;)C[L++]=S[z++];if(L<64)break;this._dataLength+=64,h._md5cycle(this._state,W),L=0}return this._bufferLength=L,this}getState(){const S=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[S[0],S[1],S[2],S[3]]}}setState(S){const C=S.buffer,W=S.state,L=this._state;let N;for(this._dataLength=S.length,this._bufferLength=S.buflen,L[0]=W[0],L[1]=W[1],L[2]=W[2],L[3]=W[3],N=0;N<C.length;N+=1)this._buffer8[N]=C.charCodeAt(N)}end(S=!1){const C=this._bufferLength,W=this._buffer8,L=this._buffer32,N=1+(C>>2);this._dataLength+=C;const z=8*this._dataLength;if(W[C]=128,W[C+1]=W[C+2]=W[C+3]=0,L.set(h.buffer32Identity.subarray(N),N),C>55&&(h._md5cycle(this._state,L),L.set(h.buffer32Identity)),z<=4294967295)L[14]=z;else{const re=z.toString(16).match(/(.*?)(.{0,8})$/);if(null===re)return;const q=parseInt(re[2],16),Z=parseInt(re[1],16)||0;L[14]=q,L[15]=Z}return h._md5cycle(this._state,L),S?this._state:h._hex(this._state)}}if(h.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),h.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h.hexChars="0123456789abcdef",h.hexOut=[],h.onePassHasher=new h,"5d41402abc4b2a76b9719d911017c592"!==h.hashStr("hello"))throw new Error("Md5 self test failed.");class E{constructor(S,C){this._queue=[],this._ready=!0;const W=this;Worker?(W._hashWorker=new Worker(S,C),W._hashWorker.onmessage=W._recievedMessage.bind(W),W._hashWorker.onerror=L=>{W._ready=!1,console.error("Hash worker failure",L)}):(W._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(S){const C=this;let W;return W=new Promise((L,N)=>{C._queue.push({blob:S,resolve:L,reject:N}),C._processNext()}),W}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(S){var C,W;const L=S.data;L.success?null===(C=this._processing)||void 0===C||C.resolve(L.result):null===(W=this._processing)||void 0===W||W.reject(L.result),this._processing=void 0,this._processNext()}}},7172:(dn,Je,_)=>{"use strict";_.d(Je,{FX:()=>Q,If:()=>h,K2:()=>C,MA:()=>q,Os:()=>S,P:()=>ee,hZ:()=>E,i0:()=>A,i7:()=>N,iF:()=>W,kY:()=>z,kp:()=>O,sf:()=>je,ui:()=>Xe,wk:()=>L});
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
var h=function(rt){return rt[rt.State=0]="State",rt[rt.Transition=1]="Transition",rt[rt.Sequence=2]="Sequence",rt[rt.Group=3]="Group",rt[rt.Animate=4]="Animate",rt[rt.Keyframes=5]="Keyframes",rt[rt.Style=6]="Style",rt[rt.Trigger=7]="Trigger",rt[rt.Reference=8]="Reference",rt[rt.AnimateChild=9]="AnimateChild",rt[rt.AnimateRef=10]="AnimateRef",rt[rt.Query=11]="Query",rt[rt.Stagger=12]="Stagger",rt}(h||{});const O="*";function E(rt,oe){return{type:h.Trigger,name:rt,definitions:oe,options:{}}}function A(rt,oe=null){return{type:h.Animate,styles:oe,timings:rt}}function S(rt,oe=null){return{type:h.Group,steps:rt,options:oe}}function C(rt,oe=null){return{type:h.Sequence,steps:rt,options:oe}}function W(rt){return{type:h.Style,styles:rt,offset:null}}function L(rt,oe,ot){return{type:h.State,name:rt,styles:oe,options:ot}}function N(rt){return{type:h.Keyframes,steps:rt}}function z(rt,oe,ot=null){return{type:h.Transition,expr:rt,animation:oe,options:ot}}function q(rt=null){return{type:h.AnimateChild,options:rt}}function ee(rt,oe,ot=null){return{type:h.Query,selector:rt,animation:oe,options:ot}}class je{constructor(oe=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const ot="start"==oe?this._onStartFns:this._onDoneFns;ot.forEach(bt=>bt()),ot.length=0}}class Xe{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let ot=0,bt=0,Nt=0;const St=this.players.length;0==St?queueMicrotask(()=>this._onFinish()):this.players.forEach($t=>{$t.onDone(()=>{++ot==St&&this._onFinish()}),$t.onDestroy(()=>{++bt==St&&this._onDestroy()}),$t.onStart(()=>{++Nt==St&&this._onStart()})}),this.totalTime=this.players.reduce(($t,Ce)=>Math.max($t,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const ot=oe*this.totalTime;this.players.forEach(bt=>{const Nt=bt.totalTime?Math.min(1,ot/bt.totalTime):1;bt.setPosition(Nt)})}getPosition(){const oe=this.players.reduce((ot,bt)=>null===ot||bt.totalTime>ot.totalTime?bt:ot,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const ot="start"==oe?this._onStartFns:this._onDoneFns;ot.forEach(bt=>bt()),ot.length=0}}const Q="!"},2139:(dn,Je,_)=>{"use strict";_.d(Je,{Pd:()=>Se,Au:()=>ve,vr:()=>bt,vR:()=>Rn,kB:()=>_e,Bu:()=>me,FN:()=>Kt,GX:()=>tt,Q_:()=>U,Z7:()=>Ft,Ai:()=>oi,px:()=>Te,_G:()=>mn,w6:()=>cn,Ae:()=>je});var h=_(316),O=_(7404),E=_(7699),A=_(3119),S=_(2672),W=(_(6899),_(1536)),L=_(521),N=_(4879),z=_(6e3),re=_(9803),q=_(8627),Z=_(5443),De=(_(3602),_(1314)),Ee=_(6109),ke=_(7464),Pe=_(9539),Ye=_(2814),Re=_(7912);const nt=" ";function Te(be,ct,Ze){const Mt=Xe(be,ct);Ze=Ze.trim(),!Mt.some(hn=>hn.trim()===Ze)&&(Mt.push(Ze),be.setAttribute(ct,Mt.join(nt)))}function je(be,ct,Ze){const Mt=Xe(be,ct);Ze=Ze.trim();const hn=Mt.filter(Kn=>Kn!==Ze);hn.length?be.setAttribute(ct,hn.join(nt)):be.removeAttribute(ct)}function Xe(be,ct){return be.getAttribute(ct)?.match(/\S+/g)??[]}const rt="cdk-describedby-message",oe="cdk-describedby-host";let ot=0,bt=(()=>{class be{constructor(Ze,Mt){this._platform=Mt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ot++,this._document=Ze,this._id=(0,O.WQX)(O.sZ2)+"-"+ot++}describe(Ze,Mt,hn){if(!this._canBeDescribed(Ze,Mt))return;const Kn=Nt(Mt,hn);"string"!=typeof Mt?(St(Mt,this._id),this._messageRegistry.set(Kn,{messageElement:Mt,referenceCount:0})):this._messageRegistry.has(Kn)||this._createMessageElement(Mt,hn),this._isElementDescribedByMessage(Ze,Kn)||this._addMessageReference(Ze,Kn)}removeDescription(Ze,Mt,hn){if(!Mt||!this._isElementNode(Ze))return;const Kn=Nt(Mt,hn);if(this._isElementDescribedByMessage(Ze,Kn)&&this._removeMessageReference(Ze,Kn),"string"==typeof Mt){const Jn=this._messageRegistry.get(Kn);Jn&&0===Jn.referenceCount&&this._deleteMessageElement(Kn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ze=this._document.querySelectorAll(`[${oe}="${this._id}"]`);for(let Mt=0;Mt<Ze.length;Mt++)this._removeCdkDescribedByReferenceIds(Ze[Mt]),Ze[Mt].removeAttribute(oe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ze,Mt){const hn=this._document.createElement("div");St(hn,this._id),hn.textContent=Ze,Mt&&hn.setAttribute("role",Mt),this._createMessagesContainer(),this._messagesContainer.appendChild(hn),this._messageRegistry.set(Nt(Ze,Mt),{messageElement:hn,referenceCount:0})}_deleteMessageElement(Ze){this._messageRegistry.get(Ze)?.messageElement?.remove(),this._messageRegistry.delete(Ze)}_createMessagesContainer(){if(this._messagesContainer)return;const Ze="cdk-describedby-message-container",Mt=this._document.querySelectorAll(`.${Ze}[platform="server"]`);for(let Kn=0;Kn<Mt.length;Kn++)Mt[Kn].remove();const hn=this._document.createElement("div");hn.style.visibility="hidden",hn.classList.add(Ze),hn.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&hn.setAttribute("platform","server"),this._document.body.appendChild(hn),this._messagesContainer=hn}_removeCdkDescribedByReferenceIds(Ze){const Mt=Xe(Ze,"aria-describedby").filter(hn=>0!=hn.indexOf(rt));Ze.setAttribute("aria-describedby",Mt.join(" "))}_addMessageReference(Ze,Mt){const hn=this._messageRegistry.get(Mt);Te(Ze,"aria-describedby",hn.messageElement.id),Ze.setAttribute(oe,this._id),hn.referenceCount++}_removeMessageReference(Ze,Mt){const hn=this._messageRegistry.get(Mt);hn.referenceCount--,je(Ze,"aria-describedby",hn.messageElement.id),Ze.removeAttribute(oe)}_isElementDescribedByMessage(Ze,Mt){const hn=Xe(Ze,"aria-describedby"),Kn=this._messageRegistry.get(Mt),Jn=Kn&&Kn.messageElement.id;return!!Jn&&-1!=hn.indexOf(Jn)}_canBeDescribed(Ze,Mt){if(!this._isElementNode(Ze))return!1;if(Mt&&"object"==typeof Mt)return!0;const hn=null==Mt?"":`${Mt}`.trim(),Kn=Ze.getAttribute("aria-label");return!(!hn||Kn&&Kn.trim()===hn)}_isElementNode(Ze){return Ze.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(h.qQ),O.KVO(E.OD))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Nt(be,ct){return"string"==typeof be?`${ct||""}/${be}`:be}function St(be,ct){be.id||(be.id=`${rt}-${ct}-${ot++}`)}class Ce{constructor(ct,Ze){this._letterKeyStream=new A.B7,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new A.B7,this.selectedItem=this._selectedItem;const Mt="number"==typeof Ze?.debounceInterval?Ze.debounceInterval:200;Ze?.skipPredicate&&(this._skipPredicateFn=Ze.skipPredicate),this.setItems(ct),this._setupKeyHandler(Mt)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(ct){this._selectedItemIndex=ct}setItems(ct){this._items=ct}handleKey(ct){const Ze=ct.keyCode;ct.key&&1===ct.key.length?this._letterKeyStream.next(ct.key.toLocaleUpperCase()):(Ze>=N.A&&Ze<=N.Z||Ze>=N.f2&&Ze<=N.bn)&&this._letterKeyStream.next(String.fromCharCode(Ze))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(ct){this._letterKeyStream.pipe((0,z.M)(Ze=>this._pressedLetters.push(Ze)),(0,re.B)(ct),(0,q.p)(()=>this._pressedLetters.length>0),(0,Z.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(Ze=>{for(let Mt=1;Mt<this._items.length+1;Mt++){const Kn=this._items[(this._selectedItemIndex+Mt)%this._items.length];if(!this._skipPredicateFn?.(Kn)&&0===Kn.getLabel?.().toLocaleUpperCase().trim().indexOf(Ze)){this._selectedItem.next(Kn);break}}this._pressedLetters=[]})}}class ce{constructor(ct,Ze){this._items=ct,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=S.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Mt=>Mt.disabled,this.tabOut=new A.B7,this.change=new A.B7,ct instanceof O.rOR?this._itemChangesSubscription=ct.changes.subscribe(Mt=>this._itemsChanged(Mt.toArray())):(0,O.Hps)(ct)&&(this._effectRef=(0,O.QZP)(()=>this._itemsChanged(ct()),{injector:Ze}))}skipPredicate(ct){return this._skipPredicateFn=ct,this}withWrap(ct=!0){return this._wrap=ct,this}withVerticalOrientation(ct=!0){return this._vertical=ct,this}withHorizontalOrientation(ct){return this._horizontal=ct,this}withAllowedModifierKeys(ct){return this._allowedModifierKeys=ct,this}withTypeAhead(ct=200){this._typeaheadSubscription.unsubscribe();const Ze=this._getItemsArray();return this._typeahead=new Ce(Ze,{debounceInterval:"number"==typeof ct?ct:void 0,skipPredicate:Mt=>this._skipPredicateFn(Mt)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Mt=>{this.setActiveItem(Mt)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(ct=!0){return this._homeAndEnd=ct,this}withPageUpDown(ct=!0,Ze=10){return this._pageUpAndDown={enabled:ct,delta:Ze},this}setActiveItem(ct){const Ze=this._activeItem;this.updateActiveItem(ct),this._activeItem!==Ze&&this.change.next(this._activeItemIndex)}onKeydown(ct){const Ze=ct.keyCode,hn=["altKey","ctrlKey","metaKey","shiftKey"].every(Kn=>!ct[Kn]||this._allowedModifierKeys.indexOf(Kn)>-1);switch(Ze){case N.wn:return void this.tabOut.next();case N.n6:if(this._vertical&&hn){this.setNextItemActive();break}return;case N.i7:if(this._vertical&&hn){this.setPreviousItemActive();break}return;case N.LE:if(this._horizontal&&hn){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case N.UQ:if(this._horizontal&&hn){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case N.yZ:if(this._homeAndEnd&&hn){this.setFirstItemActive();break}return;case N.Kp:if(this._homeAndEnd&&hn){this.setLastItemActive();break}return;case N.w_:if(this._pageUpAndDown.enabled&&hn){const Kn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Kn>0?Kn:0,1);break}return;case N.dB:if(this._pageUpAndDown.enabled&&hn){const Kn=this._activeItemIndex+this._pageUpAndDown.delta,Jn=this._getItemsArray().length;this._setActiveItemByIndex(Kn<Jn?Kn:Jn-1,-1);break}return;default:return void((hn||(0,N.rp)(ct,"shiftKey"))&&this._typeahead?.handleKey(ct))}this._typeahead?.reset(),ct.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ct){const Ze=this._getItemsArray(),Mt="number"==typeof ct?ct:Ze.indexOf(ct);this._activeItem=Ze[Mt]??null,this._activeItemIndex=Mt,this._typeahead?.setCurrentSelectedItemIndex(Mt)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(ct){this._wrap?this._setActiveInWrapMode(ct):this._setActiveInDefaultMode(ct)}_setActiveInWrapMode(ct){const Ze=this._getItemsArray();for(let Mt=1;Mt<=Ze.length;Mt++){const hn=(this._activeItemIndex+ct*Mt+Ze.length)%Ze.length;if(!this._skipPredicateFn(Ze[hn]))return void this.setActiveItem(hn)}}_setActiveInDefaultMode(ct){this._setActiveItemByIndex(this._activeItemIndex+ct,ct)}_setActiveItemByIndex(ct,Ze){const Mt=this._getItemsArray();if(Mt[ct]){for(;this._skipPredicateFn(Mt[ct]);)if(!Mt[ct+=Ze])return;this.setActiveItem(ct)}}_getItemsArray(){return(0,O.Hps)(this._items)?this._items():this._items instanceof O.rOR?this._items.toArray():this._items}_itemsChanged(ct){if(this._typeahead?.setItems(ct),this._activeItem){const Ze=ct.indexOf(this._activeItem);Ze>-1&&Ze!==this._activeItemIndex&&(this._activeItemIndex=Ze,this._typeahead?.setCurrentSelectedItemIndex(Ze))}}}class ve extends ce{setActiveItem(ct){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ct),this.activeItem&&this.activeItem.setActiveStyles()}}class me extends ce{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ct){return this._origin=ct,this}setActiveItem(ct){super.setActiveItem(ct),this.activeItem&&this.activeItem.focus(this._origin)}}let Ft=(()=>{class be{constructor(Ze){this._platform=Ze}isDisabled(Ze){return Ze.hasAttribute("disabled")}isVisible(Ze){return function Ae(be){return!!(be.offsetWidth||be.offsetHeight||"function"==typeof be.getClientRects&&be.getClientRects().length)}(Ze)&&"visible"===getComputedStyle(Ze).visibility}isTabbable(Ze){if(!this._platform.isBrowser)return!1;const Mt=function ft(be){try{return be.frameElement}catch{return null}}(function sn(be){return be.ownerDocument&&be.ownerDocument.defaultView||window}(Ze));if(Mt&&(-1===vn(Mt)||!this.isVisible(Mt)))return!1;let hn=Ze.nodeName.toLowerCase(),Kn=vn(Ze);return Ze.hasAttribute("contenteditable")?-1!==Kn:!("iframe"===hn||"object"===hn||this._platform.WEBKIT&&this._platform.IOS&&!function wn(be){let ct=be.nodeName.toLowerCase(),Ze="input"===ct&&be.type;return"text"===Ze||"password"===Ze||"select"===ct||"textarea"===ct}(Ze))&&("audio"===hn?!!Ze.hasAttribute("controls")&&-1!==Kn:"video"===hn?-1!==Kn&&(null!==Kn||this._platform.FIREFOX||Ze.hasAttribute("controls")):Ze.tabIndex>=0)}isFocusable(Ze,Mt){return function on(be){return!function vt(be){return function Pt(be){return"input"==be.nodeName.toLowerCase()}(be)&&"hidden"==be.type}(be)&&(function Ve(be){let ct=be.nodeName.toLowerCase();return"input"===ct||"select"===ct||"button"===ct||"textarea"===ct}(be)||function an(be){return function yt(be){return"a"==be.nodeName.toLowerCase()}(be)&&be.hasAttribute("href")}(be)||be.hasAttribute("contenteditable")||Jt(be))}(Ze)&&!this.isDisabled(Ze)&&(Mt?.ignoreVisibility||this.isVisible(Ze))}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(E.OD))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Jt(be){if(!be.hasAttribute("tabindex")||void 0===be.tabIndex)return!1;let ct=be.getAttribute("tabindex");return!(!ct||isNaN(parseInt(ct,10)))}function vn(be){if(!Jt(be))return null;const ct=parseInt(be.getAttribute("tabindex")||"",10);return isNaN(ct)?-1:ct}class de{get enabled(){return this._enabled}set enabled(ct){this._enabled=ct,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ct,this._startAnchor),this._toggleAnchorTabIndex(ct,this._endAnchor))}constructor(ct,Ze,Mt,hn,Kn=!1,Jn){this._element=ct,this._checker=Ze,this._ngZone=Mt,this._document=hn,this._injector=Jn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Kn||this.attachAnchors()}destroy(){const ct=this._startAnchor,Ze=this._endAnchor;ct&&(ct.removeEventListener("focus",this.startAnchorListener),ct.remove()),Ze&&(Ze.removeEventListener("focus",this.endAnchorListener),Ze.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ct){return new Promise(Ze=>{this._executeOnStable(()=>Ze(this.focusInitialElement(ct)))})}focusFirstTabbableElementWhenReady(ct){return new Promise(Ze=>{this._executeOnStable(()=>Ze(this.focusFirstTabbableElement(ct)))})}focusLastTabbableElementWhenReady(ct){return new Promise(Ze=>{this._executeOnStable(()=>Ze(this.focusLastTabbableElement(ct)))})}_getRegionBoundary(ct){const Ze=this._element.querySelectorAll(`[cdk-focus-region-${ct}], [cdkFocusRegion${ct}], [cdk-focus-${ct}]`);return"start"==ct?Ze.length?Ze[0]:this._getFirstTabbableElement(this._element):Ze.length?Ze[Ze.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ct){const Ze=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ze){if(!this._checker.isFocusable(Ze)){const Mt=this._getFirstTabbableElement(Ze);return Mt?.focus(ct),!!Mt}return Ze.focus(ct),!0}return this.focusFirstTabbableElement(ct)}focusFirstTabbableElement(ct){const Ze=this._getRegionBoundary("start");return Ze&&Ze.focus(ct),!!Ze}focusLastTabbableElement(ct){const Ze=this._getRegionBoundary("end");return Ze&&Ze.focus(ct),!!Ze}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ct){if(this._checker.isFocusable(ct)&&this._checker.isTabbable(ct))return ct;const Ze=ct.children;for(let Mt=0;Mt<Ze.length;Mt++){const hn=Ze[Mt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ze[Mt]):null;if(hn)return hn}return null}_getLastTabbableElement(ct){if(this._checker.isFocusable(ct)&&this._checker.isTabbable(ct))return ct;const Ze=ct.children;for(let Mt=Ze.length-1;Mt>=0;Mt--){const hn=Ze[Mt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ze[Mt]):null;if(hn)return hn}return null}_createAnchor(){const ct=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ct),ct.classList.add("cdk-visually-hidden"),ct.classList.add("cdk-focus-trap-anchor"),ct.setAttribute("aria-hidden","true"),ct}_toggleAnchorTabIndex(ct,Ze){ct?Ze.setAttribute("tabindex","0"):Ze.removeAttribute("tabindex")}toggleAnchors(ct){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ct,this._startAnchor),this._toggleAnchorTabIndex(ct,this._endAnchor))}_executeOnStable(ct){this._injector?(0,O.mal)(ct,{injector:this._injector}):setTimeout(ct)}}let tt=(()=>{class be{constructor(Ze,Mt,hn){this._checker=Ze,this._ngZone=Mt,this._injector=(0,O.WQX)(O.zZn),this._document=hn}create(Ze,Mt=!1){return new de(Ze,this._checker,this._ngZone,this._document,Mt,this._injector)}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(Ft),O.KVO(O.SKi),O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),_e=(()=>{class be{get enabled(){return this.focusTrap?.enabled||!1}set enabled(Ze){this.focusTrap&&(this.focusTrap.enabled=Ze)}constructor(Ze,Mt,hn){this._elementRef=Ze,this._focusTrapFactory=Mt,this._previouslyFocusedElement=null,(0,O.WQX)(E.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(Ze){const Mt=Ze.autoCapture;Mt&&!Mt.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.rXU(O.aKT),O.rXU(tt),O.rXU(h.qQ))};static#t=this.\u0275dir=O.FsC({type:be,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",O.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",O.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[O.GFd,O.OA$]})}return be})();function mn(be){return 0===be.buttons||0===be.detail}function cn(be){const ct=be.touches&&be.touches[0]||be.changedTouches&&be.changedTouches[0];return!(!ct||-1!==ct.identifier||null!=ct.radiusX&&1!==ct.radiusX||null!=ct.radiusY&&1!==ct.radiusY)}const wt=new O.nKC("cdk-input-modality-detector-options"),Ht={ignoreKeys:[N.A$,N.W3,N.eg,N.Ge,N.FX]},An=(0,E.BQ)({passive:!0,capture:!0});let Xn=(()=>{class be{get mostRecentModality(){return this._modality.value}constructor(Ze,Mt,hn,Kn){this._platform=Ze,this._mostRecentTarget=null,this._modality=new L.t(null),this._lastTouchMs=0,this._onKeydown=Jn=>{this._options?.ignoreKeys?.some(Bi=>Bi===Jn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.Fb)(Jn))},this._onMousedown=Jn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mn(Jn)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.Fb)(Jn))},this._onTouchstart=Jn=>{cn(Jn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.Fb)(Jn))},this._options={...Ht,...Kn},this.modalityDetected=this._modality.pipe((0,De.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ee.F)()),Ze.isBrowser&&Mt.runOutsideAngular(()=>{hn.addEventListener("keydown",this._onKeydown,An),hn.addEventListener("mousedown",this._onMousedown,An),hn.addEventListener("touchstart",this._onTouchstart,An)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,An),document.removeEventListener("mousedown",this._onMousedown,An),document.removeEventListener("touchstart",this._onTouchstart,An))}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(E.OD),O.KVO(O.SKi),O.KVO(h.qQ),O.KVO(wt,8))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const zi=new O.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Vn(){return null}}),ui=new O.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Pn=0,oi=(()=>{class be{constructor(Ze,Mt,hn,Kn){this._ngZone=Mt,this._defaultOptions=Kn,this._document=hn,this._liveElement=Ze||this._createLiveElement()}announce(Ze,...Mt){const hn=this._defaultOptions;let Kn,Jn;return 1===Mt.length&&"number"==typeof Mt[0]?Jn=Mt[0]:[Kn,Jn]=Mt,this.clear(),clearTimeout(this._previousTimeout),Kn||(Kn=hn&&hn.politeness?hn.politeness:"polite"),null==Jn&&hn&&(Jn=hn.duration),this._liveElement.setAttribute("aria-live",Kn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Bi=>this._currentResolve=Bi)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ze,"number"==typeof Jn&&(this._previousTimeout=setTimeout(()=>this.clear(),Jn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ze="cdk-live-announcer-element",Mt=this._document.getElementsByClassName(Ze),hn=this._document.createElement("div");for(let Kn=0;Kn<Mt.length;Kn++)Mt[Kn].remove();return hn.classList.add(Ze),hn.classList.add("cdk-visually-hidden"),hn.setAttribute("aria-atomic","true"),hn.setAttribute("aria-live","polite"),hn.id="cdk-live-announcer-"+Pn++,this._document.body.appendChild(hn),hn}_exposeAnnouncerToModals(Ze){const Mt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let hn=0;hn<Mt.length;hn++){const Kn=Mt[hn],Jn=Kn.getAttribute("aria-owns");Jn?-1===Jn.indexOf(Ze)&&Kn.setAttribute("aria-owns",Jn+" "+Ze):Kn.setAttribute("aria-owns",Ze)}}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(zi,8),O.KVO(O.SKi),O.KVO(h.qQ),O.KVO(ui,8))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var xt=function(be){return be[be.IMMEDIATE=0]="IMMEDIATE",be[be.EVENTUAL=1]="EVENTUAL",be}(xt||{});const qt=new O.nKC("cdk-focus-monitor-default-options"),Lt=(0,E.BQ)({passive:!0,capture:!0});let Kt=(()=>{class be{constructor(Ze,Mt,hn,Kn,Jn){this._ngZone=Ze,this._platform=Mt,this._inputModalityDetector=hn,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new A.B7,this._rootNodeFocusAndBlurListener=Bi=>{for(let Qi=(0,E.Fb)(Bi);Qi;Qi=Qi.parentElement)"focus"===Bi.type?this._onFocus(Bi,Qi):this._onBlur(Bi,Qi)},this._document=Kn,this._detectionMode=Jn?.detectionMode||xt.IMMEDIATE}monitor(Ze,Mt=!1){const hn=(0,Ye.i8)(Ze);if(!this._platform.isBrowser||1!==hn.nodeType)return(0,W.of)();const Kn=(0,E.KT)(hn)||this._getDocument(),Jn=this._elementInfo.get(hn);if(Jn)return Mt&&(Jn.checkChildren=!0),Jn.subject;const Bi={checkChildren:Mt,subject:new A.B7,rootNode:Kn};return this._elementInfo.set(hn,Bi),this._registerGlobalListeners(Bi),Bi.subject}stopMonitoring(Ze){const Mt=(0,Ye.i8)(Ze),hn=this._elementInfo.get(Mt);hn&&(hn.subject.complete(),this._setClasses(Mt),this._elementInfo.delete(Mt),this._removeGlobalListeners(hn))}focusVia(Ze,Mt,hn){const Kn=(0,Ye.i8)(Ze);Kn===this._getDocument().activeElement?this._getClosestElementsInfo(Kn).forEach(([Bi,di])=>this._originChanged(Bi,Mt,di)):(this._setOrigin(Mt),"function"==typeof Kn.focus&&Kn.focus(hn))}ngOnDestroy(){this._elementInfo.forEach((Ze,Mt)=>this.stopMonitoring(Mt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ze){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ze)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ze&&this._isLastInteractionFromInputLabel(Ze)?"mouse":"program"}_shouldBeAttributedToTouch(Ze){return this._detectionMode===xt.EVENTUAL||!!Ze?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ze,Mt){Ze.classList.toggle("cdk-focused",!!Mt),Ze.classList.toggle("cdk-touch-focused","touch"===Mt),Ze.classList.toggle("cdk-keyboard-focused","keyboard"===Mt),Ze.classList.toggle("cdk-mouse-focused","mouse"===Mt),Ze.classList.toggle("cdk-program-focused","program"===Mt)}_setOrigin(Ze,Mt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ze,this._originFromTouchInteraction="touch"===Ze&&Mt,this._detectionMode===xt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ze,Mt){const hn=this._elementInfo.get(Mt),Kn=(0,E.Fb)(Ze);!hn||!hn.checkChildren&&Mt!==Kn||this._originChanged(Mt,this._getFocusOrigin(Kn),hn)}_onBlur(Ze,Mt){const hn=this._elementInfo.get(Mt);!hn||hn.checkChildren&&Ze.relatedTarget instanceof Node&&Mt.contains(Ze.relatedTarget)||(this._setClasses(Mt),this._emitOrigin(hn,null))}_emitOrigin(Ze,Mt){Ze.subject.observers.length&&this._ngZone.run(()=>Ze.subject.next(Mt))}_registerGlobalListeners(Ze){if(!this._platform.isBrowser)return;const Mt=Ze.rootNode,hn=this._rootNodeFocusListenerCount.get(Mt)||0;hn||this._ngZone.runOutsideAngular(()=>{Mt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),Mt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lt)}),this._rootNodeFocusListenerCount.set(Mt,hn+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ke.Q)(this._stopInputModalityDetector)).subscribe(Kn=>{this._setOrigin(Kn,!0)}))}_removeGlobalListeners(Ze){const Mt=Ze.rootNode;if(this._rootNodeFocusListenerCount.has(Mt)){const hn=this._rootNodeFocusListenerCount.get(Mt);hn>1?this._rootNodeFocusListenerCount.set(Mt,hn-1):(Mt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),Mt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lt),this._rootNodeFocusListenerCount.delete(Mt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ze,Mt,hn){this._setClasses(Ze,Mt),this._emitOrigin(hn,Mt),this._lastFocusOrigin=Mt}_getClosestElementsInfo(Ze){const Mt=[];return this._elementInfo.forEach((hn,Kn)=>{(Kn===Ze||hn.checkChildren&&Kn.contains(Ze))&&Mt.push([Kn,hn])}),Mt}_isLastInteractionFromInputLabel(Ze){const{_mostRecentTarget:Mt,mostRecentModality:hn}=this._inputModalityDetector;if("mouse"!==hn||!Mt||Mt===Ze||"INPUT"!==Ze.nodeName&&"TEXTAREA"!==Ze.nodeName||Ze.disabled)return!1;const Kn=Ze.labels;if(Kn)for(let Jn=0;Jn<Kn.length;Jn++)if(Kn[Jn].contains(Mt))return!0;return!1}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(O.SKi),O.KVO(E.OD),O.KVO(Xn),O.KVO(h.qQ,8),O.KVO(qt,8))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Rn=(()=>{class be{constructor(Ze,Mt){this._elementRef=Ze,this._focusMonitor=Mt,this._focusOrigin=null,this.cdkFocusChange=new O.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Ze=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ze,1===Ze.nodeType&&Ze.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Mt=>{this._focusOrigin=Mt,this.cdkFocusChange.emit(Mt)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.rXU(O.aKT),O.rXU(Kt))};static#t=this.\u0275dir=O.FsC({type:be,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return be})();var Un=function(be){return be[be.NONE=0]="NONE",be[be.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",be[be.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",be}(Un||{});const dt="cdk-high-contrast-black-on-white",we="cdk-high-contrast-white-on-black",Ne="cdk-high-contrast-active";let U=(()=>{class be{constructor(Ze,Mt){this._platform=Ze,this._document=Mt,this._breakpointSubscription=(0,O.WQX)(Re.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Un.NONE;const Ze=this._document.createElement("div");Ze.style.backgroundColor="rgb(1,2,3)",Ze.style.position="absolute",this._document.body.appendChild(Ze);const Mt=this._document.defaultView||window,hn=Mt&&Mt.getComputedStyle?Mt.getComputedStyle(Ze):null,Kn=(hn&&hn.backgroundColor||"").replace(/ /g,"");switch(Ze.remove(),Kn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Un.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Un.BLACK_ON_WHITE}return Un.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ze=this._document.body.classList;Ze.remove(Ne,dt,we),this._hasCheckedHighContrastMode=!0;const Mt=this.getHighContrastMode();Mt===Un.BLACK_ON_WHITE?Ze.add(Ne,dt):Mt===Un.WHITE_ON_BLACK&&Ze.add(Ne,we)}}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(E.OD),O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Se=(()=>{class be{constructor(Ze){Ze._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Mt){return new(Mt||be)(O.KVO(U))};static#t=this.\u0275mod=O.$C({type:be});static#n=this.\u0275inj=O.G2t({imports:[Pe.w5]})}return be})()},3680:(dn,Je,_)=>{"use strict";_.d(Je,{dS:()=>W,jI:()=>N});var h=_(7404),O=_(316);const E=new h.nKC("cdk-dir-doc",{providedIn:"root",factory:function A(){return(0,h.WQX)(O.qQ)}}),S=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let W=(()=>{class z{constructor(q){this.value="ltr",this.change=new h.bkB,q&&(this.value=function C(z){const re=z?.toLowerCase()||"";return"auto"===re&&typeof navigator<"u"&&navigator?.language?S.test(navigator.language)?"rtl":"ltr":"rtl"===re?"rtl":"ltr"}((q.body?q.body.dir:null)||(q.documentElement?q.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(Z){return new(Z||z)(h.KVO(E,8))};static#t=this.\u0275prov=h.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})(),N=(()=>{class z{static#e=this.\u0275fac=function(Z){return new(Z||z)};static#t=this.\u0275mod=h.$C({type:z});static#n=this.\u0275inj=h.G2t({})}return z})()},2352:(dn,Je,_)=>{"use strict";_.d(Je,{B0:()=>A,FQ:()=>W});var h=_(316),O=_(7404);class E{constructor(N,z){this._document=z;const re=this._textarea=this._document.createElement("textarea"),q=re.style;q.position="fixed",q.top=q.opacity="0",q.left="-999em",re.setAttribute("aria-hidden","true"),re.value=N,re.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(re)}copy(){const N=this._textarea;let z=!1;try{if(N){const re=this._document.activeElement;N.select(),N.setSelectionRange(0,N.value.length),z=this._document.execCommand("copy"),re&&re.focus()}}catch{}return z}destroy(){const N=this._textarea;N&&(N.remove(),this._textarea=void 0)}}let A=(()=>{class L{constructor(z){this._document=z}copy(z){const re=this.beginCopy(z),q=re.copy();return re.destroy(),q}beginCopy(z){return new E(z,this._document)}static#e=this.\u0275fac=function(re){return new(re||L)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),W=(()=>{class L{static#e=this.\u0275fac=function(re){return new(re||L)};static#t=this.\u0275mod=O.$C({type:L});static#n=this.\u0275inj=O.G2t({})}return L})()},2814:(dn,Je,_)=>{"use strict";_.d(Je,{FG:()=>S,OE:()=>E,a1:()=>C,he:()=>O,i8:()=>W,o1:()=>A});var h=_(7404);function O(N){return null!=N&&"false"!=`${N}`}function E(N,z=0){return A(N)?Number(N):2===arguments.length?z:0}function A(N){return!isNaN(parseFloat(N))&&!isNaN(Number(N))}function S(N){return Array.isArray(N)?N:[N]}function C(N){return null==N?"":"string"==typeof N?N:`${N}px`}function W(N){return N instanceof h.aKT?N.nativeElement:N}},7989:(dn,Je,_)=>{"use strict";_.d(Je,{CB:()=>Z,DQ:()=>q,Q3:()=>N,hx:()=>L,qS:()=>C,sL:()=>z,xn:()=>re,y4:()=>W,zP:()=>De});var h=_(1810),O=_(6899),E=_(1536),A=_(3119),S=_(7404);class C{}function W(Ee){return Ee&&"function"==typeof Ee.connect&&!(Ee instanceof h.G)}class L extends C{constructor(ke){super(),this._data=ke}connect(){return(0,O.A)(this._data)?this._data:(0,E.of)(this._data)}disconnect(){}}var N=function(Ee){return Ee[Ee.REPLACED=0]="REPLACED",Ee[Ee.INSERTED=1]="INSERTED",Ee[Ee.MOVED=2]="MOVED",Ee[Ee.REMOVED=3]="REMOVED",Ee}(N||{});const z=new S.nKC("_ViewRepeater");class re{applyChanges(ke,Qe,Pe,Ye,Re){ke.forEachOperation((nt,Te,je)=>{let Xe,Q;if(null==nt.previousIndex){const rt=Pe(nt,Te,je);Xe=Qe.createEmbeddedView(rt.templateRef,rt.context,rt.index),Q=N.INSERTED}else null==je?(Qe.remove(Te),Q=N.REMOVED):(Xe=Qe.get(Te),Qe.move(Xe,je),Q=N.MOVED);Re&&Re({context:Xe?.context,operation:Q,record:nt})})}detach(){}}class q{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(ke,Qe,Pe,Ye,Re){ke.forEachOperation((nt,Te,je)=>{let Xe,Q;null==nt.previousIndex?(Xe=this._insertView(()=>Pe(nt,Te,je),je,Qe,Ye(nt)),Q=Xe?N.INSERTED:N.REPLACED):null==je?(this._detachAndCacheView(Te,Qe),Q=N.REMOVED):(Xe=this._moveView(Te,je,Qe,Ye(nt)),Q=N.MOVED),Re&&Re({context:Xe?.context,operation:Q,record:nt})})}detach(){for(const ke of this._viewCache)ke.destroy();this._viewCache=[]}_insertView(ke,Qe,Pe,Ye){const Re=this._insertViewFromCache(Qe,Pe);if(Re)return void(Re.context.$implicit=Ye);const nt=ke();return Pe.createEmbeddedView(nt.templateRef,nt.context,nt.index)}_detachAndCacheView(ke,Qe){const Pe=Qe.detach(ke);this._maybeCacheView(Pe,Qe)}_moveView(ke,Qe,Pe,Ye){const Re=Pe.get(ke);return Pe.move(Re,Qe),Re.context.$implicit=Ye,Re}_maybeCacheView(ke,Qe){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(ke);else{const Pe=Qe.indexOf(ke);-1===Pe?ke.destroy():Qe.remove(Pe)}}_insertViewFromCache(ke,Qe){const Pe=this._viewCache.pop();return Pe&&Qe.insert(Pe,ke),Pe||null}}class Z{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(ke=!1,Qe,Pe=!0,Ye){this._multiple=ke,this._emitChanges=Pe,this.compareWith=Ye,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new A.B7,Qe&&Qe.length&&(ke?Qe.forEach(Re=>this._markSelected(Re)):this._markSelected(Qe[0]),this._selectedToEmit.length=0)}select(...ke){this._verifyValueAssignment(ke),ke.forEach(Pe=>this._markSelected(Pe));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}deselect(...ke){this._verifyValueAssignment(ke),ke.forEach(Pe=>this._unmarkSelected(Pe));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}setSelection(...ke){this._verifyValueAssignment(ke);const Qe=this.selected,Pe=new Set(ke);ke.forEach(Re=>this._markSelected(Re)),Qe.filter(Re=>!Pe.has(this._getConcreteValue(Re,Pe))).forEach(Re=>this._unmarkSelected(Re));const Ye=this._hasQueuedChanges();return this._emitChangeEvent(),Ye}toggle(ke){return this.isSelected(ke)?this.deselect(ke):this.select(ke)}clear(ke=!0){this._unmarkAll();const Qe=this._hasQueuedChanges();return ke&&this._emitChangeEvent(),Qe}isSelected(ke){return this._selection.has(this._getConcreteValue(ke))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(ke){this._multiple&&this.selected&&this._selected.sort(ke)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)||(this._multiple||this._unmarkAll(),this.isSelected(ke)||this._selection.add(ke),this._emitChanges&&this._selectedToEmit.push(ke))}_unmarkSelected(ke){ke=this._getConcreteValue(ke),this.isSelected(ke)&&(this._selection.delete(ke),this._emitChanges&&this._deselectedToEmit.push(ke))}_unmarkAll(){this.isEmpty()||this._selection.forEach(ke=>this._unmarkSelected(ke))}_verifyValueAssignment(ke){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(ke,Qe){if(this.compareWith){Qe=Qe??this._selection;for(let Pe of Qe)if(this.compareWith(ke,Pe))return Pe;return ke}return ke}}let De=(()=>{class Ee{constructor(){this._listeners=[]}notify(Qe,Pe){for(let Ye of this._listeners)Ye(Qe,Pe)}listen(Qe){return this._listeners.push(Qe),()=>{this._listeners=this._listeners.filter(Pe=>Qe!==Pe)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(Pe){return new(Pe||Ee)};static#t=this.\u0275prov=S.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},3482:(dn,Je,_)=>{"use strict";_.d(Je,{Pe:()=>ee,Ph:()=>Q,lG:()=>je,sU:()=>Ee});var h=_(2139),O=_(1570),E=_(7699),A=_(9168),S=_(316),C=_(7404),W=_(4879),L=_(3119),N=_(6965),z=_(1536),re=_(3680),q=_(9273);function Z(rt,oe){}class ee{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ee=(()=>{class rt extends A.lb{constructor(ot,bt,Nt,St,$t,Ce,ce,ve){super(),this._elementRef=ot,this._focusTrapFactory=bt,this._config=St,this._interactivityChecker=$t,this._ngZone=Ce,this._overlayRef=ce,this._focusMonitor=ve,this._platform=(0,C.WQX)(E.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,C.WQX)(C.gRc),this._injector=(0,C.WQX)(C.zZn),this._isDestroyed=!1,this.attachDomPortal=me=>{this._portalOutlet.hasAttached();const Oe=this._portalOutlet.attachDomPortal(me);return this._contentAttached(),Oe},this._document=Nt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ot){this._ariaLabelledByQueue.push(ot),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ot){const bt=this._ariaLabelledByQueue.indexOf(ot);bt>-1&&(this._ariaLabelledByQueue.splice(bt,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ot){this._portalOutlet.hasAttached();const bt=this._portalOutlet.attachComponentPortal(ot);return this._contentAttached(),bt}attachTemplatePortal(ot){this._portalOutlet.hasAttached();const bt=this._portalOutlet.attachTemplatePortal(ot);return this._contentAttached(),bt}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ot,bt){this._interactivityChecker.isFocusable(ot)||(ot.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Nt=()=>{ot.removeEventListener("blur",Nt),ot.removeEventListener("mousedown",Nt),ot.removeAttribute("tabindex")};ot.addEventListener("blur",Nt),ot.addEventListener("mousedown",Nt)})),ot.focus(bt)}_focusByCssSelector(ot,bt){let Nt=this._elementRef.nativeElement.querySelector(ot);Nt&&this._forceFocus(Nt,bt)}_trapFocus(){this._isDestroyed||(0,C.mal)(()=>{const ot=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ot.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ot=this._config.restoreFocus;let bt=null;if("string"==typeof ot?bt=this._document.querySelector(ot):"boolean"==typeof ot?bt=ot?this._elementFocusedBeforeDialogWasOpened:null:ot&&(bt=ot),this._config.restoreFocus&&bt&&"function"==typeof bt.focus){const Nt=(0,E.vc)(),St=this._elementRef.nativeElement;(!Nt||Nt===this._document.body||Nt===St||St.contains(Nt))&&(this._focusMonitor?(this._focusMonitor.focusVia(bt,this._closeInteractionType),this._closeInteractionType=null):bt.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ot=this._elementRef.nativeElement,bt=(0,E.vc)();return ot===bt||ot.contains(bt)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(bt){return new(bt||rt)(C.rXU(C.aKT),C.rXU(h.GX),C.rXU(S.qQ,8),C.rXU(ee),C.rXU(h.Z7),C.rXU(C.SKi),C.rXU(O.yY),C.rXU(h.FN))};static#t=this.\u0275cmp=C.VBU({type:rt,selectors:[["cdk-dialog-container"]],viewQuery:function(bt,Nt){if(1&bt&&C.GBs(A.I3,7),2&bt){let St;C.mGM(St=C.lsd())&&(Nt._portalOutlet=St.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(bt,Nt){2&bt&&C.BMQ("id",Nt._config.id||null)("role",Nt._config.role)("aria-modal",Nt._config.ariaModal)("aria-labelledby",Nt._config.ariaLabel?null:Nt._ariaLabelledByQueue[0])("aria-label",Nt._config.ariaLabel)("aria-describedby",Nt._config.ariaDescribedBy||null)},standalone:!0,features:[C.Vt3,C.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(bt,Nt){1&bt&&C.DNE(0,Z,0,0,"ng-template",0)},dependencies:[A.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return rt})();class ke{constructor(oe,ot){this.overlayRef=oe,this.config=ot,this.closed=new L.B7,this.disableClose=ot.disableClose,this.backdropClick=oe.backdropClick(),this.keydownEvents=oe.keydownEvents(),this.outsidePointerEvents=oe.outsidePointerEvents(),this.id=ot.id,this.keydownEvents.subscribe(bt=>{bt.keyCode===W._f&&!this.disableClose&&!(0,W.rp)(bt)&&(bt.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=oe.detachments().subscribe(()=>{!1!==ot.closeOnOverlayDetachments&&this.close()})}close(oe,ot){if(this.containerInstance){const bt=this.closed;this.containerInstance._closeInteractionType=ot?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),bt.next(oe),bt.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(oe="",ot=""){return this.overlayRef.updateSize({width:oe,height:ot}),this}addPanelClass(oe){return this.overlayRef.addPanelClass(oe),this}removePanelClass(oe){return this.overlayRef.removePanelClass(oe),this}}const Qe=new C.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const rt=(0,C.WQX)(O.hJ);return()=>rt.scrollStrategies.block()}}),Pe=new C.nKC("DialogData"),Ye=new C.nKC("DefaultDialogConfig");let Te=0,je=(()=>{class rt{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ot,bt,Nt,St,$t,Ce){this._overlay=ot,this._injector=bt,this._defaultOptions=Nt,this._parentDialog=St,this._overlayContainer=$t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new L.B7,this._afterOpenedAtThisLevel=new L.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,N.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,q.Z)(void 0))),this._scrollStrategy=Ce}open(ot,bt){(bt={...this._defaultOptions||new ee,...bt}).id=bt.id||"cdk-dialog-"+Te++,bt.id&&this.getDialogById(bt.id);const St=this._getOverlayConfig(bt),$t=this._overlay.create(St),Ce=new ke($t,bt),ce=this._attachContainer($t,Ce,bt);return Ce.containerInstance=ce,this._attachDialogContent(ot,Ce,ce,bt),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ce),Ce.closed.subscribe(()=>this._removeOpenDialog(Ce,!0)),this.afterOpened.next(Ce),Ce}closeAll(){Xe(this.openDialogs,ot=>ot.close())}getDialogById(ot){return this.openDialogs.find(bt=>bt.id===ot)}ngOnDestroy(){Xe(this._openDialogsAtThisLevel,ot=>{!1===ot.config.closeOnDestroy&&this._removeOpenDialog(ot,!1)}),Xe(this._openDialogsAtThisLevel,ot=>ot.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ot){const bt=new O.rR({positionStrategy:ot.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ot.scrollStrategy||this._scrollStrategy(),panelClass:ot.panelClass,hasBackdrop:ot.hasBackdrop,direction:ot.direction,minWidth:ot.minWidth,minHeight:ot.minHeight,maxWidth:ot.maxWidth,maxHeight:ot.maxHeight,width:ot.width,height:ot.height,disposeOnNavigation:ot.closeOnNavigation});return ot.backdropClass&&(bt.backdropClass=ot.backdropClass),bt}_attachContainer(ot,bt,Nt){const St=Nt.injector||Nt.viewContainerRef?.injector,$t=[{provide:ee,useValue:Nt},{provide:ke,useValue:bt},{provide:O.yY,useValue:ot}];let Ce;Nt.container?"function"==typeof Nt.container?Ce=Nt.container:(Ce=Nt.container.type,$t.push(...Nt.container.providers(Nt))):Ce=Ee;const ce=new A.A8(Ce,Nt.viewContainerRef,C.zZn.create({parent:St||this._injector,providers:$t}),Nt.componentFactoryResolver);return ot.attach(ce).instance}_attachDialogContent(ot,bt,Nt,St){if(ot instanceof C.C4Q){const $t=this._createInjector(St,bt,Nt,void 0);let Ce={$implicit:St.data,dialogRef:bt};St.templateContext&&(Ce={...Ce,..."function"==typeof St.templateContext?St.templateContext():St.templateContext}),Nt.attachTemplatePortal(new A.VA(ot,null,Ce,$t))}else{const $t=this._createInjector(St,bt,Nt,this._injector),Ce=Nt.attachComponentPortal(new A.A8(ot,St.viewContainerRef,$t,St.componentFactoryResolver));bt.componentRef=Ce,bt.componentInstance=Ce.instance}}_createInjector(ot,bt,Nt,St){const $t=ot.injector||ot.viewContainerRef?.injector,Ce=[{provide:Pe,useValue:ot.data},{provide:ke,useValue:bt}];return ot.providers&&("function"==typeof ot.providers?Ce.push(...ot.providers(bt,ot,Nt)):Ce.push(...ot.providers)),ot.direction&&(!$t||!$t.get(re.dS,null,{optional:!0}))&&Ce.push({provide:re.dS,useValue:{value:ot.direction,change:(0,z.of)()}}),C.zZn.create({parent:$t||St,providers:Ce})}_removeOpenDialog(ot,bt){const Nt=this.openDialogs.indexOf(ot);Nt>-1&&(this.openDialogs.splice(Nt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((St,$t)=>{St?$t.setAttribute("aria-hidden",St):$t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),bt&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ot=this._overlayContainer.getContainerElement();if(ot.parentElement){const bt=ot.parentElement.children;for(let Nt=bt.length-1;Nt>-1;Nt--){const St=bt[Nt];St!==ot&&"SCRIPT"!==St.nodeName&&"STYLE"!==St.nodeName&&!St.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(St,St.getAttribute("aria-hidden")),St.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ot=this._parentDialog;return ot?ot._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(bt){return new(bt||rt)(C.KVO(O.hJ),C.KVO(C.zZn),C.KVO(Ye,8),C.KVO(rt,12),C.KVO(O.Sf),C.KVO(Qe))};static#t=this.\u0275prov=C.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();function Xe(rt,oe){let ot=rt.length;for(;ot--;)oe(rt[ot])}let Q=(()=>{class rt{static#e=this.\u0275fac=function(bt){return new(bt||rt)};static#t=this.\u0275mod=C.$C({type:rt});static#n=this.\u0275inj=C.G2t({providers:[je],imports:[O.z_,A.jc,h.Pd,A.jc]})}return rt})()},4879:(dn,Je,_)=>{"use strict";_.d(Je,{A:()=>At,A$:()=>L,FX:()=>C,Fm:()=>S,G_:()=>O,Ge:()=>ci,KE:()=>ds,Kp:()=>De,LE:()=>Pe,SJ:()=>je,UQ:()=>ke,W3:()=>W,Z:()=>fn,_f:()=>re,bn:()=>Ce,dB:()=>ee,eg:()=>ze,f2:()=>Xe,i7:()=>Qe,n6:()=>Ye,rp:()=>kt,t6:()=>q,w_:()=>Z,wn:()=>E,yZ:()=>Ee});const O=8,E=9,S=13,C=16,W=17,L=18,re=27,q=32,Z=33,ee=34,De=35,Ee=36,ke=37,Qe=38,Pe=39,Ye=40,je=46,Xe=48,Ce=57,At=65,fn=90,ci=91,ds=188,ze=224;function kt(Vt,...mi){return mi.length?mi.some(Zi=>Vt[Zi]):Vt.altKey||Vt.shiftKey||Vt.ctrlKey||Vt.metaKey}},7912:(dn,Je,_)=>{"use strict";_.d(Je,{QP:()=>Ye,Rp:()=>nt});var h=_(7404),O=_(2814),E=_(3119),A=_(2175),S=_(6933),C=_(434),W=_(3602),L=_(1314),N=_(9803),z=_(5443),re=_(9273),q=_(7464),Z=_(7699);const De=new Set;let Ee,ke=(()=>{class Te{constructor(Xe,Q){this._platform=Xe,this._nonce=Q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pe}matchMedia(Xe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Qe(Te,je){if(!De.has(Te))try{Ee||(Ee=document.createElement("style"),je&&Ee.setAttribute("nonce",je),Ee.setAttribute("type","text/css"),document.head.appendChild(Ee)),Ee.sheet&&(Ee.sheet.insertRule(`@media ${Te} {body{ }}`,0),De.add(Te))}catch(Xe){console.error(Xe)}}(Xe,this._nonce),this._matchMedia(Xe)}static#e=this.\u0275fac=function(Q){return new(Q||Te)(h.KVO(Z.OD),h.KVO(h.BIS,8))};static#t=this.\u0275prov=h.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function Pe(Te){return{matches:"all"===Te||""===Te,media:Te,addListener:()=>{},removeListener:()=>{}}}let Ye=(()=>{class Te{constructor(Xe,Q){this._mediaMatcher=Xe,this._zone=Q,this._queries=new Map,this._destroySubject=new E.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Xe){return Re((0,O.FG)(Xe)).some(rt=>this._registerQuery(rt).mql.matches)}observe(Xe){const rt=Re((0,O.FG)(Xe)).map(ot=>this._registerQuery(ot).observable);let oe=(0,A.zV)(rt);return oe=(0,S.x)(oe.pipe((0,W.s)(1)),oe.pipe((0,L.i)(1),(0,N.B)(0))),oe.pipe((0,z.T)(ot=>{const bt={matches:!1,breakpoints:{}};return ot.forEach(({matches:Nt,query:St})=>{bt.matches=bt.matches||Nt,bt.breakpoints[St]=Nt}),bt}))}_registerQuery(Xe){if(this._queries.has(Xe))return this._queries.get(Xe);const Q=this._mediaMatcher.matchMedia(Xe),oe={observable:new C.c(ot=>{const bt=Nt=>this._zone.run(()=>ot.next(Nt));return Q.addListener(bt),()=>{Q.removeListener(bt)}}).pipe((0,re.Z)(Q),(0,z.T)(({matches:ot})=>({query:Xe,matches:ot})),(0,q.Q)(this._destroySubject)),mql:Q};return this._queries.set(Xe,oe),oe}static#e=this.\u0275fac=function(Q){return new(Q||Te)(h.KVO(ke),h.KVO(h.SKi))};static#t=this.\u0275prov=h.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function Re(Te){return Te.map(je=>je.split(",")).reduce((je,Xe)=>je.concat(Xe)).map(je=>je.trim())}const nt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9539:(dn,Je,_)=>{"use strict";_.d(Je,{w5:()=>C});var h=_(7404);let E=(()=>{class W{create(N){return typeof MutationObserver>"u"?null:new MutationObserver(N)}static#e=this.\u0275fac=function(z){return new(z||W)};static#t=this.\u0275prov=h.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),C=(()=>{class W{static#e=this.\u0275fac=function(z){return new(z||W)};static#t=this.\u0275mod=h.$C({type:W});static#n=this.\u0275inj=h.G2t({providers:[E]})}return W})()},1570:(dn,Je,_)=>{"use strict";_.d(Je,{$Q:()=>Pt,Sf:()=>Ce,WB:()=>yt,hJ:()=>Ve,rR:()=>je,yY:()=>ce,z_:()=>wn});var h=_(4053),O=_(316),E=_(7404),A=_(2814),S=_(7699),C=_(8627),W=_(7464),L=_(370),N=_(3680),z=_(9168),re=_(3119),q=_(2672),Z=_(7405),ee=_(4879);const De=(0,S.CZ)();class Ee{constructor(de,tt){this._viewportRuler=de,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=tt}attach(){}enable(){if(this._canBeEnabled()){const de=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=de.style.left||"",this._previousHTMLStyles.top=de.style.top||"",de.style.left=(0,A.a1)(-this._previousScrollPosition.left),de.style.top=(0,A.a1)(-this._previousScrollPosition.top),de.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const de=this._document.documentElement,_e=de.style,ut=this._document.body.style,rn=_e.scrollBehavior||"",fn=ut.scrollBehavior||"";this._isEnabled=!1,_e.left=this._previousHTMLStyles.left,_e.top=this._previousHTMLStyles.top,de.classList.remove("cdk-global-scrollblock"),De&&(_e.scrollBehavior=ut.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),De&&(_e.scrollBehavior=rn,ut.scrollBehavior=fn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const tt=this._document.body,_e=this._viewportRuler.getViewportSize();return tt.scrollHeight>_e.height||tt.scrollWidth>_e.width}}class Qe{constructor(de,tt,_e,ut){this._scrollDispatcher=de,this._ngZone=tt,this._viewportRuler=_e,this._config=ut,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(de){this._overlayRef=de}enable(){if(this._scrollSubscription)return;const de=this._scrollDispatcher.scrolled(0).pipe((0,C.p)(tt=>!tt||!this._overlayRef.overlayElement.contains(tt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=de.subscribe(()=>{const tt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(tt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=de.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Pe{enable(){}disable(){}attach(){}}function Ye(sn,de){return de.some(tt=>sn.bottom<tt.top||sn.top>tt.bottom||sn.right<tt.left||sn.left>tt.right)}function Re(sn,de){return de.some(tt=>sn.top<tt.top||sn.bottom>tt.bottom||sn.left<tt.left||sn.right>tt.right)}class nt{constructor(de,tt,_e,ut){this._scrollDispatcher=de,this._viewportRuler=tt,this._ngZone=_e,this._config=ut,this._scrollSubscription=null}attach(de){this._overlayRef=de}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const tt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:_e,height:ut}=this._viewportRuler.getViewportSize();Ye(tt,[{width:_e,height:ut,bottom:ut,right:_e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Te=(()=>{class sn{constructor(tt,_e,ut,rn){this._scrollDispatcher=tt,this._viewportRuler=_e,this._ngZone=ut,this.noop=()=>new Pe,this.close=fn=>new Qe(this._scrollDispatcher,this._ngZone,this._viewportRuler,fn),this.block=()=>new Ee(this._viewportRuler,this._document),this.reposition=fn=>new nt(this._scrollDispatcher,this._viewportRuler,this._ngZone,fn),this._document=rn}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(h.R),E.KVO(h.Xj),E.KVO(E.SKi),E.KVO(O.qQ))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();class je{constructor(de){if(this.scrollStrategy=new Pe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,de){const tt=Object.keys(de);for(const _e of tt)void 0!==de[_e]&&(this[_e]=de[_e])}}}class rt{constructor(de,tt){this.connectionPair=de,this.scrollableViewProperties=tt}}let bt=(()=>{class sn{constructor(tt){this._attachedOverlays=[],this._document=tt}ngOnDestroy(){this.detach()}add(tt){this.remove(tt),this._attachedOverlays.push(tt)}remove(tt){const _e=this._attachedOverlays.indexOf(tt);_e>-1&&this._attachedOverlays.splice(_e,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(O.qQ))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})(),Nt=(()=>{class sn extends bt{constructor(tt,_e){super(tt),this._ngZone=_e,this._keydownListener=ut=>{const rn=this._attachedOverlays;for(let fn=rn.length-1;fn>-1;fn--)if(rn[fn]._keydownEvents.observers.length>0){const ci=rn[fn]._keydownEvents;this._ngZone?this._ngZone.run(()=>ci.next(ut)):ci.next(ut);break}}}add(tt){super.add(tt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(O.qQ),E.KVO(E.SKi,8))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})(),St=(()=>{class sn extends bt{constructor(tt,_e,ut){super(tt),this._platform=_e,this._ngZone=ut,this._cursorStyleIsSet=!1,this._pointerDownListener=rn=>{this._pointerDownEventTarget=(0,S.Fb)(rn)},this._clickListener=rn=>{const fn=(0,S.Fb)(rn),ci="click"===rn.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:fn;this._pointerDownEventTarget=null;const $i=this._attachedOverlays.slice();for(let mn=$i.length-1;mn>-1;mn--){const cn=$i[mn];if(cn._outsidePointerEvents.observers.length<1||!cn.hasAttached())continue;if($t(cn.overlayElement,fn)||$t(cn.overlayElement,ci))break;const wt=cn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>wt.next(rn)):wt.next(rn)}}}add(tt){if(super.add(tt),!this._isAttached){const _e=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(_e)):this._addEventListeners(_e),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=_e.style.cursor,_e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const tt=this._document.body;tt.removeEventListener("pointerdown",this._pointerDownListener,!0),tt.removeEventListener("click",this._clickListener,!0),tt.removeEventListener("auxclick",this._clickListener,!0),tt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(tt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(tt){tt.addEventListener("pointerdown",this._pointerDownListener,!0),tt.addEventListener("click",this._clickListener,!0),tt.addEventListener("auxclick",this._clickListener,!0),tt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(O.qQ),E.KVO(S.OD),E.KVO(E.SKi,8))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();function $t(sn,de){const tt=typeof ShadowRoot<"u"&&ShadowRoot;let _e=de;for(;_e;){if(_e===sn)return!0;_e=tt&&_e instanceof ShadowRoot?_e.host:_e.parentNode}return!1}let Ce=(()=>{class sn{constructor(tt,_e){this._platform=_e,this._document=tt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const tt="cdk-overlay-container";if(this._platform.isBrowser||(0,S.v8)()){const ut=this._document.querySelectorAll(`.${tt}[platform="server"], .${tt}[platform="test"]`);for(let rn=0;rn<ut.length;rn++)ut[rn].remove()}const _e=this._document.createElement("div");_e.classList.add(tt),(0,S.v8)()?_e.setAttribute("platform","test"):this._platform.isBrowser||_e.setAttribute("platform","server"),this._document.body.appendChild(_e),this._containerElement=_e}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(O.qQ),E.KVO(S.OD))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();class ce{constructor(de,tt,_e,ut,rn,fn,ci,$i,mn,cn=!1,wt){this._portalOutlet=de,this._host=tt,this._pane=_e,this._config=ut,this._ngZone=rn,this._keyboardDispatcher=fn,this._document=ci,this._location=$i,this._outsideClickDispatcher=mn,this._animationsDisabled=cn,this._injector=wt,this._backdropElement=null,this._backdropClick=new re.B7,this._attachments=new re.B7,this._detachments=new re.B7,this._locationChanges=q.y.EMPTY,this._backdropClickHandler=Ht=>this._backdropClick.next(Ht),this._backdropTransitionendHandler=Ht=>{this._disposeBackdrop(Ht.target)},this._keydownEvents=new re.B7,this._outsidePointerEvents=new re.B7,this._renders=new re.B7,ut.scrollStrategy&&(this._scrollStrategy=ut.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ut.positionStrategy,this._afterRenderRef=(0,E.O8t)(()=>(0,E.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(de){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const tt=this._portalOutlet.attach(de);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,E.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof tt?.onDestroy&&tt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),tt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const de=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),de}dispose(){const de=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,de&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(de){de!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=de,this.hasAttached()&&(de.attach(this),this.updatePosition()))}updateSize(de){this._config={...this._config,...de},this._updateElementSize()}setDirection(de){this._config={...this._config,direction:de},this._updateElementDirection()}addPanelClass(de){this._pane&&this._toggleClasses(this._pane,de,!0)}removePanelClass(de){this._pane&&this._toggleClasses(this._pane,de,!1)}getDirection(){const de=this._config.direction;return de?"string"==typeof de?de:de.value:"ltr"}updateScrollStrategy(de){de!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=de,this.hasAttached()&&(de.attach(this),de.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const de=this._pane.style;de.width=(0,A.a1)(this._config.width),de.height=(0,A.a1)(this._config.height),de.minWidth=(0,A.a1)(this._config.minWidth),de.minHeight=(0,A.a1)(this._config.minHeight),de.maxWidth=(0,A.a1)(this._config.maxWidth),de.maxHeight=(0,A.a1)(this._config.maxHeight)}_togglePointerEvents(de){this._pane.style.pointerEvents=de?"":"none"}_attachBackdrop(){const de="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(de)})}):this._backdropElement.classList.add(de)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const de=this._backdropElement;if(de){if(this._animationsDisabled)return void this._disposeBackdrop(de);de.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{de.addEventListener("transitionend",this._backdropTransitionendHandler)}),de.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(de)},500))}}_toggleClasses(de,tt,_e){const ut=(0,A.FG)(tt||[]).filter(rn=>!!rn);ut.length&&(_e?de.classList.add(...ut):de.classList.remove(...ut))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const de=this._renders.pipe((0,W.Q)((0,Z.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),de.unsubscribe())})})}_disposeScrollStrategy(){const de=this._scrollStrategy;de&&(de.disable(),de.detach&&de.detach())}_disposeBackdrop(de){de&&(de.removeEventListener("click",this._backdropClickHandler),de.removeEventListener("transitionend",this._backdropTransitionendHandler),de.remove(),this._backdropElement===de&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ve="cdk-overlay-connected-position-bounding-box",me=/([A-Za-z%]+)$/;class Oe{get positions(){return this._preferredPositions}constructor(de,tt,_e,ut,rn){this._viewportRuler=tt,this._document=_e,this._platform=ut,this._overlayContainer=rn,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re.B7,this._resizeSubscription=q.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(de)}attach(de){this._validatePositions(),de.hostElement.classList.add(ve),this._overlayRef=de,this._boundingBox=de.hostElement,this._pane=de.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const de=this._originRect,tt=this._overlayRect,_e=this._viewportRect,ut=this._containerRect,rn=[];let fn;for(let ci of this._preferredPositions){let $i=this._getOriginPoint(de,ut,ci),mn=this._getOverlayPoint($i,tt,ci),cn=this._getOverlayFit(mn,tt,_e,ci);if(cn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ci,$i);this._canFitWithFlexibleDimensions(cn,mn,_e)?rn.push({position:ci,origin:$i,overlayRect:tt,boundingBoxRect:this._calculateBoundingBoxRect($i,ci)}):(!fn||fn.overlayFit.visibleArea<cn.visibleArea)&&(fn={overlayFit:cn,overlayPoint:mn,originPoint:$i,position:ci,overlayRect:tt})}if(rn.length){let ci=null,$i=-1;for(const mn of rn){const cn=mn.boundingBoxRect.width*mn.boundingBoxRect.height*(mn.position.weight||1);cn>$i&&($i=cn,ci=mn)}return this._isPushed=!1,void this._applyPosition(ci.position,ci.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(fn.position,fn.originPoint);this._applyPosition(fn.position,fn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&At(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ve),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const de=this._lastPosition;if(de){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const tt=this._getOriginPoint(this._originRect,this._containerRect,de);this._applyPosition(de,tt)}else this.apply()}withScrollableContainers(de){return this._scrollables=de,this}withPositions(de){return this._preferredPositions=de,-1===de.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(de){return this._viewportMargin=de,this}withFlexibleDimensions(de=!0){return this._hasFlexibleDimensions=de,this}withGrowAfterOpen(de=!0){return this._growAfterOpen=de,this}withPush(de=!0){return this._canPush=de,this}withLockedPosition(de=!0){return this._positionLocked=de,this}setOrigin(de){return this._origin=de,this}withDefaultOffsetX(de){return this._offsetX=de,this}withDefaultOffsetY(de){return this._offsetY=de,this}withTransformOriginOn(de){return this._transformOriginSelector=de,this}_getOriginPoint(de,tt,_e){let ut,rn;if("center"==_e.originX)ut=de.left+de.width/2;else{const fn=this._isRtl()?de.right:de.left,ci=this._isRtl()?de.left:de.right;ut="start"==_e.originX?fn:ci}return tt.left<0&&(ut-=tt.left),rn="center"==_e.originY?de.top+de.height/2:"top"==_e.originY?de.top:de.bottom,tt.top<0&&(rn-=tt.top),{x:ut,y:rn}}_getOverlayPoint(de,tt,_e){let ut,rn;return ut="center"==_e.overlayX?-tt.width/2:"start"===_e.overlayX?this._isRtl()?-tt.width:0:this._isRtl()?0:-tt.width,rn="center"==_e.overlayY?-tt.height/2:"top"==_e.overlayY?0:-tt.height,{x:de.x+ut,y:de.y+rn}}_getOverlayFit(de,tt,_e,ut){const rn=En(tt);let{x:fn,y:ci}=de,$i=this._getOffset(ut,"x"),mn=this._getOffset(ut,"y");$i&&(fn+=$i),mn&&(ci+=mn);let Ht=0-ci,Bt=ci+rn.height-_e.height,An=this._subtractOverflows(rn.width,0-fn,fn+rn.width-_e.width),Xn=this._subtractOverflows(rn.height,Ht,Bt),zi=An*Xn;return{visibleArea:zi,isCompletelyWithinViewport:rn.width*rn.height===zi,fitsInViewportVertically:Xn===rn.height,fitsInViewportHorizontally:An==rn.width}}_canFitWithFlexibleDimensions(de,tt,_e){if(this._hasFlexibleDimensions){const ut=_e.bottom-tt.y,rn=_e.right-tt.x,fn=Et(this._overlayRef.getConfig().minHeight),ci=Et(this._overlayRef.getConfig().minWidth);return(de.fitsInViewportVertically||null!=fn&&fn<=ut)&&(de.fitsInViewportHorizontally||null!=ci&&ci<=rn)}return!1}_pushOverlayOnScreen(de,tt,_e){if(this._previousPushAmount&&this._positionLocked)return{x:de.x+this._previousPushAmount.x,y:de.y+this._previousPushAmount.y};const ut=En(tt),rn=this._viewportRect,fn=Math.max(de.x+ut.width-rn.width,0),ci=Math.max(de.y+ut.height-rn.height,0),$i=Math.max(rn.top-_e.top-de.y,0),mn=Math.max(rn.left-_e.left-de.x,0);let cn=0,wt=0;return cn=ut.width<=rn.width?mn||-fn:de.x<this._viewportMargin?rn.left-_e.left-de.x:0,wt=ut.height<=rn.height?$i||-ci:de.y<this._viewportMargin?rn.top-_e.top-de.y:0,this._previousPushAmount={x:cn,y:wt},{x:de.x+cn,y:de.y+wt}}_applyPosition(de,tt){if(this._setTransformOrigin(de),this._setOverlayElementStyles(tt,de),this._setBoundingBoxStyles(tt,de),de.panelClass&&this._addPanelClasses(de.panelClass),this._positionChanges.observers.length){const _e=this._getScrollVisibility();if(de!==this._lastPosition||!this._lastScrollVisibility||!function Me(sn,de){return sn===de||sn.isOriginClipped===de.isOriginClipped&&sn.isOriginOutsideView===de.isOriginOutsideView&&sn.isOverlayClipped===de.isOverlayClipped&&sn.isOverlayOutsideView===de.isOverlayOutsideView}(this._lastScrollVisibility,_e)){const ut=new rt(de,_e);this._positionChanges.next(ut)}this._lastScrollVisibility=_e}this._lastPosition=de,this._isInitialRender=!1}_setTransformOrigin(de){if(!this._transformOriginSelector)return;const tt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let _e,ut=de.overlayY;_e="center"===de.overlayX?"center":this._isRtl()?"start"===de.overlayX?"right":"left":"start"===de.overlayX?"left":"right";for(let rn=0;rn<tt.length;rn++)tt[rn].style.transformOrigin=`${_e} ${ut}`}_calculateBoundingBoxRect(de,tt){const _e=this._viewportRect,ut=this._isRtl();let rn,fn,ci,cn,wt,Ht;if("top"===tt.overlayY)fn=de.y,rn=_e.height-fn+this._viewportMargin;else if("bottom"===tt.overlayY)ci=_e.height-de.y+2*this._viewportMargin,rn=_e.height-ci+this._viewportMargin;else{const Bt=Math.min(_e.bottom-de.y+_e.top,de.y),An=this._lastBoundingBoxSize.height;rn=2*Bt,fn=de.y-Bt,rn>An&&!this._isInitialRender&&!this._growAfterOpen&&(fn=de.y-An/2)}if("end"===tt.overlayX&&!ut||"start"===tt.overlayX&&ut)Ht=_e.width-de.x+2*this._viewportMargin,cn=de.x-this._viewportMargin;else if("start"===tt.overlayX&&!ut||"end"===tt.overlayX&&ut)wt=de.x,cn=_e.right-de.x;else{const Bt=Math.min(_e.right-de.x+_e.left,de.x),An=this._lastBoundingBoxSize.width;cn=2*Bt,wt=de.x-Bt,cn>An&&!this._isInitialRender&&!this._growAfterOpen&&(wt=de.x-An/2)}return{top:fn,left:wt,bottom:ci,right:Ht,width:cn,height:rn}}_setBoundingBoxStyles(de,tt){const _e=this._calculateBoundingBoxRect(de,tt);!this._isInitialRender&&!this._growAfterOpen&&(_e.height=Math.min(_e.height,this._lastBoundingBoxSize.height),_e.width=Math.min(_e.width,this._lastBoundingBoxSize.width));const ut={};if(this._hasExactPosition())ut.top=ut.left="0",ut.bottom=ut.right=ut.maxHeight=ut.maxWidth="",ut.width=ut.height="100%";else{const rn=this._overlayRef.getConfig().maxHeight,fn=this._overlayRef.getConfig().maxWidth;ut.height=(0,A.a1)(_e.height),ut.top=(0,A.a1)(_e.top),ut.bottom=(0,A.a1)(_e.bottom),ut.width=(0,A.a1)(_e.width),ut.left=(0,A.a1)(_e.left),ut.right=(0,A.a1)(_e.right),ut.alignItems="center"===tt.overlayX?"center":"end"===tt.overlayX?"flex-end":"flex-start",ut.justifyContent="center"===tt.overlayY?"center":"bottom"===tt.overlayY?"flex-end":"flex-start",rn&&(ut.maxHeight=(0,A.a1)(rn)),fn&&(ut.maxWidth=(0,A.a1)(fn))}this._lastBoundingBoxSize=_e,At(this._boundingBox.style,ut)}_resetBoundingBoxStyles(){At(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){At(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(de,tt){const _e={},ut=this._hasExactPosition(),rn=this._hasFlexibleDimensions,fn=this._overlayRef.getConfig();if(ut){const cn=this._viewportRuler.getViewportScrollPosition();At(_e,this._getExactOverlayY(tt,de,cn)),At(_e,this._getExactOverlayX(tt,de,cn))}else _e.position="static";let ci="",$i=this._getOffset(tt,"x"),mn=this._getOffset(tt,"y");$i&&(ci+=`translateX(${$i}px) `),mn&&(ci+=`translateY(${mn}px)`),_e.transform=ci.trim(),fn.maxHeight&&(ut?_e.maxHeight=(0,A.a1)(fn.maxHeight):rn&&(_e.maxHeight="")),fn.maxWidth&&(ut?_e.maxWidth=(0,A.a1)(fn.maxWidth):rn&&(_e.maxWidth="")),At(this._pane.style,_e)}_getExactOverlayY(de,tt,_e){let ut={top:"",bottom:""},rn=this._getOverlayPoint(tt,this._overlayRect,de);return this._isPushed&&(rn=this._pushOverlayOnScreen(rn,this._overlayRect,_e)),"bottom"===de.overlayY?ut.bottom=this._document.documentElement.clientHeight-(rn.y+this._overlayRect.height)+"px":ut.top=(0,A.a1)(rn.y),ut}_getExactOverlayX(de,tt,_e){let fn,ut={left:"",right:""},rn=this._getOverlayPoint(tt,this._overlayRect,de);return this._isPushed&&(rn=this._pushOverlayOnScreen(rn,this._overlayRect,_e)),fn=this._isRtl()?"end"===de.overlayX?"left":"right":"end"===de.overlayX?"right":"left","right"===fn?ut.right=this._document.documentElement.clientWidth-(rn.x+this._overlayRect.width)+"px":ut.left=(0,A.a1)(rn.x),ut}_getScrollVisibility(){const de=this._getOriginRect(),tt=this._pane.getBoundingClientRect(),_e=this._scrollables.map(ut=>ut.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Re(de,_e),isOriginOutsideView:Ye(de,_e),isOverlayClipped:Re(tt,_e),isOverlayOutsideView:Ye(tt,_e)}}_subtractOverflows(de,...tt){return tt.reduce((_e,ut)=>_e-Math.max(ut,0),de)}_getNarrowedViewportRect(){const de=this._document.documentElement.clientWidth,tt=this._document.documentElement.clientHeight,_e=this._viewportRuler.getViewportScrollPosition();return{top:_e.top+this._viewportMargin,left:_e.left+this._viewportMargin,right:_e.left+de-this._viewportMargin,bottom:_e.top+tt-this._viewportMargin,width:de-2*this._viewportMargin,height:tt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(de,tt){return"x"===tt?null==de.offsetX?this._offsetX:de.offsetX:null==de.offsetY?this._offsetY:de.offsetY}_validatePositions(){}_addPanelClasses(de){this._pane&&(0,A.FG)(de).forEach(tt=>{""!==tt&&-1===this._appliedPanelClasses.indexOf(tt)&&(this._appliedPanelClasses.push(tt),this._pane.classList.add(tt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(de=>{this._pane.classList.remove(de)}),this._appliedPanelClasses=[])}_getOriginRect(){const de=this._origin;if(de instanceof E.aKT)return de.nativeElement.getBoundingClientRect();if(de instanceof Element)return de.getBoundingClientRect();const tt=de.width||0,_e=de.height||0;return{top:de.y,bottom:de.y+_e,left:de.x,right:de.x+tt,height:_e,width:tt}}}function At(sn,de){for(let tt in de)de.hasOwnProperty(tt)&&(sn[tt]=de[tt]);return sn}function Et(sn){if("number"!=typeof sn&&null!=sn){const[de,tt]=sn.split(me);return tt&&"px"!==tt?null:parseFloat(de)}return sn||null}function En(sn){return{top:Math.floor(sn.top),right:Math.floor(sn.right),bottom:Math.floor(sn.bottom),left:Math.floor(sn.left),width:Math.floor(sn.width),height:Math.floor(sn.height)}}const Ot="cdk-global-overlay-wrapper";class Ft{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(de){const tt=de.getConfig();this._overlayRef=de,this._width&&!tt.width&&de.updateSize({width:this._width}),this._height&&!tt.height&&de.updateSize({height:this._height}),de.hostElement.classList.add(Ot),this._isDisposed=!1}top(de=""){return this._bottomOffset="",this._topOffset=de,this._alignItems="flex-start",this}left(de=""){return this._xOffset=de,this._xPosition="left",this}bottom(de=""){return this._topOffset="",this._bottomOffset=de,this._alignItems="flex-end",this}right(de=""){return this._xOffset=de,this._xPosition="right",this}start(de=""){return this._xOffset=de,this._xPosition="start",this}end(de=""){return this._xOffset=de,this._xPosition="end",this}width(de=""){return this._overlayRef?this._overlayRef.updateSize({width:de}):this._width=de,this}height(de=""){return this._overlayRef?this._overlayRef.updateSize({height:de}):this._height=de,this}centerHorizontally(de=""){return this.left(de),this._xPosition="center",this}centerVertically(de=""){return this.top(de),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const de=this._overlayRef.overlayElement.style,tt=this._overlayRef.hostElement.style,_e=this._overlayRef.getConfig(),{width:ut,height:rn,maxWidth:fn,maxHeight:ci}=_e,$i=!("100%"!==ut&&"100vw"!==ut||fn&&"100%"!==fn&&"100vw"!==fn),mn=!("100%"!==rn&&"100vh"!==rn||ci&&"100%"!==ci&&"100vh"!==ci),cn=this._xPosition,wt=this._xOffset,Ht="rtl"===this._overlayRef.getConfig().direction;let Bt="",An="",Xn="";$i?Xn="flex-start":"center"===cn?(Xn="center",Ht?An=wt:Bt=wt):Ht?"left"===cn||"end"===cn?(Xn="flex-end",Bt=wt):("right"===cn||"start"===cn)&&(Xn="flex-start",An=wt):"left"===cn||"start"===cn?(Xn="flex-start",Bt=wt):("right"===cn||"end"===cn)&&(Xn="flex-end",An=wt),de.position=this._cssPosition,de.marginLeft=$i?"0":Bt,de.marginTop=mn?"0":this._topOffset,de.marginBottom=this._bottomOffset,de.marginRight=$i?"0":An,tt.justifyContent=Xn,tt.alignItems=mn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const de=this._overlayRef.overlayElement.style,tt=this._overlayRef.hostElement,_e=tt.style;tt.classList.remove(Ot),_e.justifyContent=_e.alignItems=de.marginTop=de.marginBottom=de.marginLeft=de.marginRight=de.position="",this._overlayRef=null,this._isDisposed=!0}}let ft=(()=>{class sn{constructor(tt,_e,ut,rn){this._viewportRuler=tt,this._document=_e,this._platform=ut,this._overlayContainer=rn}global(){return new Ft}flexibleConnectedTo(tt){return new Oe(tt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(h.Xj),E.KVO(O.qQ),E.KVO(S.OD),E.KVO(Ce))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})(),Ae=0,Ve=(()=>{class sn{constructor(tt,_e,ut,rn,fn,ci,$i,mn,cn,wt,Ht,Bt){this.scrollStrategies=tt,this._overlayContainer=_e,this._componentFactoryResolver=ut,this._positionBuilder=rn,this._keyboardDispatcher=fn,this._injector=ci,this._ngZone=$i,this._document=mn,this._directionality=cn,this._location=wt,this._outsideClickDispatcher=Ht,this._animationsModuleType=Bt}create(tt){const _e=this._createHostElement(),ut=this._createPaneElement(_e),rn=this._createPortalOutlet(ut),fn=new je(tt);return fn.direction=fn.direction||this._directionality.value,new ce(rn,_e,ut,fn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(E.uvJ))}position(){return this._positionBuilder}_createPaneElement(tt){const _e=this._document.createElement("div");return _e.id="cdk-overlay-"+Ae++,_e.classList.add("cdk-overlay-pane"),tt.appendChild(_e),_e}_createHostElement(){const tt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(tt),tt}_createPortalOutlet(tt){return this._appRef||(this._appRef=this._injector.get(E.o8S)),new z.aI(tt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.KVO(Te),E.KVO(Ce),E.KVO(E.OM3),E.KVO(ft),E.KVO(Nt),E.KVO(E.zZn),E.KVO(E.SKi),E.KVO(O.qQ),E.KVO(N.dS),E.KVO(O.aZ),E.KVO(St),E.KVO(E.bc$,8))};static#t=this.\u0275prov=E.jDH({token:sn,factory:sn.\u0275fac,providedIn:"root"})}return sn})();const vt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],an=new E.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const sn=(0,E.WQX)(Ve);return()=>sn.scrollStrategies.reposition()}});let Pt=(()=>{class sn{constructor(tt){this.elementRef=tt}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.rXU(E.aKT))};static#t=this.\u0275dir=E.FsC({type:sn,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return sn})(),yt=(()=>{class sn{get offsetX(){return this._offsetX}set offsetX(tt){this._offsetX=tt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(tt){this._offsetY=tt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(tt){this._disposeOnNavigation=tt}constructor(tt,_e,ut,rn,fn){this._overlay=tt,this._dir=fn,this._backdropSubscription=q.y.EMPTY,this._attachSubscription=q.y.EMPTY,this._detachSubscription=q.y.EMPTY,this._positionSubscription=q.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,E.WQX)(E.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new E.bkB,this.positionChange=new E.bkB,this.attach=new E.bkB,this.detach=new E.bkB,this.overlayKeydown=new E.bkB,this.overlayOutsideClick=new E.bkB,this._templatePortal=new z.VA(_e,ut),this._scrollStrategyFactory=rn,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(tt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),tt.origin&&this.open&&this._position.apply()),tt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vt);const tt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=tt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=tt.detachments().subscribe(()=>this.detach.emit()),tt.keydownEvents().subscribe(_e=>{this.overlayKeydown.next(_e),_e.keyCode===ee._f&&!this.disableClose&&!(0,ee.rp)(_e)&&(_e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(_e=>{const ut=this._getOriginElement(),rn=(0,S.Fb)(_e);(!ut||ut!==rn&&!ut.contains(rn))&&this.overlayOutsideClick.next(_e)})}_buildConfig(){const tt=this._position=this.positionStrategy||this._createPositionStrategy(),_e=new je({direction:this._dir,positionStrategy:tt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(_e.width=this.width),(this.height||0===this.height)&&(_e.height=this.height),(this.minWidth||0===this.minWidth)&&(_e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(_e.minHeight=this.minHeight),this.backdropClass&&(_e.backdropClass=this.backdropClass),this.panelClass&&(_e.panelClass=this.panelClass),_e}_updatePositionStrategy(tt){const _e=this.positions.map(ut=>({originX:ut.originX,originY:ut.originY,overlayX:ut.overlayX,overlayY:ut.overlayY,offsetX:ut.offsetX||this.offsetX,offsetY:ut.offsetY||this.offsetY,panelClass:ut.panelClass||void 0}));return tt.setOrigin(this._getOrigin()).withPositions(_e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const tt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(tt),tt}_getOrigin(){return this.origin instanceof Pt?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Pt?this.origin.elementRef.nativeElement:this.origin instanceof E.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(tt=>{this.backdropClick.emit(tt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,L.v)(()=>this.positionChange.observers.length>0)).subscribe(tt=>{this._ngZone.run(()=>this.positionChange.emit(tt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(_e){return new(_e||sn)(E.rXU(Ve),E.rXU(E.C4Q),E.rXU(E.c1b),E.rXU(an),E.rXU(N.dS,8))};static#t=this.\u0275dir=E.FsC({type:sn,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",E.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",E.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",E.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",E.L39],push:[2,"cdkConnectedOverlayPush","push",E.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",E.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.GFd,E.OA$]})}return sn})();const vn={provide:an,deps:[Ve],useFactory:function Jt(sn){return()=>sn.scrollStrategies.reposition()}};let wn=(()=>{class sn{static#e=this.\u0275fac=function(_e){return new(_e||sn)};static#t=this.\u0275mod=E.$C({type:sn});static#n=this.\u0275inj=E.G2t({providers:[Ve,vn],imports:[N.jI,z.jc,h.E9,h.E9]})}return sn})()},7699:(dn,Je,_)=>{"use strict";_.d(Je,{BD:()=>Ee,BQ:()=>re,CZ:()=>De,Fb:()=>Re,KT:()=>Pe,MU:()=>L,OD:()=>A,r5:()=>q,v8:()=>nt,vc:()=>Ye});var h=_(7404),O=_(316);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let C,A=(()=>{class Te{constructor(Xe){this._platformId=Xe,this.isBrowser=this._platformId?(0,O.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Q){return new(Q||Te)(h.KVO(h.Agw))};static#t=this.\u0275prov=h.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const W=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function L(){if(C)return C;if("object"!=typeof document||!document)return C=new Set(W),C;let Te=document.createElement("input");return C=new Set(W.filter(je=>(Te.setAttribute("type",je),Te.type===je))),C}let N;function re(Te){return function z(){if(null==N&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N=!0}))}finally{N=N||!1}return N}()?Te:!!Te.capture}var q=function(Te){return Te[Te.NORMAL=0]="NORMAL",Te[Te.NEGATED=1]="NEGATED",Te[Te.INVERTED=2]="INVERTED",Te}(q||{});let Z,ee,ke;function De(){if(null==ee){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ee=!1,ee;if("scrollBehavior"in document.documentElement.style)ee=!0;else{const Te=Element.prototype.scrollTo;ee=!!Te&&!/\{\s*\[native code\]\s*\}/.test(Te.toString())}}return ee}function Ee(){if("object"!=typeof document||!document)return q.NORMAL;if(null==Z){const Te=document.createElement("div"),je=Te.style;Te.dir="rtl",je.width="1px",je.overflow="auto",je.visibility="hidden",je.pointerEvents="none",je.position="absolute";const Xe=document.createElement("div"),Q=Xe.style;Q.width="2px",Q.height="1px",Te.appendChild(Xe),document.body.appendChild(Te),Z=q.NORMAL,0===Te.scrollLeft&&(Te.scrollLeft=1,Z=0===Te.scrollLeft?q.NEGATED:q.INVERTED),Te.remove()}return Z}function Pe(Te){if(function Qe(){if(null==ke){const Te=typeof document<"u"?document.head:null;ke=!(!Te||!Te.createShadowRoot&&!Te.attachShadow)}return ke}()){const je=Te.getRootNode?Te.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function Ye(){let Te=typeof document<"u"&&document?document.activeElement:null;for(;Te&&Te.shadowRoot;){const je=Te.shadowRoot.activeElement;if(je===Te)break;Te=je}return Te}function Re(Te){return Te.composedPath?Te.composedPath()[0]:Te.target}function nt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},9168:(dn,Je,_)=>{"use strict";_.d(Je,{A8:()=>z,I3:()=>Pe,Qq:()=>Qe,VA:()=>re,aI:()=>De,bV:()=>ke,jc:()=>Re,lb:()=>Z});var h=_(7404),O=_(316);class N{attach(je){return this._attachedHost=je,je.attach(this)}detach(){let je=this._attachedHost;null!=je&&(this._attachedHost=null,je.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(je){this._attachedHost=je}}class z extends N{constructor(je,Xe,Q,rt,oe){super(),this.component=je,this.viewContainerRef=Xe,this.injector=Q,this.componentFactoryResolver=rt,this.projectableNodes=oe}}class re extends N{constructor(je,Xe,Q,rt){super(),this.templateRef=je,this.viewContainerRef=Xe,this.context=Q,this.injector=rt}get origin(){return this.templateRef.elementRef}attach(je,Xe=this.context){return this.context=Xe,super.attach(je)}detach(){return this.context=void 0,super.detach()}}class q extends N{constructor(je){super(),this.element=je instanceof h.aKT?je.nativeElement:je}}class Z{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(je){return je instanceof z?(this._attachedPortal=je,this.attachComponentPortal(je)):je instanceof re?(this._attachedPortal=je,this.attachTemplatePortal(je)):this.attachDomPortal&&je instanceof q?(this._attachedPortal=je,this.attachDomPortal(je)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(je){this._disposeFn=je}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class De extends Z{constructor(je,Xe,Q,rt,oe){super(),this.outletElement=je,this._componentFactoryResolver=Xe,this._appRef=Q,this._defaultInjector=rt,this.attachDomPortal=ot=>{const bt=ot.element,Nt=this._document.createComment("dom-portal");bt.parentNode.insertBefore(Nt,bt),this.outletElement.appendChild(bt),this._attachedPortal=ot,super.setDisposeFn(()=>{Nt.parentNode&&Nt.parentNode.replaceChild(bt,Nt)})},this._document=oe}attachComponentPortal(je){const Q=(je.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(je.component);let rt;return je.viewContainerRef?(rt=je.viewContainerRef.createComponent(Q,je.viewContainerRef.length,je.injector||je.viewContainerRef.injector,je.projectableNodes||void 0),this.setDisposeFn(()=>rt.destroy())):(rt=Q.create(je.injector||this._defaultInjector||h.zZn.NULL),this._appRef.attachView(rt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(rt.hostView),rt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(rt)),this._attachedPortal=je,rt}attachTemplatePortal(je){let Xe=je.viewContainerRef,Q=Xe.createEmbeddedView(je.templateRef,je.context,{injector:je.injector});return Q.rootNodes.forEach(rt=>this.outletElement.appendChild(rt)),Q.detectChanges(),this.setDisposeFn(()=>{let rt=Xe.indexOf(Q);-1!==rt&&Xe.remove(rt)}),this._attachedPortal=je,Q}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(je){return je.hostView.rootNodes[0]}}let ke=(()=>{class Te extends re{constructor(Xe,Q){super(Xe,Q)}static#e=this.\u0275fac=function(Q){return new(Q||Te)(h.rXU(h.C4Q),h.rXU(h.c1b))};static#t=this.\u0275dir=h.FsC({type:Te,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[h.Vt3]})}return Te})(),Qe=(()=>{class Te extends ke{static#e=this.\u0275fac=(()=>{let Xe;return function(rt){return(Xe||(Xe=h.xGo(Te)))(rt||Te)}})();static#t=this.\u0275dir=h.FsC({type:Te,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[h.Jv_([{provide:ke,useExisting:Te}]),h.Vt3]})}return Te})(),Pe=(()=>{class Te extends Z{constructor(Xe,Q,rt){super(),this._componentFactoryResolver=Xe,this._viewContainerRef=Q,this._isInitialized=!1,this.attached=new h.bkB,this.attachDomPortal=oe=>{const ot=oe.element,bt=this._document.createComment("dom-portal");oe.setAttachedHost(this),ot.parentNode.insertBefore(bt,ot),this._getRootNode().appendChild(ot),this._attachedPortal=oe,super.setDisposeFn(()=>{bt.parentNode&&bt.parentNode.replaceChild(ot,bt)})},this._document=rt}get portal(){return this._attachedPortal}set portal(Xe){this.hasAttached()&&!Xe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Xe&&super.attach(Xe),this._attachedPortal=Xe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Xe){Xe.setAttachedHost(this);const Q=null!=Xe.viewContainerRef?Xe.viewContainerRef:this._viewContainerRef,oe=(Xe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Xe.component),ot=Q.createComponent(oe,Q.length,Xe.injector||Q.injector,Xe.projectableNodes||void 0);return Q!==this._viewContainerRef&&this._getRootNode().appendChild(ot.hostView.rootNodes[0]),super.setDisposeFn(()=>ot.destroy()),this._attachedPortal=Xe,this._attachedRef=ot,this.attached.emit(ot),ot}attachTemplatePortal(Xe){Xe.setAttachedHost(this);const Q=this._viewContainerRef.createEmbeddedView(Xe.templateRef,Xe.context,{injector:Xe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Xe,this._attachedRef=Q,this.attached.emit(Q),Q}_getRootNode(){const Xe=this._viewContainerRef.element.nativeElement;return Xe.nodeType===Xe.ELEMENT_NODE?Xe:Xe.parentNode}static#e=this.\u0275fac=function(Q){return new(Q||Te)(h.rXU(h.OM3),h.rXU(h.c1b),h.rXU(O.qQ))};static#t=this.\u0275dir=h.FsC({type:Te,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[h.Vt3]})}return Te})(),Re=(()=>{class Te{static#e=this.\u0275fac=function(Q){return new(Q||Te)};static#t=this.\u0275mod=h.$C({type:Te});static#n=this.\u0275inj=h.G2t({})}return Te})()},4053:(dn,Je,_)=>{"use strict";_.d(Je,{yg:()=>Me,uv:()=>Ot,Gj:()=>on,E$:()=>Jt,d6:()=>Pt,R:()=>nn,E9:()=>sn,Xj:()=>ft});var h=_(2814),O=_(7404),E=_(3119),A=_(1536),S=_(434),C=_(7557),W=_(6244),N=_(2059);const re=new class z extends N.q{flush(tt){this.active=!0,this.scheduled=void 0;const{actions:_e}=this;let ut,rn=-1,fn=_e.length;tt=tt||_e.shift();do{if(ut=tt.execute(tt.state,tt.delay))break}while(++rn<fn&&(tt=_e.shift()));if(this.active=!1,ut){for(;++rn<fn&&(tt=_e.shift());)tt.unsubscribe();throw ut}}}(class L extends W.R{constructor(tt,_e){super(tt,_e),this.scheduler=tt,this.work=_e}requestAsyncId(tt,_e,ut=0){return null!==ut&&ut>0?super.requestAsyncId(tt,_e,ut):(tt.actions.push(this),tt.scheduled||(tt.scheduled=requestAnimationFrame(()=>tt.flush(null))))}recycleAsyncId(tt,_e,ut=0){if(null!==ut&&ut>0||null===ut&&this.delay>0)return super.recycleAsyncId(tt,_e,ut);0===tt.actions.length&&(cancelAnimationFrame(_e),tt.scheduled=void 0)}});var Z=_(2800),ee=_(2672),De=_(6899),Ee=_(6109),ke=_(9573),Qe=_(3879);class Ye{constructor(tt){this.durationSelector=tt}call(tt,_e){return _e.subscribe(new Re(tt,this.durationSelector))}}class Re extends Qe.gn{constructor(tt,_e){super(tt),this.durationSelector=_e,this.hasValue=!1}_next(tt){if(this.value=tt,this.hasValue=!0,!this.throttled){let _e;try{const{durationSelector:rn}=this;_e=rn(tt)}catch(rn){return this.destination.error(rn)}const ut=(0,Qe.tS)(_e,new Qe.zA(this));!ut||ut.closed?this.clearThrottle():this.add(this.throttled=ut)}}clearThrottle(){const{value:tt,hasValue:_e,throttled:ut}=this;ut&&(this.remove(ut),this.throttled=void 0,ut.unsubscribe()),_e&&(this.value=void 0,this.hasValue=!1,this.destination.next(tt))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var nt=_(3340);function Te(de,tt=ke.b){return function Pe(de){return function(_e){return _e.lift(new Ye(de))}}(()=>(0,nt.O)(de,tt))}var je=_(8627),Xe=_(7464),Q=_(9273),rt=_(8097);class ot{call(tt,_e){return _e.subscribe(new bt(tt))}}class bt extends rt.v{constructor(tt){super(tt),this.hasPrev=!1}_next(tt){let _e;this.hasPrev?_e=[this.prev,tt]:this.hasPrev=!0,this.prev=tt,_e&&this.destination.next(_e)}}var Nt=_(1963),St=_(7841),$t=_(7699),Ce=_(316),ce=_(3680),ve=_(7989);const me=["contentWrapper"],Oe=["*"],At=new O.nKC("VIRTUAL_SCROLL_STRATEGY");class Et{constructor(tt,_e,ut){this._scrolledIndexChange=new E.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Ee.F)()),this._viewport=null,this._itemSize=tt,this._minBufferPx=_e,this._maxBufferPx=ut}attach(tt){this._viewport=tt,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(tt,_e,ut){this._itemSize=tt,this._minBufferPx=_e,this._maxBufferPx=ut,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(tt,_e){this._viewport&&this._viewport.scrollToOffset(tt*this._itemSize,_e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const tt=this._viewport.getRenderedRange(),_e={start:tt.start,end:tt.end},ut=this._viewport.getViewportSize(),rn=this._viewport.getDataLength();let fn=this._viewport.measureScrollOffset(),ci=this._itemSize>0?fn/this._itemSize:0;if(_e.end>rn){const mn=Math.ceil(ut/this._itemSize),cn=Math.max(0,Math.min(ci,rn-mn));ci!=cn&&(ci=cn,fn=cn*this._itemSize,_e.start=Math.floor(ci)),_e.end=Math.max(0,Math.min(rn,_e.start+mn))}const $i=fn-_e.start*this._itemSize;if($i<this._minBufferPx&&0!=_e.start){const mn=Math.ceil((this._maxBufferPx-$i)/this._itemSize);_e.start=Math.max(0,_e.start-mn),_e.end=Math.min(rn,Math.ceil(ci+(ut+this._minBufferPx)/this._itemSize))}else{const mn=_e.end*this._itemSize-(fn+ut);if(mn<this._minBufferPx&&_e.end!=rn){const cn=Math.ceil((this._maxBufferPx-mn)/this._itemSize);cn>0&&(_e.end=Math.min(rn,_e.end+cn),_e.start=Math.max(0,Math.floor(ci-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(_e),this._viewport.setRenderedContentOffset(this._itemSize*_e.start),this._scrolledIndexChange.next(Math.floor(ci))}}function En(de){return de._scrollStrategy}let Me=(()=>{class de{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Et(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(_e){this._itemSize=(0,h.OE)(_e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(_e){this._minBufferPx=(0,h.OE)(_e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(_e){this._maxBufferPx=(0,h.OE)(_e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(ut){return new(ut||de)};static#t=this.\u0275dir=O.FsC({type:de,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[O.Jv_([{provide:At,useFactory:En,deps:[(0,O.Rfq)(()=>de)]}]),O.OA$]})}return de})(),nn=(()=>{class de{constructor(_e,ut,rn){this._ngZone=_e,this._platform=ut,this._scrolled=new E.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=rn}register(_e){this.scrollContainers.has(_e)||this.scrollContainers.set(_e,_e.elementScrolled().subscribe(()=>this._scrolled.next(_e)))}deregister(_e){const ut=this.scrollContainers.get(_e);ut&&(ut.unsubscribe(),this.scrollContainers.delete(_e))}scrolled(_e=20){return this._platform.isBrowser?new S.c(ut=>{this._globalSubscription||this._addGlobalListener();const rn=_e>0?this._scrolled.pipe(Te(_e)).subscribe(ut):this._scrolled.subscribe(ut);return this._scrolledCount++,()=>{rn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,A.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((_e,ut)=>this.deregister(ut)),this._scrolled.complete()}ancestorScrolled(_e,ut){const rn=this.getAncestorScrollContainers(_e);return this.scrolled(ut).pipe((0,je.p)(fn=>!fn||rn.indexOf(fn)>-1))}getAncestorScrollContainers(_e){const ut=[];return this.scrollContainers.forEach((rn,fn)=>{this._scrollableContainsElement(fn,_e)&&ut.push(fn)}),ut}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(_e,ut){let rn=(0,h.i8)(ut),fn=_e.getElementRef().nativeElement;do{if(rn==fn)return!0}while(rn=rn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const _e=this._getWindow();return(0,C.R)(_e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.KVO(O.SKi),O.KVO($t.OD),O.KVO(Ce.qQ,8))};static#t=this.\u0275prov=O.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ot=(()=>{class de{constructor(_e,ut,rn,fn){this.elementRef=_e,this.scrollDispatcher=ut,this.ngZone=rn,this.dir=fn,this._destroyed=new E.B7,this._elementScrolled=new S.c(ci=>this.ngZone.runOutsideAngular(()=>(0,C.R)(this.elementRef.nativeElement,"scroll").pipe((0,Xe.Q)(this._destroyed)).subscribe(ci)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(_e){const ut=this.elementRef.nativeElement,rn=this.dir&&"rtl"==this.dir.value;null==_e.left&&(_e.left=rn?_e.end:_e.start),null==_e.right&&(_e.right=rn?_e.start:_e.end),null!=_e.bottom&&(_e.top=ut.scrollHeight-ut.clientHeight-_e.bottom),rn&&(0,$t.BD)()!=$t.r5.NORMAL?(null!=_e.left&&(_e.right=ut.scrollWidth-ut.clientWidth-_e.left),(0,$t.BD)()==$t.r5.INVERTED?_e.left=_e.right:(0,$t.BD)()==$t.r5.NEGATED&&(_e.left=_e.right?-_e.right:_e.right)):null!=_e.right&&(_e.left=ut.scrollWidth-ut.clientWidth-_e.right),this._applyScrollToOptions(_e)}_applyScrollToOptions(_e){const ut=this.elementRef.nativeElement;(0,$t.CZ)()?ut.scrollTo(_e):(null!=_e.top&&(ut.scrollTop=_e.top),null!=_e.left&&(ut.scrollLeft=_e.left))}measureScrollOffset(_e){const ut="left",fn=this.elementRef.nativeElement;if("top"==_e)return fn.scrollTop;if("bottom"==_e)return fn.scrollHeight-fn.clientHeight-fn.scrollTop;const ci=this.dir&&"rtl"==this.dir.value;return"start"==_e?_e=ci?"right":ut:"end"==_e&&(_e=ci?ut:"right"),ci&&(0,$t.BD)()==$t.r5.INVERTED?_e==ut?fn.scrollWidth-fn.clientWidth-fn.scrollLeft:fn.scrollLeft:ci&&(0,$t.BD)()==$t.r5.NEGATED?_e==ut?fn.scrollLeft+fn.scrollWidth-fn.clientWidth:-fn.scrollLeft:_e==ut?fn.scrollLeft:fn.scrollWidth-fn.clientWidth-fn.scrollLeft}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.rXU(O.aKT),O.rXU(nn),O.rXU(O.SKi),O.rXU(ce.dS,8))};static#t=this.\u0275dir=O.FsC({type:de,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return de})(),ft=(()=>{class de{constructor(_e,ut,rn){this._platform=_e,this._change=new E.B7,this._changeListener=fn=>{this._change.next(fn)},this._document=rn,ut.runOutsideAngular(()=>{if(_e.isBrowser){const fn=this._getWindow();fn.addEventListener("resize",this._changeListener),fn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const _e=this._getWindow();_e.removeEventListener("resize",this._changeListener),_e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const _e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),_e}getViewportRect(){const _e=this.getViewportScrollPosition(),{width:ut,height:rn}=this.getViewportSize();return{top:_e.top,left:_e.left,bottom:_e.top+rn,right:_e.left+ut,height:rn,width:ut}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const _e=this._document,ut=this._getWindow(),rn=_e.documentElement,fn=rn.getBoundingClientRect();return{top:-fn.top||_e.body.scrollTop||ut.scrollY||rn.scrollTop||0,left:-fn.left||_e.body.scrollLeft||ut.scrollX||rn.scrollLeft||0}}change(_e=20){return _e>0?this._change.pipe(Te(_e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const _e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:_e.innerWidth,height:_e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.KVO($t.OD),O.KVO(O.SKi),O.KVO(Ce.qQ,8))};static#t=this.\u0275prov=O.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const Ae=new O.nKC("VIRTUAL_SCROLLABLE");let Ve=(()=>{class de extends Ot{constructor(_e,ut,rn,fn){super(_e,ut,rn,fn)}measureViewportSize(_e){const ut=this.elementRef.nativeElement;return"horizontal"===_e?ut.clientWidth:ut.clientHeight}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.rXU(O.aKT),O.rXU(nn),O.rXU(O.SKi),O.rXU(ce.dS,8))};static#t=this.\u0275dir=O.FsC({type:de,features:[O.Vt3]})}return de})();const an=typeof requestAnimationFrame<"u"?re:Z.$;let Pt=(()=>{class de extends Ve{get orientation(){return this._orientation}set orientation(_e){this._orientation!==_e&&(this._orientation=_e,this._calculateSpacerSize())}constructor(_e,ut,rn,fn,ci,$i,mn,cn){super(_e,$i,rn,ci),this.elementRef=_e,this._changeDetectorRef=ut,this._scrollStrategy=fn,this.scrollable=cn,this._platform=(0,O.WQX)($t.OD),this._detachedSubject=new E.B7,this._renderedRangeSubject=new E.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new S.c(wt=>this._scrollStrategy.scrolledIndexChange.subscribe(Ht=>Promise.resolve().then(()=>this.ngZone.run(()=>wt.next(Ht))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ee.y.EMPTY,this._injector=(0,O.WQX)(O.zZn),this._isDestroyed=!1,this._viewportChanges=mn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Q.Z)(null),Te(0,an),(0,Xe.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(_e){this.ngZone.runOutsideAngular(()=>{this._forOf=_e,this._forOf.dataStream.pipe((0,Xe.Q)(this._detachedSubject)).subscribe(ut=>{const rn=ut.length;rn!==this._dataLength&&(this._dataLength=rn,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(_e){return this.getElementRef().nativeElement.getBoundingClientRect()[_e]}setTotalContentSize(_e){this._totalContentSize!==_e&&(this._totalContentSize=_e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(_e){(function vt(de,tt){return de.start==tt.start&&de.end==tt.end})(this._renderedRange,_e)||(this.appendOnly&&(_e={start:0,end:Math.max(this._renderedRange.end,_e.end)}),this._renderedRangeSubject.next(this._renderedRange=_e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(_e,ut="to-start"){_e=this.appendOnly&&"to-start"===ut?0:_e;const fn="horizontal"==this.orientation,ci=fn?"X":"Y";let mn=`translate${ci}(${Number((fn&&this.dir&&"rtl"==this.dir.value?-1:1)*_e)}px)`;this._renderedContentOffset=_e,"to-end"===ut&&(mn+=` translate${ci}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=mn&&(this._renderedContentTransform=mn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(_e,ut="auto"){const rn={behavior:ut};"horizontal"===this.orientation?rn.start=_e:rn.top=_e,this.scrollable.scrollTo(rn)}scrollToIndex(_e,ut="auto"){this._scrollStrategy.scrollToIndex(_e,ut)}measureScrollOffset(_e){let ut;return ut=this.scrollable==this?rn=>super.measureScrollOffset(rn):rn=>this.scrollable.measureScrollOffset(rn),Math.max(0,ut(_e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(_e){let ut;const ci="rtl"==this.dir?.value;ut="start"==_e?ci?"right":"left":"end"==_e?ci?"left":"right":_e||("horizontal"===this.orientation?"left":"top");const $i=this.scrollable.measureBoundingClientRectWithScrollOffset(ut);return this.elementRef.nativeElement.getBoundingClientRect()[ut]-$i}measureRenderedContentSize(){const _e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?_e.offsetWidth:_e.offsetHeight}measureRangeSize(_e){return this._forOf?this._forOf.measureRangeSize(_e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(_e){_e&&this._runAfterChangeDetection.push(_e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,O.mal)(()=>{this._isChangeDetectionPending=!1;const _e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const ut of _e)ut()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(O.SKi),O.rXU(At,8),O.rXU(ce.dS,8),O.rXU(nn),O.rXU(ft),O.rXU(Ae,8))};static#t=this.\u0275cmp=O.VBU({type:de,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(ut,rn){if(1&ut&&O.GBs(me,7),2&ut){let fn;O.mGM(fn=O.lsd())&&(rn._contentWrapper=fn.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(ut,rn){2&ut&&O.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===rn.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==rn.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",O.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[O.Jv_([{provide:Ot,useFactory:(_e,ut)=>_e||ut,deps:[[new O.Xx1,new O.y_5(Ae)],de]}]),O.GFd,O.Vt3,O.aNF],ngContentSelectors:Oe,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(ut,rn){1&ut&&(O.NAR(),O.j41(0,"div",1,0),O.SdG(2),O.k0s(),O.nrm(3,"div",2)),2&ut&&(O.R7$(3),O.xc7("width",rn._totalContentWidth)("height",rn._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return de})();function yt(de,tt,_e){if(!_e.getBoundingClientRect)return 0;const rn=_e.getBoundingClientRect();return"horizontal"===de?"start"===tt?rn.left:rn.right:"start"===tt?rn.top:rn.bottom}let Jt=(()=>{class de{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(_e){this._cdkVirtualForOf=_e,(0,ve.y4)(_e)?this._dataSourceChanges.next(_e):this._dataSourceChanges.next(new ve.hx((0,De.A)(_e)?_e:Array.from(_e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(_e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=_e?(ut,rn)=>_e(ut+(this._renderedRange?this._renderedRange.start:0),rn):void 0}set cdkVirtualForTemplate(_e){_e&&(this._needsUpdate=!0,this._template=_e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(_e){this._viewRepeater.viewCacheSize=(0,h.OE)(_e)}constructor(_e,ut,rn,fn,ci,$i){this._viewContainerRef=_e,this._template=ut,this._differs=rn,this._viewRepeater=fn,this._viewport=ci,this.viewChange=new E.B7,this._dataSourceChanges=new E.B7,this.dataStream=this._dataSourceChanges.pipe((0,Q.Z)(null),function oe(){return de=>de.lift(new ot)}(),(0,Nt.n)(([mn,cn])=>this._changeDataSource(mn,cn)),(0,St.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new E.B7,this.dataStream.subscribe(mn=>{this._data=mn,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,Xe.Q)(this._destroyed)).subscribe(mn=>{this._renderedRange=mn,this.viewChange.observers.length&&$i.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(_e,ut){if(_e.start>=_e.end)return 0;const rn=_e.start-this._renderedRange.start,fn=_e.end-_e.start;let ci,$i;for(let mn=0;mn<fn;mn++){const cn=this._viewContainerRef.get(mn+rn);if(cn&&cn.rootNodes.length){ci=$i=cn.rootNodes[0];break}}for(let mn=fn-1;mn>-1;mn--){const cn=this._viewContainerRef.get(mn+rn);if(cn&&cn.rootNodes.length){$i=cn.rootNodes[cn.rootNodes.length-1];break}}return ci&&$i?yt(ut,"end",$i)-yt(ut,"start",ci):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const _e=this._differ.diff(this._renderedItems);_e?this._applyChanges(_e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((_e,ut)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(_e,ut):ut)),this._needsUpdate=!0)}_changeDataSource(_e,ut){return _e&&_e.disconnect(this),this._needsUpdate=!0,ut?ut.connect(this):(0,A.of)()}_updateContext(){const _e=this._data.length;let ut=this._viewContainerRef.length;for(;ut--;){const rn=this._viewContainerRef.get(ut);rn.context.index=this._renderedRange.start+ut,rn.context.count=_e,this._updateComputedContextProperties(rn.context),rn.detectChanges()}}_applyChanges(_e){this._viewRepeater.applyChanges(_e,this._viewContainerRef,(fn,ci,$i)=>this._getEmbeddedViewArgs(fn,$i),fn=>fn.item),_e.forEachIdentityChange(fn=>{this._viewContainerRef.get(fn.currentIndex).context.$implicit=fn.item});const ut=this._data.length;let rn=this._viewContainerRef.length;for(;rn--;){const fn=this._viewContainerRef.get(rn);fn.context.index=this._renderedRange.start+rn,fn.context.count=ut,this._updateComputedContextProperties(fn.context)}}_updateComputedContextProperties(_e){_e.first=0===_e.index,_e.last=_e.index===_e.count-1,_e.even=_e.index%2==0,_e.odd=!_e.even}_getEmbeddedViewArgs(_e,ut){return{templateRef:this._template,context:{$implicit:_e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:ut}}static#e=this.\u0275fac=function(ut){return new(ut||de)(O.rXU(O.c1b),O.rXU(O.C4Q),O.rXU(O._q3),O.rXU(ve.sL),O.rXU(Pt,4),O.rXU(O.SKi))};static#t=this.\u0275dir=O.FsC({type:de,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[O.Jv_([{provide:ve.sL,useClass:ve.DQ}])]})}return de})(),on=(()=>{class de{static#e=this.\u0275fac=function(ut){return new(ut||de)};static#t=this.\u0275mod=O.$C({type:de});static#n=this.\u0275inj=O.G2t({})}return de})(),sn=(()=>{class de{static#e=this.\u0275fac=function(ut){return new(ut||de)};static#t=this.\u0275mod=O.$C({type:de});static#n=this.\u0275inj=O.G2t({imports:[ce.jI,on,ce.jI,on]})}return de})()},198:(dn,Je,_)=>{"use strict";_.d(Je,{AL:()=>je,EZ:()=>Pe,I8:()=>me,L_:()=>Te,N0:()=>ci,RT:()=>on,Rk:()=>tt,To:()=>bt,VP:()=>oe,Y$:()=>At,ZM:()=>Pt,c7:()=>rt,cO:()=>Re,df:()=>ce,hc:()=>Et,hi:()=>Ce,ki:()=>rn,lH:()=>wn,lQ:()=>Nt,n5:()=>nt,oh:()=>ve,pe:()=>vn,sY:()=>Q,u4:()=>En,wA:()=>Oe,yT:()=>Jt});var h=_(3680),O=_(7989),E=_(7699),A=_(4053),S=_(316),C=_(7404),W=_(3119),L=_(521),N=_(6899),z=_(1536),re=_(7464);const q=[[["caption"]],[["colgroup"],["col"]],"*"],Z=["caption","colgroup, col","*"];function ee(mn,cn){1&mn&&C.SdG(0,2)}function De(mn,cn){1&mn&&(C.j41(0,"thead",0),C.eu8(1,1),C.k0s(),C.j41(2,"tbody",0),C.eu8(3,2)(4,3),C.k0s(),C.j41(5,"tfoot",0),C.eu8(6,4),C.k0s())}function Ee(mn,cn){1&mn&&C.eu8(0,1)(1,2)(2,3)(3,4)}function ke(mn,cn){if(1&mn&&(C.j41(0,"th",3),C.EFF(1),C.k0s()),2&mn){const wt=C.XpG();C.xc7("text-align",wt.justify),C.R7$(),C.SpI(" ",wt.headerText," ")}}function Qe(mn,cn){if(1&mn&&(C.j41(0,"td",4),C.EFF(1),C.k0s()),2&mn){const wt=cn.$implicit,Ht=C.XpG();C.xc7("text-align",Ht.justify),C.R7$(),C.SpI(" ",Ht.dataAccessor(wt,Ht.name)," ")}}const Pe=new C.nKC("CDK_TABLE"),Ye=new C.nKC("text-column-options");let Re=(()=>{class mn{constructor(wt){this.template=wt}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkCellDef",""]],standalone:!0})}return mn})(),nt=(()=>{class mn{constructor(wt){this.template=wt}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return mn})(),Te=(()=>{class mn{constructor(wt){this.template=wt}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return mn})(),je=(()=>{class mn{get name(){return this._name}set name(wt){this._setNameInput(wt)}get sticky(){return this._sticky}set sticky(wt){wt!==this._sticky&&(this._sticky=wt,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(wt){wt!==this._stickyEnd&&(this._stickyEnd=wt,this._hasStickyChanged=!0)}constructor(wt){this._table=wt,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const wt=this._hasStickyChanged;return this.resetStickyChanged(),wt}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(wt){wt&&(this._name=wt,this.cssClassFriendlyName=wt.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(Pe,8))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkColumnDef",""]],contentQueries:function(Ht,Bt,An){if(1&Ht&&(C.wni(An,Re,5),C.wni(An,nt,5),C.wni(An,Te,5)),2&Ht){let Xn;C.mGM(Xn=C.lsd())&&(Bt.cell=Xn.first),C.mGM(Xn=C.lsd())&&(Bt.headerCell=Xn.first),C.mGM(Xn=C.lsd())&&(Bt.footerCell=Xn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",C.L39],stickyEnd:[2,"stickyEnd","stickyEnd",C.L39]},standalone:!0,features:[C.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:mn}]),C.GFd]})}return mn})();class Xe{constructor(cn,wt){wt.nativeElement.classList.add(...cn._columnCssClassName)}}let Q=(()=>{class mn extends Xe{constructor(wt,Ht){super(wt,Ht)}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(je),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[C.Vt3]})}return mn})(),rt=(()=>{class mn extends Xe{constructor(wt,Ht){super(wt,Ht);const Bt=wt._table?._getCellRole();Bt&&Ht.nativeElement.setAttribute("role",Bt)}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(je),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[C.Vt3]})}return mn})(),oe=(()=>{class mn extends Xe{constructor(wt,Ht){super(wt,Ht);const Bt=wt._table?._getCellRole();Bt&&Ht.nativeElement.setAttribute("role",Bt)}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(je),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[C.Vt3]})}return mn})();class ot{constructor(){this.tasks=[],this.endTasks=[]}}const bt=new C.nKC("_COALESCED_STYLE_SCHEDULER");let Nt=(()=>{class mn{constructor(wt){this._currentSchedule=null,this._ngZone=(0,C.WQX)(C.SKi)}schedule(wt){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(wt)}scheduleEnd(wt){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(wt)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ot,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const wt=this._currentSchedule;this._currentSchedule=new ot;for(const Ht of wt.tasks)Ht();for(const Ht of wt.endTasks)Ht()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.KVO(C.SKi))};static#t=this.\u0275prov=C.jDH({token:mn,factory:mn.\u0275fac})}return mn})(),$t=(()=>{class mn{constructor(wt,Ht){this.template=wt,this._differs=Ht}ngOnChanges(wt){if(!this._columnsDiffer){const Ht=wt.columns&&wt.columns.currentValue||[];this._columnsDiffer=this._differs.find(Ht).create(),this._columnsDiffer.diff(Ht)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(wt){return this instanceof Ce?wt.headerCell.template:this instanceof ce?wt.footerCell.template:wt.cell.template}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q),C.rXU(C._q3))};static#t=this.\u0275dir=C.FsC({type:mn,features:[C.OA$]})}return mn})(),Ce=(()=>{class mn extends $t{get sticky(){return this._sticky}set sticky(wt){wt!==this._sticky&&(this._sticky=wt,this._hasStickyChanged=!0)}constructor(wt,Ht,Bt){super(wt,Ht),this._table=Bt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(wt){super.ngOnChanges(wt)}hasStickyChanged(){const wt=this._hasStickyChanged;return this.resetStickyChanged(),wt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(Pe,8))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",C.L39]},standalone:!0,features:[C.GFd,C.Vt3,C.OA$]})}return mn})(),ce=(()=>{class mn extends $t{get sticky(){return this._sticky}set sticky(wt){wt!==this._sticky&&(this._sticky=wt,this._hasStickyChanged=!0)}constructor(wt,Ht,Bt){super(wt,Ht),this._table=Bt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(wt){super.ngOnChanges(wt)}hasStickyChanged(){const wt=this._hasStickyChanged;return this.resetStickyChanged(),wt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(Pe,8))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",C.L39]},standalone:!0,features:[C.GFd,C.Vt3,C.OA$]})}return mn})(),ve=(()=>{class mn extends $t{constructor(wt,Ht,Bt){super(wt,Ht),this._table=Bt}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q),C.rXU(C._q3),C.rXU(Pe,8))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[C.Vt3]})}return mn})(),me=(()=>{class mn{static#e=this.mostRecentCellOutlet=null;constructor(wt){this._viewContainer=wt,mn.mostRecentCellOutlet=this}ngOnDestroy(){mn.mostRecentCellOutlet===this&&(mn.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.c1b))};static#n=this.\u0275dir=C.FsC({type:mn,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return mn})(),Oe=(()=>{class mn{static#e=this.\u0275fac=function(Ht){return new(Ht||mn)};static#t=this.\u0275cmp=C.VBU({type:mn,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ht,Bt){1&Ht&&C.eu8(0,0)},dependencies:[me],encapsulation:2})}return mn})(),At=(()=>{class mn{static#e=this.\u0275fac=function(Ht){return new(Ht||mn)};static#t=this.\u0275cmp=C.VBU({type:mn,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ht,Bt){1&Ht&&C.eu8(0,0)},dependencies:[me],encapsulation:2})}return mn})(),Et=(()=>{class mn{static#e=this.\u0275fac=function(Ht){return new(Ht||mn)};static#t=this.\u0275cmp=C.VBU({type:mn,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[C.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(Ht,Bt){1&Ht&&C.eu8(0,0)},dependencies:[me],encapsulation:2})}return mn})(),En=(()=>{class mn{constructor(wt){this.templateRef=wt,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.C4Q))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return mn})();const Me=["top","bottom","left","right"];class kn{constructor(cn,wt,Ht,Bt,An=!0,Xn=!0,zi){this._isNativeHtmlTable=cn,this._stickCellCss=wt,this.direction=Ht,this._coalescedStyleScheduler=Bt,this._isBrowser=An,this._needsPositionStickyOnElement=Xn,this._positionListener=zi,this._cachedCellWidths=[],this._borderCellCss={top:`${wt}-border-elem-top`,bottom:`${wt}-border-elem-bottom`,left:`${wt}-border-elem-left`,right:`${wt}-border-elem-right`}}clearStickyPositioning(cn,wt){const Ht=[];for(const Bt of cn)if(Bt.nodeType===Bt.ELEMENT_NODE){Ht.push(Bt);for(let An=0;An<Bt.children.length;An++)Ht.push(Bt.children[An])}this._coalescedStyleScheduler.schedule(()=>{for(const Bt of Ht)this._removeStickyStyle(Bt,wt)})}updateStickyColumns(cn,wt,Ht,Bt=!0){cn.length&&this._isBrowser&&(wt.some(An=>An)||Ht.some(An=>An))?this._coalescedStyleScheduler.schedule(()=>{const An=cn[0],Xn=An.children.length,zi=this._getCellWidths(An,Bt),Vn=this._getStickyStartColumnPositions(zi,wt),ui=this._getStickyEndColumnPositions(zi,Ht),Pn=wt.lastIndexOf(!0),oi=Ht.indexOf(!0),jt="rtl"===this.direction,xt=jt?"right":"left",qt=jt?"left":"right";for(const Lt of cn)for(let Kt=0;Kt<Xn;Kt++){const Rn=Lt.children[Kt];wt[Kt]&&this._addStickyStyle(Rn,xt,Vn[Kt],Kt===Pn),Ht[Kt]&&this._addStickyStyle(Rn,qt,ui[Kt],Kt===oi)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Pn?[]:zi.slice(0,Pn+1).map((Lt,Kt)=>wt[Kt]?Lt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===oi?[]:zi.slice(oi).map((Lt,Kt)=>Ht[Kt+oi]?Lt:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(cn,wt,Ht){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Bt="bottom"===Ht?cn.slice().reverse():cn,An="bottom"===Ht?wt.slice().reverse():wt,Xn=[],zi=[],Vn=[];for(let Pn=0,oi=0;Pn<Bt.length;Pn++){if(!An[Pn])continue;Xn[Pn]=oi;const jt=Bt[Pn];Vn[Pn]=this._isNativeHtmlTable?Array.from(jt.children):[jt];const xt=jt.getBoundingClientRect().height;oi+=xt,zi[Pn]=xt}const ui=An.lastIndexOf(!0);for(let Pn=0;Pn<Bt.length;Pn++){if(!An[Pn])continue;const oi=Xn[Pn],jt=Pn===ui;for(const xt of Vn[Pn])this._addStickyStyle(xt,Ht,oi,jt)}"top"===Ht?this._positionListener?.stickyHeaderRowsUpdated({sizes:zi,offsets:Xn,elements:Vn}):this._positionListener?.stickyFooterRowsUpdated({sizes:zi,offsets:Xn,elements:Vn})})}updateStickyFooterContainer(cn,wt){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const Ht=cn.querySelector("tfoot");Ht&&(wt.some(Bt=>!Bt)?this._removeStickyStyle(Ht,["bottom"]):this._addStickyStyle(Ht,"bottom",0,!1))})}_removeStickyStyle(cn,wt){for(const Bt of wt)cn.style[Bt]="",cn.classList.remove(this._borderCellCss[Bt]);Me.some(Bt=>-1===wt.indexOf(Bt)&&cn.style[Bt])?cn.style.zIndex=this._getCalculatedZIndex(cn):(cn.style.zIndex="",this._needsPositionStickyOnElement&&(cn.style.position=""),cn.classList.remove(this._stickCellCss))}_addStickyStyle(cn,wt,Ht,Bt){cn.classList.add(this._stickCellCss),Bt&&cn.classList.add(this._borderCellCss[wt]),cn.style[wt]=`${Ht}px`,cn.style.zIndex=this._getCalculatedZIndex(cn),this._needsPositionStickyOnElement&&(cn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(cn){const wt={top:100,bottom:10,left:1,right:1};let Ht=0;for(const Bt of Me)cn.style[Bt]&&(Ht+=wt[Bt]);return Ht?`${Ht}`:""}_getCellWidths(cn,wt=!0){if(!wt&&this._cachedCellWidths.length)return this._cachedCellWidths;const Ht=[],Bt=cn.children;for(let An=0;An<Bt.length;An++)Ht.push(Bt[An].getBoundingClientRect().width);return this._cachedCellWidths=Ht,Ht}_getStickyStartColumnPositions(cn,wt){const Ht=[];let Bt=0;for(let An=0;An<cn.length;An++)wt[An]&&(Ht[An]=Bt,Bt+=cn[An]);return Ht}_getStickyEndColumnPositions(cn,wt){const Ht=[];let Bt=0;for(let An=cn.length;An>0;An--)wt[An]&&(Ht[An]=Bt,Bt+=cn[An]);return Ht}}const Pt=new C.nKC("CDK_SPL");let Jt=(()=>{class mn{constructor(wt,Ht){this.viewContainer=wt,this.elementRef=Ht;const Bt=(0,C.WQX)(Pe);Bt._rowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","rowOutlet",""]],standalone:!0})}return mn})(),vn=(()=>{class mn{constructor(wt,Ht){this.viewContainer=wt,this.elementRef=Ht;const Bt=(0,C.WQX)(Pe);Bt._headerRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","headerRowOutlet",""]],standalone:!0})}return mn})(),wn=(()=>{class mn{constructor(wt,Ht){this.viewContainer=wt,this.elementRef=Ht;const Bt=(0,C.WQX)(Pe);Bt._footerRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","footerRowOutlet",""]],standalone:!0})}return mn})(),on=(()=>{class mn{constructor(wt,Ht){this.viewContainer=wt,this.elementRef=Ht;const Bt=(0,C.WQX)(Pe);Bt._noDataRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C.c1b),C.rXU(C.aKT))};static#t=this.\u0275dir=C.FsC({type:mn,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return mn})(),tt=(()=>{class mn{_getCellRole(){if(void 0===this._cellRoleInternal){const wt=this._elementRef.nativeElement.getAttribute("role"),Ht="grid"===wt||"treegrid"===wt?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===Ht?null:Ht}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(wt){this._trackByFn=wt}get dataSource(){return this._dataSource}set dataSource(wt){this._dataSource!==wt&&this._switchDataSource(wt)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(wt){this._multiTemplateDataRows=wt,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(wt){this._fixedLayout=wt,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(wt,Ht,Bt,An,Xn,zi,Vn,ui,Pn,oi,jt,xt){this._differs=wt,this._changeDetectorRef=Ht,this._elementRef=Bt,this._dir=Xn,this._platform=Vn,this._viewRepeater=ui,this._coalescedStyleScheduler=Pn,this._viewportRuler=oi,this._stickyPositioningListener=jt,this._onDestroy=new W.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new C.bkB,this.viewChange=new L.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,C.WQX)(C.zZn),An||Bt.nativeElement.setAttribute("role","table"),this._document=zi,this._isServer=!Vn.isBrowser,this._isNativeHtmlTable="TABLE"===Bt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((wt,Ht)=>this.trackBy?this.trackBy(Ht.dataIndex,Ht.data):Ht),this._viewportRuler.change().pipe((0,re.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(wt=>{wt?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,O.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const wt=this._dataDiffer.diff(this._renderRows);if(!wt)return this._updateNoDataRow(),void this.contentChanged.next();const Ht=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(wt,Ht,(Bt,An,Xn)=>this._getEmbeddedViewArgs(Bt.item,Xn),Bt=>Bt.item.data,Bt=>{Bt.operation===O.Q3.INSERTED&&Bt.context&&this._renderCellTemplateForItem(Bt.record.item.rowDef,Bt.context)}),this._updateRowIndexContext(),wt.forEachIdentityChange(Bt=>{Ht.get(Bt.currentIndex).context.$implicit=Bt.item.data}),this._updateNoDataRow(),(0,C.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(wt){this._customColumnDefs.add(wt)}removeColumnDef(wt){this._customColumnDefs.delete(wt)}addRowDef(wt){this._customRowDefs.add(wt)}removeRowDef(wt){this._customRowDefs.delete(wt)}addHeaderRowDef(wt){this._customHeaderRowDefs.add(wt),this._headerRowDefChanged=!0}removeHeaderRowDef(wt){this._customHeaderRowDefs.delete(wt),this._headerRowDefChanged=!0}addFooterRowDef(wt){this._customFooterRowDefs.add(wt),this._footerRowDefChanged=!0}removeFooterRowDef(wt){this._customFooterRowDefs.delete(wt),this._footerRowDefChanged=!0}setNoDataRow(wt){this._customNoDataRow=wt}updateStickyHeaderRowStyles(){const wt=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Bt=ut(this._headerRowOutlet,"thead");Bt&&(Bt.style.display=wt.length?"":"none")}const Ht=this._headerRowDefs.map(Bt=>Bt.sticky);this._stickyStyler.clearStickyPositioning(wt,["top"]),this._stickyStyler.stickRows(wt,Ht,"top"),this._headerRowDefs.forEach(Bt=>Bt.resetStickyChanged())}updateStickyFooterRowStyles(){const wt=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Bt=ut(this._footerRowOutlet,"tfoot");Bt&&(Bt.style.display=wt.length?"":"none")}const Ht=this._footerRowDefs.map(Bt=>Bt.sticky);this._stickyStyler.clearStickyPositioning(wt,["bottom"]),this._stickyStyler.stickRows(wt,Ht,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Ht),this._footerRowDefs.forEach(Bt=>Bt.resetStickyChanged())}updateStickyColumnStyles(){const wt=this._getRenderedRows(this._headerRowOutlet),Ht=this._getRenderedRows(this._rowOutlet),Bt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...wt,...Ht,...Bt],["left","right"]),this._stickyColumnStylesNeedReset=!1),wt.forEach((An,Xn)=>{this._addStickyColumnStyles([An],this._headerRowDefs[Xn])}),this._rowDefs.forEach(An=>{const Xn=[];for(let zi=0;zi<Ht.length;zi++)this._renderRows[zi].rowDef===An&&Xn.push(Ht[zi]);this._addStickyColumnStyles(Xn,An)}),Bt.forEach((An,Xn)=>{this._addStickyColumnStyles([An],this._footerRowDefs[Xn])}),Array.from(this._columnDefsByName.values()).forEach(An=>An.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const Ht=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Ht,this._forceRecalculateCellWidths=Ht,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const wt=[],Ht=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Bt=0;Bt<this._data.length;Bt++){let An=this._data[Bt];const Xn=this._getRenderRowsForData(An,Bt,Ht.get(An));this._cachedRenderRowsMap.has(An)||this._cachedRenderRowsMap.set(An,new WeakMap);for(let zi=0;zi<Xn.length;zi++){let Vn=Xn[zi];const ui=this._cachedRenderRowsMap.get(Vn.data);ui.has(Vn.rowDef)?ui.get(Vn.rowDef).push(Vn):ui.set(Vn.rowDef,[Vn]),wt.push(Vn)}}return wt}_getRenderRowsForData(wt,Ht,Bt){return this._getRowDefs(wt,Ht).map(Xn=>{const zi=Bt&&Bt.has(Xn)?Bt.get(Xn):[];if(zi.length){const Vn=zi.shift();return Vn.dataIndex=Ht,Vn}return{data:wt,rowDef:Xn,dataIndex:Ht}})}_cacheColumnDefs(){this._columnDefsByName.clear(),_e(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Ht=>{this._columnDefsByName.has(Ht.name),this._columnDefsByName.set(Ht.name,Ht)})}_cacheRowDefs(){this._headerRowDefs=_e(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=_e(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=_e(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const wt=this._rowDefs.filter(Ht=>!Ht.when);this._defaultRowDef=wt[0]}_renderUpdatedColumns(){const wt=(Xn,zi)=>Xn||!!zi.getColumnsDiff(),Ht=this._rowDefs.reduce(wt,!1);Ht&&this._forceRenderDataRows();const Bt=this._headerRowDefs.reduce(wt,!1);Bt&&this._forceRenderHeaderRows();const An=this._footerRowDefs.reduce(wt,!1);return An&&this._forceRenderFooterRows(),Ht||Bt||An}_switchDataSource(wt){this._data=[],(0,O.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),wt||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=wt}_observeRenderChanges(){if(!this.dataSource)return;let wt;(0,O.y4)(this.dataSource)?wt=this.dataSource.connect(this):(0,N.A)(this.dataSource)?wt=this.dataSource:Array.isArray(this.dataSource)&&(wt=(0,z.of)(this.dataSource)),this._renderChangeSubscription=wt.pipe((0,re.Q)(this._onDestroy)).subscribe(Ht=>{this._data=Ht||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((wt,Ht)=>this._renderRow(this._headerRowOutlet,wt,Ht)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((wt,Ht)=>this._renderRow(this._footerRowOutlet,wt,Ht)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(wt,Ht){const Bt=Array.from(Ht.columns||[]).map(zi=>this._columnDefsByName.get(zi)),An=Bt.map(zi=>zi.sticky),Xn=Bt.map(zi=>zi.stickyEnd);this._stickyStyler.updateStickyColumns(wt,An,Xn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(wt){const Ht=[];for(let Bt=0;Bt<wt.viewContainer.length;Bt++){const An=wt.viewContainer.get(Bt);Ht.push(An.rootNodes[0])}return Ht}_getRowDefs(wt,Ht){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Bt=[];if(this.multiTemplateDataRows)Bt=this._rowDefs.filter(An=>!An.when||An.when(Ht,wt));else{let An=this._rowDefs.find(Xn=>Xn.when&&Xn.when(Ht,wt))||this._defaultRowDef;An&&Bt.push(An)}return Bt}_getEmbeddedViewArgs(wt,Ht){return{templateRef:wt.rowDef.template,context:{$implicit:wt.data},index:Ht}}_renderRow(wt,Ht,Bt,An={}){const Xn=wt.viewContainer.createEmbeddedView(Ht.template,An,Bt);return this._renderCellTemplateForItem(Ht,An),Xn}_renderCellTemplateForItem(wt,Ht){for(let Bt of this._getCellTemplates(wt))me.mostRecentCellOutlet&&me.mostRecentCellOutlet._viewContainer.createEmbeddedView(Bt,Ht);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const wt=this._rowOutlet.viewContainer;for(let Ht=0,Bt=wt.length;Ht<Bt;Ht++){const Xn=wt.get(Ht).context;Xn.count=Bt,Xn.first=0===Ht,Xn.last=Ht===Bt-1,Xn.even=Ht%2==0,Xn.odd=!Xn.even,this.multiTemplateDataRows?(Xn.dataIndex=this._renderRows[Ht].dataIndex,Xn.renderIndex=Ht):Xn.index=this._renderRows[Ht].dataIndex}}_getCellTemplates(wt){return wt&&wt.columns?Array.from(wt.columns,Ht=>{const Bt=this._columnDefsByName.get(Ht);return wt.extractCellTemplate(Bt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const wt=(Ht,Bt)=>Ht||Bt.hasStickyChanged();this._headerRowDefs.reduce(wt,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(wt,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(wt,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kn(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,z.of)()).pipe((0,re.Q)(this._onDestroy)).subscribe(Ht=>{this._stickyStyler.direction=Ht,this.updateStickyColumnStyles()})}_getOwnDefs(wt){return wt.filter(Ht=>!Ht._table||Ht._table===this)}_updateNoDataRow(){const wt=this._customNoDataRow||this._noDataRow;if(!wt)return;const Ht=0===this._rowOutlet.viewContainer.length;if(Ht===this._isShowingNoDataRow)return;const Bt=this._noDataRowOutlet.viewContainer;if(Ht){const An=Bt.createEmbeddedView(wt.templateRef),Xn=An.rootNodes[0];1===An.rootNodes.length&&Xn?.nodeType===this._document.ELEMENT_NODE&&(Xn.setAttribute("role","row"),Xn.classList.add(wt._contentClassName))}else Bt.clear();this._isShowingNoDataRow=Ht,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(C._q3),C.rXU(C.gRc),C.rXU(C.aKT),C.kS0("role"),C.rXU(h.dS,8),C.rXU(S.qQ),C.rXU(E.OD),C.rXU(O.sL),C.rXU(bt),C.rXU(A.Xj),C.rXU(Pt,12),C.rXU(C.SKi,8))};static#t=this.\u0275cmp=C.VBU({type:mn,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(Ht,Bt,An){if(1&Ht&&(C.wni(An,En,5),C.wni(An,je,5),C.wni(An,ve,5),C.wni(An,Ce,5),C.wni(An,ce,5)),2&Ht){let Xn;C.mGM(Xn=C.lsd())&&(Bt._noDataRow=Xn.first),C.mGM(Xn=C.lsd())&&(Bt._contentColumnDefs=Xn),C.mGM(Xn=C.lsd())&&(Bt._contentRowDefs=Xn),C.mGM(Xn=C.lsd())&&(Bt._contentHeaderRowDefs=Xn),C.mGM(Xn=C.lsd())&&(Bt._contentFooterRowDefs=Xn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(Ht,Bt){2&Ht&&C.AVh("cdk-table-fixed-layout",Bt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",C.L39],fixedLayout:[2,"fixedLayout","fixedLayout",C.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[C.Jv_([{provide:Pe,useExisting:mn},{provide:O.sL,useClass:O.xn},{provide:bt,useClass:Nt},{provide:Pt,useValue:null}]),C.GFd,C.aNF],ngContentSelectors:Z,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(Ht,Bt){1&Ht&&(C.NAR(q),C.SdG(0),C.SdG(1,1),C.DNE(2,ee,1,0)(3,De,7,0)(4,Ee,4,0)),2&Ht&&(C.R7$(2),C.vxM(Bt._isServer?2:-1),C.R7$(),C.vxM(Bt._isNativeHtmlTable?3:4))},dependencies:[vn,Jt,on,wn],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return mn})();function _e(mn,cn){return mn.concat(Array.from(cn))}function ut(mn,cn){const wt=cn.toUpperCase();let Ht=mn.viewContainer.element.nativeElement;for(;Ht;){const Bt=1===Ht.nodeType?Ht.nodeName:null;if(Bt===wt)return Ht;if("TABLE"===Bt)break;Ht=Ht.parentNode}return null}let rn=(()=>{class mn{get name(){return this._name}set name(wt){this._name=wt,this._syncColumnDefName()}constructor(wt,Ht){this._table=wt,this._options=Ht,this.justify="start",this._options=Ht||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((wt,Ht)=>wt[Ht])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const wt=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(wt):wt[0].toUpperCase()+wt.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(Ht){return new(Ht||mn)(C.rXU(tt,8),C.rXU(Ye,8))};static#t=this.\u0275cmp=C.VBU({type:mn,selectors:[["cdk-text-column"]],viewQuery:function(Ht,Bt){if(1&Ht&&(C.GBs(je,7),C.GBs(Re,7),C.GBs(nt,7)),2&Ht){let An;C.mGM(An=C.lsd())&&(Bt.columnDef=An.first),C.mGM(An=C.lsd())&&(Bt.cell=An.first),C.mGM(An=C.lsd())&&(Bt.headerCell=An.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[C.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(Ht,Bt){1&Ht&&(C.qex(0,0),C.DNE(1,ke,2,3,"th",1)(2,Qe,2,3,"td",2),C.bVm())},dependencies:[je,nt,Q,Re,oe],encapsulation:2})}return mn})(),ci=(()=>{class mn{static#e=this.\u0275fac=function(Ht){return new(Ht||mn)};static#t=this.\u0275mod=C.$C({type:mn});static#n=this.\u0275inj=C.G2t({imports:[A.E9]})}return mn})()},316:(dn,Je,_)=>{"use strict";_.d(Je,{AJ:()=>Wr,Jj:()=>$a,MD:()=>dr,N0:()=>sa,OI:()=>xi,P9:()=>fi,QT:()=>E,Sm:()=>Ee,Sq:()=>H,T3:()=>gs,UE:()=>Vs,VF:()=>S,Vy:()=>Ms,Xr:()=>Ar,YU:()=>tr,ZD:()=>A,_b:()=>lr,aZ:()=>Qe,bT:()=>kt,e1:()=>ns,fG:()=>Jr,fw:()=>ke,hb:()=>ee,hj:()=>N,oe:()=>Ue,qQ:()=>W,ux:()=>cr,vh:()=>xa});var h=_(7404);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let O=null;function E(){return O}function A(ge){O??=ge}class S{}const W=new h.nKC("");let L=(()=>{class ge{historyGo(Be){throw new Error("")}static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275prov=h.jDH({token:ge,factory:()=>(0,h.WQX)(z),providedIn:"platform"})}return ge})();const N=new h.nKC("");let z=(()=>{class ge extends L{constructor(){super(),this._doc=(0,h.WQX)(W),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(Be){const gt=E().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("popstate",Be,!1),()=>gt.removeEventListener("popstate",Be)}onHashChange(Be){const gt=E().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("hashchange",Be,!1),()=>gt.removeEventListener("hashchange",Be)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Be){this._location.pathname=Be}pushState(Be,gt,un){this._history.pushState(Be,gt,un)}replaceState(Be,gt,un){this._history.replaceState(Be,gt,un)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Be=0){this._history.go(Be)}getState(){return this._history.state}static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275prov=h.jDH({token:ge,factory:()=>new ge,providedIn:"platform"})}return ge})();function re(ge,Tt){if(0==ge.length)return Tt;if(0==Tt.length)return ge;let Be=0;return ge.endsWith("/")&&Be++,Tt.startsWith("/")&&Be++,2==Be?ge+Tt.substring(1):1==Be?ge+Tt:ge+"/"+Tt}function q(ge){const Tt=ge.match(/#|\?|$/),Be=Tt&&Tt.index||ge.length;return ge.slice(0,Be-("/"===ge[Be-1]?1:0))+ge.slice(Be)}function Z(ge){return ge&&"?"!==ge[0]?"?"+ge:ge}let ee=(()=>{class ge{historyGo(Be){throw new Error("")}static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275prov=h.jDH({token:ge,factory:()=>(0,h.WQX)(Ee),providedIn:"root"})}return ge})();const De=new h.nKC("");let Ee=(()=>{class ge extends ee{constructor(Be,gt){super(),this._platformLocation=Be,this._removeListenerFns=[],this._baseHref=gt??this._platformLocation.getBaseHrefFromDOM()??(0,h.WQX)(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Be){this._removeListenerFns.push(this._platformLocation.onPopState(Be),this._platformLocation.onHashChange(Be))}getBaseHref(){return this._baseHref}prepareExternalUrl(Be){return re(this._baseHref,Be)}path(Be=!1){const gt=this._platformLocation.pathname+Z(this._platformLocation.search),un=this._platformLocation.hash;return un&&Be?`${gt}${un}`:gt}pushState(Be,gt,un,li){const Si=this.prepareExternalUrl(un+Z(li));this._platformLocation.pushState(Be,gt,Si)}replaceState(Be,gt,un,li){const Si=this.prepareExternalUrl(un+Z(li));this._platformLocation.replaceState(Be,gt,Si)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Be=0){this._platformLocation.historyGo?.(Be)}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.KVO(L),h.KVO(De,8))};static#t=this.\u0275prov=h.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),ke=(()=>{class ge extends ee{constructor(Be,gt){super(),this._platformLocation=Be,this._baseHref="",this._removeListenerFns=[],null!=gt&&(this._baseHref=gt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Be){this._removeListenerFns.push(this._platformLocation.onPopState(Be),this._platformLocation.onHashChange(Be))}getBaseHref(){return this._baseHref}path(Be=!1){const gt=this._platformLocation.hash??"#";return gt.length>0?gt.substring(1):gt}prepareExternalUrl(Be){const gt=re(this._baseHref,Be);return gt.length>0?"#"+gt:gt}pushState(Be,gt,un,li){let Si=this.prepareExternalUrl(un+Z(li));0==Si.length&&(Si=this._platformLocation.pathname),this._platformLocation.pushState(Be,gt,Si)}replaceState(Be,gt,un,li){let Si=this.prepareExternalUrl(un+Z(li));0==Si.length&&(Si=this._platformLocation.pathname),this._platformLocation.replaceState(Be,gt,Si)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Be=0){this._platformLocation.historyGo?.(Be)}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.KVO(L),h.KVO(De,8))};static#t=this.\u0275prov=h.jDH({token:ge,factory:ge.\u0275fac})}return ge})(),Qe=(()=>{class ge{constructor(Be){this._subject=new h.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Be;const gt=this._locationStrategy.getBaseHref();this._basePath=function nt(ge){if(new RegExp("^(https?:)?//").test(ge)){const[,Be]=ge.split(/\/\/[^\/]+/);return Be}return ge}(q(Re(gt))),this._locationStrategy.onPopState(un=>{this._subject.emit({url:this.path(!0),pop:!0,state:un.state,type:un.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Be=!1){return this.normalize(this._locationStrategy.path(Be))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Be,gt=""){return this.path()==this.normalize(Be+Z(gt))}normalize(Be){return ge.stripTrailingSlash(function Ye(ge,Tt){if(!ge||!Tt.startsWith(ge))return Tt;const Be=Tt.substring(ge.length);return""===Be||["/",";","?","#"].includes(Be[0])?Be:Tt}(this._basePath,Re(Be)))}prepareExternalUrl(Be){return Be&&"/"!==Be[0]&&(Be="/"+Be),this._locationStrategy.prepareExternalUrl(Be)}go(Be,gt="",un=null){this._locationStrategy.pushState(un,"",Be,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Be+Z(gt)),un)}replaceState(Be,gt="",un=null){this._locationStrategy.replaceState(un,"",Be,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Be+Z(gt)),un)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Be=0){this._locationStrategy.historyGo?.(Be)}onUrlChange(Be){return this._urlChangeListeners.push(Be),this._urlChangeSubscription??=this.subscribe(gt=>{this._notifyUrlChangeListeners(gt.url,gt.state)}),()=>{const gt=this._urlChangeListeners.indexOf(Be);this._urlChangeListeners.splice(gt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Be="",gt){this._urlChangeListeners.forEach(un=>un(Be,gt))}subscribe(Be,gt,un){return this._subject.subscribe({next:Be,error:gt,complete:un})}static#e=this.normalizeQueryParams=Z;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=q;static#i=this.\u0275fac=function(gt){return new(gt||ge)(h.KVO(ee))};static#r=this.\u0275prov=h.jDH({token:ge,factory:()=>function Pe(){return new Qe((0,h.KVO)(ee))}(),providedIn:"root"})}return ge})();function Re(ge){return ge.replace(/\/index.html$/,"")}const Te={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=function(ge){return ge[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge}(je||{}),Q=function(ge){return ge[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge}(Q||{}),rt=function(ge){return ge[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge}(rt||{}),oe=function(ge){return ge[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge}(oe||{});const ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Oe(ge,Tt){return Pt((0,h.H5H)(ge)[h.KH2.DateFormat],Tt)}function At(ge,Tt){return Pt((0,h.H5H)(ge)[h.KH2.TimeFormat],Tt)}function Et(ge,Tt){return Pt((0,h.H5H)(ge)[h.KH2.DateTimeFormat],Tt)}function En(ge,Tt){const Be=(0,h.H5H)(ge),gt=Be[h.KH2.NumberSymbols][Tt];if(typeof gt>"u"){if(Tt===ot.CurrencyDecimal)return Be[h.KH2.NumberSymbols][ot.Decimal];if(Tt===ot.CurrencyGroup)return Be[h.KH2.NumberSymbols][ot.Group]}return gt}function Ae(ge){if(!ge[h.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ge[h.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pt(ge,Tt){for(let Be=Tt;Be>-1;Be--)if(typeof ge[Be]<"u")return ge[Be];throw new Error("Locale data API: locale data undefined")}function yt(ge){const[Tt,Be]=ge.split(":");return{hours:+Tt,minutes:+Be}}const on=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sn={},de=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tt=function(ge){return ge[ge.Short=0]="Short",ge[ge.ShortGMT=1]="ShortGMT",ge[ge.Long=2]="Long",ge[ge.Extended=3]="Extended",ge}(tt||{}),_e=function(ge){return ge[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge}(_e||{}),ut=function(ge){return ge[ge.DayPeriods=0]="DayPeriods",ge[ge.Days=1]="Days",ge[ge.Months=2]="Months",ge[ge.Eras=3]="Eras",ge}(ut||{});function rn(ge,Tt,Be,gt){let un=function Un(ge){if(we(ge))return ge;if("number"==typeof ge&&!isNaN(ge))return new Date(ge);if("string"==typeof ge){if(ge=ge.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ge)){const[un,li=1,Si=1]=ge.split("-").map(pr=>+pr);return fn(un,li-1,Si)}const Be=parseFloat(ge);if(!isNaN(ge-Be))return new Date(Be);let gt;if(gt=ge.match(on))return function dt(ge){const Tt=new Date(0);let Be=0,gt=0;const un=ge[8]?Tt.setUTCFullYear:Tt.setFullYear,li=ge[8]?Tt.setUTCHours:Tt.setHours;ge[9]&&(Be=Number(ge[9]+ge[10]),gt=Number(ge[9]+ge[11])),un.call(Tt,Number(ge[1]),Number(ge[2])-1,Number(ge[3]));const Si=Number(ge[4]||0)-Be,pr=Number(ge[5]||0)-gt,xo=Number(ge[6]||0),Fs=Math.floor(1e3*parseFloat("0."+(ge[7]||0)));return li.call(Tt,Si,pr,xo,Fs),Tt}(gt)}const Tt=new Date(ge);if(!we(Tt))throw new Error(`Unable to convert "${ge}" into a date`);return Tt}(ge);Tt=ci(Be,Tt)||Tt;let pr,Si=[];for(;Tt;){if(pr=de.exec(Tt),!pr){Si.push(Tt);break}{Si=Si.concat(pr.slice(1));const Ls=Si.pop();if(!Ls)break;Tt=Ls}}let xo=un.getTimezoneOffset();gt&&(xo=Lt(gt,xo),un=function Rn(ge,Tt,Be){const gt=Be?-1:1,un=ge.getTimezoneOffset();return function Kt(ge,Tt){return(ge=new Date(ge.getTime())).setMinutes(ge.getMinutes()+Tt),ge}(ge,gt*(Lt(Tt,un)-un))}(un,gt,!0));let Fs="";return Si.forEach(Ls=>{const ji=function qt(ge){if(xt[ge])return xt[ge];let Tt;switch(ge){case"G":case"GG":case"GGG":Tt=Bt(ut.Eras,rt.Abbreviated);break;case"GGGG":Tt=Bt(ut.Eras,rt.Wide);break;case"GGGGG":Tt=Bt(ut.Eras,rt.Narrow);break;case"y":Tt=wt(_e.FullYear,1,0,!1,!0);break;case"yy":Tt=wt(_e.FullYear,2,0,!0,!0);break;case"yyy":Tt=wt(_e.FullYear,3,0,!1,!0);break;case"yyyy":Tt=wt(_e.FullYear,4,0,!1,!0);break;case"Y":Tt=jt(1);break;case"YY":Tt=jt(2,!0);break;case"YYY":Tt=jt(3);break;case"YYYY":Tt=jt(4);break;case"M":case"L":Tt=wt(_e.Month,1,1);break;case"MM":case"LL":Tt=wt(_e.Month,2,1);break;case"MMM":Tt=Bt(ut.Months,rt.Abbreviated);break;case"MMMM":Tt=Bt(ut.Months,rt.Wide);break;case"MMMMM":Tt=Bt(ut.Months,rt.Narrow);break;case"LLL":Tt=Bt(ut.Months,rt.Abbreviated,Q.Standalone);break;case"LLLL":Tt=Bt(ut.Months,rt.Wide,Q.Standalone);break;case"LLLLL":Tt=Bt(ut.Months,rt.Narrow,Q.Standalone);break;case"w":Tt=oi(1);break;case"ww":Tt=oi(2);break;case"W":Tt=oi(1,!0);break;case"d":Tt=wt(_e.Date,1);break;case"dd":Tt=wt(_e.Date,2);break;case"c":case"cc":Tt=wt(_e.Day,1);break;case"ccc":Tt=Bt(ut.Days,rt.Abbreviated,Q.Standalone);break;case"cccc":Tt=Bt(ut.Days,rt.Wide,Q.Standalone);break;case"ccccc":Tt=Bt(ut.Days,rt.Narrow,Q.Standalone);break;case"cccccc":Tt=Bt(ut.Days,rt.Short,Q.Standalone);break;case"E":case"EE":case"EEE":Tt=Bt(ut.Days,rt.Abbreviated);break;case"EEEE":Tt=Bt(ut.Days,rt.Wide);break;case"EEEEE":Tt=Bt(ut.Days,rt.Narrow);break;case"EEEEEE":Tt=Bt(ut.Days,rt.Short);break;case"a":case"aa":case"aaa":Tt=Bt(ut.DayPeriods,rt.Abbreviated);break;case"aaaa":Tt=Bt(ut.DayPeriods,rt.Wide);break;case"aaaaa":Tt=Bt(ut.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":Tt=Bt(ut.DayPeriods,rt.Abbreviated,Q.Standalone,!0);break;case"bbbb":Tt=Bt(ut.DayPeriods,rt.Wide,Q.Standalone,!0);break;case"bbbbb":Tt=Bt(ut.DayPeriods,rt.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":Tt=Bt(ut.DayPeriods,rt.Abbreviated,Q.Format,!0);break;case"BBBB":Tt=Bt(ut.DayPeriods,rt.Wide,Q.Format,!0);break;case"BBBBB":Tt=Bt(ut.DayPeriods,rt.Narrow,Q.Format,!0);break;case"h":Tt=wt(_e.Hours,1,-12);break;case"hh":Tt=wt(_e.Hours,2,-12);break;case"H":Tt=wt(_e.Hours,1);break;case"HH":Tt=wt(_e.Hours,2);break;case"m":Tt=wt(_e.Minutes,1);break;case"mm":Tt=wt(_e.Minutes,2);break;case"s":Tt=wt(_e.Seconds,1);break;case"ss":Tt=wt(_e.Seconds,2);break;case"S":Tt=wt(_e.FractionalSeconds,1);break;case"SS":Tt=wt(_e.FractionalSeconds,2);break;case"SSS":Tt=wt(_e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Tt=Xn(tt.Short);break;case"ZZZZZ":Tt=Xn(tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Tt=Xn(tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Tt=Xn(tt.Long);break;default:return null}return xt[ge]=Tt,Tt}(Ls);Fs+=ji?ji(un,Be,xo):"''"===Ls?"'":Ls.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fs}function fn(ge,Tt,Be){const gt=new Date(0);return gt.setFullYear(ge,Tt,Be),gt.setHours(0,0,0),gt}function ci(ge,Tt){const Be=function Nt(ge){return(0,h.H5H)(ge)[h.KH2.LocaleId]}(ge);if(sn[Be]??={},sn[Be][Tt])return sn[Be][Tt];let gt="";switch(Tt){case"shortDate":gt=Oe(ge,oe.Short);break;case"mediumDate":gt=Oe(ge,oe.Medium);break;case"longDate":gt=Oe(ge,oe.Long);break;case"fullDate":gt=Oe(ge,oe.Full);break;case"shortTime":gt=At(ge,oe.Short);break;case"mediumTime":gt=At(ge,oe.Medium);break;case"longTime":gt=At(ge,oe.Long);break;case"fullTime":gt=At(ge,oe.Full);break;case"short":const un=ci(ge,"shortTime"),li=ci(ge,"shortDate");gt=$i(Et(ge,oe.Short),[un,li]);break;case"medium":const Si=ci(ge,"mediumTime"),pr=ci(ge,"mediumDate");gt=$i(Et(ge,oe.Medium),[Si,pr]);break;case"long":const xo=ci(ge,"longTime"),Fs=ci(ge,"longDate");gt=$i(Et(ge,oe.Long),[xo,Fs]);break;case"full":const Ls=ci(ge,"fullTime"),ji=ci(ge,"fullDate");gt=$i(Et(ge,oe.Full),[Ls,ji])}return gt&&(sn[Be][Tt]=gt),gt}function $i(ge,Tt){return Tt&&(ge=ge.replace(/\{([^}]+)}/g,function(Be,gt){return null!=Tt&&gt in Tt?Tt[gt]:Be})),ge}function mn(ge,Tt,Be="-",gt,un){let li="";(ge<0||un&&ge<=0)&&(un?ge=1-ge:(ge=-ge,li=Be));let Si=String(ge);for(;Si.length<Tt;)Si="0"+Si;return gt&&(Si=Si.slice(Si.length-Tt)),li+Si}function wt(ge,Tt,Be=0,gt=!1,un=!1){return function(li,Si){let pr=function Ht(ge,Tt){switch(ge){case _e.FullYear:return Tt.getFullYear();case _e.Month:return Tt.getMonth();case _e.Date:return Tt.getDate();case _e.Hours:return Tt.getHours();case _e.Minutes:return Tt.getMinutes();case _e.Seconds:return Tt.getSeconds();case _e.FractionalSeconds:return Tt.getMilliseconds();case _e.Day:return Tt.getDay();default:throw new Error(`Unknown DateType value "${ge}".`)}}(ge,li);if((Be>0||pr>-Be)&&(pr+=Be),ge===_e.Hours)0===pr&&-12===Be&&(pr=12);else if(ge===_e.FractionalSeconds)return function cn(ge,Tt){return mn(ge,3).substring(0,Tt)}(pr,Tt);const xo=En(Si,ot.MinusSign);return mn(pr,Tt,xo,gt,un)}}function Bt(ge,Tt,Be=Q.Format,gt=!1){return function(un,li){return function An(ge,Tt,Be,gt,un,li){switch(Be){case ut.Months:return function Ce(ge,Tt,Be){const gt=(0,h.H5H)(ge),li=Pt([gt[h.KH2.MonthsFormat],gt[h.KH2.MonthsStandalone]],Tt);return Pt(li,Be)}(Tt,un,gt)[ge.getMonth()];case ut.Days:return function $t(ge,Tt,Be){const gt=(0,h.H5H)(ge),li=Pt([gt[h.KH2.DaysFormat],gt[h.KH2.DaysStandalone]],Tt);return Pt(li,Be)}(Tt,un,gt)[ge.getDay()];case ut.DayPeriods:const Si=ge.getHours(),pr=ge.getMinutes();if(li){const Fs=function Ve(ge){const Tt=(0,h.H5H)(ge);return Ae(Tt),(Tt[h.KH2.ExtraData][2]||[]).map(gt=>"string"==typeof gt?yt(gt):[yt(gt[0]),yt(gt[1])])}(Tt),Ls=function vt(ge,Tt,Be){const gt=(0,h.H5H)(ge);Ae(gt);const li=Pt([gt[h.KH2.ExtraData][0],gt[h.KH2.ExtraData][1]],Tt)||[];return Pt(li,Be)||[]}(Tt,un,gt),ji=Fs.findIndex(Qo=>{if(Array.isArray(Qo)){const[mo,_a]=Qo,Uc=Si>=mo.hours&&pr>=mo.minutes,hc=Si<_a.hours||Si===_a.hours&&pr<_a.minutes;if(mo.hours<_a.hours){if(Uc&&hc)return!0}else if(Uc||hc)return!0}else if(Qo.hours===Si&&Qo.minutes===pr)return!0;return!1});if(-1!==ji)return Ls[ji]}return function St(ge,Tt,Be){const gt=(0,h.H5H)(ge),li=Pt([gt[h.KH2.DayPeriodsFormat],gt[h.KH2.DayPeriodsStandalone]],Tt);return Pt(li,Be)}(Tt,un,gt)[Si<12?0:1];case ut.Eras:return function ce(ge,Tt){return Pt((0,h.H5H)(ge)[h.KH2.Eras],Tt)}(Tt,gt)[ge.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Be}`)}}(un,li,ge,Tt,Be,gt)}}function Xn(ge){return function(Tt,Be,gt){const un=-1*gt,li=En(Be,ot.MinusSign),Si=un>0?Math.floor(un/60):Math.ceil(un/60);switch(ge){case tt.Short:return(un>=0?"+":"")+mn(Si,2,li)+mn(Math.abs(un%60),2,li);case tt.ShortGMT:return"GMT"+(un>=0?"+":"")+mn(Si,1,li);case tt.Long:return"GMT"+(un>=0?"+":"")+mn(Si,2,li)+":"+mn(Math.abs(un%60),2,li);case tt.Extended:return 0===gt?"Z":(un>=0?"+":"")+mn(Si,2,li)+":"+mn(Math.abs(un%60),2,li);default:throw new Error(`Unknown zone width "${ge}"`)}}}const zi=0,Vn=4;function Pn(ge){const Tt=ge.getDay(),Be=0===Tt?-3:Vn-Tt;return fn(ge.getFullYear(),ge.getMonth(),ge.getDate()+Be)}function oi(ge,Tt=!1){return function(Be,gt){let un;if(Tt){const li=new Date(Be.getFullYear(),Be.getMonth(),1).getDay()-1,Si=Be.getDate();un=1+Math.floor((Si+li)/7)}else{const li=Pn(Be),Si=function ui(ge){const Tt=fn(ge,zi,1).getDay();return fn(ge,0,1+(Tt<=Vn?Vn:Vn+7)-Tt)}(li.getFullYear()),pr=li.getTime()-Si.getTime();un=1+Math.round(pr/6048e5)}return mn(un,ge,En(gt,ot.MinusSign))}}function jt(ge,Tt=!1){return function(Be,gt){return mn(Pn(Be).getFullYear(),ge,En(gt,ot.MinusSign),Tt)}}const xt={};function Lt(ge,Tt){ge=ge.replace(/:/g,"");const Be=Date.parse("Jan 01, 1970 00:00:00 "+ge)/6e4;return isNaN(Be)?Tt:Be}function we(ge){return ge instanceof Date&&!isNaN(ge.valueOf())}const Ne=/^(\d+)?\.((\d+)(-(\d+))?)?$/,U=22,Se=".",be="0",ct=";",Ze=",",Mt="#";function Bi(ge,Tt,Be,gt,un){const Si=function br(ge,Tt="-"){const Be={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},gt=ge.split(ct),un=gt[0],li=gt[1],Si=-1!==un.indexOf(Se)?un.split(Se):[un.substring(0,un.lastIndexOf(be)+1),un.substring(un.lastIndexOf(be)+1)],pr=Si[0],xo=Si[1]||"";Be.posPre=pr.substring(0,pr.indexOf(Mt));for(let Ls=0;Ls<xo.length;Ls++){const ji=xo.charAt(Ls);ji===be?Be.minFrac=Be.maxFrac=Ls+1:ji===Mt?Be.maxFrac=Ls+1:Be.posSuf+=ji}const Fs=pr.split(Ze);if(Be.gSize=Fs[1]?Fs[1].length:0,Be.lgSize=Fs[2]||Fs[1]?(Fs[2]||Fs[1]).length:0,li){const Ls=un.length-Be.posPre.length-Be.posSuf.length,ji=li.indexOf(Mt);Be.negPre=li.substring(0,ji).replace(/'/g,""),Be.negSuf=li.slice(ji+Ls).replace(/'/g,"")}else Be.negPre=Tt+Be.posPre,Be.negSuf=Be.posSuf;return Be}(function Me(ge,Tt){return(0,h.H5H)(ge)[h.KH2.NumberFormats][Tt]}(Tt,je.Currency),En(Tt,ot.MinusSign));return Si.minFrac=function wn(ge){let Tt;const Be=Te[ge];return Be&&(Tt=Be[2]),"number"==typeof Tt?Tt:2}(gt),Si.maxFrac=Si.minFrac,function Jn(ge,Tt,Be,gt,un,li,Si=!1){let pr="",xo=!1;if(isFinite(ge)){let Fs=function Hi(ge){let gt,un,li,Si,pr,Tt=Math.abs(ge)+"",Be=0;for((un=Tt.indexOf(Se))>-1&&(Tt=Tt.replace(Se,"")),(li=Tt.search(/e/i))>0?(un<0&&(un=li),un+=+Tt.slice(li+1),Tt=Tt.substring(0,li)):un<0&&(un=Tt.length),li=0;Tt.charAt(li)===be;li++);if(li===(pr=Tt.length))gt=[0],un=1;else{for(pr--;Tt.charAt(pr)===be;)pr--;for(un-=li,gt=[],Si=0;li<=pr;li++,Si++)gt[Si]=Number(Tt.charAt(li))}return un>U&&(gt=gt.splice(0,U-1),Be=un-1,un=1),{digits:gt,exponent:Be,integerLen:un}}(ge);Si&&(Fs=function Tr(ge){if(0===ge.digits[0])return ge;const Tt=ge.digits.length-ge.integerLen;return ge.exponent?ge.exponent+=2:(0===Tt?ge.digits.push(0,0):1===Tt&&ge.digits.push(0),ge.integerLen+=2),ge}(Fs));let Ls=Tt.minInt,ji=Tt.minFrac,Qo=Tt.maxFrac;if(li){const ya=li.match(Ne);if(null===ya)throw new Error(`${li} is not a valid digit info`);const Nc=ya[1],Il=ya[3],ka=ya[5];null!=Nc&&(Ls=as(Nc)),null!=Il&&(ji=as(Il)),null!=ka?Qo=as(ka):null!=Il&&ji>Qo&&(Qo=ji)}!function xr(ge,Tt,Be){if(Tt>Be)throw new Error(`The minimum number of digits after fraction (${Tt}) is higher than the maximum (${Be}).`);let gt=ge.digits,un=gt.length-ge.integerLen;const li=Math.min(Math.max(Tt,un),Be);let Si=li+ge.integerLen,pr=gt[Si];if(Si>0){gt.splice(Math.max(ge.integerLen,Si));for(let ji=Si;ji<gt.length;ji++)gt[ji]=0}else{un=Math.max(0,un),ge.integerLen=1,gt.length=Math.max(1,Si=li+1),gt[0]=0;for(let ji=1;ji<Si;ji++)gt[ji]=0}if(pr>=5)if(Si-1<0){for(let ji=0;ji>Si;ji--)gt.unshift(0),ge.integerLen++;gt.unshift(1),ge.integerLen++}else gt[Si-1]++;for(;un<Math.max(0,li);un++)gt.push(0);let xo=0!==li;const Fs=Tt+ge.integerLen,Ls=gt.reduceRight(function(ji,Qo,mo,_a){return _a[mo]=(Qo+=ji)<10?Qo:Qo-10,xo&&(0===_a[mo]&&mo>=Fs?_a.pop():xo=!1),Qo>=10?1:0},0);Ls&&(gt.unshift(Ls),ge.integerLen++)}(Fs,ji,Qo);let mo=Fs.digits,_a=Fs.integerLen;const Uc=Fs.exponent;let hc=[];for(xo=mo.every(ya=>!ya);_a<Ls;_a++)mo.unshift(0);for(;_a<0;_a++)mo.unshift(0);_a>0?hc=mo.splice(_a,mo.length):(hc=mo,mo=[0]);const zc=[];for(mo.length>=Tt.lgSize&&zc.unshift(mo.splice(-Tt.lgSize,mo.length).join(""));mo.length>Tt.gSize;)zc.unshift(mo.splice(-Tt.gSize,mo.length).join(""));mo.length&&zc.unshift(mo.join("")),pr=zc.join(En(Be,gt)),hc.length&&(pr+=En(Be,un)+hc.join("")),Uc&&(pr+=En(Be,ot.Exponential)+"+"+Uc)}else pr=En(Be,ot.Infinity);return pr=ge<0&&!xo?Tt.negPre+pr+Tt.negSuf:Tt.posPre+pr+Tt.posSuf,pr}(ge,Si,Tt,ot.CurrencyGroup,ot.CurrencyDecimal,un).replace("\xa4",Be).replace("\xa4","").trim()}function as(ge){const Tt=parseInt(ge);if(isNaN(Tt))throw new Error("Invalid integer literal when parsing "+ge);return Tt}function lr(ge,Tt){Tt=encodeURIComponent(Tt);for(const Be of ge.split(";")){const gt=Be.indexOf("="),[un,li]=-1==gt?[Be,""]:[Be.slice(0,gt),Be.slice(gt+1)];if(un.trim()===Tt)return decodeURIComponent(li)}return null}const Ir=/\s+/,vr=[];let tr=(()=>{class ge{constructor(Be,gt){this._ngEl=Be,this._renderer=gt,this.initialClasses=vr,this.stateMap=new Map}set klass(Be){this.initialClasses=null!=Be?Be.trim().split(Ir):vr}set ngClass(Be){this.rawClass="string"==typeof Be?Be.trim().split(Ir):Be}ngDoCheck(){for(const gt of this.initialClasses)this._updateState(gt,!0);const Be=this.rawClass;if(Array.isArray(Be)||Be instanceof Set)for(const gt of Be)this._updateState(gt,!0);else if(null!=Be)for(const gt of Object.keys(Be))this._updateState(gt,!!Be[gt]);this._applyStateDiff()}_updateState(Be,gt){const un=this.stateMap.get(Be);void 0!==un?(un.enabled!==gt&&(un.changed=!0,un.enabled=gt),un.touched=!0):this.stateMap.set(Be,{enabled:gt,changed:!0,touched:!0})}_applyStateDiff(){for(const Be of this.stateMap){const gt=Be[0],un=Be[1];un.changed?(this._toggleClass(gt,un.enabled),un.changed=!1):un.touched||(un.enabled&&this._toggleClass(gt,!1),this.stateMap.delete(gt)),un.touched=!1}}_toggleClass(Be,gt){(Be=Be.trim()).length>0&&Be.split(Ir).forEach(un=>{gt?this._renderer.addClass(this._ngEl.nativeElement,un):this._renderer.removeClass(this._ngEl.nativeElement,un)})}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.aKT),h.rXU(h.sFG))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return ge})(),xi=(()=>{class ge{constructor(Be){this._viewContainerRef=Be,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Be){return void 0!==Be.ngComponentOutletNgModule||void 0!==Be.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Be){return void 0!==Be.ngComponentOutlet||void 0!==Be.ngComponentOutletContent||void 0!==Be.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Be)}ngOnChanges(Be){if(this._needToReCreateComponentInstance(Be)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const gt=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Be)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,h.w6W)(this.ngComponentOutletNgModule,He(gt)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(He(gt)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:gt,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Be of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Be,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Be){for(const[gt,un]of this._inputsUsed)un?(Be.setInput(gt,this.ngComponentOutletInputs[gt]),this._inputsUsed.set(gt,!1)):(Be.setInput(gt,void 0),this._inputsUsed.delete(gt))}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[h.OA$]})}return ge})();function He(ge){return ge.get(h.Vns).injector}class Rt{constructor(Tt,Be,gt,un){this.$implicit=Tt,this.ngForOf=Be,this.index=gt,this.count=un}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let H=(()=>{class ge{set ngForOf(Be){this._ngForOf=Be,this._ngForOfDirty=!0}set ngForTrackBy(Be){this._trackByFn=Be}get ngForTrackBy(){return this._trackByFn}constructor(Be,gt,un){this._viewContainer=Be,this._template=gt,this._differs=un,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Be){Be&&(this._template=Be)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Be=this._ngForOf;!this._differ&&Be&&(this._differ=this._differs.find(Be).create(this.ngForTrackBy))}if(this._differ){const Be=this._differ.diff(this._ngForOf);Be&&this._applyChanges(Be)}}_applyChanges(Be){const gt=this._viewContainer;Be.forEachOperation((un,li,Si)=>{if(null==un.previousIndex)gt.createEmbeddedView(this._template,new Rt(un.item,this._ngForOf,-1,-1),null===Si?void 0:Si);else if(null==Si)gt.remove(null===li?void 0:li);else if(null!==li){const pr=gt.get(li);gt.move(pr,Si),Ke(pr,un)}});for(let un=0,li=gt.length;un<li;un++){const pr=gt.get(un).context;pr.index=un,pr.count=li,pr.ngForOf=this._ngForOf}Be.forEachIdentityChange(un=>{Ke(gt.get(un.currentIndex),un)})}static ngTemplateContextGuard(Be,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(h._q3))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return ge})();function Ke(ge,Tt){ge.context.$implicit=Tt.item}let kt=(()=>{class ge{constructor(Be,gt){this._viewContainer=Be,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=gt}set ngIf(Be){this._context.$implicit=this._context.ngIf=Be,this._updateView()}set ngIfThen(Be){mi("ngIfThen",Be),this._thenTemplateRef=Be,this._thenViewRef=null,this._updateView()}set ngIfElse(Be){mi("ngIfElse",Be),this._elseTemplateRef=Be,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Be,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b),h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return ge})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function mi(ge,Tt){if(Tt&&!Tt.createEmbeddedView)throw new Error(`${ge} must be a TemplateRef, but received '${(0,h.Tbb)(Tt)}'.`)}class Zi{constructor(Tt,Be){this._viewContainerRef=Tt,this._templateRef=Be,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Tt){Tt&&!this._created?this.create():!Tt&&this._created&&this.destroy()}}let cr=(()=>{class ge{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Be){this._ngSwitch=Be,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Be){this._defaultViews.push(Be)}_matchCase(Be){const gt=Be===this._ngSwitch;return this._lastCasesMatched||=gt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),gt}_updateDefaultCases(Be){if(this._defaultViews.length>0&&Be!==this._defaultUsed){this._defaultUsed=Be;for(const gt of this._defaultViews)gt.enforceState(Be)}}static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return ge})(),ns=(()=>{class ge{constructor(Be,gt,un){this.ngSwitch=un,un._addCase(),this._view=new Zi(Be,gt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(cr,9))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return ge})(),Jr=(()=>{class ge{constructor(Be,gt,un){un._addDefault(new Zi(Be,gt))}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(cr,9))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return ge})(),gs=(()=>{class ge{constructor(Be){this._viewContainerRef=Be,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Be){if(this._shouldRecreateView(Be)){const gt=this._viewContainerRef;if(this._viewRef&&gt.remove(gt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const un=this._createContextForwardProxy();this._viewRef=gt.createEmbeddedView(this.ngTemplateOutlet,un,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Be){return!!Be.ngTemplateOutlet||!!Be.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Be,gt,un)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,gt,un),get:(Be,gt,un)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,gt,un)}})}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.c1b))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.OA$]})}return ge})();function Ur(ge,Tt){return new h.wOt(2100,!1)}class Go{createSubscription(Tt,Be){return(0,h.O8t)(()=>Tt.subscribe({next:Be,error:gt=>{throw gt}}))}dispose(Tt){(0,h.O8t)(()=>Tt.unsubscribe())}}class wo{createSubscription(Tt,Be){return Tt.then(Be,gt=>{throw gt})}dispose(Tt){}}const Ko=new wo,rl=new Go;let $a=(()=>{class ge{constructor(Be){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Be}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Be){if(!this._obj){if(Be)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Be)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Be!==this._obj?(this._dispose(),this.transform(Be)):this._latestValue}_subscribe(Be){this._obj=Be,this._strategy=this._selectStrategy(Be),this._subscription=this._strategy.createSubscription(Be,gt=>this._updateLatestValue(Be,gt))}_selectStrategy(Be){if((0,h.jNT)(Be))return Ko;if((0,h.zjR)(Be))return rl;throw Ur()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Be,gt){Be===this._obj&&(this._latestValue=gt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.gRc,16))};static#t=this.\u0275pipe=h.EJ8({name:"async",type:ge,pure:!1,standalone:!0})}return ge})();const aa=new h.nKC(""),ra=new h.nKC("");let xa=(()=>{class ge{constructor(Be,gt,un){this.locale=Be,this.defaultTimezone=gt,this.defaultOptions=un}transform(Be,gt,un,li){if(null==Be||""===Be||Be!=Be)return null;try{return rn(Be,gt??this.defaultOptions?.dateFormat??"mediumDate",li||this.locale,un??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Si){throw Ur()}}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.xe9,16),h.rXU(aa,24),h.rXU(ra,24))};static#t=this.\u0275pipe=h.EJ8({name:"date",type:ge,pure:!0,standalone:!0})}return ge})(),Ue=(()=>{class ge{constructor(Be,gt="USD"){this._locale=Be,this._defaultCurrencyCode=gt}transform(Be,gt=this._defaultCurrencyCode,un="symbol",li,Si){if(!function Wt(ge){return!(null==ge||""===ge||ge!=ge)}(Be))return null;Si||=this._locale,"boolean"==typeof un&&(un=un?"symbol":"code");let pr=gt||this._defaultCurrencyCode;"code"!==un&&(pr="symbol"===un||"symbol-narrow"===un?function Jt(ge,Tt,Be="en"){const gt=function Ft(ge){return(0,h.H5H)(ge)[h.KH2.Currencies]}(Be)[ge]||Te[ge]||[],un=gt[1];return"narrow"===Tt&&"string"==typeof un?un:gt[0]||ge}(pr,"symbol"===un?"wide":"narrow",Si):un);try{return Bi(function In(ge){if("string"==typeof ge&&!isNaN(Number(ge)-parseFloat(ge)))return Number(ge);if("number"!=typeof ge)throw new Error(`${ge} is not a number`);return ge}(Be),Si,pr,gt,li)}catch(xo){throw Ur()}}static#e=this.\u0275fac=function(gt){return new(gt||ge)(h.rXU(h.xe9,16),h.rXU(h.Ocv,16))};static#t=this.\u0275pipe=h.EJ8({name:"currency",type:ge,pure:!0,standalone:!0})}return ge})();let fi=(()=>{class ge{transform(Be,gt,un){if(null==Be)return null;if(!this.supports(Be))throw Ur();return Be.slice(gt,un)}supports(Be){return"string"==typeof Be||Array.isArray(Be)}static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275pipe=h.EJ8({name:"slice",type:ge,pure:!1,standalone:!0})}return ge})(),dr=(()=>{class ge{static#e=this.\u0275fac=function(gt){return new(gt||ge)};static#t=this.\u0275mod=h.$C({type:ge});static#n=this.\u0275inj=h.G2t({})}return ge})();const Wr="browser",hs="server";function Vs(ge){return ge===Wr}function Ms(ge){return ge===hs}let Ar=(()=>{class ge{static#e=this.\u0275prov=(0,h.jDH)({token:ge,providedIn:"root",factory:()=>Vs((0,h.WQX)(h.Agw))?new $r((0,h.WQX)(W),window):new vs})}return ge})();class $r{constructor(Tt,Be){this.document=Tt,this.window=Be,this.offset=()=>[0,0]}setOffset(Tt){this.offset=Array.isArray(Tt)?()=>Tt:Tt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Tt){this.window.scrollTo(Tt[0],Tt[1])}scrollToAnchor(Tt){const Be=function oo(ge,Tt){const Be=ge.getElementById(Tt)||ge.getElementsByName(Tt)[0];if(Be)return Be;if("function"==typeof ge.createTreeWalker&&ge.body&&"function"==typeof ge.body.attachShadow){const gt=ge.createTreeWalker(ge.body,NodeFilter.SHOW_ELEMENT);let un=gt.currentNode;for(;un;){const li=un.shadowRoot;if(li){const Si=li.getElementById(Tt)||li.querySelector(`[name="${Tt}"]`);if(Si)return Si}un=gt.nextNode()}}return null}(this.document,Tt);Be&&(this.scrollToElement(Be),Be.focus())}setHistoryScrollRestoration(Tt){this.window.history.scrollRestoration=Tt}scrollToElement(Tt){const Be=Tt.getBoundingClientRect(),gt=Be.left+this.window.pageXOffset,un=Be.top+this.window.pageYOffset,li=this.offset();this.window.scrollTo(gt-li[0],un-li[1])}}class vs{setOffset(Tt){}getScrollPosition(){return[0,0]}scrollToPosition(Tt){}scrollToAnchor(Tt){}setHistoryScrollRestoration(Tt){}}class sa{}},6443:(dn,Je,_)=>{"use strict";_.d(Je,{$R:()=>Rn,Qq:()=>Et,Sx:()=>we,yz:()=>ce});var h=_(9204),O=_(7404),E=_(1536),A=_(434),S=_(2677),C=_(9003),W=_(8627),L=_(5443),N=_(9863),z=_(1963),re=_(316);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class q{}class Z{}class ee{constructor(Rt){this.normalizedNames=new Map,this.lazyUpdate=null,Rt?"string"==typeof Rt?this.lazyInit=()=>{this.headers=new Map,Rt.split("\n").forEach(H=>{const Ke=H.indexOf(":");if(Ke>0){const ze=H.slice(0,Ke),kt=ze.toLowerCase(),Vt=H.slice(Ke+1).trim();this.maybeSetNormalizedName(ze,kt),this.headers.has(kt)?this.headers.get(kt).push(Vt):this.headers.set(kt,[Vt])}})}:typeof Headers<"u"&&Rt instanceof Headers?(this.headers=new Map,Rt.forEach((H,Ke)=>{this.setHeaderEntries(Ke,H)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Rt).forEach(([H,Ke])=>{this.setHeaderEntries(H,Ke)})}:this.headers=new Map}has(Rt){return this.init(),this.headers.has(Rt.toLowerCase())}get(Rt){this.init();const H=this.headers.get(Rt.toLowerCase());return H&&H.length>0?H[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Rt){return this.init(),this.headers.get(Rt.toLowerCase())||null}append(Rt,H){return this.clone({name:Rt,value:H,op:"a"})}set(Rt,H){return this.clone({name:Rt,value:H,op:"s"})}delete(Rt,H){return this.clone({name:Rt,value:H,op:"d"})}maybeSetNormalizedName(Rt,H){this.normalizedNames.has(H)||this.normalizedNames.set(H,Rt)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Rt=>this.applyUpdate(Rt)),this.lazyUpdate=null))}copyFrom(Rt){Rt.init(),Array.from(Rt.headers.keys()).forEach(H=>{this.headers.set(H,Rt.headers.get(H)),this.normalizedNames.set(H,Rt.normalizedNames.get(H))})}clone(Rt){const H=new ee;return H.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,H.lazyUpdate=(this.lazyUpdate||[]).concat([Rt]),H}applyUpdate(Rt){const H=Rt.name.toLowerCase();switch(Rt.op){case"a":case"s":let Ke=Rt.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(Rt.name,H);const ze=("a"===Rt.op?this.headers.get(H):void 0)||[];ze.push(...Ke),this.headers.set(H,ze);break;case"d":const kt=Rt.value;if(kt){let Vt=this.headers.get(H);if(!Vt)return;Vt=Vt.filter(mi=>-1===kt.indexOf(mi)),0===Vt.length?(this.headers.delete(H),this.normalizedNames.delete(H)):this.headers.set(H,Vt)}else this.headers.delete(H),this.normalizedNames.delete(H)}}setHeaderEntries(Rt,H){const Ke=(Array.isArray(H)?H:[H]).map(kt=>kt.toString()),ze=Rt.toLowerCase();this.headers.set(ze,Ke),this.maybeSetNormalizedName(Rt,ze)}forEach(Rt){this.init(),Array.from(this.normalizedNames.keys()).forEach(H=>Rt(this.normalizedNames.get(H),this.headers.get(H)))}}class Ee{encodeKey(Rt){return Ye(Rt)}encodeValue(Rt){return Ye(Rt)}decodeKey(Rt){return decodeURIComponent(Rt)}decodeValue(Rt){return decodeURIComponent(Rt)}}const Qe=/%(\d[a-f0-9])/gi,Pe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(He){return encodeURIComponent(He).replace(Qe,(Rt,H)=>Pe[H]??Rt)}function Re(He){return`${He}`}class nt{constructor(Rt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Rt.encoder||new Ee,Rt.fromString){if(Rt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(He,Rt){const H=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(ze=>{const kt=ze.indexOf("="),[Vt,mi]=-1==kt?[Rt.decodeKey(ze),""]:[Rt.decodeKey(ze.slice(0,kt)),Rt.decodeValue(ze.slice(kt+1))],Zi=H.get(Vt)||[];Zi.push(mi),H.set(Vt,Zi)}),H}(Rt.fromString,this.encoder)}else Rt.fromObject?(this.map=new Map,Object.keys(Rt.fromObject).forEach(H=>{const Ke=Rt.fromObject[H],ze=Array.isArray(Ke)?Ke.map(Re):[Re(Ke)];this.map.set(H,ze)})):this.map=null}has(Rt){return this.init(),this.map.has(Rt)}get(Rt){this.init();const H=this.map.get(Rt);return H?H[0]:null}getAll(Rt){return this.init(),this.map.get(Rt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Rt,H){return this.clone({param:Rt,value:H,op:"a"})}appendAll(Rt){const H=[];return Object.keys(Rt).forEach(Ke=>{const ze=Rt[Ke];Array.isArray(ze)?ze.forEach(kt=>{H.push({param:Ke,value:kt,op:"a"})}):H.push({param:Ke,value:ze,op:"a"})}),this.clone(H)}set(Rt,H){return this.clone({param:Rt,value:H,op:"s"})}delete(Rt,H){return this.clone({param:Rt,value:H,op:"d"})}toString(){return this.init(),this.keys().map(Rt=>{const H=this.encoder.encodeKey(Rt);return this.map.get(Rt).map(Ke=>H+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(Rt=>""!==Rt).join("&")}clone(Rt){const H=new nt({encoder:this.encoder});return H.cloneFrom=this.cloneFrom||this,H.updates=(this.updates||[]).concat(Rt),H}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Rt=>this.map.set(Rt,this.cloneFrom.map.get(Rt))),this.updates.forEach(Rt=>{switch(Rt.op){case"a":case"s":const H=("a"===Rt.op?this.map.get(Rt.param):void 0)||[];H.push(Re(Rt.value)),this.map.set(Rt.param,H);break;case"d":if(void 0===Rt.value){this.map.delete(Rt.param);break}{let Ke=this.map.get(Rt.param)||[];const ze=Ke.indexOf(Re(Rt.value));-1!==ze&&Ke.splice(ze,1),Ke.length>0?this.map.set(Rt.param,Ke):this.map.delete(Rt.param)}}}),this.cloneFrom=this.updates=null)}}class je{constructor(){this.map=new Map}set(Rt,H){return this.map.set(Rt,H),this}get(Rt){return this.map.has(Rt)||this.map.set(Rt,Rt.defaultValue()),this.map.get(Rt)}delete(Rt){return this.map.delete(Rt),this}has(Rt){return this.map.has(Rt)}keys(){return this.map.keys()}}function Q(He){return typeof ArrayBuffer<"u"&&He instanceof ArrayBuffer}function rt(He){return typeof Blob<"u"&&He instanceof Blob}function oe(He){return typeof FormData<"u"&&He instanceof FormData}class bt{constructor(Rt,H,Ke,ze){let kt;if(this.url=H,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Rt.toUpperCase(),function Xe(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ze?(this.body=void 0!==Ke?Ke:null,kt=ze):kt=Ke,kt&&(this.reportProgress=!!kt.reportProgress,this.withCredentials=!!kt.withCredentials,kt.responseType&&(this.responseType=kt.responseType),kt.headers&&(this.headers=kt.headers),kt.context&&(this.context=kt.context),kt.params&&(this.params=kt.params),this.transferCache=kt.transferCache),this.headers??=new ee,this.context??=new je,this.params){const Vt=this.params.toString();if(0===Vt.length)this.urlWithParams=H;else{const mi=H.indexOf("?");this.urlWithParams=H+(-1===mi?"?":mi<H.length-1?"&":"")+Vt}}else this.params=new nt,this.urlWithParams=H}serializeBody(){return null===this.body?null:"string"==typeof this.body||Q(this.body)||rt(this.body)||oe(this.body)||function ot(He){return typeof URLSearchParams<"u"&&He instanceof URLSearchParams}(this.body)?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oe(this.body)?null:rt(this.body)?this.body.type||null:Q(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Rt={}){const H=Rt.method||this.method,Ke=Rt.url||this.url,ze=Rt.responseType||this.responseType,kt=Rt.transferCache??this.transferCache,Vt=void 0!==Rt.body?Rt.body:this.body,mi=Rt.withCredentials??this.withCredentials,Zi=Rt.reportProgress??this.reportProgress;let cr=Rt.headers||this.headers,ns=Rt.params||this.params;const Jr=Rt.context??this.context;return void 0!==Rt.setHeaders&&(cr=Object.keys(Rt.setHeaders).reduce((is,Es)=>is.set(Es,Rt.setHeaders[Es]),cr)),Rt.setParams&&(ns=Object.keys(Rt.setParams).reduce((is,Es)=>is.set(Es,Rt.setParams[Es]),ns)),new bt(H,Ke,Vt,{params:ns,headers:cr,context:Jr,reportProgress:Zi,responseType:ze,withCredentials:mi,transferCache:kt})}}var Nt=function(He){return He[He.Sent=0]="Sent",He[He.UploadProgress=1]="UploadProgress",He[He.ResponseHeader=2]="ResponseHeader",He[He.DownloadProgress=3]="DownloadProgress",He[He.Response=4]="Response",He[He.User=5]="User",He}(Nt||{});class St{constructor(Rt,H=200,Ke="OK"){this.headers=Rt.headers||new ee,this.status=void 0!==Rt.status?Rt.status:H,this.statusText=Rt.statusText||Ke,this.url=Rt.url||null,this.ok=this.status>=200&&this.status<300}}class $t extends St{constructor(Rt={}){super(Rt),this.type=Nt.ResponseHeader}clone(Rt={}){return new $t({headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class Ce extends St{constructor(Rt={}){super(Rt),this.type=Nt.Response,this.body=void 0!==Rt.body?Rt.body:null}clone(Rt={}){return new Ce({body:void 0!==Rt.body?Rt.body:this.body,headers:Rt.headers||this.headers,status:void 0!==Rt.status?Rt.status:this.status,statusText:Rt.statusText||this.statusText,url:Rt.url||this.url||void 0})}}class ce extends St{constructor(Rt){super(Rt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Rt.url||"(unknown url)"}`:`Http failure response for ${Rt.url||"(unknown url)"}: ${Rt.status} ${Rt.statusText}`,this.error=Rt.error||null}}function At(He,Rt){return{body:Rt,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials,transferCache:He.transferCache}}let Et=(()=>{class He{constructor(H){this.handler=H}request(H,Ke,ze={}){let kt;if(H instanceof bt)kt=H;else{let Zi,cr;Zi=ze.headers instanceof ee?ze.headers:new ee(ze.headers),ze.params&&(cr=ze.params instanceof nt?ze.params:new nt({fromObject:ze.params})),kt=new bt(H,Ke,void 0!==ze.body?ze.body:null,{headers:Zi,context:ze.context,params:cr,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials,transferCache:ze.transferCache})}const Vt=(0,E.of)(kt).pipe((0,C.H)(Zi=>this.handler.handle(Zi)));if(H instanceof bt||"events"===ze.observe)return Vt;const mi=Vt.pipe((0,W.p)(Zi=>Zi instanceof Ce));switch(ze.observe||"body"){case"body":switch(kt.responseType){case"arraybuffer":return mi.pipe((0,L.T)(Zi=>{if(null!==Zi.body&&!(Zi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Zi.body}));case"blob":return mi.pipe((0,L.T)(Zi=>{if(null!==Zi.body&&!(Zi.body instanceof Blob))throw new Error("Response is not a Blob.");return Zi.body}));case"text":return mi.pipe((0,L.T)(Zi=>{if(null!==Zi.body&&"string"!=typeof Zi.body)throw new Error("Response is not a string.");return Zi.body}));default:return mi.pipe((0,L.T)(Zi=>Zi.body))}case"response":return mi;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(H,Ke={}){return this.request("DELETE",H,Ke)}get(H,Ke={}){return this.request("GET",H,Ke)}head(H,Ke={}){return this.request("HEAD",H,Ke)}jsonp(H,Ke){return this.request("JSONP",H,{params:(new nt).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(H,Ke={}){return this.request("OPTIONS",H,Ke)}patch(H,Ke,ze={}){return this.request("PATCH",H,At(ze,Ke))}post(H,Ke,ze={}){return this.request("POST",H,At(ze,Ke))}put(H,Ke,ze={}){return this.request("PUT",H,At(ze,Ke))}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(O.KVO(q))};static#t=this.\u0275prov=O.jDH({token:He,factory:He.\u0275fac})}return He})();const En=/^\)\]\}',?\n/;function kn(He){if(He.url)return He.url;const Rt="X-Request-URL".toLocaleLowerCase();return He.headers.get(Rt)}let nn=(()=>{class He{constructor(){this.fetchImpl=(0,O.WQX)(Ot,{optional:!0})?.fetch??((...H)=>globalThis.fetch(...H)),this.ngZone=(0,O.WQX)(O.SKi)}handle(H){return new A.c(Ke=>{const ze=new AbortController;return this.doRequest(H,ze.signal,Ke).then(Ft,kt=>Ke.error(new ce({error:kt}))),()=>ze.abort()})}doRequest(H,Ke,ze){var kt=this;return(0,h.A)(function*(){const Vt=kt.createRequestInit(H);let mi;try{const to=kt.ngZone.runOutsideAngular(()=>kt.fetchImpl(H.urlWithParams,{signal:Ke,...Vt}));(function ft(He){He.then(Ft,Ft)})(to),ze.next({type:Nt.Sent}),mi=yield to}catch(to){return void ze.error(new ce({error:to,status:to.status??0,statusText:to.statusText,url:H.urlWithParams,headers:to.headers}))}const Zi=new ee(mi.headers),cr=mi.statusText,ns=kn(mi)??H.urlWithParams;let Jr=mi.status,is=null;if(H.reportProgress&&ze.next(new $t({headers:Zi,status:Jr,statusText:cr,url:ns})),mi.body){const to=mi.headers.get("content-length"),Gr=[],rs=mi.body.getReader();let Bo,Ur,gs=0;const Go=typeof Zone<"u"&&Zone.current;yield kt.ngZone.runOutsideAngular((0,h.A)(function*(){for(;;){const{done:Ko,value:rl}=yield rs.read();if(Ko)break;if(Gr.push(rl),gs+=rl.length,H.reportProgress){Ur="text"===H.responseType?(Ur??"")+(Bo??=new TextDecoder).decode(rl,{stream:!0}):void 0;const $a=()=>ze.next({type:Nt.DownloadProgress,total:to?+to:void 0,loaded:gs,partialText:Ur});Go?Go.run($a):$a()}}}));const wo=kt.concatChunks(Gr,gs);try{const Ko=mi.headers.get("Content-Type")??"";is=kt.parseBody(H,wo,Ko)}catch(Ko){return void ze.error(new ce({error:Ko,headers:new ee(mi.headers),status:mi.status,statusText:mi.statusText,url:kn(mi)??H.urlWithParams}))}}0===Jr&&(Jr=is?200:0),Jr>=200&&Jr<300?(ze.next(new Ce({body:is,headers:Zi,status:Jr,statusText:cr,url:ns})),ze.complete()):ze.error(new ce({error:is,headers:Zi,status:Jr,statusText:cr,url:ns}))})()}parseBody(H,Ke,ze){switch(H.responseType){case"json":const kt=(new TextDecoder).decode(Ke).replace(En,"");return""===kt?null:JSON.parse(kt);case"text":return(new TextDecoder).decode(Ke);case"blob":return new Blob([Ke],{type:ze});case"arraybuffer":return Ke.buffer}}createRequestInit(H){const Ke={},ze=H.withCredentials?"include":void 0;if(H.headers.forEach((kt,Vt)=>Ke[kt]=Vt.join(",")),H.headers.has("Accept")||(Ke.Accept="application/json, text/plain, */*"),!H.headers.has("Content-Type")){const kt=H.detectContentTypeHeader();null!==kt&&(Ke["Content-Type"]=kt)}return{body:H.serializeBody(),method:H.method,headers:Ke,credentials:ze}}concatChunks(H,Ke){const ze=new Uint8Array(Ke);let kt=0;for(const Vt of H)ze.set(Vt,kt),kt+=Vt.length;return ze}static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275prov=O.jDH({token:He,factory:He.\u0275fac})}return He})();class Ot{}function Ft(){}function Ae(He,Rt){return Rt(He)}function Ve(He,Rt){return(H,Ke)=>Rt.intercept(H,{handle:ze=>He(ze,Ke)})}const an=new O.nKC(""),Pt=new O.nKC(""),yt=new O.nKC(""),Jt=new O.nKC("",{providedIn:"root",factory:()=>!0});function vn(){let He=null;return(Rt,H)=>{null===He&&(He=((0,O.WQX)(an,{optional:!0})??[]).reduceRight(Ve,Ae));const Ke=(0,O.WQX)(O.TgB);if((0,O.WQX)(Jt)){const kt=Ke.add();return He(Rt,H).pipe((0,N.j)(()=>Ke.remove(kt)))}return He(Rt,H)}}let sn=(()=>{class He extends q{constructor(H,Ke){super(),this.backend=H,this.injector=Ke,this.chain=null,this.pendingTasks=(0,O.WQX)(O.TgB),this.contributeToStability=(0,O.WQX)(Jt)}handle(H){if(null===this.chain){const Ke=Array.from(new Set([...this.injector.get(Pt),...this.injector.get(yt,[])]));this.chain=Ke.reduceRight((ze,kt)=>function vt(He,Rt,H){return(Ke,ze)=>(0,O.N4e)(H,()=>Rt(Ke,kt=>He(kt,ze)))}(ze,kt,this.injector),Ae)}if(this.contributeToStability){const Ke=this.pendingTasks.add();return this.chain(H,ze=>this.backend.handle(ze)).pipe((0,N.j)(()=>this.pendingTasks.remove(Ke)))}return this.chain(H,Ke=>this.backend.handle(Ke))}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(O.KVO(Z),O.KVO(O.uvJ))};static#t=this.\u0275prov=O.jDH({token:He,factory:He.\u0275fac})}return He})();const Ht=/^\)\]\}',?\n/;let An=(()=>{class He{constructor(H){this.xhrFactory=H}handle(H){if("JSONP"===H.method)throw new O.wOt(-2800,!1);const Ke=this.xhrFactory;return(Ke.\u0275loadImpl?(0,S.H)(Ke.\u0275loadImpl()):(0,E.of)(null)).pipe((0,z.n)(()=>new A.c(kt=>{const Vt=Ke.build();if(Vt.open(H.method,H.urlWithParams),H.withCredentials&&(Vt.withCredentials=!0),H.headers.forEach((Gr,rs)=>Vt.setRequestHeader(Gr,rs.join(","))),H.headers.has("Accept")||Vt.setRequestHeader("Accept","application/json, text/plain, */*"),!H.headers.has("Content-Type")){const Gr=H.detectContentTypeHeader();null!==Gr&&Vt.setRequestHeader("Content-Type",Gr)}if(H.responseType){const Gr=H.responseType.toLowerCase();Vt.responseType="json"!==Gr?Gr:"text"}const mi=H.serializeBody();let Zi=null;const cr=()=>{if(null!==Zi)return Zi;const Gr=Vt.statusText||"OK",rs=new ee(Vt.getAllResponseHeaders()),gs=function Bt(He){return"responseURL"in He&&He.responseURL?He.responseURL:/^X-Request-URL:/m.test(He.getAllResponseHeaders())?He.getResponseHeader("X-Request-URL"):null}(Vt)||H.url;return Zi=new $t({headers:rs,status:Vt.status,statusText:Gr,url:gs}),Zi},ns=()=>{let{headers:Gr,status:rs,statusText:gs,url:Bo}=cr(),Ur=null;204!==rs&&(Ur=typeof Vt.response>"u"?Vt.responseText:Vt.response),0===rs&&(rs=Ur?200:0);let Go=rs>=200&&rs<300;if("json"===H.responseType&&"string"==typeof Ur){const wo=Ur;Ur=Ur.replace(Ht,"");try{Ur=""!==Ur?JSON.parse(Ur):null}catch(Ko){Ur=wo,Go&&(Go=!1,Ur={error:Ko,text:Ur})}}Go?(kt.next(new Ce({body:Ur,headers:Gr,status:rs,statusText:gs,url:Bo||void 0})),kt.complete()):kt.error(new ce({error:Ur,headers:Gr,status:rs,statusText:gs,url:Bo||void 0}))},Jr=Gr=>{const{url:rs}=cr(),gs=new ce({error:Gr,status:Vt.status||0,statusText:Vt.statusText||"Unknown Error",url:rs||void 0});kt.error(gs)};let is=!1;const Es=Gr=>{is||(kt.next(cr()),is=!0);let rs={type:Nt.DownloadProgress,loaded:Gr.loaded};Gr.lengthComputable&&(rs.total=Gr.total),"text"===H.responseType&&Vt.responseText&&(rs.partialText=Vt.responseText),kt.next(rs)},to=Gr=>{let rs={type:Nt.UploadProgress,loaded:Gr.loaded};Gr.lengthComputable&&(rs.total=Gr.total),kt.next(rs)};return Vt.addEventListener("load",ns),Vt.addEventListener("error",Jr),Vt.addEventListener("timeout",Jr),Vt.addEventListener("abort",Jr),H.reportProgress&&(Vt.addEventListener("progress",Es),null!==mi&&Vt.upload&&Vt.upload.addEventListener("progress",to)),Vt.send(mi),kt.next({type:Nt.Sent}),()=>{Vt.removeEventListener("error",Jr),Vt.removeEventListener("abort",Jr),Vt.removeEventListener("load",ns),Vt.removeEventListener("timeout",Jr),H.reportProgress&&(Vt.removeEventListener("progress",Es),null!==mi&&Vt.upload&&Vt.upload.removeEventListener("progress",to)),Vt.readyState!==Vt.DONE&&Vt.abort()}})))}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(O.KVO(re.N0))};static#t=this.\u0275prov=O.jDH({token:He,factory:He.\u0275fac})}return He})();const Xn=new O.nKC(""),Vn=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Pn=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oi{}let jt=(()=>{class He{constructor(H,Ke,ze){this.doc=H,this.platform=Ke,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const H=this.doc.cookie||"";return H!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,re._b)(H,this.cookieName),this.lastCookieString=H),this.lastToken}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(O.KVO(re.qQ),O.KVO(O.Agw),O.KVO(Vn))};static#t=this.\u0275prov=O.jDH({token:He,factory:He.\u0275fac})}return He})();function xt(He,Rt){const H=He.url.toLowerCase();if(!(0,O.WQX)(Xn)||"GET"===He.method||"HEAD"===He.method||H.startsWith("http://")||H.startsWith("https://"))return Rt(He);const Ke=(0,O.WQX)(oi).getToken(),ze=(0,O.WQX)(Pn);return null!=Ke&&!He.headers.has(ze)&&(He=He.clone({headers:He.headers.set(ze,Ke)})),Rt(He)}var Lt=function(He){return He[He.Interceptors=0]="Interceptors",He[He.LegacyInterceptors=1]="LegacyInterceptors",He[He.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",He[He.NoXsrfProtection=3]="NoXsrfProtection",He[He.JsonpSupport=4]="JsonpSupport",He[He.RequestsMadeViaParent=5]="RequestsMadeViaParent",He[He.Fetch=6]="Fetch",He}(Lt||{});function Rn(...He){const Rt=[Et,An,sn,{provide:q,useExisting:sn},{provide:Z,useFactory:()=>(0,O.WQX)(nn,{optional:!0})??(0,O.WQX)(An)},{provide:Pt,useValue:xt,multi:!0},{provide:Xn,useValue:!0},{provide:oi,useClass:jt}];for(const H of He)Rt.push(...H.\u0275providers);return(0,O.EmA)(Rt)}const dt=new O.nKC("");function we(){return function Kt(He,Rt){return{\u0275kind:He,\u0275providers:Rt}}(Lt.LegacyInterceptors,[{provide:dt,useFactory:vn},{provide:Pt,useExisting:dt,multi:!0}])}},7404:(dn,Je,_)=>{"use strict";
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
function h(s,o){return Object.is(s,o)}_.d(Je,{bc$:()=>Iv,iLQ:()=>lS,sZ2:()=>zh,hnV:()=>bO,Hbi:()=>kg,o8S:()=>bp,BIS:()=>kv,gRc:()=>LI,Ql9:()=>AL,OM3:()=>pm,Ocv:()=>LL,Z63:()=>zl,aKT:()=>Km,uvJ:()=>$e,zcH:()=>ad,bkB:()=>qc,y_5:()=>ya,$GK:()=>Ds,nKC:()=>yn,zZn:()=>ia,_q3:()=>ES,MKu:()=>XI,xe9:()=>OI,Co$:()=>c1,Vns:()=>_g,SKi:()=>Fa,Xx1:()=>Nc,Agw:()=>c_,PLl:()=>nm,rOR:()=>i_,sFG:()=>EE,_9s:()=>sb,czy:()=>Ly,WPN:()=>tg,kdw:()=>ka,C4Q:()=>Xy,NYb:()=>EL,giA:()=>_O,xvI:()=>QF,RxE:()=>cO,c1b:()=>lb,gXe:()=>lc,mal:()=>Hh,Tzd:()=>dR,L39:()=>dP,EWP:()=>Vw,sbv:()=>$M,Ol2:()=>QE,w6W:()=>rR,oH4:()=>fS,QZP:()=>vk,SmG:()=>jL,Rfq:()=>ql,WQX:()=>ji,Hps:()=>WE,QuC:()=>so,EmA:()=>Nd,Udg:()=>hP,fpN:()=>FO,HJs:()=>Hb,N4e:()=>Mo,vPA:()=>WT,O8t:()=>bh,H3F:()=>uO,zAP:()=>ak,H8p:()=>Ih,KH2:()=>Mb,TgB:()=>ju,wOt:()=>Ki,WHO:()=>mO,e01:()=>gO,lNU:()=>la,h9k:()=>Ed,$MX:()=>Ry,ZF7:()=>il,Kcf:()=>cm,e5t:()=>Qk,UyX:()=>nD,cWb:()=>f_,osQ:()=>jv,H5H:()=>yC,Zy3:()=>Xo,mq5:()=>B1,JZv:()=>Do,LfX:()=>za,plB:()=>xf,jNT:()=>AI,zjR:()=>yO,TL$:()=>Tv,Tbb:()=>qo,rcV:()=>ks,nM4:()=>r1,Vt3:()=>XE,GFd:()=>l1,OA$:()=>zf,Jv_:()=>qC,aNF:()=>Fb,R7$:()=>dd,BMQ:()=>$0,HbH:()=>Cb,ZvI:()=>H0,AVh:()=>kc,vxM:()=>WR,wni:()=>TN,C6U:()=>MN,VBU:()=>Ie,FsC:()=>Qn,jDH:()=>Li,G2t:()=>ro,$C:()=>gn,EJ8:()=>Yi,rXU:()=>ap,nrm:()=>fC,eu8:()=>Yh,bVm:()=>kb,qex:()=>X0,k0s:()=>gp,j41:()=>K0,RV6:()=>Y0,xGo:()=>Yg,Mr5:()=>mC,pXf:()=>sw,nnv:()=>rI,YFu:()=>Ob,uP7:()=>Xd,k04:()=>ow,PLo:()=>Eg,KVO:()=>Fs,kS0:()=>Um,QTQ:()=>AD,bIt:()=>NC,lsd:()=>AN,joV:()=>sv,qSk:()=>Op,XpG:()=>_N,nI1:()=>fw,bMT:()=>pw,i5U:()=>YN,brH:()=>mw,SdG:()=>aw,NAR:()=>yN,Y8G:()=>xb,lJ4:()=>gI,eq3:()=>jN,l_i:()=>_I,sMw:()=>QC,ziG:()=>WN,sGs:()=>HN,NyB:()=>RN,mGM:()=>kN,sdS:()=>$C,Dyx:()=>XR,Z7z:()=>KR,fX1:()=>GR,Vm6:()=>HR,Njj:()=>qi,tSv:()=>mD,eBV:()=>zu,npT:()=>op,B4B:()=>Ox,n$t:()=>aD,wjB:()=>YC,Aen:()=>Zc,xc7:()=>k1,Kam:()=>OC,zvX:()=>gC,DNE:()=>JE,C5r:()=>_w,EFF:()=>FN,JRh:()=>lI,SpI:()=>_p,Lme:()=>qd,E5c:()=>_h,DH7:()=>GC,mxI:()=>V_,R50:()=>cI,GBs:()=>IN});let O=null,E=!1,A=1;const S=Symbol("SIGNAL");function C(s){const o=O;return O=s,o}const z={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function re(s){if(E)throw new Error("");if(null===O)return;O.consumerOnSignalRead(s);const o=O.nextProducerIndex++;je(O),o<O.producerNode.length&&O.producerNode[o]!==s&&Te(O)&&nt(O.producerNode[o],O.producerIndexOfThis[o]),O.producerNode[o]!==s&&(O.producerNode[o]=s,O.producerIndexOfThis[o]=Te(O)?Re(s,O,o):0),O.producerLastReadVersion[o]=s.version}function Z(s){if((!Te(s)||s.dirty)&&(s.dirty||s.lastCleanEpoch!==A)){if(!s.producerMustRecompute(s)&&!Pe(s))return s.dirty=!1,void(s.lastCleanEpoch=A);s.producerRecomputeValue(s),s.dirty=!1,s.lastCleanEpoch=A}}function ee(s){if(void 0===s.liveConsumerNode)return;const o=E;E=!0;try{for(const l of s.liveConsumerNode)l.dirty||Ee(l)}finally{E=o}}function De(){return!1!==O?.consumerAllowSignalWrites}function Ee(s){s.dirty=!0,ee(s),s.consumerMarkedDirty?.(s)}function ke(s){return s&&(s.nextProducerIndex=0),C(s)}function Qe(s,o){if(C(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(Te(s))for(let l=s.nextProducerIndex;l<s.producerNode.length;l++)nt(s.producerNode[l],s.producerIndexOfThis[l]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Pe(s){je(s);for(let o=0;o<s.producerNode.length;o++){const l=s.producerNode[o],d=s.producerLastReadVersion[o];if(d!==l.version||(Z(l),d!==l.version))return!0}return!1}function Ye(s){if(je(s),Te(s))for(let o=0;o<s.producerNode.length;o++)nt(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Re(s,o,l){if(Xe(s),0===s.liveConsumerNode.length&&Q(s))for(let d=0;d<s.producerNode.length;d++)s.producerIndexOfThis[d]=Re(s.producerNode[d],s,d);return s.liveConsumerIndexOfThis.push(l),s.liveConsumerNode.push(o)-1}function nt(s,o){if(Xe(s),1===s.liveConsumerNode.length&&Q(s))for(let d=0;d<s.producerNode.length;d++)nt(s.producerNode[d],s.producerIndexOfThis[d]);const l=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[l],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[l],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[o],m=s.liveConsumerNode[o];je(m),m.producerIndexOfThis[d]=o}}function Te(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function je(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}function Xe(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}function Q(s){return void 0!==s.producerNode}function rt(s){const o=Object.create(Nt);o.computation=s;const l=()=>{if(Z(o),re(o),o.value===bt)throw o.error;return o.value};return l[S]=o,l}const oe=Symbol("UNSET"),ot=Symbol("COMPUTING"),bt=Symbol("ERRORED"),Nt={...z,value:oe,dirty:!0,error:null,equal:h,producerMustRecompute:s=>s.value===oe||s.value===ot,producerRecomputeValue(s){if(s.value===ot)throw new Error("Detected cycle in computations.");const o=s.value;s.value=ot;const l=ke(s);let d;try{d=s.computation()}catch(m){d=bt,s.error=m}finally{Qe(s,l)}o!==oe&&o!==bt&&d!==bt&&s.equal(o,d)?s.value=o:(s.value=d,s.version++)}};let $t=function St(){throw new Error};function Ce(){$t()}let ve=null;function Et(s,o){De()||Ce(),s.equal(s.value,o)||(s.value=o,function nn(s){s.version++,function q(){A++}(),ee(s),ve?.()}(s))}const kn={...z,equal:h,value:void 0};const Ft=()=>{},ft={...z,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{null!==s.schedule&&s.schedule(s.ref)},hasRun:!1,cleanupFn:Ft};var Ve=_(521),vt=_(3119),an=_(2672),Pt=_(5443);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
const la="https://g.co/ng/security#xss";class Ki extends Error{constructor(o,l){super(Xo(o,l)),this.code=o}}function Xo(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}function ta(s){return{toString:s}.toString()}const Qa="__parameters__";function Sl(s,o,l){return ta(()=>{const d=function Da(s){return function(...l){if(s){const d=s(...l);for(const m in d)this[m]=d[m]}}}(o);function m(...b){if(this instanceof m)return d.apply(this,b),this;const T=new m(...b);return X.annotation=T,X;function X(ye,qe,mt){const Zt=ye.hasOwnProperty(Qa)?ye[Qa]:Object.defineProperty(ye,Qa,{value:[]})[Qa];for(;Zt.length<=mt;)Zt.push(null);return(Zt[mt]=Zt[mt]||[]).push(T),ye}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}const Do=globalThis;function Ps(s){for(let o in s)if(s[o]===Ps)return o;throw Error("Could not find renamed property on target object.")}function Dl(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function qo(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(qo).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ml(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ol=Ps({__forward_ref__:Ps});function ql(s){return s.__forward_ref__=ql,s.toString=function(){return qo(this())},s}function qr(s){return ao(s)?s():s}function ao(s){return"function"==typeof s&&s.hasOwnProperty(ol)&&s.__forward_ref__===ql}function ne(s,o,l){s!=o&&function vi(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(l,s,o,"==")}function Li(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ro(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fo(s){return al(s,Xt)||al(s,ln)}function za(s){return null!==Fo(s)}function al(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ct(s){return s&&(s.hasOwnProperty(_n)||s.hasOwnProperty(Hn))?s[_n]:null}const Xt=Ps({\u0275prov:Ps}),_n=Ps({\u0275inj:Ps}),ln=Ps({ngInjectableDef:Ps}),Hn=Ps({ngInjectorDef:Ps});class yn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Li({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cs(s){return s&&!!s.\u0275providers}const qs=Ps({\u0275cmp:Ps}),Ec=Ps({\u0275dir:Ps}),Ta=Ps({\u0275pipe:Ps}),Ga=Ps({\u0275mod:Ps}),Io=Ps({\u0275fac:Ps}),Tl=Ps({__NG_ELEMENT_ID__:Ps}),yl=Ps({__NG_ENV_ID__:Ps});function Ss(s){return"string"==typeof s?s:null==s?"":String(s)}function Ul(s,o){throw new Ki(-201,!1)}var Ds=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(Ds||{});let sc;function Iu(){return sc}function ca(s){const o=sc;return sc=s,o}function fo(s,o,l){const d=Fo(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ds.Optional?null:void 0!==o?o:void Ul()}const Rc={},oc="__NG_DI_FLAG__",ge="ngTempTokenPath",Be=/\n/gm,un="__source";let li;function pr(s){const o=li;return li=s,o}function xo(s,o=Ds.Default){if(void 0===li)throw new Ki(-203,!1);return null===li?fo(s,void 0,o):li.get(s,o&Ds.Optional?null:void 0,o)}function Fs(s,o=Ds.Default){return(Iu()||xo)(qr(s),o)}function ji(s,o=Ds.Default){return Fs(s,Qo(o))}function Qo(s){return typeof s>"u"||"number"==typeof s?s:(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function mo(s){const o=[];for(let l=0;l<s.length;l++){const d=qr(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ki(900,!1);let m,b=Ds.Default;for(let T=0;T<d.length;T++){const X=d[T],ye=Uc(X);"number"==typeof ye?-1===ye?m=X.token:b|=ye:m=X}o.push(Fs(m,b))}else o.push(Fs(d))}return o}function _a(s,o){return s[oc]=o,s.prototype[oc]=o,s}function Uc(s){return s[oc]}const ya=_a(Sl("Inject",s=>({token:s})),-1),Nc=_a(Sl("Optional"),8),ka=_a(Sl("SkipSelf"),4);function ua(s,o){return s.hasOwnProperty(Io)?s[Io]:null}function ll(s,o){s.forEach(l=>Array.isArray(l)?ll(l,o):o(l))}function ko(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ku(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ac(s,o,l){let d=Wc(s,o);return d>=0?s[1|d]=l:(d=~d,function Ma(s,o,l,d){let m=s.length;if(m==o)s.push(l,d);else if(1===m)s.push(d,s[0]),s[0]=l;else{for(m--,s.push(s[m-1],s[m]);m>o;)s[m]=s[m-2],m--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function el(s,o){const l=Wc(s,o);if(l>=0)return s[1|l]}function Wc(s,o){return function Ch(s,o,l){let d=0,m=s.length>>l;for(;m!==d;){const b=d+(m-d>>1),T=s[b<<l];if(o===T)return b<<l;T>o?m=b:d=b+1}return~(m<<l)}(s,o,1)}const Eo={},Is=[],zl=new yn(""),pu=new yn("",-1),Hc=new yn("");class da{get(o,l=Rc){if(l===Rc){const d=new Error(`NullInjectorError: No provider for ${qo(o)}!`);throw d.name="NullInjectorError",d}return l}}var fc=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(fc||{}),lc=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(lc||{}),$u=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}($u||{});function Md(s,o,l){let d=s.length;for(;;){const m=s.indexOf(o,l);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const b=o.length;if(m+b===d||s.charCodeAt(m+b)<=32)return m}l=m+1}}function Gc(s,o,l){let d=0;for(;d<l.length;){const m=l[d];if("number"==typeof m){if(0!==m)break;d++;const b=l[d++],T=l[d++],X=l[d++];s.setAttribute(o,T,X,b)}else{const b=m,T=l[++d];pc(b)?s.setProperty(o,b,T):s.setAttribute(o,b,T),d++}}return d}function Sh(s){return 3===s||4===s||6===s}function pc(s){return 64===s.charCodeAt(0)}function cl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const m=o[d];"number"==typeof m?l=m:0===l||_d(s,l,m,null,-1===l||2===l?o[++d]:null)}}return s}function _d(s,o,l,d,m){let b=0,T=s.length;if(-1===o)T=-1;else for(;b<s.length;){const X=s[b++];if("number"==typeof X){if(X===o){T=-1;break}if(X>o){T=b-1;break}}}for(;b<s.length;){const X=s[b];if("number"==typeof X)break;if(X===l){if(null===d)return void(null!==m&&(s[b+1]=m));if(d===s[b+1])return void(s[b+2]=m)}b++,null!==d&&b++,null!==m&&b++}-1!==T&&(s.splice(T,0,o),b=T+1),s.splice(b++,0,l),null!==d&&s.splice(b++,0,d),null!==m&&s.splice(b++,0,m)}const Zu="ng-template";function Dh(s,o,l,d){let m=0;if(d){for(;m<o.length&&"string"==typeof o[m];m+=2)if("class"===o[m]&&-1!==Md(o[m+1].toLowerCase(),l,0))return!0}else if(Ra(s))return!1;if(m=o.indexOf(1,m),m>-1){let b;for(;++m<o.length&&"string"==typeof(b=o[m]);)if(b.toLowerCase()===l)return!0}return!1}function Ra(s){return 4===s.type&&s.value!==Zu}function kl(s,o,l){return o===(4!==s.type||l?s.value:Zu)}function Rd(s,o,l){let d=4;const m=s.attrs,b=null!==m?function mu(s){for(let o=0;o<s.length;o++)if(Sh(s[o]))return o;return s.length}(m):0;let T=!1;for(let X=0;X<o.length;X++){const ye=o[X];if("number"!=typeof ye){if(!T)if(4&d){if(d=2|1&d,""!==ye&&!kl(s,ye,l)||""===ye&&1===o.length){if(tl(d))return!1;T=!0}}else if(8&d){if(null===m||!Dh(s,m,ye,l)){if(tl(d))return!1;T=!0}}else{const qe=o[++X],mt=nl(ye,m,Ra(s),l);if(-1===mt){if(tl(d))return!1;T=!0;continue}if(""!==qe){let Zt;if(Zt=mt>b?"":m[mt+1].toLowerCase(),2&d&&qe!==Zt){if(tl(d))return!1;T=!0}}}}else{if(!T&&!tl(d)&&!tl(ye))return!1;if(T&&tl(ye))continue;T=!1,d=ye|1&d}}return tl(d)||T}function tl(s){return!(1&s)}function nl(s,o,l,d){if(null===o)return-1;let m=0;if(d||!l){let b=!1;for(;m<o.length;){const T=o[m];if(T===s)return m;if(3===T||6===T)b=!0;else{if(1===T||2===T){let X=o[++m];for(;"string"==typeof X;)X=o[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=b?1:2}return-1}return function Au(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Cc(s,o,l=!1){for(let d=0;d<o.length;d++)if(Rd(s,o[d],l))return!0;return!1}function Mr(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let m=0;m<s.length;m++)if(s[m]!==d[m])continue e;return!0}}return!1}function eh(s,o){return s?":not("+o.trim()+")":o}function Y(s){let o=s[0],l=1,d=2,m="",b=!1;for(;l<s.length;){let T=s[l];if("string"==typeof T)if(2&d){const X=s[++l];m+="["+T+(X.length>0?'="'+X+'"':"")+"]"}else 8&d?m+="."+T:4&d&&(m+=" "+T);else""!==m&&!tl(T)&&(o+=eh(b,m),m=""),d=T,b=b||!tl(d);l++}return""!==m&&(o+=eh(b,m)),o}function Ie(s){return ta(()=>{const o=bl(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===fc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||lc.Emulated,styles:s.styles||Is,_:null,schemas:s.schemas||null,tView:null,id:""};ul(l);const d=s.dependencies;return l.directiveDefs=gu(d,!1),l.pipeDefs=gu(d,!0),l.id=function Vu(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const m of l)o=Math.imul(31,o)+m.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function lt(s){return ir(s)||zr(s)}function Ut(s){return null!==s}function gn(s){return ta(()=>({type:s.type,bootstrap:s.bootstrap||Is,declarations:s.declarations||Is,imports:s.imports||Is,exports:s.exports||Is,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function hi(s,o){if(null==s)return Eo;const l={};for(const d in s)if(s.hasOwnProperty(d)){const m=s[d];let b,T,X=$u.None;Array.isArray(m)?(X=m[0],b=m[1],T=m[2]??b):(b=m,T=m),o?(l[b]=X!==$u.None?[d,X]:d,o[b]=T):l[b]=d}return l}function Qn(s){return ta(()=>{const o=bl(s);return ul(o),o})}function Yi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ir(s){return s[qs]||null}function zr(s){return s[Ec]||null}function js(s){return s[Ta]||null}function so(s){const o=ir(s)||zr(s)||js(s);return null!==o&&o.standalone}function Uo(s,o){const l=s[Ga]||null;if(!l&&!0===o)throw new Error(`Type ${qo(s)} does not have '\u0275mod' property.`);return l}function bl(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||Eo,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Is,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hi(s.inputs,o),outputs:hi(s.outputs),debugInfo:null}}function ul(s){s.features?.forEach(o=>o(s))}function gu(s,o){if(!s)return null;const l=o?js:lt;return()=>("function"==typeof s?s():s).map(d=>l(d)).filter(Ut)}function Nd(s){return{\u0275providers:s}}function ef(...s){return{\u0275providers:tf(0,s),\u0275fromNgModule:!0}}function tf(s,...o){const l=[],d=new Set;let m;const b=T=>{l.push(T)};return ll(o,T=>{const X=T;Mn(X,b,[],d)&&(m||=[],m.push(X))}),void 0!==m&&nf(m,b),l}function nf(s,o){for(let l=0;l<s.length;l++){const{ngModule:d,providers:m}=s[l];rf(m,b=>{o(b,d)})}}function Mn(s,o,l,d){if(!(s=qr(s)))return!1;let m=null,b=Ct(s);const T=!b&&ir(s);if(b||T){if(T&&!T.standalone)return!1;m=s}else{const ye=s.ngModule;if(b=Ct(ye),!b)return!1;m=ye}const X=d.has(m);if(T){if(X)return!1;if(d.add(m),T.dependencies){const ye="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const qe of ye)Mn(qe,o,l,d)}}else{if(!b)return!1;{if(null!=b.imports&&!X){let qe;d.add(m);try{ll(b.imports,mt=>{Mn(mt,o,l,d)&&(qe||=[],qe.push(mt))})}finally{}void 0!==qe&&nf(qe,o)}if(!X){const qe=ua(m)||(()=>new m);o({provide:m,useFactory:qe,deps:Is},m),o({provide:Hc,useValue:m,multi:!0},m),o({provide:zl,useValue:()=>Fs(m),multi:!0},m)}const ye=b.providers;if(null!=ye&&!X){const qe=s;rf(ye,mt=>{o(mt,qe)})}}}return m!==s&&void 0!==s.providers}function rf(s,o){for(let l of s)Cs(l)&&(l=l.\u0275providers),Array.isArray(l)?rf(l,o):o(l)}const _u=Ps({provide:String,useValue:Ps});function Od(s){return null!==s&&"object"==typeof s&&_u in s}function Al(s){return"function"==typeof s}const Ih=new yn(""),pe={},k={};let Fe;function _t(){return void 0===Fe&&(Fe=new da),Fe}class $e{}class en extends $e{get destroyed(){return this._destroyed}constructor(o,l,d,m){super(),this.parent=l,this.source=d,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qr(o,T=>this.processProvider(T)),this.records.set(pu,ki(void 0,this)),m.has("environment")&&this.records.set($e,ki(void 0,this));const b=this.records.get(Ih);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Hc,Is,Ds.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=C(null);try{for(const d of this._ngOnDestroyHooks)d.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const d of l)d()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),C(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=pr(this),d=ca(void 0);try{return o()}finally{pr(l),ca(d)}}get(o,l=Rc,d=Ds.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(yl))return o[yl](this);d=Qo(d);const b=pr(this),T=ca(void 0);try{if(!(d&Ds.SkipSelf)){let ye=this.records.get(o);if(void 0===ye){const qe=function _s(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(o)&&Fo(o);ye=qe&&this.injectableDefInScope(qe)?ki(xn(o),pe):null,this.records.set(o,ye)}if(null!=ye)return this.hydrate(o,ye)}return(d&Ds.Self?_t():this.parent).get(o,l=d&Ds.Optional&&l===Rc?null:l)}catch(X){if("NullInjectorError"===X.name){if((X[ge]=X[ge]||[]).unshift(qo(o)),b)throw X;return function hc(s,o,l,d){const m=s[ge];throw o[un]&&m.unshift(o[un]),s.message=function zc(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=qo(o);if(Array.isArray(o))m=o.map(qo).join(" -> ");else if("object"==typeof o){let b=[];for(let T in o)if(o.hasOwnProperty(T)){let X=o[T];b.push(T+":"+("string"==typeof X?JSON.stringify(X):qo(X)))}m=`{${b.join(", ")}}`}return`${l}${d?"("+d+")":""}[${m}]: ${s.replace(Be,"\n  ")}`}("\n"+s.message,m,l,d),s.ngTokenPath=m,s[ge]=null,s}(X,o,"R3InjectorError",this.source)}throw X}finally{ca(T),pr(b)}}resolveInjectorInitializers(){const o=C(null),l=pr(this),d=ca(void 0);try{const b=this.get(zl,Is,Ds.Self);for(const T of b)T()}finally{pr(l),ca(d),C(o)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(qo(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ki(205,!1)}processProvider(o){let l=Al(o=qr(o))?o:qr(o&&o.provide);const d=function gi(s){return Od(s)?ki(void 0,s.useValue):ki(bi(s),pe)}(o);if(!Al(o)&&!0===o.multi){let m=this.records.get(l);m||(m=ki(void 0,pe,!0),m.factory=()=>mo(m.multi),this.records.set(l,m)),l=o,m.multi.push(o)}this.records.set(l,d)}hydrate(o,l){const d=C(null);try{return l.value===pe&&(l.value=k,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ls(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{C(d)}}injectableDefInScope(o){if(!o.providedIn)return!1;const l=qr(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function xn(s){const o=Fo(s),l=null!==o?o.factory:ua(s);if(null!==l)return l;if(s instanceof yn)throw new Ki(204,!1);if(s instanceof Function)return function zn(s){if(s.length>0)throw new Ki(204,!1);const l=function I(s){return s&&(s[Xt]||s[ln])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ki(204,!1)}function bi(s,o,l){let d;if(Al(s)){const m=qr(s);return ua(m)||xn(m)}if(Od(s))d=()=>qr(s.useValue);else if(function Bf(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...mo(s.deps||[]));else if(function $f(s){return!(!s||!s.useExisting)}(s))d=()=>Fs(qr(s.useExisting));else{const m=qr(s&&(s.useClass||s.provide));if(!function Xi(s){return!!s.deps}(s))return ua(m)||xn(m);d=()=>new m(...mo(s.deps))}return d}function ki(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Qr(s,o){for(const l of s)Array.isArray(l)?Qr(l,o):l&&Cs(l)?Qr(l.\u0275providers,o):o(l)}function Mo(s,o){s instanceof en&&s.assertNotDestroyed();const d=pr(s),m=ca(void 0);try{return o()}finally{pr(d),ca(m)}}function ru(){return void 0!==Iu()||null!=function Si(){return li}()}function vl(s){if(!ru())throw new Ki(-203,!1)}const ti=0,Ln=1,ni=2,wi=3,sr=4,nr=5,Dr=6,As=7,hr=8,us=9,Co=10,wr=11,ba=12,$s=13,Zr=14,fs=15,ja=16,ss=17,Rs=18,Lo=19,Ml=20,va=21,mc=22,Ws=23,Or=25,Na=1,gc=7,wa=9,wl=10;var yd=function(s){return s[s.None=0]="None",s[s.HasTransplantedViews=2]="HasTransplantedViews",s}(yd||{});function Rl(s){return Array.isArray(s)&&"object"==typeof s[Na]}function _c(s){return Array.isArray(s)&&!0===s[Na]}function ed(s){return!!(4&s.flags)}function jl(s){return s.componentOffset>-1}function yu(s){return!(1&~s.flags)}function Nl(s){return!!s.template}function Ah(s){return!!(512&s[ni])}class Nh{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Oc(s,o,l,d){null!==o?o.applyValueToInputSignal(o,d):s[l]=d}function zf(){return Wa}function Wa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Fg),af}function af(){const s=Lg(this),o=s?.current;if(o){const l=s.previous;if(l===Eo)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Fg(s,o,l,d,m){const b=this.declaredInputs[d],T=Lg(s)||function $g(s,o){return s[Dp]=o}(s,{previous:Eo,current:null}),X=T.current||(T.current={}),ye=T.previous,qe=ye[b];X[b]=new Nh(qe&&qe.currentValue,l,ye===Eo),Oc(s,o,m,l)}zf.ngInherit=!0;const Dp="__ngSimpleChanges__";function Lg(s){return s[Dp]||null}const td=function(s,o,l){},Tp="svg";function na(s){for(;Array.isArray(s);)s=s[ti];return s}function Ip(s,o){return na(o[s])}function Pc(s,o){return na(o[s.index])}function jf(s,o){return s.data[o]}function Us(s,o){return s[o]}function Ru(s,o){const l=o[s];return Rl(l)?l:l[ti]}function kp(s){return!(128&~s[ni])}function Fl(s,o){return null==o?null:s[o]}function ny(s){s[ss]=0}function Vg(s){1024&s[ni]||(s[ni]|=1024,kp(s)&&Ap(s))}function lf(s){return!!(9216&s[ni]||s[Ws]?.dirty)}function Wf(s){s[Co].changeDetectionScheduler?.notify(8),64&s[ni]&&(s[ni]|=1024),lf(s)&&Ap(s)}function Ap(s){s[Co].changeDetectionScheduler?.notify(0);let o=ae(s);for(;null!==o&&!(8192&o[ni])&&(o[ni]|=8192,kp(o));)o=ae(o)}function R(s,o){if(!(256&~s[ni]))throw new Ki(911,!1);null===s[va]&&(s[va]=[]),s[va].push(o)}function ae(s){const o=s[wi];return _c(o)?o[wi]:o}const ht={lFrame:cf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let qn=!1;function jo(){return ht.bindingsEnabled}function Zo(){return null!==ht.skipHydrationRootTNode}function Ii(){return ht.lFrame.lView}function lo(){return ht.lFrame.tView}function zu(s){return ht.lFrame.contextLView=s,s[hr]}function qi(s){return ht.lFrame.contextLView=null,s}function Oa(){let s=Fh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fh(){return ht.lFrame.currentTNode}function Hf(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function wu(s,o){const l=ht.lFrame;l.currentTNode=s,l.isParent=o}function Ug(){return ht.lFrame.isParent}function zg(){ht.lFrame.isParent=!1}function rh(){return qn}function Pa(s){qn=s}function Jl(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function hl(){return ht.lFrame.bindingIndex}function vd(){return ht.lFrame.bindingIndex++}function Xa(s){const o=ht.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Rm(s){ht.lFrame.inI18n=s}function id(s,o){const l=ht.lFrame;l.bindingIndex=l.bindingRootIndex=s,Mp(o)}function Mp(s){ht.lFrame.currentDirectiveIndex=s}function iy(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function iv(){return ht.lFrame.currentQueryIndex}function Rp(s){ht.lFrame.currentQueryIndex=s}function ry(s){const o=s[Ln];return 2===o.type?o.declTNode:1===o.type?s[nr]:null}function Nm(s,o,l){if(l&Ds.SkipSelf){let m=o,b=s;for(;!(m=m.parent,null!==m||l&Ds.Host||(m=ry(b),null===m||(b=b[Zr],10&m.type))););if(null===m)return!1;o=m,s=b}const d=ht.lFrame=jg();return d.currentTNode=o,d.lView=s,!0}function Np(s){const o=jg(),l=s[Ln];ht.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function jg(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?cf(s):o}function cf(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wg(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const rx=Wg;function sy(){const s=Wg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function yc(){return ht.lFrame.selectedIndex}function rd(s){ht.lFrame.selectedIndex=s}function xl(){const s=ht.lFrame;return jf(s.tView,s.selectedIndex)}function Op(){ht.lFrame.currentNamespace=Tp}function sv(){!function sx(){ht.lFrame.currentNamespace=null}()}let Pp=!0;function Gf(){return Pp}function sd(s){Pp=s}function Om(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const b=s.data[l].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:X,ngAfterViewInit:ye,ngAfterViewChecked:qe,ngOnDestroy:mt}=b;T&&(s.contentHooks??=[]).push(-l,T),X&&((s.contentHooks??=[]).push(l,X),(s.contentCheckHooks??=[]).push(l,X)),ye&&(s.viewHooks??=[]).push(-l,ye),qe&&((s.viewHooks??=[]).push(l,qe),(s.viewCheckHooks??=[]).push(l,qe)),null!=mt&&(s.destroyHooks??=[]).push(l,mt)}}function Fp(s,o,l){Bd(s,o,3,l)}function Pm(s,o,l,d){(3&s[ni])===l&&Bd(s,o,l,d)}function ov(s,o){let l=s[ni];(3&l)===o&&(l&=16383,l+=1,s[ni]=l)}function Bd(s,o,l,d){const b=d??-1,T=o.length-1;let X=0;for(let ye=void 0!==d?65535&s[ss]:0;ye<T;ye++)if("number"==typeof o[ye+1]){if(X=o[ye],null!=d&&X>=d)break}else o[ye]<0&&(s[ss]+=65536),(X<b||-1==b)&&(ox(s,l,o,ye),s[ss]=(4294901760&s[ss])+ye+2),ye++}function Lp(s,o){td(4,s,o);const l=C(null);try{o.call(s)}finally{C(l),td(5,s,o)}}function ox(s,o,l,d){const m=l[d]<0,b=l[d+1],X=s[m?-l[d]:l[d]];m?s[ni]>>14<s[ss]>>16&&(3&s[ni])===o&&(s[ni]+=16384,Lp(X,b)):Lp(X,b)}const df=-1;class $p{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}const av={};class Lh{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=Qo(d);const m=this.injector.get(o,av,d);return m!==av||l===av?m:this.parentInjector.get(o,l,d)}}function Gg(s){return s!==df}function Fm(s){return 32767&s}function Xf(s,o){let l=function jS(s){return s>>16}(s),d=o;for(;l>0;)d=d[Zr],l--;return d}let qf=!0;function Pi(s){const o=qf;return qf=s,o}const Up=255,ly=5;let cy=0;const bc={};function zp(s,o){const l=$h(s,o);if(-1!==l)return l;const d=o[Ln];d.firstCreatePass&&(s.injectorIndex=o.length,uy(d.data,s),uy(o,null),uy(d.blueprint,null));const m=jp(s,o),b=s.injectorIndex;if(Gg(m)){const T=Fm(m),X=Xf(m,o),ye=X[Ln].data;for(let qe=0;qe<8;qe++)o[b+qe]=X[T+qe]|ye[T+qe]}return o[b+8]=m,b}function uy(s,o){s.push(0,0,0,0,0,0,0,0,o)}function $h(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function jp(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,m=o;for(;null!==m;){if(d=Gp(m),null===d)return df;if(l++,m=m[Zr],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return df}function Lm(s,o,l){!function sh(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Tl)&&(d=l[Tl]),null==d&&(d=l[Tl]=cy++);const m=d&Up;o.data[s+(m>>ly)]|=1<<m}(s,o,l)}function $m(s,o,l){if(l&Ds.Optional||void 0!==s)return s;Ul()}function Kg(s,o,l,d){if(l&Ds.Optional&&void 0===d&&(d=null),!(l&(Ds.Self|Ds.Host))){const m=s[us],b=ca(void 0);try{return m?m.get(o,d,l&Ds.Optional):fo(o,d,l&Ds.Optional)}finally{ca(b)}}return $m(d,0,l)}function Wp(s,o,l,d=Ds.Default,m){if(null!==s){if(2048&o[ni]&&!(d&Ds.Self)){const T=function cv(s,o,l,d,m){let b=s,T=o;for(;null!==b&&null!==T&&2048&T[ni]&&!(512&T[ni]);){const X=Bm(b,T,l,d|Ds.Self,bc);if(X!==bc)return X;let ye=b.parent;if(!ye){const qe=T[Ml];if(qe){const mt=qe.get(l,bc,d);if(mt!==bc)return mt}ye=Gp(T),T=T[Zr]}b=ye}return m}(s,o,l,d,bc);if(T!==bc)return T}const b=Bm(s,o,l,d,bc);if(b!==bc)return b}return Kg(o,l,d,m)}function Bm(s,o,l,d,m){const b=function dx(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Tl)?s[Tl]:void 0;return"number"==typeof o?o>=0?o&Up:hx:o}(l);if("function"==typeof b){if(!Nm(o,s,d))return d&Ds.Host?$m(m,0,d):Kg(o,l,d,m);try{let T;if(T=b(d),null!=T||d&Ds.Optional)return T;Ul()}finally{rx()}}else if("number"==typeof b){let T=null,X=$h(s,o),ye=df,qe=d&Ds.Host?o[fs][nr]:null;for((-1===X||d&Ds.SkipSelf)&&(ye=-1===X?jp(s,o):o[X+8],ye!==df&&dy(d,!1)?(T=o[Ln],X=Fm(ye),o=Xf(ye,o)):X=-1);-1!==X;){const mt=o[Ln];if(qg(b,X,mt.data)){const Zt=Xg(X,o,l,T,d,qe);if(Zt!==bc)return Zt}ye=o[X+8],ye!==df&&dy(d,o[Ln].data[X+8]===qe)&&qg(b,X,o)?(T=mt,X=Fm(ye),o=Xf(ye,o)):X=-1}}return m}function Xg(s,o,l,d,m,b){const T=o[Ln],X=T.data[s+8],mt=Vm(X,T,l,null==d?jl(X)&&qf:d!=T&&!!(3&X.type),m&Ds.Host&&b===X);return null!==mt?Bh(o,T,mt,X):bc}function Vm(s,o,l,d,m){const b=s.providerIndexes,T=o.data,X=1048575&b,ye=s.directiveStart,mt=b>>20,Tn=m?X+mt:s.directiveEnd;for(let $n=d?X:X+mt;$n<Tn;$n++){const ii=T[$n];if($n<ye&&l===ii||$n>=ye&&ii.type===l)return $n}if(m){const $n=T[ye];if($n&&Nl($n)&&$n.type===l)return ye}return null}function Bh(s,o,l,d){let m=s[l];const b=o.data;if(function Kf(s){return s instanceof $p}(m)){const T=m;T.resolving&&function Yl(s,o){throw o&&o.join(" > "),new Ki(-200,s)}(function bo(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ss(s)}(b[l]));const X=Pi(T.canSeeViewProviders);T.resolving=!0;const qe=T.injectImpl?ca(T.injectImpl):null;Nm(s,d,Ds.Default);try{m=s[l]=T.factory(void 0,b,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Hg(s,o,l){const{ngOnChanges:d,ngOnInit:m,ngDoCheck:b}=o.type.prototype;if(d){const T=Wa(o);(l.preOrderHooks??=[]).push(s,T),(l.preOrderCheckHooks??=[]).push(s,T)}m&&(l.preOrderHooks??=[]).push(0-s,m),b&&((l.preOrderHooks??=[]).push(s,b),(l.preOrderCheckHooks??=[]).push(s,b))}(l,b[l],o)}finally{null!==qe&&ca(qe),Pi(X),T.resolving=!1,rx()}}return m}function qg(s,o,l){return!!(l[o+(s>>ly)]&1<<s)}function dy(s,o){return!(s&Ds.Self||s&Ds.Host&&o)}class fa{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Wp(this._tNode,this._lView,o,Qo(d),l)}}function hx(){return new fa(Oa(),Ii())}function Yg(s){return ta(()=>{const o=s.prototype.constructor,l=o[Io]||Hp(o),d=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==d;){const b=m[Io]||Hp(m);if(b&&b!==l)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function Hp(s){return ao(s)?()=>{const o=Hp(qr(s));return o&&o()}:ua(s)}function Gp(s){const o=s[Ln],l=o.type;return 2===l?o.declTNode:1===l?s[nr]:null}function Um(s){return function lv(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let m=0;for(;m<d;){const b=l[m];if(Sh(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<d&&"string"==typeof l[m];)m++;else{if(b===o)return l[m+1];m+=2}}}return null}(Oa(),s)}function Nu(s,o=null,l=null,d){const m=oh(s,o,l,d);return m.resolveInjectorInitializers(),m}function oh(s,o=null,l=null,d,m=new Set){const b=[l||Is,ef(s)];return d=d||("object"==typeof s?void 0:qo(s)),new en(b,o||_t(),d||null,m)}class ia{static#e=this.THROW_IF_NOT_FOUND=Rc;static#t=this.NULL=new da;static create(o,l){if(Array.isArray(o))return Nu({name:""},l,o,"");{const d=o.name??"";return Nu({name:d},o.parent,o.providers,d)}}static#n=this.\u0275prov=Li({token:ia,providedIn:"any",factory:()=>Fs(pu)});static#i=this.__NG_ELEMENT_ID__=-1}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */new yn("").__NG_ELEMENT_ID__=s=>{const o=Oa();if(null===o)throw new Ki(204,!1);if(2&o.type)return o.value;if(s&Ds.Optional)return null;throw new Ki(204,!1)};function Wm(s){return s.ngOriginalError}const Zf=!0;let Hm=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Gm;static#t=this.__NG_ENV_ID__=l=>l}return s})();class px extends Hm{constructor(o){super(),this._lView=o}onDestroy(o){return R(this._lView,o),()=>function V(s,o){if(null===s[va])return;const l=s[va].indexOf(o);-1!==l&&s[va].splice(l,1)}(this._lView,o)}}function Gm(){return new px(Ii())}let ju=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:()=>new s})}return s})();const qc=class Xp extends vt.B7{constructor(o=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=o,ru()&&(this.destroyRef=ji(Hm,{optional:!0})??void 0,this.pendingTasks=ji(ju,{optional:!0})??void 0)}emit(o){const l=C(null);try{super.next(o)}finally{C(l)}}subscribe(o,l,d){let m=o,b=l||(()=>null),T=d;if(o&&"object"==typeof o){const ye=o;m=ye.next?.bind(ye),b=ye.error?.bind(ye),T=ye.complete?.bind(ye)}this.__isAsync&&(b=this.wrapInTimeout(b),m&&(m=this.wrapInTimeout(m)),T&&(T=this.wrapInTimeout(T)));const X=super.subscribe({next:m,error:b,complete:T});return o instanceof an.y&&o.add(X),X}wrapInTimeout(o){return l=>{const d=this.pendingTasks?.add();setTimeout(()=>{o(l),void 0!==d&&this.pendingTasks?.remove(d)})}}};function Fc(...s){}function pv(s){let o,l;function d(){s=Fc;try{void 0!==l&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(l),void 0!==o&&clearTimeout(o)}catch{}}return o=setTimeout(()=>{s(),d()}),"function"==typeof requestAnimationFrame&&(l=requestAnimationFrame(()=>{s(),d()})),()=>d()}function Wn(s){return queueMicrotask(()=>s()),()=>{s=Fc}}const qp="isAngularZone",ah=qp+"_ID";let Yp=0;class Fa{constructor(o){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qc(!1),this.onMicrotaskEmpty=new qc(!1),this.onStable=new qc(!1),this.onError=new qc(!1);const{enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:m=!1,scheduleInRootZone:b=Zf}=o;if(typeof Zone>"u")throw new Ki(908,!1);Zone.assertZonePatched();const T=this;T._nesting=0,T._outer=T._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(T._inner=T._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(T._inner=T._inner.fork(Zone.longStackTraceZoneSpec)),T.shouldCoalesceEventChangeDetection=!m&&d,T.shouldCoalesceRunChangeDetection=m,T.callbackScheduled=!1,T.scheduleInRootZone=b,function my(s){const o=()=>{!function Ro(s){function o(){pv(()=>{s.callbackScheduled=!1,Wu(s),s.isCheckStableRunning=!0,Qp(s),s.isCheckStableRunning=!1})}s.isCheckStableRunning||s.callbackScheduled||(s.callbackScheduled=!0,s.scheduleInRootZone?Zone.root.run(()=>{o()}):s._outer.run(()=>{o()}),Wu(s))}(s)},l=Yp++;s._inner=s._inner.fork({name:"angular",properties:{[qp]:!0,[ah]:l,[ah+l]:!0},onInvokeTask:(d,m,b,T,X,ye)=>{if(function Jf(s){return gv(s,"__ignore_ng_zone__")}(ye))return d.invokeTask(b,T,X,ye);try{return mv(s),d.invokeTask(b,T,X,ye)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||s.shouldCoalesceRunChangeDetection)&&o(),Wo(s)}},onInvoke:(d,m,b,T,X,ye,qe)=>{try{return mv(s),d.invoke(b,T,X,ye,qe)}finally{s.shouldCoalesceRunChangeDetection&&!s.callbackScheduled&&!function gx(s){return gv(s,"__scheduler_tick__")}(ye)&&o(),Wo(s)}},onHasTask:(d,m,b,T)=>{d.hasTask(b,T),m===b&&("microTask"==T.change?(s._hasPendingMicrotasks=T.microTask,Wu(s),Qp(s)):"macroTask"==T.change&&(s.hasPendingMacrotasks=T.macroTask))},onHandleError:(d,m,b,T)=>(d.handleError(b,T),s.runOutsideAngular(()=>s.onError.emit(T)),!1)})}(T)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(qp)}static assertInAngularZone(){if(!Fa.isInAngularZone())throw new Ki(909,!1)}static assertNotInAngularZone(){if(Fa.isInAngularZone())throw new Ki(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,m){const b=this._inner,T=b.scheduleEventTask("NgZoneEvent: "+m,o,cc,Fc,Fc);try{return b.runTask(T,l,d)}finally{b.cancelTask(T)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const cc={};function Qp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Wu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&!0===s.callbackScheduled)}function mv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Wo(s){s._nesting--,Qp(s)}class gy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qc,this.onMicrotaskEmpty=new qc,this.onStable=new qc,this.onError=new qc}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,m){return o.apply(l,d)}}function gv(s,o){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0]?.data?.[o]}class ad{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Wm(o);for(;l&&Wm(l);)l=Wm(l);return l||null}}const yx=new yn("",{providedIn:"root",factory:()=>{const s=ji(Fa),o=ji(ad);return l=>s.runOutsideAngular(()=>o.handleError(l))}});function _y(){return Zp(Oa(),Ii())}function Zp(s,o){return new Km(Pc(s,o))}let Km=(()=>{class s{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=_y}return s})();function yy(s){return s instanceof Km?s.nativeElement:s}function vx(){return this._results[Symbol.iterator]()}class i_{static#e=Symbol.iterator;get changes(){return this._changes??=new qc}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=i_.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=vx)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){this.dirty=!1;const d=function Ql(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Aa(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let m=s[d],b=o[d];if(l&&(m=l(m),b=l(b)),b!==m)return!1}return!0}(this._results,d,l))&&(this._results=d,this.length=d.length,this.last=d[this.length-1],this.first=d[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function qm(s){return!(128&~s.flags)}const xu=new Map;let KS=0;function vv(s){xu.delete(s[Lo])}const ld="__ngContext__";function Lc(s,o){Rl(o)?(s[ld]=o[Lo],function XS(s){xu.set(s[Lo],s)}(o)):s[ld]=o}function Sx(s){return tm(s[ba])}function Ym(s){return tm(s[sr])}function tm(s){for(;null!==s&&!_c(s);)s=s[sr];return s}let Ty;function Tv(s){Ty=s}function pf(){if(void 0!==Ty)return Ty;if(typeof document<"u")return document;throw new Ki(210,!1)}const zh=new yn("",{providedIn:"root",factory:()=>Ix}),Ix="ng",nm=new yn(""),c_=new yn("",{providedIn:"platform",factory:()=>"unknown"}),Iv=new yn(""),kv=new yn("",{providedIn:"root",factory:()=>pf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cu=()=>null;function d_(s,o,l=!1){return cu(s,o,l)}const lm=new yn("",{providedIn:"root",factory:()=>!1});let $,at;function v(s){return function w(){if(void 0===$&&($=null,Do.trustedTypes))try{$=Do.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $}()?.createHTML(s)||s}function zt(){if(void 0===at&&(at=null,Do.trustedTypes))try{at=Do.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return at}function Dn(s){return zt()?.createHTML(s)||s}function Ui(s){return zt()?.createScriptURL(s)||s}class gr{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${la})`}}class jr extends gr{getTypeName(){return"HTML"}}class Gs extends gr{getTypeName(){return"Style"}}class Ks extends gr{getTypeName(){return"Script"}}class $o extends gr{getTypeName(){return"URL"}}class No extends gr{getTypeName(){return"ResourceURL"}}function ks(s){return s instanceof gr?s.changingThisBreaksApplicationSecurity:s}function il(s,o){const l=function zv(s){return s instanceof gr&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${la})`)}return l===o}function cm(s){return new jr(s)}function f_(s){return new Gs(s)}function nD(s){return new Ks(s)}function jv(s){return new $o(s)}function Qk(s){return new No(s)}function Wv(s){const o=new Jk(s);return function Hv(){try{return!!(new window.DOMParser).parseFromString(v(""),"text/html")}catch{return!1}}()?new Zk(o):o}class Zk{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(v(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.firstChild?.remove(),l)}catch{return null}}}class Jk{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=v(o),l}}const eA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ry(s){return(s=String(s)).match(eA)?s:"unsafe:"+s}function rp(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Ny(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const iD=rp("area,br,col,hr,img,wbr"),uc=rp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$c=rp("rp,rt"),sp=Ny(iD,Ny(uc,rp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ny($c,rp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ny($c,uc)),Mx=rp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rx=Ny(Mx,rp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nA=rp("script,style,template");class Gv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0,m=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)m.push(l),l=sA(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let b=rA(l);if(b){l=b;break}l=m.pop()}return this.buf.join("")}startElement(o){const l=rD(o).toLowerCase();if(!sp.hasOwnProperty(l))return this.sanitizedSomething=!0,!nA.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let m=0;m<d.length;m++){const b=d.item(m),T=b.name,X=T.toLowerCase();if(!Rx.hasOwnProperty(X)){this.sanitizedSomething=!0;continue}let ye=b.value;Mx[X]&&(ye=Ry(ye)),this.buf.push(" ",T,'="',Kv(ye),'"')}return this.buf.push(">"),!0}endElement(o){const l=rD(o).toLowerCase();sp.hasOwnProperty(l)&&!iD.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Kv(o))}}function rA(s){const o=s.nextSibling;if(o&&s!==o.previousSibling)throw sD(o);return o}function sA(s){const o=s.firstChild;if(o&&function iA(s,o){return(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,o))throw sD(o);return o}function rD(s){const o=s.nodeName;return"string"==typeof o?o:"FORM"}function sD(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const p_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oA=/([^\#-~ |!])/g;function Kv(s){return s.replace(/&/g,"&amp;").replace(p_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(oA,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xv;function Ed(s,o){let l=null;try{Xv=Xv||Wv(s);let d=o?String(o):"";l=Xv.getInertBodyElement(d);let m=5,b=d;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,d=b,b=l.innerHTML,l=Xv.getInertBodyElement(d)}while(d!==b);return v((new Gv).sanitizeChildren(Nx(l)||l))}finally{if(l){const d=Nx(l)||l;for(;d.firstChild;)d.firstChild.remove()}}}function Nx(s){return"content"in s&&function aA(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var tg=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(tg||{});function op(s){const o=Oy();return o?Dn(o.sanitize(tg.HTML,s)||""):il(s,"HTML")?Dn(ks(s)):Ed(pf(),Ss(s))}function Ox(s){const o=Oy();return o?o.sanitize(tg.URL,s)||"":il(s,"URL")?ks(s):Ry(Ss(s))}function oD(s){const o=Oy();if(o)return Ui(o.sanitize(tg.RESOURCE_URL,s)||"");if(il(s,"ResourceURL"))return Ui(ks(s));throw new Ki(904,!1)}function aD(s,o,l){return function hA(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?oD:Ox}(o,l)(s)}function Oy(){const s=Ii();return s&&s[Co].sanitizer}const fA=/^>|^->|<!--|-->|--!>|<!-$/g,pA=/(<|>)/g,lD="\u200b$1\u200b";function mD(s){return s.ownerDocument.defaultView}function jd(s){return s instanceof Function?s():s}function Wd(s){return"browser"===(s??ji(ia)).get(c_)}var Ly=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Ly||{});let Bx;function ch(s,o){return Bx(s,o)}function dm(s,o,l,d,m){if(null!=d){let b,T=!1;_c(d)?b=d:Rl(d)&&(T=!0,d=d[ti]);const X=na(d);0===s&&null!==l?null==m?Jv(o,l,X):ig(o,l,X,m||null,!0):1===s&&null!==l?ig(o,l,X,m||null,!0):2===s?hm(o,X,T):3===s&&o.destroyNode(X),null!=b&&function s0(s,o,l,d,m){const b=l[gc];b!==na(l)&&dm(o,s,d,b,m);for(let X=wl;X<l.length;X++){const ye=l[X];n0(ye[Ln],ye,s,o,d,b)}}(o,s,b,l,m)}}function Vx(s,o){return s.createText(o)}function Hd(s,o,l){s.setValue(o,l)}function Ux(s,o){return s.createComment(function cD(s){return s.replace(fA,o=>o.replace(pA,lD))}(o))}function Yv(s,o,l){return s.createElement(o,l)}function bD(s,o){o[Co].changeDetectionScheduler?.notify(9),n0(s,o,o[wr],2,null,null)}function vD(s,o){const l=s[wa],d=o[wi];(Rl(d)||o[fs]!==d[wi][fs])&&(s[ni]|=yd.HasTransplantedViews),null===l?s[wa]=[o]:l.push(o)}function zx(s,o){const l=s[wa],d=l.indexOf(o);l.splice(d,1)}function ng(s,o){if(s.length<=wl)return;const l=wl+o,d=s[l];if(d){const m=d[ja];null!==m&&m!==s&&zx(m,d),o>0&&(s[l-1][sr]=d[sr]);const b=ku(s,wl+o);!function xA(s,o){bD(s,o),o[ti]=null,o[nr]=null}(d[Ln],d);const T=b[Rs];null!==T&&T.detachView(b[Ln]),d[wi]=null,d[sr]=null,d[ni]&=-129}return d}function Qv(s,o){if(!(256&o[ni])){const l=o[wr];l.destroyNode&&n0(s,o,l,3,null,null),function CA(s){let o=s[ba];if(!o)return $y(s[Ln],s);for(;o;){let l=null;if(Rl(o))l=o[ba];else{const d=o[wl];d&&(l=d)}if(!l){for(;o&&!o[sr]&&o!==s;)Rl(o)&&$y(o[Ln],o),o=o[wi];null===o&&(o=s),Rl(o)&&$y(o[Ln],o),l=o&&o[sr]}o=l}}(o)}}function $y(s,o){if(256&o[ni])return;const l=C(null);try{o[ni]&=-129,o[ni]|=256,o[Ws]&&Ye(o[Ws]),function jx(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const m=o[l[d]];if(!(m instanceof $p)){const b=l[d+1];if(Array.isArray(b))for(let T=0;T<b.length;T+=2){const X=m[b[T]],ye=b[T+1];td(4,X,ye);try{ye.call(X)}finally{td(5,X,ye)}}else{td(4,m,b);try{b.call(m)}finally{td(5,m,b)}}}}}(s,o),function DA(s,o){const l=s.cleanup,d=o[As];if(null!==l)for(let b=0;b<l.length-1;b+=2)if("string"==typeof l[b]){const T=l[b+3];T>=0?d[T]():d[-T].unsubscribe(),b+=2}else l[b].call(d[l[b+1]]);null!==d&&(o[As]=null);const m=o[va];if(null!==m){o[va]=null;for(let b=0;b<m.length;b++)(0,m[b])()}}(s,o),1===o[Ln].type&&o[wr].destroy();const d=o[ja];if(null!==d&&_c(o[wi])){d!==o[wi]&&zx(d,o);const m=o[Rs];null!==m&&m.detachView(s)}vv(o)}finally{C(l)}}function Wx(s,o,l){return Zv(s,o.parent,l)}function Zv(s,o,l){let d=o;for(;null!==d&&168&d.type;)d=(o=d).parent;if(null===d)return l[ti];{const{componentOffset:m}=d;if(m>-1){const{encapsulation:b}=s.data[d.directiveStart+m];if(b===lc.None||b===lc.Emulated)return null}return Pc(d,l)}}function ig(s,o,l,d,m){s.insertBefore(o,l,d,m)}function Jv(s,o,l){s.appendChild(o,l)}function wD(s,o,l,d,m){null!==d?ig(s,o,l,d,m):Jv(s,o,l)}function Hx(s,o){return s.parentNode(o)}function ED(s,o,l){return CD(s,o,l)}function e0(s,o,l){return 40&s.type?Pc(s,l):null}let By,CD=e0;function SD(s,o){CD=s,By=o}function rg(s,o,l,d){const m=Wx(s,d,o),b=o[wr],X=ED(d.parent||o[nr],d,o);if(null!=m)if(Array.isArray(l))for(let ye=0;ye<l.length;ye++)wD(b,m,l[ye],X,!1);else wD(b,m,l,X,!1);void 0!==By&&By(b,d,o,l,m)}function sg(s,o){if(null!==o){const l=o.type;if(3&l)return Pc(o,s);if(4&l)return Gx(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return sg(s,d);{const m=s[o.index];return _c(m)?Gx(-1,m):na(m)}}if(128&l)return sg(s,o.next);if(32&l)return ch(o,s)()||na(s[o.index]);{const d=t0(s,o);return null!==d?Array.isArray(d)?d[0]:sg(ae(s[fs]),d):sg(s,o.next)}}return null}function t0(s,o){return null!==o?s[fs][nr].projection[o.projection]:null}function Gx(s,o){const l=wl+s+1;if(l<o.length){const d=o[l],m=d[Ln].firstChild;if(null!==m)return sg(d,m)}return o[gc]}function hm(s,o,l){s.removeChild(null,o,l)}function og(s,o,l,d,m,b,T){for(;null!=l;){if(128===l.type){l=l.next;continue}const X=d[l.index],ye=l.type;if(T&&0===o&&(X&&Lc(na(X),d),l.flags|=2),32&~l.flags)if(8&ye)og(s,o,l.child,d,m,b,!1),dm(o,s,m,X,b);else if(32&ye){const qe=ch(l,d);let mt;for(;mt=qe();)dm(o,s,m,mt,b);dm(o,s,m,X,b)}else 16&ye?TD(s,o,d,l,m,b):dm(o,s,m,X,b);l=T?l.projectionNext:l.next}}function n0(s,o,l,d,m,b){og(l,d,s.firstChild,o,m,b,!1)}function TD(s,o,l,d,m,b){const T=l[fs],ye=T[nr].projection[d.projection];if(Array.isArray(ye))for(let qe=0;qe<ye.length;qe++)dm(o,s,m,ye[qe],b);else{let qe=ye;const mt=T[wi];qm(d)&&(qe.flags|=128),og(s,o,qe,mt,m,b,!0)}}function ID(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function o0(s,o,l){const{mergedAttrs:d,classes:m,styles:b}=l;null!==d&&Gc(s,o,d),null!==m&&ID(s,o,m),null!==b&&function Vy(s,o,l){s.setAttribute(o,"style",l)}(s,o,b)}const go={};function dd(s=1){kD(lo(),Ii(),yc()+s,!1)}function kD(s,o,l,d){if(!d)if(3&~o[ni]){const b=s.preOrderHooks;null!==b&&Pm(o,b,0,l)}else{const b=s.preOrderCheckHooks;null!==b&&Fp(o,b,l)}rd(l)}function ap(s,o=Ds.Default){const l=Ii();return null===l?Fs(s,o):Wp(Oa(),l,qr(s),o)}function AD(){throw new Error("invalid")}function a0(s,o,l,d,m,b){const T=C(null);try{let X=null;m&$u.SignalBased&&(X=o[d][S]),null!==X&&void 0!==X.transformFn&&(b=X.transformFn(b)),m&$u.HasDecoratorInputTransform&&(b=s.inputTransforms[d].call(o,b)),null!==s.setInput?s.setInput(o,X,b,l,d):Oc(o,X,d,b)}finally{C(T)}}function yf(s,o,l,d,m,b,T,X,ye,qe,mt){const Zt=o.blueprint.slice();return Zt[ti]=m,Zt[ni]=204|d,(null!==qe||s&&2048&s[ni])&&(Zt[ni]|=2048),ny(Zt),Zt[wi]=Zt[Zr]=s,Zt[hr]=l,Zt[Co]=T||s&&s[Co],Zt[wr]=X||s&&s[wr],Zt[us]=ye||s&&s[us]||null,Zt[nr]=b,Zt[Lo]=function bv(){return KS++}(),Zt[Dr]=mt,Zt[Ml]=qe,Zt[fs]=2==o.type?s[fs]:Zt,Zt}function ag(s,o,l,d,m){let b=s.data[o];if(null===b)b=Ou(s,o,l,d,m),function nd(){return ht.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=l,b.value=d,b.attrs=m;const T=Hf();b.injectorIndex=null===T?-1:T.injectorIndex}return wu(b,!0),b}function Ou(s,o,l,d,m){const b=Fh(),T=Ug(),ye=s.data[o]=function MA(s,o,l,d,m,b){let T=o?o.injectorIndex:-1,X=0;return Zo()&&(X|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:X,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?b:b&&b.parent,l,o,d,m);return null===s.firstChild&&(s.firstChild=ye),null!==b&&(T?null==b.child&&null!==ye.parent&&(b.child=ye):null===b.next&&(b.next=ye,ye.prev=b)),ye}function Uy(s,o,l,d){if(0===l)return-1;const m=o.length;for(let b=0;b<l;b++)o.push(d),s.blueprint.push(d),s.data.push(null);return m}function lg(s,o,l,d,m){const b=yc(),T=2&d;try{rd(-1),T&&o.length>Or&&kD(s,o,Or,!1),td(T?2:0,m),l(d,m)}finally{rd(b),td(T?3:1,m)}}function Kx(s,o,l){if(ed(o)){const d=C(null);try{const b=o.directiveEnd;for(let T=o.directiveStart;T<b;T++){const X=s.data[T];X.contentQueries&&X.contentQueries(1,l[T],T)}}finally{C(d)}}}function l0(s,o,l){jo()&&(function $D(s,o,l,d){const m=l.directiveStart,b=l.directiveEnd;jl(l)&&function oa(s,o,l){const d=Pc(o,s),m=qx(l);let T=16;l.signals?T=4096:l.onPush&&(T=64);const X=d0(s,yf(s,m,null,T,d,o,null,s[Co].rendererFactory.createRenderer(d,l),null,null,null));s[o.index]=X}(o,l,s.data[m+l.componentOffset]),s.firstCreatePass||zp(l,o),Lc(d,o);const T=l.initialInputs;for(let X=m;X<b;X++){const ye=s.data[X],qe=Bh(o,s,X,l);Lc(qe,o),null!==T&&BA(0,X-m,qe,ye,0,T),Nl(ye)&&(Ru(l.index,o)[hr]=Bh(o,s,X,l))}}(s,o,l,Pc(l,o)),!(64&~l.flags)&&c0(s,o,l))}function Xx(s,o,l=Pc){const d=o.localNames;if(null!==d){let m=o.index+1;for(let b=0;b<d.length;b+=2){const T=d[b+1],X=-1===T?l(o,s):s[T];s[m++]=X}}}function qx(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=uu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function uu(s,o,l,d,m,b,T,X,ye,qe,mt){const Zt=Or+d,Tn=Zt+m,$n=function cg(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:go);return l}(Zt,Tn),ii="function"==typeof qe?qe():qe;return $n[Ln]={type:s,blueprint:$n,template:l,queries:null,viewQuery:X,declTNode:o,data:$n.slice().fill(null,Zt),bindingStartIndex:Zt,expandoStartIndex:Tn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:ye,consts:ii,incompleteFirstPass:!1,ssrId:mt}}let MD=()=>null;function ND(s,o,l,d,m){for(let b in o){if(!o.hasOwnProperty(b))continue;const T=o[b];if(void 0===T)continue;d??={};let X,ye=$u.None;Array.isArray(T)?(X=T[0],ye=T[1]):X=T;let qe=b;if(null!==m){if(!m.hasOwnProperty(b))continue;qe=m[b]}0===s?OD(d,l,qe,X,ye):OD(d,l,qe,X)}return d}function OD(s,o,l,d,m){let b;s.hasOwnProperty(l)?(b=s[l]).push(o,d):b=s[l]=[o,d],void 0!==m&&b.push(m)}function Ku(s,o,l,d,m,b,T,X){const ye=Pc(o,l);let mt,qe=o.inputs;!X&&null!=qe&&(mt=qe[d])?(Wy(s,l,mt,d,m),jl(o)&&function NA(s,o){const l=Ru(o,s);16&l[ni]||(l[ni]|=64)}(l,o.index)):3&o.type&&(d=function RA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),m=null!=T?T(m,o.value||"",d):m,b.setProperty(ye,d,m))}function zy(s,o,l,d){if(jo()){const m=null===d?null:{"":-1},b=function Qx(s,o){const l=s.directiveRegistry;let d=null,m=null;if(l)for(let b=0;b<l.length;b++){const T=l[b];if(Cc(o,T.selectors,!1))if(d||(d=[]),Nl(T))if(null!==T.findHostDirectiveDefs){const X=[];m=m||new Map,T.findHostDirectiveDefs(T,X,m),d.unshift(...X,T),u0(s,o,X.length)}else d.unshift(T),u0(s,o,0);else m=m||new Map,T.findHostDirectiveDefs?.(T,d,m),d.push(T)}return null===d?null:[d,m]}(s,l);let T,X;null===b?T=X=null:[T,X]=b,null!==T&&LD(s,o,l,T,m,X),m&&function FA(s,o,l){if(o){const d=s.localNames=[];for(let m=0;m<o.length;m+=2){const b=l[o[m+1]];if(null==b)throw new Ki(-301,!1);d.push(o[m],b)}}}(l,d,m)}l.mergedAttrs=cl(l.mergedAttrs,l.attrs)}function LD(s,o,l,d,m,b){for(let qe=0;qe<d.length;qe++)Lm(zp(l,o),s,d[qe].type);!function LA(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let qe=0;qe<d.length;qe++){const mt=d[qe];mt.providersResolver&&mt.providersResolver(mt)}let T=!1,X=!1,ye=Uy(s,o,d.length,null);for(let qe=0;qe<d.length;qe++){const mt=d[qe];l.mergedAttrs=cl(l.mergedAttrs,mt.hostAttrs),$A(s,l,o,ye,mt),Zx(ye,mt,m),null!==mt.contentQueries&&(l.flags|=4),(null!==mt.hostBindings||null!==mt.hostAttrs||0!==mt.hostVars)&&(l.flags|=64);const Zt=mt.type.prototype;!T&&(Zt.ngOnChanges||Zt.ngOnInit||Zt.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),T=!0),!X&&(Zt.ngOnChanges||Zt.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),X=!0),ye++}!function PD(s,o,l){const m=o.directiveEnd,b=s.data,T=o.attrs,X=[];let ye=null,qe=null;for(let mt=o.directiveStart;mt<m;mt++){const Zt=b[mt],Tn=l?l.get(Zt):null,ii=Tn?Tn.outputs:null;ye=ND(0,Zt.inputs,mt,ye,Tn?Tn.inputs:null),qe=ND(1,Zt.outputs,mt,qe,ii);const Ri=null===ye||null===T||Ra(o)?null:VA(ye,mt,T);X.push(Ri)}null!==ye&&(ye.hasOwnProperty("class")&&(o.flags|=8),ye.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=X,o.inputs=ye,o.outputs=qe}(s,l,b)}function c0(s,o,l){const d=l.directiveStart,m=l.directiveEnd,b=l.index,T=function ix(){return ht.lFrame.currentDirectiveIndex}();try{rd(b);for(let X=d;X<m;X++){const ye=s.data[X],qe=o[X];Mp(X),(null!==ye.hostBindings||0!==ye.hostVars||null!==ye.hostAttrs)&&PA(ye,qe)}}finally{rd(-1),Mp(T)}}function PA(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function u0(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function Zx(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Nl(o)&&(l[""]=s)}}function $A(s,o,l,d,m){s.data[d]=m;const b=m.factory||(m.factory=ua(m.type)),T=new $p(b,Nl(m),ap);s.blueprint[d]=T,l[d]=T,function uh(s,o,l,d,m){const b=m.hostBindings;if(b){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const X=~o.index;(function OA(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=X&&T.push(X),T.push(l,d,b)}}(s,o,d,Uy(s,l,m.hostVars,go),m)}function Jx(s,o,l,d,m,b,T){if(null==b)s.removeAttribute(o,m,l);else{const X=null==T?Ss(b):T(b,d||"",m);s.setAttribute(o,m,X,l)}}function BA(s,o,l,d,m,b){const T=b[o];if(null!==T)for(let X=0;X<T.length;)a0(d,l,T[X++],T[X++],T[X++],T[X++])}function VA(s,o,l){let d=null,m=0;for(;m<l.length;){const b=l[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===d&&(d=[]);const T=s[b];for(let X=0;X<T.length;X+=3)if(T[X]===o){d.push(b,T[X+1],T[X+2],l[m+1]);break}}m+=2}else m+=2;else m+=4}return d}function BD(s,o,l,d){return[s,!0,0,o,null,d,null,l,null,null]}function VD(s,o){const l=s.contentQueries;if(null!==l){const d=C(null);try{for(let m=0;m<l.length;m+=2){const T=l[m+1];if(-1!==T){const X=s.data[T];Rp(l[m]),X.contentQueries(2,o[T],T)}}}finally{C(d)}}}function d0(s,o){return s[ba]?s[$s][sr]=o:s[ba]=o,s[$s]=o,o}function eE(s,o,l){Rp(0);const d=C(null);try{o(s,l)}finally{C(d)}}function UD(s){return s[As]??=[]}function zD(s){return s.cleanup??=[]}function tE(s,o,l){return(null===s||Nl(s))&&(l=function Mu(s){for(;Array.isArray(s);){if("object"==typeof s[Na])return s;s=s[ti]}return null}(l[o.index])),l[wr]}function jy(s,o){const l=s[us],d=l?l.get(ad,null):null;d&&d.handleError(o)}function Wy(s,o,l,d,m){for(let b=0;b<l.length;){const T=l[b++],X=l[b++],ye=l[b++];a0(s.data[T],o[T],d,X,ye,m)}}function lp(s,o,l){const d=Ip(o,s);Hd(s[wr],d,l)}function nE(s,o){const l=Ru(o,s),d=l[Ln];!function UA(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(d,l);const m=l[ti];null!==m&&null===l[Dr]&&(l[Dr]=d_(m,l[us])),iE(d,l,l[hr])}function iE(s,o,l){Np(o);try{const d=s.viewQuery;null!==d&&eE(1,d,l);const m=s.template;null!==m&&lg(s,o,m,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),o[Rs]?.finishViewCreation(s),s.staticContentQueries&&VD(s,o),s.staticViewQueries&&eE(2,s.viewQuery,l);const b=s.components;null!==b&&function rE(s,o){for(let l=0;l<o.length;l++)nE(s,o[l])}(o,b)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[ni]&=-5,sy()}}function cp(s,o,l,d){const m=C(null);try{const b=o.tView,ye=yf(s,b,l,4096&s[ni]?4096:16,null,o,null,null,d?.injector??null,d?.embeddedViewInjector??null,d?.dehydratedView??null);ye[ja]=s[o.index];const mt=s[Rs];return null!==mt&&(ye[Rs]=mt.createEmbeddedView(b)),iE(b,ye,l),ye}finally{C(m)}}function Hy(s,o){const l=wl+o;if(l<s.length)return s[l]}function vf(s,o){return!o||null===o.firstChild||qm(s)}function up(s,o,l,d=!0){const m=o[Ln];if(function SA(s,o,l,d){const m=wl+d,b=l.length;d>0&&(l[m-1][sr]=o),d<b-wl?(o[sr]=l[m],ko(l,wl+d,o)):(l.push(o),o[sr]=null),o[wi]=l;const T=o[ja];null!==T&&l!==T&&vD(T,o);const X=o[Rs];null!==X&&X.insertView(s),Wf(o),o[ni]|=128}(m,o,s,l),d){const T=Gx(l,s),X=o[wr],ye=Hx(X,s[gc]);null!==ye&&function EA(s,o,l,d,m,b){d[ti]=m,d[nr]=o,n0(s,d,l,1,m,b)}(m,s[nr],X,o,ye,T)}const b=o[Dr];null!==b&&null!==b.firstChild&&(b.firstChild=null)}function sE(s,o){const l=ng(s,o);return void 0!==l&&Qv(l[Ln],l),l}function y_(s,o,l,d,m=!1){for(;null!==l;){if(128===l.type){l=m?l.projectionNext:l.next;continue}const b=o[l.index];null!==b&&d.push(na(b)),_c(b)&&jD(b,d);const T=l.type;if(8&T)y_(s,o,l.child,d);else if(32&T){const X=ch(l,o);let ye;for(;ye=X();)d.push(ye)}else if(16&T){const X=t0(o,l);if(Array.isArray(X))d.push(...X);else{const ye=ae(o[fs]);y_(ye[Ln],ye,X,d,!0)}}l=m?l.projectionNext:l.next}return d}function jD(s,o){for(let l=wl;l<s.length;l++){const d=s[l],m=d[Ln].firstChild;null!==m&&y_(d[Ln],d,m,o)}s[gc]!==s[ti]&&o.push(s[gc])}let oE=[];const WA={...z,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Ap(s.lView)},consumerOnSignalRead(){this.lView[Ws]=this}},aE={...z,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{let o=ae(s.lView);for(;o&&!HD(o[Ln]);)o=ae(o);o&&Vg(o)},consumerOnSignalRead(){this.lView[Ws]=this}};function HD(s){return 2!==s.type}const GA=100;function h0(s,o=!0,l=0){const d=s[Co],m=d.rendererFactory;m.begin?.();try{!function GD(s,o){const l=rh();try{Pa(!0),lE(s,o);let d=0;for(;lf(s);){if(d===GA)throw new Ki(103,!1);d++,lE(s,1)}}finally{Pa(l)}}(s,l)}catch(T){throw o&&jy(s,T),T}finally{m.end?.(),d.inlineEffectRunner?.flush()}}function XD(s,o,l,d){const m=o[ni];if(!(256&~m))return;o[Co].inlineEffectRunner?.flush(),Np(o);let X=!0,ye=null,qe=null;HD(s)?(qe=function zA(s){return s[Ws]??function WD(s){const o=oE.pop()??Object.create(WA);return o.lView=s,o}(s)}(o),ye=ke(qe)):null===function W(){return O}()?(X=!1,qe=function HA(s){const o=s[Ws]??Object.create(aE);return o.lView=s,o}(o),ye=ke(qe)):o[Ws]&&(Ye(o[Ws]),o[Ws]=null);try{ny(o),function Bs(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&lg(s,o,l,2,d);const mt=!(3&~m);if(mt){const $n=s.preOrderCheckHooks;null!==$n&&Fp(o,$n,null)}else{const $n=s.preOrderHooks;null!==$n&&Pm(o,$n,0,null),ov(o,0)}if(function KA(s){for(let o=Sx(s);null!==o;o=Ym(o)){if(!(o[ni]&yd.HasTransplantedViews))continue;const l=o[wa];for(let d=0;d<l.length;d++)Vg(l[d])}}(o),qD(o,0),null!==s.contentQueries&&VD(s,o),mt){const $n=s.contentCheckHooks;null!==$n&&Fp(o,$n)}else{const $n=s.contentHooks;null!==$n&&Pm(o,$n,1),ov(o,1)}!function IA(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const m=l[d];if(m<0)rd(~m);else{const b=m,T=l[++d],X=l[++d];id(T,b),X(2,o[b])}}}finally{rd(-1)}}(s,o);const Zt=s.components;null!==Zt&&QD(o,Zt,0);const Tn=s.viewQuery;if(null!==Tn&&eE(2,Tn,d),mt){const $n=s.viewCheckHooks;null!==$n&&Fp(o,$n)}else{const $n=s.viewHooks;null!==$n&&Pm(o,$n,2),ov(o,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[mc]){for(const $n of o[mc])$n();o[mc]=null}o[ni]&=-73}catch(mt){throw Ap(o),mt}finally{null!==qe&&(Qe(qe,ye),X&&function jA(s){s.lView[Ws]!==s&&(s.lView=null,oE.push(s))}(qe)),sy()}}function qD(s,o){for(let l=Sx(s);null!==l;l=Ym(l))for(let d=wl;d<l.length;d++)YD(l[d],o)}function XA(s,o,l){YD(Ru(o,s),l)}function YD(s,o){kp(s)&&lE(s,o)}function lE(s,o){const d=s[Ln],m=s[ni],b=s[Ws];let T=!!(0===o&&16&m);if(T||=!!(64&m&&0===o),T||=!!(1024&m),T||=!(!b?.dirty||!Pe(b)),T||=!1,b&&(b.dirty=!1),s[ni]&=-9217,T)XD(d,s,d.template,s[hr]);else if(8192&m){qD(s,1);const X=d.components;null!==X&&QD(s,X,1)}}function QD(s,o,l){for(let d=0;d<o.length;d++)XA(s,o[d],l)}function Gy(s,o){const l=rh()?64:1088;for(s[Co].changeDetectionScheduler?.notify(o);s;){s[ni]|=l;const d=ae(s);if(Ah(s)&&!d)return s;s=d}return null}class Ky{get rootNodes(){const o=this._lView,l=o[Ln];return y_(l,o,l.firstChild,[])}constructor(o,l,d=!0){this._lView=o,this._cdRefInjectingView=l,this.notifyErrorHandler=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(o){this._lView[hr]=o}get destroyed(){return!(256&~this._lView[ni])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[wi];if(_c(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(ng(o,d),ku(l,d))}this._attachedToViewContainer=!1}Qv(this._lView[Ln],this._lView)}onDestroy(o){R(this._lView,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ni]&=-129}reattach(){Wf(this._lView),this._lView[ni]|=128}detectChanges(){this._lView[ni]|=1024,h0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ki(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=Ah(this._lView),l=this._lView[ja];null!==l&&!o&&zx(l,this._lView),bD(this._lView[Ln],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ki(902,!1);this._appRef=o;const l=Ah(this._lView),d=this._lView[ja];null!==d&&!l&&vD(d,this._lView),Wf(this._lView)}}let Xy=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=QA}return s})();const qA=Xy,YA=class extends qA{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,d){const m=cp(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:l,dehydratedView:d});return new Ky(m)}};function QA(){return dp(Oa(),Ii())}function dp(s,o){return 4&s.type?new YA(o,s,Zp(s,o)):null}function nT(s,o,l){const d=o.insertBeforeIndex,m=Array.isArray(d)?d[0]:d;return null===m?e0(s,0,l):na(l[m])}function iT(s,o,l,d,m){const b=o.insertBeforeIndex;if(Array.isArray(b)){let T=d,X=null;if(3&o.type||(X=T,T=m),null!==T&&-1===o.componentOffset)for(let ye=1;ye<b.length;ye++)ig(s,T,l[b[ye]],X,!1)}}function rT(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];m0(d)||iM(d,o)&&null===rM(d)&&sT(d,o.index)}}function m0(s){return!(64&s.type)}function iM(s,o){return m0(o)||s.index>o.index}function rM(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function sT(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(SD(nT,iT),s.insertBeforeIndex=o)}function Jy(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function oM(s,o,l){const d=Ou(s,l,64,null,null);return rT(o,d),d}function g0(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function aT(s){return s>>>17}function lT(s){return(131070&s)>>>1}function fE(s,o,l){s.index=0;const d=g0(o,l);s.removes=null!==d?o.remove[d]:Is}function _0(s){if(s.index<s.removes.length){const o=s.removes[s.index++];return o>0?s.lView[o]:(s.stack.push(s.index,s.removes),fE(s,s.lView[Ln].data[~o],s.lView),_0(s))}return 0===s.stack.length?null:(s.removes=s.stack.pop(),s.index=s.stack.pop(),_0(s))}function dT(){const s={stack:[],index:-1};return function o(l,d){for(s.lView=d;s.stack.length;)s.stack.pop();return fE(s,l.value,d),_0.bind(null,s)}}let _T=()=>{},bT=()=>{},Wh=()=>null;function fm(s,o){return Wh(s,o)}class hg{}const fg=new yn("",{providedIn:"root",factory:()=>!1}),b0=new yn(""),pg=new yn("");class rb{}class w_{}class w0{resolveComponentFactory(o){throw function xE(s){const o=Error(`No component factory found for ${qo(s)}.`);return o.ngComponent=s,o}(o)}}class pm{static#e=this.NULL=new w0}class sb{}let EE=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function CE(){const s=Ii(),l=Ru(Oa().index,s);return(Rl(l)?l:s)[wr]}()}return s})(),SE=(()=>{class s{static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:()=>null})}return s})();function xf(s){return!!Uo(s)}function ab(s,o,l){let d=l?s.styles:null,m=l?s.classes:null,b=0;if(null!==o)for(let T=0;T<o.length;T++){const X=o[T];"number"==typeof X?b=X:1==b?m=ml(m,X):2==b&&(d=ml(d,X+": "+o[++T]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=m:s.classesWithoutHost=m}class kE extends pm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=ir(o);return new gg(l,this.ngModule)}}function E0(s,o){const l=[];for(const d in s){if(!s.hasOwnProperty(d))continue;const m=s[d];if(void 0===m)continue;const b=Array.isArray(m),T=b?m[0]:m;l.push(o?{propName:T,templateName:d,isSignal:!!((b?m[1]:$u.None)&$u.SignalBased)}:{propName:T,templateName:d})}return l}class gg extends w_{get inputs(){const o=this.componentDef,l=o.inputTransforms,d=E0(o.inputs,!0);if(null!==l)for(const m of d)l.hasOwnProperty(m.propName)&&(m.transform=l[m.propName]);return d}get outputs(){return E0(this.componentDef.outputs,!1)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function le(s){return s.map(Y).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,m){const b=C(null);try{let T=(m=m||this.ngModule)instanceof $e?m:m?.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const X=T?new Lh(o,T):o,ye=X.get(sb,null);if(null===ye)throw new Ki(407,!1);const Zt={rendererFactory:ye,sanitizer:X.get(SE,null),inlineEffectRunner:null,changeDetectionScheduler:X.get(hg,null)},Tn=ye.createRenderer(null,this.componentDef),$n=this.componentDef.selectors[0][0]||"div",ii=d?function kA(s,o,l,d){const b=d.get(lm,!1)||l===lc.ShadowDom,T=s.selectRootElement(o,b);return function AA(s){MD(s)}(T),T}(Tn,d,this.componentDef.encapsulation,X):Yv(Tn,$n,function AE(s){const o=s.toLowerCase();return"svg"===o?Tp:"math"===o?"math":null}($n));let Ri=512;this.componentDef.signals?Ri|=4096:this.componentDef.onPush||(Ri|=16);let ur=null;null!==ii&&(ur=d_(ii,X,!0));const _r=uu(0,null,null,1,0,null,null,null,null,null,null),Ni=yf(null,_r,null,Ri,null,null,Zt,Tn,X,null,ur);Np(Ni);let yo,ma,Ll=null;try{const tu=this.componentDef;let Zd,Tm=null;tu.findHostDirectiveDefs?(Zd=[],Tm=new Map,tu.findHostDirectiveDefs(tu,Zd,Tm),Zd.push(tu)):Zd=[tu];const yP=function RE(s,o){const l=s[Ln],d=Or;return s[d]=o,ag(l,d,2,"#host",null)}(Ni,ii);Ll=function IM(s,o,l,d,m,b,T){const X=m[Ln];!function NE(s,o,l,d){for(const m of s)o.mergedAttrs=cl(o.mergedAttrs,m.hostAttrs);null!==o.mergedAttrs&&(ab(o,o.mergedAttrs,!0),null!==l&&o0(d,l,o))}(d,s,o,T);let ye=null;null!==o&&(ye=d_(o,m[us]));const qe=b.rendererFactory.createRenderer(o,l);let mt=16;l.signals?mt=4096:l.onPush&&(mt=64);const Zt=yf(m,qx(l),null,mt,m[s.index],s,b,qe,null,null,ye);return X.firstCreatePass&&u0(X,s,d.length-1),d0(m,Zt),m[s.index]=Zt}(yP,ii,tu,Zd,Ni,Zt,Tn),ma=jf(_r,Or),ii&&function IT(s,o,l,d){if(d)Gc(s,l,["ng-version","18.2.3"]);else{const{attrs:m,classes:b}=function ie(s){const o=[],l=[];let d=1,m=2;for(;d<s.length;){let b=s[d];if("string"==typeof b)2===m?""!==b&&o.push(b,s[++d]):8===m&&l.push(b);else{if(!tl(m))break;m=b}d++}return{attrs:o,classes:l}}(o.selectors[0]);m&&Gc(s,l,m),b&&b.length>0&&ID(s,l,b.join(" "))}}(Tn,tu,ii,d),void 0!==l&&function kT(s,o,l){const d=s.projection=[];for(let m=0;m<o.length;m++){const b=l[m];d.push(null!=b?Array.from(b):null)}}(ma,this.ngContentSelectors,l),yo=function TT(s,o,l,d,m,b){const T=Oa(),X=m[Ln],ye=Pc(T,m);LD(X,m,T,l,null,d);for(let mt=0;mt<l.length;mt++)Lc(Bh(m,X,T.directiveStart+mt,T),m);c0(X,m,T),ye&&Lc(ye,m);const qe=Bh(m,X,T.directiveStart+T.componentOffset,T);if(s[hr]=m[hr]=qe,null!==b)for(const mt of b)mt(qe,o);return Kx(X,T,m),qe}(Ll,tu,Zd,Tm,Ni,[AT]),iE(_r,Ni,null)}catch(tu){throw null!==Ll&&vv(Ll),vv(Ni),tu}finally{sy()}return new ME(this.componentType,yo,Zp(ma,Ni),Ni,ma)}finally{C(b)}}}class ME extends rb{constructor(o,l,d,m,b){super(),this.location=d,this._rootLView=m,this._tNode=b,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Ky(m,void 0,!1),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let m;if(null!==d&&(m=d[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const b=this._rootLView;Wy(b[Ln],b,m,o,l),this.previousInputValues.set(o,l),Gy(Ru(this._tNode.index,b),1)}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function AT(){const s=Oa();Om(Ii()[Ln],s)}let lb=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=MT}return s})();function MT(){return PE(Oa(),Ii())}const RT=lb,OE=class extends RT{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Zp(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const o=jp(this._hostTNode,this._hostLView);if(Gg(o)){const l=Xf(o,this._hostLView),d=Fm(o);return new fa(l[Ln].data[d+8],l)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=C0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-wl}createEmbeddedView(o,l,d){let m,b;"number"==typeof d?m=d:null!=d&&(m=d.index,b=d.injector);const T=fm(this._lContainer,o.ssrId),X=o.createEmbeddedViewImpl(l||{},b,T);return this.insertImpl(X,m,vf(this._hostTNode,T)),X}createComponent(o,l,d,m,b){const T=o&&!function D(s){return"function"==typeof s}(o);let X;if(T)X=l;else{const ii=l||{};X=ii.index,d=ii.injector,m=ii.projectableNodes,b=ii.environmentInjector||ii.ngModuleRef}const ye=T?o:new gg(ir(o)),qe=d||this.parentInjector;if(!b&&null==ye.ngModule){const Ri=(T?qe:this.parentInjector).get($e,null);Ri&&(b=Ri)}const mt=ir(ye.componentType??{}),Zt=fm(this._lContainer,mt?.id??null),$n=ye.create(qe,m,Zt?.firstChild??null,b);return this.insertImpl($n.hostView,X,vf(this._hostTNode,Zt)),$n}insert(o,l){return this.insertImpl(o,l,!0)}insertImpl(o,l,d){const m=o._lView;if(function bd(s){return _c(s[wi])}(m)){const X=this.indexOf(o);if(-1!==X)this.detach(X);else{const ye=m[wi],qe=new OE(ye,ye[nr],ye[wi]);qe.detach(qe.indexOf(o))}}const b=this._adjustIndex(l),T=this._lContainer;return up(T,m,b,d),o.attachToViewContainerRef(),ko(S0(T),b,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=C0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=ng(this._lContainer,l);d&&(ku(S0(this._lContainer),l),Qv(d[Ln],d))}detach(o){const l=this._adjustIndex(o,-1),d=ng(this._lContainer,l);return d&&null!=ku(S0(this._lContainer),l)?new Ky(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function C0(s){return s[8]}function S0(s){return s[8]||(s[8]=[])}function PE(s,o){let l;const d=o[s.index];return _c(d)?l=d:(l=BD(d,o,null,s),o[s.index]=l,d0(o,l)),FE(l,o,s,d),new OE(l,s,o)}let FE=function Ef(s,o,l,d){if(s[gc])return;let m;m=8&l.type?na(d):function NT(s,o){const l=s[wr],d=l.createComment(""),m=Pc(o,s);return ig(l,Hx(l,m),d,function xD(s,o){return s.nextSibling(o)}(l,m),!1),d}(o,l),s[gc]=m},D0=()=>!1;class LE{constructor(o){this.queryList=o,this.matches=null}clone(){return new LE(this.queryList)}setDirty(){this.queryList.setDirty()}}class $E{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,m=[];for(let b=0;b<d;b++){const T=l.getByIndex(b);m.push(this.queries[T.indexInDeclarationView].clone())}return new $E(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==jE(o,l).matches&&this.queries[l].setDirty()}}class FT{constructor(o,l,d=null){this.flags=l,this.read=d,this.predicate="string"==typeof o?function OM(s){return s.split(",").map(o=>o.trim())}(o):o}}class BE{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const m=null!==l?l.length:0,b=this.getByIndex(d).embeddedTView(o,m);b&&(b.indexInDeclarationView=d,null!==l?l.push(b):l=[b])}return null!==l?new BE(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class VE{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new VE(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let m=0;m<d.length;m++){const b=d[m];this.matchTNodeWithReadOption(o,l,AM(l,b)),this.matchTNodeWithReadOption(o,l,Vm(l,o,b,!1,!1))}else d===Xy?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Vm(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const m=this.metadata.read;if(null!==m)if(m===Km||m===lb||m===Xy&&4&l.type)this.addMatch(l.index,-2);else{const b=Vm(l,o,m,!1,!1);null!==b&&this.addMatch(l.index,b)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function AM(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function RM(s,o,l,d){return-1===l?function MM(s,o){return 11&s.type?Zp(s,o):4&s.type?dp(s,o):null}(o,s):-2===l?function NM(s,o,l){return l===Km?Zp(o,s):l===Xy?dp(o,s):l===lb?PE(o,s):void 0}(s,o,d):Bh(s,s[Ln],l,o)}function LT(s,o,l,d){const m=o[Rs].queries[d];if(null===m.matches){const b=s.data,T=l.matches,X=[];for(let ye=0;null!==T&&ye<T.length;ye+=2){const qe=T[ye];X.push(qe<0?null:RM(o,b[qe],T[ye+1],l.metadata.read))}m.matches=X}return m.matches}function UE(s,o,l,d){const m=s.queries.getByIndex(l),b=m.matches;if(null!==b){const T=LT(s,o,m,l);for(let X=0;X<b.length;X+=2){const ye=b[X];if(ye>0)d.push(T[X/2]);else{const qe=b[X+1],mt=o[-ye];for(let Zt=wl;Zt<mt.length;Zt++){const Tn=mt[Zt];Tn[ja]===Tn[wi]&&UE(Tn[Ln],Tn,qe,d)}if(null!==mt[wa]){const Zt=mt[wa];for(let Tn=0;Tn<Zt.length;Tn++){const $n=Zt[Tn];UE($n[Ln],$n,qe,d)}}}}}return d}function zE(s,o){return s[Rs].queries[o].queryList}function $T(s,o,l){const d=new i_(!(4&~l));return function ug(s,o,l,d){const m=UD(o);m.push(l),s.firstCreatePass&&zD(s).push(d,m.length-1)}(s,o,d,d.destroy),(o[Rs]??=new $E).queries.push(new LE(d))-1}function VT(s,o,l,d){const m=lo();if(m.firstCreatePass){const b=Oa();UT(m,new FT(o,l,d),b.index),function PM(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(m,s),!(2&~l)&&(m.staticContentQueries=!0)}return $T(m,Ii(),l)}function UT(s,o,l){null===s.queries&&(s.queries=new BE),s.queries.track(new VE(o,l))}function jE(s,o){return s.queries.getByIndex(o)}function zT(s,o){const l=s[Ln],d=jE(l,o);return d.crossesNgTemplate?UE(l,s,o,[]):LT(l,s,d,o)}const jT=new Set;function hd(s){jT.has(s)||(jT.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}function WE(s){return"function"==typeof s&&void 0!==s[S]}function WT(s,o){hd("NgSignals");const l=function me(s){const o=Object.create(kn);o.value=s;const l=()=>(re(o),o.value);return l[S]=o,l}(s),d=l[S];return o?.equal&&(d.equal=o.equal),l.set=m=>Et(d,m),l.update=m=>function En(s,o){De()||Ce(),Et(s,o(s.value))}(d,m),l.asReadonly=HT.bind(l),l}function HT(){const s=this[S];if(void 0===s.readonlyFn){const o=()=>this();o[S]=s,s.readonlyFn=o}return s.readonlyFn}function GT(s){return WE(s)&&"function"==typeof s.set}function HE(s,o){let l;const d=rt(()=>{l._dirtyCounter();const m=function FM(s,o){const l=s._lView,d=s._queryIndex;if(void 0===l||void 0===d||4&l[ni])return o?void 0:Is;const m=zE(l,d),b=zT(l,d);return m.reset(b,yy),o?m.first:m._changesDetected||void 0===s._flatValue?s._flatValue=m.toArray():s._flatValue}(l,s);if(o&&void 0===m)throw new Ki(-951,!1);return m});return l=d[S],l._dirtyCounter=WT(0),l._flatValue=void 0,d}function QT(s,o){return function KT(){return HE(!0,!1)}()}const $M=(QT.required=function LM(s,o){return function XT(){return HE(!0,!0)}()},QT);function XE(s){let o=function n1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let m;if(Nl(s))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ki(903,!1);m=o.\u0275dir}if(m){if(l){d.push(m);const T=s;T.inputs=ub(s.inputs),T.inputTransforms=ub(s.inputTransforms),T.declaredInputs=ub(s.declaredInputs),T.outputs=ub(s.outputs);const X=m.hostBindings;X&&JM(s,X);const ye=m.viewQuery,qe=m.contentQueries;if(ye&&QM(s,ye),qe&&ZM(s,qe),qM(s,m),Dl(s.outputs,m.outputs),Nl(m)&&m.data.animation){const mt=s.data;mt.animation=(mt.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let T=0;T<b.length;T++){const X=b[T];X&&X.ngInherit&&X(s),X===XE&&(l=!1)}}o=Object.getPrototypeOf(o)}!function YM(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const m=s[d];m.hostVars=o+=m.hostVars,m.hostAttrs=cl(m.hostAttrs,l=cl(l,m.hostAttrs))}}(d)}function qM(s,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||s.inputs.hasOwnProperty(l))continue;const d=o.inputs[l];if(void 0!==d&&(s.inputs[l]=d,s.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){const m=Array.isArray(d)?d[0]:d;if(!o.inputTransforms.hasOwnProperty(m))continue;s.inputTransforms??={},s.inputTransforms[m]=o.inputTransforms[m]}}}function ub(s){return s===Eo?{}:s===Is?[]:s}function QM(s,o){const l=s.viewQuery;s.viewQuery=l?(d,m)=>{o(d,m),l(d,m)}:o}function ZM(s,o){const l=s.contentQueries;s.contentQueries=l?(d,m,b)=>{o(d,m,b),l(d,m,b)}:o}function JM(s,o){const l=s.hostBindings;s.hostBindings=l?(d,m)=>{o(d,m),l(d,m)}:o}function r1(s){const o=l=>{const d=(Array.isArray(s)?s:s()).map(m=>"function"==typeof m?{directive:qr(m),inputs:Eo,outputs:Eo}:{directive:qr(m.directive),inputs:o1(m.inputs),outputs:o1(m.outputs)});null===l.hostDirectives?(l.findHostDirectiveDefs=s1,l.hostDirectives=d):l.hostDirectives.unshift(...d)};return o.ngInherit=!0,o}function s1(s,o,l){if(null!==s.hostDirectives)for(const d of s.hostDirectives){const m=zr(d.directive);iR(m.declaredInputs,d.inputs),s1(m,o,l),l.set(m,d),o.push(m)}}function o1(s){if(void 0===s||0===s.length)return Eo;const o={};for(let l=0;l<s.length;l+=2)o[s[l]]=s[l+1];return o}function iR(s,o){for(const l in o)o.hasOwnProperty(l)&&(s[o[l]]=s[l])}function l1(s){const o=s.inputConfig,l={};for(const d in o)if(o.hasOwnProperty(d)){const m=o[d];Array.isArray(m)&&m[3]&&(l[d]=m[3])}s.inputTransforms=l}class _g{}class c1{}function rR(s,o){return new qE(s,o??null,[])}class qE extends _g{constructor(o,l,d,m=!0){super(),this.ngModuleType=o,this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kE(this);const b=Uo(o);this._bootstrapComponents=jd(b.bootstrap),this._r3Injector=oh(o,l,[{provide:_g,useValue:this},{provide:pm,useValue:this.componentFactoryResolver},...d],qo(o),new Set(["environment"])),m&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class YE extends c1{constructor(o){super(),this.moduleType=o}create(o){return new qE(this.moduleType,o,[])}}class u1 extends _g{constructor(o){super(),this.componentFactoryResolver=new kE(this),this.instance=null;const l=new en([...o.providers,{provide:_g,useValue:this},{provide:pm,useValue:this.componentFactoryResolver}],o.parent||_t(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function QE(s,o,l=null){return new u1({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}function db(s){return!!ZE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function ZE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Cf(s,o,l){return s[o]=l}function hb(s,o){return s[o]}function Bc(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function yg(s,o,l,d){const m=Bc(s,o,l);return Bc(s,o+1,d)||m}function k0(s,o,l,d,m){const b=yg(s,o,l,d);return Bc(s,o+2,m)||b}function fh(s,o,l,d,m,b){const T=yg(s,o,l,d);return yg(s,o+2,m,b)||T}function fb(s,o,l,d,m,b,T,X,ye,qe){const mt=l+Or,Zt=o.firstCreatePass?function cR(s,o,l,d,m,b,T,X,ye){const qe=o.consts,mt=ag(o,s,4,T||null,X||null);zy(o,l,mt,Fl(qe,ye)),Om(o,mt);const Zt=mt.tView=uu(2,mt,d,m,b,o.directiveRegistry,o.pipeRegistry,null,o.schemas,qe,null);return null!==o.queries&&(o.queries.template(o,mt),Zt.queries=o.queries.embeddedTView(mt)),mt}(mt,o,s,d,m,b,T,X,ye):o.data[mt];wu(Zt,!1);const Tn=h1(o,s,Zt,l);Gf()&&rg(o,s,Tn,Zt),Lc(Tn,s);const $n=BD(Tn,s,Tn,Zt);return s[mt]=$n,d0(s,$n),function T0(s,o,l){return D0(s,o,l)}($n,Zt,s),yu(Zt)&&l0(o,s,Zt),null!=ye&&Xx(s,Zt,qe),Zt}function JE(s,o,l,d,m,b,T,X){const ye=Ii(),qe=lo();return fb(ye,qe,s,o,l,d,m,Fl(qe.consts,b),T,X),JE}let h1=function f1(s,o,l,d){return sd(!0),o[wr].createComment("")};var If=function(s){return s[s.EarlyRead=0]="EarlyRead",s[s.Write=1]="Write",s[s.MixedReadWrite=2]="MixedReadWrite",s[s.Read=3]="Read",s}(If||{});let m1=(()=>{class s{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:()=>new s})}return s})();class mm{constructor(){this.ngZone=ji(Fa),this.scheduler=ji(hg),this.errorHandler=ji(ad,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[If.EarlyRead,If.Write,If.MixedReadWrite,If.Read];execute(){this.executing=!0;for(const o of mm.PHASES)for(const l of this.sequences)if(!l.erroredOrDestroyed&&l.hooks[o])try{l.pipelinedValue=this.ngZone.runOutsideAngular(()=>l.hooks[o](l.pipelinedValue))}catch(d){l.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&this.sequences.delete(o);for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(o){this.executing?this.deferredRegistrations.add(o):(this.sequences.add(o),this.scheduler.notify(6))}unregister(o){this.executing&&this.sequences.has(o)?(o.erroredOrDestroyed=!0,o.pipelinedValue=void 0,o.once=!0):(this.sequences.delete(o),this.deferredRegistrations.delete(o))}static#t=this.\u0275prov=Li({token:mm,providedIn:"root",factory:()=>new mm})}class $2{constructor(o,l,d,m){this.impl=o,this.hooks=l,this.once=d,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=m.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function dR(s,o){!o?.injector&&vl();const l=o?.injector??ji(ia);return Wd(l)?(hd("NgAfterRender"),gm(s,l,o,!1)):M0}function Hh(s,o){!o?.injector&&vl();const l=o?.injector??ji(ia);return Wd(l)?(hd("NgAfterNextRender"),gm(s,l,o,!0)):M0}function gm(s,o,l,d){const m=o.get(m1);m.impl??=o.get(mm);const T=new $2(m.impl,function hR(s,o){if(s instanceof Function){const l=[void 0,void 0,void 0,void 0];return l[o]=s,l}return[s.earlyRead,s.write,s.mixedReadWrite,s.read]}(s,l?.phase??If.MixedReadWrite),d,o.get(Hm));return m.impl.register(T),T}const M0={destroy(){}};function $0(s,o,l,d){const m=Ii();return Bc(m,vd(),o)&&(lo(),function bf(s,o,l,d,m,b){const T=Pc(s,o);Jx(o[wr],T,b,s.value,l,d,m)}(xl(),m,s,o,l,d)),$0}function Rf(s,o,l,d){return Bc(s,vd(),l)?o+Ss(l)+d:go}function vb(s,o){return s<<17|o<<2}function mp(s){return s>>17&32767}function B0(s){return 2|s}function $_(s){return(131068&s)>>2}function V0(s,o){return-131069&s|o<<2}function Wl(s){return 1|s}function pa(s,o,l,d){const m=s[l+1],b=null===o;let T=d?mp(m):$_(m),X=!1;for(;0!==T&&(!1===X||b);){const qe=s[T+1];z0(s[T],o)&&(X=!0,s[T+1]=d?Wl(qe):B0(qe)),T=d?mp(qe):$_(qe)}X&&(s[l+1]=d?B0(m):Wl(m))}function z0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Wc(s,o)>=0}const Qc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xh(s){return s.substring(Qc.key,Qc.keyEnd)}function IR(s){return s.substring(Qc.value,Qc.valueEnd)}function kR(s,o){const l=Qc.textEnd;return l===o?-1:(o=Qc.keyEnd=function Y2(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Qc.key=o,l),wb(s,o,l))}function AR(s,o){const l=Qc.textEnd;let d=Qc.key=wb(s,o,l);return l===d?-1:(d=Qc.keyEnd=function Q2(s,o,l){let d;for(;o<l&&(45===(d=s.charCodeAt(o))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)o++;return o}(s,d,l),d=RR(s,d,l),d=Qc.value=wb(s,d,l),d=Qc.valueEnd=function Z2(s,o,l){let d=-1,m=-1,b=-1,T=o,X=T;for(;T<l;){const ye=s.charCodeAt(T++);if(59===ye)return X;34===ye||39===ye?X=T=NR(s,ye,T,l):o===T-4&&85===b&&82===m&&76===d&&40===ye?X=T=NR(s,41,T,l):ye>32&&(X=T),b=m,m=d,d=-33&ye}return X}(s,d,l),RR(s,d,l))}function MR(s){Qc.key=0,Qc.keyEnd=0,Qc.value=0,Qc.valueEnd=0,Qc.textEnd=s.length}function wb(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function RR(s,o,l,d){return(o=wb(s,o,l))<l&&o++,o}function NR(s,o,l,d){let m=-1,b=l;for(;b<d;){const T=s.charCodeAt(b++);if(T==o&&92!==m)return b;m=92==T&&92===m?0:T}throw new Error}function xb(s,o,l){const d=Ii();return Bc(d,vd(),o)&&Ku(lo(),xl(),d,s,o,d[wr],l,!1),xb}function Eb(s,o,l,d,m){const T=m?"class":"style";Wy(s,l,o.inputs[T],T,d)}function k1(s,o,l){return eo(s,o,l,!1),k1}function kc(s,o){return eo(s,o,null,!0),kc}function Zc(s){qh(Sb,OR,s,!1)}function OR(s,o){for(let l=function q2(s){return MR(s),AR(s,wb(s,0,Qc.textEnd))}(o);l>=0;l=AR(o,l))Sb(s,Xh(o),IR(o))}function Cb(s){qh($R,Nf,s,!0)}function Nf(s,o){for(let l=function X2(s){return MR(s),kR(s,wb(s,0,Qc.textEnd))}(o);l>=0;l=kR(o,l))ac(s,Xh(o),!0)}function eo(s,o,l,d){const m=Ii(),b=lo(),T=Xa(2);b.firstUpdatePass&&cC(b,s,T,d),o!==go&&Bc(m,T,o)&&M1(b,b.data[yc()],m,m[wr],s,m[T+1]=function BR(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=qo(ks(s)))),s}(o,l),d,T)}function qh(s,o,l,d){const m=lo(),b=Xa(2);m.firstUpdatePass&&cC(m,null,b,d);const T=Ii();if(l!==go&&Bc(T,b,l)){const X=m.data[yc()];if(VR(X,d)&&!A1(m,b)){let ye=d?X.classesWithoutHost:X.stylesWithoutHost;null!==ye&&(l=ml(ye,l||"")),Eb(m,X,T,l,d)}else!function Db(s,o,l,d,m,b,T,X){m===go&&(m=Is);let ye=0,qe=0,mt=0<m.length?m[0]:null,Zt=0<b.length?b[0]:null;for(;null!==mt||null!==Zt;){const Tn=ye<m.length?m[ye+1]:void 0,$n=qe<b.length?b[qe+1]:void 0;let Ri,ii=null;mt===Zt?(ye+=2,qe+=2,Tn!==$n&&(ii=Zt,Ri=$n)):null===Zt||null!==mt&&mt<Zt?(ye+=2,ii=mt):(qe+=2,ii=Zt,Ri=$n),null!==ii&&M1(s,o,l,d,ii,Ri,T,X),mt=ye<m.length?m[ye]:null,Zt=qe<b.length?b[qe]:null}}(m,X,T,T[wr],T[b+1],T[b+1]=function W0(s,o,l){if(null==l||""===l)return Is;const d=[],m=ks(l);if(Array.isArray(m))for(let b=0;b<m.length;b++)s(d,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&s(d,b,m[b]);else"string"==typeof m&&o(d,m);return d}(s,o,l),d,b)}}function A1(s,o){return o>=s.expandoStartIndex}function cC(s,o,l,d){const m=s.data;if(null===m[l+1]){const b=m[yc()],T=A1(s,l);VR(b,d)&&null===o&&!T&&(o=!1),o=function PR(s,o,l,d){const m=iy(s);let b=d?o.residualClasses:o.residualStyles;if(null===m)0===(d?o.classBindings:o.styleBindings)&&(l=gh(l=uC(null,s,o,l,d),o.attrs,d),b=null);else{const T=o.directiveStylingLast;if(-1===T||s[T]!==m)if(l=uC(m,s,o,l,d),null===b){let ye=function FR(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==$_(d))return s[mp(d)]}(s,o,d);void 0!==ye&&Array.isArray(ye)&&(ye=uC(null,s,o,ye[1],d),ye=gh(ye,o.attrs,d),function j0(s,o,l,d){s[mp(l?o.classBindings:o.styleBindings)]=d}(s,o,d,ye))}else b=function LR(s,o,l){let d;const m=o.directiveEnd;for(let b=1+o.directiveStylingLast;b<m;b++)d=gh(d,s[b].hostAttrs,l);return gh(d,o.attrs,l)}(s,o,d)}return void 0!==b&&(d?o.residualClasses=b:o.residualStyles=b),l}(m,b,o,d),function U0(s,o,l,d,m,b){let T=b?o.classBindings:o.styleBindings,X=mp(T),ye=$_(T);s[d]=l;let mt,qe=!1;if(Array.isArray(l)?(mt=l[1],(null===mt||Wc(l,mt)>0)&&(qe=!0)):mt=l,m)if(0!==ye){const Tn=mp(s[X+1]);s[d+1]=vb(Tn,X),0!==Tn&&(s[Tn+1]=V0(s[Tn+1],d)),s[X+1]=function D1(s,o){return 131071&s|o<<17}(s[X+1],d)}else s[d+1]=vb(X,0),0!==X&&(s[X+1]=V0(s[X+1],d)),X=d;else s[d+1]=vb(ye,0),0===X?X=d:s[ye+1]=V0(s[ye+1],d),ye=d;qe&&(s[d+1]=B0(s[d+1])),pa(s,mt,d,!0),pa(s,mt,d,!1),function Js(s,o,l,d,m){const b=m?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof o&&Wc(b,o)>=0&&(l[d+1]=Wl(l[d+1]))}(o,mt,s,d,b),T=vb(X,ye),b?o.classBindings=T:o.styleBindings=T}(m,b,o,l,T,d)}}function uC(s,o,l,d,m){let b=null;const T=l.directiveEnd;let X=l.directiveStylingLast;for(-1===X?X=l.directiveStart:X++;X<T&&(b=o[X],d=gh(d,b.hostAttrs,m),b!==s);)X++;return null!==s&&(l.directiveStylingLast=X),d}function gh(s,o,l){const d=l?1:2;let m=-1;if(null!==o)for(let b=0;b<o.length;b++){const T=o[b];"number"==typeof T?m=T:m===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ac(s,T,!!l||o[++b]))}return void 0===s?null:s}function Sb(s,o,l){ac(s,o,ks(l))}function $R(s,o,l){const d=String(o);""!==d&&!d.includes(" ")&&ac(s,d,l)}function M1(s,o,l,d,m,b,T,X){if(!(3&o.type))return;const ye=s.data,qe=ye[X+1],mt=function T1(s){return!(1&~s)}(qe)?R1(ye,o,l,m,$_(qe),T):void 0;Tb(mt)||(Tb(b)||function S1(s){return!(2&~s)}(qe)&&(b=R1(ye,null,l,m,X,T)),function TA(s,o,l,d,m){if(o)m?s.addClass(l,d):s.removeClass(l,d);else{let b=-1===d.indexOf("-")?void 0:Ly.DashCase;null==m?s.removeStyle(l,d,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=Ly.Important),s.setStyle(l,d,m,b))}}(d,T,Ip(yc(),l),m,b))}function R1(s,o,l,d,m,b){const T=null===o;let X;for(;m>0;){const ye=s[m],qe=Array.isArray(ye),mt=qe?ye[1]:ye,Zt=null===mt;let Tn=l[m+1];Tn===go&&(Tn=Zt?Is:void 0);let $n=Zt?el(Tn,d):mt===d?Tn:void 0;if(qe&&!Tb($n)&&($n=el(ye,d)),Tb($n)&&(X=$n,T))return X;const ii=s[m+1];m=T?mp(ii):$_(ii)}if(null!==o){let ye=b?o.residualClasses:o.residualStyles;null!=ye&&(X=el(ye,d))}return X}function Tb(s){return void 0!==s}function VR(s,o){return!!(s.flags&(o?8:16))}function H0(s,o,l){qh(ac,Nf,Rf(Ii(),s,o,l),!0)}class iF{destroy(o){}updateValue(o,l){}swap(o,l){const d=Math.min(o,l),m=Math.max(o,l),b=this.detach(m);if(m-d>1){const T=this.detach(d);this.attach(d,b),this.attach(m,T)}else this.attach(d,b)}move(o,l){this.attach(l,this.detach(o))}}function P1(s,o,l,d,m){return s===l&&Object.is(o,d)?1:Object.is(m(s,o),m(l,d))?-1:0}function F1(s,o,l,d){return!(void 0===o||!o.has(d)||(s.attach(l,o.get(d)),o.delete(d),0))}function UR(s,o,l,d,m){if(F1(s,o,d,l(d,m)))s.updateValue(d,m);else{const b=s.create(d,m);s.attach(d,b)}}function zR(s,o,l,d){const m=new Set;for(let b=o;b<=l;b++)m.add(d(b,s.at(b)));return m}class jR{constructor(){this.kvMap=new Map,this._vMap=void 0}has(o){return this.kvMap.has(o)}delete(o){if(!this.has(o))return!1;const l=this.kvMap.get(o);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(o,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(o),!0}get(o){return this.kvMap.get(o)}set(o,l){if(this.kvMap.has(o)){let d=this.kvMap.get(o);void 0===this._vMap&&(this._vMap=new Map);const m=this._vMap;for(;m.has(d);)d=m.get(d);m.set(d,l)}else this.kvMap.set(o,l)}forEach(o){for(let[l,d]of this.kvMap)if(o(d,l),void 0!==this._vMap){const m=this._vMap;for(;m.has(d);)d=m.get(d),o(d,l)}}}function WR(s,o){hd("NgControlFlow");const l=Ii(),d=vd(),m=l[d]!==go?l[d]:-1,b=-1!==m?dC(l,Or+m):void 0;if(Bc(l,d,s)){const X=C(null);try{if(void 0!==b&&sE(b,0),-1!==s){const ye=Or+s,qe=dC(l,ye),mt=G0(l[Ln],ye),Zt=fm(qe,mt.tView.ssrId);up(qe,cp(l,mt,o,{dehydratedView:Zt}),0,vf(mt,Zt))}}finally{C(X)}}else if(void 0!==b){const X=Hy(b,0);void 0!==X&&(X[hr]=o)}}class sF{constructor(o,l,d){this.lContainer=o,this.$implicit=l,this.$index=d}get $count(){return this.lContainer.length-wl}}function HR(s){return s}function GR(s,o){return o}class oF{constructor(o,l,d){this.hasEmptyBlock=o,this.trackByFn=l,this.liveCollection=d}}function KR(s,o,l,d,m,b,T,X,ye,qe,mt,Zt,Tn){hd("NgControlFlow");const $n=Ii(),ii=lo(),Ri=void 0!==ye,ur=Ii(),_r=X?T.bind(ur[fs][hr]):T,Ni=new oF(Ri,_r);ur[Or+s]=Ni,fb($n,ii,s+1,o,l,d,m,Fl(ii.consts,b)),Ri&&fb($n,ii,s+2,ye,qe,mt,Zt,Fl(ii.consts,Tn))}class aF extends iF{constructor(o,l,d){super(),this.lContainer=o,this.hostLView=l,this.templateTNode=d,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-wl}at(o){return this.getLView(o)[hr].$implicit}attach(o,l){const d=l[Dr];this.needsIndexUpdate||=o!==this.length,up(this.lContainer,l,o,vf(this.templateTNode,d))}detach(o){return this.needsIndexUpdate||=o!==this.length-1,function vm(s,o){return ng(s,o)}(this.lContainer,o)}create(o,l){const d=fm(this.lContainer,this.templateTNode.tView.ssrId),m=cp(this.hostLView,this.templateTNode,new sF(this.lContainer,l,o),{dehydratedView:d});return this.operationsCounter?.recordCreate(),m}destroy(o){Qv(o[Ln],o),this.operationsCounter?.recordDestroy()}updateValue(o,l){this.getLView(o)[hr].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let o=0;o<this.length;o++)this.getLView(o)[hr].$index=o}getLView(o){return function hC(s,o){return Hy(s,o)}(this.lContainer,o)}}function XR(s){const o=C(null),l=yc();try{const d=Ii(),m=d[Ln],b=d[l],T=l+1,X=dC(d,T);if(void 0===b.liveCollection){const qe=G0(m,T);b.liveCollection=new aF(X,d,qe)}else b.liveCollection.reset();const ye=b.liveCollection;if(function rF(s,o,l){let d,m,b=0,T=s.length-1;if(Array.isArray(o)){let ye=o.length-1;for(;b<=T&&b<=ye;){const qe=s.at(b),mt=o[b],Zt=P1(b,qe,b,mt,l);if(0!==Zt){Zt<0&&s.updateValue(b,mt),b++;continue}const Tn=s.at(T),$n=o[ye],ii=P1(T,Tn,ye,$n,l);if(0!==ii){ii<0&&s.updateValue(T,$n),T--,ye--;continue}const Ri=l(b,qe),ur=l(T,Tn),_r=l(b,mt);if(Object.is(_r,ur)){const Ni=l(ye,$n);Object.is(Ni,Ri)?(s.swap(b,T),s.updateValue(T,$n),ye--,T--):s.move(T,b),s.updateValue(b,mt),b++}else if(d??=new jR,m??=zR(s,b,T,l),F1(s,d,b,_r))s.updateValue(b,mt),b++,T++;else if(m.has(_r))d.set(Ri,s.detach(b)),T--;else{const Ni=s.create(b,o[b]);s.attach(b,Ni),b++,T++}}for(;b<=ye;)UR(s,d,l,b,o[b]),b++}else if(null!=o){const ye=o[Symbol.iterator]();let qe=ye.next();for(;!qe.done&&b<=T;){const mt=s.at(b),Zt=qe.value,Tn=P1(b,mt,b,Zt,l);if(0!==Tn)Tn<0&&s.updateValue(b,Zt),b++,qe=ye.next();else{d??=new jR,m??=zR(s,b,T,l);const $n=l(b,Zt);if(F1(s,d,b,$n))s.updateValue(b,Zt),b++,T++,qe=ye.next();else if(m.has($n)){const ii=l(b,mt);d.set(ii,s.detach(b)),T--}else s.attach(b,s.create(b,Zt)),b++,T++,qe=ye.next()}}for(;!qe.done;)UR(s,d,l,s.length,qe.value),qe=ye.next()}for(;b<=T;)s.destroy(s.detach(T--));d?.forEach(ye=>{s.destroy(ye)})}(ye,s,b.trackByFn),ye.updateIndexes(),b.hasEmptyBlock){const qe=vd(),mt=0===ye.length;if(Bc(d,qe,mt)){const Zt=l+2,Tn=dC(d,Zt);if(mt){const $n=G0(m,Zt),ii=fm(Tn,$n.tView.ssrId);up(Tn,cp(d,$n,void 0,{dehydratedView:ii}),0,vf($n,ii))}else sE(Tn,0)}}}finally{C(o)}}function dC(s,o){return s[o]}function G0(s,o){return jf(s,o)}function K0(s,o,l,d){const m=Ii(),b=lo(),T=Or+s,X=m[wr],ye=b.firstCreatePass?function qR(s,o,l,d,m,b){const T=o.consts,ye=ag(o,s,2,d,Fl(T,m));return zy(o,l,ye,Fl(T,b)),null!==ye.attrs&&ab(ye,ye.attrs,!1),null!==ye.mergedAttrs&&ab(ye,ye.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ye),ye}(T,b,m,o,l,d):b.data[T],qe=L1(b,m,ye,X,o,s);m[T]=qe;const mt=yu(ye);return wu(ye,!0),o0(X,qe,ye),!function C_(s){return!(32&~s.flags)}(ye)&&Gf()&&rg(b,m,qe,ye),0===function Ji(){return ht.lFrame.elementDepthCount}()&&Lc(qe,m),function rr(){ht.lFrame.elementDepthCount++}(),mt&&(l0(b,m,ye),Kx(b,ye,m)),null!==d&&Xx(m,ye),K0}function gp(){let s=Oa();Ug()?zg():(s=s.parent,wu(s,!1));const o=s;(function ha(s){return ht.skipHydrationRootTNode===s})(o)&&function Ph(){ht.skipHydrationRootTNode=null}(),function Hs(){ht.lFrame.elementDepthCount--}();const l=lo();return l.firstCreatePass&&(Om(l,s),ed(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ax(s){return!!(8&s.flags)}(o)&&Eb(l,o,Ii(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function lx(s){return!!(16&s.flags)}(o)&&Eb(l,o,Ii(),o.stylesWithoutHost,!1),gp}function fC(s,o,l,d){return K0(s,o,l,d),gp(),fC}let L1=(s,o,l,d,m,b)=>(sd(!0),Yv(d,m,function uf(){return ht.lFrame.currentNamespace}()));function X0(s,o,l){const d=Ii(),m=lo(),b=s+Or,T=m.firstCreatePass?function $1(s,o,l,d,m){const b=o.consts,T=Fl(b,d),X=ag(o,s,8,"ng-container",T);return null!==T&&ab(X,T,!0),zy(o,l,X,Fl(b,m)),null!==o.queries&&o.queries.elementStart(o,X),X}(b,m,d,o,l):m.data[b];wu(T,!0);const X=Ab(m,d,T,s);return d[b]=X,Gf()&&rg(m,d,X,T),Lc(X,d),yu(T)&&(l0(m,d,T),Kx(m,T,d)),null!=l&&Xx(d,T),X0}function kb(){let s=Oa();const o=lo();return Ug()?zg():(s=s.parent,wu(s,!1)),o.firstCreatePass&&(Om(o,s),ed(s)&&o.queries.elementEnd(s)),kb}function Yh(s,o,l){return X0(s,o,l),kb(),Yh}let Ab=(s,o,l,d)=>(sd(!0),Ux(o[wr],""));function Y0(){return Ii()}function mC(s,o,l){const d=Ii();return Bc(d,vd(),o)&&Ku(lo(),xl(),d,s,o,d[wr],l,!0),mC}function gC(s,o,l){const d=Ii();if(Bc(d,vd(),o)){const b=lo(),T=xl();Ku(b,T,d,s,o,tE(iy(b.data),T,d),l,!0)}return gC}const wg=void 0;var JR=["en",[["a","p"],["AM","PM"],wg],[["AM","PM"],wg,wg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wg,"{1} 'at' {0}",wg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZR(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Of={};function yC(s){const o=function lF(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=V1(o);if(l)return l;const d=o.split("-")[0];if(l=V1(d),l)return l;if("en"===d)return JR;throw new Ki(701,!1)}function B1(s){return yC(s)[Mb.PluralCase]}function V1(s){return s in Of||(Of[s]=Do.ng&&Do.ng.common&&Do.ng.common.locales&&Do.ng.common.locales[s]),Of[s]}var Mb=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Mb||{});const cF=["zero","one","two","few","many"],vC="en-US",wC={marker:"element"},xC={marker:"ICU"};var Kd=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(Kd||{});let tN=vC,xg=0,B_=0;let Rb=(s,o,l,d)=>(sd(!0),function j1(s,o,l){const d=s[wr];switch(l){case Node.COMMENT_NODE:return Ux(d,o);case Node.TEXT_NODE:return Vx(d,o);case Node.ELEMENT_NODE:return Yv(d,o,null)}}(s,l,d));function W1(s,o,l,d){const m=l[wr];let T,b=null;for(let X=0;X<o.length;X++){const ye=o[X];if("string"==typeof ye){const qe=o[++X];null===l[qe]&&(l[qe]=Rb(l,qe,ye,Node.TEXT_NODE))}else if("number"==typeof ye)switch(1&ye){case 0:const qe=aT(ye);let mt,Zt;if(null===b&&(b=qe,T=Hx(m,d)),qe===b?(mt=d,Zt=T):(mt=null,Zt=na(l[qe])),null!==Zt){const Ri=lT(ye);ig(m,Zt,l[Ri],mt,!1);const _r=Jy(s,Ri);if(null!==_r&&"object"==typeof _r){const Ni=g0(_r,l);null!==Ni&&W1(s,_r.create[Ni],l,l[_r.anchorIdx])}}break;case 1:const $n=o[++X],ii=o[++X];Jx(m,Ip(ye>>>1,l),null,null,$n,ii,null)}else switch(ye){case xC:const qe=o[++X],mt=o[++X];null===l[mt]&&Lc(l[mt]=Rb(l,mt,qe,Node.COMMENT_NODE),l);break;case wC:const Zt=o[++X],Tn=o[++X];null===l[Tn]&&Lc(l[Tn]=Rb(l,Tn,Zt,Node.ELEMENT_NODE),l)}}}function rN(s,o,l,d,m){for(let b=0;b<l.length;b++){const T=l[b],X=l[++b];if(T&m){let ye="";for(let qe=b+1;qe<=b+X;qe++){const mt=l[qe];if("string"==typeof mt)ye+=mt;else if("number"==typeof mt)if(mt<0)ye+=Ss(o[d-mt]);else{const Zt=mt>>>2;switch(3&mt){case 1:const Tn=l[++qe],$n=l[++qe],ii=s.data[Zt];"string"==typeof ii?Jx(o[wr],o[Zt],null,ii,Tn,ye,$n):Ku(s,ii,o,Tn,ye,o[wr],$n,!1);break;case 0:const Ri=o[Zt];null!==Ri&&Hd(o[wr],Ri,ye);break;case 2:pF(s,Jy(s,Zt),o,ye);break;case 3:sN(s,Jy(s,Zt),d,o)}}}}else{const ye=l[b+1];if(ye>0&&!(3&~ye)){const mt=Jy(s,ye>>>2);o[mt.currentCaseLViewIndex]<0&&sN(s,mt,d,o)}}b+=X}}function sN(s,o,l,d){let m=d[o.currentCaseLViewIndex];if(null!==m){let b=xg;m<0&&(m=d[o.currentCaseLViewIndex]=~m,b=-1),rN(s,d,o.update[m],l,b)}}function pF(s,o,l,d){const m=function oN(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function uF(s,o){const l=B1(o)(parseInt(s,10)),d=cF[l];return void 0!==d?d:"other"}(o,function Q0(){return tN}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(g0(o,l)!==m&&(H1(s,o,l),l[o.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=l[o.anchorIdx];T&&W1(s,o.create[m],l,T),function dh(s,o,l){bT(s,o,l)}(l,o.anchorIdx,m)}}function H1(s,o,l){let d=g0(o,l);if(null!==d){const m=o.remove[d];for(let b=0;b<m.length;b++){const T=m[b];if(T>0){const X=Ip(T,l);null!==X&&hm(l[wr],X)}else H1(s,Jy(s,~T),l)}}}const Z0=/\ufffd(\d+):?\d*\ufffd/gi,J0=/\ufffd(\d+)\ufffd/,K1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,wm="\ufffd",aN=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,X1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,q1=/\uE500/g;function Y1(s,o,l,d,m,b,T){const X=Uy(s,d,1,null);let ye=X<<Kd.SHIFT,qe=Hf();o===qe&&(qe=null),null===qe&&(ye|=Kd.APPEND_EAGERLY),T&&(ye|=Kd.COMMENT,function wA(s){void 0===Bx&&(Bx=s())}(dT)),m.push(ye,null===b?"":b);const mt=Ou(s,X,T?32:1,null===b?"":b,null);rT(l,mt);const Zt=mt.index;return wu(mt,!1),null!==qe&&o!==qe&&function sM(s,o){let l=s.insertBeforeIndex;null===l?(SD(nT,iT),l=s.insertBeforeIndex=[null,o]):(ne(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(qe,Zt),mt}function ew(s,o,l,d,m,b,T,X){const ye=X.match(Z0),mt=Y1(o,l,d,T,m,ye?null:X,!1).index;ye&&Nb(b,X,mt,null,0,null),s.push({kind:0,index:mt})}function Nb(s,o,l,d,m,b){const T=s.length,X=T+1;s.push(null,null);const ye=T+2,qe=o.split(Z0);let mt=0;for(let Zt=0;Zt<qe.length;Zt++){const Tn=qe[Zt];if(1&Zt){const $n=m+parseInt(Tn,10);s.push(-1-$n),mt|=tw($n)}else""!==Tn&&s.push(Tn)}return s.push(l<<2|(d?1:0)),d&&s.push(d,b),s[T]=mt,s[X]=s.length-ye,mt}function tw(s){return 1<<Math.min(s,31)}function nw(s){let o,b,l="",d=0,m=!1;for(;null!==(o=aN.exec(s));)m?o[0]===`${wm}/*${b}${wm}`&&(d=o.index,m=!1):(l+=s.substring(d,o.index+o[0].length),b=o[1],m=!0);return l+=s.slice(d),l}function Z1(s,o,l,d,m,b,T){let X=0;const ye={type:b.type,currentCaseLViewIndex:Uy(o,l,1,null),anchorIdx:T,cases:[],create:[],remove:[],update:[]};(function dN(s,o,l){s.push(tw(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(d,b,T),function oT(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(o,T,ye);const qe=b.values,mt=[];for(let Zt=0;Zt<qe.length;Zt++){const Tn=qe[Zt],$n=[];for(let Ri=0;Ri<Tn.length;Ri++){const ur=Tn[Ri];if("string"!=typeof ur){const _r=$n.push(ur)-1;Tn[Ri]=`\x3c!--\ufffd${_r}\ufffd--\x3e`}}const ii=[];mt.push(ii),X=J1(ii,o,ye,l,d,m,b.cases[Zt],Tn.join(""),$n)|X}X&&function hN(s,o,l){s.push(o,1,l<<2|3)}(d,X,T),s.push({kind:3,index:T,cases:mt,currentCaseLViewIndex:ye.currentCaseLViewIndex})}function Qh(s){const o=[],l=[];let d=1,m=0;const b=iw(s=s.replace(K1,function(T,X,ye){return d="select"===ye?0:1,m=parseInt(X.slice(1),10),""}));for(let T=0;T<b.length;){let X=b[T++].trim();1===d&&(X=X.replace(/\s*(?:=)?(\w+)\s*/,"$1")),X.length&&o.push(X);const ye=iw(b[T++]);o.length>l.length&&l.push(ye)}return{type:d,mainBinding:m,cases:o,values:l}}function iw(s){if(!s)return[];let o=0;const l=[],d=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(s);){const X=b.index;if("}"==b[0]){if(l.pop(),0==l.length){const ye=s.substring(o,X);K1.test(ye)?d.push(Qh(ye)):d.push(ye),o=X+1}}else{if(0==l.length){const ye=s.substring(o,X);d.push(ye),o=X+1}l.push("{")}}const T=s.substring(o);return d.push(T),d}function J1(s,o,l,d,m,b,T,X,ye){const qe=[],mt=[],Zt=[];l.cases.push(T),l.create.push(qe),l.remove.push(mt),l.update.push(Zt);const $n=Wv(pf()).getInertBodyElement(X),ii=Nx($n)||$n;return ii?uN(s,o,l,d,m,qe,mt,Zt,ii,b,ye,0):0}function uN(s,o,l,d,m,b,T,X,ye,qe,mt,Zt){let Tn=0,$n=ye.firstChild;for(;$n;){const ii=Uy(o,d,1,null);switch($n.nodeType){case Node.ELEMENT_NODE:const Ri=$n,ur=Ri.tagName.toLowerCase();if(sp.hasOwnProperty(ur)){rw(b,wC,ur,qe,ii),o.data[ii]=ur;const ma=Ri.attributes;for(let tu=0;tu<ma.length;tu++){const Zd=ma.item(tu),Tm=Zd.name.toLowerCase();Zd.value.match(Z0)?Rx.hasOwnProperty(Tm)&&Nb(X,Zd.value,ii,Zd.name,0,Mx[Tm]?Ry:null):eI(b,ii,Zd)}const Ll={kind:1,index:ii,children:[]};s.push(Ll),Tn=uN(Ll.children,o,l,d,m,b,T,X,$n,ii,mt,Zt+1)|Tn,DC(T,ii,Zt)}break;case Node.TEXT_NODE:const _r=$n.textContent||"",Ni=_r.match(Z0);rw(b,null,Ni?"":_r,qe,ii),DC(T,ii,Zt),Ni&&(Tn=Nb(X,_r,ii,null,0,null)|Tn),s.push({kind:0,index:ii});break;case Node.COMMENT_NODE:const yo=J0.exec($n.textContent||"");if(yo){const Ll=mt[parseInt(yo[1],10)];rw(b,xC,"",qe,ii),Z1(s,o,d,m,qe,Ll,ii),TC(T,ii,Zt)}}$n=$n.nextSibling}return Tn}function DC(s,o,l){0===l&&s.push(o)}function TC(s,o,l){0===l&&(s.push(~o),s.push(o))}function rw(s,o,l,d,m){null!==o&&s.push(o),s.push(l,m,function aM(s,o,l){return s|o<<17|l<<1}(0,d,m))}function eI(s,o,l){s.push(o<<1|1,l.name,l.value)}const tI=0,fN=/\[(\ufffd.+?\ufffd?)\]/,IC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,pN=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,nI=/{([A-Z0-9_]+)}/g,mN=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gN=/\/\*/,kC=/\d+\:(\d+)/;function Eg(s,o,l=-1){const d=lo(),m=Ii(),b=Or+s,T=Fl(d.consts,o),X=Hf();d.firstCreatePass&&function lN(s,o,l,d,m,b){const T=Hf(),X=[],ye=[],qe=[[]],mt=[[]];m=function SC(s,o){if(function uT(s){return-1===s}(o))return nw(s);{const l=s.indexOf(`:${o}${wm}`)+2+o.toString().length,d=s.search(new RegExp(`${wm}\\/\\*\\d+:${o}${wm}`));return nw(s.substring(l,d))}}(m,b);const Zt=function CC(s){return s.replace(q1," ")}(m).split(X1);for(let Tn=0;Tn<Zt.length;Tn++){let $n=Zt[Tn];if(1&Tn){const ii=47===$n.charCodeAt(0),Ri=$n.charCodeAt(ii?1:0),ur=Or+Number.parseInt($n.substring(ii?2:1));if(ii)qe.shift(),mt.shift(),wu(Hf(),!1);else{const _r=oM(s,qe[0],ur);qe.unshift([]),wu(_r,!0);const Ni={kind:2,index:ur,children:[],type:35===Ri?0:1};mt[0].push(Ni),mt.unshift(Ni.children)}}else{const ii=iw($n);for(let Ri=0;Ri<ii.length;Ri++){let ur=ii[Ri];if(1&Ri){const _r=ur;if("object"!=typeof _r)throw new Error(`Unable to parse ICU expression in "${m}" message.`);const yo=Y1(s,T,qe[0],l,X,"",!0).index;Z1(mt[0],s,l,ye,o,_r,yo)}else""!==ur&&ew(mt[0],s,T,qe[0],X,ye,l,ur)}}}s.data[d]={create:X,update:ye,ast:mt[0],parentTNodeIndex:o}}(d,null===X?0:X.index,m,b,T,l),2===d.type?m[fs][ni]|=32:m[ni]|=32;const ye=d.data[b],mt=Zv(d,X===m[nr]?null:X,m),Zt=X&&8&X.type?m[X.index]:null;(function mM(s,o,l,d){_T(s,o,l,d)})(m,b,X,l),function iN(s,o,l,d){const m=s[wr];for(let b=0;b<o.length;b++){const T=o[b++],qe=(T&Kd.APPEND_EAGERLY)===Kd.APPEND_EAGERLY,mt=T>>>Kd.SHIFT;let Zt=s[mt],Tn=!1;null===Zt&&(Zt=s[mt]=Rb(s,mt,o[b],(T&Kd.COMMENT)===Kd.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Tn=Gf()),qe&&null!==l&&Tn&&ig(m,l,Zt,d,!1)}}(m,ye.create,mt,Zt),Rm(!0)}function Ob(){Rm(!1)}function sw(s,o,l){Eg(s,o,l),Ob()}function Xd(s){return function U1(s){s&&(xg|=1<<Math.min(B_,31)),B_++}(Bc(Ii(),vd(),s)),Xd}function rI(s){!function z1(s,o,l){if(B_>0){const d=s.data[l];rN(s,o,Array.isArray(d)?d:d.update,hl()-B_-1,xg)}xg=0,B_=0}(lo(),Ii(),s+Or)}function ow(s,o={}){return function AC(s,o={}){let l=s;if(fN.test(s)){const d={},m=[tI];l=l.replace(IC,(b,T,X)=>{const ye=T||X,qe=d[ye]||[];if(qe.length||(ye.split("|").forEach(Ri=>{const ur=Ri.match(kC),_r=ur?parseInt(ur[1],10):tI,Ni=gN.test(Ri);qe.push([_r,Ni,Ri])}),d[ye]=qe),!qe.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ye}`);const mt=m[m.length-1];let Zt=0;for(let Ri=0;Ri<qe.length;Ri++)if(qe[Ri][0]===mt){Zt=Ri;break}const[Tn,$n,ii]=qe[Zt];return $n?m.pop():mt!==Tn&&m.push(Tn),qe.splice(Zt,1),ii})}return Object.keys(o).length&&(l=l.replace(pN,(d,m,b,T,X,ye)=>o.hasOwnProperty(b)?`${m}${o[b]}${ye}`:d),l=l.replace(nI,(d,m)=>o.hasOwnProperty(m)?o[m]:d),l=l.replace(mN,(d,m)=>{if(o.hasOwnProperty(m)){const b=o[m];if(!b.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${m}`);return b.shift()}return d})),l}(s,o)}let MC=(s,o,l)=>{};function NC(s,o,l,d){const m=Ii(),b=lo(),T=Oa();return PC(b,m,m[wr],T,s,o,d),NC}function OC(s,o){const l=Oa(),d=Ii(),m=lo();return PC(m,d,tE(iy(m.data),l,d),l,s,o),OC}function PC(s,o,l,d,m,b,T){const X=yu(d),qe=s.firstCreatePass&&zD(s),mt=o[hr],Zt=UD(o);let Tn=!0;if(3&d.type||T){const Ri=Pc(d,o),ur=T?T(Ri):Ri,_r=Zt.length,Ni=T?ma=>T(na(ma[d.index])):d.index;let yo=null;if(!T&&X&&(yo=function sI(s,o,l,d){const m=s.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const T=m[b];if(T===l&&m[b+1]===d){const X=o[As],ye=m[b+2];return X.length>ye?X[ye]:null}"string"==typeof T&&(b+=2)}return null}(s,o,m,d.index)),null!==yo)(yo.__ngLastListenerFn__||yo).__ngNextListenerFn__=b,yo.__ngLastListenerFn__=b,Tn=!1;else{b=Cg(d,o,mt,b),MC(Ri,m,b);const ma=l.listen(ur,m,b);Zt.push(b,ma),qe&&qe.push(m,Ni,_r,_r+1)}}else b=Cg(d,o,mt,b);const $n=d.outputs;let ii;if(Tn&&null!==$n&&(ii=$n[m])){const Ri=ii.length;if(Ri)for(let ur=0;ur<Ri;ur+=2){const Ll=o[ii[ur]][ii[ur+1]].subscribe(b),tu=Zt.length;Zt.push(b,Ll),qe&&qe.push(m,d.index,tu,-(tu+1))}}}function oI(s,o,l,d){const m=C(null);try{return td(6,o,l),!1!==l(d)}catch(b){return jy(s,b),!1}finally{td(7,o,l),C(m)}}function Cg(s,o,l,d){return function m(b){if(b===Function)return d;Gy(s.componentOffset>-1?Ru(s.index,o):o,5);let X=oI(o,l,d,b),ye=m.__ngNextListenerFn__;for(;ye;)X=oI(o,l,ye,b)&&X,ye=ye.__ngNextListenerFn__;return X}}function _N(s=1){return function os(s){return(ht.lFrame.contextLView=function Wi(s,o){for(;s>0;)o=o[Zr],s--;return o}(s,ht.lFrame.contextLView))[hr]}(s)}function FC(s,o){let l=null;const d=function Bu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let m=0;m<o.length;m++){const b=o[m];if("*"!==b){if(null===d?Cc(s,b,!0):Mr(d,b))return m}else l=m}return l}function yN(s){const o=Ii()[fs][nr];if(!o.projection){const d=o.projection=function Ao(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}(s?s.length:1,null),m=d.slice();let b=o.child;for(;null!==b;){if(128!==b.type){const T=s?FC(b,s):0;null!==T&&(m[T]?m[T].projectionNext=b:d[T]=b,m[T]=b)}b=b.next}}}function aw(s,o=0,l,d,m,b){const T=Ii(),X=lo(),ye=d?s+1:null;null!==ye&&fb(T,X,ye,d,m,b,null,l);const qe=ag(X,Or+s,16,null,l||null);null===qe.projection&&(qe.projection=o),zg();const Zt=!T[Dr]||Zo();null===T[fs][nr].projection[qe.projection]&&null!==ye?function bN(s,o,l){const d=Or+l,m=o.data[d],b=s[d],T=fm(b,m.tView.ssrId);up(b,cp(s,m,void 0,{dehydratedView:T}),0,vf(m,T))}(T,X,ye):Zt&&32&~qe.flags&&function r0(s,o,l){TD(o[wr],0,o,l,Wx(s,l,o),ED(l.parent||o[nr],l,o))}(X,T,qe)}function TN(s,o,l,d){VT(s,o,l,d)}function IN(s,o,l){!function BT(s,o,l){const d=lo();return d.firstCreatePass&&(UT(d,new FT(s,o,l),-1),!(2&~o)&&(d.staticViewQueries=!0)),$T(d,Ii(),o)}(s,o,l)}function kN(s){const o=Ii(),l=lo(),d=iv();Rp(d+1);const m=jE(l,d);if(s.dirty&&function yr(s){return!(4&~s[ni])}(o)===!(2&~m.metadata.flags)){if(null===m.matches)s.reset([]);else{const b=zT(o,d);s.reset(b,yy),s.notifyOnChanges()}return!0}return!1}function AN(){return zE(Ii(),iv())}function MN(s,o,l,d,m){!function YT(s,o){const l=s[S];l._lView=Ii(),l._queryIndex=o,l._queryList=zE(l._lView,o),l._queryList.onDirty(()=>l._dirtyCounter.update(d=>d+1))}(o,VT(s,l,d,m))}function RN(s=1){Rp(iv()+s)}function $C(s){return Us(function ih(){return ht.lFrame.contextLView}(),Or+s)}function FN(s,o=""){const l=Ii(),d=lo(),m=s+Or,b=d.firstCreatePass?ag(d,m,1,o,null):d.data[m],T=LN(d,l,b,o,s);l[m]=T,Gf()&&rg(d,l,T,b),wu(b,!1)}let LN=(s,o,l,d,m)=>(sd(!0),Vx(o[wr],d));function lI(s){return _p("",s,""),lI}function _p(s,o,l){const d=Ii(),m=Rf(d,s,o,l);return m!==go&&lp(d,yc(),m),_p}function qd(s,o,l,d,m){const b=Ii(),T=function O_(s,o,l,d,m,b){const X=yg(s,hl(),l,m);return Xa(2),X?o+Ss(l)+d+Ss(m)+b:go}(b,s,o,l,d,m);return T!==go&&lp(b,yc(),T),qd}function _h(s,o,l,d,m,b,T){const X=Ii(),ye=function P_(s,o,l,d,m,b,T,X){const qe=k0(s,hl(),l,m,T);return Xa(3),qe?o+Ss(l)+d+Ss(m)+b+Ss(T)+X:go}(X,s,o,l,d,m,b,T);return ye!==go&&lp(X,yc(),ye),_h}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function cI(s,o,l){GT(o)&&(o=o());const d=Ii();return Bc(d,vd(),o)&&Ku(lo(),xl(),d,s,o,d[wr],l,!1),cI}function GC(s,o){const l=GT(s);return l&&s.set(o),l}function V_(s,o){const l=Ii(),d=lo(),m=Oa();return PC(d,l,l[wr],m,s,o),V_
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}function XC(s,o,l,d,m){if(s=qr(s),Array.isArray(s))for(let b=0;b<s.length;b++)XC(s[b],o,l,d,m);else{const b=lo(),T=Ii(),X=Oa();let ye=Al(s)?s:qr(s.provide);const qe=bi(s),mt=1048575&X.providerIndexes,Zt=X.directiveStart,Tn=X.providerIndexes>>20;if(Al(s)||!s.multi){const $n=new $p(qe,m,ap),ii=hI(ye,o,m?mt:mt+Tn,Zt);-1===ii?(Lm(zp(X,T),b,ye),dI(b,s,o.length),o.push(ye),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),l.push($n),T.push($n)):(l[ii]=$n,T[ii]=$n)}else{const $n=hI(ye,o,mt+Tn,Zt),ii=hI(ye,o,mt,mt+Tn),ur=ii>=0&&l[ii];if(m&&!ur||!m&&!($n>=0&&l[$n])){Lm(zp(X,T),b,ye);const _r=function pI(s,o,l,d,m){const b=new $p(s,l,ap);return b.multi=[],b.index=o,b.componentProviders=0,VN(b,m,d&&!l),b}(m?UN:AF,l.length,m,d,qe);!m&&ur&&(l[ii].providerFactory=_r),dI(b,s,o.length,0),o.push(ye),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),l.push(_r),T.push(_r)}else dI(b,s,$n>-1?$n:ii,VN(l[m?ii:$n],qe,!m&&d));!m&&d&&ur&&l[ii].componentProviders++}}}function dI(s,o,l,d){const m=Al(o),b=function Ju(s){return!!s.useClass}(o);if(m||b){const ye=(b?qr(o.useClass):o).prototype.ngOnDestroy;if(ye){const qe=s.destroyHooks||(s.destroyHooks=[]);if(!m&&o.multi){const mt=qe.indexOf(l);-1===mt?qe.push(l,[d,ye]):qe[mt+1].push(d,ye)}else qe.push(l,ye)}}}function VN(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function hI(s,o,l,d){for(let m=l;m<d;m++)if(o[m]===s)return m;return-1}function AF(s,o,l,d){return fI(this.multi,[])}function UN(s,o,l,d){const m=this.multi;let b;if(this.providerFactory){const T=this.providerFactory.componentProviders,X=Bh(l,l[Ln],this.providerFactory.index,d);b=X.slice(0,T),fI(m,b);for(let ye=T;ye<X.length;ye++)b.push(X[ye])}else b=[],fI(m,b);return b}function fI(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function qC(s,o=[]){return l=>{l.providersResolver=(d,m)=>function kF(s,o,l){const d=lo();if(d.firstCreatePass){const m=Nl(s);XC(l,d.data,d.blueprint,m,!0),XC(o,d.data,d.blueprint,m,!1)}}(d,m?m(s):s,o)}}let Pb=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=tf(0,l.type),m=d.length>0?QE([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,m)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Li({token:s,providedIn:"environment",factory:()=>new s(Fs($e))})}return s})();function Fb(s){hd("NgStandalone"),s.getStandaloneInjector=o=>o.get(Pb).getOrCreateStandaloneInjector(s)}function YC(s,o,l){const d=s.\u0275cmp;d.directiveDefs=gu(o,!1),d.pipeDefs=gu(l,!0)}function gI(s,o,l){const d=Jl()+s,m=Ii();return m[d]===go?Cf(m,d,l?o.call(l):o()):hb(m,d)}function jN(s,o,l,d){return GN(Ii(),Jl(),s,o,l,d)}function _I(s,o,l,d,m){return KN(Ii(),Jl(),s,o,l,d,m)}function QC(s,o,l,d,m,b){return XN(Ii(),Jl(),s,o,l,d,m,b)}function WN(s,o,l,d,m,b,T){return function qN(s,o,l,d,m,b,T,X,ye){const qe=o+l;return fh(s,qe,m,b,T,X)?Cf(s,qe+4,ye?d.call(ye,m,b,T,X):d(m,b,T,X)):hw(s,qe+4)}(Ii(),Jl(),s,o,l,d,m,b,T)}function HN(s,o,l,d,m,b,T,X,ye,qe){const mt=Jl()+s,Zt=Ii();let Tn=fh(Zt,mt,l,d,m,b);return k0(Zt,mt+4,T,X,ye)||Tn?Cf(Zt,mt+7,qe?o.call(qe,l,d,m,b,T,X,ye):o(l,d,m,b,T,X,ye)):hb(Zt,mt+7)}function hw(s,o){const l=s[o];return l===go?void 0:l}function GN(s,o,l,d,m,b){const T=o+l;return Bc(s,T,m)?Cf(s,T+1,b?d.call(b,m):d(m)):hw(s,T+1)}function KN(s,o,l,d,m,b,T){const X=o+l;return yg(s,X,m,b)?Cf(s,X+2,T?d.call(T,m,b):d(m,b)):hw(s,X+2)}function XN(s,o,l,d,m,b,T,X){const ye=o+l;return k0(s,ye,m,b,T)?Cf(s,ye+3,X?d.call(X,m,b,T):d(m,b,T)):hw(s,ye+3)}function fw(s,o){const l=lo();let d;const m=s+Or;l.firstCreatePass?(d=function PF(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[m]=d,d.onDestroy&&(l.destroyHooks??=[]).push(m,d.onDestroy)):d=l.data[m];const b=d.factory||(d.factory=ua(d.type)),X=ca(ap);try{const ye=Pi(!1),qe=b();return Pi(ye),function aI(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,Ii(),m,qe),qe}finally{ca(X)}}function pw(s,o,l){const d=s+Or,m=Ii(),b=Us(m,d);return gw(m,d)?GN(m,Jl(),o,b.transform,l,b):b.transform(l)}function YN(s,o,l,d){const m=s+Or,b=Ii(),T=Us(b,m);return gw(b,m)?KN(b,Jl(),o,T.transform,l,d,T):T.transform(l,d)}function mw(s,o,l,d,m){const b=s+Or,T=Ii(),X=Us(T,b);return gw(T,b)?XN(T,Jl(),o,X.transform,l,d,m,X):X.transform(l,d,m)}function gw(s,o){return s[Ln].data[o].pure}function _w(s,o){return dp(s,o)}class cO{constructor(o){this.full=o;const l=o.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}const QF=new cO("18.2.3");let uO=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const mO=new yn(""),gO=new yn("");let kI,EL=(()=>{class s{constructor(l,d,m){this._ngZone=l,this.registry=d,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,kI||(function CL(s){kI=s}(m),m.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,m){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==b),l()},d)),this._callbacks.push({doneCb:l,timeoutId:b,updateCb:m})}whenStable(l,d,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,m),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,m){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(Fs(Fa),Fs(_O),Fs(gO))};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac})}return s})(),_O=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return kI?.findTestabilityInTree(this,l,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function AI(s){return!!s&&"function"==typeof s.then}function yO(s){return!!s&&"function"==typeof s.subscribe}const bO=new yn("");let vO=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=ji(bO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const m of this.appInits){const b=m();if(AI(b))l.push(b);else if(yO(b)){const T=new Promise((X,ye)=>{b.subscribe({complete:X,error:ye})});l.push(T)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(m=>{this.reject(m)}),0===l.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const lS=new yn("");function xO(s,o){return Array.isArray(o)?o.reduce(xO,s):{...s,...o}}let bp=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ji(yx),this.afterRenderManager=ji(m1),this.zonelessEnabled=ji(fg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new vt.B7,this.afterTick=new vt.B7,this.componentTypes=[],this.components=[],this.isStable=ji(ju).hasPendingTasks.pipe((0,Pt.T)(l=>!l)),this._injector=ji($e)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let l;return new Promise(d=>{l=this.isStable.subscribe({next:m=>{m&&d()}})}).finally(()=>{l.unsubscribe()})}get injector(){return this._injector}bootstrap(l,d){const m=l instanceof w_;if(!this._injector.get(vO).done)throw!m&&so(l),new Ki(405,!1);let T;T=m?l:this._injector.get(pm).resolveComponentFactory(l),this.componentTypes.push(T.componentType);const X=function SL(s){return s.isBoundToModule}(T)?void 0:this._injector.get(_g),qe=T.create(ia.NULL,[],d||T.selector,X),mt=qe.location.nativeElement,Zt=qe.injector.get(mO,null);return Zt?.registerApplication(mt),qe.onDestroy(()=>{this.detachView(qe.hostView),cS(this.components,qe),Zt?.unregisterApplication(mt)}),this._loadComponent(qe),qe}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ki(101,!1);const l=C(null);try{this._runningTick=!0,this.synchronize()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1,C(l),this.afterTick.next()}}synchronize(){let l=null;this._injector.destroyed||(l=this._injector.get(sb,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let d=0;for(;0!==this.dirtyFlags&&d++<10;)this.synchronizeOnce(l)}synchronizeOnce(l){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const d=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(d);for(let{_lView:m,notifyErrorHandler:b}of this._views)IL(m,b,d,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else l?.begin?.(),l?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>lf(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;cS(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(lS,[]);[...this._bootstrapListeners,...d].forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>cS(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ki(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function cS(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function IL(s,o,l,d){(l||lf(s))&&h0(s,o,l&&!d?0:1)}class kL{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let AL=(()=>{class s{compileModuleSync(l){return new YE(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),b=jd(Uo(l).declarations).reduce((T,X)=>{const ye=ir(X);return ye&&T.push(new gg(ye)),T},[]);return new kL(d,b)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),NL=(()=>{class s{constructor(){this.zone=ji(Fa),this.changeDetectionScheduler=ji(hg),this.applicationRef=ji(bp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function MI({ngZoneFactory:s,ignoreChangesOutsideZone:o,scheduleInRootZone:l}){return s??=()=>new Fa({...RI(),scheduleInRootZone:l}),[{provide:Fa,useFactory:s},{provide:zl,multi:!0,useFactory:()=>{const d=ji(NL,{optional:!0});return()=>d.initialize()}},{provide:zl,multi:!0,useFactory:()=>{const d=ji(PL);return()=>{d.initialize()}}},!0===o?{provide:b0,useValue:!0}:[],{provide:pg,useValue:l??Zf}]}function RI(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}let PL=(()=>{class s{constructor(){this.subscription=new an.y,this.initialized=!1,this.zone=ji(Fa),this.pendingTasks=ji(ju)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fa.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fa.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ww=(()=>{class s{constructor(){this.appRef=ji(bp),this.taskService=ji(ju),this.ngZone=ji(Fa),this.zonelessEnabled=ji(fg),this.disableScheduling=ji(b0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new an.y,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ah):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ji(pg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gy||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const d=this.useMicrotaskScheduler?Wn:pv;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>d(()=>this.tick())):this.ngZone.runOutsideAngular(()=>d(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ah+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(d){throw this.taskService.remove(l),d}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Wn(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const OI=new yn("",{providedIn:"root",factory:()=>ji(OI,Ds.Optional|Ds.SkipSelf)||function FL(){return typeof $localize<"u"&&$localize.locale||vC}()}),LL=new yn("",{providedIn:"root",factory:()=>"USD"}),dS=new yn("");function Dg(s){return!!s.platformInjector}let PI=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const m=d?.scheduleInRootZone,T=d?.ignoreChangesOutsideZone,X=[MI({ngZoneFactory:()=>function _x(s="zone.js",o){return"noop"===s?new gy:"zone.js"===s?new Fa(o):s}(d?.ngZone,{...RI({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}),scheduleInRootZone:m}),ignoreChangesOutsideZone:T}),{provide:hg,useExisting:ww}],ye=function sR(s,o,l){return new qE(s,o,l,!1)}(l.moduleType,this.injector,X);return function hS(s){const o=Dg(s)?s.r3Injector:s.moduleRef.injector,l=o.get(Fa);return l.run(()=>{Dg(s)?s.r3Injector.resolveInjectorInitializers():s.moduleRef.resolveInjectorInitializers();const d=o.get(ad,null);let m;if(l.runOutsideAngular(()=>{m=l.onError.subscribe({next:b=>{d.handleError(b)}})}),Dg(s)){const b=()=>o.destroy(),T=s.platformInjector.get(dS);T.add(b),o.onDestroy(()=>{m.unsubscribe(),T.delete(b)})}else s.moduleRef.onDestroy(()=>{cS(s.allPlatformModules,s.moduleRef),m.unsubscribe()});return function TL(s,o,l){try{const d=l();return AI(d)?d.catch(m=>{throw o.runOutsideAngular(()=>s.handleError(m)),m}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(d,l,()=>{const b=o.get(vO);return b.runInitializers(),b.donePromise.then(()=>{if(function hF(s){"string"==typeof s&&(tN=s.toLowerCase().replace(/_/g,"-"))}(o.get(OI,vC)||vC),Dg(s)){const X=o.get(bp);return void 0!==s.rootComponent&&X.bootstrap(s.rootComponent),X}return function IO(s,o){const l=s.injector.get(bp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ki(-403,!1);s.instance.ngDoBootstrap(l)}o.push(s)}(s.moduleRef,s.allPlatformModules),s.moduleRef})})})}({moduleRef:ye,allPlatformModules:this._modules})}bootstrapModule(l,d=[]){const m=xO({},d);return function RL(s,o,l){const d=new YE(l);return Promise.resolve(d)}(0,0,l).then(b=>this.bootstrapModuleFactory(b,m))}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ki(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(dS,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(Fs(ia))};static#t=this.\u0275prov=Li({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Tg=null;const kO=new yn("");function fS(s,o,l=[]){const d=`Platform: ${o}`,m=new yn(d);return(b=[])=>{let T=Ew();if(!T||T.injector.get(kO,!1)){const X=[...l,...b,{provide:m,useValue:!0}];s?s(X):function Yd(s){if(Tg&&!Tg.get(kO,!1))throw new Ki(400,!1);(function wO(){!function ce(s){$t=s}(()=>{throw new Ki(600,!1)})})(),Tg=s;const o=s.get(PI);(function du(s){s.get(nm,null)?.forEach(l=>l())})(s)}(function xw(s=[],o){return ia.create({name:o,providers:[{provide:Ih,useValue:"platform"},{provide:dS,useValue:new Set([()=>Tg=null])},...s]})}(X,d))}return function zL(){const o=Ew();if(!o)throw new Ki(401,!1);return o}()}}function Ew(){return Tg?.get(PI)??null}function jL(){}let LI=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=MO}return s})();function MO(s){return function RO(s,o,l){if(jl(s)&&!l){const d=Ru(s.index,o);return new Ky(d,d)}return 175&s.type?new Ky(o[fs],o):null}(Oa(),Ii(),!(16&~s))}class Dw{constructor(){}supports(o){return db(o)}create(o){return new bS(o)}}const WI=(s,o)=>o;class bS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||WI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,m=0,b=null;for(;l||d;){const T=!d||l&&l.currentIndex<Iw(d,m,b)?l:d,X=Iw(T,m,b),ye=T.currentIndex;if(T===d)m--,d=d._nextRemoved;else if(l=l._next,null==T.previousIndex)m++;else{b||(b=[]);const qe=X-m,mt=ye-m;if(qe!=mt){for(let Tn=0;Tn<qe;Tn++){const $n=Tn<b.length?b[Tn]:b[Tn]=0,ii=$n+Tn;mt<=ii&&ii<qe&&(b[Tn]=$n+1)}b[T.previousIndex]=mt-qe}}X!==ye&&o(T,X,ye)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!db(o))throw new Ki(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,b,T,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let X=0;X<this.length;X++)b=o[X],T=this._trackByFn(X,b),null!==l&&Object.is(l.trackById,T)?(d&&(l=this._verifyReinsertion(l,b,T,X)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,T,X),d=!0),l=l._next}else m=0,function aR(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,X=>{T=this._trackByFn(m,X),null!==l&&Object.is(l.trackById,T)?(d&&(l=this._verifyReinsertion(l,X,T,m)),Object.is(l.item,X)||this._addIdentityChange(l,X)):(l=this._mismatch(l,X,T,m),d=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,m){let b;return null===o?b=this._itTail:(b=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,b,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,m))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,b,m)):o=this._addAfter(new vS(l,d),b,m),o}_verifyReinsertion(o,l,d,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?o=this._reinsertAfter(b,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,b=o._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const m=null===l?this._itHead:l._next;return o._next=m,o._prev=l,null===m?this._itTail=o:m._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tw),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class vS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Tw{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new HI,this.map.set(l,d)),d.add(o)}get(o,l){const m=this.map.get(o);return m?m.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iw(s,o,l){const d=s.previousIndex;if(null===d)return d;let m=0;return l&&d<l.length&&(m=l[d]),d+o+m}class kw{constructor(){}supports(o){return o instanceof Map||ZE(o)}create(){return new wS}}class wS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||ZE(o)))throw new Ki(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const b=this._getOrCreateRecordForKey(m,d);l=this._insertBeforeOrAppend(l,b)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,l);const b=m._prev,T=m._next;return b&&(b._next=T),T&&(T._prev=b),m._next=null,m._prev=null,m}const d=new xS(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class xS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GI(){return new ES([new Dw])}let ES=(()=>{class s{static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:GI});constructor(l){this.factories=l}static create(l,d){if(null!=d){const m=d.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||GI()),deps:[[s,new ka,new Nc]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(null!=d)return d;throw new Ki(901,!1)}}return s})();function KI(){return new XI([new kw])}let XI=(()=>{class s{static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:KI});constructor(l){this.factories=l}static create(l,d){if(d){const m=d.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||KI()),deps:[[s,new ka,new Nc]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(d)return d;throw new Ki(901,!1)}}return s})();const FO=fS(null,"core",[]);let kg=(()=>{class s{constructor(l){}static#e=this.\u0275fac=function(d){return new(d||s)(Fs(bp))};static#t=this.\u0275mod=gn({type:s});static#n=this.\u0275inj=ro({})}return s})();const ak=new yn("");function dP(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function hP(s,o=NaN){return isNaN(parseFloat(s))||isNaN(Number(s))?o:Number(s)}function Vw(s,o){hd("NgSignals");const l=rt(s);return o?.equal&&(l[S].equal=o.equal),l}function bh(s){const o=C(null);try{return s()}finally{C(o)}}const g$=new yn("",{providedIn:"root",factory:()=>ji(_$)});let _$=(()=>{class s{static#e=this.\u0275prov=Li({token:s,providedIn:"root",factory:()=>new mP})}return s})();class mP{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ji(ju),this.taskId=null}scheduleEffect(o){if(this.enqueue(o),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(o){const l=o.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const d=this.queues.get(l);d.has(o)||(this.queuedEffectCount++,d.add(o))}flush(){for(;this.queuedEffectCount>0;)for(const[o,l]of this.queues)null===o?this.flushQueue(l):o.run(()=>this.flushQueue(l))}flushQueue(o){for(const l of o)o.delete(l),this.queuedEffectCount--,l.run()}}class gP{constructor(o,l,d,m,b,T){this.scheduler=o,this.effectFn=l,this.creationZone=d,this.injector=b,this.watcher=function Ot(s,o,l){const d=Object.create(ft);l&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=o;const m=ye=>{d.cleanupFn=ye};return d.ref={notify:()=>Ee(d),run:()=>{if(null===d.fn)return;if(function L(){return E}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(d.dirty=!1,d.hasRun&&!Pe(d))return;d.hasRun=!0;const ye=ke(d);try{d.cleanupFn(),d.cleanupFn=Ft,d.fn(m)}finally{Qe(d,ye)}},cleanup:()=>d.cleanupFn(),destroy:()=>function T(ye){(function b(ye){return null===ye.fn&&null===ye.schedule})(ye)||(Ye(ye),ye.cleanupFn(),ye.fn=null,ye.schedule=null,ye.cleanupFn=Ft)}(d),[S]:d},d.ref}(X=>this.runEffect(X),()=>this.schedule(),T),this.unregisterOnDestroy=m?.onDestroy(()=>this.destroy())}runEffect(o){try{this.effectFn(o)}catch(l){this.injector.get(ad,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function vk(s,o){hd("NgSignals"),!o?.injector&&vl();const l=o?.injector??ji(ia),d=!0!==o?.manualCleanup?l.get(Hm):null,m=new gP(l.get(g$),s,typeof Zone>"u"?null:Zone.current,d,l,o?.allowSignalWrites??!1),b=l.get(LI,null,{optional:!0});return b&&8&b._lView[ni]?(b._lView[mc]??=[]).push(m.watcher.notify):m.watcher.notify(),m}function Hb(s){const o=ir(s);if(!o)return null;const l=new gg(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4456:(dn,Je,_)=>{"use strict";_.d(Je,{$R:()=>Wt,BC:()=>Jt,JD:()=>Wr,MJ:()=>Gr,Q0:()=>aa,X1:()=>fe,YN:()=>ne,YS:()=>Qa,cV:()=>is,cb:()=>vn,cz:()=>Qe,gE:()=>Ze,j4:()=>ga,k0:()=>Re,kq:()=>N,me:()=>De,qT:()=>Ba,tU:()=>pl,vO:()=>vt,vS:()=>co,xq:()=>sl});var h=_(7404),O=_(316),E=_(2677),A=_(8757),S=_(3119),C=_(5443);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let W=(()=>{class B{constructor(K,We){this._renderer=K,this._elementRef=We,this.onChange=pt=>{},this.onTouched=()=>{}}setProperty(K,We){this._renderer.setProperty(this._elementRef.nativeElement,K,We)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(h.sFG),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:B})}return B})(),L=(()=>{class B extends W{static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,features:[h.Vt3]})}return B})();const N=new h.nKC(""),q={provide:N,useExisting:(0,h.Rfq)(()=>De),multi:!0},ee=new h.nKC("");let De=(()=>{class B extends W{constructor(K,We,pt){super(K,We),this._compositionMode=pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Z(){const B=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(K){this.setProperty("value",K??"")}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(ee,8))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(We,pt){1&We&&h.bIt("input",function(ei){return pt._handleInput(ei.target.value)})("blur",function(){return pt.onTouched()})("compositionstart",function(){return pt._compositionStart()})("compositionend",function(ei){return pt._compositionEnd(ei.target.value)})},features:[h.Jv_([q]),h.Vt3]})}return B})();function Ee(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function ke(B){return null!=B&&"number"==typeof B.length}const Qe=new h.nKC(""),Pe=new h.nKC(""),Ye=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Re{static min(te){return function nt(B){return te=>{if(Ee(te.value)||Ee(B))return null;const K=parseFloat(te.value);return!isNaN(K)&&K<B?{min:{min:B,actual:te.value}}:null}}(te)}static max(te){return function Te(B){return te=>{if(Ee(te.value)||Ee(B))return null;const K=parseFloat(te.value);return!isNaN(K)&&K>B?{max:{max:B,actual:te.value}}:null}}(te)}static required(te){return je(te)}static requiredTrue(te){return Xe(te)}static email(te){return function Q(B){return Ee(B.value)||Ye.test(B.value)?null:{email:!0}}(te)}static minLength(te){return function rt(B){return te=>Ee(te.value)||!ke(te.value)?null:te.value.length<B?{minlength:{requiredLength:B,actualLength:te.value.length}}:null}(te)}static maxLength(te){return oe(te)}static pattern(te){return function ot(B){if(!B)return bt;let te,K;return"string"==typeof B?(K="","^"!==B.charAt(0)&&(K+="^"),K+=B,"$"!==B.charAt(B.length-1)&&(K+="$"),te=new RegExp(K)):(K=B.toString(),te=B),We=>{if(Ee(We.value))return null;const pt=We.value;return te.test(pt)?null:{pattern:{requiredPattern:K,actualValue:pt}}}}(te)}static nullValidator(te){return null}static compose(te){return me(te)}static composeAsync(te){return At(te)}}function je(B){return Ee(B.value)?{required:!0}:null}function Xe(B){return!0===B.value?null:{required:!0}}function oe(B){return te=>ke(te.value)&&te.value.length>B?{maxlength:{requiredLength:B,actualLength:te.value.length}}:null}function bt(B){return null}function Nt(B){return null!=B}function St(B){return(0,h.jNT)(B)?(0,E.H)(B):B}function $t(B){let te={};return B.forEach(K=>{te=null!=K?{...te,...K}:te}),0===Object.keys(te).length?null:te}function Ce(B,te){return te.map(K=>K(B))}function ve(B){return B.map(te=>function ce(B){return!B.validate}(te)?te:K=>te.validate(K))}function me(B){if(!B)return null;const te=B.filter(Nt);return 0==te.length?null:function(K){return $t(Ce(K,te))}}function Oe(B){return null!=B?me(ve(B)):null}function At(B){if(!B)return null;const te=B.filter(Nt);return 0==te.length?null:function(K){const We=Ce(K,te).map(St);return(0,A.p)(We).pipe((0,C.T)($t))}}function Et(B){return null!=B?At(ve(B)):null}function En(B,te){return null===B?[te]:Array.isArray(B)?[...B,te]:[B,te]}function Me(B){return B._rawValidators}function kn(B){return B._rawAsyncValidators}function nn(B){return B?Array.isArray(B)?B:[B]:[]}function Ot(B,te){return Array.isArray(B)?B.includes(te):B===te}function Ft(B,te){const K=nn(te);return nn(B).forEach(pt=>{Ot(K,pt)||K.push(pt)}),K}function ft(B,te){return nn(te).filter(K=>!Ot(B,K))}class Ae{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(te){this._rawValidators=te||[],this._composedValidatorFn=Oe(this._rawValidators)}_setAsyncValidators(te){this._rawAsyncValidators=te||[],this._composedAsyncValidatorFn=Et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(te){this._onDestroyCallbacks.push(te)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(te=>te()),this._onDestroyCallbacks=[]}reset(te=void 0){this.control&&this.control.reset(te)}hasError(te,K){return!!this.control&&this.control.hasError(te,K)}getError(te,K){return this.control?this.control.getError(te,K):null}}class Ve extends Ae{get formDirective(){return null}get path(){return null}}class vt extends Ae{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(te){this._cd=te}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jt=(()=>{class B extends an{constructor(K){super(K)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(vt,2))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(We,pt){2&We&&h.AVh("ng-untouched",pt.isUntouched)("ng-touched",pt.isTouched)("ng-pristine",pt.isPristine)("ng-dirty",pt.isDirty)("ng-valid",pt.isValid)("ng-invalid",pt.isInvalid)("ng-pending",pt.isPending)},features:[h.Vt3]})}return B})(),vn=(()=>{class B extends an{constructor(K){super(K)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Ve,10))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(We,pt){2&We&&h.AVh("ng-untouched",pt.isUntouched)("ng-touched",pt.isTouched)("ng-pristine",pt.isPristine)("ng-dirty",pt.isDirty)("ng-valid",pt.isValid)("ng-invalid",pt.isInvalid)("ng-pending",pt.isPending)("ng-submitted",pt.isSubmitted)},features:[h.Vt3]})}return B})();const zi="VALID",Vn="INVALID",ui="PENDING",Pn="DISABLED";class oi{}class jt extends oi{constructor(te,K){super(),this.value=te,this.source=K}}class xt extends oi{constructor(te,K){super(),this.pristine=te,this.source=K}}class qt extends oi{constructor(te,K){super(),this.touched=te,this.source=K}}class Lt extends oi{constructor(te,K){super(),this.status=te,this.source=K}}class Kt extends oi{constructor(te){super(),this.source=te}}class Rn extends oi{constructor(te){super(),this.source=te}}function Un(B){return(U(B)?B.validators:B)||null}function we(B,te){return(U(te)?te.asyncValidators:B)||null}function U(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}class ct{constructor(te,K){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,h.EWP)(()=>this.statusReactive()),this.statusReactive=(0,h.vPA)(void 0),this._pristine=(0,h.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,h.vPA)(!0),this._touched=(0,h.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,h.vPA)(!1),this._events=new S.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(te),this._assignAsyncValidators(K)}get validator(){return this._composedValidatorFn}set validator(te){this._rawValidators=this._composedValidatorFn=te}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(te){this._rawAsyncValidators=this._composedAsyncValidatorFn=te}get parent(){return this._parent}get status(){return(0,h.O8t)(this.statusReactive)}set status(te){(0,h.O8t)(()=>this.statusReactive.set(te))}get valid(){return this.status===zi}get invalid(){return this.status===Vn}get pending(){return this.status==ui}get disabled(){return this.status===Pn}get enabled(){return this.status!==Pn}get pristine(){return(0,h.O8t)(this.pristineReactive)}set pristine(te){(0,h.O8t)(()=>this.pristineReactive.set(te))}get dirty(){return!this.pristine}get touched(){return(0,h.O8t)(this.touchedReactive)}set touched(te){(0,h.O8t)(()=>this.touchedReactive.set(te))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(te){this._assignValidators(te)}setAsyncValidators(te){this._assignAsyncValidators(te)}addValidators(te){this.setValidators(Ft(te,this._rawValidators))}addAsyncValidators(te){this.setAsyncValidators(Ft(te,this._rawAsyncValidators))}removeValidators(te){this.setValidators(ft(te,this._rawValidators))}removeAsyncValidators(te){this.setAsyncValidators(ft(te,this._rawAsyncValidators))}hasValidator(te){return Ot(this._rawValidators,te)}hasAsyncValidator(te){return Ot(this._rawAsyncValidators,te)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(te={}){const K=!1===this.touched;this.touched=!0;const We=te.sourceControl??this;this._parent&&!te.onlySelf&&this._parent.markAsTouched({...te,sourceControl:We}),K&&!1!==te.emitEvent&&this._events.next(new qt(!0,We))}markAllAsTouched(te={}){this.markAsTouched({onlySelf:!0,emitEvent:te.emitEvent,sourceControl:this}),this._forEachChild(K=>K.markAllAsTouched(te))}markAsUntouched(te={}){const K=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const We=te.sourceControl??this;this._forEachChild(pt=>{pt.markAsUntouched({onlySelf:!0,emitEvent:te.emitEvent,sourceControl:We})}),this._parent&&!te.onlySelf&&this._parent._updateTouched(te,We),K&&!1!==te.emitEvent&&this._events.next(new qt(!1,We))}markAsDirty(te={}){const K=!0===this.pristine;this.pristine=!1;const We=te.sourceControl??this;this._parent&&!te.onlySelf&&this._parent.markAsDirty({...te,sourceControl:We}),K&&!1!==te.emitEvent&&this._events.next(new xt(!1,We))}markAsPristine(te={}){const K=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const We=te.sourceControl??this;this._forEachChild(pt=>{pt.markAsPristine({onlySelf:!0,emitEvent:te.emitEvent})}),this._parent&&!te.onlySelf&&this._parent._updatePristine(te,We),K&&!1!==te.emitEvent&&this._events.next(new xt(!0,We))}markAsPending(te={}){this.status=ui;const K=te.sourceControl??this;!1!==te.emitEvent&&(this._events.next(new Lt(this.status,K)),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.markAsPending({...te,sourceControl:K})}disable(te={}){const K=this._parentMarkedDirty(te.onlySelf);this.status=Pn,this.errors=null,this._forEachChild(pt=>{pt.disable({...te,onlySelf:!0})}),this._updateValue();const We=te.sourceControl??this;!1!==te.emitEvent&&(this._events.next(new jt(this.value,We)),this._events.next(new Lt(this.status,We)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...te,skipPristineCheck:K},this),this._onDisabledChange.forEach(pt=>pt(!0))}enable(te={}){const K=this._parentMarkedDirty(te.onlySelf);this.status=zi,this._forEachChild(We=>{We.enable({...te,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent}),this._updateAncestors({...te,skipPristineCheck:K},this),this._onDisabledChange.forEach(We=>We(!1))}_updateAncestors(te,K){this._parent&&!te.onlySelf&&(this._parent.updateValueAndValidity(te),te.skipPristineCheck||this._parent._updatePristine({},K),this._parent._updateTouched({},K))}setParent(te){this._parent=te}getRawValue(){return this.value}updateValueAndValidity(te={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const We=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zi||this.status===ui)&&this._runAsyncValidator(We,te.emitEvent)}const K=te.sourceControl??this;!1!==te.emitEvent&&(this._events.next(new jt(this.value,K)),this._events.next(new Lt(this.status,K)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!te.onlySelf&&this._parent.updateValueAndValidity({...te,sourceControl:K})}_updateTreeValidity(te={emitEvent:!0}){this._forEachChild(K=>K._updateTreeValidity(te)),this.updateValueAndValidity({onlySelf:!0,emitEvent:te.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pn:zi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(te,K){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator={emitEvent:!1!==K};const We=St(this.asyncValidator(this));this._asyncValidationSubscription=We.subscribe(pt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(pt,{emitEvent:K,shouldHaveEmitted:te})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const te=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,te}return!1}setErrors(te,K={}){this.errors=te,this._updateControlsErrors(!1!==K.emitEvent,this,K.shouldHaveEmitted)}get(te){let K=te;return null==K||(Array.isArray(K)||(K=K.split(".")),0===K.length)?null:K.reduce((We,pt)=>We&&We._find(pt),this)}getError(te,K){const We=K?this.get(K):this;return We&&We.errors?We.errors[te]:null}hasError(te,K){return!!this.getError(te,K)}get root(){let te=this;for(;te._parent;)te=te._parent;return te}_updateControlsErrors(te,K,We){this.status=this._calculateStatus(),te&&this.statusChanges.emit(this.status),(te||We)&&this._events.next(new Lt(this.status,K)),this._parent&&this._parent._updateControlsErrors(te,K,We)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?Pn:this.errors?Vn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(Vn)?Vn:zi}_anyControlsHaveStatus(te){return this._anyControls(K=>K.status===te)}_anyControlsDirty(){return this._anyControls(te=>te.dirty)}_anyControlsTouched(){return this._anyControls(te=>te.touched)}_updatePristine(te,K){const We=!this._anyControlsDirty(),pt=this.pristine!==We;this.pristine=We,this._parent&&!te.onlySelf&&this._parent._updatePristine(te,K),pt&&this._events.next(new xt(this.pristine,K))}_updateTouched(te={},K){this.touched=this._anyControlsTouched(),this._events.next(new qt(this.touched,K)),this._parent&&!te.onlySelf&&this._parent._updateTouched(te,K)}_registerOnCollectionChange(te){this._onCollectionChange=te}_setUpdateStrategy(te){U(te)&&null!=te.updateOn&&(this._updateOn=te.updateOn)}_parentMarkedDirty(te){return!te&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(te){return null}_assignValidators(te){this._rawValidators=Array.isArray(te)?te.slice():te,this._composedValidatorFn=function dt(B){return Array.isArray(B)?Oe(B):B||null}(this._rawValidators)}_assignAsyncValidators(te){this._rawAsyncValidators=Array.isArray(te)?te.slice():te,this._composedAsyncValidatorFn=function Ne(B){return Array.isArray(B)?Et(B):B||null}(this._rawAsyncValidators)}}class Ze extends ct{constructor(te,K,We){super(Un(K),we(We,K)),this.controls=te,this._initObservables(),this._setUpdateStrategy(K),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(te,K){return this.controls[te]?this.controls[te]:(this.controls[te]=K,K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange),K)}addControl(te,K,We={}){this.registerControl(te,K),this.updateValueAndValidity({emitEvent:We.emitEvent}),this._onCollectionChange()}removeControl(te,K={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}setControl(te,K,We={}){this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),delete this.controls[te],K&&this.registerControl(te,K),this.updateValueAndValidity({emitEvent:We.emitEvent}),this._onCollectionChange()}contains(te){return this.controls.hasOwnProperty(te)&&this.controls[te].enabled}setValue(te,K={}){(function be(B,te,K){B._forEachChild((We,pt)=>{if(void 0===K[pt])throw new h.wOt(1002,"")})})(this,0,te),Object.keys(te).forEach(We=>{(function Se(B,te,K){const We=B.controls;if(!(te?Object.keys(We):We).length)throw new h.wOt(1e3,"");if(!We[K])throw new h.wOt(1001,"")})(this,!0,We),this.controls[We].setValue(te[We],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K)}patchValue(te,K={}){null!=te&&(Object.keys(te).forEach(We=>{const pt=this.controls[We];pt&&pt.patchValue(te[We],{onlySelf:!0,emitEvent:K.emitEvent})}),this.updateValueAndValidity(K))}reset(te={},K={}){this._forEachChild((We,pt)=>{We.reset(te?te[pt]:null,{onlySelf:!0,emitEvent:K.emitEvent})}),this._updatePristine(K,this),this._updateTouched(K,this),this.updateValueAndValidity(K)}getRawValue(){return this._reduceChildren({},(te,K,We)=>(te[We]=K.getRawValue(),te))}_syncPendingControls(){let te=this._reduceChildren(!1,(K,We)=>!!We._syncPendingControls()||K);return te&&this.updateValueAndValidity({onlySelf:!0}),te}_forEachChild(te){Object.keys(this.controls).forEach(K=>{const We=this.controls[K];We&&te(We,K)})}_setUpControls(){this._forEachChild(te=>{te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(te){for(const[K,We]of Object.entries(this.controls))if(this.contains(K)&&te(We))return!0;return!1}_reduceValue(){return this._reduceChildren({},(K,We,pt)=>((We.enabled||this.disabled)&&(K[pt]=We.value),K))}_reduceChildren(te,K){let We=te;return this._forEachChild((pt,Fn)=>{We=K(We,pt,Fn)}),We}_allControlsDisabled(){for(const te of Object.keys(this.controls))if(this.controls[te].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(te){return this.controls.hasOwnProperty(te)?this.controls[te]:null}}const di=new h.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Qi}),Qi="always";function br(B,te){return[...te.path,B]}function Tr(B,te,K=Qi){ts(B,te),te.valueAccessor.writeValue(B.value),(B.disabled||"always"===K)&&te.valueAccessor.setDisabledState?.(B.disabled),function Os(B,te){te.valueAccessor.registerOnChange(K=>{B._pendingValue=K,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&lr(B,te)})}(B,te),function Ir(B,te){const K=(We,pt)=>{te.valueAccessor.writeValue(We),pt&&te.viewToModelUpdate(We)};B.registerOnChange(K),te._registerOnDestroy(()=>{B._unregisterOnChange(K)})}(B,te),function ds(B,te){te.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&lr(B,te),"submit"!==B.updateOn&&B.markAsTouched()})}(B,te),function as(B,te){if(te.valueAccessor.setDisabledState){const K=We=>{te.valueAccessor.setDisabledState(We)};B.registerOnDisabledChange(K),te._registerOnDestroy(()=>{B._unregisterOnDisabledChange(K)})}}(B,te)}function Hi(B,te,K=!0){const We=()=>{};te.valueAccessor&&(te.valueAccessor.registerOnChange(We),te.valueAccessor.registerOnTouched(We)),bs(B,te),B&&(te._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function xr(B,te){B.forEach(K=>{K.registerOnValidatorChange&&K.registerOnValidatorChange(te)})}function ts(B,te){const K=Me(B);null!==te.validator?B.setValidators(En(K,te.validator)):"function"==typeof K&&B.setValidators([K]);const We=kn(B);null!==te.asyncValidator?B.setAsyncValidators(En(We,te.asyncValidator)):"function"==typeof We&&B.setAsyncValidators([We]);const pt=()=>B.updateValueAndValidity();xr(te._rawValidators,pt),xr(te._rawAsyncValidators,pt)}function bs(B,te){let K=!1;if(null!==B){if(null!==te.validator){const pt=Me(B);if(Array.isArray(pt)&&pt.length>0){const Fn=pt.filter(ei=>ei!==te.validator);Fn.length!==pt.length&&(K=!0,B.setValidators(Fn))}}if(null!==te.asyncValidator){const pt=kn(B);if(Array.isArray(pt)&&pt.length>0){const Fn=pt.filter(ei=>ei!==te.asyncValidator);Fn.length!==pt.length&&(K=!0,B.setAsyncValidators(Fn))}}}const We=()=>{};return xr(te._rawValidators,We),xr(te._rawAsyncValidators,We),K}function lr(B,te){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),te.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function vr(B,te){ts(B,te)}function ze(B,te){if(!B.hasOwnProperty("model"))return!1;const K=B.model;return!!K.isFirstChange()||!Object.is(te,K.currentValue)}function Vt(B,te){B._syncPendingControls(),te.forEach(K=>{const We=K.control;"submit"===We.updateOn&&We._pendingChange&&(K.viewToModelUpdate(We._pendingValue),We._pendingChange=!1)})}function mi(B,te){if(!te)return null;let K,We,pt;return Array.isArray(te),te.forEach(Fn=>{Fn.constructor===De?K=Fn:function kt(B){return Object.getPrototypeOf(B.constructor)===L}(Fn)?We=Fn:pt=Fn}),pt||We||K||null}const ns={provide:Ve,useExisting:(0,h.Rfq)(()=>is)},Jr=Promise.resolve();let is=(()=>{class B extends Ve{get submitted(){return(0,h.O8t)(this.submittedReactive)}constructor(K,We,pt){super(),this.callSetDisabledState=pt,this._submitted=(0,h.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,h.vPA)(!1),this._directives=new Set,this.ngSubmit=new h.bkB,this.form=new Ze({},Oe(K),Et(We))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(K){Jr.then(()=>{const We=this._findContainer(K.path);K.control=We.registerControl(K.name,K.control),Tr(K.control,K,this.callSetDisabledState),K.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(K)})}getControl(K){return this.form.get(K.path)}removeControl(K){Jr.then(()=>{const We=this._findContainer(K.path);We&&We.removeControl(K.name),this._directives.delete(K)})}addFormGroup(K){Jr.then(()=>{const We=this._findContainer(K.path),pt=new Ze({});vr(pt,K),We.registerControl(K.name,pt),pt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(K){Jr.then(()=>{const We=this._findContainer(K.path);We&&We.removeControl(K.name)})}getFormGroup(K){return this.form.get(K.path)}updateModel(K,We){Jr.then(()=>{this.form.get(K.path).setValue(We)})}setValue(K){this.control.setValue(K)}onSubmit(K){return this.submittedReactive.set(!0),Vt(this.form,this._directives),this.ngSubmit.emit(K),"dialog"===K?.target?.method}onReset(){this.resetForm()}resetForm(K=void 0){this.form.reset(K),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(K){return K.pop(),K.length?this.form.get(K):this.form}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Qe,10),h.rXU(Pe,10),h.rXU(di,8))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(We,pt){1&We&&h.bIt("submit",function(ei){return pt.onSubmit(ei)})("reset",function(){return pt.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([ns]),h.Vt3]})}return B})();function Es(B,te){const K=B.indexOf(te);K>-1&&B.splice(K,1)}function to(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Gr=class extends ct{constructor(te=null,K,We){super(Un(K),we(We,K)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(te),this._setUpdateStrategy(K),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U(K)&&(K.nonNullable||K.initialValueIsDefault)&&(this.defaultValue=to(te)?te.value:te)}setValue(te,K={}){this.value=this._pendingValue=te,this._onChange.length&&!1!==K.emitModelToViewChange&&this._onChange.forEach(We=>We(this.value,!1!==K.emitViewToModelChange)),this.updateValueAndValidity(K)}patchValue(te,K={}){this.setValue(te,K)}reset(te=this.defaultValue,K={}){this._applyFormState(te),this.markAsPristine(K),this.markAsUntouched(K),this.setValue(this.value,K),this._pendingChange=!1}_updateValue(){}_anyControls(te){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(te){this._onChange.push(te)}_unregisterOnChange(te){Es(this._onChange,te)}registerOnDisabledChange(te){this._onDisabledChange.push(te)}_unregisterOnDisabledChange(te){Es(this._onDisabledChange,te)}_forEachChild(te){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(te){to(te)?(this.value=this._pendingValue=te.value,te.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=te}};let Bo=(()=>{class B extends Ve{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,features:[h.Vt3]})}return B})();const qa={provide:vt,useExisting:(0,h.Rfq)(()=>co)},Jo=Promise.resolve();let co=(()=>{class B extends vt{constructor(K,We,pt,Fn,ei,Vi){super(),this._changeDetectorRef=ei,this.callSetDisabledState=Vi,this.control=new Gr,this._registered=!1,this.name="",this.update=new h.bkB,this._parent=K,this._setValidators(We),this._setAsyncValidators(pt),this.valueAccessor=mi(0,Fn)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const We=K.name.previousValue;this.formDirective.removeControl({name:We,path:this._getPath(We)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),ze(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){Jo.then(()=>{this.control.setValue(K,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(K){const We=K.isDisabled.currentValue,pt=0!==We&&(0,h.L39)(We);Jo.then(()=>{pt&&!this.control.disabled?this.control.disable():!pt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(K){return this._parent?br(K,this._parent):[K]}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Ve,9),h.rXU(Qe,10),h.rXU(Pe,10),h.rXU(N,10),h.rXU(h.gRc,8),h.rXU(di,8))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.Jv_([qa]),h.Vt3,h.OA$]})}return B})(),Ba=(()=>{class B{static#e=this.\u0275fac=function(We){return new(We||B)};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return B})();const Gl={provide:N,useExisting:(0,h.Rfq)(()=>aa),multi:!0};let aa=(()=>{class B extends L{writeValue(K){this.setProperty("value",K??"")}registerOnChange(K){this.onChange=We=>{K(""==We?null:parseFloat(We))}}static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(We,pt){1&We&&h.bIt("input",function(ei){return pt.onChange(ei.target.value)})("blur",function(){return pt.onTouched()})},features:[h.Jv_([Gl]),h.Vt3]})}return B})();const Rr=new h.nKC(""),Vl={provide:Ve,useExisting:(0,h.Rfq)(()=>ga)};let ga=(()=>{class B extends Ve{get submitted(){return(0,h.O8t)(this._submittedReactive)}set submitted(K){this._submittedReactive.set(K)}constructor(K,We,pt){super(),this.callSetDisabledState=pt,this._submitted=(0,h.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,h.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.bkB,this._setValidators(K),this._setAsyncValidators(We)}ngOnChanges(K){this._checkFormPresent(),K.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(K){const We=this.form.get(K.path);return Tr(We,K,this.callSetDisabledState),We.updateValueAndValidity({emitEvent:!1}),this.directives.push(K),We}getControl(K){return this.form.get(K.path)}removeControl(K){Hi(K.control||null,K,!1),function Zi(B,te){const K=B.indexOf(te);K>-1&&B.splice(K,1)}(this.directives,K)}addFormGroup(K){this._setUpFormContainer(K)}removeFormGroup(K){this._cleanUpFormContainer(K)}getFormGroup(K){return this.form.get(K.path)}addFormArray(K){this._setUpFormContainer(K)}removeFormArray(K){this._cleanUpFormContainer(K)}getFormArray(K){return this.form.get(K.path)}updateModel(K,We){this.form.get(K.path).setValue(We)}onSubmit(K){return this._submittedReactive.set(!0),Vt(this.form,this.directives),this.ngSubmit.emit(K),this.form._events.next(new Kt(this.control)),"dialog"===K?.target?.method}onReset(){this.resetForm()}resetForm(K=void 0){this.form.reset(K),this._submittedReactive.set(!1),this.form._events.next(new Rn(this.form))}_updateDomValue(){this.directives.forEach(K=>{const We=K.control,pt=this.form.get(K.path);We!==pt&&(Hi(We||null,K),(B=>B instanceof Gr)(pt)&&(Tr(pt,K,this.callSetDisabledState),K.control=pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(K){const We=this.form.get(K.path);vr(We,K),We.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(K){if(this.form){const We=this.form.get(K.path);We&&function tr(B,te){return bs(B,te)}(We,K)&&We.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ts(this.form,this),this._oldForm&&bs(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Qe,10),h.rXU(Pe,10),h.rXU(di,8))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","formGroup",""]],hostBindings:function(We,pt){1&We&&h.bIt("submit",function(ei){return pt.onSubmit(ei)})("reset",function(){return pt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([Vl]),h.Vt3,h.OA$]})}return B})();const Ue={provide:Ve,useExisting:(0,h.Rfq)(()=>Wt)};let Wt=(()=>{class B extends Bo{constructor(K,We,pt){super(),this.name=null,this._parent=K,this._setValidators(We),this._setAsyncValidators(pt)}_checkParentType(){Nr(this._parent)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Ve,13),h.rXU(Qe,10),h.rXU(Pe,10))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[h.Jv_([Ue]),h.Vt3]})}return B})();const In={provide:Ve,useExisting:(0,h.Rfq)(()=>fi)};let fi=(()=>{class B extends Ve{constructor(K,We,pt){super(),this.name=null,this._parent=K,this._setValidators(We),this._setAsyncValidators(pt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Nr(this._parent)}static#e=this.\u0275fac=function(We){return new(We||B)(h.rXU(Ve,13),h.rXU(Qe,10),h.rXU(Pe,10))};static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[h.Jv_([In]),h.Vt3]})}return B})();function Nr(B){return!(B instanceof Wt||B instanceof ga||B instanceof fi)}const dr={provide:vt,useExisting:(0,h.Rfq)(()=>Wr)};let Wr=(()=>{class B extends vt{set isDisabled(K){}static#e=this._ngModelWarningSentOnce=!1;constructor(K,We,pt,Fn,ei){super(),this._ngModelWarningConfig=ei,this._added=!1,this.name=null,this.update=new h.bkB,this._ngModelWarningSent=!1,this._parent=K,this._setValidators(We),this._setAsyncValidators(pt),this.valueAccessor=mi(0,Fn)}ngOnChanges(K){this._added||this._setUpControl(),ze(K,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}get path(){return br(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(We){return new(We||B)(h.rXU(Ve,13),h.rXU(Qe,10),h.rXU(Pe,10),h.rXU(N,10),h.rXU(Rr,8))};static#n=this.\u0275dir=h.FsC({type:B,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.Jv_([dr]),h.Vt3,h.OA$]})}return B})();let So=(()=>{class B{constructor(){this._validator=bt}ngOnChanges(K){if(this.inputName in K){const We=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(We),this._validator=this._enabled?this.createValidator(We):bt,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}static#e=this.\u0275fac=function(We){return new(We||B)};static#t=this.\u0275dir=h.FsC({type:B,features:[h.OA$]})}return B})();const ta={provide:Qe,useExisting:(0,h.Rfq)(()=>Qa),multi:!0},Ya={provide:Qe,useExisting:(0,h.Rfq)(()=>sl),multi:!0};let Qa=(()=>{class B extends So{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.L39,this.createValidator=K=>je}enabled(K){return K}static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(We,pt){2&We&&h.BMQ("required",pt._enabled?"":null)},inputs:{required:"required"},features:[h.Jv_([ta]),h.Vt3]})}return B})(),sl=(()=>{class B extends Qa{constructor(){super(...arguments),this.createValidator=K=>Xe}static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(We,pt){2&We&&h.BMQ("required",pt._enabled?"":null)},features:[h.Jv_([Ya]),h.Vt3]})}return B})();const Do={provide:Qe,useExisting:(0,h.Rfq)(()=>pl),multi:!0};let pl=(()=>{class B extends So{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=K=>function Ki(B){return"number"==typeof B?B:parseInt(B,10)}(K),this.createValidator=K=>oe(K)}static#e=this.\u0275fac=(()=>{let K;return function(pt){return(K||(K=h.xGo(B)))(pt||B)}})();static#t=this.\u0275dir=h.FsC({type:B,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(We,pt){2&We&&h.BMQ("maxlength",pt._enabled?pt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h.Jv_([Do]),h.Vt3]})}return B})(),gl=(()=>{class B{static#e=this.\u0275fac=function(We){return new(We||B)};static#t=this.\u0275mod=h.$C({type:B});static#n=this.\u0275inj=h.G2t({})}return B})(),ne=(()=>{class B{static withConfig(K){return{ngModule:B,providers:[{provide:di,useValue:K.callSetDisabledState??Qi}]}}static#e=this.\u0275fac=function(We){return new(We||B)};static#t=this.\u0275mod=h.$C({type:B});static#n=this.\u0275inj=h.G2t({imports:[gl]})}return B})(),fe=(()=>{class B{static withConfig(K){return{ngModule:B,providers:[{provide:Rr,useValue:K.warnOnNgModelWithFormControl??"always"},{provide:di,useValue:K.callSetDisabledState??Qi}]}}static#e=this.\u0275fac=function(We){return new(We||B)};static#t=this.\u0275mod=h.$C({type:B});static#n=this.\u0275inj=h.G2t({imports:[gl]})}return B})()},9771:(dn,Je,_)=>{"use strict";_.d(Je,{$3:()=>me,Vn:()=>Oe,jL:()=>Ot,pN:()=>nn});var h=_(7404),O=_(5060),E=_(316),A=_(4053),S=_(1570),C=_(2139),W=_(7699),L=_(7172),N=_(2672),z=_(3119),re=_(6965),q=_(7405),Z=_(1536),ee=_(7557),De=_(434),Ee=_(4879),ke=_(7912),Qe=_(9168),Pe=_(4456),Ye=_(5944),Re=_(9273),nt=_(1963),Te=_(8627),je=_(5443),Xe=_(6e3),Q=_(9277),rt=_(3602),oe=_(3680);const ot=["panel"],bt=["*"];function Nt(Ft,ft){if(1&Ft){const Ae=h.RV6();h.j41(0,"div",1,0),h.bIt("@panelAnimation.done",function(vt){h.eBV(Ae);const an=h.XpG();return h.Njj(an._animationDone.next(vt))}),h.SdG(2),h.k0s()}if(2&Ft){const Ae=ft.id,Ve=h.XpG();h.HbH(Ve._classList),h.AVh("mat-mdc-autocomplete-visible",Ve.showPanel)("mat-mdc-autocomplete-hidden",!Ve.showPanel)("mat-primary","primary"===Ve._color)("mat-accent","accent"===Ve._color)("mat-warn","warn"===Ve._color),h.Y8G("id",Ve.id)("@panelAnimation",Ve.isOpen?"visible":"hidden"),h.BMQ("aria-label",Ve.ariaLabel||null)("aria-labelledby",Ve._getPanelAriaLabelledby(Ae))}}const St=(0,L.hZ)("panelAnimation",[(0,L.wk)("void, hidden",(0,L.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,L.kY)(":enter, hidden => visible",[(0,L.Os)([(0,L.i0)("0.03s linear",(0,L.iF)({opacity:1})),(0,L.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,L.iF)({transform:"scaleY(1)"}))])]),(0,L.kY)(":leave, visible => hidden",[(0,L.i0)("0.075s linear",(0,L.iF)({opacity:0}))])]);let $t=0;class Ce{constructor(ft,Ae){this.source=ft,this.option=Ae}}const ce=new h.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function ve(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let me=(()=>{class Ft{get isOpen(){return this._isOpen&&this.showPanel}_setColor(Ae){this._color=Ae,this._changeDetectorRef.markForCheck()}set classList(Ae){this._classList=Ae,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Ae){this._hideSingleSelectionIndicator=Ae,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const Ae of this.options)Ae._changeDetectorRef.markForCheck()}constructor(Ae,Ve,vt,an){this._changeDetectorRef=Ae,this._elementRef=Ve,this._defaults=vt,this._activeOptionChanges=N.y.EMPTY,this._animationDone=new h.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new h.bkB,this.opened=new h.bkB,this.closed=new h.bkB,this.optionActivated=new h.bkB,this.id="mat-autocomplete-"+$t++,this.inertGroups=an?.SAFARI||!1,this.autoActiveFirstOption=!!vt.autoActiveFirstOption,this.autoSelectActiveOption=!!vt.autoSelectActiveOption,this.requireSelection=!!vt.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new C.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(Ae=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[Ae]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(Ae){this.panel&&(this.panel.nativeElement.scrollTop=Ae)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(Ae){const Ve=new Ce(this,Ae);this.optionSelected.emit(Ve)}_getPanelAriaLabelledby(Ae){return this.ariaLabel?null:this.ariaLabelledby?(Ae?Ae+" ":"")+this.ariaLabelledby:Ae}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(ce),h.rXU(W.OD))};static#t=this.\u0275cmp=h.VBU({type:Ft,selectors:[["mat-autocomplete"]],contentQueries:function(Ve,vt,an){if(1&Ve&&(h.wni(an,O.wT,5),h.wni(an,O.QC,5)),2&Ve){let Pt;h.mGM(Pt=h.lsd())&&(vt.options=Pt),h.mGM(Pt=h.lsd())&&(vt.optionGroups=Pt)}},viewQuery:function(Ve,vt){if(1&Ve&&(h.GBs(h.C4Q,7),h.GBs(ot,5)),2&Ve){let an;h.mGM(an=h.lsd())&&(vt.template=an.first),h.mGM(an=h.lsd())&&(vt.panel=an.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",h.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",h.L39],requireSelection:[2,"requireSelection","requireSelection",h.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",h.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",h.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[h.Jv_([{provide:O.is,useExisting:Ft}]),h.GFd,h.aNF],ngContentSelectors:bt,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Ve,vt){1&Ve&&(h.NAR(),h.DNE(0,Nt,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[St]},changeDetection:0})}return Ft})(),Oe=(()=>{class Ft{constructor(Ae){this.elementRef=Ae}static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Ft,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return Ft})();const At={provide:Pe.kq,useExisting:(0,h.Rfq)(()=>nn),multi:!0},En=new h.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const Ft=(0,h.WQX)(S.hJ);return()=>Ft.scrollStrategies.reposition()}}),kn={provide:En,deps:[S.hJ],useFactory:function Me(Ft){return()=>Ft.scrollStrategies.reposition()}};let nn=(()=>{class Ft{constructor(Ae,Ve,vt,an,Pt,yt,Jt,vn,wn,on,sn){this._element=Ae,this._overlay=Ve,this._viewContainerRef=vt,this._zone=an,this._changeDetectorRef=Pt,this._dir=Jt,this._formField=vn,this._document=wn,this._viewportRuler=on,this._defaults=sn,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=N.y.EMPTY,this._breakpointObserver=(0,h.WQX)(ke.QP),this._handsetLandscapeSubscription=N.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new z.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new z.B7,this._injector=(0,h.WQX)(h.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,re.v)(()=>{const de=this.autocomplete?this.autocomplete.options:null;return de?de.changes.pipe((0,Re.Z)(de),(0,nt.n)(()=>(0,q.h)(...de.map(tt=>tt.onSelectionChange)))):this._initialized.pipe((0,nt.n)(()=>this.optionSelections))}),this._handlePanelKeydown=de=>{(de.keyCode===Ee._f&&!(0,Ee.rp)(de)||de.keyCode===Ee.i7&&(0,Ee.rp)(de,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),de.stopPropagation(),de.preventDefault())},this._trackedModal=null,this._scrollStrategy=yt}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const Ae=this._getWindow();typeof Ae<"u"&&this._zone.runOutsideAngular(()=>Ae.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(Ae){Ae.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const Ae=this._getWindow();typeof Ae<"u"&&Ae.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,C.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,q.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,Te.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,Te.p)(()=>this._overlayAttached)):(0,Z.of)()).pipe((0,je.T)(Ae=>Ae instanceof O.MI?Ae:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,q.h)((0,ee.R)(this._document,"click"),(0,ee.R)(this._document,"auxclick"),(0,ee.R)(this._document,"touchend")).pipe((0,Te.p)(Ae=>{const Ve=(0,W.Fb)(Ae),vt=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,an=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Ve!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!vt||!vt.contains(Ve))&&(!an||!an.contains(Ve))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Ve)}))}writeValue(Ae){Promise.resolve(null).then(()=>this._assignOptionValue(Ae))}registerOnChange(Ae){this._onChange=Ae}registerOnTouched(Ae){this._onTouched=Ae}setDisabledState(Ae){this._element.nativeElement.disabled=Ae}_handleKeydown(Ae){const Ve=Ae.keyCode,vt=(0,Ee.rp)(Ae);if(Ve===Ee._f&&!vt&&Ae.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Ve===Ee.Fm&&this.panelOpen&&!vt)this.activeOption._selectViaInteraction(),this._resetActiveItem(),Ae.preventDefault();else if(this.autocomplete){const an=this.autocomplete._keyManager.activeItem,Pt=Ve===Ee.i7||Ve===Ee.n6;Ve===Ee.wn||Pt&&!vt&&this.panelOpen?this.autocomplete._keyManager.onKeydown(Ae):Pt&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(Pt||this.autocomplete._keyManager.activeItem!==an)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(Ae){let Ve=Ae.target,vt=Ve.value;if("number"===Ve.type&&(vt=""==vt?null:parseFloat(vt)),this._previousValue!==vt){if(this._previousValue=vt,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(vt),vt){if(this.panelOpen&&!this.autocomplete.requireSelection){const an=this.autocomplete.options?.find(Pt=>Pt.selected);an&&vt!==this._getDisplayValue(an.value)&&an.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===Ae.target){const an=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(an)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(Ae=!1){this._formField&&"auto"===this._formField.floatLabel&&(Ae?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const Ae=new De.c(vt=>{(0,h.mal)(()=>{vt.next()},{injector:this._injector})}),Ve=this.autocomplete.options.changes.pipe((0,Xe.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,Q.c)(0));return(0,q.h)(Ae,Ve).pipe((0,nt.n)(()=>this._zone.run(()=>{const vt=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),vt!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,rt.s)(1)).subscribe(vt=>this._setValueAndClose(vt))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(Ae){const Ve=this.autocomplete;return Ve&&Ve.displayWith?Ve.displayWith(Ae):Ae}_assignOptionValue(Ae){const Ve=this._getDisplayValue(Ae);null==Ae&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Ve??"")}_updateNativeInputValue(Ae){this._formField?this._formField._control.value=Ae:this._element.nativeElement.value=Ae,this._previousValue=Ae}_setValueAndClose(Ae){const Ve=this.autocomplete,vt=Ae?Ae.source:this._pendingAutoselectedOption;vt?(this._clearPreviousSelectedOption(vt),this._assignOptionValue(vt.value),this._onChange(vt.value),Ve._emitSelectEvent(vt),this._element.nativeElement.focus()):Ve.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Ve._animationDone?Ve._animationDone.pipe((0,rt.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(Ae,Ve){this.autocomplete?.options?.forEach(vt=>{vt!==Ae&&vt.selected&&vt.deselect(Ve)})}_openPanelInternal(Ae=this._element.nativeElement.value){this._attachOverlay(Ae),this._floatLabel(),this._trackedModal&&(0,C.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(Ae){let Ve=this._overlayRef;Ve?(this._positionStrategy.setOrigin(this._getConnectedElement()),Ve.updateSize({width:this._getPanelWidth()})):(this._portal=new Qe.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Ve=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Ve,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Ve&&Ve.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(ke.Rp.HandsetLandscape).subscribe(an=>{an.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Ve&&!Ve.hasAttached()&&(Ve.attach(this._portal),this._valueOnAttach=Ae,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const vt=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&vt!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const Ae=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=Ae.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=Ae.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new S.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const Ae=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(Ae),this._positionStrategy=Ae,Ae}_setStrategyPositions(Ae){const Ve=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vt=this._aboveClass,an=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:vt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:vt}];let Pt;Pt="above"===this.position?an:"below"===this.position?Ve:[...Ve,...an],Ae.withPositions(Pt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const Ae=this.autocomplete;if(Ae.autoActiveFirstOption){let Ve=-1;for(let vt=0;vt<Ae.options.length;vt++)if(!Ae.options.get(vt).disabled){Ve=vt;break}Ae._keyManager.setActiveItem(Ve)}else Ae._keyManager.setActiveItem(-1)}_canOpen(){const Ae=this._element.nativeElement;return!Ae.readOnly&&!Ae.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(Ae){const Ve=this.autocomplete,vt=(0,O.jb)(Ae,Ve.options,Ve.optionGroups);if(0===Ae&&1===vt)Ve._setScrollTop(0);else if(Ve.panel){const an=Ve.options.toArray()[Ae];if(an){const Pt=an._getHostElement(),yt=(0,O.TL)(Pt.offsetTop,Pt.offsetHeight,Ve._getScrollTop(),Ve.panel.nativeElement.offsetHeight);Ve._setScrollTop(yt)}}}_applyModalPanelOwnership(){const Ae=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Ae)return;const Ve=this.autocomplete.id;this._trackedModal&&(0,C.Ae)(this._trackedModal,"aria-owns",Ve),(0,C.px)(Ae,"aria-owns",Ve),this._trackedModal=Ae}_clearFromModal(){this._trackedModal&&((0,C.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)(h.rXU(h.aKT),h.rXU(S.hJ),h.rXU(h.c1b),h.rXU(h.SKi),h.rXU(h.gRc),h.rXU(En),h.rXU(oe.dS,8),h.rXU(Ye.xb,9),h.rXU(E.qQ,8),h.rXU(A.Xj),h.rXU(ce,8))};static#t=this.\u0275dir=h.FsC({type:Ft,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Ve,vt){1&Ve&&h.bIt("focusin",function(){return vt._handleFocus()})("blur",function(){return vt._onTouched()})("input",function(Pt){return vt._handleInput(Pt)})("keydown",function(Pt){return vt._handleKeydown(Pt)})("click",function(){return vt._handleClick()}),2&Ve&&h.BMQ("autocomplete",vt.autocompleteAttribute)("role",vt.autocompleteDisabled?null:"combobox")("aria-autocomplete",vt.autocompleteDisabled?null:"list")("aria-activedescendant",vt.panelOpen&&vt.activeOption?vt.activeOption.id:null)("aria-expanded",vt.autocompleteDisabled?null:vt.panelOpen.toString())("aria-controls",vt.autocompleteDisabled||!vt.panelOpen||null==vt.autocomplete?null:vt.autocomplete.id)("aria-haspopup",vt.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",h.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[h.Jv_([At]),h.GFd,h.OA$]})}return Ft})(),Ot=(()=>{class Ft{static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)};static#t=this.\u0275mod=h.$C({type:Ft});static#n=this.\u0275inj=h.G2t({providers:[kn],imports:[S.z_,O.Sy,O.yE,E.MD,A.Gj,O.Sy,O.yE]})}return Ft})()},5244:(dn,Je,_)=>{"use strict";_.d(Je,{VK:()=>nt,eN:()=>Ye,vF:()=>Te});var h=_(3482),O=_(9168),E=_(7404),A=_(5060),S=_(2139),C=_(7912),W=_(1570),L=_(316),N=_(7172),z=_(4879),re=_(3119),q=_(7405),Z=_(8627),ee=_(3602);function De(je,Xe){}const Ee={bottomSheetState:(0,N.hZ)("state",[(0,N.wk)("void, hidden",(0,N.iF)({transform:"translateY(100%)"})),(0,N.wk)("visible",(0,N.iF)({transform:"translateY(0%)"})),(0,N.kY)("visible => void, visible => hidden",(0,N.Os)([(0,N.i0)(`${A.ed.COMPLEX} ${A.r5.ACCELERATION_CURVE}`),(0,N.P)("@*",(0,N.MA)(),{optional:!0})])),(0,N.kY)("void => visible",(0,N.Os)([(0,N.i0)(`${A.ed.EXITING} ${A.r5.DECELERATION_CURVE}`),(0,N.P)("@*",(0,N.MA)(),{optional:!0})]))])};let ke=(()=>{class je extends h.sU{constructor(Q,rt,oe,ot,bt,Nt,St,$t,Ce){super(Q,rt,oe,ot,bt,Nt,St,Ce),this._animationState="void",this._animationStateChanged=new E.bkB,this._breakpointSubscription=$t.observe([C.Rp.Medium,C.Rp.Large,C.Rp.XLarge]).subscribe(()=>{const ce=this._elementRef.nativeElement.classList;ce.toggle("mat-bottom-sheet-container-medium",$t.isMatched(C.Rp.Medium)),ce.toggle("mat-bottom-sheet-container-large",$t.isMatched(C.Rp.Large)),ce.toggle("mat-bottom-sheet-container-xlarge",$t.isMatched(C.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(Q){"visible"===Q.toState&&this._trapFocus(),this._animationStateChanged.emit(Q)}_onAnimationStart(Q){this._animationStateChanged.emit(Q)}_captureInitialFocus(){}static#e=this.\u0275fac=function(rt){return new(rt||je)(E.rXU(E.aKT),E.rXU(S.GX),E.rXU(L.qQ,8),E.rXU(h.Pe),E.rXU(S.Z7),E.rXU(E.SKi),E.rXU(W.yY),E.rXU(C.QP),E.rXU(S.FN))};static#t=this.\u0275cmp=E.VBU({type:je,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(rt,oe){1&rt&&E.Kam("@state.start",function(bt){return oe._onAnimationStart(bt)})("@state.done",function(bt){return oe._onAnimationDone(bt)}),2&rt&&(E.zvX("@state",oe._animationState),E.BMQ("role",oe._config.role)("aria-modal",oe._config.ariaModal)("aria-label",oe._config.ariaLabel))},standalone:!0,features:[E.Vt3,E.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(rt,oe){1&rt&&E.DNE(0,De,0,0,"ng-template",0)},dependencies:[O.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-app-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-app-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-app-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-app-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-app-body-large-tracking))}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Ee.bottomSheetState]}})}return je})();const Qe=new E.nKC("MatBottomSheetData");class Pe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class Ye{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(Xe,Q,rt){this._ref=Xe,this._afterOpened=new re.B7,this.containerInstance=rt,this.disableClose=Q.disableClose,rt._animationStateChanged.pipe((0,Z.p)(oe=>"done"===oe.phaseName&&"visible"===oe.toState),(0,ee.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),rt._animationStateChanged.pipe((0,Z.p)(oe=>"done"===oe.phaseName&&"hidden"===oe.toState),(0,ee.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),Xe.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,q.h)(this.backdropClick(),this.keydownEvents().pipe((0,Z.p)(oe=>oe.keyCode===z._f))).subscribe(oe=>{!this.disableClose&&("keydown"!==oe.type||!(0,z.rp)(oe))&&(oe.preventDefault(),this.dismiss())})}dismiss(Xe){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Z.p)(Q=>"start"===Q.phaseName),(0,ee.s)(1)).subscribe(Q=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},Q.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=Xe,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Re=new E.nKC("mat-bottom-sheet-default-options");let nt=(()=>{class je{get _openedBottomSheetRef(){const Q=this._parentBottomSheet;return Q?Q._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(Q){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=Q:this._bottomSheetRefAtThisLevel=Q}constructor(Q,rt,oe,ot){this._overlay=Q,this._parentBottomSheet=oe,this._defaultOptions=ot,this._bottomSheetRefAtThisLevel=null,this._dialog=rt.get(h.lG)}open(Q,rt){const oe={...this._defaultOptions||new Pe,...rt};let ot;return this._dialog.open(Q,{...oe,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:ke,scrollStrategy:oe.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:ot}),providers:(bt,Nt,St)=>(ot=new Ye(bt,oe,St),[{provide:Ye,useValue:ot},{provide:Qe,useValue:oe.data}])}),ot.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===ot&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>ot.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):ot.containerInstance.enter(),this._openedBottomSheetRef=ot,ot}dismiss(Q){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(Q)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(rt){return new(rt||je)(E.KVO(W.hJ),E.KVO(E.zZn),E.KVO(je,12),E.KVO(Re,8))};static#t=this.\u0275prov=E.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),Te=(()=>{class je{static#e=this.\u0275fac=function(rt){return new(rt||je)};static#t=this.\u0275mod=E.$C({type:je});static#n=this.\u0275inj=E.G2t({providers:[nt],imports:[h.Ph,A.yE,O.jc,A.yE]})}return je})()},9864:(dn,Je,_)=>{"use strict";_.d(Je,{Vg:()=>Ye});var h=_(2139),A=(_(7989),_(4879),_(7404)),W=(_(3680),_(4456),_(5060));const L=["button"],N=["*"];function z(Re,nt){if(1&Re&&A.nrm(0,"mat-pseudo-checkbox",3),2&Re){const Te=A.XpG();A.Y8G("disabled",Te.disabled)}}function re(Re,nt){if(1&Re&&A.nrm(0,"mat-pseudo-checkbox",3),2&Re){const Te=A.XpG();A.Y8G("disabled",Te.disabled)}}const q=new A.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function Z(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),ee=new A.nKC("MatButtonToggleGroup");let Ee=0;class ke{constructor(nt,Te){this.source=nt,this.value=Te}}let Pe=(()=>{class Re{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(Te){this._tabIndex=Te,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(Te){this._appearance=Te}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(Te){Te!==this._checked&&(this._checked=Te,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(Te){this._disabled=Te}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(Te){this._disabledInteractive=Te}constructor(Te,je,Xe,Q,rt,oe){this._changeDetectorRef=je,this._elementRef=Xe,this._focusMonitor=Q,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new A.bkB;const ot=Number(rt);this.tabIndex=ot||0===ot?ot:null,this.buttonToggleGroup=Te,this.appearance=oe&&oe.appearance?oe.appearance:"standard",this.disabledInteractive=oe?.disabledInteractive??!1}ngOnInit(){const Te=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Ee++,Te&&(Te._isPrechecked(this)?this.checked=!0:Te._isSelected(this)!==this._checked&&Te._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const Te=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),Te&&Te._isSelected(this)&&Te._syncButtonToggle(this,!1,!1,!0)}focus(Te){this._buttonElement.nativeElement.focus(Te)}_onButtonClick(){if(this.disabled)return;const Te=!!this.isSingleSelector()||!this._checked;if(Te!==this._checked&&(this._checked=Te,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const je=this.buttonToggleGroup._buttonToggles.find(Xe=>0===Xe.tabIndex);je&&(je.tabIndex=-1),this.tabIndex=0}this.change.emit(new ke(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(je){return new(je||Re)(A.rXU(ee,8),A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(h.FN),A.kS0("tabindex"),A.rXU(q,8))};static#t=this.\u0275cmp=A.VBU({type:Re,selectors:[["mat-button-toggle"]],viewQuery:function(je,Xe){if(1&je&&A.GBs(L,5),2&je){let Q;A.mGM(Q=A.lsd())&&(Xe._buttonElement=Q.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(je,Xe){1&je&&A.bIt("focus",function(){return Xe.focus()}),2&je&&(A.BMQ("aria-label",null)("aria-labelledby",null)("id",Xe.id)("name",null),A.AVh("mat-button-toggle-standalone",!Xe.buttonToggleGroup)("mat-button-toggle-checked",Xe.checked)("mat-button-toggle-disabled",Xe.disabled)("mat-button-toggle-disabled-interactive",Xe.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===Xe.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",A.L39],appearance:"appearance",checked:[2,"checked","checked",A.L39],disabled:[2,"disabled","disabled",A.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[A.GFd,A.aNF],ngContentSelectors:N,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(je,Xe){if(1&je){const Q=A.RV6();A.NAR(),A.j41(0,"button",1,0),A.bIt("click",function(){return A.eBV(Q),A.Njj(Xe._onButtonClick())}),A.j41(2,"span",2),A.DNE(3,z,1,1,"mat-pseudo-checkbox",3)(4,re,1,1,"mat-pseudo-checkbox",3),A.SdG(5),A.k0s()(),A.nrm(6,"span",4)(7,"span",5)}if(2&je){const Q=A.sdS(1);A.Y8G("id",Xe.buttonId)("disabled",Xe.disabled&&!Xe.disabledInteractive||null),A.BMQ("role",Xe.isSingleSelector()?"radio":"button")("tabindex",Xe.disabled&&!Xe.disabledInteractive?-1:Xe.tabIndex)("aria-pressed",Xe.isSingleSelector()?null:Xe.checked)("aria-checked",Xe.isSingleSelector()?Xe.checked:null)("name",Xe._getButtonName())("aria-label",Xe.ariaLabel)("aria-labelledby",Xe.ariaLabelledby)("aria-disabled",Xe.disabled&&Xe.disabledInteractive?"true":null),A.R7$(3),A.vxM(Xe.buttonToggleGroup&&Xe.checked&&!Xe.buttonToggleGroup.multiple&&!Xe.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),A.R7$(),A.vxM(Xe.buttonToggleGroup&&Xe.checked&&Xe.buttonToggleGroup.multiple&&!Xe.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),A.R7$(3),A.Y8G("matRippleTrigger",Q)("matRippleDisabled",Xe.disableRipple||Xe.disabled)}},dependencies:[W.r6,W.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return Re})(),Ye=(()=>{class Re{static#e=this.\u0275fac=function(je){return new(je||Re)};static#t=this.\u0275mod=A.$C({type:Re});static#n=this.\u0275inj=A.G2t({imports:[W.yE,W.pZ,Pe,W.yE]})}return Re})()},4175:(dn,Je,_)=>{"use strict";_.d(Je,{$z:()=>nt,Hl:()=>$t,iY:()=>Nt});var h=_(7699),O=_(7404),E=_(2139),A=_(5060);const S=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],W=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Z=["mat-icon-button",""],ee=["*"],Ee=new O.nKC("MAT_BUTTON_CONFIG"),Qe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Pe=(()=>{class Ce{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ve){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ve)}get disableRipple(){return this._disableRipple}set disableRipple(ve){this._disableRipple=ve,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ve){this._disabled=ve,this._updateRippleDisabled()}constructor(ve,me,Oe,At){this._elementRef=ve,this._platform=me,this._ngZone=Oe,this._animationMode=At,this._focusMonitor=(0,O.WQX)(E.FN),this._rippleLoader=(0,O.WQX)(A.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Et=(0,O.WQX)(Ee,{optional:!0}),En=ve.nativeElement,Me=En.classList;this.disabledInteractive=Et?.disabledInteractive??!1,this.color=Et?.color??null,this._rippleLoader?.configureRipple(En,{className:"mat-mdc-button-ripple"});for(const{attribute:kn,mdcClasses:nn}of Qe)En.hasAttribute(kn)&&Me.add(...nn)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ve="program",me){ve?this._focusMonitor.focusVia(this._elementRef.nativeElement,ve,me):this._elementRef.nativeElement.focus(me)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(me){O.QTQ()};static#t=this.\u0275dir=O.FsC({type:Ce,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",O.L39],disabled:[2,"disabled","disabled",O.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",O.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",O.L39]},features:[O.GFd]})}return Ce})(),nt=(()=>{class Ce extends Pe{constructor(ve,me,Oe,At){super(ve,me,Oe,At)}static#e=this.\u0275fac=function(me){return new(me||Ce)(O.rXU(O.aKT),O.rXU(h.OD),O.rXU(O.SKi),O.rXU(O.bc$,8))};static#t=this.\u0275cmp=O.VBU({type:Ce,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(me,Oe){2&me&&(O.BMQ("disabled",Oe._getDisabledAttribute())("aria-disabled",Oe._getAriaDisabled()),O.HbH(Oe.color?"mat-"+Oe.color:""),O.AVh("mat-mdc-button-disabled",Oe.disabled)("mat-mdc-button-disabled-interactive",Oe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Oe._animationMode)("mat-unthemed",!Oe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[O.Vt3,O.aNF],attrs:S,ngContentSelectors:W,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(me,Oe){1&me&&(O.NAR(C),O.nrm(0,"span",0),O.SdG(1),O.j41(2,"span",1),O.SdG(3,1),O.k0s(),O.SdG(4,2),O.nrm(5,"span",2)(6,"span",3)),2&me&&O.AVh("mdc-button__ripple",!Oe._isFab)("mdc-fab__ripple",Oe._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ce})(),Nt=(()=>{class Ce extends Pe{constructor(ve,me,Oe,At){super(ve,me,Oe,At),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(me){return new(me||Ce)(O.rXU(O.aKT),O.rXU(h.OD),O.rXU(O.SKi),O.rXU(O.bc$,8))};static#t=this.\u0275cmp=O.VBU({type:Ce,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(me,Oe){2&me&&(O.BMQ("disabled",Oe._getDisabledAttribute())("aria-disabled",Oe._getAriaDisabled()),O.HbH(Oe.color?"mat-"+Oe.color:""),O.AVh("mat-mdc-button-disabled",Oe.disabled)("mat-mdc-button-disabled-interactive",Oe.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Oe._animationMode)("mat-unthemed",!Oe.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[O.Vt3,O.aNF],attrs:Z,ngContentSelectors:ee,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(me,Oe){1&me&&(O.NAR(),O.nrm(0,"span",0),O.SdG(1),O.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Ce})(),$t=(()=>{class Ce{static#e=this.\u0275fac=function(me){return new(me||Ce)};static#t=this.\u0275mod=O.$C({type:Ce});static#n=this.\u0275inj=O.G2t({imports:[A.yE,A.pZ,A.yE]})}return Ce})()},7024:(dn,Je,_)=>{"use strict";_.d(Je,{So:()=>ee,g7:()=>Qe});var h=_(7404),O=_(4456),E=_(5060);const A=["input"],S=["label"],C=["*"],W=new h.nKC("mat-checkbox-default-options",{providedIn:"root",factory:L});function L(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var N=function(Pe){return Pe[Pe.Init=0]="Init",Pe[Pe.Checked=1]="Checked",Pe[Pe.Unchecked=2]="Unchecked",Pe[Pe.Indeterminate=3]="Indeterminate",Pe}(N||{});const z={provide:O.kq,useExisting:(0,h.Rfq)(()=>ee),multi:!0};class re{}let q=0;const Z=L();let ee=(()=>{class Pe{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(Re){const nt=new re;return nt.source=this,nt.checked=Re,nt}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Re,nt,Te,je,Xe,Q){this._elementRef=Re,this._changeDetectorRef=nt,this._ngZone=Te,this._animationMode=Xe,this._options=Q,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new h.bkB,this.indeterminateChange=new h.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=N.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Z,this.color=this._options.color||Z.color,this.tabIndex=parseInt(je)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++q,this.disabledInteractive=Q?.disabledInteractive??!1}ngOnChanges(Re){Re.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(Re){Re!=this.checked&&(this._checked=Re,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Re){Re!==this.disabled&&(this._disabled=Re,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(Re){const nt=Re!=this._indeterminate;this._indeterminate=Re,nt&&(this._transitionCheckState(this._indeterminate?N.Indeterminate:this.checked?N.Checked:N.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(Re){this.checked=!!Re}registerOnChange(Re){this._controlValueAccessorChangeFn=Re}registerOnTouched(Re){this._onTouched=Re}setDisabledState(Re){this.disabled=Re}validate(Re){return this.required&&!0!==Re.value?{required:!0}:null}registerOnValidatorChange(Re){this._validatorChangeFn=Re}_transitionCheckState(Re){let nt=this._currentCheckState,Te=this._getAnimationTargetElement();if(nt!==Re&&Te&&(this._currentAnimationClass&&Te.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(nt,Re),this._currentCheckState=Re,this._currentAnimationClass.length>0)){Te.classList.add(this._currentAnimationClass);const je=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Te.classList.remove(je)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const Re=this._options?.clickAction;this.disabled||"noop"===Re?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===Re)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==Re&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?N.Checked:N.Unchecked),this._emitChangeEvent())}_onInteractionEvent(Re){Re.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(Re,nt){if("NoopAnimations"===this._animationMode)return"";switch(Re){case N.Init:if(nt===N.Checked)return this._animationClasses.uncheckedToChecked;if(nt==N.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case N.Unchecked:return nt===N.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case N.Checked:return nt===N.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case N.Indeterminate:return nt===N.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(Re){const nt=this._inputElement;nt&&(nt.nativeElement.indeterminate=Re)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(Re){Re.target&&this._labelElement.nativeElement.contains(Re.target)&&Re.stopPropagation()}static#e=this.\u0275fac=function(nt){return new(nt||Pe)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(h.SKi),h.kS0("tabindex"),h.rXU(h.bc$,8),h.rXU(W,8))};static#t=this.\u0275cmp=h.VBU({type:Pe,selectors:[["mat-checkbox"]],viewQuery:function(nt,Te){if(1&nt&&(h.GBs(A,5),h.GBs(S,5),h.GBs(E.r6,5)),2&nt){let je;h.mGM(je=h.lsd())&&(Te._inputElement=je.first),h.mGM(je=h.lsd())&&(Te._labelElement=je.first),h.mGM(je=h.lsd())&&(Te.ripple=je.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(nt,Te){2&nt&&(h.Mr5("id",Te.id),h.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),h.HbH(Te.color?"mat-"+Te.color:"mat-accent"),h.AVh("_mat-animation-noopable","NoopAnimations"===Te._animationMode)("mdc-checkbox--disabled",Te.disabled)("mat-mdc-checkbox-disabled",Te.disabled)("mat-mdc-checkbox-checked",Te.checked)("mat-mdc-checkbox-disabled-interactive",Te.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",h.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",h.L39],tabIndex:[2,"tabIndex","tabIndex",Re=>null==Re?void 0:(0,h.Udg)(Re)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39],checked:[2,"checked","checked",h.L39],disabled:[2,"disabled","disabled",h.L39],indeterminate:[2,"indeterminate","indeterminate",h.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[h.Jv_([z,{provide:O.cz,useExisting:Pe,multi:!0}]),h.GFd,h.OA$,h.aNF],ngContentSelectors:C,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(nt,Te){if(1&nt){const je=h.RV6();h.NAR(),h.j41(0,"div",3),h.bIt("click",function(Q){return h.eBV(je),h.Njj(Te._preventBubblingFromLabel(Q))}),h.j41(1,"div",4,0)(3,"div",5),h.bIt("click",function(){return h.eBV(je),h.Njj(Te._onTouchTargetClick())}),h.k0s(),h.j41(4,"input",6,1),h.bIt("blur",function(){return h.eBV(je),h.Njj(Te._onBlur())})("click",function(){return h.eBV(je),h.Njj(Te._onInputClick())})("change",function(Q){return h.eBV(je),h.Njj(Te._onInteractionEvent(Q))}),h.k0s(),h.nrm(6,"div",7),h.j41(7,"div",8),h.qSk(),h.j41(8,"svg",9),h.nrm(9,"path",10),h.k0s(),h.joV(),h.nrm(10,"div",11),h.k0s(),h.nrm(11,"div",12),h.k0s(),h.j41(12,"label",13,2),h.SdG(14),h.k0s()()}if(2&nt){const je=h.sdS(2);h.Y8G("labelPosition",Te.labelPosition),h.R7$(4),h.AVh("mdc-checkbox--selected",Te.checked),h.Y8G("checked",Te.checked)("indeterminate",Te.indeterminate)("disabled",Te.disabled&&!Te.disabledInteractive)("id",Te.inputId)("required",Te.required)("tabIndex",Te.disabled&&!Te.disabledInteractive?-1:Te.tabIndex),h.BMQ("aria-label",Te.ariaLabel||null)("aria-labelledby",Te.ariaLabelledby)("aria-describedby",Te.ariaDescribedby)("aria-checked",Te.indeterminate?"mixed":null)("aria-disabled",!(!Te.disabled||!Te.disabledInteractive)||null)("name",Te.name)("value",Te.value),h.R7$(7),h.Y8G("matRippleTrigger",je)("matRippleDisabled",Te.disableRipple||Te.disabled)("matRippleCentered",!0),h.R7$(),h.Y8G("for",Te.inputId)}},dependencies:[E.r6,E.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Pe})(),Qe=(()=>{class Pe{static#e=this.\u0275fac=function(nt){return new(nt||Pe)};static#t=this.\u0275mod=h.$C({type:Pe});static#n=this.\u0275inj=h.G2t({imports:[ee,E.yE,E.yE]})}return Pe})()},2772:(dn,Je,_)=>{"use strict";_.d(Je,{D7:()=>Jt,HW:()=>Pt,YN:()=>wn,Zv:()=>Et,jH:()=>Ft});var h=_(2139),O=_(4879),E=_(316),A=_(7404),S=_(5060),C=_(3119),W=_(7405),L=_(7464),N=_(9273),z=_(1963),re=_(3680),q=_(4456),Z=_(5944);const ee=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],De=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Ee(on,sn){1&on&&(A.j41(0,"span",3),A.SdG(1,1),A.k0s())}function ke(on,sn){1&on&&(A.j41(0,"span",6),A.SdG(1,2),A.k0s())}const Re=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],nt=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Te(on,sn){1&on&&A.nrm(0,"span",0)}function je(on,sn){1&on&&(A.j41(0,"span",2),A.SdG(1),A.k0s())}function Xe(on,sn){1&on&&A.SdG(0,1)}function Q(on,sn){1&on&&A.nrm(0,"span",7)}function rt(on,sn){if(1&on&&A.DNE(0,Xe,1,0)(1,Q,1,0,"span",7),2&on){const de=A.XpG();A.vxM(de.contentEditInput?0:1)}}function oe(on,sn){1&on&&A.SdG(0,2)}function ot(on,sn){1&on&&(A.j41(0,"span",5),A.SdG(1,3),A.k0s())}const bt=["*"],St=new A.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[O.Fm]})}),$t=new A.nKC("MatChipAvatar"),Ce=new A.nKC("MatChipTrailingIcon"),ce=new A.nKC("MatChipRemove"),ve=new A.nKC("MatChip");let me=(()=>{class on{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(de){this._disabled=de}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(de,tt){this._elementRef=de,this._parentChip=tt,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===de.nativeElement.nodeName&&de.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(de){!this.disabled&&this.isInteractive&&this._isPrimary&&(de.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(de){(de.keyCode===O.Fm||de.keyCode===O.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(de.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.aKT),A.rXU(ve))};static#t=this.\u0275dir=A.FsC({type:on,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(tt,_e){1&tt&&A.bIt("click",function(rn){return _e._handleClick(rn)})("keydown",function(rn){return _e._handleKeydown(rn)}),2&tt&&(A.BMQ("tabindex",_e._getTabindex())("disabled",_e._getDisabledAttribute())("aria-disabled",_e.disabled),A.AVh("mdc-evolution-chip__action--primary",_e._isPrimary)("mdc-evolution-chip__action--presentational",!_e.isInteractive)("mdc-evolution-chip__action--trailing",!_e._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",A.L39],tabIndex:[2,"tabIndex","tabIndex",de=>null==de?-1:(0,A.Udg)(de)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[A.GFd]})}return on})(),Et=(()=>{class on extends me{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(de){this.disabled||(de.stopPropagation(),de.preventDefault(),this._parentChip.remove())}_handleKeydown(de){(de.keyCode===O.Fm||de.keyCode===O.t6)&&!this.disabled&&(de.stopPropagation(),de.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let de;return function(_e){return(de||(de=A.xGo(on)))(_e||on)}})();static#t=this.\u0275dir=A.FsC({type:on,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(tt,_e){2&tt&&A.BMQ("aria-hidden",null)},standalone:!0,features:[A.Jv_([{provide:ce,useExisting:on}]),A.Vt3]})}return on})(),En=0,Me=(()=>{class on{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(de){this._value=de}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(de){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,de)}constructor(de,tt,_e,ut,rn,fn,ci){this._changeDetectorRef=de,this._elementRef=tt,this._ngZone=_e,this._focusMonitor=ut,this._globalRippleOptions=ci,this._onFocus=new C.B7,this._onBlur=new C.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+En++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new A.bkB,this.destroyed=new A.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,A.WQX)(S.Ej),this._injector=(0,A.WQX)(A.zZn),this._document=rn,this._animationsDisabled="NoopAnimations"===fn,this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const de=this._elementRef.nativeElement;this._isBasicChip=de.hasAttribute(this.basicChipAttrName)||de.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,W.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(de){(de.keyCode===O.G_&&!de.repeat||de.keyCode===O.SJ)&&(de.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(de){return this._getActions().find(tt=>{const _e=tt._elementRef.nativeElement;return _e===de||_e.contains(de)})}_getActions(){const de=[];return this.primaryAction&&de.push(this.primaryAction),this.removeIcon&&de.push(this.removeIcon),this.trailingIcon&&de.push(this.trailingIcon),de}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(de=>{const tt=null!==de;tt!==this._hasFocusInternal&&(this._hasFocusInternal=tt,tt?this._onFocus.next({chip:this}):(0,A.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi),A.rXU(h.FN),A.rXU(E.qQ),A.rXU(A.bc$,8),A.rXU(S.$E,8))};static#t=this.\u0275cmp=A.VBU({type:on,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(tt,_e,ut){if(1&tt&&(A.wni(ut,$t,5),A.wni(ut,Ce,5),A.wni(ut,ce,5),A.wni(ut,$t,5),A.wni(ut,Ce,5),A.wni(ut,ce,5)),2&tt){let rn;A.mGM(rn=A.lsd())&&(_e.leadingIcon=rn.first),A.mGM(rn=A.lsd())&&(_e.trailingIcon=rn.first),A.mGM(rn=A.lsd())&&(_e.removeIcon=rn.first),A.mGM(rn=A.lsd())&&(_e._allLeadingIcons=rn),A.mGM(rn=A.lsd())&&(_e._allTrailingIcons=rn),A.mGM(rn=A.lsd())&&(_e._allRemoveIcons=rn)}},viewQuery:function(tt,_e){if(1&tt&&A.GBs(me,5),2&tt){let ut;A.mGM(ut=A.lsd())&&(_e.primaryAction=ut.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(tt,_e){1&tt&&A.bIt("keydown",function(rn){return _e._handleKeydown(rn)}),2&tt&&(A.Mr5("id",_e.id),A.BMQ("role",_e.role)("aria-label",_e.ariaLabel),A.HbH("mat-"+(_e.color||"primary")),A.AVh("mdc-evolution-chip",!_e._isBasicChip)("mdc-evolution-chip--disabled",_e.disabled)("mdc-evolution-chip--with-trailing-action",_e._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",_e.leadingIcon)("mdc-evolution-chip--with-primary-icon",_e.leadingIcon)("mdc-evolution-chip--with-avatar",_e.leadingIcon)("mat-mdc-chip-with-avatar",_e.leadingIcon)("mat-mdc-chip-highlighted",_e.highlighted)("mat-mdc-chip-disabled",_e.disabled)("mat-mdc-basic-chip",_e._isBasicChip)("mat-mdc-standard-chip",!_e._isBasicChip)("mat-mdc-chip-with-trailing-icon",_e._hasTrailingIcon())("_mat-animation-noopable",_e._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",A.L39],highlighted:[2,"highlighted","highlighted",A.L39],disableRipple:[2,"disableRipple","disableRipple",A.L39],disabled:[2,"disabled","disabled",A.L39]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[A.Jv_([{provide:ve,useExisting:on}]),A.GFd,A.aNF],ngContentSelectors:De,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(tt,_e){1&tt&&(A.NAR(ee),A.nrm(0,"span",0),A.j41(1,"span",1)(2,"span",2),A.DNE(3,Ee,2,0,"span",3),A.j41(4,"span",4),A.SdG(5),A.nrm(6,"span",5),A.k0s()()(),A.DNE(7,ke,2,0,"span",6)),2&tt&&(A.R7$(2),A.Y8G("isInteractive",!1),A.R7$(),A.vxM(_e.leadingIcon?3:-1),A.R7$(4),A.vxM(_e._hasTrailingIcon()?7:-1))},dependencies:[me],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return on})(),Ot=(()=>{class on{constructor(de,tt){this._elementRef=de,this._document=tt}initialize(de){this.getNativeElement().focus(),this.setValue(de)}getNativeElement(){return this._elementRef.nativeElement}setValue(de){this.getNativeElement().textContent=de,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const de=this._document.createRange();de.selectNodeContents(this.getNativeElement()),de.collapse(!1);const tt=window.getSelection();tt.removeAllRanges(),tt.addRange(de)}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.aKT),A.rXU(E.qQ))};static#t=this.\u0275dir=A.FsC({type:on,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return on})(),Ft=(()=>{class on extends Me{constructor(de,tt,_e,ut,rn,fn,ci,$i){super(de,tt,_e,ut,rn,fn,ci),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new A.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,L.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(de){de.keyCode!==O.Fm||this.disabled?this._isEditing?de.stopPropagation():super._handleKeydown(de):this._isEditing?(de.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(de)}_handleDoubleclick(de){!this.disabled&&this.editable&&this._startEditing(de)}_startEditing(de){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(de.target)===this.removeIcon)return;const tt=this.value;this._isEditing=this._editStartPending=!0,(0,A.mal)(()=>{this._getEditInput().initialize(tt),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.SKi),A.rXU(h.FN),A.rXU(E.qQ),A.rXU(A.bc$,8),A.rXU(S.$E,8),A.kS0("tabindex"))};static#t=this.\u0275cmp=A.VBU({type:on,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(tt,_e,ut){if(1&tt&&A.wni(ut,Ot,5),2&tt){let rn;A.mGM(rn=A.lsd())&&(_e.contentEditInput=rn.first)}},viewQuery:function(tt,_e){if(1&tt&&A.GBs(Ot,5),2&tt){let ut;A.mGM(ut=A.lsd())&&(_e.defaultEditInput=ut.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(tt,_e){1&tt&&A.bIt("focus",function(rn){return _e._handleFocus(rn)})("dblclick",function(rn){return _e._handleDoubleclick(rn)}),2&tt&&(A.Mr5("id",_e.id),A.BMQ("tabindex",_e.disabled?null:-1)("aria-label",null)("aria-description",null)("role",_e.role),A.AVh("mat-mdc-chip-with-avatar",_e.leadingIcon)("mat-mdc-chip-disabled",_e.disabled)("mat-mdc-chip-editing",_e._isEditing)("mat-mdc-chip-editable",_e.editable)("mdc-evolution-chip--disabled",_e.disabled)("mdc-evolution-chip--with-trailing-action",_e._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",_e.leadingIcon)("mdc-evolution-chip--with-primary-icon",_e.leadingIcon)("mdc-evolution-chip--with-avatar",_e.leadingIcon)("mat-mdc-chip-highlighted",_e.highlighted)("mat-mdc-chip-with-trailing-icon",_e._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[A.Jv_([{provide:Me,useExisting:on},{provide:ve,useExisting:on}]),A.Vt3,A.aNF],ngContentSelectors:nt,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(tt,_e){1&tt&&(A.NAR(Re),A.DNE(0,Te,1,0,"span",0),A.j41(1,"span",1),A.DNE(2,je,2,0,"span",2),A.j41(3,"span",3),A.DNE(4,rt,2,1)(5,oe,1,0),A.nrm(6,"span",4),A.k0s()(),A.DNE(7,ot,2,0,"span",5),A.j41(8,"span",6),A.EFF(9),A.k0s()),2&tt&&(A.vxM(_e._isEditing?-1:0),A.R7$(),A.Y8G("disabled",_e.disabled),A.BMQ("aria-label",_e.ariaLabel)("aria-describedby",_e._ariaDescriptionId),A.R7$(),A.vxM(_e.leadingIcon?2:-1),A.R7$(2),A.vxM(_e._isEditing?4:5),A.R7$(3),A.vxM(_e._hasTrailingIcon()?7:-1),A.R7$(),A.Y8G("id",_e._ariaDescriptionId),A.R7$(),A.JRh(_e.ariaDescription))},dependencies:[me,Ot],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return on})(),ft=(()=>{class on{get chipFocusChanges(){return this._getChipStream(de=>de._onFocus)}get chipDestroyedChanges(){return this._getChipStream(de=>de.destroyed)}get chipRemovedChanges(){return this._getChipStream(de=>de.removed)}get disabled(){return this._disabled}set disabled(de){this._disabled=de,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(de){this._explicitRole=de}get focused(){return this._hasFocusedChip()}constructor(de,tt,_e){this._elementRef=de,this._changeDetectorRef=tt,this._dir=_e,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new C.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new A.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(de=>de._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(de=>{de.disabled=this._disabled,de._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(de){this._originatesFromChip(de)&&this._keyManager.onKeydown(de)}_isValidIndex(de){return de>=0&&de<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const de=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=de,this._changeDetectorRef.markForCheck()})}}_getChipStream(de){return this._chips.changes.pipe((0,N.Z)(null),(0,z.n)(()=>(0,W.h)(...this._chips.map(de))))}_originatesFromChip(de){let tt=de.target;for(;tt&&tt!==this._elementRef.nativeElement;){if(tt.classList.contains("mat-mdc-chip"))return!0;tt=tt.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,N.Z)(this._chips)).subscribe(de=>{const tt=[];de.forEach(_e=>_e._getActions().forEach(ut=>tt.push(ut))),this._chipActions.reset(tt),this._chipActions.notifyOnChanges()}),this._keyManager=new h.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(de=>this._skipPredicate(de)),this.chipFocusChanges.pipe((0,L.Q)(this._destroyed)).subscribe(({chip:de})=>{const tt=de._getSourceAction(document.activeElement);tt&&this._keyManager.updateActiveItem(tt)}),this._dir?.change.pipe((0,L.Q)(this._destroyed)).subscribe(de=>this._keyManager.withHorizontalOrientation(de))}_skipPredicate(de){return!de.isInteractive||de.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,N.Z)(null),(0,L.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,L.Q)(this._destroyed)).subscribe(de=>{const _e=this._chips.toArray().indexOf(de.chip);this._isValidIndex(_e)&&de.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=_e)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const de=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),tt=this._chips.toArray()[de];tt.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():tt.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.aKT),A.rXU(A.gRc),A.rXU(re.dS,8))};static#t=this.\u0275cmp=A.VBU({type:on,selectors:[["mat-chip-set"]],contentQueries:function(tt,_e,ut){if(1&tt&&A.wni(ut,Me,5),2&tt){let rn;A.mGM(rn=A.lsd())&&(_e._chips=rn)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(tt,_e){1&tt&&A.bIt("keydown",function(rn){return _e._handleKeydown(rn)}),2&tt&&A.BMQ("role",_e.role)},inputs:{disabled:[2,"disabled","disabled",A.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",de=>null==de?0:(0,A.Udg)(de)]},standalone:!0,features:[A.GFd,A.aNF],ngContentSelectors:bt,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(tt,_e){1&tt&&(A.NAR(),A.j41(0,"div",0),A.SdG(1),A.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return on})();class an{constructor(sn,de){this.source=sn,this.value=de}}let Pt=(()=>{class on extends ft{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(de){this._disabled=de,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(de){this._placeholder=de,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(q.k0.required)??!1}set required(de){this._required=de,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(de){this._value=de}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(de){this._errorStateTracker.matcher=de}get chipBlurChanges(){return this._getChipStream(de=>de._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(de){this._errorStateTracker.errorState=de}constructor(de,tt,_e,ut,rn,fn,ci){super(de,tt,_e),this.ngControl=ci,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new A.bkB,this.valueChange=new A.bkB,this._chips=void 0,this.stateChanges=new C.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new S.X0(fn,ci,rn,ut,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,L.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,W.h)(this.chipFocusChanges,this._chips.changes).pipe((0,L.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(de){this._chipInput=de,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(de){!this.disabled&&!this._originatesFromChip(de)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(de){this._ariaDescribedbyIds=de,this._chipInput?.setDescribedByIds(de)}writeValue(de){this._value=de}registerOnChange(de){this._onChange=de}registerOnTouched(de){this._onTouched=de}setDisabledState(de){this.disabled=de,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(de){const tt=de.keyCode,_e=this._keyManager.activeItem;if(tt===O.wn)this._chipInput.focused&&(0,O.rp)(de,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(de.preventDefault(),_e?this._keyManager.setActiveItem(_e):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(tt!==O.i7&&tt!==O.n6||!_e)super._handleKeydown(de);else{const ut=this._chipActions.filter(ci=>ci._isPrimary===_e._isPrimary&&!this._skipPredicate(ci)),rn=ut.indexOf(_e),fn=de.keyCode===O.i7?-1:1;de.preventDefault(),rn>-1&&this._isValidIndex(rn+fn)&&this._keyManager.setActiveItem(ut[rn+fn])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const de=this._chips.length?this._chips.toArray().map(tt=>tt.value):[];this._value=de,this.change.emit(new an(this,de)),this.valueChange.emit(de),this._onChange(de),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.aKT),A.rXU(A.gRc),A.rXU(re.dS,8),A.rXU(q.cV,8),A.rXU(q.j4,8),A.rXU(S.es),A.rXU(q.vO,10))};static#t=this.\u0275cmp=A.VBU({type:on,selectors:[["mat-chip-grid"]],contentQueries:function(tt,_e,ut){if(1&tt&&A.wni(ut,Ft,5),2&tt){let rn;A.mGM(rn=A.lsd())&&(_e._chips=rn)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(tt,_e){1&tt&&A.bIt("focus",function(){return _e.focus()})("blur",function(){return _e._blur()}),2&tt&&(A.BMQ("role",_e.role)("tabindex",_e.disabled||_e._chips&&0===_e._chips.length?-1:_e.tabIndex)("aria-disabled",_e.disabled.toString())("aria-invalid",_e.errorState),A.AVh("mat-mdc-chip-list-disabled",_e.disabled)("mat-mdc-chip-list-invalid",_e.errorState)("mat-mdc-chip-list-required",_e.required))},inputs:{disabled:[2,"disabled","disabled",A.L39],placeholder:"placeholder",required:[2,"required","required",A.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[A.Jv_([{provide:Z.qT,useExisting:on}]),A.GFd,A.Vt3,A.aNF],ngContentSelectors:bt,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(tt,_e){1&tt&&(A.NAR(),A.j41(0,"div",0),A.SdG(1),A.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return on})(),yt=0,Jt=(()=>{class on{get chipGrid(){return this._chipGrid}set chipGrid(de){de&&(this._chipGrid=de,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(de){this._disabled=de}get empty(){return!this.inputElement.value}constructor(de,tt,_e){this._elementRef=de,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new A.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+yt++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=tt.separatorKeyCodes,_e&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(de){this.empty&&de.keyCode===O.G_?(de.repeat||this._chipGrid._focusLastChip(),de.preventDefault()):this._emitChipEnd(de)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(de){(!de||this._isSeparatorKey(de))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),de?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(de){const tt=this._elementRef.nativeElement;de.length?tt.setAttribute("aria-describedby",de.join(" ")):tt.removeAttribute("aria-describedby")}_isSeparatorKey(de){return!(0,O.rp)(de)&&new Set(this.separatorKeyCodes).has(de.keyCode)}static#e=this.\u0275fac=function(tt){return new(tt||on)(A.rXU(A.aKT),A.rXU(St),A.rXU(Z.xb,8))};static#t=this.\u0275dir=A.FsC({type:on,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(tt,_e){1&tt&&A.bIt("keydown",function(rn){return _e._keydown(rn)})("blur",function(){return _e._blur()})("focus",function(){return _e._focus()})("input",function(){return _e._onInput()}),2&tt&&(A.Mr5("id",_e.id),A.BMQ("disabled",_e.disabled||null)("placeholder",_e.placeholder||null)("aria-invalid",_e._chipGrid&&_e._chipGrid.ngControl?_e._chipGrid.ngControl.invalid:null)("aria-required",_e._chipGrid&&_e._chipGrid.required||null)("required",_e._chipGrid&&_e._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",A.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",A.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[A.GFd,A.OA$]})}return on})(),wn=(()=>{class on{static#e=this.\u0275fac=function(tt){return new(tt||on)};static#t=this.\u0275mod=A.$C({type:on});static#n=this.\u0275inj=A.G2t({providers:[S.es,{provide:St,useValue:{separatorKeyCodes:[O.Fm]}}],imports:[S.yE,S.pZ,S.yE]})}return on})()},5060:(dn,Je,_)=>{"use strict";_.d(Je,{r5:()=>Re,ed:()=>nt,MJ:()=>Oe,es:()=>Ae,de:()=>At,QC:()=>Bt,is:()=>wt,$E:()=>fn,yE:()=>Xe,D7:()=>An,wT:()=>Vn,Sy:()=>oi,MI:()=>zi,wg:()=>mn,r6:()=>ci,Ej:()=>Un,pZ:()=>$i,Ex:()=>yt,X0:()=>$t,tO:()=>dt,jb:()=>ui,TL:()=>Pn});var h=_(7404),O=_(2139),E=_(3680),S=_(316),C=_(7699),W=_(2814),L=_(3119),N=_(4879);const z=["*",[["mat-option"],["ng-container"]]],re=["*","mat-option, ng-container"],q=["text"],Z=[[["mat-icon"]],"*"],ee=["mat-icon","*"];function De(we,Ne){if(1&we&&h.nrm(0,"mat-pseudo-checkbox",1),2&we){const U=h.XpG();h.Y8G("disabled",U.disabled)("state",U.selected?"checked":"unchecked")}}function Ee(we,Ne){if(1&we&&h.nrm(0,"mat-pseudo-checkbox",3),2&we){const U=h.XpG();h.Y8G("disabled",U.disabled)}}function ke(we,Ne){if(1&we&&(h.j41(0,"span",4),h.EFF(1),h.k0s()),2&we){const U=h.XpG();h.R7$(),h.SpI("(",U.group.label,")")}}const Qe=["mat-internal-form-field",""],Pe=["*"];let Re=(()=>{class we{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return we})(),nt=(()=>{class we{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return we})();const je=new h.nKC("mat-sanity-checks",{providedIn:"root",factory:function Te(){return!0}});let Xe=(()=>{class we{constructor(U,Se,be){this._sanityChecks=Se,this._document=be,this._hasDoneGlobalChecks=!1,U._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(U){return!(0,C.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[U])}static#e=this.\u0275fac=function(Se){return new(Se||we)(h.KVO(O.Q_),h.KVO(je,8),h.KVO(S.qQ))};static#t=this.\u0275mod=h.$C({type:we});static#n=this.\u0275inj=h.G2t({imports:[E.jI,E.jI]})}return we})();class $t{constructor(Ne,U,Se,be,ct){this._defaultMatcher=Ne,this.ngControl=U,this._parentFormGroup=Se,this._parentForm=be,this._stateChanges=ct,this.errorState=!1}updateErrorState(){const Ne=this.errorState,U=this._parentFormGroup||this._parentForm,Se=this.matcher||this._defaultMatcher,be=this.ngControl?this.ngControl.control:null,ct=Se?.isErrorState(be,U)??!1;ct!==Ne&&(this.errorState=ct,this._stateChanges.next())}}class Oe{constructor(){this._localeChanges=new L.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(Ne){return this.isDateInstance(Ne)&&this.isValid(Ne)?Ne:null}deserialize(Ne){return null==Ne||this.isDateInstance(Ne)&&this.isValid(Ne)?Ne:this.invalid()}setLocale(Ne){this.locale=Ne,this._localeChanges.next()}compareDate(Ne,U){return this.getYear(Ne)-this.getYear(U)||this.getMonth(Ne)-this.getMonth(U)||this.getDate(Ne)-this.getDate(U)}sameDate(Ne,U){if(Ne&&U){let Se=this.isValid(Ne),be=this.isValid(U);return Se&&be?!this.compareDate(Ne,U):Se==be}return Ne==U}clampDate(Ne,U,Se){return U&&this.compareDate(Ne,U)<0?U:Se&&this.compareDate(Ne,Se)>0?Se:Ne}}const At=new h.nKC("mat-date-formats");let Ae=(()=>{class we{isErrorState(U,Se){return!!(U&&U.invalid&&(U.touched||Se&&Se.submitted))}static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275prov=h.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();var yt=function(we){return we[we.FADING_IN=0]="FADING_IN",we[we.VISIBLE=1]="VISIBLE",we[we.FADING_OUT=2]="FADING_OUT",we[we.HIDDEN=3]="HIDDEN",we}(yt||{});class Jt{constructor(Ne,U,Se,be=!1){this._renderer=Ne,this.element=U,this.config=Se,this._animationForciblyDisabledThroughCss=be,this.state=yt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const vn=(0,C.BQ)({passive:!0,capture:!0});class wn{constructor(){this._events=new Map,this._delegateEventHandler=Ne=>{const U=(0,C.Fb)(Ne);U&&this._events.get(Ne.type)?.forEach((Se,be)=>{(be===U||be.contains(U))&&Se.forEach(ct=>ct.handleEvent(Ne))})}}addHandler(Ne,U,Se,be){const ct=this._events.get(U);if(ct){const Ze=ct.get(Se);Ze?Ze.add(be):ct.set(Se,new Set([be]))}else this._events.set(U,new Map([[Se,new Set([be])]])),Ne.runOutsideAngular(()=>{document.addEventListener(U,this._delegateEventHandler,vn)})}removeHandler(Ne,U,Se){const be=this._events.get(Ne);if(!be)return;const ct=be.get(U);ct&&(ct.delete(Se),0===ct.size&&be.delete(U),0===be.size&&(this._events.delete(Ne),document.removeEventListener(Ne,this._delegateEventHandler,vn)))}}const on={enterDuration:225,exitDuration:150},de=(0,C.BQ)({passive:!0,capture:!0}),tt=["mousedown","touchstart"],_e=["mouseup","mouseleave","touchend","touchcancel"];class ut{static#e=this._eventManager=new wn;constructor(Ne,U,Se,be){this._target=Ne,this._ngZone=U,this._platform=be,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,be.isBrowser&&(this._containerElement=(0,W.i8)(Se))}fadeInRipple(Ne,U,Se={}){const be=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ct={...on,...Se.animation};Se.centered&&(Ne=be.left+be.width/2,U=be.top+be.height/2);const Ze=Se.radius||function rn(we,Ne,U){const Se=Math.max(Math.abs(we-U.left),Math.abs(we-U.right)),be=Math.max(Math.abs(Ne-U.top),Math.abs(Ne-U.bottom));return Math.sqrt(Se*Se+be*be)}(Ne,U,be),Mt=Ne-be.left,hn=U-be.top,Kn=ct.enterDuration,Jn=document.createElement("div");Jn.classList.add("mat-ripple-element"),Jn.style.left=Mt-Ze+"px",Jn.style.top=hn-Ze+"px",Jn.style.height=2*Ze+"px",Jn.style.width=2*Ze+"px",null!=Se.color&&(Jn.style.backgroundColor=Se.color),Jn.style.transitionDuration=`${Kn}ms`,this._containerElement.appendChild(Jn);const Bi=window.getComputedStyle(Jn),Qi=Bi.transitionDuration,br="none"===Bi.transitionProperty||"0s"===Qi||"0s, 0s"===Qi||0===be.width&&0===be.height,Tr=new Jt(this,Jn,Se,br);Jn.style.transform="scale3d(1, 1, 1)",Tr.state=yt.FADING_IN,Se.persistent||(this._mostRecentTransientRipple=Tr);let Hi=null;return!br&&(Kn||ct.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const xr=()=>{Hi&&(Hi.fallbackTimer=null),clearTimeout(ts),this._finishRippleTransition(Tr)},as=()=>this._destroyRipple(Tr),ts=setTimeout(as,Kn+100);Jn.addEventListener("transitionend",xr),Jn.addEventListener("transitioncancel",as),Hi={onTransitionEnd:xr,onTransitionCancel:as,fallbackTimer:ts}}),this._activeRipples.set(Tr,Hi),(br||!Kn)&&this._finishRippleTransition(Tr),Tr}fadeOutRipple(Ne){if(Ne.state===yt.FADING_OUT||Ne.state===yt.HIDDEN)return;const U=Ne.element,Se={...on,...Ne.config.animation};U.style.transitionDuration=`${Se.exitDuration}ms`,U.style.opacity="0",Ne.state=yt.FADING_OUT,(Ne._animationForciblyDisabledThroughCss||!Se.exitDuration)&&this._finishRippleTransition(Ne)}fadeOutAll(){this._getActiveRipples().forEach(Ne=>Ne.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ne=>{Ne.config.persistent||Ne.fadeOut()})}setupTriggerEvents(Ne){const U=(0,W.i8)(Ne);!this._platform.isBrowser||!U||U===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=U,tt.forEach(Se=>{ut._eventManager.addHandler(this._ngZone,Se,U,this)}))}handleEvent(Ne){"mousedown"===Ne.type?this._onMousedown(Ne):"touchstart"===Ne.type?this._onTouchStart(Ne):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_e.forEach(U=>{this._triggerElement.addEventListener(U,this,de)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ne){Ne.state===yt.FADING_IN?this._startFadeOutTransition(Ne):Ne.state===yt.FADING_OUT&&this._destroyRipple(Ne)}_startFadeOutTransition(Ne){const U=Ne===this._mostRecentTransientRipple,{persistent:Se}=Ne.config;Ne.state=yt.VISIBLE,!Se&&(!U||!this._isPointerDown)&&Ne.fadeOut()}_destroyRipple(Ne){const U=this._activeRipples.get(Ne)??null;this._activeRipples.delete(Ne),this._activeRipples.size||(this._containerRect=null),Ne===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ne.state=yt.HIDDEN,null!==U&&(Ne.element.removeEventListener("transitionend",U.onTransitionEnd),Ne.element.removeEventListener("transitioncancel",U.onTransitionCancel),null!==U.fallbackTimer&&clearTimeout(U.fallbackTimer)),Ne.element.remove()}_onMousedown(Ne){const U=(0,O._G)(Ne),Se=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!U&&!Se&&(this._isPointerDown=!0,this.fadeInRipple(Ne.clientX,Ne.clientY,this._target.rippleConfig))}_onTouchStart(Ne){if(!this._target.rippleDisabled&&!(0,O.w6)(Ne)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const U=Ne.changedTouches;if(U)for(let Se=0;Se<U.length;Se++)this.fadeInRipple(U[Se].clientX,U[Se].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ne=>{!Ne.config.persistent&&(Ne.state===yt.VISIBLE||Ne.config.terminateOnPointerUp&&Ne.state===yt.FADING_IN)&&Ne.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ne=this._triggerElement;Ne&&(tt.forEach(U=>ut._eventManager.removeHandler(U,Ne,this)),this._pointerUpEventsRegistered&&(_e.forEach(U=>Ne.removeEventListener(U,this,de)),this._pointerUpEventsRegistered=!1))}}const fn=new h.nKC("mat-ripple-global-options");let ci=(()=>{class we{get disabled(){return this._disabled}set disabled(U){U&&this.fadeOutAllNonPersistent(),this._disabled=U,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(U){this._trigger=U,this._setupTriggerEventsIfEnabled()}constructor(U,Se,be,ct,Ze){this._elementRef=U,this._animationMode=Ze,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ct||{},this._rippleRenderer=new ut(this,Se,U,be)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(U,Se=0,be){return"number"==typeof U?this._rippleRenderer.fadeInRipple(U,Se,{...this.rippleConfig,...be}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...U})}static#e=this.\u0275fac=function(Se){return new(Se||we)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(C.OD),h.rXU(fn,8),h.rXU(h.bc$,8))};static#t=this.\u0275dir=h.FsC({type:we,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Se,be){2&Se&&h.AVh("mat-ripple-unbounded",be.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return we})(),$i=(()=>{class we{static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275mod=h.$C({type:we});static#n=this.\u0275inj=h.G2t({imports:[Xe,Xe]})}return we})(),mn=(()=>{class we{constructor(U){this._animationMode=U,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Se){return new(Se||we)(h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:we,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Se,be){2&Se&&h.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===be.state)("mat-pseudo-checkbox-checked","checked"===be.state)("mat-pseudo-checkbox-disabled",be.disabled)("mat-pseudo-checkbox-minimal","minimal"===be.appearance)("mat-pseudo-checkbox-full","full"===be.appearance)("_mat-animation-noopable","NoopAnimations"===be._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[h.aNF],decls:0,vars:0,template:function(Se,be){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return we})(),cn=(()=>{class we{static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275mod=h.$C({type:we});static#n=this.\u0275inj=h.G2t({imports:[Xe]})}return we})();const wt=new h.nKC("MAT_OPTION_PARENT_COMPONENT");let Ht=0;const Bt=new h.nKC("MatOptgroup");let An=(()=>{class we{constructor(U){this.disabled=!1,this._labelId="mat-optgroup-label-"+Ht++,this._inert=U?.inertGroups??!1}static#e=this.\u0275fac=function(Se){return new(Se||we)(h.rXU(wt,8))};static#t=this.\u0275cmp=h.VBU({type:we,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(Se,be){2&Se&&h.BMQ("role",be._inert?null:"group")("aria-disabled",be._inert?null:be.disabled.toString())("aria-labelledby",be._inert?null:be._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",h.L39]},exportAs:["matOptgroup"],standalone:!0,features:[h.Jv_([{provide:Bt,useExisting:we}]),h.GFd,h.aNF],ngContentSelectors:re,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(Se,be){1&Se&&(h.NAR(z),h.j41(0,"span",0)(1,"span",1),h.EFF(2),h.SdG(3),h.k0s()(),h.SdG(4,1)),2&Se&&(h.AVh("mdc-list-item--disabled",be.disabled),h.Y8G("id",be._labelId),h.R7$(2),h.SpI("",be.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return we})(),Xn=0;class zi{constructor(Ne,U=!1){this.source=Ne,this.isUserInput=U}}let Vn=(()=>{class we{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(U){this._disabled=U}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(U,Se,be,ct){this._element=U,this._changeDetectorRef=Se,this._parent=be,this.group=ct,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Xn++,this.onSelectionChange=new h.bkB,this._stateChanges=new L.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(U=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),U&&this._emitSelectionChangeEvent())}deselect(U=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),U&&this._emitSelectionChangeEvent())}focus(U,Se){const be=this._getHostElement();"function"==typeof be.focus&&be.focus(Se)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(U){(U.keyCode===N.Fm||U.keyCode===N.t6)&&!(0,N.rp)(U)&&(this._selectViaInteraction(),U.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const U=this.viewValue;U!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=U)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(U=!1){this.onSelectionChange.emit(new zi(this,U))}static#e=this.\u0275fac=function(Se){return new(Se||we)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(wt,8),h.rXU(Bt,8))};static#t=this.\u0275cmp=h.VBU({type:we,selectors:[["mat-option"]],viewQuery:function(Se,be){if(1&Se&&h.GBs(q,7),2&Se){let ct;h.mGM(ct=h.lsd())&&(be._text=ct.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Se,be){1&Se&&h.bIt("click",function(){return be._selectViaInteraction()})("keydown",function(Ze){return be._handleKeydown(Ze)}),2&Se&&(h.Mr5("id",be.id),h.BMQ("aria-selected",be.selected)("aria-disabled",be.disabled.toString()),h.AVh("mdc-list-item--selected",be.selected)("mat-mdc-option-multiple",be.multiple)("mat-mdc-option-active",be.active)("mdc-list-item--disabled",be.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",h.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:ee,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Se,be){1&Se&&(h.NAR(Z),h.DNE(0,De,1,2,"mat-pseudo-checkbox",1),h.SdG(1),h.j41(2,"span",2,0),h.SdG(4,1),h.k0s(),h.DNE(5,Ee,1,1,"mat-pseudo-checkbox",3)(6,ke,2,1,"span",4),h.nrm(7,"div",5)),2&Se&&(h.vxM(be.multiple?0:-1),h.R7$(5),h.vxM(be.multiple||!be.selected||be.hideSingleSelectionIndicator?-1:5),h.R7$(),h.vxM(be.group&&be.group._inert?6:-1),h.R7$(),h.Y8G("matRippleTrigger",be._getHostElement())("matRippleDisabled",be.disabled||be.disableRipple))},dependencies:[mn,ci],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return we})();function ui(we,Ne,U){if(U.length){let Se=Ne.toArray(),be=U.toArray(),ct=0;for(let Ze=0;Ze<we+1;Ze++)Se[Ze].group&&Se[Ze].group===be[ct]&&ct++;return ct}return 0}function Pn(we,Ne,U,Se){return we<U?we:we+Ne>U+Se?Math.max(0,we-Se+Ne):U}let oi=(()=>{class we{static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275mod=h.$C({type:we});static#n=this.\u0275inj=h.G2t({imports:[$i,Xe,cn]})}return we})();const jt={capture:!0},xt=["focus","mousedown","mouseenter","touchstart"],qt="mat-ripple-loader-uninitialized",Lt="mat-ripple-loader-class-name",Kt="mat-ripple-loader-centered",Rn="mat-ripple-loader-disabled";let Un=(()=>{class we{constructor(){this._document=(0,h.WQX)(S.qQ,{optional:!0}),this._animationMode=(0,h.WQX)(h.bc$,{optional:!0}),this._globalRippleOptions=(0,h.WQX)(fn,{optional:!0}),this._platform=(0,h.WQX)(C.OD),this._ngZone=(0,h.WQX)(h.SKi),this._hosts=new Map,this._onInteraction=U=>{const Se=(0,C.Fb)(U);if(Se instanceof HTMLElement){const be=Se.closest(`[${qt}="${this._globalRippleOptions?.namespace??""}"]`);be&&this._createRipple(be)}},this._ngZone.runOutsideAngular(()=>{for(const U of xt)this._document?.addEventListener(U,this._onInteraction,jt)})}ngOnDestroy(){const U=this._hosts.keys();for(const Se of U)this.destroyRipple(Se);for(const Se of xt)this._document?.removeEventListener(Se,this._onInteraction,jt)}configureRipple(U,Se){U.setAttribute(qt,this._globalRippleOptions?.namespace??""),(Se.className||!U.hasAttribute(Lt))&&U.setAttribute(Lt,Se.className||""),Se.centered&&U.setAttribute(Kt,""),Se.disabled&&U.setAttribute(Rn,"")}getRipple(U){return this._hosts.get(U)||this._createRipple(U)}setDisabled(U,Se){const be=this._hosts.get(U);be?be.disabled=Se:Se?U.setAttribute(Rn,""):U.removeAttribute(Rn)}_createRipple(U){if(!this._document)return;const Se=this._hosts.get(U);if(Se)return Se;U.querySelector(".mat-ripple")?.remove();const be=this._document.createElement("span");be.classList.add("mat-ripple",U.getAttribute(Lt)),U.append(be);const ct=new ci(new h.aKT(be),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return ct._isInitialized=!0,ct.trigger=U,ct.centered=U.hasAttribute(Kt),ct.disabled=U.hasAttribute(Rn),this.attachRipple(U,ct),ct}attachRipple(U,Se){U.removeAttribute(qt),this._hosts.set(U,Se)}destroyRipple(U){const Se=this._hosts.get(U);Se&&(Se.ngOnDestroy(),this._hosts.delete(U))}static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275prov=h.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),dt=(()=>{class we{static#e=this.\u0275fac=function(Se){return new(Se||we)};static#t=this.\u0275cmp=h.VBU({type:we,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Se,be){2&Se&&h.AVh("mdc-form-field--align-end","before"===be.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[h.aNF],attrs:Qe,ngContentSelectors:Pe,decls:1,vars:0,template:function(Se,be){1&Se&&(h.NAR(),h.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return we})()},1977:(dn,Je,_)=>{"use strict";_.d(Je,{X6:()=>xi});var h=_(2139),O=_(1570),E=_(9168),A=_(316),S=_(7404),C=_(4175),W=_(4053),L=_(5060),N=_(3119),z=_(2672),re=_(1536),q=_(7405),Z=_(4879),ee=_(3680),De=_(7699),Ee=_(9273),ke=_(7172);_(4456),_(5944),_(7984);const Re=["mat-calendar-body",""];function nt(He,Rt){return this._trackRow(Rt)}const Te=(He,Rt)=>Rt.id;function je(He,Rt){if(1&He&&(S.j41(0,"tr",0)(1,"td",3),S.EFF(2),S.k0s()()),2&He){const H=S.XpG();S.R7$(),S.xc7("padding-top",H._cellPadding)("padding-bottom",H._cellPadding),S.BMQ("colspan",H.numCols),S.R7$(),S.SpI(" ",H.label," ")}}function Xe(He,Rt){if(1&He&&(S.j41(0,"td",3),S.EFF(1),S.k0s()),2&He){const H=S.XpG(2);S.xc7("padding-top",H._cellPadding)("padding-bottom",H._cellPadding),S.BMQ("colspan",H._firstRowOffset),S.R7$(),S.SpI(" ",H._firstRowOffset>=H.labelMinRequiredCells?H.label:""," ")}}function Q(He,Rt){if(1&He){const H=S.RV6();S.j41(0,"td",6)(1,"button",7),S.bIt("click",function(ze){const kt=S.eBV(H).$implicit,Vt=S.XpG(2);return S.Njj(Vt._cellClicked(kt,ze))})("focus",function(ze){const kt=S.eBV(H).$implicit,Vt=S.XpG(2);return S.Njj(Vt._emitActiveDateChange(kt,ze))}),S.j41(2,"span",8),S.EFF(3),S.k0s(),S.nrm(4,"span",9),S.k0s()()}if(2&He){const H=Rt.$implicit,Ke=Rt.$index,ze=S.XpG().$index,kt=S.XpG();S.xc7("width",kt._cellWidth)("padding-top",kt._cellPadding)("padding-bottom",kt._cellPadding),S.BMQ("data-mat-row",ze)("data-mat-col",Ke),S.R7$(),S.AVh("mat-calendar-body-disabled",!H.enabled)("mat-calendar-body-active",kt._isActiveCell(ze,Ke))("mat-calendar-body-range-start",kt._isRangeStart(H.compareValue))("mat-calendar-body-range-end",kt._isRangeEnd(H.compareValue))("mat-calendar-body-in-range",kt._isInRange(H.compareValue))("mat-calendar-body-comparison-bridge-start",kt._isComparisonBridgeStart(H.compareValue,ze,Ke))("mat-calendar-body-comparison-bridge-end",kt._isComparisonBridgeEnd(H.compareValue,ze,Ke))("mat-calendar-body-comparison-start",kt._isComparisonStart(H.compareValue))("mat-calendar-body-comparison-end",kt._isComparisonEnd(H.compareValue))("mat-calendar-body-in-comparison-range",kt._isInComparisonRange(H.compareValue))("mat-calendar-body-preview-start",kt._isPreviewStart(H.compareValue))("mat-calendar-body-preview-end",kt._isPreviewEnd(H.compareValue))("mat-calendar-body-in-preview",kt._isInPreview(H.compareValue)),S.Y8G("ngClass",H.cssClasses)("tabindex",kt._isActiveCell(ze,Ke)?0:-1),S.BMQ("aria-label",H.ariaLabel)("aria-disabled",!H.enabled||null)("aria-pressed",kt._isSelected(H.compareValue))("aria-current",kt.todayValue===H.compareValue?"date":null)("aria-describedby",kt._getDescribedby(H.compareValue)),S.R7$(),S.AVh("mat-calendar-body-selected",kt._isSelected(H.compareValue))("mat-calendar-body-comparison-identical",kt._isComparisonIdentical(H.compareValue))("mat-calendar-body-today",kt.todayValue===H.compareValue),S.R7$(),S.SpI(" ",H.displayValue," ")}}function rt(He,Rt){if(1&He&&(S.j41(0,"tr",1),S.DNE(1,Xe,2,6,"td",4),S.Z7z(2,Q,5,48,"td",5,Te),S.k0s()),2&He){const H=Rt.$implicit,Ke=Rt.$index,ze=S.XpG();S.R7$(),S.vxM(0===Ke&&ze._firstRowOffset?1:-1),S.R7$(),S.Dyx(H)}}function oe(He,Rt){if(1&He&&(S.j41(0,"th",2)(1,"span",6),S.EFF(2),S.k0s(),S.j41(3,"span",3),S.EFF(4),S.k0s()()),2&He){const H=Rt.$implicit;S.R7$(2),S.JRh(H.long),S.R7$(2),S.JRh(H.narrow)}}const ot=["*"];function bt(He,Rt){}function Nt(He,Rt){if(1&He){const H=S.RV6();S.j41(0,"mat-month-view",4),S.mxI("activeDateChange",function(ze){S.eBV(H);const kt=S.XpG();return S.DH7(kt.activeDate,ze)||(kt.activeDate=ze),S.Njj(ze)}),S.bIt("_userSelection",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._dateSelected(ze))})("dragStarted",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._dragStarted(ze))})("dragEnded",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._dragEnded(ze))}),S.k0s()}if(2&He){const H=S.XpG();S.R50("activeDate",H.activeDate),S.Y8G("selected",H.selected)("dateFilter",H.dateFilter)("maxDate",H.maxDate)("minDate",H.minDate)("dateClass",H.dateClass)("comparisonStart",H.comparisonStart)("comparisonEnd",H.comparisonEnd)("startDateAccessibleName",H.startDateAccessibleName)("endDateAccessibleName",H.endDateAccessibleName)("activeDrag",H._activeDrag)}}function St(He,Rt){if(1&He){const H=S.RV6();S.j41(0,"mat-year-view",5),S.mxI("activeDateChange",function(ze){S.eBV(H);const kt=S.XpG();return S.DH7(kt.activeDate,ze)||(kt.activeDate=ze),S.Njj(ze)}),S.bIt("monthSelected",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._monthSelectedInYearView(ze))})("selectedChange",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._goToDateInView(ze,"month"))}),S.k0s()}if(2&He){const H=S.XpG();S.R50("activeDate",H.activeDate),S.Y8G("selected",H.selected)("dateFilter",H.dateFilter)("maxDate",H.maxDate)("minDate",H.minDate)("dateClass",H.dateClass)}}function $t(He,Rt){if(1&He){const H=S.RV6();S.j41(0,"mat-multi-year-view",6),S.mxI("activeDateChange",function(ze){S.eBV(H);const kt=S.XpG();return S.DH7(kt.activeDate,ze)||(kt.activeDate=ze),S.Njj(ze)}),S.bIt("yearSelected",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._yearSelectedInMultiYearView(ze))})("selectedChange",function(ze){S.eBV(H);const kt=S.XpG();return S.Njj(kt._goToDateInView(ze,"year"))}),S.k0s()}if(2&He){const H=S.XpG();S.R50("activeDate",H.activeDate),S.Y8G("selected",H.selected)("dateFilter",H.dateFilter)("maxDate",H.maxDate)("minDate",H.minDate)("dateClass",H.dateClass)}}function Ce(He,Rt){}const ce=["button"],ve=[[["","matDatepickerToggleIcon",""]]],me=["[matDatepickerToggleIcon]"];function Oe(He,Rt){1&He&&(S.qSk(),S.j41(0,"svg",2),S.nrm(1,"path",3),S.k0s())}let kn=(()=>{class He{constructor(){this.changes=new N.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(H,Ke){return`${H} \u2013 ${Ke}`}formatYearRangeLabel(H,Ke){return`${H} to ${Ke}`}static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275prov=S.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),nn=0;class Ot{constructor(Rt,H,Ke,ze,kt={},Vt=Rt,mi){this.value=Rt,this.displayValue=H,this.ariaLabel=Ke,this.enabled=ze,this.cssClasses=kt,this.compareValue=Vt,this.rawValue=mi,this.id=nn++}}let Ft=1;const ft=(0,De.BQ)({passive:!1,capture:!0}),Ae=(0,De.BQ)({passive:!0,capture:!0}),Ve=(0,De.BQ)({passive:!0});let vt=(()=>{class He{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(H,Ke){this._elementRef=H,this._ngZone=Ke,this._platform=(0,S.WQX)(De.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new S.bkB,this.previewChange=new S.bkB,this.activeDateChange=new S.bkB,this.dragStarted=new S.bkB,this.dragEnded=new S.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,S.WQX)(S.zZn),this._trackRow=ze=>ze,this._enterHandler=ze=>{if(this._skipNextFocus&&"focus"===ze.type)this._skipNextFocus=!1;else if(ze.target&&this.isRange){const kt=this._getCellFromElement(ze.target);kt&&this._ngZone.run(()=>this.previewChange.emit({value:kt.enabled?kt:null,event:ze}))}},this._touchmoveHandler=ze=>{if(!this.isRange)return;const kt=wn(ze),Vt=kt?this._getCellFromElement(kt):null;kt!==ze.target&&(this._didDragSinceMouseDown=!0),Pt(ze.target)&&ze.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Vt?.enabled?Vt:null,event:ze}))},this._leaveHandler=ze=>{null!==this.previewEnd&&this.isRange&&("blur"!==ze.type&&(this._didDragSinceMouseDown=!0),ze.target&&this._getCellFromElement(ze.target)&&(!ze.relatedTarget||!this._getCellFromElement(ze.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:ze})))},this._mousedownHandler=ze=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const kt=ze.target&&this._getCellFromElement(ze.target);!kt||!this._isInRange(kt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:kt.rawValue,event:ze})})},this._mouseupHandler=ze=>{if(!this.isRange)return;const kt=Pt(ze.target);kt?kt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Vt=this._getCellFromElement(kt);this.dragEnded.emit({value:Vt?.rawValue??null,event:ze})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:ze})})},this._touchendHandler=ze=>{const kt=wn(ze);kt&&this._mouseupHandler({target:kt})},this._id="mat-calendar-body-"+Ft++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ke.runOutsideAngular(()=>{const ze=H.nativeElement;ze.addEventListener("touchmove",this._touchmoveHandler,ft),ze.addEventListener("mouseenter",this._enterHandler,Ae),ze.addEventListener("focus",this._enterHandler,Ae),ze.addEventListener("mouseleave",this._leaveHandler,Ae),ze.addEventListener("blur",this._leaveHandler,Ae),ze.addEventListener("mousedown",this._mousedownHandler,Ve),ze.addEventListener("touchstart",this._mousedownHandler,Ve),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(H,Ke){this._didDragSinceMouseDown||H.enabled&&this.selectedValueChange.emit({value:H.value,event:Ke})}_emitActiveDateChange(H,Ke){H.enabled&&this.activeDateChange.emit({value:H.value,event:Ke})}_isSelected(H){return this.startValue===H||this.endValue===H}ngOnChanges(H){const Ke=H.numCols,{rows:ze,numCols:kt}=this;(H.rows||Ke)&&(this._firstRowOffset=ze&&ze.length&&ze[0].length?kt-ze[0].length:0),(H.cellAspectRatio||Ke||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/kt+"%"),(Ke||!this._cellWidth)&&(this._cellWidth=100/kt+"%")}ngOnDestroy(){const H=this._elementRef.nativeElement;H.removeEventListener("touchmove",this._touchmoveHandler,ft),H.removeEventListener("mouseenter",this._enterHandler,Ae),H.removeEventListener("focus",this._enterHandler,Ae),H.removeEventListener("mouseleave",this._leaveHandler,Ae),H.removeEventListener("blur",this._leaveHandler,Ae),H.removeEventListener("mousedown",this._mousedownHandler,Ve),H.removeEventListener("touchstart",this._mousedownHandler,Ve),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(H,Ke){let ze=H*this.numCols+Ke;return H&&(ze-=this._firstRowOffset),ze==this.activeCell}_focusActiveCell(H=!0){(0,S.mal)(()=>{setTimeout(()=>{const Ke=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ke&&(H||(this._skipNextFocus=!0),Ke.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(H){return yt(H,this.startValue,this.endValue)}_isRangeEnd(H){return Jt(H,this.startValue,this.endValue)}_isInRange(H){return vn(H,this.startValue,this.endValue,this.isRange)}_isComparisonStart(H){return yt(H,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(H,Ke,ze){if(!this._isComparisonStart(H)||this._isRangeStart(H)||!this._isInRange(H))return!1;let kt=this.rows[Ke][ze-1];if(!kt){const Vt=this.rows[Ke-1];kt=Vt&&Vt[Vt.length-1]}return kt&&!this._isRangeEnd(kt.compareValue)}_isComparisonBridgeEnd(H,Ke,ze){if(!this._isComparisonEnd(H)||this._isRangeEnd(H)||!this._isInRange(H))return!1;let kt=this.rows[Ke][ze+1];if(!kt){const Vt=this.rows[Ke+1];kt=Vt&&Vt[0]}return kt&&!this._isRangeStart(kt.compareValue)}_isComparisonEnd(H){return Jt(H,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(H){return vn(H,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(H){return this.comparisonStart===this.comparisonEnd&&H===this.comparisonStart}_isPreviewStart(H){return yt(H,this.previewStart,this.previewEnd)}_isPreviewEnd(H){return Jt(H,this.previewStart,this.previewEnd)}_isInPreview(H){return vn(H,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(H){return this.isRange?this.startValue===H&&this.endValue===H?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===H?this._startDateLabelId:this.endValue===H?this._endDateLabelId:null:null}_getCellFromElement(H){const Ke=Pt(H);if(Ke){const ze=Ke.getAttribute("data-mat-row"),kt=Ke.getAttribute("data-mat-col");if(ze&&kt)return this.rows[parseInt(ze)][parseInt(kt)]}return null}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(S.aKT),S.rXU(S.SKi))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[S.OA$,S.aNF],attrs:Re,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ke,ze){1&Ke&&(S.DNE(0,je,3,6,"tr",0),S.Z7z(1,rt,4,1,"tr",1,nt,!0),S.j41(3,"label",2),S.EFF(4),S.k0s(),S.j41(5,"label",2),S.EFF(6),S.k0s()),2&Ke&&(S.vxM(ze._firstRowOffset<ze.labelMinRequiredCells?0:-1),S.R7$(),S.Dyx(ze.rows),S.R7$(2),S.Y8G("id",ze._startDateLabelId),S.R7$(),S.SpI(" ",ze.startDateAccessibleName,"\n"),S.R7$(),S.Y8G("id",ze._endDateLabelId),S.R7$(),S.SpI(" ",ze.endDateAccessibleName,"\n"))},dependencies:[A.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return He})();function an(He){return"TD"===He?.nodeName}function Pt(He){let Rt;return an(He)?Rt=He:an(He.parentNode)?Rt=He.parentNode:an(He.parentNode?.parentNode)&&(Rt=He.parentNode.parentNode),null!=Rt?.getAttribute("data-mat-row")?Rt:null}function yt(He,Rt,H){return null!==H&&Rt!==H&&He<H&&He===Rt}function Jt(He,Rt,H){return null!==Rt&&Rt!==H&&He>=Rt&&He===H}function vn(He,Rt,H,Ke){return Ke&&null!==Rt&&null!==H&&Rt!==H&&He>=Rt&&He<=H}function wn(He){const Rt=He.changedTouches[0];return document.elementFromPoint(Rt.clientX,Rt.clientY)}class on{constructor(Rt,H){this.start=Rt,this.end=H}}let sn=(()=>{class He{constructor(H,Ke){this.selection=H,this._adapter=Ke,this._selectionChanged=new N.B7,this.selectionChanged=this._selectionChanged,this.selection=H}updateSelection(H,Ke){const ze=this.selection;this.selection=H,this._selectionChanged.next({selection:H,source:Ke,oldValue:ze})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(H){return this._adapter.isDateInstance(H)&&this._adapter.isValid(H)}static#e=this.\u0275fac=function(Ke){S.QTQ()};static#t=this.\u0275prov=S.jDH({token:He,factory:He.\u0275fac})}return He})(),de=(()=>{class He extends sn{constructor(H){super(null,H)}add(H){super.updateSelection(H,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const H=new He(this._adapter);return H.updateSelection(this.selection,this),H}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.KVO(L.MJ))};static#t=this.\u0275prov=S.jDH({token:He,factory:He.\u0275fac})}return He})();const ut={provide:sn,deps:[[new S.Xx1,new S.kdw,sn],L.MJ],useFactory:function _e(He,Rt){return He||new de(Rt)}},ci=new S.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ht=0,Bt=(()=>{class He{get activeDate(){return this._activeDate}set activeDate(H){const Ke=this._activeDate,ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ze,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ke,this._activeDate)||this._init()}get selected(){return this._selected}set selected(H){this._selected=H instanceof on?H:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(H){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get maxDate(){return this._maxDate}set maxDate(H){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}constructor(H,Ke,ze,kt,Vt){this._changeDetectorRef=H,this._dateFormats=Ke,this._dateAdapter=ze,this._dir=kt,this._rangeStrategy=Vt,this._rerenderSubscription=z.y.EMPTY,this.activeDrag=null,this.selectedChange=new S.bkB,this._userSelection=new S.bkB,this.dragStarted=new S.bkB,this.dragEnded=new S.bkB,this.activeDateChange=new S.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ee.Z)(null)).subscribe(()=>this._init())}ngOnChanges(H){const Ke=H.comparisonStart||H.comparisonEnd;Ke&&!Ke.firstChange&&this._setRanges(this.selected),H.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(H){const Ke=H.value,ze=this._getDateFromDayOfMonth(Ke);let kt,Vt;this._selected instanceof on?(kt=this._getDateInCurrentMonth(this._selected.start),Vt=this._getDateInCurrentMonth(this._selected.end)):kt=Vt=this._getDateInCurrentMonth(this._selected),(kt!==Ke||Vt!==Ke)&&this.selectedChange.emit(ze),this._userSelection.emit({value:ze,event:H.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(H){const ze=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(H.value),this._dateAdapter.compareDate(ze,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(H){const Ke=this._activeDate,ze=this._isRtl();switch(H.keyCode){case Z.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ze?1:-1);break;case Z.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,ze?-1:1);break;case Z.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Z.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Z.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Z.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Z.w_:this.activeDate=H.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Z.dB:this.activeDate=H.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Z.Fm:case Z.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&H.preventDefault());case Z._f:return void(null!=this._previewEnd&&!(0,Z.rp)(H)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:H}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:H})),H.preventDefault(),H.stopPropagation()));default:return}this._dateAdapter.compareDate(Ke,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),H.preventDefault()}_handleCalendarBodyKeyup(H){(H.keyCode===Z.t6||H.keyCode===Z.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:H}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let H=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(H)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(H){this._matCalendarBody._focusActiveCell(H)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:H,value:Ke}){if(this._rangeStrategy){const ze=Ke?Ke.rawValue:null,kt=this._rangeStrategy.createPreview(ze,this.selected,H);if(this._previewStart=this._getCellCompareValue(kt.start),this._previewEnd=this._getCellCompareValue(kt.end),this.activeDrag&&ze){const Vt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,ze,H);Vt&&(this._previewStart=this._getCellCompareValue(Vt.start),this._previewEnd=this._getCellCompareValue(Vt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(H){if(this.activeDrag)if(H.value){const Ke=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,H.value,H.event);this.dragEnded.emit({value:Ke??null,event:H.event})}else this.dragEnded.emit({value:null,event:H.event})}_getDateFromDayOfMonth(H){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),H)}_initWeekdays(){const H=this._dateAdapter.getFirstDayOfWeek(),Ke=this._dateAdapter.getDayOfWeekNames("narrow");let kt=this._dateAdapter.getDayOfWeekNames("long").map((Vt,mi)=>({long:Vt,narrow:Ke[mi],id:Ht++}));this._weekdays=kt.slice(H).concat(kt.slice(0,H))}_createWeekCells(){const H=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ke=this._dateAdapter.getDateNames();this._weeks=[[]];for(let ze=0,kt=this._firstWeekOffset;ze<H;ze++,kt++){7==kt&&(this._weeks.push([]),kt=0);const Vt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ze+1),mi=this._shouldEnableDate(Vt),Zi=this._dateAdapter.format(Vt,this._dateFormats.display.dateA11yLabel),cr=this.dateClass?this.dateClass(Vt,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ot(ze+1,Ke[ze],Zi,mi,cr,this._getCellCompareValue(Vt),Vt))}}_shouldEnableDate(H){return!!H&&(!this.minDate||this._dateAdapter.compareDate(H,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(H,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(H))}_getDateInCurrentMonth(H){return H&&this._hasSameMonthAndYear(H,this.activeDate)?this._dateAdapter.getDate(H):null}_hasSameMonthAndYear(H,Ke){return!(!H||!Ke||this._dateAdapter.getMonth(H)!=this._dateAdapter.getMonth(Ke)||this._dateAdapter.getYear(H)!=this._dateAdapter.getYear(Ke))}_getCellCompareValue(H){if(H){const Ke=this._dateAdapter.getYear(H),ze=this._dateAdapter.getMonth(H),kt=this._dateAdapter.getDate(H);return new Date(Ke,ze,kt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(H){H instanceof on?(this._rangeStart=this._getCellCompareValue(H.start),this._rangeEnd=this._getCellCompareValue(H.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(H),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(H){return!this.dateFilter||this.dateFilter(H)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(S.gRc),S.rXU(L.de,8),S.rXU(L.MJ,8),S.rXU(ee.dS,8),S.rXU(ci,8))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-month-view"]],viewQuery:function(Ke,ze){if(1&Ke&&S.GBs(vt,5),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[S.OA$,S.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(Ke,ze){1&Ke&&(S.j41(0,"table",0)(1,"thead",1)(2,"tr"),S.Z7z(3,oe,5,2,"th",2,Te),S.k0s(),S.j41(5,"tr",3),S.nrm(6,"th",4),S.k0s()(),S.j41(7,"tbody",5),S.bIt("selectedValueChange",function(Vt){return ze._dateSelected(Vt)})("activeDateChange",function(Vt){return ze._updateActiveDate(Vt)})("previewChange",function(Vt){return ze._previewChanged(Vt)})("dragStarted",function(Vt){return ze.dragStarted.emit(Vt)})("dragEnded",function(Vt){return ze._dragEnded(Vt)})("keyup",function(Vt){return ze._handleCalendarBodyKeyup(Vt)})("keydown",function(Vt){return ze._handleCalendarBodyKeydown(Vt)}),S.k0s()()),2&Ke&&(S.R7$(3),S.Dyx(ze._weekdays),S.R7$(4),S.Y8G("label",ze._monthLabel)("rows",ze._weeks)("todayValue",ze._todayDate)("startValue",ze._rangeStart)("endValue",ze._rangeEnd)("comparisonStart",ze._comparisonRangeStart)("comparisonEnd",ze._comparisonRangeEnd)("previewStart",ze._previewStart)("previewEnd",ze._previewEnd)("isRange",ze._isRange)("labelMinRequiredCells",3)("activeCell",ze._dateAdapter.getDate(ze.activeDate)-1)("startDateAccessibleName",ze.startDateAccessibleName)("endDateAccessibleName",ze.endDateAccessibleName))},dependencies:[vt],encapsulation:2,changeDetection:0})}return He})();const An=24;let zi=(()=>{class He{get activeDate(){return this._activeDate}set activeDate(H){let Ke=this._activeDate;const ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ze,this.minDate,this.maxDate),Vn(this._dateAdapter,Ke,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(H){this._selected=H instanceof on?H:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H)),this._setSelectedYear(H)}get minDate(){return this._minDate}set minDate(H){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get maxDate(){return this._maxDate}set maxDate(H){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}constructor(H,Ke,ze){this._changeDetectorRef=H,this._dateAdapter=Ke,this._dir=ze,this._rerenderSubscription=z.y.EMPTY,this.selectedChange=new S.bkB,this.yearSelected=new S.bkB,this.activeDateChange=new S.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ee.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ke=this._dateAdapter.getYear(this._activeDate)-ui(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let ze=0,kt=[];ze<An;ze++)kt.push(Ke+ze),4==kt.length&&(this._years.push(kt.map(Vt=>this._createCellForYear(Vt))),kt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(H){const Ke=H.value,ze=this._dateAdapter.createDate(Ke,0,1),kt=this._getDateFromYear(Ke);this.yearSelected.emit(ze),this.selectedChange.emit(kt)}_updateActiveDate(H){const ze=this._activeDate;this.activeDate=this._getDateFromYear(H.value),this._dateAdapter.compareDate(ze,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(H){const Ke=this._activeDate,ze=this._isRtl();switch(H.keyCode){case Z.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ze?1:-1);break;case Z.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ze?-1:1);break;case Z.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Z.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Z.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ui(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Z.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,An-ui(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Z.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,H.altKey?10*-An:-An);break;case Z.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,H.altKey?10*An:An);break;case Z.Fm:case Z.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ke,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),H.preventDefault()}_handleCalendarBodyKeyup(H){(H.keyCode===Z.t6||H.keyCode===Z.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:H}),this._selectionKeyPressed=!1)}_getActiveCell(){return ui(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(H){const Ke=this._dateAdapter.getMonth(this.activeDate),ze=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(H,Ke,1));return this._dateAdapter.createDate(H,Ke,Math.min(this._dateAdapter.getDate(this.activeDate),ze))}_createCellForYear(H){const Ke=this._dateAdapter.createDate(H,0,1),ze=this._dateAdapter.getYearName(Ke),kt=this.dateClass?this.dateClass(Ke,"multi-year"):void 0;return new Ot(H,ze,ze,this._shouldEnableYear(H),kt)}_shouldEnableYear(H){if(null==H||this.maxDate&&H>this._dateAdapter.getYear(this.maxDate)||this.minDate&&H<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let ze=this._dateAdapter.createDate(H,0,1);this._dateAdapter.getYear(ze)==H;ze=this._dateAdapter.addCalendarDays(ze,1))if(this.dateFilter(ze))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(H){if(this._selectedYear=null,H instanceof on){const Ke=H.start||H.end;Ke&&(this._selectedYear=this._dateAdapter.getYear(Ke))}else H&&(this._selectedYear=this._dateAdapter.getYear(H))}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(S.gRc),S.rXU(L.MJ,8),S.rXU(ee.dS,8))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-multi-year-view"]],viewQuery:function(Ke,ze){if(1&Ke&&S.GBs(vt,5),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[S.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(Ke,ze){1&Ke&&(S.j41(0,"table",0)(1,"thead",1)(2,"tr"),S.nrm(3,"th",2),S.k0s()(),S.j41(4,"tbody",3),S.bIt("selectedValueChange",function(Vt){return ze._yearSelected(Vt)})("activeDateChange",function(Vt){return ze._updateActiveDate(Vt)})("keyup",function(Vt){return ze._handleCalendarBodyKeyup(Vt)})("keydown",function(Vt){return ze._handleCalendarBodyKeydown(Vt)}),S.k0s()()),2&Ke&&(S.R7$(4),S.Y8G("rows",ze._years)("todayValue",ze._todayYear)("startValue",ze._selectedYear)("endValue",ze._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",ze._getActiveCell()))},dependencies:[vt],encapsulation:2,changeDetection:0})}return He})();function Vn(He,Rt,H,Ke,ze){const kt=He.getYear(Rt),Vt=He.getYear(H),mi=Pn(He,Ke,ze);return Math.floor((kt-mi)/An)===Math.floor((Vt-mi)/An)}function ui(He,Rt,H,Ke){return function oi(He,Rt){return(He%Rt+Rt)%Rt}(He.getYear(Rt)-Pn(He,H,Ke),An)}function Pn(He,Rt,H){let Ke=0;return H?Ke=He.getYear(H)-An+1:Rt&&(Ke=He.getYear(Rt)),Ke}let jt=(()=>{class He{get activeDate(){return this._activeDate}set activeDate(H){let Ke=this._activeDate;const ze=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(ze,this.minDate,this.maxDate),this._dateAdapter.getYear(Ke)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(H){this._selected=H instanceof on?H:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H)),this._setSelectedMonth(H)}get minDate(){return this._minDate}set minDate(H){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get maxDate(){return this._maxDate}set maxDate(H){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}constructor(H,Ke,ze,kt){this._changeDetectorRef=H,this._dateFormats=Ke,this._dateAdapter=ze,this._dir=kt,this._rerenderSubscription=z.y.EMPTY,this.selectedChange=new S.bkB,this.monthSelected=new S.bkB,this.activeDateChange=new S.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ee.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(H){const Ke=H.value,ze=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ke,1);this.monthSelected.emit(ze);const kt=this._getDateFromMonth(Ke);this.selectedChange.emit(kt)}_updateActiveDate(H){const ze=this._activeDate;this.activeDate=this._getDateFromMonth(H.value),this._dateAdapter.compareDate(ze,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(H){const Ke=this._activeDate,ze=this._isRtl();switch(H.keyCode){case Z.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ze?1:-1);break;case Z.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,ze?-1:1);break;case Z.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Z.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Z.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Z.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Z.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,H.altKey?-10:-1);break;case Z.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,H.altKey?10:1);break;case Z.Fm:case Z.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ke,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),H.preventDefault()}_handleCalendarBodyKeyup(H){(H.keyCode===Z.t6||H.keyCode===Z.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:H}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let H=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ke=>Ke.map(ze=>this._createCellForMonth(ze,H[ze]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(H){return H&&this._dateAdapter.getYear(H)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(H):null}_getDateFromMonth(H){const Ke=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),H,1),ze=this._dateAdapter.getNumDaysInMonth(Ke);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),H,Math.min(this._dateAdapter.getDate(this.activeDate),ze))}_createCellForMonth(H,Ke){const ze=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),H,1),kt=this._dateAdapter.format(ze,this._dateFormats.display.monthYearA11yLabel),Vt=this.dateClass?this.dateClass(ze,"year"):void 0;return new Ot(H,Ke.toLocaleUpperCase(),kt,this._shouldEnableMonth(H),Vt)}_shouldEnableMonth(H){const Ke=this._dateAdapter.getYear(this.activeDate);if(null==H||this._isYearAndMonthAfterMaxDate(Ke,H)||this._isYearAndMonthBeforeMinDate(Ke,H))return!1;if(!this.dateFilter)return!0;for(let kt=this._dateAdapter.createDate(Ke,H,1);this._dateAdapter.getMonth(kt)==H;kt=this._dateAdapter.addCalendarDays(kt,1))if(this.dateFilter(kt))return!0;return!1}_isYearAndMonthAfterMaxDate(H,Ke){if(this.maxDate){const ze=this._dateAdapter.getYear(this.maxDate),kt=this._dateAdapter.getMonth(this.maxDate);return H>ze||H===ze&&Ke>kt}return!1}_isYearAndMonthBeforeMinDate(H,Ke){if(this.minDate){const ze=this._dateAdapter.getYear(this.minDate),kt=this._dateAdapter.getMonth(this.minDate);return H<ze||H===ze&&Ke<kt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(H){this._selectedMonth=H instanceof on?this._getMonthInCurrentYear(H.start)||this._getMonthInCurrentYear(H.end):this._getMonthInCurrentYear(H)}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(S.gRc),S.rXU(L.de,8),S.rXU(L.MJ,8),S.rXU(ee.dS,8))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-year-view"]],viewQuery:function(Ke,ze){if(1&Ke&&S.GBs(vt,5),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[S.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(Ke,ze){1&Ke&&(S.j41(0,"table",0)(1,"thead",1)(2,"tr"),S.nrm(3,"th",2),S.k0s()(),S.j41(4,"tbody",3),S.bIt("selectedValueChange",function(Vt){return ze._monthSelected(Vt)})("activeDateChange",function(Vt){return ze._updateActiveDate(Vt)})("keyup",function(Vt){return ze._handleCalendarBodyKeyup(Vt)})("keydown",function(Vt){return ze._handleCalendarBodyKeydown(Vt)}),S.k0s()()),2&Ke&&(S.R7$(4),S.Y8G("label",ze._yearLabel)("rows",ze._months)("todayValue",ze._todayMonth)("startValue",ze._selectedMonth)("endValue",ze._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",ze._dateAdapter.getMonth(ze.activeDate)))},dependencies:[vt],encapsulation:2,changeDetection:0})}return He})(),xt=1,qt=(()=>{class He{constructor(H,Ke,ze,kt,Vt){this._intl=H,this.calendar=Ke,this._dateAdapter=ze,this._dateFormats=kt,this._id="mat-calendar-header-"+xt++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Vt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-An)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:An)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(H,Ke){return"month"==this.calendar.currentView?this._dateAdapter.getYear(H)==this._dateAdapter.getYear(Ke)&&this._dateAdapter.getMonth(H)==this._dateAdapter.getMonth(Ke):"year"==this.calendar.currentView?this._dateAdapter.getYear(H)==this._dateAdapter.getYear(Ke):Vn(this._dateAdapter,H,Ke,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ke=this._dateAdapter.getYear(this.calendar.activeDate)-ui(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),ze=Ke+An-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ke,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(ze,0,1))]}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(kn),S.rXU((0,S.Rfq)(()=>Lt)),S.rXU(L.MJ,8),S.rXU(L.de,8),S.rXU(S.gRc))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[S.aNF],ngContentSelectors:ot,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(Ke,ze){1&Ke&&(S.NAR(),S.j41(0,"div",0)(1,"div",1)(2,"label",2),S.EFF(3),S.k0s(),S.j41(4,"button",3),S.bIt("click",function(){return ze.currentPeriodClicked()}),S.j41(5,"span",4),S.EFF(6),S.k0s(),S.qSk(),S.j41(7,"svg",5),S.nrm(8,"polygon",6),S.k0s()(),S.joV(),S.nrm(9,"div",7),S.SdG(10),S.j41(11,"button",8),S.bIt("click",function(){return ze.previousClicked()}),S.k0s(),S.j41(12,"button",9),S.bIt("click",function(){return ze.nextClicked()}),S.k0s()()()),2&Ke&&(S.R7$(2),S.Y8G("id",ze._periodButtonLabelId),S.R7$(),S.JRh(ze.periodButtonDescription),S.R7$(),S.BMQ("aria-label",ze.periodButtonLabel)("aria-describedby",ze._periodButtonLabelId),S.R7$(2),S.JRh(ze.periodButtonText),S.R7$(),S.AVh("mat-calendar-invert","month"!==ze.calendar.currentView),S.R7$(4),S.Y8G("disabled",!ze.previousEnabled()),S.BMQ("aria-label",ze.prevButtonLabel),S.R7$(),S.Y8G("disabled",!ze.nextEnabled()),S.BMQ("aria-label",ze.nextButtonLabel))},dependencies:[C.$z,C.iY],encapsulation:2,changeDetection:0})}return He})(),Lt=(()=>{class He{get startAt(){return this._startAt}set startAt(H){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get selected(){return this._selected}set selected(H){this._selected=H instanceof on?H:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get minDate(){return this._minDate}set minDate(H){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get maxDate(){return this._maxDate}set maxDate(H){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(H))}get activeDate(){return this._clampedActiveDate}set activeDate(H){this._clampedActiveDate=this._dateAdapter.clampDate(H,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(H){const Ke=this._currentView!==H?H:null;this._currentView=H,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ke&&this.viewChanged.emit(Ke)}constructor(H,Ke,ze,kt){this._dateAdapter=Ke,this._dateFormats=ze,this._changeDetectorRef=kt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new S.bkB,this.yearSelected=new S.bkB,this.monthSelected=new S.bkB,this.viewChanged=new S.bkB(!0),this._userSelection=new S.bkB,this._userDragDrop=new S.bkB,this._activeDrag=null,this.stateChanges=new N.B7,this._intlChanges=H.changes.subscribe(()=>{kt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.A8(this.headerComponent||qt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(H){const Ke=H.minDate&&!this._dateAdapter.sameDate(H.minDate.previousValue,H.minDate.currentValue)?H.minDate:void 0,ze=H.maxDate&&!this._dateAdapter.sameDate(H.maxDate.previousValue,H.maxDate.currentValue)?H.maxDate:void 0,kt=Ke||ze||H.dateFilter;if(kt&&!kt.firstChange){const Vt=this._getCurrentViewComponent();Vt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),Vt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(H){const Ke=H.value;(this.selected instanceof on||Ke&&!this._dateAdapter.sameDate(Ke,this.selected))&&this.selectedChange.emit(Ke),this._userSelection.emit(H)}_yearSelectedInMultiYearView(H){this.yearSelected.emit(H)}_monthSelectedInYearView(H){this.monthSelected.emit(H)}_goToDateInView(H,Ke){this.activeDate=H,this.currentView=Ke}_dragStarted(H){this._activeDrag=H}_dragEnded(H){this._activeDrag&&(H.value&&this._userDragDrop.emit(H),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(kn),S.rXU(L.MJ,8),S.rXU(L.de,8),S.rXU(S.gRc))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-calendar"]],viewQuery:function(Ke,ze){if(1&Ke&&(S.GBs(Bt,5),S.GBs(jt,5),S.GBs(zi,5)),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze.monthView=kt.first),S.mGM(kt=S.lsd())&&(ze.yearView=kt.first),S.mGM(kt=S.lsd())&&(ze.multiYearView=kt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[S.Jv_([ut]),S.OA$,S.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(Ke,ze){if(1&Ke&&(S.DNE(0,bt,0,0,"ng-template",0),S.j41(1,"div",1),S.DNE(2,Nt,1,11,"mat-month-view",2)(3,St,1,6,"mat-year-view",3)(4,$t,1,6,"mat-multi-year-view",3),S.k0s()),2&Ke){let kt;S.Y8G("cdkPortalOutlet",ze._calendarHeaderPortal),S.R7$(2),S.vxM("month"===(kt=ze.currentView)?2:"year"===kt?3:"multi-year"===kt?4:-1)}},dependencies:[E.I3,h.vR,Bt,jt,zi],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return He})();const Kt={transformPanel:(0,ke.hZ)("transformPanel",[(0,ke.kY)("void => enter-dropdown",(0,ke.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ke.i7)([(0,ke.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,ke.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,ke.kY)("void => enter-dialog",(0,ke.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ke.i7)([(0,ke.iF)({opacity:0,transform:"scale(0.7)"}),(0,ke.iF)({transform:"none",opacity:1})]))),(0,ke.kY)("* => void",(0,ke.i0)("100ms linear",(0,ke.iF)({opacity:0})))]),fadeInCalendar:(0,ke.hZ)("fadeInCalendar",[(0,ke.wk)("void",(0,ke.iF)({opacity:0})),(0,ke.wk)("enter",(0,ke.iF)({opacity:1})),(0,ke.kY)("void => *",(0,ke.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},we={provide:new S.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const He=(0,S.WQX)(O.hJ);return()=>He.scrollStrategies.reposition()}}),deps:[O.hJ],useFactory:function dt(He){return()=>He.scrollStrategies.reposition()}};let Ne=(()=>{class He{constructor(H,Ke,ze,kt,Vt,mi){this._elementRef=H,this._changeDetectorRef=Ke,this._globalModel=ze,this._dateAdapter=kt,this._rangeSelectionStrategy=Vt,this._subscriptions=new z.y,this._animationDone=new N.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=mi.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(H){const Ke=this._model.selection,ze=H.value,kt=Ke instanceof on;if(kt&&this._rangeSelectionStrategy){const Vt=this._rangeSelectionStrategy.selectionFinished(ze,Ke,H.event);this._model.updateSelection(Vt,this)}else ze&&(kt||!this._dateAdapter.sameDate(ze,Ke))&&this._model.add(ze);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(H){this._model.updateSelection(H.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(H){this._isAnimating="start"===H.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(H,Ke){this._model=H?this._globalModel.clone():this._globalModel,this._actionsPortal=H,Ke&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(S.aKT),S.rXU(S.gRc),S.rXU(sn),S.rXU(L.MJ),S.rXU(ci,8),S.rXU(kn))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-datepicker-content"]],viewQuery:function(Ke,ze){if(1&Ke&&S.GBs(Lt,5),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze._calendar=kt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(Ke,ze){1&Ke&&S.Kam("@transformPanel.start",function(Vt){return ze._handleAnimationEvent(Vt)})("@transformPanel.done",function(Vt){return ze._handleAnimationEvent(Vt)}),2&Ke&&(S.zvX("@transformPanel",ze._animationState),S.HbH(ze.color?"mat-"+ze.color:""),S.AVh("mat-datepicker-content-touch",ze.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[S.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(Ke,ze){if(1&Ke&&(S.j41(0,"div",0)(1,"mat-calendar",1),S.bIt("yearSelected",function(Vt){return ze.datepicker._selectYear(Vt)})("monthSelected",function(Vt){return ze.datepicker._selectMonth(Vt)})("viewChanged",function(Vt){return ze.datepicker._viewChanged(Vt)})("_userSelection",function(Vt){return ze._handleUserSelection(Vt)})("_userDragDrop",function(Vt){return ze._handleUserDragDrop(Vt)}),S.k0s(),S.DNE(2,Ce,0,0,"ng-template",2),S.j41(3,"button",3),S.bIt("focus",function(){return ze._closeButtonFocused=!0})("blur",function(){return ze._closeButtonFocused=!1})("click",function(){return ze.datepicker.close()}),S.EFF(4),S.k0s()()),2&Ke){let kt;S.AVh("mat-datepicker-content-container-with-custom-header",ze.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",ze._actionsPortal),S.BMQ("aria-modal",!0)("aria-labelledby",null!==(kt=ze._dialogLabelId)&&void 0!==kt?kt:void 0),S.R7$(),S.HbH(ze.datepicker.panelClass),S.Y8G("id",ze.datepicker.id)("startAt",ze.datepicker.startAt)("startView",ze.datepicker.startView)("minDate",ze.datepicker._getMinDate())("maxDate",ze.datepicker._getMaxDate())("dateFilter",ze.datepicker._getDateFilter())("headerComponent",ze.datepicker.calendarHeaderComponent)("selected",ze._getSelected())("dateClass",ze.datepicker.dateClass)("comparisonStart",ze.comparisonStart)("comparisonEnd",ze.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",ze.startDateAccessibleName)("endDateAccessibleName",ze.endDateAccessibleName),S.R7$(),S.Y8G("cdkPortalOutlet",ze._actionsPortal),S.R7$(),S.AVh("cdk-visually-hidden",!ze._closeButtonFocused),S.Y8G("color",ze.color||"primary"),S.R7$(),S.JRh(ze._closeButtonText)}},dependencies:[h.kB,Lt,E.I3,C.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Kt.transformPanel,Kt.fadeInCalendar]},changeDetection:0})}return He})(),Jn=(()=>{class He{static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275dir=S.FsC({type:He,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return He})(),Bi=(()=>{class He{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(H){this._disabled=H}constructor(H,Ke,ze){this._intl=H,this._changeDetectorRef=Ke,this._stateChanges=z.y.EMPTY;const kt=Number(ze);this.tabIndex=kt||0===kt?kt:null}ngOnChanges(H){H.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(H){this.datepicker&&!this.disabled&&(this.datepicker.open(),H.stopPropagation())}_watchStateChanges(){const H=this.datepicker?this.datepicker.stateChanges:(0,re.of)(),Ke=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,re.of)(),ze=this.datepicker?(0,q.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,re.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,q.h)(this._intl.changes,H,Ke,ze).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ke){return new(Ke||He)(S.rXU(kn),S.rXU(S.gRc),S.kS0("tabindex"))};static#t=this.\u0275cmp=S.VBU({type:He,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ke,ze,kt){if(1&Ke&&S.wni(kt,Jn,5),2&Ke){let Vt;S.mGM(Vt=S.lsd())&&(ze._customIcon=Vt.first)}},viewQuery:function(Ke,ze){if(1&Ke&&S.GBs(ce,5),2&Ke){let kt;S.mGM(kt=S.lsd())&&(ze._button=kt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ke,ze){1&Ke&&S.bIt("click",function(Vt){return ze._open(Vt)}),2&Ke&&(S.BMQ("tabindex",null)("data-mat-calendar",ze.datepicker?ze.datepicker.id:null),S.AVh("mat-datepicker-toggle-active",ze.datepicker&&ze.datepicker.opened)("mat-accent",ze.datepicker&&"accent"===ze.datepicker.color)("mat-warn",ze.datepicker&&"warn"===ze.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",S.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[S.GFd,S.OA$,S.aNF],ngContentSelectors:me,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ke,ze){1&Ke&&(S.NAR(ve),S.j41(0,"button",1,0),S.DNE(2,Oe,2,0,":svg:svg",2),S.SdG(3),S.k0s()),2&Ke&&(S.Y8G("disabled",ze.disabled)("disableRipple",ze.disableRipple),S.BMQ("aria-haspopup",ze.datepicker?"dialog":null)("aria-label",ze.ariaLabel||ze._intl.openCalendarLabel)("tabindex",ze.disabled?-1:ze.tabIndex),S.R7$(2),S.vxM(ze._customIcon?-1:2))},dependencies:[C.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return He})(),xi=(()=>{class He{static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275mod=S.$C({type:He});static#n=this.\u0275inj=S.G2t({providers:[kn,we],imports:[A.MD,C.Hl,O.z_,h.Pd,E.jc,L.yE,Ne,Bi,qt,W.Gj]})}return He})()},2587:(dn,Je,_)=>{"use strict";_.d(Je,{BI:()=>En,CP:()=>ot,Vh:()=>Nt,bZ:()=>me,hM:()=>Ft,tx:()=>At});var h=_(1570),O=_(316),E=_(7404),A=_(2139),S=_(3482),C=_(2814),W=_(9168),L=_(3119),N=_(7405),z=_(6965),re=_(8627),q=_(3602),Z=_(9273),ee=_(4879),Ee=(_(4053),_(5060));function Qe(Ve,vt){}_(7172);class Pe{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ye="mdc-dialog--open",Re="mdc-dialog--opening",nt="mdc-dialog--closing";let Xe=(()=>{class Ve extends S.sU{constructor(an,Pt,yt,Jt,vn,wn,on,sn,de){super(an,Pt,yt,Jt,vn,wn,on,de),this._animationMode=sn,this._animationStateChanged=new E.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?rt(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?rt(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Q,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Re,Ye)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ye),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ye),this._animationsEnabled?(this._hostElement.style.setProperty(Q,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(nt)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(an){this._actionSectionCount+=an,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Re,nt)}_waitForAnimationToComplete(an,Pt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Pt,an)}_requestAnimationFrame(an){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(an):an()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(an){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:an})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(an){const Pt=super.attachComponentPortal(an);return Pt.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Pt}static#e=this.\u0275fac=function(Pt){return new(Pt||Ve)(E.rXU(E.aKT),E.rXU(A.GX),E.rXU(O.qQ,8),E.rXU(Pe),E.rXU(A.Z7),E.rXU(E.SKi),E.rXU(h.yY),E.rXU(E.bc$,8),E.rXU(A.FN))};static#t=this.\u0275cmp=E.VBU({type:Ve,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Pt,yt){2&Pt&&(E.Mr5("id",yt._config.id),E.BMQ("aria-modal",yt._config.ariaModal)("role",yt._config.role)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledByQueue[0])("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null),E.AVh("_mat-animation-noopable",!yt._animationsEnabled)("mat-mdc-dialog-container-with-actions",yt._actionSectionCount>0))},standalone:!0,features:[E.Vt3,E.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Pt,yt){1&Pt&&(E.j41(0,"div",0)(1,"div",1),E.DNE(2,Qe,0,0,"ng-template",2),E.k0s()())},dependencies:[W.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Ve})();const Q="--mat-dialog-transition-duration";function rt(Ve){return null==Ve?null:"number"==typeof Ve?Ve:Ve.endsWith("ms")?(0,C.OE)(Ve.substring(0,Ve.length-2)):Ve.endsWith("s")?1e3*(0,C.OE)(Ve.substring(0,Ve.length-1)):"0"===Ve?0:null}var oe=function(Ve){return Ve[Ve.OPEN=0]="OPEN",Ve[Ve.CLOSING=1]="CLOSING",Ve[Ve.CLOSED=2]="CLOSED",Ve}(oe||{});class ot{constructor(vt,an,Pt){this._ref=vt,this._containerInstance=Pt,this._afterOpened=new L.B7,this._beforeClosed=new L.B7,this._state=oe.OPEN,this.disableClose=an.disableClose,this.id=vt.id,vt.addPanelClass("mat-mdc-dialog-panel"),Pt._animationStateChanged.pipe((0,re.p)(yt=>"opened"===yt.state),(0,q.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Pt._animationStateChanged.pipe((0,re.p)(yt=>"closed"===yt.state),(0,q.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),vt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,N.h)(this.backdropClick(),this.keydownEvents().pipe((0,re.p)(yt=>yt.keyCode===ee._f&&!this.disableClose&&!(0,ee.rp)(yt)))).subscribe(yt=>{this.disableClose||(yt.preventDefault(),bt(this,"keydown"===yt.type?"keyboard":"mouse"))})}close(vt){this._result=vt,this._containerInstance._animationStateChanged.pipe((0,re.p)(an=>"closing"===an.state),(0,q.s)(1)).subscribe(an=>{this._beforeClosed.next(vt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),an.totalTime+100)}),this._state=oe.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(vt){let an=this._ref.config.positionStrategy;return vt&&(vt.left||vt.right)?vt.left?an.left(vt.left):an.right(vt.right):an.centerHorizontally(),vt&&(vt.top||vt.bottom)?vt.top?an.top(vt.top):an.bottom(vt.bottom):an.centerVertically(),this._ref.updatePosition(),this}updateSize(vt="",an=""){return this._ref.updateSize(vt,an),this}addPanelClass(vt){return this._ref.addPanelClass(vt),this}removePanelClass(vt){return this._ref.removePanelClass(vt),this}getState(){return this._state}_finishDialogClose(){this._state=oe.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function bt(Ve,vt,an){return Ve._closeInteractionType=vt,Ve.close(an)}const Nt=new E.nKC("MatMdcDialogData"),St=new E.nKC("mat-mdc-dialog-default-options"),$t=new E.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Ve=(0,E.WQX)(h.hJ);return()=>Ve.scrollStrategies.block()}});let ve=0,me=(()=>{class Ve{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const an=this._parentDialog;return an?an._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(an,Pt,yt,Jt,vn,wn,on,sn){this._overlay=an,this._defaultOptions=Jt,this._scrollStrategy=vn,this._parentDialog=wn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new L.B7,this._afterOpenedAtThisLevel=new L.B7,this.dialogConfigClass=Pe,this.afterAllClosed=(0,z.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Z.Z)(void 0))),this._dialog=Pt.get(S.lG),this._dialogRefConstructor=ot,this._dialogContainerType=Xe,this._dialogDataToken=Nt}open(an,Pt){let yt;(Pt={...this._defaultOptions||new Pe,...Pt}).id=Pt.id||"mat-mdc-dialog-"+ve++,Pt.scrollStrategy=Pt.scrollStrategy||this._scrollStrategy();const Jt=this._dialog.open(an,{...Pt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Pt},{provide:S.Pe,useValue:Pt}]},templateContext:()=>({dialogRef:yt}),providers:(vn,wn,on)=>(yt=new this._dialogRefConstructor(vn,Pt,on),yt.updatePosition(Pt?.position),[{provide:this._dialogContainerType,useValue:on},{provide:this._dialogDataToken,useValue:wn.data},{provide:this._dialogRefConstructor,useValue:yt}])});return yt.componentRef=Jt.componentRef,yt.componentInstance=Jt.componentInstance,this.openDialogs.push(yt),this.afterOpened.next(yt),yt.afterClosed().subscribe(()=>{const vn=this.openDialogs.indexOf(yt);vn>-1&&(this.openDialogs.splice(vn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(an){return this.openDialogs.find(Pt=>Pt.id===an)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(an){let Pt=an.length;for(;Pt--;)an[Pt].close()}static#e=this.\u0275fac=function(Pt){return new(Pt||Ve)(E.KVO(h.hJ),E.KVO(E.zZn),E.KVO(O.aZ,8),E.KVO(St,8),E.KVO($t),E.KVO(Ve,12),E.KVO(h.Sf),E.KVO(E.bc$,8))};static#t=this.\u0275prov=E.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),Oe=0,At=(()=>{class Ve{constructor(an,Pt,yt){this.dialogRef=an,this._elementRef=Pt,this._dialog=yt,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=nn(this._elementRef,this._dialog.openDialogs))}ngOnChanges(an){const Pt=an._matDialogClose||an._matDialogCloseResult;Pt&&(this.dialogResult=Pt.currentValue)}_onButtonClick(an){bt(this.dialogRef,0===an.screenX&&0===an.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(Pt){return new(Pt||Ve)(E.rXU(ot,8),E.rXU(E.aKT),E.rXU(me))};static#t=this.\u0275dir=E.FsC({type:Ve,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Pt,yt){1&Pt&&E.bIt("click",function(vn){return yt._onButtonClick(vn)}),2&Pt&&E.BMQ("aria-label",yt.ariaLabel||null)("type",yt.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[E.OA$]})}return Ve})(),Et=(()=>{class Ve{constructor(an,Pt,yt){this._dialogRef=an,this._elementRef=Pt,this._dialog=yt}ngOnInit(){this._dialogRef||(this._dialogRef=nn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(Pt){return new(Pt||Ve)(E.rXU(ot,8),E.rXU(E.aKT),E.rXU(me))};static#t=this.\u0275dir=E.FsC({type:Ve,standalone:!0})}return Ve})(),En=(()=>{class Ve extends Et{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Oe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let an;return function(yt){return(an||(an=E.xGo(Ve)))(yt||Ve)}})();static#t=this.\u0275dir=E.FsC({type:Ve,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Pt,yt){2&Pt&&E.Mr5("id",yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[E.Vt3]})}return Ve})();function nn(Ve,vt){let an=Ve.nativeElement.parentElement;for(;an&&!an.classList.contains("mat-mdc-dialog-container");)an=an.parentElement;return an?vt.find(Pt=>Pt.id===an.id):null}let Ft=(()=>{class Ve{static#e=this.\u0275fac=function(Pt){return new(Pt||Ve)};static#t=this.\u0275mod=E.$C({type:Ve});static#n=this.\u0275inj=E.G2t({providers:[me],imports:[S.Ph,h.z_,W.jc,Ee.yE,Ee.yE]})}return Ve})()},5944:(dn,Je,_)=>{"use strict";_.d(Je,{xb:()=>$i,TL:()=>ft,rl:()=>Xn,qT:()=>ut,RG:()=>zi,MV:()=>Ve,JW:()=>an,yw:()=>yt});var h=_(7404),O=_(3680),E=_(2814),A=_(7699),S=_(316),C=_(2672),W=_(3119),L=_(7405),N=_(7464),z=_(434),re=_(8627),q=_(7841);class ee{constructor(ui){this._box=ui,this._destroyed=new W.B7,this._resizeSubject=new W.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(Pn=>this._resizeSubject.next(Pn)))}observe(ui){return this._elementObservables.has(ui)||this._elementObservables.set(ui,new z.c(Pn=>{const oi=this._resizeSubject.subscribe(Pn);return this._resizeObserver?.observe(ui,{box:this._box}),()=>{this._resizeObserver?.unobserve(ui),oi.unsubscribe(),this._elementObservables.delete(ui)}}).pipe((0,re.p)(Pn=>Pn.some(oi=>oi.target===ui)),(0,q.t)({bufferSize:1,refCount:!0}),(0,N.Q)(this._destroyed))),this._elementObservables.get(ui)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let De=(()=>{class Vn{constructor(){this._observers=new Map,this._ngZone=(0,h.WQX)(h.SKi)}ngOnDestroy(){for(const[,Pn]of this._observers)Pn.destroy();this._observers.clear()}observe(Pn,oi){const jt=oi?.box||"content-box";return this._observers.has(jt)||this._observers.set(jt,new ee(jt)),this._observers.get(jt).observe(Pn)}static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275prov=h.jDH({token:Vn,factory:Vn.\u0275fac,providedIn:"root"})}return Vn})();var Ee=_(7172),ke=_(9539),Qe=_(5060);const Pe=["notch"],Ye=["matFormFieldNotchedOutline",""],Re=["*"],nt=["textField"],Te=["iconPrefixContainer"],je=["textPrefixContainer"],Xe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Q=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function rt(Vn,ui){1&Vn&&h.nrm(0,"span",19)}function oe(Vn,ui){if(1&Vn&&(h.j41(0,"label",18),h.SdG(1,1),h.DNE(2,rt,1,0,"span",19),h.k0s()),2&Vn){const Pn=h.XpG(2);h.Y8G("floating",Pn._shouldLabelFloat())("monitorResize",Pn._hasOutline())("id",Pn._labelId),h.BMQ("for",Pn._control.disableAutomaticLabeling?null:Pn._control.id),h.R7$(2),h.vxM(!Pn.hideRequiredMarker&&Pn._control.required?2:-1)}}function ot(Vn,ui){if(1&Vn&&h.DNE(0,oe,3,5,"label",18),2&Vn){const Pn=h.XpG();h.vxM(Pn._hasFloatingLabel()?0:-1)}}function bt(Vn,ui){1&Vn&&h.nrm(0,"div",5)}function Nt(Vn,ui){}function St(Vn,ui){if(1&Vn&&h.DNE(0,Nt,0,0,"ng-template",11),2&Vn){h.XpG(2);const Pn=h.sdS(1);h.Y8G("ngTemplateOutlet",Pn)}}function $t(Vn,ui){if(1&Vn&&(h.j41(0,"div",7),h.DNE(1,St,1,1,null,11),h.k0s()),2&Vn){const Pn=h.XpG();h.Y8G("matFormFieldNotchedOutlineOpen",Pn._shouldLabelFloat()),h.R7$(),h.vxM(Pn._forceDisplayInfixLabel()?-1:1)}}function Ce(Vn,ui){1&Vn&&(h.j41(0,"div",8,2),h.SdG(2,2),h.k0s())}function ce(Vn,ui){1&Vn&&(h.j41(0,"div",9,3),h.SdG(2,3),h.k0s())}function ve(Vn,ui){}function me(Vn,ui){if(1&Vn&&h.DNE(0,ve,0,0,"ng-template",11),2&Vn){h.XpG();const Pn=h.sdS(1);h.Y8G("ngTemplateOutlet",Pn)}}function Oe(Vn,ui){1&Vn&&(h.j41(0,"div",12),h.SdG(1,4),h.k0s())}function At(Vn,ui){1&Vn&&(h.j41(0,"div",13),h.SdG(1,5),h.k0s())}function Et(Vn,ui){1&Vn&&h.nrm(0,"div",14)}function En(Vn,ui){if(1&Vn&&(h.j41(0,"div",16),h.SdG(1,6),h.k0s()),2&Vn){const Pn=h.XpG();h.Y8G("@transitionMessages",Pn._subscriptAnimationState)}}function Me(Vn,ui){if(1&Vn&&(h.j41(0,"mat-hint",20),h.EFF(1),h.k0s()),2&Vn){const Pn=h.XpG(2);h.Y8G("id",Pn._hintLabelId),h.R7$(),h.JRh(Pn.hintLabel)}}function kn(Vn,ui){if(1&Vn&&(h.j41(0,"div",17),h.DNE(1,Me,2,2,"mat-hint",20),h.SdG(2,7),h.nrm(3,"div",21),h.SdG(4,8),h.k0s()),2&Vn){const Pn=h.XpG();h.Y8G("@transitionMessages",Pn._subscriptAnimationState),h.R7$(),h.vxM(Pn.hintLabel?1:-1)}}let nn=(()=>{class Vn{static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["mat-label"]],standalone:!0})}return Vn})(),Ot=0;const Ft=new h.nKC("MatError");let ft=(()=>{class Vn{constructor(Pn,oi){this.id="mat-mdc-error-"+Ot++,Pn||oi.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(oi){return new(oi||Vn)(h.kS0("aria-live"),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(oi,jt){2&oi&&h.Mr5("id",jt.id)},inputs:{id:"id"},standalone:!0,features:[h.Jv_([{provide:Ft,useExisting:Vn}])]})}return Vn})(),Ae=0,Ve=(()=>{class Vn{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ae++}static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(oi,jt){2&oi&&(h.Mr5("id",jt.id),h.BMQ("align",null),h.AVh("mat-mdc-form-field-hint-end","end"===jt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Vn})();const vt=new h.nKC("MatPrefix");let an=(()=>{class Vn{constructor(){this._isText=!1}set _isTextSelector(Pn){this._isText=!0}static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[h.Jv_([{provide:vt,useExisting:Vn}])]})}return Vn})();const Pt=new h.nKC("MatSuffix");let yt=(()=>{class Vn{constructor(){this._isText=!1}set _isTextSelector(Pn){this._isText=!0}static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[h.Jv_([{provide:Pt,useExisting:Vn}])]})}return Vn})();const Jt=new h.nKC("FloatingLabelParent");let vn=(()=>{class Vn{get floating(){return this._floating}set floating(Pn){this._floating=Pn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Pn){this._monitorResize=Pn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Pn){this._elementRef=Pn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,h.WQX)(De),this._ngZone=(0,h.WQX)(h.SKi),this._parent=(0,h.WQX)(Jt),this._resizeSubscription=new C.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function wn(Vn){if(null!==Vn.offsetParent)return Vn.scrollWidth;const Pn=Vn.cloneNode(!0);Pn.style.setProperty("position","absolute"),Pn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Pn);const oi=Pn.scrollWidth;return Pn.remove(),oi}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(oi){return new(oi||Vn)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(oi,jt){2&oi&&h.AVh("mdc-floating-label--float-above",jt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Vn})();const on="mdc-line-ripple--active",sn="mdc-line-ripple--deactivating";let de=(()=>{class Vn{constructor(Pn,oi){this._elementRef=Pn,this._handleTransitionEnd=jt=>{const xt=this._elementRef.nativeElement.classList,qt=xt.contains(sn);"opacity"===jt.propertyName&&qt&&xt.remove(on,sn)},oi.runOutsideAngular(()=>{Pn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Pn=this._elementRef.nativeElement.classList;Pn.remove(sn),Pn.add(on)}deactivate(){this._elementRef.nativeElement.classList.add(sn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(oi){return new(oi||Vn)(h.rXU(h.aKT),h.rXU(h.SKi))};static#t=this.\u0275dir=h.FsC({type:Vn,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Vn})(),tt=(()=>{class Vn{constructor(Pn,oi){this._elementRef=Pn,this._ngZone=oi,this.open=!1}ngAfterViewInit(){const Pn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Pn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Pn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Pn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Pn){this._notch.nativeElement.style.width=this.open&&Pn?`calc(${Pn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(oi){return new(oi||Vn)(h.rXU(h.aKT),h.rXU(h.SKi))};static#t=this.\u0275cmp=h.VBU({type:Vn,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(oi,jt){if(1&oi&&h.GBs(Pe,5),2&oi){let xt;h.mGM(xt=h.lsd())&&(jt._notch=xt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(oi,jt){2&oi&&h.AVh("mdc-notched-outline--notched",jt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[h.aNF],attrs:Ye,ngContentSelectors:Re,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(oi,jt){1&oi&&(h.NAR(),h.nrm(0,"div",1),h.j41(1,"div",2,0),h.SdG(3),h.k0s(),h.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Vn})();const _e={transitionMessages:(0,Ee.hZ)("transitionMessages",[(0,Ee.wk)("enter",(0,Ee.iF)({opacity:1,transform:"translateY(0%)"})),(0,Ee.kY)("void => enter",[(0,Ee.iF)({opacity:0,transform:"translateY(-5px)"}),(0,Ee.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ut=(()=>{class Vn{static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275dir=h.FsC({type:Vn})}return Vn})();const $i=new h.nKC("MatFormField"),mn=new h.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let cn=0,Xn=(()=>{class Vn{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Pn){this._hideRequiredMarker=(0,E.he)(Pn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Pn){Pn!==this._floatLabel&&(this._floatLabel=Pn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Pn){const oi=this._appearance;this._appearance=Pn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==oi&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Pn){this._subscriptSizing=Pn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Pn){this._hintLabel=Pn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Pn){this._explicitFormFieldControl=Pn}constructor(Pn,oi,jt,xt,qt,Lt,Kt,Rn){this._elementRef=Pn,this._changeDetectorRef=oi,this._dir=xt,this._platform=qt,this._defaults=Lt,this._animationMode=Kt,this._labelChild=(0,h.sbv)(nn),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+cn++,this._hintLabelId="mat-mdc-hint-"+cn++,this._subscriptAnimationState="",this._destroyed=new W.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,h.WQX)(h.zZn),this.getLabelId=(0,h.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,h.EWP)(()=>!!this._labelChild()),Lt&&(Lt.appearance&&(this.appearance=Lt.appearance),this._hideRequiredMarker=!!Lt?.hideRequiredMarker,Lt.color&&(this.color=Lt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(Pn){const oi=this._control,jt="mat-mdc-form-field-type-";Pn&&this._elementRef.nativeElement.classList.remove(jt+Pn.controlType),oi.controlType&&this._elementRef.nativeElement.classList.add(jt+oi.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=oi.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),oi.ngControl&&oi.ngControl.valueChanges&&(this._valueChanges=oi.ngControl.valueChanges.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Pn=>!Pn._isText),this._hasTextPrefix=!!this._prefixChildren.find(Pn=>Pn._isText),this._hasIconSuffix=!!this._suffixChildren.find(Pn=>!Pn._isText),this._hasTextSuffix=!!this._suffixChildren.find(Pn=>Pn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,L.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,h.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Pn){const oi=this._control?this._control.ngControl:null;return oi&&oi[Pn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Pn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Pn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const oi=this._hintChildren?this._hintChildren.find(xt=>"start"===xt.align):null,jt=this._hintChildren?this._hintChildren.find(xt=>"end"===xt.align):null;oi?Pn.push(oi.id):this._hintLabel&&Pn.push(this._hintLabelId),jt&&Pn.push(jt.id)}else this._errorChildren&&Pn.push(...this._errorChildren.map(oi=>oi.id));this._control.setDescribedByIds(Pn)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Pn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Pn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const oi=this._iconPrefixContainer?.nativeElement,jt=this._textPrefixContainer?.nativeElement,xt=oi?.getBoundingClientRect().width??0,qt=jt?.getBoundingClientRect().width??0;Pn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${xt+qt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Pn=this._elementRef.nativeElement;if(Pn.getRootNode){const oi=Pn.getRootNode();return oi&&oi!==Pn}return document.documentElement.contains(Pn)}static#e=this.\u0275fac=function(oi){return new(oi||Vn)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(h.SKi),h.rXU(O.dS),h.rXU(A.OD),h.rXU(mn,8),h.rXU(h.bc$,8),h.rXU(S.qQ))};static#t=this.\u0275cmp=h.VBU({type:Vn,selectors:[["mat-form-field"]],contentQueries:function(oi,jt,xt){if(1&oi&&(h.C6U(xt,jt._labelChild,nn,5),h.wni(xt,ut,5),h.wni(xt,vt,5),h.wni(xt,Pt,5),h.wni(xt,Ft,5),h.wni(xt,Ve,5)),2&oi){let qt;h.NyB(),h.mGM(qt=h.lsd())&&(jt._formFieldControl=qt.first),h.mGM(qt=h.lsd())&&(jt._prefixChildren=qt),h.mGM(qt=h.lsd())&&(jt._suffixChildren=qt),h.mGM(qt=h.lsd())&&(jt._errorChildren=qt),h.mGM(qt=h.lsd())&&(jt._hintChildren=qt)}},viewQuery:function(oi,jt){if(1&oi&&(h.GBs(nt,5),h.GBs(Te,5),h.GBs(je,5),h.GBs(vn,5),h.GBs(tt,5),h.GBs(de,5)),2&oi){let xt;h.mGM(xt=h.lsd())&&(jt._textField=xt.first),h.mGM(xt=h.lsd())&&(jt._iconPrefixContainer=xt.first),h.mGM(xt=h.lsd())&&(jt._textPrefixContainer=xt.first),h.mGM(xt=h.lsd())&&(jt._floatingLabel=xt.first),h.mGM(xt=h.lsd())&&(jt._notchedOutline=xt.first),h.mGM(xt=h.lsd())&&(jt._lineRipple=xt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(oi,jt){2&oi&&h.AVh("mat-mdc-form-field-label-always-float",jt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",jt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",jt._hasIconSuffix)("mat-form-field-invalid",jt._control.errorState)("mat-form-field-disabled",jt._control.disabled)("mat-form-field-autofilled",jt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===jt._animationMode)("mat-form-field-appearance-fill","fill"==jt.appearance)("mat-form-field-appearance-outline","outline"==jt.appearance)("mat-form-field-hide-placeholder",jt._hasFloatingLabel()&&!jt._shouldLabelFloat())("mat-focused",jt._control.focused)("mat-primary","accent"!==jt.color&&"warn"!==jt.color)("mat-accent","accent"===jt.color)("mat-warn","warn"===jt.color)("ng-untouched",jt._shouldForward("untouched"))("ng-touched",jt._shouldForward("touched"))("ng-pristine",jt._shouldForward("pristine"))("ng-dirty",jt._shouldForward("dirty"))("ng-valid",jt._shouldForward("valid"))("ng-invalid",jt._shouldForward("invalid"))("ng-pending",jt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[h.Jv_([{provide:$i,useExisting:Vn},{provide:Jt,useExisting:Vn}]),h.aNF],ngContentSelectors:Q,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(oi,jt){if(1&oi){const xt=h.RV6();h.NAR(Xe),h.DNE(0,ot,1,1,"ng-template",null,0,h.C5r),h.j41(2,"div",4,1),h.bIt("click",function(Lt){return h.eBV(xt),h.Njj(jt._control.onContainerClick(Lt))}),h.DNE(4,bt,1,0,"div",5),h.j41(5,"div",6),h.DNE(6,$t,2,2,"div",7)(7,Ce,3,0,"div",8)(8,ce,3,0,"div",9),h.j41(9,"div",10),h.DNE(10,me,1,1,null,11),h.SdG(11),h.k0s(),h.DNE(12,Oe,2,0,"div",12)(13,At,2,0,"div",13),h.k0s(),h.DNE(14,Et,1,0,"div",14),h.k0s(),h.j41(15,"div",15),h.DNE(16,En,2,1,"div",16)(17,kn,5,2,"div",17),h.k0s()}if(2&oi){let xt;h.R7$(2),h.AVh("mdc-text-field--filled",!jt._hasOutline())("mdc-text-field--outlined",jt._hasOutline())("mdc-text-field--no-label",!jt._hasFloatingLabel())("mdc-text-field--disabled",jt._control.disabled)("mdc-text-field--invalid",jt._control.errorState),h.R7$(2),h.vxM(jt._hasOutline()||jt._control.disabled?-1:4),h.R7$(2),h.vxM(jt._hasOutline()?6:-1),h.R7$(),h.vxM(jt._hasIconPrefix?7:-1),h.R7$(),h.vxM(jt._hasTextPrefix?8:-1),h.R7$(2),h.vxM(!jt._hasOutline()||jt._forceDisplayInfixLabel()?10:-1),h.R7$(2),h.vxM(jt._hasTextSuffix?12:-1),h.R7$(),h.vxM(jt._hasIconSuffix?13:-1),h.R7$(),h.vxM(jt._hasOutline()?-1:14),h.R7$(),h.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===jt.subscriptSizing),h.R7$(),h.vxM("error"===(xt=jt._getDisplayedMessages())?16:"hint"===xt?17:-1)}},dependencies:[vn,tt,S.T3,de,Ve],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_e.transitionMessages]},changeDetection:0})}return Vn})(),zi=(()=>{class Vn{static#e=this.\u0275fac=function(oi){return new(oi||Vn)};static#t=this.\u0275mod=h.$C({type:Vn});static#n=this.\u0275inj=h.G2t({imports:[Qe.yE,S.MD,ke.w5,Qe.yE]})}return Vn})()},7984:(dn,Je,_)=>{"use strict";_.d(Je,{Oh:()=>De,fg:()=>Qe,fS:()=>Pe});var h=_(2814),O=_(7699),E=_(7404),A=_(4380),S=_(3119);const C=(0,O.BQ)({passive:!0});let W=(()=>{class Ye{constructor(nt,Te){this._platform=nt,this._ngZone=Te,this._monitoredElements=new Map}monitor(nt){if(!this._platform.isBrowser)return A.w;const Te=(0,h.i8)(nt),je=this._monitoredElements.get(Te);if(je)return je.subject;const Xe=new S.B7,Q="cdk-text-field-autofilled",rt=oe=>{"cdk-text-field-autofill-start"!==oe.animationName||Te.classList.contains(Q)?"cdk-text-field-autofill-end"===oe.animationName&&Te.classList.contains(Q)&&(Te.classList.remove(Q),this._ngZone.run(()=>Xe.next({target:oe.target,isAutofilled:!1}))):(Te.classList.add(Q),this._ngZone.run(()=>Xe.next({target:oe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Te.addEventListener("animationstart",rt,C),Te.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Te,{subject:Xe,unlisten:()=>{Te.removeEventListener("animationstart",rt,C)}}),Xe}stopMonitoring(nt){const Te=(0,h.i8)(nt),je=this._monitoredElements.get(Te);je&&(je.unlisten(),je.subject.complete(),Te.classList.remove("cdk-text-field-autofill-monitored"),Te.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Te))}ngOnDestroy(){this._monitoredElements.forEach((nt,Te)=>this.stopMonitoring(Te))}static#e=this.\u0275fac=function(Te){return new(Te||Ye)(E.KVO(O.OD),E.KVO(E.SKi))};static#t=this.\u0275prov=E.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})(),z=(()=>{class Ye{static#e=this.\u0275fac=function(Te){return new(Te||Ye)};static#t=this.\u0275mod=E.$C({type:Ye});static#n=this.\u0275inj=E.G2t({})}return Ye})();var re=_(4456),q=_(5060),Z=_(5944);const De=new E.nKC("MAT_INPUT_VALUE_ACCESSOR"),Ee=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ke=0,Qe=(()=>{class Ye{get disabled(){return this._disabled}set disabled(nt){this._disabled=(0,h.he)(nt),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(nt){this._id=nt||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(re.k0.required)??!1}set required(nt){this._required=(0,h.he)(nt)}get type(){return this._type}set type(nt){this._type=nt||"text",this._validateType(),!this._isTextarea&&(0,O.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(nt){this._errorStateTracker.matcher=nt}get value(){return this._inputValueAccessor.value}set value(nt){nt!==this.value&&(this._inputValueAccessor.value=nt,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(nt){this._readonly=(0,h.he)(nt)}get errorState(){return this._errorStateTracker.errorState}set errorState(nt){this._errorStateTracker.errorState=nt}constructor(nt,Te,je,Xe,Q,rt,oe,ot,bt,Nt){this._elementRef=nt,this._platform=Te,this.ngControl=je,this._autofillMonitor=ot,this._ngZone=bt,this._formField=Nt,this._uid="mat-input-"+ke++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new S.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>(0,O.MU)().has(Ce)),this._iOSKeyupListener=Ce=>{const ce=Ce.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const St=this._elementRef.nativeElement,$t=St.nodeName.toLowerCase();this._inputValueAccessor=oe||St,this._previousNativeValue=this.value,this.id=this.id,Te.IOS&&bt.runOutsideAngular(()=>{nt.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new q.X0(rt,je,Q,Xe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===$t,this._isTextarea="textarea"===$t,this._isInFormField=!!Nt,this._isNativeSelect&&(this.controlType=St.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(nt=>{this.autofilled=nt.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(nt){this._elementRef.nativeElement.focus(nt)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(nt){nt!==this.focused&&(this.focused=nt,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const nt=this._elementRef.nativeElement.value;this._previousNativeValue!==nt&&(this._previousNativeValue=nt,this.stateChanges.next())}_dirtyCheckPlaceholder(){const nt=this._getPlaceholder();if(nt!==this._previousPlaceholder){const Te=this._elementRef.nativeElement;this._previousPlaceholder=nt,nt?Te.setAttribute("placeholder",nt):Te.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Ee.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let nt=this._elementRef.nativeElement.validity;return nt&&nt.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const nt=this._elementRef.nativeElement,Te=nt.options[0];return this.focused||nt.multiple||!this.empty||!!(nt.selectedIndex>-1&&Te&&Te.label)}return this.focused||!this.empty}setDescribedByIds(nt){nt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",nt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const nt=this._elementRef.nativeElement;return this._isNativeSelect&&(nt.multiple||nt.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(Te){return new(Te||Ye)(E.rXU(E.aKT),E.rXU(O.OD),E.rXU(re.vO,10),E.rXU(re.cV,8),E.rXU(re.j4,8),E.rXU(q.es),E.rXU(De,10),E.rXU(W),E.rXU(E.SKi),E.rXU(Z.xb,8))};static#t=this.\u0275dir=E.FsC({type:Ye,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Te,je){1&Te&&E.bIt("focus",function(){return je._focusChanged(!0)})("blur",function(){return je._focusChanged(!1)})("input",function(){return je._onInput()}),2&Te&&(E.Mr5("id",je.id)("disabled",je.disabled)("required",je.required),E.BMQ("name",je.name||null)("readonly",je.readonly&&!je._isNativeSelect||null)("aria-invalid",je.empty&&je.required?null:je.errorState)("aria-required",je.required)("id",je.id),E.AVh("mat-input-server",je._isServer)("mat-mdc-form-field-textarea-control",je._isInFormField&&je._isTextarea)("mat-mdc-form-field-input-control",je._isInFormField)("mdc-text-field__input",je._isInFormField)("mat-mdc-native-select-inline",je._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[E.Jv_([{provide:Z.qT,useExisting:Ye}]),E.OA$]})}return Ye})(),Pe=(()=>{class Ye{static#e=this.\u0275fac=function(Te){return new(Te||Ye)};static#t=this.\u0275mod=E.$C({type:Ye});static#n=this.\u0275inj=E.G2t({imports:[q.yE,Z.RG,Z.RG,z,q.yE]})}return Ye})()},1034:(dn,Je,_)=>{"use strict";_.d(Je,{Cn:()=>Ve,Cp:()=>Ae,fb:()=>bt,kk:()=>Me});var h=_(7404),O=_(2139),E=_(4879),A=_(3119),S=_(7405),C=_(2672),W=_(1536),L=_(2800),N=_(9273),z=_(1963),re=_(7464),q=_(8627),Z=_(3602),ee=_(9277),De=_(316),Ee=_(5060),ke=_(9168),Qe=_(7172),Pe=_(3680),Ye=_(1570),Re=_(7699),nt=_(4053);const Te=["mat-menu-item",""],je=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Xe=["mat-icon, [matMenuItemIcon]","*"];function Q(vt,an){1&vt&&(h.qSk(),h.j41(0,"svg",2),h.nrm(1,"polygon",3),h.k0s())}const rt=["*"];function oe(vt,an){if(1&vt){const Pt=h.RV6();h.j41(0,"div",0),h.bIt("keydown",function(Jt){h.eBV(Pt);const vn=h.XpG();return h.Njj(vn._handleKeydown(Jt))})("click",function(){h.eBV(Pt);const Jt=h.XpG();return h.Njj(Jt.closed.emit("click"))})("@transformMenu.start",function(Jt){h.eBV(Pt);const vn=h.XpG();return h.Njj(vn._onAnimationStart(Jt))})("@transformMenu.done",function(Jt){h.eBV(Pt);const vn=h.XpG();return h.Njj(vn._onAnimationDone(Jt))}),h.j41(1,"div",1),h.SdG(2),h.k0s()()}if(2&vt){const Pt=h.XpG();h.HbH(Pt._classList),h.Y8G("id",Pt.panelId)("@transformMenu",Pt._panelAnimationState),h.BMQ("aria-label",Pt.ariaLabel||null)("aria-labelledby",Pt.ariaLabelledby||null)("aria-describedby",Pt.ariaDescribedby||null)}}const ot=new h.nKC("MAT_MENU_PANEL");let bt=(()=>{class vt{constructor(Pt,yt,Jt,vn,wn){this._elementRef=Pt,this._document=yt,this._focusMonitor=Jt,this._parentMenu=vn,this._changeDetectorRef=wn,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new A.B7,this._focused=new A.B7,this._highlighted=!1,this._triggersSubmenu=!1,vn?.addItem?.(this)}focus(Pt,yt){this._focusMonitor&&Pt?this._focusMonitor.focusVia(this._getHostElement(),Pt,yt):this._getHostElement().focus(yt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Pt){this.disabled&&(Pt.preventDefault(),Pt.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Pt=this._elementRef.nativeElement.cloneNode(!0),yt=Pt.querySelectorAll("mat-icon, .material-icons");for(let Jt=0;Jt<yt.length;Jt++)yt[Jt].remove();return Pt.textContent?.trim()||""}_setHighlighted(Pt){this._highlighted=Pt,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Pt){this._triggersSubmenu=Pt,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(yt){return new(yt||vt)(h.rXU(h.aKT),h.rXU(De.qQ),h.rXU(O.FN),h.rXU(ot,8),h.rXU(h.gRc))};static#t=this.\u0275cmp=h.VBU({type:vt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(yt,Jt){1&yt&&h.bIt("click",function(wn){return Jt._checkDisabled(wn)})("mouseenter",function(){return Jt._handleMouseEnter()}),2&yt&&(h.BMQ("role",Jt.role)("tabindex",Jt._getTabIndex())("aria-disabled",Jt.disabled)("disabled",Jt.disabled||null),h.AVh("mat-mdc-menu-item-highlighted",Jt._highlighted)("mat-mdc-menu-item-submenu-trigger",Jt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",h.L39],disableRipple:[2,"disableRipple","disableRipple",h.L39]},exportAs:["matMenuItem"],standalone:!0,features:[h.GFd,h.aNF],attrs:Te,ngContentSelectors:Xe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(yt,Jt){1&yt&&(h.NAR(je),h.SdG(0),h.j41(1,"span",0),h.SdG(2,1),h.k0s(),h.nrm(3,"div",1),h.DNE(4,Q,2,0,":svg:svg",2)),2&yt&&(h.R7$(3),h.Y8G("matRippleDisabled",Jt.disableRipple||Jt.disabled)("matRippleTrigger",Jt._getHostElement()),h.R7$(),h.vxM(Jt._triggersSubmenu?4:-1))},dependencies:[Ee.r6],encapsulation:2,changeDetection:0})}return vt})();const Ce=new h.nKC("MatMenuContent"),ve={transformMenu:(0,Qe.hZ)("transformMenu",[(0,Qe.wk)("void",(0,Qe.iF)({opacity:0,transform:"scale(0.8)"})),(0,Qe.kY)("void => enter",(0,Qe.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Qe.iF)({opacity:1,transform:"scale(1)"}))),(0,Qe.kY)("* => void",(0,Qe.i0)("100ms 25ms linear",(0,Qe.iF)({opacity:0})))]),fadeInItems:(0,Qe.hZ)("fadeInItems",[(0,Qe.wk)("showing",(0,Qe.iF)({opacity:1})),(0,Qe.kY)("void => *",[(0,Qe.iF)({opacity:0}),(0,Qe.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let At=0;const Et=new h.nKC("mat-menu-default-options",{providedIn:"root",factory:function En(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Me=(()=>{class vt{get xPosition(){return this._xPosition}set xPosition(Pt){this._xPosition=Pt,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Pt){this._yPosition=Pt,this.setPositionClasses()}set panelClass(Pt){const yt=this._previousPanelClass,Jt={...this._classList};yt&&yt.length&&yt.split(" ").forEach(vn=>{Jt[vn]=!1}),this._previousPanelClass=Pt,Pt&&Pt.length&&(Pt.split(" ").forEach(vn=>{Jt[vn]=!0}),this._elementRef.nativeElement.className=""),this._classList=Jt}get classList(){return this.panelClass}set classList(Pt){this.panelClass=Pt}constructor(Pt,yt,Jt,vn){this._elementRef=Pt,this._changeDetectorRef=vn,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new h.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new A.B7,this.closed=new h.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+At++,this._injector=(0,h.WQX)(h.zZn),this.overlayPanelClass=Jt.overlayPanelClass||"",this._xPosition=Jt.xPosition,this._yPosition=Jt.yPosition,this.backdropClass=Jt.backdropClass,this.overlapTrigger=Jt.overlapTrigger,this.hasBackdrop=Jt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new O.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,z.n)(Pt=>(0,S.h)(...Pt.map(yt=>yt._focused)))).subscribe(Pt=>this._keyManager.updateActiveItem(Pt)),this._directDescendantItems.changes.subscribe(Pt=>{const yt=this._keyManager;if("enter"===this._panelAnimationState&&yt.activeItem?._hasFocus()){const Jt=Pt.toArray(),vn=Math.max(0,Math.min(Jt.length-1,yt.activeItemIndex||0));Jt[vn]&&!Jt[vn].disabled?yt.setActiveItem(vn):yt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,z.n)(yt=>(0,S.h)(...yt.map(Jt=>Jt._hovered))))}addItem(Pt){}removeItem(Pt){}_handleKeydown(Pt){const yt=Pt.keyCode,Jt=this._keyManager;switch(yt){case E._f:(0,E.rp)(Pt)||(Pt.preventDefault(),this.closed.emit("keydown"));break;case E.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case E.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(yt===E.i7||yt===E.n6)&&Jt.setFocusOrigin("keyboard"),void Jt.onKeydown(Pt)}Pt.stopPropagation()}focusFirstItem(Pt="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,h.mal)(()=>{let yt=null;if(this._directDescendantItems.length&&(yt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!yt||!yt.contains(document.activeElement)){const Jt=this._keyManager;Jt.setFocusOrigin(Pt).setFirstItemActive(),!Jt.activeItem&&yt&&yt.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Pt){if(null===this._baseElevation){const on=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(on)}const yt=Math.min(this._baseElevation+Pt,24),Jt=`${this._elevationPrefix}${yt}`,vn=Object.keys(this._classList).find(wn=>wn.startsWith(this._elevationPrefix));if(!vn||vn===this._previousElevation){const wn={...this._classList};this._previousElevation&&(wn[this._previousElevation]=!1),wn[Jt]=!0,this._previousElevation=Jt,this._classList=wn}}setPositionClasses(Pt=this.xPosition,yt=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Pt,"mat-menu-after":"after"===Pt,"mat-menu-above":"above"===yt,"mat-menu-below":"below"===yt},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Pt){this._animationDone.next(Pt),this._isAnimating=!1}_onAnimationStart(Pt){this._isAnimating=!0,"enter"===Pt.toState&&0===this._keyManager.activeItemIndex&&(Pt.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,N.Z)(this._allItems)).subscribe(Pt=>{this._directDescendantItems.reset(Pt.filter(yt=>yt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(yt){return new(yt||vt)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Et),h.rXU(h.gRc))};static#t=this.\u0275cmp=h.VBU({type:vt,selectors:[["mat-menu"]],contentQueries:function(yt,Jt,vn){if(1&yt&&(h.wni(vn,Ce,5),h.wni(vn,bt,5),h.wni(vn,bt,4)),2&yt){let wn;h.mGM(wn=h.lsd())&&(Jt.lazyContent=wn.first),h.mGM(wn=h.lsd())&&(Jt._allItems=wn),h.mGM(wn=h.lsd())&&(Jt.items=wn)}},viewQuery:function(yt,Jt){if(1&yt&&h.GBs(h.C4Q,5),2&yt){let vn;h.mGM(vn=h.lsd())&&(Jt.templateRef=vn.first)}},hostVars:3,hostBindings:function(yt,Jt){2&yt&&h.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",h.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Pt=>null==Pt?null:(0,h.L39)(Pt)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[h.Jv_([{provide:ot,useExisting:vt}]),h.GFd,h.aNF],ngContentSelectors:rt,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(yt,Jt){1&yt&&(h.NAR(),h.DNE(0,oe,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ve.transformMenu,ve.fadeInItems]},changeDetection:0})}return vt})();const kn=new h.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const vt=(0,h.WQX)(Ye.hJ);return()=>vt.scrollStrategies.reposition()}}),Ot={provide:kn,deps:[Ye.hJ],useFactory:function nn(vt){return()=>vt.scrollStrategies.reposition()}},Ft=(0,Re.BQ)({passive:!0});let Ae=(()=>{class vt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Pt){this.menu=Pt}get menu(){return this._menu}set menu(Pt){Pt!==this._menu&&(this._menu=Pt,this._menuCloseSubscription.unsubscribe(),Pt&&(this._menuCloseSubscription=Pt.close.subscribe(yt=>{this._destroyMenu(yt),("click"===yt||"tab"===yt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(yt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Pt,yt,Jt,vn,wn,on,sn,de,tt){this._overlay=Pt,this._element=yt,this._viewContainerRef=Jt,this._menuItemInstance=on,this._dir=sn,this._focusMonitor=de,this._ngZone=tt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.y.EMPTY,this._hoverSubscription=C.y.EMPTY,this._menuCloseSubscription=C.y.EMPTY,this._changeDetectorRef=(0,h.WQX)(h.gRc),this._handleTouchStart=_e=>{(0,O.w6)(_e)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new h.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new h.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=vn,this._parentMaterialMenu=wn instanceof Me?wn:void 0,yt.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ft)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ft),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Pt=this.menu;if(this._menuOpen||!Pt)return;const yt=this._createOverlay(Pt),Jt=yt.getConfig(),vn=Jt.positionStrategy;this._setPosition(Pt,vn),Jt.hasBackdrop=null==Pt.hasBackdrop?!this.triggersSubmenu():Pt.hasBackdrop,yt.attach(this._getPortal(Pt)),Pt.lazyContent&&Pt.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Pt),Pt instanceof Me&&(Pt._startAnimation(),Pt._directDescendantItems.changes.pipe((0,re.Q)(Pt.close)).subscribe(()=>{vn.withLockedPosition(!1).reapplyLastPosition(),vn.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Pt,yt){this._focusMonitor&&Pt?this._focusMonitor.focusVia(this._element,Pt,yt):this._element.nativeElement.focus(yt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Pt){if(!this._overlayRef||!this.menuOpen)return;const yt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Pt||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,yt instanceof Me?(yt._resetAnimation(),yt.lazyContent?yt._animationDone.pipe((0,q.p)(Jt=>"void"===Jt.toState),(0,Z.s)(1),(0,re.Q)(yt.lazyContent._attached)).subscribe({next:()=>yt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),yt?.lazyContent?.detach())}_initMenu(Pt){Pt.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Pt.direction=this.dir,this._setMenuElevation(Pt),Pt.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Pt){if(Pt.setElevation){let yt=0,Jt=Pt.parentMenu;for(;Jt;)yt++,Jt=Jt.parentMenu;Pt.setElevation(yt)}}_setIsMenuOpen(Pt){Pt!==this._menuOpen&&(this._menuOpen=Pt,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Pt),this._changeDetectorRef.markForCheck())}_createOverlay(Pt){if(!this._overlayRef){const yt=this._getOverlayConfig(Pt);this._subscribeToPositions(Pt,yt.positionStrategy),this._overlayRef=this._overlay.create(yt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Pt){return new Ye.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Pt.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Pt.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Pt,yt){Pt.setPositionClasses&&yt.positionChanges.subscribe(Jt=>{const vn="start"===Jt.connectionPair.overlayX?"after":"before",wn="top"===Jt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Pt.setPositionClasses(vn,wn)):Pt.setPositionClasses(vn,wn)})}_setPosition(Pt,yt){let[Jt,vn]="before"===Pt.xPosition?["end","start"]:["start","end"],[wn,on]="above"===Pt.yPosition?["bottom","top"]:["top","bottom"],[sn,de]=[wn,on],[tt,_e]=[Jt,vn],ut=0;if(this.triggersSubmenu()){if(_e=Jt="before"===Pt.xPosition?"start":"end",vn=tt="end"===Jt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const rn=this._parentMaterialMenu.items.first;this._parentInnerPadding=rn?rn._getHostElement().offsetTop:0}ut="bottom"===wn?this._parentInnerPadding:-this._parentInnerPadding}}else Pt.overlapTrigger||(sn="top"===wn?"bottom":"top",de="top"===on?"bottom":"top");yt.withPositions([{originX:Jt,originY:sn,overlayX:tt,overlayY:wn,offsetY:ut},{originX:vn,originY:sn,overlayX:_e,overlayY:wn,offsetY:ut},{originX:Jt,originY:de,overlayX:tt,overlayY:on,offsetY:-ut},{originX:vn,originY:de,overlayX:_e,overlayY:on,offsetY:-ut}])}_menuClosingActions(){const Pt=this._overlayRef.backdropClick(),yt=this._overlayRef.detachments(),Jt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,W.of)(),vn=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,q.p)(wn=>wn!==this._menuItemInstance),(0,q.p)(()=>this._menuOpen)):(0,W.of)();return(0,S.h)(Pt,Jt,vn,yt)}_handleMousedown(Pt){(0,O._G)(Pt)||(this._openedBy=0===Pt.button?"mouse":void 0,this.triggersSubmenu()&&Pt.preventDefault())}_handleKeydown(Pt){const yt=Pt.keyCode;(yt===E.Fm||yt===E.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(yt===E.LE&&"ltr"===this.dir||yt===E.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Pt){this.triggersSubmenu()?(Pt.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,q.p)(Pt=>Pt===this._menuItemInstance&&!Pt.disabled),(0,ee.c)(0,L.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Me&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Z.s)(1),(0,ee.c)(0,L.$),(0,re.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Pt){return(!this._portal||this._portal.templateRef!==Pt.templateRef)&&(this._portal=new ke.VA(Pt.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(yt){return new(yt||vt)(h.rXU(Ye.hJ),h.rXU(h.aKT),h.rXU(h.c1b),h.rXU(kn),h.rXU(ot,8),h.rXU(bt,10),h.rXU(Pe.dS,8),h.rXU(O.FN),h.rXU(h.SKi))};static#t=this.\u0275dir=h.FsC({type:vt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(yt,Jt){1&yt&&h.bIt("click",function(wn){return Jt._handleClick(wn)})("mousedown",function(wn){return Jt._handleMousedown(wn)})("keydown",function(wn){return Jt._handleKeydown(wn)}),2&yt&&h.BMQ("aria-haspopup",Jt.menu?"menu":null)("aria-expanded",Jt.menuOpen)("aria-controls",Jt.menuOpen?Jt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return vt})(),Ve=(()=>{class vt{static#e=this.\u0275fac=function(yt){return new(yt||vt)};static#t=this.\u0275mod=h.$C({type:vt});static#n=this.\u0275inj=h.G2t({providers:[Ot],imports:[De.MD,Ee.pZ,Ee.yE,Ye.z_,nt.Gj,Ee.yE]})}return vt})()},4624:(dn,Je,_)=>{"use strict";_.d(Je,{Ou:()=>Te,iy:()=>nt});var h=_(7404),O=_(3119),E=_(7675),A=_(4175),S=_(5175),C=_(640),W=_(5060),L=_(5944);function N(je,Xe){if(1&je&&(h.j41(0,"mat-option",17),h.EFF(1),h.k0s()),2&je){const Q=Xe.$implicit;h.Y8G("value",Q),h.R7$(),h.SpI(" ",Q," ")}}function z(je,Xe){if(1&je){const Q=h.RV6();h.j41(0,"mat-form-field",14)(1,"mat-select",16,0),h.bIt("selectionChange",function(oe){h.eBV(Q);const ot=h.XpG(2);return h.Njj(ot._changePageSize(oe.value))}),h.Z7z(3,N,2,2,"mat-option",17,h.fX1),h.k0s(),h.j41(5,"div",18),h.bIt("click",function(){h.eBV(Q);const oe=h.sdS(2);return h.Njj(oe.open())}),h.k0s()()}if(2&je){const Q=h.XpG(2);h.Y8G("appearance",Q._formFieldAppearance)("color",Q.color),h.R7$(),h.Y8G("value",Q.pageSize)("disabled",Q.disabled)("aria-labelledby",Q._pageSizeLabelId)("panelClass",Q.selectConfig.panelClass||"")("disableOptionCentering",Q.selectConfig.disableOptionCentering),h.R7$(2),h.Dyx(Q._displayedPageSizeOptions)}}function re(je,Xe){if(1&je&&(h.j41(0,"div",15),h.EFF(1),h.k0s()),2&je){const Q=h.XpG(2);h.R7$(),h.JRh(Q.pageSize)}}function q(je,Xe){if(1&je&&(h.j41(0,"div",3)(1,"div",13),h.EFF(2),h.k0s(),h.DNE(3,z,6,7,"mat-form-field",14)(4,re,2,1,"div",15),h.k0s()),2&je){const Q=h.XpG();h.R7$(),h.BMQ("id",Q._pageSizeLabelId),h.R7$(),h.SpI(" ",Q._intl.itemsPerPageLabel," "),h.R7$(),h.vxM(Q._displayedPageSizeOptions.length>1?3:-1),h.R7$(),h.vxM(Q._displayedPageSizeOptions.length<=1?4:-1)}}function Z(je,Xe){if(1&je){const Q=h.RV6();h.j41(0,"button",19),h.bIt("click",function(){h.eBV(Q);const oe=h.XpG();return h.Njj(oe.firstPage())}),h.qSk(),h.j41(1,"svg",8),h.nrm(2,"path",20),h.k0s()()}if(2&je){const Q=h.XpG();h.Y8G("matTooltip",Q._intl.firstPageLabel)("matTooltipDisabled",Q._previousButtonsDisabled())("matTooltipPosition","above")("disabled",Q._previousButtonsDisabled()),h.BMQ("aria-label",Q._intl.firstPageLabel)}}function ee(je,Xe){if(1&je){const Q=h.RV6();h.j41(0,"button",21),h.bIt("click",function(){h.eBV(Q);const oe=h.XpG();return h.Njj(oe.lastPage())}),h.qSk(),h.j41(1,"svg",8),h.nrm(2,"path",22),h.k0s()()}if(2&je){const Q=h.XpG();h.Y8G("matTooltip",Q._intl.lastPageLabel)("matTooltipDisabled",Q._nextButtonsDisabled())("matTooltipPosition","above")("disabled",Q._nextButtonsDisabled()),h.BMQ("aria-label",Q._intl.lastPageLabel)}}let De=(()=>{class je{constructor(){this.changes=new O.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(Q,rt,oe)=>{if(0==oe||0==rt)return`0 of ${oe}`;const ot=Q*rt;return`${ot+1} \u2013 ${ot<(oe=Math.max(oe,0))?Math.min(ot+rt,oe):ot+rt} of ${oe}`}}static#e=this.\u0275fac=function(rt){return new(rt||je)};static#t=this.\u0275prov=h.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const ke={provide:De,deps:[[new h.Xx1,new h.kdw,De]],useFactory:function Ee(je){return je||new De}},Ye=new h.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let Re=0,nt=(()=>{class je{get pageIndex(){return this._pageIndex}set pageIndex(Q){this._pageIndex=Math.max(Q||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(Q){this._length=Q||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(Q){this._pageSize=Math.max(Q||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(Q){this._pageSizeOptions=(Q||[]).map(rt=>(0,h.Udg)(rt,0)),this._updateDisplayedPageSizeOptions()}constructor(Q,rt,oe){if(this._intl=Q,this._changeDetectorRef=rt,this._pageSizeLabelId="mat-paginator-page-size-label-"+Re++,this._isInitialized=!1,this._initializedStream=new E.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new h.bkB,this.initialized=this._initializedStream,this._intlChanges=Q.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),oe){const{pageSize:ot,pageSizeOptions:bt,hidePageSize:Nt,showFirstLastButtons:St}=oe;null!=ot&&(this._pageSize=ot),null!=bt&&(this._pageSizeOptions=bt),null!=Nt&&(this.hidePageSize=Nt),null!=St&&(this.showFirstLastButtons=St)}this._formFieldAppearance=oe?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const Q=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(Q)}previousPage(){if(!this.hasPreviousPage())return;const Q=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(Q)}firstPage(){if(!this.hasPreviousPage())return;const Q=this.pageIndex;this.pageIndex=0,this._emitPageEvent(Q)}lastPage(){if(!this.hasNextPage())return;const Q=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(Q)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const Q=this.getNumberOfPages()-1;return this.pageIndex<Q&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(Q){const oe=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/Q)||0,this.pageSize=Q,this._emitPageEvent(oe)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((Q,rt)=>Q-rt),this._changeDetectorRef.markForCheck())}_emitPageEvent(Q){this.page.emit({previousPageIndex:Q,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(rt){return new(rt||je)(h.rXU(De),h.rXU(h.gRc),h.rXU(Ye,8))};static#t=this.\u0275cmp=h.VBU({type:je,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",h.Udg],length:[2,"length","length",h.Udg],pageSize:[2,"pageSize","pageSize",h.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",h.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",h.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",h.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[h.GFd,h.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(rt,oe){1&rt&&(h.j41(0,"div",1)(1,"div",2),h.DNE(2,q,5,4,"div",3),h.j41(3,"div",4)(4,"div",5),h.EFF(5),h.k0s(),h.DNE(6,Z,3,5,"button",6),h.j41(7,"button",7),h.bIt("click",function(){return oe.previousPage()}),h.qSk(),h.j41(8,"svg",8),h.nrm(9,"path",9),h.k0s()(),h.joV(),h.j41(10,"button",10),h.bIt("click",function(){return oe.nextPage()}),h.qSk(),h.j41(11,"svg",8),h.nrm(12,"path",11),h.k0s()(),h.DNE(13,ee,3,5,"button",12),h.k0s()()()),2&rt&&(h.R7$(2),h.vxM(oe.hidePageSize?-1:2),h.R7$(3),h.SpI(" ",oe._intl.getRangeLabel(oe.pageIndex,oe.pageSize,oe.length)," "),h.R7$(),h.vxM(oe.showFirstLastButtons?6:-1),h.R7$(),h.Y8G("matTooltip",oe._intl.previousPageLabel)("matTooltipDisabled",oe._previousButtonsDisabled())("matTooltipPosition","above")("disabled",oe._previousButtonsDisabled()),h.BMQ("aria-label",oe._intl.previousPageLabel),h.R7$(3),h.Y8G("matTooltip",oe._intl.nextPageLabel)("matTooltipDisabled",oe._nextButtonsDisabled())("matTooltipPosition","above")("disabled",oe._nextButtonsDisabled()),h.BMQ("aria-label",oe._intl.nextPageLabel),h.R7$(3),h.vxM(oe.showFirstLastButtons?13:-1))},dependencies:[L.rl,S.VO,W.wT,A.iY,C.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return je})(),Te=(()=>{class je{static#e=this.\u0275fac=function(rt){return new(rt||je)};static#t=this.\u0275mod=h.$C({type:je});static#n=this.\u0275inj=h.G2t({providers:[ke],imports:[A.Hl,S.Ve,C.uc,nt]})}return je})()},1134:(dn,Je,_)=>{"use strict";_.d(Je,{D6:()=>q,LG:()=>z});var h=_(7404),O=_(316),E=_(5060);const A=["determinateSpinner"];function S(Z,ee){if(1&Z&&(h.qSk(),h.j41(0,"svg",11),h.nrm(1,"circle",12),h.k0s()),2&Z){const De=h.XpG();h.BMQ("viewBox",De._viewBox()),h.R7$(),h.xc7("stroke-dasharray",De._strokeCircumference(),"px")("stroke-dashoffset",De._strokeCircumference()/2,"px")("stroke-width",De._circleStrokeWidth(),"%"),h.BMQ("r",De._circleRadius())}}const C=new h.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function W(){return{diameter:L}}}),L=100;let z=(()=>{class Z{get color(){return this._color||this._defaultColor}set color(De){this._color=De}constructor(De,Ee,ke){this._elementRef=De,this._defaultColor="primary",this._value=0,this._diameter=L,this._noopAnimations="NoopAnimations"===Ee&&!!ke&&!ke._forceAnimations,this.mode="mat-spinner"===De.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",ke&&(ke.color&&(this.color=this._defaultColor=ke.color),ke.diameter&&(this.diameter=ke.diameter),ke.strokeWidth&&(this.strokeWidth=ke.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(De){this._value=Math.max(0,Math.min(100,De||0))}get diameter(){return this._diameter}set diameter(De){this._diameter=De||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(De){this._strokeWidth=De||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const De=2*this._circleRadius()+this.strokeWidth;return`0 0 ${De} ${De}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(Ee){return new(Ee||Z)(h.rXU(h.aKT),h.rXU(h.bc$,8),h.rXU(C))};static#t=this.\u0275cmp=h.VBU({type:Z,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(Ee,ke){if(1&Ee&&h.GBs(A,5),2&Ee){let Qe;h.mGM(Qe=h.lsd())&&(ke._determinateCircle=Qe.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(Ee,ke){2&Ee&&(h.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===ke.mode?ke.value:null)("mode",ke.mode),h.HbH("mat-"+ke.color),h.xc7("width",ke.diameter,"px")("height",ke.diameter,"px")("--mdc-circular-progress-size",ke.diameter+"px")("--mdc-circular-progress-active-indicator-width",ke.diameter+"px"),h.AVh("_mat-animation-noopable",ke._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===ke.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",h.Udg],diameter:[2,"diameter","diameter",h.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",h.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[h.GFd,h.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(Ee,ke){if(1&Ee&&(h.DNE(0,S,2,8,"ng-template",null,0,h.C5r),h.j41(2,"div",2,1),h.qSk(),h.j41(4,"svg",3),h.nrm(5,"circle",4),h.k0s()(),h.joV(),h.j41(6,"div",5)(7,"div",6)(8,"div",7),h.eu8(9,8),h.k0s(),h.j41(10,"div",9),h.eu8(11,8),h.k0s(),h.j41(12,"div",10),h.eu8(13,8),h.k0s()()()),2&Ee){const Qe=h.sdS(1);h.R7$(4),h.BMQ("viewBox",ke._viewBox()),h.R7$(),h.xc7("stroke-dasharray",ke._strokeCircumference(),"px")("stroke-dashoffset",ke._strokeDashOffset(),"px")("stroke-width",ke._circleStrokeWidth(),"%"),h.BMQ("r",ke._circleRadius()),h.R7$(4),h.Y8G("ngTemplateOutlet",Qe),h.R7$(2),h.Y8G("ngTemplateOutlet",Qe),h.R7$(2),h.Y8G("ngTemplateOutlet",Qe)}},dependencies:[O.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return Z})(),q=(()=>{class Z{static#e=this.\u0275fac=function(Ee){return new(Ee||Z)};static#t=this.\u0275mod=h.$C({type:Z});static#n=this.\u0275inj=h.G2t({imports:[O.MD,E.yE]})}return Z})()},3804:(dn,Je,_)=>{"use strict";_.d(Je,{VT:()=>Ee,Wk:()=>Qe,_g:()=>ke});var h=_(2139),O=_(7989),E=_(7404),A=_(4456),S=_(5060),C=_(316);const W=["input"],L=["formField"],N=["*"];let z=0;class re{constructor(Ye,Re){this.source=Ye,this.value=Re}}const q={provide:A.kq,useExisting:(0,E.Rfq)(()=>Ee),multi:!0},Z=new E.nKC("MatRadioGroup"),ee=new E.nKC("mat-radio-default-options",{providedIn:"root",factory:function De(){return{color:"accent",disabledInteractive:!1}}});let Ee=(()=>{class Pe{get name(){return this._name}set name(Re){this._name=Re,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(Re){this._labelPosition="before"===Re?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(Re){this._value!==Re&&(this._value=Re,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(Re){this._selected=Re,this.value=Re?Re.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(Re){this._disabled=Re,this._markRadiosForCheck()}get required(){return this._required}set required(Re){this._required=Re,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(Re){this._disabledInteractive=Re,this._markRadiosForCheck()}constructor(Re){this._changeDetector=Re,this._value=null,this._name="mat-radio-group-"+z++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new E.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(Re=>Re===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(Re=>{Re.name=this.name,Re._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(nt=>{nt.checked=this.value===nt.value,nt.checked&&(this._selected=nt)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new re(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(Re=>Re._markForCheck())}writeValue(Re){this.value=Re,this._changeDetector.markForCheck()}registerOnChange(Re){this._controlValueAccessorChangeFn=Re}registerOnTouched(Re){this.onTouched=Re}setDisabledState(Re){this.disabled=Re,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(nt){return new(nt||Pe)(E.rXU(E.gRc))};static#t=this.\u0275dir=E.FsC({type:Pe,selectors:[["mat-radio-group"]],contentQueries:function(nt,Te,je){if(1&nt&&E.wni(je,ke,5),2&nt){let Xe;E.mGM(Xe=E.lsd())&&(Te._radios=Xe)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",E.L39],required:[2,"required","required",E.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",E.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[E.Jv_([q,{provide:Z,useExisting:Pe}]),E.GFd]})}return Pe})(),ke=(()=>{class Pe{get checked(){return this._checked}set checked(Re){this._checked!==Re&&(this._checked=Re,Re&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!Re&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),Re&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(Re){this._value!==Re&&(this._value=Re,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===Re),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(Re){this._labelPosition=Re}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(Re){this._setDisabled(Re)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(Re){this._required=Re}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(Re){this._color=Re}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(Re){this._disabledInteractive=Re}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Re,nt,Te,je,Xe,Q,rt,oe){this._elementRef=nt,this._changeDetector=Te,this._focusMonitor=je,this._radioDispatcher=Xe,this._defaultOptions=rt,this._ngZone=(0,E.WQX)(E.SKi),this._uniqueId="mat-radio-"+ ++z,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new E.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,E.WQX)(E.zZn),this._onInputClick=ot=>{this.disabled&&this.disabledInteractive&&ot.preventDefault()},this.radioGroup=Re,this._noopAnimations="NoopAnimations"===Q,this._disabledInteractive=rt?.disabledInteractive??!1,oe&&(this.tabIndex=(0,E.Udg)(oe,0))}focus(Re,nt){nt?this._focusMonitor.focusVia(this._inputElement,nt,Re):this._inputElement.nativeElement.focus(Re)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((Re,nt)=>{Re!==this.id&&nt===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(Re=>{!Re&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new re(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(Re){if(Re.stopPropagation(),!this.checked&&!this.disabled){const nt=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),nt&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(Re){this._onInputInteraction(Re),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(Re){this._disabled!==Re&&(this._disabled=Re,this._changeDetector.markForCheck())}_updateTabIndex(){const Re=this.radioGroup;let nt;if(nt=Re&&Re.selected&&!this.disabled?Re.selected===this?this.tabIndex:-1:this.tabIndex,nt!==this._previousTabIndex){const Te=this._inputElement?.nativeElement;Te&&(Te.setAttribute("tabindex",nt+""),this._previousTabIndex=nt,(0,E.mal)(()=>{queueMicrotask(()=>{Re&&Re.selected&&Re.selected!==this&&document.activeElement===Te&&(Re.selected?._inputElement.nativeElement.focus(),document.activeElement===Te&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(nt){return new(nt||Pe)(E.rXU(Z,8),E.rXU(E.aKT),E.rXU(E.gRc),E.rXU(h.FN),E.rXU(O.zP),E.rXU(E.bc$,8),E.rXU(ee,8),E.kS0("tabindex"))};static#t=this.\u0275cmp=E.VBU({type:Pe,selectors:[["mat-radio-button"]],viewQuery:function(nt,Te){if(1&nt&&(E.GBs(W,5),E.GBs(L,7,E.aKT)),2&nt){let je;E.mGM(je=E.lsd())&&(Te._inputElement=je.first),E.mGM(je=E.lsd())&&(Te._rippleTrigger=je.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(nt,Te){1&nt&&E.bIt("focus",function(){return Te._inputElement.nativeElement.focus()}),2&nt&&(E.BMQ("id",Te.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),E.AVh("mat-primary","primary"===Te.color)("mat-accent","accent"===Te.color)("mat-warn","warn"===Te.color)("mat-mdc-radio-checked",Te.checked)("mat-mdc-radio-disabled",Te.disabled)("mat-mdc-radio-disabled-interactive",Te.disabledInteractive)("_mat-animation-noopable",Te._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",E.L39],tabIndex:[2,"tabIndex","tabIndex",Re=>null==Re?0:(0,E.Udg)(Re)],checked:[2,"checked","checked",E.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",E.L39],required:[2,"required","required",E.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",E.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[E.GFd,E.aNF],ngContentSelectors:N,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(nt,Te){if(1&nt){const je=E.RV6();E.NAR(),E.j41(0,"div",2,0)(2,"div",3)(3,"div",4),E.bIt("click",function(Q){return E.eBV(je),E.Njj(Te._onTouchTargetClick(Q))}),E.k0s(),E.j41(4,"input",5,1),E.bIt("change",function(Q){return E.eBV(je),E.Njj(Te._onInputInteraction(Q))}),E.k0s(),E.j41(6,"div",6),E.nrm(7,"div",7)(8,"div",8),E.k0s(),E.j41(9,"div",9),E.nrm(10,"div",10),E.k0s()(),E.j41(11,"label",11),E.SdG(12),E.k0s()()}2&nt&&(E.Y8G("labelPosition",Te.labelPosition),E.R7$(2),E.AVh("mdc-radio--disabled",Te.disabled),E.R7$(2),E.Y8G("id",Te.inputId)("checked",Te.checked)("disabled",Te.disabled&&!Te.disabledInteractive)("required",Te.required),E.BMQ("name",Te.name)("value",Te.value)("aria-label",Te.ariaLabel)("aria-labelledby",Te.ariaLabelledby)("aria-describedby",Te.ariaDescribedby)("aria-disabled",Te.disabled&&Te.disabledInteractive?"true":null),E.R7$(5),E.Y8G("matRippleTrigger",Te._rippleTrigger.nativeElement)("matRippleDisabled",Te._isRippleDisabled())("matRippleCentered",!0),E.R7$(2),E.Y8G("for",Te.inputId))},dependencies:[S.r6,S.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return Pe})(),Qe=(()=>{class Pe{static#e=this.\u0275fac=function(nt){return new(nt||Pe)};static#t=this.\u0275mod=E.$C({type:Pe});static#n=this.\u0275inj=E.G2t({imports:[S.yE,C.MD,S.pZ,ke,S.yE]})}return Pe})()},5175:(dn,Je,_)=>{"use strict";_.d(Je,{$2:()=>nn,VO:()=>kn,Ve:()=>Ot});var h=_(1570),O=_(316),E=_(7404),A=_(5060),S=_(5944),C=_(4053),W=_(2139),L=_(3680),N=_(7989),z=_(4879),re=_(4456),q=_(3119),Z=_(6965),ee=_(7405),De=_(9273),Ee=_(1963),ke=_(8627),Qe=_(5443),Pe=_(6109),Ye=_(7464),Re=_(3602),nt=_(7172);const Te=["trigger"],je=["panel"],Xe=[[["mat-select-trigger"]],"*"],Q=["mat-select-trigger","*"];function rt(Ft,ft){if(1&Ft&&(E.j41(0,"span",4),E.EFF(1),E.k0s()),2&Ft){const Ae=E.XpG();E.R7$(),E.JRh(Ae.placeholder)}}function oe(Ft,ft){1&Ft&&E.SdG(0)}function ot(Ft,ft){if(1&Ft&&(E.j41(0,"span",11),E.EFF(1),E.k0s()),2&Ft){const Ae=E.XpG(2);E.R7$(),E.JRh(Ae.triggerValue)}}function bt(Ft,ft){if(1&Ft&&(E.j41(0,"span",5),E.DNE(1,oe,1,0)(2,ot,2,1,"span",11),E.k0s()),2&Ft){const Ae=E.XpG();E.R7$(),E.vxM(Ae.customTrigger?1:2)}}function Nt(Ft,ft){if(1&Ft){const Ae=E.RV6();E.j41(0,"div",12,1),E.bIt("@transformPanel.done",function(vt){E.eBV(Ae);const an=E.XpG();return E.Njj(an._panelDoneAnimatingStream.next(vt.toState))})("keydown",function(vt){E.eBV(Ae);const an=E.XpG();return E.Njj(an._handleKeydown(vt))}),E.SdG(2,1),E.k0s()}if(2&Ft){const Ae=E.XpG();E.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Ae._getPanelTheme(),""),E.Y8G("ngClass",Ae.panelClass)("@transformPanel","showing"),E.BMQ("id",Ae.id+"-panel")("aria-multiselectable",Ae.multiple)("aria-label",Ae.ariaLabel||null)("aria-labelledby",Ae._getPanelAriaLabelledby())}}const St={transformPanelWrap:(0,nt.hZ)("transformPanelWrap",[(0,nt.kY)("* => void",(0,nt.P)("@transformPanel",[(0,nt.MA)()],{optional:!0}))]),transformPanel:(0,nt.hZ)("transformPanel",[(0,nt.wk)("void",(0,nt.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,nt.kY)("void => showing",(0,nt.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,nt.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,nt.kY)("* => void",(0,nt.i0)("100ms linear",(0,nt.iF)({opacity:0})))])};let ve=0;const me=new E.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ft=(0,E.WQX)(h.hJ);return()=>Ft.scrollStrategies.reposition()}}),At=new E.nKC("MAT_SELECT_CONFIG"),Et={provide:me,deps:[h.hJ],useFactory:function Oe(Ft){return()=>Ft.scrollStrategies.reposition()}},En=new E.nKC("MatSelectTrigger");class Me{constructor(ft,Ae){this.source=ft,this.value=Ae}}let kn=(()=>{class Ft{_scrollOptionIntoView(Ae){const Ve=this.options.toArray()[Ae];if(Ve){const vt=this.panel.nativeElement,an=(0,A.jb)(Ae,this.options,this.optionGroups),Pt=Ve._getHostElement();vt.scrollTop=0===Ae&&1===an?0:(0,A.TL)(Pt.offsetTop,Pt.offsetHeight,vt.scrollTop,vt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Ae){return new Me(this,Ae)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Ae){this._hideSingleSelectionIndicator=Ae,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(Ae){this._placeholder=Ae,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(re.k0.required)??!1}set required(Ae){this._required=Ae,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Ae){this._multiple=Ae}get compareWith(){return this._compareWith}set compareWith(Ae){this._compareWith=Ae,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Ae){this._assignValue(Ae)&&this._onChange(Ae)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Ae){this._errorStateTracker.matcher=Ae}get id(){return this._id}set id(Ae){this._id=Ae||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(Ae){this._errorStateTracker.errorState=Ae}constructor(Ae,Ve,vt,an,Pt,yt,Jt,vn,wn,on,sn,de,tt,_e){this._viewportRuler=Ae,this._changeDetectorRef=Ve,this._elementRef=Pt,this._dir=yt,this._parentFormField=wn,this.ngControl=on,this._liveAnnouncer=tt,this._defaultOptions=_e,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ut,rn)=>ut===rn,this._uid="mat-select-"+ve++,this._triggerAriaLabelledBy=null,this._destroy=new q.B7,this.stateChanges=new q.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ve++,this._panelDoneAnimatingStream=new q.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new q.B7,this.optionSelectionChanges=(0,Z.v)(()=>{const ut=this.options;return ut?ut.changes.pipe((0,De.Z)(ut),(0,Ee.n)(()=>(0,ee.h)(...ut.map(rn=>rn.onSelectionChange)))):this._initialized.pipe((0,Ee.n)(()=>this.optionSelectionChanges))}),this.openedChange=new E.bkB,this._openedStream=this.openedChange.pipe((0,ke.p)(ut=>ut),(0,Qe.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,ke.p)(ut=>!ut),(0,Qe.T)(()=>{})),this.selectionChange=new E.bkB,this.valueChange=new E.bkB,this._trackedModal=null,this._skipPredicate=ut=>!this.panelOpen&&ut.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=_e?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=_e.typeaheadDebounceInterval),this._errorStateTracker=new A.X0(an,on,vn,Jt,this.stateChanges),this._scrollStrategyFactory=de,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(sn)||0,this.id=this.id}ngOnInit(){this._selectionModel=new N.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Pe.F)(),(0,Ye.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,Ye.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,Ye.Q)(this._destroy)).subscribe(Ae=>{Ae.added.forEach(Ve=>Ve.select()),Ae.removed.forEach(Ve=>Ve.deselect())}),this.options.changes.pipe((0,De.Z)(null),(0,Ye.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Ae=this._getTriggerAriaLabelledby(),Ve=this.ngControl;if(Ae!==this._triggerAriaLabelledBy){const vt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Ae,Ae?vt.setAttribute("aria-labelledby",Ae):vt.removeAttribute("aria-labelledby")}Ve&&(this._previousControl!==Ve.control&&(void 0!==this._previousControl&&null!==Ve.disabled&&Ve.disabled!==this.disabled&&(this.disabled=Ve.disabled),this._previousControl=Ve.control),this.updateErrorState())}ngOnChanges(Ae){(Ae.disabled||Ae.userAriaDescribedBy)&&this.stateChanges.next(),Ae.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const Ae=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Ae)return;const Ve=`${this.id}-panel`;this._trackedModal&&(0,W.Ae)(this._trackedModal,"aria-owns",Ve),(0,W.px)(Ae,"aria-owns",Ve),this._trackedModal=Ae}_clearFromModal(){this._trackedModal&&((0,W.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(Ae){this._assignValue(Ae)}registerOnChange(Ae){this._onChange=Ae}registerOnTouched(Ae){this._onTouched=Ae}setDisabledState(Ae){this.disabled=Ae,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Ae=this._selectionModel.selected.map(Ve=>Ve.viewValue);return this._isRtl()&&Ae.reverse(),Ae.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Ae){this.disabled||(this.panelOpen?this._handleOpenKeydown(Ae):this._handleClosedKeydown(Ae))}_handleClosedKeydown(Ae){const Ve=Ae.keyCode,vt=Ve===z.n6||Ve===z.i7||Ve===z.UQ||Ve===z.LE,an=Ve===z.Fm||Ve===z.t6,Pt=this._keyManager;if(!Pt.isTyping()&&an&&!(0,z.rp)(Ae)||(this.multiple||Ae.altKey)&&vt)Ae.preventDefault(),this.open();else if(!this.multiple){const yt=this.selected;Pt.onKeydown(Ae);const Jt=this.selected;Jt&&yt!==Jt&&this._liveAnnouncer.announce(Jt.viewValue,1e4)}}_handleOpenKeydown(Ae){const Ve=this._keyManager,vt=Ae.keyCode,an=vt===z.n6||vt===z.i7,Pt=Ve.isTyping();if(an&&Ae.altKey)Ae.preventDefault(),this.close();else if(Pt||vt!==z.Fm&&vt!==z.t6||!Ve.activeItem||(0,z.rp)(Ae))if(!Pt&&this._multiple&&vt===z.A&&Ae.ctrlKey){Ae.preventDefault();const yt=this.options.some(Jt=>!Jt.disabled&&!Jt.selected);this.options.forEach(Jt=>{Jt.disabled||(yt?Jt.select():Jt.deselect())})}else{const yt=Ve.activeItemIndex;Ve.onKeydown(Ae),this._multiple&&an&&Ae.shiftKey&&Ve.activeItem&&Ve.activeItemIndex!==yt&&Ve.activeItem._selectViaInteraction()}else Ae.preventDefault(),Ve.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Re.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Ae){if(this.options.forEach(Ve=>Ve.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Ae)Array.isArray(Ae),Ae.forEach(Ve=>this._selectOptionByValue(Ve)),this._sortValues();else{const Ve=this._selectOptionByValue(Ae);Ve?this._keyManager.updateActiveItem(Ve):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Ae){const Ve=this.options.find(vt=>{if(this._selectionModel.isSelected(vt))return!1;try{return null!=vt.value&&this._compareWith(vt.value,Ae)}catch{return!1}});return Ve&&this._selectionModel.select(Ve),Ve}_assignValue(Ae){return!!(Ae!==this._value||this._multiple&&Array.isArray(Ae))&&(this.options&&this._setSelectionByValue(Ae),this._value=Ae,!0)}_getOverlayWidth(Ae){return"auto"===this.panelWidth?(Ae instanceof h.$Q?Ae.elementRef:Ae||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const Ae of this.options)Ae._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new W.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Ae=(0,ee.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ye.Q)(Ae)).subscribe(Ve=>{this._onSelect(Ve.source,Ve.isUserInput),Ve.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ee.h)(...this.options.map(Ve=>Ve._stateChanges)).pipe((0,Ye.Q)(Ae)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Ae,Ve){const vt=this._selectionModel.isSelected(Ae);null!=Ae.value||this._multiple?(vt!==Ae.selected&&(Ae.selected?this._selectionModel.select(Ae):this._selectionModel.deselect(Ae)),Ve&&this._keyManager.setActiveItem(Ae),this.multiple&&(this._sortValues(),Ve&&this.focus())):(Ae.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Ae.value)),vt!==this._selectionModel.isSelected(Ae)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Ae=this.options.toArray();this._selectionModel.sort((Ve,vt)=>this.sortComparator?this.sortComparator(Ve,vt,Ae):Ae.indexOf(Ve)-Ae.indexOf(vt)),this.stateChanges.next()}}_propagateChanges(Ae){let Ve;Ve=this.multiple?this.selected.map(vt=>vt.value):this.selected?this.selected.value:Ae,this._value=Ve,this.valueChange.emit(Ve),this._onChange(Ve),this.selectionChange.emit(this._getChangeEvent(Ve)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Ae=-1;for(let Ve=0;Ve<this.options.length;Ve++)if(!this.options.get(Ve).disabled){Ae=Ve;break}this._keyManager.setActiveItem(Ae)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Ae){this._elementRef.nativeElement.focus(Ae)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Ae=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Ae?Ae+" ":"")+this.ariaLabelledby:Ae}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Ae=this._parentFormField?.getLabelId();let Ve=(Ae?Ae+" ":"")+this._valueId;return this.ariaLabelledby&&(Ve+=" "+this.ariaLabelledby),Ve}_panelDoneAnimating(Ae){this.openedChange.emit(Ae)}setDescribedByIds(Ae){Ae.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ae.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)(E.rXU(C.Xj),E.rXU(E.gRc),E.rXU(E.SKi),E.rXU(A.es),E.rXU(E.aKT),E.rXU(L.dS,8),E.rXU(re.cV,8),E.rXU(re.j4,8),E.rXU(S.xb,8),E.rXU(re.vO,10),E.kS0("tabindex"),E.rXU(me),E.rXU(W.Ai),E.rXU(At,8))};static#t=this.\u0275cmp=E.VBU({type:Ft,selectors:[["mat-select"]],contentQueries:function(Ve,vt,an){if(1&Ve&&(E.wni(an,En,5),E.wni(an,A.wT,5),E.wni(an,A.QC,5)),2&Ve){let Pt;E.mGM(Pt=E.lsd())&&(vt.customTrigger=Pt.first),E.mGM(Pt=E.lsd())&&(vt.options=Pt),E.mGM(Pt=E.lsd())&&(vt.optionGroups=Pt)}},viewQuery:function(Ve,vt){if(1&Ve&&(E.GBs(Te,5),E.GBs(je,5),E.GBs(h.WB,5)),2&Ve){let an;E.mGM(an=E.lsd())&&(vt.trigger=an.first),E.mGM(an=E.lsd())&&(vt.panel=an.first),E.mGM(an=E.lsd())&&(vt._overlayDir=an.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ve,vt){1&Ve&&E.bIt("keydown",function(Pt){return vt._handleKeydown(Pt)})("focus",function(){return vt._onFocus()})("blur",function(){return vt._onBlur()}),2&Ve&&(E.BMQ("id",vt.id)("tabindex",vt.disabled?-1:vt.tabIndex)("aria-controls",vt.panelOpen?vt.id+"-panel":null)("aria-expanded",vt.panelOpen)("aria-label",vt.ariaLabel||null)("aria-required",vt.required.toString())("aria-disabled",vt.disabled.toString())("aria-invalid",vt.errorState)("aria-activedescendant",vt._getAriaActiveDescendant()),E.AVh("mat-mdc-select-disabled",vt.disabled)("mat-mdc-select-invalid",vt.errorState)("mat-mdc-select-required",vt.required)("mat-mdc-select-empty",vt.empty)("mat-mdc-select-multiple",vt.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",E.L39],disableRipple:[2,"disableRipple","disableRipple",E.L39],tabIndex:[2,"tabIndex","tabIndex",Ae=>null==Ae?0:(0,E.Udg)(Ae)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",E.L39],placeholder:"placeholder",required:[2,"required","required",E.L39],multiple:[2,"multiple","multiple",E.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",E.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",E.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[E.Jv_([{provide:S.qT,useExisting:Ft},{provide:A.is,useExisting:Ft}]),E.GFd,E.OA$,E.aNF],ngContentSelectors:Q,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ve,vt){if(1&Ve){const an=E.RV6();E.NAR(Xe),E.j41(0,"div",2,0),E.bIt("click",function(){return E.eBV(an),E.Njj(vt.open())}),E.j41(3,"div",3),E.DNE(4,rt,2,1,"span",4)(5,bt,3,1,"span",5),E.k0s(),E.j41(6,"div",6)(7,"div",7),E.qSk(),E.j41(8,"svg",8),E.nrm(9,"path",9),E.k0s()()()(),E.DNE(10,Nt,3,9,"ng-template",10),E.bIt("backdropClick",function(){return E.eBV(an),E.Njj(vt.close())})("attach",function(){return E.eBV(an),E.Njj(vt._onAttached())})("detach",function(){return E.eBV(an),E.Njj(vt.close())})}if(2&Ve){const an=E.sdS(1);E.R7$(3),E.BMQ("id",vt._valueId),E.R7$(),E.vxM(vt.empty?4:5),E.R7$(6),E.Y8G("cdkConnectedOverlayPanelClass",vt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",vt._scrollStrategy)("cdkConnectedOverlayOrigin",vt._preferredOverlayOrigin||an)("cdkConnectedOverlayOpen",vt.panelOpen)("cdkConnectedOverlayPositions",vt._positions)("cdkConnectedOverlayWidth",vt._overlayWidth)}},dependencies:[h.$Q,h.WB,O.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[St.transformPanel]},changeDetection:0})}return Ft})(),nn=(()=>{class Ft{static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)};static#t=this.\u0275dir=E.FsC({type:Ft,selectors:[["mat-select-trigger"]],standalone:!0,features:[E.Jv_([{provide:En,useExisting:Ft}])]})}return Ft})(),Ot=(()=>{class Ft{static#e=this.\u0275fac=function(Ve){return new(Ve||Ft)};static#t=this.\u0275mod=E.$C({type:Ft});static#n=this.\u0275inj=E.G2t({providers:[Et],imports:[O.MD,h.z_,A.Sy,A.yE,C.Gj,S.RG,A.Sy,A.yE]})}return Ft})()},8827:(dn,Je,_)=>{"use strict";_.d(Je,{mV:()=>Ee,sG:()=>q});var h=_(7404),O=_(4456),E=_(2139),A=_(5060);const S=["switch"],C=["*"];function W(ke,Qe){1&ke&&(h.j41(0,"span",10),h.qSk(),h.j41(1,"svg",12),h.nrm(2,"path",13),h.k0s(),h.j41(3,"svg",14),h.nrm(4,"path",15),h.k0s()())}const L=new h.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),N={provide:O.kq,useExisting:(0,h.Rfq)(()=>q),multi:!0};class z{constructor(Qe,Pe){this.source=Qe,this.checked=Pe}}let re=0,q=(()=>{class ke{_createChangeEvent(Pe){return new z(this,Pe)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(Pe){this._checked=Pe,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Pe,Ye,Re,nt,Te,je){this._elementRef=Pe,this._focusMonitor=Ye,this._changeDetectorRef=Re,this.defaults=Te,this._onChange=Xe=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new h.bkB,this.toggleChange=new h.bkB,this.tabIndex=parseInt(nt)||0,this.color=Te.color||"accent",this._noopAnimations="NoopAnimations"===je,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++re,this.hideIcon=Te.hideIcon??!1,this.disabledInteractive=Te.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Pe=>{"keyboard"===Pe||"program"===Pe?(this._focused=!0,this._changeDetectorRef.markForCheck()):Pe||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(Pe){Pe.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(Pe){this.checked=!!Pe}registerOnChange(Pe){this._onChange=Pe}registerOnTouched(Pe){this._onTouched=Pe}validate(Pe){return this.required&&!0!==Pe.value?{required:!0}:null}registerOnValidatorChange(Pe){this._validatorOnChange=Pe}setDisabledState(Pe){this.disabled=Pe,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new z(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(Ye){return new(Ye||ke)(h.rXU(h.aKT),h.rXU(E.FN),h.rXU(h.gRc),h.kS0("tabindex"),h.rXU(L),h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:ke,selectors:[["mat-slide-toggle"]],viewQuery:function(Ye,Re){if(1&Ye&&h.GBs(S,5),2&Ye){let nt;h.mGM(nt=h.lsd())&&(Re._switchElement=nt.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(Ye,Re){2&Ye&&(h.Mr5("id",Re.id),h.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),h.HbH(Re.color?"mat-"+Re.color:""),h.AVh("mat-mdc-slide-toggle-focused",Re._focused)("mat-mdc-slide-toggle-checked",Re.checked)("_mat-animation-noopable",Re._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",h.L39],color:"color",disabled:[2,"disabled","disabled",h.L39],disableRipple:[2,"disableRipple","disableRipple",h.L39],tabIndex:[2,"tabIndex","tabIndex",Pe=>null==Pe?0:(0,h.Udg)(Pe)],checked:[2,"checked","checked",h.L39],hideIcon:[2,"hideIcon","hideIcon",h.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[h.Jv_([N,{provide:O.cz,useExisting:ke,multi:!0}]),h.GFd,h.OA$,h.aNF],ngContentSelectors:C,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(Ye,Re){if(1&Ye){const nt=h.RV6();h.NAR(),h.j41(0,"div",1)(1,"button",2,0),h.bIt("click",function(){return h.eBV(nt),h.Njj(Re._handleClick())}),h.nrm(3,"span",3),h.j41(4,"span",4)(5,"span",5)(6,"span",6),h.nrm(7,"span",7),h.k0s(),h.j41(8,"span",8),h.nrm(9,"span",9),h.k0s(),h.DNE(10,W,5,0,"span",10),h.k0s()()(),h.j41(11,"label",11),h.bIt("click",function(je){return h.eBV(nt),h.Njj(je.stopPropagation())}),h.SdG(12),h.k0s()()}if(2&Ye){const nt=h.sdS(2);h.Y8G("labelPosition",Re.labelPosition),h.R7$(),h.AVh("mdc-switch--selected",Re.checked)("mdc-switch--unselected",!Re.checked)("mdc-switch--checked",Re.checked)("mdc-switch--disabled",Re.disabled)("mat-mdc-slide-toggle-disabled-interactive",Re.disabledInteractive),h.Y8G("tabIndex",Re.disabled&&!Re.disabledInteractive?-1:Re.tabIndex)("disabled",Re.disabled&&!Re.disabledInteractive),h.BMQ("id",Re.buttonId)("name",Re.name)("aria-label",Re.ariaLabel)("aria-labelledby",Re._getAriaLabelledBy())("aria-describedby",Re.ariaDescribedby)("aria-required",Re.required||null)("aria-checked",Re.checked)("aria-disabled",Re.disabled&&Re.disabledInteractive?"true":null),h.R7$(8),h.Y8G("matRippleTrigger",nt)("matRippleDisabled",Re.disableRipple||Re.disabled)("matRippleCentered",!0),h.R7$(),h.vxM(Re.hideIcon?-1:10),h.R7$(),h.Y8G("for",Re.buttonId),h.BMQ("id",Re._labelId)}},dependencies:[A.r6,A.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return ke})(),Ee=(()=>{class ke{static#e=this.\u0275fac=function(Ye){return new(Ye||ke)};static#t=this.\u0275mod=h.$C({type:ke});static#n=this.\u0275inj=h.G2t({imports:[q,A.yE,A.yE]})}return ke})()},4992:(dn,Je,_)=>{"use strict";_.d(Je,{Ez:()=>Nt,IV:()=>je,OU:()=>ot});var h=_(3680),O=_(7699),E=_(7404),A=_(5060),S=_(4456),C=_(3119);const W=["knob"],L=["valueIndicatorContainer"];function N(St,$t){if(1&St&&(E.j41(0,"div",2,1)(2,"div",5)(3,"span",6),E.EFF(4),E.k0s()()()),2&St){const Ce=E.XpG();E.R7$(4),E.JRh(Ce.valueIndicatorText)}}const z=["trackActive"],re=["*"];function q(St,$t){if(1&St&&E.nrm(0,"div"),2&St){const Ce=$t.$implicit,ce=$t.$index,ve=E.XpG(3);E.HbH(0===Ce?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),E.xc7("transform",ve._calcTickMarkTransform(ce))}}function Z(St,$t){if(1&St&&E.Z7z(0,q,1,4,"div",8,E.Vm6),2&St){const Ce=E.XpG(2);E.Dyx(Ce._tickMarks)}}function ee(St,$t){if(1&St&&(E.j41(0,"div",6,1),E.DNE(2,Z,2,0),E.k0s()),2&St){const Ce=E.XpG();E.R7$(2),E.vxM(Ce._cachedWidth?2:-1)}}function De(St,$t){if(1&St&&E.nrm(0,"mat-slider-visual-thumb",7),2&St){const Ce=E.XpG();E.Y8G("discrete",Ce.discrete)("thumbPosition",1)("valueIndicatorText",Ce.startValueIndicatorText)}}var Ee=function(St){return St[St.START=1]="START",St[St.END=2]="END",St}(Ee||{}),ke=function(St){return St[St.ACTIVE=0]="ACTIVE",St[St.INACTIVE=1]="INACTIVE",St}(ke||{});const Qe=new E.nKC("_MatSlider"),Pe=new E.nKC("_MatSliderThumb"),Ye=new E.nKC("_MatSliderRangeThumb"),Re=new E.nKC("_MatSliderVisualThumb");let Te=(()=>{class St{constructor(Ce,ce,ve,me){this._cdr=Ce,this._ngZone=ce,this._slider=me,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,E.WQX)(O.OD),this._onPointerMove=Oe=>{if(this._sliderInput._isFocused)return;const At=this._hostElement.getBoundingClientRect(),Et=this._slider._isCursorOnSliderThumb(Oe,At);this._isHovered=Et,Et?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Oe=>{0===Oe.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=ve.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const Ce=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{Ce.addEventListener("pointermove",this._onPointerMove),Ce.addEventListener("pointerdown",this._onDragStart),Ce.addEventListener("pointerup",this._onDragEnd),Ce.addEventListener("pointerleave",this._onMouseLeave),Ce.addEventListener("focus",this._onFocus),Ce.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const Ce=this._sliderInputEl;Ce&&(Ce.removeEventListener("pointermove",this._onPointerMove),Ce.removeEventListener("pointerdown",this._onDragStart),Ce.removeEventListener("pointerup",this._onDragEnd),Ce.removeEventListener("pointerleave",this._onMouseLeave),Ce.removeEventListener("focus",this._onFocus),Ce.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(Ce){return Ce?.state===A.Ex.FADING_IN||Ce?.state===A.Ex.VISIBLE}_showRipple(Ce,ce){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Ee.START?Ee.END:Ee.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||ce))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:Ce,centered:!0,persistent:!0})}_hideRipple(Ce){if(Ce?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const ce=this._getSibling();ce._isShowingAnyRipple()||(this._hideValueIndicator(),ce._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Ee.START?Ee.END:Ee.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(ce){return new(ce||St)(E.rXU(E.gRc),E.rXU(E.SKi),E.rXU(E.aKT),E.rXU(Qe))};static#t=this.\u0275cmp=E.VBU({type:St,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(ce,ve){if(1&ce&&(E.GBs(A.r6,5),E.GBs(W,5),E.GBs(L,5)),2&ce){let me;E.mGM(me=E.lsd())&&(ve._ripple=me.first),E.mGM(me=E.lsd())&&(ve._knob=me.first),E.mGM(me=E.lsd())&&(ve._valueIndicatorContainer=me.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[E.Jv_([{provide:Re,useExisting:St}]),E.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(ce,ve){1&ce&&(E.DNE(0,N,5,1,"div",2),E.nrm(1,"div",3,0)(3,"div",4)),2&ce&&(E.vxM(ve.discrete?0:-1),E.R7$(3),E.Y8G("matRippleDisabled",!0))},dependencies:[A.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return St})(),je=(()=>{class St{get disabled(){return this._disabled}set disabled(Ce){this._disabled=Ce;const ce=this._getInput(Ee.END),ve=this._getInput(Ee.START);ce&&(ce.disabled=this._disabled),ve&&(ve.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(Ce){this._discrete=Ce,this._updateValueIndicatorUIs()}get min(){return this._min}set min(Ce){const ce=isNaN(Ce)?this._min:Ce;this._min!==ce&&this._updateMin(ce)}_updateMin(Ce){const ce=this._min;this._min=Ce,this._isRange?this._updateMinRange({old:ce,new:Ce}):this._updateMinNonRange(Ce),this._onMinMaxOrStepChange()}_updateMinRange(Ce){const ce=this._getInput(Ee.END),ve=this._getInput(Ee.START),me=ce.value,Oe=ve.value;ve.min=Ce.new,ce.min=Math.max(Ce.new,ve.value),ve.max=Math.min(ce.max,ce.value),ve._updateWidthInactive(),ce._updateWidthInactive(),Ce.new<Ce.old?this._onTranslateXChangeBySideEffect(ce,ve):this._onTranslateXChangeBySideEffect(ve,ce),me!==ce.value&&this._onValueChange(ce),Oe!==ve.value&&this._onValueChange(ve)}_updateMinNonRange(Ce){const ce=this._getInput(Ee.END);if(ce){const ve=ce.value;ce.min=Ce,ce._updateThumbUIByValue(),this._updateTrackUI(ce),ve!==ce.value&&this._onValueChange(ce)}}get max(){return this._max}set max(Ce){const ce=isNaN(Ce)?this._max:Ce;this._max!==ce&&this._updateMax(ce)}_updateMax(Ce){const ce=this._max;this._max=Ce,this._isRange?this._updateMaxRange({old:ce,new:Ce}):this._updateMaxNonRange(Ce),this._onMinMaxOrStepChange()}_updateMaxRange(Ce){const ce=this._getInput(Ee.END),ve=this._getInput(Ee.START),me=ce.value,Oe=ve.value;ce.max=Ce.new,ve.max=Math.min(Ce.new,ce.value),ce.min=ve.value,ce._updateWidthInactive(),ve._updateWidthInactive(),Ce.new>Ce.old?this._onTranslateXChangeBySideEffect(ve,ce):this._onTranslateXChangeBySideEffect(ce,ve),me!==ce.value&&this._onValueChange(ce),Oe!==ve.value&&this._onValueChange(ve)}_updateMaxNonRange(Ce){const ce=this._getInput(Ee.END);if(ce){const ve=ce.value;ce.max=Ce,ce._updateThumbUIByValue(),this._updateTrackUI(ce),ve!==ce.value&&this._onValueChange(ce)}}get step(){return this._step}set step(Ce){const ce=isNaN(Ce)?this._step:Ce;this._step!==ce&&this._updateStep(ce)}_updateStep(Ce){this._step=Ce,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const Ce=this._getInput(Ee.END),ce=this._getInput(Ee.START),ve=Ce.value,me=ce.value,Oe=ce.value;Ce.min=this._min,ce.max=this._max,Ce.step=this._step,ce.step=this._step,this._platform.SAFARI&&(Ce.value=Ce.value,ce.value=ce.value),Ce.min=Math.max(this._min,ce.value),ce.max=Math.min(this._max,Ce.value),ce._updateWidthInactive(),Ce._updateWidthInactive(),Ce.value<Oe?this._onTranslateXChangeBySideEffect(ce,Ce):this._onTranslateXChangeBySideEffect(Ce,ce),ve!==Ce.value&&this._onValueChange(Ce),me!==ce.value&&this._onValueChange(ce)}_updateStepNonRange(){const Ce=this._getInput(Ee.END);if(Ce){const ce=Ce.value;Ce.step=this._step,this._platform.SAFARI&&(Ce.value=Ce.value),Ce._updateThumbUIByValue(),ce!==Ce.value&&this._onValueChange(Ce)}}constructor(Ce,ce,ve,me,Oe,At){this._ngZone=Ce,this._cdr=ce,this._elementRef=ve,this._dir=me,this._globalRippleOptions=Oe,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Et=>`${Et}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,E.WQX)(O.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===At,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const Ce=this._getInput(Ee.END),ce=this._getInput(Ee.START);this._isRange=!!Ce&&!!ce,this._cdr.detectChanges();const ve=this._getThumb(Ee.END);this._rippleRadius=ve._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(Ce,ce):this._initUINonRange(Ce),this._updateTrackUI(Ce),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(Ce){Ce.initProps(),Ce.initUI(),this._updateValueIndicatorUI(Ce),this._hasViewInitialized=!0,Ce._updateThumbUIByValue()}_initUIRange(Ce,ce){Ce.initProps(),Ce.initUI(),ce.initProps(),ce.initUI(),Ce._updateMinMax(),ce._updateMinMax(),Ce._updateStaticStyles(),ce._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,Ce._updateThumbUIByValue(),ce._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const Ce=this._getInput(Ee.END),ce=this._getInput(Ee.START);Ce._setIsLeftThumb(),ce._setIsLeftThumb(),Ce.translateX=Ce._calcTranslateXByValue(),ce.translateX=ce._calcTranslateXByValue(),Ce._updateStaticStyles(),ce._updateStaticStyles(),Ce._updateWidthInactive(),ce._updateWidthInactive(),Ce._updateThumbUIByValue(),ce._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Ee.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Ee.START)._isActive||this._getThumb(Ee.END)._isActive}_getValue(Ce=Ee.END){const ce=this._getInput(Ce);return ce?ce.value:this.min}_skipUpdate(){return!(!this._getInput(Ee.START)?._skipUIUpdate&&!this._getInput(Ee.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(Ce){const ce=this._trackActive.nativeElement.style;ce.left=Ce.left,ce.right=Ce.right,ce.transformOrigin=Ce.transformOrigin,ce.transform=Ce.transform}_calcTickMarkTransform(Ce){return`translateX(${Ce*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(Ce){this._hasViewInitialized&&(this._updateThumbUI(Ce),this._updateTrackUI(Ce),this._updateOverlappingThumbUI(Ce))}_onTranslateXChangeBySideEffect(Ce,ce){this._hasViewInitialized&&(Ce._updateThumbUIByValue(),ce._updateThumbUIByValue())}_onValueChange(Ce){this._hasViewInitialized&&(this._updateValueIndicatorUI(Ce),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const Ce=this._getInput(Ee.END),ce=this._getInput(Ee.START);Ce._updateThumbUIByValue(),ce._updateThumbUIByValue(),Ce._updateStaticStyles(),ce._updateStaticStyles(),Ce._updateMinMax(),ce._updateMinMax(),Ce._updateWidthInactive(),ce._updateWidthInactive()}else{const Ce=this._getInput(Ee.END);Ce&&Ce._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const Ce=this._getInput(Ee.START),ce=this._getInput(Ee.END);return!(!Ce||!ce)&&ce.translateX-Ce.translateX<20}_updateOverlappingThumbClassNames(Ce){const ce=Ce.getSibling(),ve=this._getThumb(Ce.thumbPosition);this._getThumb(ce.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),ve._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(Ce){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(Ce))}_updateThumbUI(Ce){this._skipUpdate()||(this._getThumb(Ce.thumbPosition===Ee.END?Ee.END:Ee.START)._hostElement.style.transform=`translateX(${Ce.translateX}px)`)}_updateValueIndicatorUI(Ce){if(this._skipUpdate())return;const ce=this.displayWith(Ce.value);if(this._hasViewInitialized?Ce._valuetext.set(ce):Ce._hostElement.setAttribute("aria-valuetext",ce),this.discrete){Ce.thumbPosition===Ee.START?this.startValueIndicatorText=ce:this.endValueIndicatorText=ce;const ve=this._getThumb(Ce.thumbPosition);ce.length<3?ve._hostElement.classList.add("mdc-slider__thumb--short-value"):ve._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const Ce=this._getInput(Ee.END),ce=this._getInput(Ee.START);Ce&&this._updateValueIndicatorUI(Ce),ce&&this._updateValueIndicatorUI(ce)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const Ce=this._step&&this._step>0?this._step:1,ve=(Math.floor(this.max/Ce)*Ce-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*ve-6}_updateTrackUI(Ce){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(Ce):this._updateTrackUINonRange(Ce))}_updateTrackUIRange(Ce){const ce=Ce.getSibling();if(!ce||!this._cachedWidth)return;const ve=Math.abs(ce.translateX-Ce.translateX)/this._cachedWidth;this._setTrackActiveStyles(Ce._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-ce.translateX+"px",transformOrigin:"right",transform:`scaleX(${ve})`}:{left:`${ce.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${ve})`})}_updateTrackUINonRange(Ce){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-Ce.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${Ce.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const Ce=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(Ce):this._updateTickMarkUINonRange(Ce),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(Ce){const ce=this._getValue();let ve=Math.max(Math.round((ce-this.min)/Ce),0),me=Math.max(Math.round((this.max-ce)/Ce),0);this._isRtl?ve++:me++,this._tickMarks=Array(ve).fill(ke.ACTIVE).concat(Array(me).fill(ke.INACTIVE))}_updateTickMarkUIRange(Ce){const ce=this._getValue(),ve=this._getValue(Ee.START),me=Math.max(Math.round((ve-this.min)/Ce),0),Oe=Math.max(Math.round((ce-ve)/Ce)+1,0),At=Math.max(Math.round((this.max-ce)/Ce),0);this._tickMarks=Array(me).fill(ke.INACTIVE).concat(Array(Oe).fill(ke.ACTIVE),Array(At).fill(ke.INACTIVE))}_getInput(Ce){return Ce===Ee.END&&this._input?this._input:this._inputs?.length?Ce===Ee.START?this._inputs.first:this._inputs.last:void 0}_getThumb(Ce){return Ce===Ee.END?this._thumbs?.last:this._thumbs?.first}_setTransition(Ce){this._hasAnimation=!this._platform.IOS&&Ce&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(Ce,ce){const ve=ce.width/2,Et=Ce.clientY-(ce.y+ve);return Math.pow(Ce.clientX-(ce.x+ve),2)+Math.pow(Et,2)<Math.pow(ve,2)}static#e=this.\u0275fac=function(ce){return new(ce||St)(E.rXU(E.SKi),E.rXU(E.gRc),E.rXU(E.aKT),E.rXU(h.dS,8),E.rXU(A.$E,8),E.rXU(E.bc$,8))};static#t=this.\u0275cmp=E.VBU({type:St,selectors:[["mat-slider"]],contentQueries:function(ce,ve,me){if(1&ce&&(E.wni(me,Pe,5),E.wni(me,Ye,4)),2&ce){let Oe;E.mGM(Oe=E.lsd())&&(ve._input=Oe.first),E.mGM(Oe=E.lsd())&&(ve._inputs=Oe)}},viewQuery:function(ce,ve){if(1&ce&&(E.GBs(z,5),E.GBs(Re,5)),2&ce){let me;E.mGM(me=E.lsd())&&(ve._trackActive=me.first),E.mGM(me=E.lsd())&&(ve._thumbs=me)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(ce,ve){2&ce&&(E.HbH("mat-"+(ve.color||"primary")),E.AVh("mdc-slider--range",ve._isRange)("mdc-slider--disabled",ve.disabled)("mdc-slider--discrete",ve.discrete)("mdc-slider--tick-marks",ve.showTickMarks)("_mat-animation-noopable",ve._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",E.L39],discrete:[2,"discrete","discrete",E.L39],showTickMarks:[2,"showTickMarks","showTickMarks",E.L39],min:[2,"min","min",E.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",E.L39],max:[2,"max","max",E.Udg],step:[2,"step","step",E.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[E.Jv_([{provide:Qe,useExisting:St}]),E.GFd,E.aNF],ngContentSelectors:re,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(ce,ve){1&ce&&(E.NAR(),E.SdG(0),E.j41(1,"div",2),E.nrm(2,"div",3),E.j41(3,"div",4),E.nrm(4,"div",5,0),E.k0s(),E.DNE(6,ee,3,1,"div",6),E.k0s(),E.DNE(7,De,1,3,"mat-slider-visual-thumb",7),E.nrm(8,"mat-slider-visual-thumb",7)),2&ce&&(E.R7$(6),E.vxM(ve.showTickMarks?6:-1),E.R7$(),E.vxM(ve._isRange?7:-1),E.R7$(),E.Y8G("discrete",ve.discrete)("thumbPosition",2)("valueIndicatorText",ve.endValueIndicatorText))},dependencies:[Te],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return St})();const rt={provide:S.kq,useExisting:(0,E.Rfq)(()=>ot),multi:!0};let ot=(()=>{class St{get value(){return(0,E.Udg)(this._hostElement.value,0)}set value(Ce){const ce=(Ce=isNaN(Ce)?0:Ce)+"";this._hasSetInitialValue?this._isActive||this._setValue(ce):this._initialValue=ce}_setValue(Ce){this._hostElement.value=Ce,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(Ce){this._translateX=Ce}get min(){return(0,E.Udg)(this._hostElement.min,0)}set min(Ce){this._hostElement.min=Ce+"",this._cdr.detectChanges()}get max(){return(0,E.Udg)(this._hostElement.max,0)}set max(Ce){this._hostElement.max=Ce+"",this._cdr.detectChanges()}get step(){return(0,E.Udg)(this._hostElement.step,0)}set step(Ce){this._hostElement.step=Ce+"",this._cdr.detectChanges()}get disabled(){return(0,E.L39)(this._hostElement.disabled)}set disabled(Ce){this._hostElement.disabled=Ce,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(Ce){this._isFocused=Ce}constructor(Ce,ce,ve,me){this._ngZone=Ce,this._elementRef=ce,this._cdr=ve,this._slider=me,this.valueChange=new E.bkB,this.dragStart=new E.bkB,this.dragEnd=new E.bkB,this.thumbPosition=Ee.END,this._valuetext=(0,E.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new C.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,E.WQX)(O.OD),this._hostElement=ce.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(Ce){if(!this.disabled&&0===Ce.button){if(this._platform.IOS){const ce=this._slider._isCursorOnSliderThumb(Ce,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=ce,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(Ce,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(Ce),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(Ce){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(Ce)},0)}_fixValue(Ce){const ce=Ce.clientX-this._slider._cachedLeft,ve=this._slider._cachedWidth,me=0===this._slider.step?1:this._slider.step,Oe=Math.floor((this._slider.max-this._slider.min)/me),En=Math.round((this._slider._isRtl?1-ce/ve:ce/ve)*Oe)/Oe*(this._slider.max-this._slider.min)+this._slider.min,Me=Math.round(En/me)*me;if(Me===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(Ce,{withAnimation:this._slider._hasAnimation}));this.value=Me,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(Ce,{withAnimation:this._slider._hasAnimation})}_onPointerMove(Ce){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(Ce)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(Ce){const ce=this._tickMarkOffset;return Math.max(Math.min(Ce,this._slider._cachedWidth-this._tickMarkOffset),ce)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(Ce){return Ce.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(Ce){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(Ce)}_updateThumbUIByPointerEvent(Ce,ce){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(Ce)),this._updateThumbUI(ce)}_updateThumbUI(Ce){this._slider._setTransition(!!Ce?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(Ce){(this._isControlInitialized||null!==Ce)&&(this.value=Ce)}registerOnChange(Ce){this._onChangeFn=Ce,this._isControlInitialized=!0}registerOnTouched(Ce){this._onTouchedFn=Ce}setDisabledState(Ce){this.disabled=Ce}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(ce){return new(ce||St)(E.rXU(E.SKi),E.rXU(E.aKT),E.rXU(E.gRc),E.rXU(Qe))};static#t=this.\u0275dir=E.FsC({type:St,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(ce,ve){1&ce&&E.bIt("change",function(){return ve._onChange()})("input",function(){return ve._onInput()})("blur",function(){return ve._onBlur()})("focus",function(){return ve._onFocus()}),2&ce&&E.BMQ("aria-valuetext",ve._valuetext())},inputs:{value:[2,"value","value",E.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[E.Jv_([rt,{provide:Pe,useExisting:St}]),E.GFd]})}return St})(),Nt=(()=>{class St{static#e=this.\u0275fac=function(ce){return new(ce||St)};static#t=this.\u0275mod=E.$C({type:St});static#n=this.\u0275inj=E.G2t({imports:[A.yE,A.pZ]})}return St})()},3347:(dn,Je,_)=>{"use strict";_.d(Je,{UG:()=>ot,_T:()=>Nt});var h=_(7404),O=_(4175),E=_(3119),A=_(316),S=_(7172),C=_(9168),W=_(7699),L=_(2139),N=_(7912),z=_(1570),re=_(7464),q=_(5060);function Z(St,$t){if(1&St){const Ce=h.RV6();h.j41(0,"div",1)(1,"button",2),h.bIt("click",function(){h.eBV(Ce);const ve=h.XpG();return h.Njj(ve.action())}),h.EFF(2),h.k0s()()}if(2&St){const Ce=h.XpG();h.R7$(2),h.SpI(" ",Ce.data.action," ")}}const ee=["label"];function De(St,$t){}const Ee=Math.pow(2,31)-1;class ke{constructor($t,Ce){this._overlayRef=Ce,this._afterDismissed=new E.B7,this._afterOpened=new E.B7,this._onAction=new E.B7,this._dismissedByAction=!1,this.containerInstance=$t,$t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter($t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min($t,Ee))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Qe=new h.nKC("MatSnackBarData");class Pe{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Ye=(()=>{class St{static#e=this.\u0275fac=function(ce){return new(ce||St)};static#t=this.\u0275dir=h.FsC({type:St,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return St})(),Re=(()=>{class St{static#e=this.\u0275fac=function(ce){return new(ce||St)};static#t=this.\u0275dir=h.FsC({type:St,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return St})(),nt=(()=>{class St{static#e=this.\u0275fac=function(ce){return new(ce||St)};static#t=this.\u0275dir=h.FsC({type:St,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return St})(),Te=(()=>{class St{constructor(Ce,ce){this.snackBarRef=Ce,this.data=ce}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(ce){return new(ce||St)(h.rXU(ke),h.rXU(Qe))};static#t=this.\u0275cmp=h.VBU({type:St,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[h.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(ce,ve){1&ce&&(h.j41(0,"div",0),h.EFF(1),h.k0s(),h.DNE(2,Z,3,1,"div",1)),2&ce&&(h.R7$(),h.SpI(" ",ve.data.message,"\n"),h.R7$(),h.vxM(ve.hasAction?2:-1))},dependencies:[O.$z,Ye,Re,nt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return St})();const je={snackBarState:(0,S.hZ)("state",[(0,S.wk)("void, hidden",(0,S.iF)({transform:"scale(0.8)",opacity:0})),(0,S.wk)("visible",(0,S.iF)({transform:"scale(1)",opacity:1})),(0,S.kY)("* => visible",(0,S.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,S.kY)("* => void, * => hidden",(0,S.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,S.iF)({opacity:0})))])};let Xe=0,Q=(()=>{class St extends C.lb{constructor(Ce,ce,ve,me,Oe){super(),this._ngZone=Ce,this._elementRef=ce,this._changeDetectorRef=ve,this._platform=me,this.snackBarConfig=Oe,this._document=(0,h.WQX)(A.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new E.B7,this._onExit=new E.B7,this._onEnter=new E.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Xe++,this.attachDomPortal=At=>{this._assertNotAttached();const Et=this._portalOutlet.attachDomPortal(At);return this._afterPortalAttached(),Et},this._live="assertive"!==Oe.politeness||Oe.announcementMessage?"off"===Oe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ce){this._assertNotAttached();const ce=this._portalOutlet.attachComponentPortal(Ce);return this._afterPortalAttached(),ce}attachTemplatePortal(Ce){this._assertNotAttached();const ce=this._portalOutlet.attachTemplatePortal(Ce);return this._afterPortalAttached(),ce}onAnimationEnd(Ce){const{fromState:ce,toState:ve}=Ce;if(("void"===ve&&"void"!==ce||"hidden"===ve)&&this._completeExit(),"visible"===ve){const me=this._onEnter;this._ngZone.run(()=>{me.next(),me.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const Ce=this._elementRef.nativeElement,ce=this.snackBarConfig.panelClass;ce&&(Array.isArray(ce)?ce.forEach(Oe=>Ce.classList.add(Oe)):Ce.classList.add(ce)),this._exposeToModals();const ve=this._label.nativeElement,me="mdc-snackbar__label";ve.classList.toggle(me,!ve.querySelector(`.${me}`))}_exposeToModals(){const Ce=this._liveElementId,ce=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ve=0;ve<ce.length;ve++){const me=ce[ve],Oe=me.getAttribute("aria-owns");this._trackedModals.add(me),Oe?-1===Oe.indexOf(Ce)&&me.setAttribute("aria-owns",Oe+" "+Ce):me.setAttribute("aria-owns",Ce)}}_clearFromModals(){this._trackedModals.forEach(Ce=>{const ce=Ce.getAttribute("aria-owns");if(ce){const ve=ce.replace(this._liveElementId,"").trim();ve.length>0?Ce.setAttribute("aria-owns",ve):Ce.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ce=this._elementRef.nativeElement.querySelector("[aria-hidden]"),ce=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ce&&ce){let ve=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ce.contains(document.activeElement)&&(ve=document.activeElement),Ce.removeAttribute("aria-hidden"),ce.appendChild(Ce),ve?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(ce){return new(ce||St)(h.rXU(h.SKi),h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(W.OD),h.rXU(Pe))};static#t=this.\u0275cmp=h.VBU({type:St,selectors:[["mat-snack-bar-container"]],viewQuery:function(ce,ve){if(1&ce&&(h.GBs(C.I3,7),h.GBs(ee,7)),2&ce){let me;h.mGM(me=h.lsd())&&(ve._portalOutlet=me.first),h.mGM(me=h.lsd())&&(ve._label=me.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(ce,ve){1&ce&&h.Kam("@state.done",function(Oe){return ve.onAnimationEnd(Oe)}),2&ce&&h.zvX("@state",ve._animationState)},standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(ce,ve){1&ce&&(h.j41(0,"div",1)(1,"div",2,0)(3,"div",3),h.DNE(4,De,0,0,"ng-template",4),h.k0s(),h.nrm(5,"div"),h.k0s()()),2&ce&&(h.R7$(5),h.BMQ("aria-live",ve._live)("role",ve._role)("id",ve._liveElementId))},dependencies:[C.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[je.snackBarState]}})}return St})();const oe=new h.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function rt(){return new Pe}});let ot=(()=>{class St{get _openedSnackBarRef(){const Ce=this._parentSnackBar;return Ce?Ce._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ce){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ce:this._snackBarRefAtThisLevel=Ce}constructor(Ce,ce,ve,me,Oe,At){this._overlay=Ce,this._live=ce,this._injector=ve,this._breakpointObserver=me,this._parentSnackBar=Oe,this._defaultConfig=At,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Te,this.snackBarContainerComponent=Q,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(Ce,ce){return this._attach(Ce,ce)}openFromTemplate(Ce,ce){return this._attach(Ce,ce)}open(Ce,ce="",ve){const me={...this._defaultConfig,...ve};return me.data={message:Ce,action:ce},me.announcementMessage===Ce&&(me.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,me)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ce,ce){const me=h.zZn.create({parent:ce&&ce.viewContainerRef&&ce.viewContainerRef.injector||this._injector,providers:[{provide:Pe,useValue:ce}]}),Oe=new C.A8(this.snackBarContainerComponent,ce.viewContainerRef,me),At=Ce.attach(Oe);return At.instance.snackBarConfig=ce,At.instance}_attach(Ce,ce){const ve={...new Pe,...this._defaultConfig,...ce},me=this._createOverlay(ve),Oe=this._attachSnackBarContainer(me,ve),At=new ke(Oe,me);if(Ce instanceof h.C4Q){const Et=new C.VA(Ce,null,{$implicit:ve.data,snackBarRef:At});At.instance=Oe.attachTemplatePortal(Et)}else{const Et=this._createInjector(ve,At),En=new C.A8(Ce,void 0,Et),Me=Oe.attachComponentPortal(En);At.instance=Me.instance}return this._breakpointObserver.observe(N.Rp.HandsetPortrait).pipe((0,re.Q)(me.detachments())).subscribe(Et=>{me.overlayElement.classList.toggle(this.handsetCssClass,Et.matches)}),ve.announcementMessage&&Oe._onAnnounce.subscribe(()=>{this._live.announce(ve.announcementMessage,ve.politeness)}),this._animateSnackBar(At,ve),this._openedSnackBarRef=At,this._openedSnackBarRef}_animateSnackBar(Ce,ce){Ce.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ce&&(this._openedSnackBarRef=null),ce.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ce.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ce.containerInstance.enter(),ce.duration&&ce.duration>0&&Ce.afterOpened().subscribe(()=>Ce._dismissAfter(ce.duration))}_createOverlay(Ce){const ce=new z.rR;ce.direction=Ce.direction;let ve=this._overlay.position().global();const me="rtl"===Ce.direction,Oe="left"===Ce.horizontalPosition||"start"===Ce.horizontalPosition&&!me||"end"===Ce.horizontalPosition&&me,At=!Oe&&"center"!==Ce.horizontalPosition;return Oe?ve.left("0"):At?ve.right("0"):ve.centerHorizontally(),"top"===Ce.verticalPosition?ve.top("0"):ve.bottom("0"),ce.positionStrategy=ve,this._overlay.create(ce)}_createInjector(Ce,ce){return h.zZn.create({parent:Ce&&Ce.viewContainerRef&&Ce.viewContainerRef.injector||this._injector,providers:[{provide:ke,useValue:ce},{provide:Qe,useValue:Ce.data}]})}static#e=this.\u0275fac=function(ce){return new(ce||St)(h.KVO(z.hJ),h.KVO(L.Ai),h.KVO(h.zZn),h.KVO(N.QP),h.KVO(St,12),h.KVO(oe))};static#t=this.\u0275prov=h.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})(),Nt=(()=>{class St{static#e=this.\u0275fac=function(ce){return new(ce||St)};static#t=this.\u0275mod=h.$C({type:St});static#n=this.\u0275inj=h.G2t({providers:[ot],imports:[z.z_,C.jc,O.Hl,q.yE,Te,q.yE]})}return St})()},2047:(dn,Je,_)=>{"use strict";_.d(Je,{B4:()=>ke,NQ:()=>Xe,aE:()=>je});var h=_(7404),O=_(2139),E=_(4879),A=_(7675),S=_(3119),C=_(7405),W=_(7172),L=_(5060);const N=["mat-sort-header",""],z=["*"];function re(Q,rt){if(1&Q){const oe=h.RV6();h.j41(0,"div",2),h.bIt("@arrowPosition.start",function(){h.eBV(oe);const bt=h.XpG();return h.Njj(bt._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){h.eBV(oe);const bt=h.XpG();return h.Njj(bt._disableViewStateAnimation=!1)}),h.nrm(1,"div",3),h.j41(2,"div",4),h.nrm(3,"div",5)(4,"div",6)(5,"div",7),h.k0s()()}if(2&Q){const oe=h.XpG();h.Y8G("@arrowOpacity",oe._getArrowViewState())("@arrowPosition",oe._getArrowViewState())("@allowChildren",oe._getArrowDirectionState()),h.R7$(2),h.Y8G("@indicator",oe._getArrowDirectionState()),h.R7$(),h.Y8G("@leftPointer",oe._getArrowDirectionState()),h.R7$(),h.Y8G("@rightPointer",oe._getArrowDirectionState())}}const Ee=new h.nKC("MAT_SORT_DEFAULT_OPTIONS");let ke=(()=>{class Q{get direction(){return this._direction}set direction(oe){this._direction=oe}constructor(oe){this._defaultOptions=oe,this._initializedStream=new A.m(1),this.sortables=new Map,this._stateChanges=new S.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new h.bkB,this.initialized=this._initializedStream}register(oe){this.sortables.set(oe.id,oe)}deregister(oe){this.sortables.delete(oe.id)}sort(oe){this.active!=oe.id?(this.active=oe.id,this.direction=oe.start?oe.start:this.start):this.direction=this.getNextSortDirection(oe),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(oe){if(!oe)return"";let bt=function Qe(Q,rt){let oe=["asc","desc"];return"desc"==Q&&oe.reverse(),rt||oe.push(""),oe}(oe.start||this.start,oe?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),Nt=bt.indexOf(this.direction)+1;return Nt>=bt.length&&(Nt=0),bt[Nt]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(ot){return new(ot||Q)(h.rXU(Ee,8))};static#t=this.\u0275dir=h.FsC({type:Q,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",h.L39],disabled:[2,"matSortDisabled","disabled",h.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[h.GFd,h.OA$]})}return Q})();const Pe=L.ed.ENTERING+" "+L.r5.STANDARD_CURVE,Ye={indicator:(0,W.hZ)("indicator",[(0,W.wk)("active-asc, asc",(0,W.iF)({transform:"translateY(0px)"})),(0,W.wk)("active-desc, desc",(0,W.iF)({transform:"translateY(10px)"})),(0,W.kY)("active-asc <=> active-desc",(0,W.i0)(Pe))]),leftPointer:(0,W.hZ)("leftPointer",[(0,W.wk)("active-asc, asc",(0,W.iF)({transform:"rotate(-45deg)"})),(0,W.wk)("active-desc, desc",(0,W.iF)({transform:"rotate(45deg)"})),(0,W.kY)("active-asc <=> active-desc",(0,W.i0)(Pe))]),rightPointer:(0,W.hZ)("rightPointer",[(0,W.wk)("active-asc, asc",(0,W.iF)({transform:"rotate(45deg)"})),(0,W.wk)("active-desc, desc",(0,W.iF)({transform:"rotate(-45deg)"})),(0,W.kY)("active-asc <=> active-desc",(0,W.i0)(Pe))]),arrowOpacity:(0,W.hZ)("arrowOpacity",[(0,W.wk)("desc-to-active, asc-to-active, active",(0,W.iF)({opacity:1})),(0,W.wk)("desc-to-hint, asc-to-hint, hint",(0,W.iF)({opacity:.54})),(0,W.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,W.iF)({opacity:0})),(0,W.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,W.i0)("0ms")),(0,W.kY)("* <=> *",(0,W.i0)(Pe))]),arrowPosition:(0,W.hZ)("arrowPosition",[(0,W.kY)("* => desc-to-hint, * => desc-to-active",(0,W.i0)(Pe,(0,W.i7)([(0,W.iF)({transform:"translateY(-25%)"}),(0,W.iF)({transform:"translateY(0)"})]))),(0,W.kY)("* => hint-to-desc, * => active-to-desc",(0,W.i0)(Pe,(0,W.i7)([(0,W.iF)({transform:"translateY(0)"}),(0,W.iF)({transform:"translateY(25%)"})]))),(0,W.kY)("* => asc-to-hint, * => asc-to-active",(0,W.i0)(Pe,(0,W.i7)([(0,W.iF)({transform:"translateY(25%)"}),(0,W.iF)({transform:"translateY(0)"})]))),(0,W.kY)("* => hint-to-asc, * => active-to-asc",(0,W.i0)(Pe,(0,W.i7)([(0,W.iF)({transform:"translateY(0)"}),(0,W.iF)({transform:"translateY(-25%)"})]))),(0,W.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,W.iF)({transform:"translateY(0)"})),(0,W.wk)("hint-to-desc, active-to-desc, desc",(0,W.iF)({transform:"translateY(-25%)"})),(0,W.wk)("hint-to-asc, active-to-asc, asc",(0,W.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,W.hZ)("allowChildren",[(0,W.kY)("* <=> *",[(0,W.P)("@*",(0,W.MA)(),{optional:!0})])])};let Re=(()=>{class Q{constructor(){this.changes=new S.B7}static#e=this.\u0275fac=function(ot){return new(ot||Q)};static#t=this.\u0275prov=h.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();const Te={provide:Re,deps:[[new h.Xx1,new h.kdw,Re]],useFactory:function nt(Q){return Q||new Re}};let je=(()=>{class Q{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(oe){this._updateSortActionDescription(oe)}constructor(oe,ot,bt,Nt,St,$t,Ce,ce){this._intl=oe,this._changeDetectorRef=ot,this._sort=bt,this._columnDef=Nt,this._focusMonitor=St,this._elementRef=$t,this._ariaDescriber=Ce,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",ce?.arrowPosition&&(this.arrowPosition=ce?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(oe=>{const ot=!!oe;ot!==this._showIndicatorHint&&(this._setIndicatorHintVisible(ot),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(oe){this._isDisabled()&&oe||(this._showIndicatorHint=oe,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(oe){this._viewState=oe||{},this._disableViewStateAnimation&&(this._viewState={toState:oe.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(oe){!this._isDisabled()&&(oe.keyCode===E.t6||oe.keyCode===E.Fm)&&(oe.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const oe=this._viewState.fromState;return(oe?`${oe}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(oe){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,oe)),this._sortActionDescription=oe}_handleStateChanges(){this._rerenderSubscription=(0,C.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(ot){return new(ot||Q)(h.rXU(Re),h.rXU(h.gRc),h.rXU(ke,8),h.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),h.rXU(O.FN),h.rXU(h.aKT),h.rXU(O.vr,8),h.rXU(Ee,8))};static#t=this.\u0275cmp=h.VBU({type:Q,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(ot,bt){1&ot&&h.bIt("click",function(){return bt._handleClick()})("keydown",function(St){return bt._handleKeydown(St)})("mouseenter",function(){return bt._setIndicatorHintVisible(!0)})("mouseleave",function(){return bt._setIndicatorHintVisible(!1)}),2&ot&&(h.BMQ("aria-sort",bt._getAriaSortAttribute()),h.AVh("mat-sort-header-disabled",bt._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",h.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",h.L39]},exportAs:["matSortHeader"],standalone:!0,features:[h.GFd,h.aNF],attrs:N,ngContentSelectors:z,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(ot,bt){1&ot&&(h.NAR(),h.j41(0,"div",0)(1,"div",1),h.SdG(2),h.k0s(),h.DNE(3,re,6,6,"div",2),h.k0s()),2&ot&&(h.AVh("mat-sort-header-sorted",bt._isSorted())("mat-sort-header-position-before","before"===bt.arrowPosition),h.BMQ("tabindex",bt._isDisabled()?null:0)("role",bt._isDisabled()?null:"button"),h.R7$(3),h.vxM(bt._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Ye.indicator,Ye.leftPointer,Ye.rightPointer,Ye.arrowOpacity,Ye.arrowPosition,Ye.allowChildren]},changeDetection:0})}return Q})(),Xe=(()=>{class Q{static#e=this.\u0275fac=function(ot){return new(ot||Q)};static#t=this.\u0275mod=h.$C({type:Q});static#n=this.\u0275inj=h.G2t({providers:[Te],imports:[L.yE]})}return Q})()},7697:(dn,Je,_)=>{"use strict";_.d(Je,{I6:()=>At}),_(7404),_(198);var E=_(7989),A=_(521),S=_(3119),C=_(7405),W=_(1536),L=_(2175),N=_(2814),z=_(5443);class At extends E.qS{get data(){return this._data.value}set data(En){En=Array.isArray(En)?En:[],this._data.next(En),this._renderChangesSubscription||this._filterData(En)}get filter(){return this._filter.value}set filter(En){this._filter.next(En),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(En){this._sort=En,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(En){this._paginator=En,this._updateChangeSubscription()}constructor(En=[]){super(),this._renderData=new A.t([]),this._filter=new A.t(""),this._internalPageChanges=new S.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(Me,kn)=>{const nn=Me[kn];if((0,N.o1)(nn)){const Ot=Number(nn);return Ot<9007199254740991?Ot:nn}return nn},this.sortData=(Me,kn)=>{const nn=kn.active,Ot=kn.direction;return nn&&""!=Ot?Me.sort((Ft,ft)=>{let Ae=this.sortingDataAccessor(Ft,nn),Ve=this.sortingDataAccessor(ft,nn);const vt=typeof Ae,an=typeof Ve;vt!==an&&("number"===vt&&(Ae+=""),"number"===an&&(Ve+=""));let Pt=0;return null!=Ae&&null!=Ve?Ae>Ve?Pt=1:Ae<Ve&&(Pt=-1):null!=Ae?Pt=1:null!=Ve&&(Pt=-1),Pt*("asc"==Ot?1:-1)}):Me},this.filterPredicate=(Me,kn)=>{const nn=Object.keys(Me).reduce((Ft,ft)=>Ft+Me[ft]+"\u25ec","").toLowerCase(),Ot=kn.trim().toLowerCase();return-1!=nn.indexOf(Ot)},this._data=new A.t(En),this._updateChangeSubscription()}_updateChangeSubscription(){const En=this._sort?(0,C.h)(this._sort.sortChange,this._sort.initialized):(0,W.of)(null),Me=this._paginator?(0,C.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,W.of)(null),nn=(0,L.zV)([this._data,this._filter]).pipe((0,z.T)(([ft])=>this._filterData(ft))),Ot=(0,L.zV)([nn,En]).pipe((0,z.T)(([ft])=>this._orderData(ft))),Ft=(0,L.zV)([Ot,Me]).pipe((0,z.T)(([ft])=>this._pageData(ft)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Ft.subscribe(ft=>this._renderData.next(ft))}_filterData(En){return this.filteredData=null==this.filter||""===this.filter?En:En.filter(Me=>this.filterPredicate(Me,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(En){return this.sort?this.sortData(En.slice(),this.sort):En}_pageData(En){if(!this.paginator)return En;const Me=this.paginator.pageIndex*this.paginator.pageSize;return En.slice(Me,Me+this.paginator.pageSize)}_updatePaginator(En){Promise.resolve().then(()=>{const Me=this.paginator;if(Me&&(Me.length=En,Me.pageIndex>0)){const kn=Math.ceil(Me.length/Me.pageSize)-1||0,nn=Math.min(Me.pageIndex,kn);nn!==Me.pageIndex&&(Me.pageIndex=nn,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},640:(dn,Je,_)=>{"use strict";_.d(Je,{oV:()=>bt,uc:()=>$t});var h=_(7464),O=_(2814),E=_(4879),A=_(7404),S=_(316),C=_(7699),W=_(2139),L=_(3680),N=_(1570),z=_(4053),re=_(9168),q=_(3119),ee=(_(7172),_(5060));const De=["tooltip"],Qe=new A.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const Ce=(0,A.WQX)(N.hJ);return()=>Ce.scrollStrategies.reposition({scrollThrottle:20})}}),Ye={provide:Qe,deps:[N.hJ],useFactory:function Pe(Ce){return()=>Ce.scrollStrategies.reposition({scrollThrottle:20})}},nt=new A.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Re(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),je="tooltip-panel",Xe=(0,C.BQ)({passive:!0});let bt=(()=>{class Ce{get position(){return this._position}set position(ve){ve!==this._position&&(this._position=ve,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(ve){this._positionAtOrigin=(0,O.he)(ve),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(ve){const me=(0,O.he)(ve);this._disabled!==me&&(this._disabled=me,me?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(ve){this._showDelay=(0,O.OE)(ve)}get hideDelay(){return this._hideDelay}set hideDelay(ve){this._hideDelay=(0,O.OE)(ve),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ve){const me=this._message;this._message=null!=ve?String(ve).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(me)}get tooltipClass(){return this._tooltipClass}set tooltipClass(ve){this._tooltipClass=ve,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(ve,me,Oe,At,Et,En,Me,kn,nn,Ot,Ft,ft){this._overlay=ve,this._elementRef=me,this._scrollDispatcher=Oe,this._viewContainerRef=At,this._ngZone=Et,this._platform=En,this._ariaDescriber=Me,this._focusMonitor=kn,this._dir=Ot,this._defaultOptions=Ft,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Nt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new q.B7,this._injector=(0,A.WQX)(A.zZn),this._scrollStrategy=nn,this._document=ft,Ft&&(this._showDelay=Ft.showDelay,this._hideDelay=Ft.hideDelay,Ft.position&&(this.position=Ft.position),Ft.positionAtOrigin&&(this.positionAtOrigin=Ft.positionAtOrigin),Ft.touchGestures&&(this.touchGestures=Ft.touchGestures),Ft.tooltipClass&&(this.tooltipClass=Ft.tooltipClass)),Ot.change.pipe((0,h.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,h.Q)(this._destroyed)).subscribe(ve=>{ve?"keyboard"===ve&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ve=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([me,Oe])=>{ve.removeEventListener(me,Oe,Xe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ve,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ve)}show(ve=this.showDelay,me){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Oe=this._createOverlay(me);this._detach(),this._portal=this._portal||new re.A8(this._tooltipComponent,this._viewContainerRef);const At=this._tooltipInstance=Oe.attach(this._portal).instance;At._triggerElement=this._elementRef.nativeElement,At._mouseLeaveHideDelay=this._hideDelay,At.afterHidden().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),At.show(ve)}hide(ve=this.hideDelay){const me=this._tooltipInstance;me&&(me.isVisible()?me.hide(ve):(me._cancelPendingAnimations(),this._detach()))}toggle(ve){this._isTooltipVisible()?this.hide():this.show(void 0,ve)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(ve){if(this._overlayRef){const At=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!ve)&&At._origin instanceof A.aKT)return this._overlayRef;this._detach()}const me=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Oe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&ve||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(me);return Oe.positionChanges.pipe((0,h.Q)(this._destroyed)).subscribe(At=>{this._updateCurrentPositionClass(At.connectionPair),this._tooltipInstance&&At.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Oe,panelClass:`${this._cssClassPrefix}-${je}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,h.Q)(this._destroyed)).subscribe(At=>{this._isTooltipVisible()&&At.keyCode===E._f&&!(0,E.rp)(At)&&(At.preventDefault(),At.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ve){const me=ve.getConfig().positionStrategy,Oe=this._getOrigin(),At=this._getOverlayPosition();me.withPositions([this._addOffset({...Oe.main,...At.main}),this._addOffset({...Oe.fallback,...At.fallback})])}_addOffset(ve){const Oe=!this._dir||"ltr"==this._dir.value;return"top"===ve.originY?ve.offsetY=-8:"bottom"===ve.originY?ve.offsetY=8:"start"===ve.originX?ve.offsetX=Oe?-8:8:"end"===ve.originX&&(ve.offsetX=Oe?8:-8),ve}_getOrigin(){const ve=!this._dir||"ltr"==this._dir.value,me=this.position;let Oe;"above"==me||"below"==me?Oe={originX:"center",originY:"above"==me?"top":"bottom"}:"before"==me||"left"==me&&ve||"right"==me&&!ve?Oe={originX:"start",originY:"center"}:("after"==me||"right"==me&&ve||"left"==me&&!ve)&&(Oe={originX:"end",originY:"center"});const{x:At,y:Et}=this._invertPosition(Oe.originX,Oe.originY);return{main:Oe,fallback:{originX:At,originY:Et}}}_getOverlayPosition(){const ve=!this._dir||"ltr"==this._dir.value,me=this.position;let Oe;"above"==me?Oe={overlayX:"center",overlayY:"bottom"}:"below"==me?Oe={overlayX:"center",overlayY:"top"}:"before"==me||"left"==me&&ve||"right"==me&&!ve?Oe={overlayX:"end",overlayY:"center"}:("after"==me||"right"==me&&ve||"left"==me&&!ve)&&(Oe={overlayX:"start",overlayY:"center"});const{x:At,y:Et}=this._invertPosition(Oe.overlayX,Oe.overlayY);return{main:Oe,fallback:{overlayX:At,overlayY:Et}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,A.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(ve){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ve,this._tooltipInstance._markForCheck())}_invertPosition(ve,me){return"above"===this.position||"below"===this.position?"top"===me?me="bottom":"bottom"===me&&(me="top"):"end"===ve?ve="start":"start"===ve&&(ve="end"),{x:ve,y:me}}_updateCurrentPositionClass(ve){const{overlayY:me,originX:Oe,originY:At}=ve;let Et;if(Et="center"===me?this._dir&&"rtl"===this._dir.value?"end"===Oe?"left":"right":"start"===Oe?"left":"right":"bottom"===me&&"top"===At?"above":"below",Et!==this._currentPosition){const En=this._overlayRef;if(En){const Me=`${this._cssClassPrefix}-${je}-`;En.removePanelClass(Me+this._currentPosition),En.addPanelClass(Me+Et)}this._currentPosition=Et}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",ve=>{let me;this._setupPointerExitEventsIfNeeded(),void 0!==ve.x&&void 0!==ve.y&&(me=ve),this.show(void 0,me)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",ve=>{const me=ve.targetTouches?.[0],Oe=me?{x:me.clientX,y:me.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,Oe)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ve=[];if(this._platformSupportsMouseEvents())ve.push(["mouseleave",me=>{const Oe=me.relatedTarget;(!Oe||!this._overlayRef?.overlayElement.contains(Oe))&&this.hide()}],["wheel",me=>this._wheelListener(me)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const me=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ve.push(["touchend",me],["touchcancel",me])}this._addListeners(ve),this._passiveListeners.push(...ve)}_addListeners(ve){ve.forEach(([me,Oe])=>{this._elementRef.nativeElement.addEventListener(me,Oe,Xe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ve){if(this._isTooltipVisible()){const me=this._document.elementFromPoint(ve.clientX,ve.clientY),Oe=this._elementRef.nativeElement;me!==Oe&&!Oe.contains(me)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ve=this.touchGestures;if("off"!==ve){const me=this._elementRef.nativeElement,Oe=me.style;("on"===ve||"INPUT"!==me.nodeName&&"TEXTAREA"!==me.nodeName)&&(Oe.userSelect=Oe.msUserSelect=Oe.webkitUserSelect=Oe.MozUserSelect="none"),("on"===ve||!me.draggable)&&(Oe.webkitUserDrag="none"),Oe.touchAction="none",Oe.webkitTapHighlightColor="transparent"}}_syncAriaDescription(ve){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,ve,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(me){return new(me||Ce)(A.rXU(N.hJ),A.rXU(A.aKT),A.rXU(z.R),A.rXU(A.c1b),A.rXU(A.SKi),A.rXU(C.OD),A.rXU(W.vr),A.rXU(W.FN),A.rXU(Qe),A.rXU(L.dS),A.rXU(nt,8),A.rXU(S.qQ))};static#t=this.\u0275dir=A.FsC({type:Ce,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(me,Oe){2&me&&A.AVh("mat-mdc-tooltip-disabled",Oe.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return Ce})(),Nt=(()=>{class Ce{constructor(ve,me,Oe){this._changeDetectorRef=ve,this._elementRef=me,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new q.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Oe}show(ve){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ve)}hide(ve){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ve)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ve}){(!ve||!this._triggerElement.contains(ve))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const ve=this._elementRef.nativeElement.getBoundingClientRect();return ve.height>24&&ve.width>=200}_handleAnimationEnd({animationName:ve}){(ve===this._showAnimation||ve===this._hideAnimation)&&this._finalizeAnimation(ve===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(ve){ve?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ve){const me=this._tooltip.nativeElement,Oe=this._showAnimation,At=this._hideAnimation;if(me.classList.remove(ve?At:Oe),me.classList.add(ve?Oe:At),this._isVisible!==ve&&(this._isVisible=ve,this._changeDetectorRef.markForCheck()),ve&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Et=getComputedStyle(me);("0s"===Et.getPropertyValue("animation-duration")||"none"===Et.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ve&&this._onShow(),this._animationsDisabled&&(me.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ve))}static#e=this.\u0275fac=function(me){return new(me||Ce)(A.rXU(A.gRc),A.rXU(A.aKT),A.rXU(A.bc$,8))};static#t=this.\u0275cmp=A.VBU({type:Ce,selectors:[["mat-tooltip-component"]],viewQuery:function(me,Oe){if(1&me&&A.GBs(De,7),2&me){let At;A.mGM(At=A.lsd())&&(Oe._tooltip=At.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(me,Oe){1&me&&A.bIt("mouseleave",function(Et){return Oe._handleMouseLeave(Et)})},standalone:!0,features:[A.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(me,Oe){if(1&me){const At=A.RV6();A.j41(0,"div",1,0),A.bIt("animationend",function(En){return A.eBV(At),A.Njj(Oe._handleAnimationEnd(En))}),A.j41(2,"div",2),A.EFF(3),A.k0s()()}2&me&&(A.AVh("mdc-tooltip--multiline",Oe._isMultiline),A.Y8G("ngClass",Oe.tooltipClass),A.R7$(3),A.JRh(Oe.message))},dependencies:[S.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Ce})(),$t=(()=>{class Ce{static#e=this.\u0275fac=function(me){return new(me||Ce)};static#t=this.\u0275mod=A.$C({type:Ce});static#n=this.\u0275inj=A.G2t({providers:[Ye],imports:[W.Pd,S.MD,N.z_,ee.yE,ee.yE,z.Gj]})}return Ce})()},2552:(dn,Je,_)=>{"use strict";_.d(Je,{wb:()=>ao});var h=_(7404),O=_(436),E=_(7172);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */function S(Gt){return new h.wOt(3e3,!1)}function Me(Gt){switch(Gt.length){case 0:return new E.sf;case 1:return Gt[0];default:return new E.ui(Gt)}}function kn(Gt,ne,fe=new Map,B=new Map){const te=[],K=[];let We=-1,pt=null;if(ne.forEach(Fn=>{const ei=Fn.get("offset"),Vi=ei==We,vi=Vi&&pt||new Map;Fn.forEach((ws,xs)=>{let Yr=xs,mr=ws;if("offset"!==xs)switch(Yr=Gt.normalizePropertyName(Yr,te),mr){case E.FX:mr=fe.get(xs);break;case E.kp:mr=B.get(xs);break;default:mr=Gt.normalizeStyleValue(xs,Yr,mr,te)}vi.set(Yr,mr)}),Vi||K.push(vi),pt=vi,We=ei}),te.length)throw function ot(){return new h.wOt(3502,!1)}();return K}function nn(Gt,ne,fe,B){switch(ne){case"start":Gt.onStart(()=>B(fe&&Ot(fe,"start",Gt)));break;case"done":Gt.onDone(()=>B(fe&&Ot(fe,"done",Gt)));break;case"destroy":Gt.onDestroy(()=>B(fe&&Ot(fe,"destroy",Gt)))}}function Ot(Gt,ne,fe){const K=Ft(Gt.element,Gt.triggerName,Gt.fromState,Gt.toState,ne||Gt.phaseName,fe.totalTime??Gt.totalTime,!!fe.disabled),We=Gt._data;return null!=We&&(K._data=We),K}function Ft(Gt,ne,fe,B,te="",K=0,We){return{element:Gt,triggerName:ne,fromState:fe,toState:B,phaseName:te,totalTime:K,disabled:!!We}}function ft(Gt,ne,fe){let B=Gt.get(ne);return B||Gt.set(ne,B=fe),B}function Ae(Gt){const ne=Gt.indexOf(":");return[Gt.substring(1,ne),Gt.slice(ne+1)]}const Ve=typeof document>"u"?null:document.documentElement;function vt(Gt){const ne=Gt.parentNode||Gt.host||null;return ne===Ve?null:ne}let Pt=null,yt=!1;function on(Gt,ne){for(;ne;){if(ne===Gt)return!0;ne=vt(ne)}return!1}function sn(Gt,ne,fe){if(fe)return Array.from(Gt.querySelectorAll(ne));const B=Gt.querySelector(ne);return B?[B]:[]}let tt=(()=>{class Gt{validateStyleProperty(fe){return function Jt(Gt){Pt||(Pt=function wn(){return typeof document<"u"?document.body:null}()||{},yt=!!Pt.style&&"WebkitAppearance"in Pt.style);let ne=!0;return Pt.style&&!function an(Gt){return"ebkit"==Gt.substring(1,6)}(Gt)&&(ne=Gt in Pt.style,!ne&&yt&&(ne="Webkit"+Gt.charAt(0).toUpperCase()+Gt.slice(1)in Pt.style)),ne}(fe)}containsElement(fe,B){return on(fe,B)}getParentElement(fe){return vt(fe)}query(fe,B,te){return sn(fe,B,te)}computeStyle(fe,B,te){return te||""}animate(fe,B,te,K,We,pt=[],Fn){return new E.sf(te,K)}static#e=this.\u0275fac=function(B){return new(B||Gt)};static#t=this.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac})}return Gt})();class _e{static#e=this.NOOP=new tt}class ut{}const fn=1e3,mn="ng-enter",cn="ng-leave",wt="ng-trigger",Ht=".ng-trigger",Bt="ng-animating",An=".ng-animating";function Xn(Gt){if("number"==typeof Gt)return Gt;const ne=Gt.match(/^(-?[\.\d]+)(m?s)/);return!ne||ne.length<2?0:zi(parseFloat(ne[1]),ne[2])}function zi(Gt,ne){return"s"===ne?Gt*fn:Gt}function Vn(Gt,ne,fe){return Gt.hasOwnProperty("duration")?Gt:function ui(Gt,ne,fe){let te,K=0,We="";if("string"==typeof Gt){const pt=Gt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===pt)return ne.push(S()),{duration:0,delay:0,easing:""};te=zi(parseFloat(pt[1]),pt[2]);const Fn=pt[3];null!=Fn&&(K=zi(parseFloat(Fn),pt[4]));const ei=pt[5];ei&&(We=ei)}else te=Gt;if(!fe){let pt=!1,Fn=ne.length;te<0&&(ne.push(function C(){return new h.wOt(3100,!1)}()),pt=!0),K<0&&(ne.push(function W(){return new h.wOt(3101,!1)}()),pt=!0),pt&&ne.splice(Fn,0,S())}return{duration:te,delay:K,easing:We}}(Gt,ne,fe)}function jt(Gt,ne,fe){ne.forEach((B,te)=>{const K=we(te);fe&&!fe.has(te)&&fe.set(te,Gt.style[K]),Gt.style[K]=B})}function xt(Gt,ne){ne.forEach((fe,B)=>{const te=we(B);Gt.style[te]=""})}function qt(Gt){return Array.isArray(Gt)?1==Gt.length?Gt[0]:(0,E.K2)(Gt):Gt}const Kt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rn(Gt){let ne=[];if("string"==typeof Gt){let fe;for(;fe=Kt.exec(Gt);)ne.push(fe[1]);Kt.lastIndex=0}return ne}function Un(Gt,ne,fe){const B=`${Gt}`,te=B.replace(Kt,(K,We)=>{let pt=ne[We];return null==pt&&(fe.push(function N(){return new h.wOt(3003,!1)}()),pt=""),pt.toString()});return te==B?Gt:te}const dt=/-+([a-z0-9])/g;function we(Gt){return Gt.replace(dt,(...ne)=>ne[1].toUpperCase())}function be(Gt,ne,fe){switch(ne.type){case E.If.Trigger:return Gt.visitTrigger(ne,fe);case E.If.State:return Gt.visitState(ne,fe);case E.If.Transition:return Gt.visitTransition(ne,fe);case E.If.Sequence:return Gt.visitSequence(ne,fe);case E.If.Group:return Gt.visitGroup(ne,fe);case E.If.Animate:return Gt.visitAnimate(ne,fe);case E.If.Keyframes:return Gt.visitKeyframes(ne,fe);case E.If.Style:return Gt.visitStyle(ne,fe);case E.If.Reference:return Gt.visitReference(ne,fe);case E.If.AnimateChild:return Gt.visitAnimateChild(ne,fe);case E.If.AnimateRef:return Gt.visitAnimateRef(ne,fe);case E.If.Query:return Gt.visitQuery(ne,fe);case E.If.Stagger:return Gt.visitStagger(ne,fe);default:throw function z(){return new h.wOt(3004,!1)}()}}function ct(Gt,ne){return window.getComputedStyle(Gt)[ne]}const Ze=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mt extends ut{normalizePropertyName(ne,fe){return we(ne)}normalizeStyleValue(ne,fe,B,te){let K="";const We=B.toString().trim();if(Ze.has(fe)&&0!==B&&"0"!==B)if("number"==typeof B)K="px";else{const pt=B.match(/^[+-]?[\d\.]+([a-z]*)$/);pt&&0==pt[1].length&&te.push(function re(){return new h.wOt(3005,!1)}())}return We+K}}const br="*";const as=new Set(["true","1"]),ts=new Set(["false","0"]);function bs(Gt,ne){const fe=as.has(Gt)||ts.has(Gt),B=as.has(ne)||ts.has(ne);return(te,K)=>{let We=Gt==br||Gt==te,pt=ne==br||ne==K;return!We&&fe&&"boolean"==typeof te&&(We=te?as.has(Gt):ts.has(Gt)),!pt&&B&&"boolean"==typeof K&&(pt=K?as.has(ne):ts.has(ne)),We&&pt}}const ds=new RegExp("s*:selfs*,?","g");function lr(Gt,ne,fe,B){return new vr(Gt).build(ne,fe,B)}class vr{constructor(ne){this._driver=ne}build(ne,fe,B){const te=new He(fe);return this._resetContextStyleTimingState(te),be(this,qt(ne),te)}_resetContextStyleTimingState(ne){ne.currentQuerySelector="",ne.collectedStyles=new Map,ne.collectedStyles.set("",new Map),ne.currentTime=0}visitTrigger(ne,fe){let B=fe.queryCount=0,te=fe.depCount=0;const K=[],We=[];return"@"==ne.name.charAt(0)&&fe.errors.push(function q(){return new h.wOt(3006,!1)}()),ne.definitions.forEach(pt=>{if(this._resetContextStyleTimingState(fe),pt.type==E.If.State){const Fn=pt,ei=Fn.name;ei.toString().split(/\s*,\s*/).forEach(Vi=>{Fn.name=Vi,K.push(this.visitState(Fn,fe))}),Fn.name=ei}else if(pt.type==E.If.Transition){const Fn=this.visitTransition(pt,fe);B+=Fn.queryCount,te+=Fn.depCount,We.push(Fn)}else fe.errors.push(function Z(){return new h.wOt(3007,!1)}())}),{type:E.If.Trigger,name:ne.name,states:K,transitions:We,queryCount:B,depCount:te,options:null}}visitState(ne,fe){const B=this.visitStyle(ne.styles,fe),te=ne.options&&ne.options.params||null;if(B.containsDynamicStyles){const K=new Set,We=te||{};B.styles.forEach(pt=>{pt instanceof Map&&pt.forEach(Fn=>{Rn(Fn).forEach(ei=>{We.hasOwnProperty(ei)||K.add(ei)})})}),K.size&&fe.errors.push(function ee(){return new h.wOt(3008,!1)}(0,K.values()))}return{type:E.If.State,name:ne.name,style:B,options:te?{params:te}:null}}visitTransition(ne,fe){fe.queryCount=0,fe.depCount=0;const B=be(this,qt(ne.animation),fe),te=function Tr(Gt,ne){const fe=[];return"string"==typeof Gt?Gt.split(/\s*,\s*/).forEach(B=>function Hi(Gt,ne,fe){if(":"==Gt[0]){const Fn=function xr(Gt,ne){switch(Gt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(fe,B)=>parseFloat(B)>parseFloat(fe);case":decrement":return(fe,B)=>parseFloat(B)<parseFloat(fe);default:return ne.push(function Xe(){return new h.wOt(3016,!1)}()),"* => *"}}(Gt,fe);if("function"==typeof Fn)return void ne.push(Fn);Gt=Fn}const B=Gt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==B||B.length<4)return fe.push(function je(){return new h.wOt(3015,!1)}()),ne;const te=B[1],K=B[2],We=B[3];ne.push(bs(te,We)),"<"==K[0]&&(te!=br||We!=br)&&ne.push(bs(We,te))}(B,fe,ne)):fe.push(Gt),fe}(ne.expr,fe.errors);return{type:E.If.Transition,matchers:te,animation:B,queryCount:fe.queryCount,depCount:fe.depCount,options:Ke(ne.options)}}visitSequence(ne,fe){return{type:E.If.Sequence,steps:ne.steps.map(B=>be(this,B,fe)),options:Ke(ne.options)}}visitGroup(ne,fe){const B=fe.currentTime;let te=0;const K=ne.steps.map(We=>{fe.currentTime=B;const pt=be(this,We,fe);return te=Math.max(te,fe.currentTime),pt});return fe.currentTime=te,{type:E.If.Group,steps:K,options:Ke(ne.options)}}visitAnimate(ne,fe){const B=function H(Gt,ne){if(Gt.hasOwnProperty("duration"))return Gt;if("number"==typeof Gt)return ze(Vn(Gt,ne).duration,0,"");const fe=Gt;if(fe.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=ze(0,0,"");return K.dynamic=!0,K.strValue=fe,K}const te=Vn(fe,ne);return ze(te.duration,te.delay,te.easing)}(ne.timings,fe.errors);fe.currentAnimateTimings=B;let te,K=ne.styles?ne.styles:(0,E.iF)({});if(K.type==E.If.Keyframes)te=this.visitKeyframes(K,fe);else{let We=ne.styles,pt=!1;if(!We){pt=!0;const ei={};B.easing&&(ei.easing=B.easing),We=(0,E.iF)(ei)}fe.currentTime+=B.duration+B.delay;const Fn=this.visitStyle(We,fe);Fn.isEmptyStep=pt,te=Fn}return fe.currentAnimateTimings=null,{type:E.If.Animate,timings:B,style:te,options:null}}visitStyle(ne,fe){const B=this._makeStyleAst(ne,fe);return this._validateStyleAst(B,fe),B}_makeStyleAst(ne,fe){const B=[],te=Array.isArray(ne.styles)?ne.styles:[ne.styles];for(let pt of te)"string"==typeof pt?pt===E.kp?B.push(pt):fe.errors.push(new h.wOt(3002,!1)):B.push(new Map(Object.entries(pt)));let K=!1,We=null;return B.forEach(pt=>{if(pt instanceof Map&&(pt.has("easing")&&(We=pt.get("easing"),pt.delete("easing")),!K))for(let Fn of pt.values())if(Fn.toString().indexOf("{{")>=0){K=!0;break}}),{type:E.If.Style,styles:B,easing:We,offset:ne.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(ne,fe){const B=fe.currentAnimateTimings;let te=fe.currentTime,K=fe.currentTime;B&&K>0&&(K-=B.duration+B.delay),ne.styles.forEach(We=>{"string"!=typeof We&&We.forEach((pt,Fn)=>{const ei=fe.collectedStyles.get(fe.currentQuerySelector),Vi=ei.get(Fn);let vi=!0;Vi&&(K!=te&&K>=Vi.startTime&&te<=Vi.endTime&&(fe.errors.push(function ke(){return new h.wOt(3010,!1)}()),vi=!1),K=Vi.startTime),vi&&ei.set(Fn,{startTime:K,endTime:te}),fe.options&&function Lt(Gt,ne,fe){const B=ne.params||{},te=Rn(Gt);te.length&&te.forEach(K=>{B.hasOwnProperty(K)||fe.push(function L(){return new h.wOt(3001,!1)}())})}(pt,fe.options,fe.errors)})})}visitKeyframes(ne,fe){const B={type:E.If.Keyframes,styles:[],options:null};if(!fe.currentAnimateTimings)return fe.errors.push(function Qe(){return new h.wOt(3011,!1)}()),B;let K=0;const We=[];let pt=!1,Fn=!1,ei=0;const Vi=ne.steps.map(Li=>{const Xs=this._makeStyleAst(Li,fe);let ro=null!=Xs.offset?Xs.offset:function Rt(Gt){if("string"==typeof Gt)return null;let ne=null;if(Array.isArray(Gt))Gt.forEach(fe=>{if(fe instanceof Map&&fe.has("offset")){const B=fe;ne=parseFloat(B.get("offset")),B.delete("offset")}});else if(Gt instanceof Map&&Gt.has("offset")){const fe=Gt;ne=parseFloat(fe.get("offset")),fe.delete("offset")}return ne}(Xs.styles),Fo=0;return null!=ro&&(K++,Fo=Xs.offset=ro),Fn=Fn||Fo<0||Fo>1,pt=pt||Fo<ei,ei=Fo,We.push(Fo),Xs});Fn&&fe.errors.push(function Pe(){return new h.wOt(3012,!1)}()),pt&&fe.errors.push(function Ye(){return new h.wOt(3200,!1)}());const vi=ne.steps.length;let ws=0;K>0&&K<vi?fe.errors.push(function Re(){return new h.wOt(3202,!1)}()):0==K&&(ws=1/(vi-1));const xs=vi-1,Yr=fe.currentTime,mr=fe.currentAnimateTimings,Po=mr.duration;return Vi.forEach((Li,Xs)=>{const ro=ws>0?Xs==xs?1:ws*Xs:We[Xs],Fo=ro*Po;fe.currentTime=Yr+mr.delay+Fo,mr.duration=Fo,this._validateStyleAst(Li,fe),Li.offset=ro,B.styles.push(Li)}),B}visitReference(ne,fe){return{type:E.If.Reference,animation:be(this,qt(ne.animation),fe),options:Ke(ne.options)}}visitAnimateChild(ne,fe){return fe.depCount++,{type:E.If.AnimateChild,options:Ke(ne.options)}}visitAnimateRef(ne,fe){return{type:E.If.AnimateRef,animation:this.visitReference(ne.animation,fe),options:Ke(ne.options)}}visitQuery(ne,fe){const B=fe.currentQuerySelector,te=ne.options||{};fe.queryCount++,fe.currentQuery=ne;const[K,We]=function tr(Gt){const ne=!!Gt.split(/\s*,\s*/).find(fe=>":self"==fe);return ne&&(Gt=Gt.replace(ds,"")),Gt=Gt.replace(/@\*/g,Ht).replace(/@\w+/g,fe=>Ht+"-"+fe.slice(1)).replace(/:animating/g,An),[Gt,ne]}(ne.selector);fe.currentQuerySelector=B.length?B+" "+K:K,ft(fe.collectedStyles,fe.currentQuerySelector,new Map);const pt=be(this,qt(ne.animation),fe);return fe.currentQuery=null,fe.currentQuerySelector=B,{type:E.If.Query,selector:K,limit:te.limit||0,optional:!!te.optional,includeSelf:We,animation:pt,originalSelector:ne.selector,options:Ke(ne.options)}}visitStagger(ne,fe){fe.currentQuery||fe.errors.push(function nt(){return new h.wOt(3013,!1)}());const B="full"===ne.timings?{duration:0,delay:0,easing:"full"}:Vn(ne.timings,fe.errors,!0);return{type:E.If.Stagger,animation:be(this,qt(ne.animation),fe),timings:B,options:null}}}class He{constructor(ne){this.errors=ne,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ke(Gt){return Gt?(Gt={...Gt}).params&&(Gt.params=function xi(Gt){return Gt?{...Gt}:null}(Gt.params)):Gt={},Gt}function ze(Gt,ne,fe){return{duration:Gt,delay:ne,easing:fe}}function kt(Gt,ne,fe,B,te,K,We=null,pt=!1){return{type:1,element:Gt,keyframes:ne,preStyleProps:fe,postStyleProps:B,duration:te,delay:K,totalTime:te+K,easing:We,subTimeline:pt}}class Vt{constructor(){this._map=new Map}get(ne){return this._map.get(ne)||[]}append(ne,fe){let B=this._map.get(ne);B||this._map.set(ne,B=[]),B.push(...fe)}has(ne){return this._map.has(ne)}clear(){this._map.clear()}}const cr=new RegExp(":enter","g"),Jr=new RegExp(":leave","g");function is(Gt,ne,fe,B,te,K=new Map,We=new Map,pt,Fn,ei=[]){return(new Es).buildKeyframes(Gt,ne,fe,B,te,K,We,pt,Fn,ei)}class Es{buildKeyframes(ne,fe,B,te,K,We,pt,Fn,ei,Vi=[]){ei=ei||new Vt;const vi=new Gr(ne,fe,ei,te,K,Vi,[]);vi.options=Fn;const ws=Fn.delay?Xn(Fn.delay):0;vi.currentTimeline.delayNextStep(ws),vi.currentTimeline.setStyles([We],null,vi.errors,Fn),be(this,B,vi);const xs=vi.timelines.filter(Yr=>Yr.containsAnimation());if(xs.length&&pt.size){let Yr;for(let mr=xs.length-1;mr>=0;mr--){const Po=xs[mr];if(Po.element===fe){Yr=Po;break}}Yr&&!Yr.allowOnlyTimelineStyles()&&Yr.setStyles([pt],null,vi.errors,Fn)}return xs.length?xs.map(Yr=>Yr.buildKeyframes()):[kt(fe,[],[],[],0,ws,"",!1)]}visitTrigger(ne,fe){}visitState(ne,fe){}visitTransition(ne,fe){}visitAnimateChild(ne,fe){const B=fe.subInstructions.get(fe.element);if(B){const te=fe.createSubContext(ne.options),K=fe.currentTimeline.currentTime,We=this._visitSubInstructions(B,te,te.options);K!=We&&fe.transformIntoNewTimeline(We)}fe.previousNode=ne}visitAnimateRef(ne,fe){const B=fe.createSubContext(ne.options);B.transformIntoNewTimeline(),this._applyAnimationRefDelays([ne.options,ne.animation.options],fe,B),this.visitReference(ne.animation,B),fe.transformIntoNewTimeline(B.currentTimeline.currentTime),fe.previousNode=ne}_applyAnimationRefDelays(ne,fe,B){for(const te of ne){const K=te?.delay;if(K){const We="number"==typeof K?K:Xn(Un(K,te?.params??{},fe.errors));B.delayNextStep(We)}}}_visitSubInstructions(ne,fe,B){let K=fe.currentTimeline.currentTime;const We=null!=B.duration?Xn(B.duration):null,pt=null!=B.delay?Xn(B.delay):null;return 0!==We&&ne.forEach(Fn=>{const ei=fe.appendInstructionToTimeline(Fn,We,pt);K=Math.max(K,ei.duration+ei.delay)}),K}visitReference(ne,fe){fe.updateOptions(ne.options,!0),be(this,ne.animation,fe),fe.previousNode=ne}visitSequence(ne,fe){const B=fe.subContextCount;let te=fe;const K=ne.options;if(K&&(K.params||K.delay)&&(te=fe.createSubContext(K),te.transformIntoNewTimeline(),null!=K.delay)){te.previousNode.type==E.If.Style&&(te.currentTimeline.snapshotCurrentStyles(),te.previousNode=to);const We=Xn(K.delay);te.delayNextStep(We)}ne.steps.length&&(ne.steps.forEach(We=>be(this,We,te)),te.currentTimeline.applyStylesToKeyframe(),te.subContextCount>B&&te.transformIntoNewTimeline()),fe.previousNode=ne}visitGroup(ne,fe){const B=[];let te=fe.currentTimeline.currentTime;const K=ne.options&&ne.options.delay?Xn(ne.options.delay):0;ne.steps.forEach(We=>{const pt=fe.createSubContext(ne.options);K&&pt.delayNextStep(K),be(this,We,pt),te=Math.max(te,pt.currentTimeline.currentTime),B.push(pt.currentTimeline)}),B.forEach(We=>fe.currentTimeline.mergeTimelineCollectedStyles(We)),fe.transformIntoNewTimeline(te),fe.previousNode=ne}_visitTiming(ne,fe){if(ne.dynamic){const B=ne.strValue;return Vn(fe.params?Un(B,fe.params,fe.errors):B,fe.errors)}return{duration:ne.duration,delay:ne.delay,easing:ne.easing}}visitAnimate(ne,fe){const B=fe.currentAnimateTimings=this._visitTiming(ne.timings,fe),te=fe.currentTimeline;B.delay&&(fe.incrementTime(B.delay),te.snapshotCurrentStyles());const K=ne.style;K.type==E.If.Keyframes?this.visitKeyframes(K,fe):(fe.incrementTime(B.duration),this.visitStyle(K,fe),te.applyStylesToKeyframe()),fe.currentAnimateTimings=null,fe.previousNode=ne}visitStyle(ne,fe){const B=fe.currentTimeline,te=fe.currentAnimateTimings;!te&&B.hasCurrentStyleProperties()&&B.forwardFrame();const K=te&&te.easing||ne.easing;ne.isEmptyStep?B.applyEmptyStep(K):B.setStyles(ne.styles,K,fe.errors,fe.options),fe.previousNode=ne}visitKeyframes(ne,fe){const B=fe.currentAnimateTimings,te=fe.currentTimeline.duration,K=B.duration,pt=fe.createSubContext().currentTimeline;pt.easing=B.easing,ne.styles.forEach(Fn=>{pt.forwardTime((Fn.offset||0)*K),pt.setStyles(Fn.styles,Fn.easing,fe.errors,fe.options),pt.applyStylesToKeyframe()}),fe.currentTimeline.mergeTimelineCollectedStyles(pt),fe.transformIntoNewTimeline(te+K),fe.previousNode=ne}visitQuery(ne,fe){const B=fe.currentTimeline.currentTime,te=ne.options||{},K=te.delay?Xn(te.delay):0;K&&(fe.previousNode.type===E.If.Style||0==B&&fe.currentTimeline.hasCurrentStyleProperties())&&(fe.currentTimeline.snapshotCurrentStyles(),fe.previousNode=to);let We=B;const pt=fe.invokeQuery(ne.selector,ne.originalSelector,ne.limit,ne.includeSelf,!!te.optional,fe.errors);fe.currentQueryTotal=pt.length;let Fn=null;pt.forEach((ei,Vi)=>{fe.currentQueryIndex=Vi;const vi=fe.createSubContext(ne.options,ei);K&&vi.delayNextStep(K),ei===fe.element&&(Fn=vi.currentTimeline),be(this,ne.animation,vi),vi.currentTimeline.applyStylesToKeyframe(),We=Math.max(We,vi.currentTimeline.currentTime)}),fe.currentQueryIndex=0,fe.currentQueryTotal=0,fe.transformIntoNewTimeline(We),Fn&&(fe.currentTimeline.mergeTimelineCollectedStyles(Fn),fe.currentTimeline.snapshotCurrentStyles()),fe.previousNode=ne}visitStagger(ne,fe){const B=fe.parentContext,te=fe.currentTimeline,K=ne.timings,We=Math.abs(K.duration),pt=We*(fe.currentQueryTotal-1);let Fn=We*fe.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":Fn=pt-Fn;break;case"full":Fn=B.currentStaggerTime}const Vi=fe.currentTimeline;Fn&&Vi.delayNextStep(Fn);const vi=Vi.currentTime;be(this,ne.animation,fe),fe.previousNode=ne,B.currentStaggerTime=te.currentTime-vi+(te.startTime-B.currentTimeline.startTime)}}const to={};class Gr{constructor(ne,fe,B,te,K,We,pt,Fn){this._driver=ne,this.element=fe,this.subInstructions=B,this._enterClassName=te,this._leaveClassName=K,this.errors=We,this.timelines=pt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=to,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fn||new rs(this._driver,fe,0),pt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(ne,fe){if(!ne)return;const B=ne;let te=this.options;null!=B.duration&&(te.duration=Xn(B.duration)),null!=B.delay&&(te.delay=Xn(B.delay));const K=B.params;if(K){let We=te.params;We||(We=this.options.params={}),Object.keys(K).forEach(pt=>{(!fe||!We.hasOwnProperty(pt))&&(We[pt]=Un(K[pt],We,this.errors))})}}_copyOptions(){const ne={};if(this.options){const fe=this.options.params;if(fe){const B=ne.params={};Object.keys(fe).forEach(te=>{B[te]=fe[te]})}}return ne}createSubContext(ne=null,fe,B){const te=fe||this.element,K=new Gr(this._driver,te,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(te,B||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(ne),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(ne){return this.previousNode=to,this.currentTimeline=this.currentTimeline.fork(this.element,ne),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(ne,fe,B){const te={duration:fe??ne.duration,delay:this.currentTimeline.currentTime+(B??0)+ne.delay,easing:""},K=new gs(this._driver,ne.element,ne.keyframes,ne.preStyleProps,ne.postStyleProps,te,ne.stretchStartingKeyframe);return this.timelines.push(K),te}incrementTime(ne){this.currentTimeline.forwardTime(this.currentTimeline.duration+ne)}delayNextStep(ne){ne>0&&this.currentTimeline.delayNextStep(ne)}invokeQuery(ne,fe,B,te,K,We){let pt=[];if(te&&pt.push(this.element),ne.length>0){ne=(ne=ne.replace(cr,"."+this._enterClassName)).replace(Jr,"."+this._leaveClassName);let ei=this._driver.query(this.element,ne,1!=B);0!==B&&(ei=B<0?ei.slice(ei.length+B,ei.length):ei.slice(0,B)),pt.push(...ei)}return!K&&0==pt.length&&We.push(function Te(){return new h.wOt(3014,!1)}()),pt}}class rs{constructor(ne,fe,B,te){this._driver=ne,this.element=fe,this.startTime=B,this._elementTimelineStylesLookup=te,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(fe),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(fe,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(ne){const fe=1===this._keyframes.size&&this._pendingStyles.size;this.duration||fe?(this.forwardTime(this.currentTime+ne),fe&&this.snapshotCurrentStyles()):this.startTime+=ne}fork(ne,fe){return this.applyStylesToKeyframe(),new rs(this._driver,ne,fe||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(ne){this.applyStylesToKeyframe(),this.duration=ne,this._loadKeyframe()}_updateStyle(ne,fe){this._localTimelineStyles.set(ne,fe),this._globalTimelineStyles.set(ne,fe),this._styleSummary.set(ne,{time:this.currentTime,value:fe})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(ne){ne&&this._previousKeyframe.set("easing",ne);for(let[fe,B]of this._globalTimelineStyles)this._backFill.set(fe,B||E.kp),this._currentKeyframe.set(fe,E.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(ne,fe,B,te){fe&&this._previousKeyframe.set("easing",fe);const K=te&&te.params||{},We=function Ur(Gt,ne){const fe=new Map;let B;return Gt.forEach(te=>{if("*"===te){B??=ne.keys();for(let K of B)fe.set(K,E.kp)}else for(let[K,We]of te)fe.set(K,We)}),fe}(ne,this._globalTimelineStyles);for(let[pt,Fn]of We){const ei=Un(Fn,K,B);this._pendingStyles.set(pt,ei),this._localTimelineStyles.has(pt)||this._backFill.set(pt,this._globalTimelineStyles.get(pt)??E.kp),this._updateStyle(pt,ei)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((ne,fe)=>{this._currentKeyframe.set(fe,ne)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((ne,fe)=>{this._currentKeyframe.has(fe)||this._currentKeyframe.set(fe,ne)}))}snapshotCurrentStyles(){for(let[ne,fe]of this._localTimelineStyles)this._pendingStyles.set(ne,fe),this._updateStyle(ne,fe)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const ne=[];for(let fe in this._currentKeyframe)ne.push(fe);return ne}mergeTimelineCollectedStyles(ne){ne._styleSummary.forEach((fe,B)=>{const te=this._styleSummary.get(B);(!te||fe.time>te.time)&&this._updateStyle(B,fe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const ne=new Set,fe=new Set,B=1===this._keyframes.size&&0===this.duration;let te=[];this._keyframes.forEach((pt,Fn)=>{const ei=new Map([...this._backFill,...pt]);ei.forEach((Vi,vi)=>{Vi===E.FX?ne.add(vi):Vi===E.kp&&fe.add(vi)}),B||ei.set("offset",Fn/this.duration),te.push(ei)});const K=[...ne.values()],We=[...fe.values()];if(B){const pt=te[0],Fn=new Map(pt);pt.set("offset",0),Fn.set("offset",1),te=[pt,Fn]}return kt(this.element,te,K,We,this.duration,this.startTime,this.easing,!1)}}class gs extends rs{constructor(ne,fe,B,te,K,We,pt=!1){super(ne,fe,We.delay),this.keyframes=B,this.preStyleProps=te,this.postStyleProps=K,this._stretchStartingKeyframe=pt,this.timings={duration:We.duration,delay:We.delay,easing:We.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let ne=this.keyframes,{delay:fe,duration:B,easing:te}=this.timings;if(this._stretchStartingKeyframe&&fe){const K=[],We=B+fe,pt=fe/We,Fn=new Map(ne[0]);Fn.set("offset",0),K.push(Fn);const ei=new Map(ne[0]);ei.set("offset",Bo(pt)),K.push(ei);const Vi=ne.length-1;for(let vi=1;vi<=Vi;vi++){let ws=new Map(ne[vi]);const xs=ws.get("offset");ws.set("offset",Bo((fe+xs*B)/We)),K.push(ws)}B=We,fe=0,te="",ne=K}return kt(this.element,ne,this.preStyleProps,this.postStyleProps,B,fe,te,!0)}}function Bo(Gt,ne=3){const fe=Math.pow(10,ne-1);return Math.round(Gt*fe)/fe}function Go(Gt,ne,fe,B,te,K,We,pt,Fn,ei,Vi,vi,ws){return{type:0,element:Gt,triggerName:ne,isRemovalTransition:te,fromState:fe,fromStyles:K,toState:B,toStyles:We,timelines:pt,queriedElements:Fn,preStyleProps:ei,postStyleProps:Vi,totalTime:vi,errors:ws}}const wo={};class Ko{constructor(ne,fe,B){this._triggerName=ne,this.ast=fe,this._stateStyles=B}match(ne,fe,B,te){return function $a(Gt,ne,fe,B,te){return Gt.some(K=>K(ne,fe,B,te))}(this.ast.matchers,ne,fe,B,te)}buildStyles(ne,fe,B){let te=this._stateStyles.get("*");return void 0!==ne&&(te=this._stateStyles.get(ne?.toString())||te),te?te.buildStyles(fe,B):new Map}build(ne,fe,B,te,K,We,pt,Fn,ei,Vi){const vi=[],ws=this.ast.options&&this.ast.options.params||wo,Yr=this.buildStyles(B,pt&&pt.params||wo,vi),mr=Fn&&Fn.params||wo,Po=this.buildStyles(te,mr,vi),Li=new Set,Xs=new Map,ro=new Map,Fo="void"===te,za={params:qa(mr,ws),delay:this.ast.options?.delay},al=Vi?[]:is(ne,fe,this.ast.animation,K,We,Yr,Po,za,ei,vi);let I=0;return al.forEach(Ct=>{I=Math.max(Ct.duration+Ct.delay,I)}),vi.length?Go(fe,this._triggerName,B,te,Fo,Yr,Po,[],[],Xs,ro,I,vi):(al.forEach(Ct=>{const Xt=Ct.element,_n=ft(Xs,Xt,new Set);Ct.preStyleProps.forEach(Hn=>_n.add(Hn));const ln=ft(ro,Xt,new Set);Ct.postStyleProps.forEach(Hn=>ln.add(Hn)),Xt!==fe&&Li.add(Xt)}),Go(fe,this._triggerName,B,te,Fo,Yr,Po,al,[...Li.values()],Xs,ro,I))}}function qa(Gt,ne){const fe={...ne};return Object.entries(Gt).forEach(([B,te])=>{null!=te&&(fe[B]=te)}),fe}class Jo{constructor(ne,fe,B){this.styles=ne,this.defaultParams=fe,this.normalizer=B}buildStyles(ne,fe){const B=new Map,te=qa(ne,this.defaultParams);return this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((We,pt)=>{We&&(We=Un(We,te,fe));const Fn=this.normalizer.normalizePropertyName(pt,fe);We=this.normalizer.normalizeStyleValue(pt,Fn,We,fe),B.set(pt,We)})}),B}}class Ba{constructor(ne,fe,B){this.name=ne,this.ast=fe,this._normalizer=B,this.transitionFactories=[],this.states=new Map,fe.states.forEach(te=>{this.states.set(te.name,new Jo(te.style,te.options&&te.options.params||{},B))}),aa(this.states,"true","1"),aa(this.states,"false","0"),fe.transitions.forEach(te=>{this.transitionFactories.push(new Ko(ne,te,this.states))}),this.fallbackTransition=function Gl(Gt,ne){return new Ko(Gt,{type:E.If.Transition,animation:{type:E.If.Sequence,steps:[],options:null},matchers:[(We,pt)=>!0],options:null,queryCount:0,depCount:0},ne)}(ne,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(ne,fe,B,te){return this.transitionFactories.find(We=>We.match(ne,fe,B,te))||null}matchStyles(ne,fe,B){return this.fallbackTransition.buildStyles(ne,fe,B)}}function aa(Gt,ne,fe){Gt.has(ne)?Gt.has(fe)||Gt.set(fe,Gt.get(ne)):Gt.has(fe)&&Gt.set(ne,Gt.get(fe))}const ra=new Vt;class xa{constructor(ne,fe,B){this.bodyNode=ne,this._driver=fe,this._normalizer=B,this._animations=new Map,this._playersById=new Map,this.players=[]}register(ne,fe){const B=[],K=lr(this._driver,fe,B,[]);if(B.length)throw function bt(){return new h.wOt(3503,!1)}();this._animations.set(ne,K)}_buildPlayer(ne,fe,B){const te=ne.element,K=kn(this._normalizer,ne.keyframes,fe,B);return this._driver.animate(te,K,ne.duration,ne.delay,ne.easing,[],!0)}create(ne,fe,B={}){const te=[],K=this._animations.get(ne);let We;const pt=new Map;if(K?(We=is(this._driver,fe,K,mn,cn,new Map,new Map,B,ra,te),We.forEach(Vi=>{const vi=ft(pt,Vi.element,new Map);Vi.postStyleProps.forEach(ws=>vi.set(ws,null))})):(te.push(function Nt(){return new h.wOt(3300,!1)}()),We=[]),te.length)throw function St(){return new h.wOt(3504,!1)}();pt.forEach((Vi,vi)=>{Vi.forEach((ws,xs)=>{Vi.set(xs,this._driver.computeStyle(vi,xs,E.kp))})});const ei=Me(We.map(Vi=>{const vi=pt.get(Vi.element);return this._buildPlayer(Vi,new Map,vi)}));return this._playersById.set(ne,ei),ei.onDestroy(()=>this.destroy(ne)),this.players.push(ei),ei}destroy(ne){const fe=this._getPlayer(ne);fe.destroy(),this._playersById.delete(ne);const B=this.players.indexOf(fe);B>=0&&this.players.splice(B,1)}_getPlayer(ne){const fe=this._playersById.get(ne);if(!fe)throw function $t(){return new h.wOt(3301,!1)}();return fe}listen(ne,fe,B,te){const K=Ft(fe,"","","");return nn(this._getPlayer(ne),B,K,te),()=>{}}command(ne,fe,B,te){if("register"==B)return void this.register(ne,te[0]);if("create"==B)return void this.create(ne,fe,te[0]||{});const K=this._getPlayer(ne);switch(B){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(te[0]));break;case"destroy":this.destroy(ne)}}}const Kl="ng-animate-queued",Va="ng-animate-disabled",Zs=[],Vl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ga={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ue="__ng_removed";class Wt{get params(){return this.options.params}constructor(ne,fe=""){this.namespaceId=fe;const B=ne&&ne.hasOwnProperty("value");if(this.value=function Vs(Gt){return Gt??null}(B?ne.value:ne),B){const{value:K,...We}=ne;this.options=We}else this.options={};this.options.params||(this.options.params={})}absorbOptions(ne){const fe=ne.params;if(fe){const B=this.options.params;Object.keys(fe).forEach(te=>{null==B[te]&&(B[te]=fe[te])})}}}const In="void",fi=new Wt(In);class Nr{constructor(ne,fe,B){this.id=ne,this.hostElement=fe,this._engine=B,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+ne,vs(fe,this._hostClassName)}listen(ne,fe,B,te){if(!this._triggers.has(fe))throw function Ce(){return new h.wOt(3302,!1)}();if(null==B||0==B.length)throw function ce(){return new h.wOt(3303,!1)}();if(!function ho(Gt){return"start"==Gt||"done"==Gt}(B))throw function ve(){return new h.wOt(3400,!1)}();const K=ft(this._elementListeners,ne,[]),We={name:fe,phase:B,callback:te};K.push(We);const pt=ft(this._engine.statesByElement,ne,new Map);return pt.has(fe)||(vs(ne,wt),vs(ne,wt+"-"+fe),pt.set(fe,fi)),()=>{this._engine.afterFlush(()=>{const Fn=K.indexOf(We);Fn>=0&&K.splice(Fn,1),this._triggers.has(fe)||pt.delete(fe)})}}register(ne,fe){return!this._triggers.has(ne)&&(this._triggers.set(ne,fe),!0)}_getTrigger(ne){const fe=this._triggers.get(ne);if(!fe)throw function me(){return new h.wOt(3401,!1)}();return fe}trigger(ne,fe,B,te=!0){const K=this._getTrigger(fe),We=new Wr(this.id,fe,ne);let pt=this._engine.statesByElement.get(ne);pt||(vs(ne,wt),vs(ne,wt+"-"+fe),this._engine.statesByElement.set(ne,pt=new Map));let Fn=pt.get(fe);const ei=new Wt(B,this.id);if(!(B&&B.hasOwnProperty("value"))&&Fn&&ei.absorbOptions(Fn.options),pt.set(fe,ei),Fn||(Fn=fi),ei.value!==In&&Fn.value===ei.value){if(!function Xo(Gt,ne){const fe=Object.keys(Gt),B=Object.keys(ne);if(fe.length!=B.length)return!1;for(let te=0;te<fe.length;te++){const K=fe[te];if(!ne.hasOwnProperty(K)||Gt[K]!==ne[K])return!1}return!0}(Fn.params,ei.params)){const mr=[],Po=K.matchStyles(Fn.value,Fn.params,mr),Li=K.matchStyles(ei.value,ei.params,mr);mr.length?this._engine.reportError(mr):this._engine.afterFlush(()=>{xt(ne,Po),jt(ne,Li)})}return}const ws=ft(this._engine.playersByElement,ne,[]);ws.forEach(mr=>{mr.namespaceId==this.id&&mr.triggerName==fe&&mr.queued&&mr.destroy()});let xs=K.matchTransition(Fn.value,ei.value,ne,ei.params),Yr=!1;if(!xs){if(!te)return;xs=K.fallbackTransition,Yr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:ne,triggerName:fe,transition:xs,fromState:Fn,toState:ei,player:We,isFallbackTransition:Yr}),Yr||(vs(ne,Kl),We.onStart(()=>{sa(ne,Kl)})),We.onDone(()=>{let mr=this.players.indexOf(We);mr>=0&&this.players.splice(mr,1);const Po=this._engine.playersByElement.get(ne);if(Po){let Li=Po.indexOf(We);Li>=0&&Po.splice(Li,1)}}),this.players.push(We),ws.push(We),We}deregister(ne){this._triggers.delete(ne),this._engine.statesByElement.forEach(fe=>fe.delete(ne)),this._elementListeners.forEach((fe,B)=>{this._elementListeners.set(B,fe.filter(te=>te.name!=ne))})}clearElementCache(ne){this._engine.statesByElement.delete(ne),this._elementListeners.delete(ne);const fe=this._engine.playersByElement.get(ne);fe&&(fe.forEach(B=>B.destroy()),this._engine.playersByElement.delete(ne))}_signalRemovalForInnerTriggers(ne,fe){const B=this._engine.driver.query(ne,Ht,!0);B.forEach(te=>{if(te[Ue])return;const K=this._engine.fetchNamespacesByElement(te);K.size?K.forEach(We=>We.triggerLeaveAnimation(te,fe,!1,!0)):this.clearElementCache(te)}),this._engine.afterFlushAnimationsDone(()=>B.forEach(te=>this.clearElementCache(te)))}triggerLeaveAnimation(ne,fe,B,te){const K=this._engine.statesByElement.get(ne),We=new Map;if(K){const pt=[];if(K.forEach((Fn,ei)=>{if(We.set(ei,Fn.value),this._triggers.has(ei)){const Vi=this.trigger(ne,ei,In,te);Vi&&pt.push(Vi)}}),pt.length)return this._engine.markElementAsRemoved(this.id,ne,!0,fe,We),B&&Me(pt).onDone(()=>this._engine.processLeaveNode(ne)),!0}return!1}prepareLeaveAnimationListeners(ne){const fe=this._elementListeners.get(ne),B=this._engine.statesByElement.get(ne);if(fe&&B){const te=new Set;fe.forEach(K=>{const We=K.name;if(te.has(We))return;te.add(We);const Fn=this._triggers.get(We).fallbackTransition,ei=B.get(We)||fi,Vi=new Wt(In),vi=new Wr(this.id,We,ne);this._engine.totalQueuedPlayers++,this._queue.push({element:ne,triggerName:We,transition:Fn,fromState:ei,toState:Vi,player:vi,isFallbackTransition:!0})})}}removeNode(ne,fe){const B=this._engine;if(ne.childElementCount&&this._signalRemovalForInnerTriggers(ne,fe),this.triggerLeaveAnimation(ne,fe,!0))return;let te=!1;if(B.totalAnimations){const K=B.players.length?B.playersByQueriedElement.get(ne):[];if(K&&K.length)te=!0;else{let We=ne;for(;We=We.parentNode;)if(B.statesByElement.get(We)){te=!0;break}}}if(this.prepareLeaveAnimationListeners(ne),te)B.markElementAsRemoved(this.id,ne,!1,fe);else{const K=ne[Ue];(!K||K===Vl)&&(B.afterFlush(()=>this.clearElementCache(ne)),B.destroyInnerAnimations(ne),B._onRemovalComplete(ne,fe))}}insertNode(ne,fe){vs(ne,this._hostClassName)}drainQueuedTransitions(ne){const fe=[];return this._queue.forEach(B=>{const te=B.player;if(te.destroyed)return;const K=B.element,We=this._elementListeners.get(K);We&&We.forEach(pt=>{if(pt.name==B.triggerName){const Fn=Ft(K,B.triggerName,B.fromState.value,B.toState.value);Fn._data=ne,nn(B.player,pt.phase,Fn,pt.callback)}}),te.markedForDestroy?this._engine.afterFlush(()=>{te.destroy()}):fe.push(B)}),this._queue=[],fe.sort((B,te)=>{const K=B.transition.ast.depCount,We=te.transition.ast.depCount;return 0==K||0==We?K-We:this._engine.driver.containsElement(B.element,te.element)?1:-1})}destroy(ne){this.players.forEach(fe=>fe.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,ne)}}class dr{_onRemovalComplete(ne,fe){this.onRemovalComplete(ne,fe)}constructor(ne,fe,B){this.bodyNode=ne,this.driver=fe,this._normalizer=B,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(te,K)=>{}}get queuedPlayers(){const ne=[];return this._namespaceList.forEach(fe=>{fe.players.forEach(B=>{B.queued&&ne.push(B)})}),ne}createNamespace(ne,fe){const B=new Nr(ne,fe,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,fe)?this._balanceNamespaceList(B,fe):(this.newHostElements.set(fe,B),this.collectEnterElement(fe)),this._namespaceLookup[ne]=B}_balanceNamespaceList(ne,fe){const B=this._namespaceList,te=this.namespacesByHostElement;if(B.length-1>=0){let We=!1,pt=this.driver.getParentElement(fe);for(;pt;){const Fn=te.get(pt);if(Fn){const ei=B.indexOf(Fn);B.splice(ei+1,0,ne),We=!0;break}pt=this.driver.getParentElement(pt)}We||B.unshift(ne)}else B.push(ne);return te.set(fe,ne),ne}register(ne,fe){let B=this._namespaceLookup[ne];return B||(B=this.createNamespace(ne,fe)),B}registerTrigger(ne,fe,B){let te=this._namespaceLookup[ne];te&&te.register(fe,B)&&this.totalAnimations++}destroy(ne,fe){ne&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const B=this._fetchNamespace(ne);this.namespacesByHostElement.delete(B.hostElement);const te=this._namespaceList.indexOf(B);te>=0&&this._namespaceList.splice(te,1),B.destroy(fe),delete this._namespaceLookup[ne]}))}_fetchNamespace(ne){return this._namespaceLookup[ne]}fetchNamespacesByElement(ne){const fe=new Set,B=this.statesByElement.get(ne);if(B)for(let te of B.values())if(te.namespaceId){const K=this._fetchNamespace(te.namespaceId);K&&fe.add(K)}return fe}trigger(ne,fe,B,te){if(Ms(fe)){const K=this._fetchNamespace(ne);if(K)return K.trigger(fe,B,te),!0}return!1}insertNode(ne,fe,B,te){if(!Ms(fe))return;const K=fe[Ue];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const We=this.collectedLeaveElements.indexOf(fe);We>=0&&this.collectedLeaveElements.splice(We,1)}if(ne){const We=this._fetchNamespace(ne);We&&We.insertNode(fe,B)}te&&this.collectEnterElement(fe)}collectEnterElement(ne){this.collectedEnterElements.push(ne)}markElementAsDisabled(ne,fe){fe?this.disabledNodes.has(ne)||(this.disabledNodes.add(ne),vs(ne,Va)):this.disabledNodes.has(ne)&&(this.disabledNodes.delete(ne),sa(ne,Va))}removeNode(ne,fe,B){if(Ms(fe)){const te=ne?this._fetchNamespace(ne):null;te?te.removeNode(fe,B):this.markElementAsRemoved(ne,fe,!1,B);const K=this.namespacesByHostElement.get(fe);K&&K.id!==ne&&K.removeNode(fe,B)}else this._onRemovalComplete(fe,B)}markElementAsRemoved(ne,fe,B,te,K){this.collectedLeaveElements.push(fe),fe[Ue]={namespaceId:ne,setForRemoval:te,hasAnimation:B,removedBeforeQueried:!1,previousTriggersValues:K}}listen(ne,fe,B,te,K){return Ms(fe)?this._fetchNamespace(ne).listen(fe,B,te,K):()=>{}}_buildInstruction(ne,fe,B,te,K){return ne.transition.build(this.driver,ne.element,ne.fromState.value,ne.toState.value,B,te,ne.fromState.options,ne.toState.options,fe,K)}destroyInnerAnimations(ne){let fe=this.driver.query(ne,Ht,!0);fe.forEach(B=>this.destroyActiveAnimationsForElement(B)),0!=this.playersByQueriedElement.size&&(fe=this.driver.query(ne,An,!0),fe.forEach(B=>this.finishActiveQueriedAnimationOnElement(B)))}destroyActiveAnimationsForElement(ne){const fe=this.playersByElement.get(ne);fe&&fe.forEach(B=>{B.queued?B.markedForDestroy=!0:B.destroy()})}finishActiveQueriedAnimationOnElement(ne){const fe=this.playersByQueriedElement.get(ne);fe&&fe.forEach(B=>B.finish())}whenRenderingDone(){return new Promise(ne=>{if(this.players.length)return Me(this.players).onDone(()=>ne());ne()})}processLeaveNode(ne){const fe=ne[Ue];if(fe&&fe.setForRemoval){if(ne[Ue]=Vl,fe.namespaceId){this.destroyInnerAnimations(ne);const B=this._fetchNamespace(fe.namespaceId);B&&B.clearElementCache(ne)}this._onRemovalComplete(ne,fe.setForRemoval)}ne.classList?.contains(Va)&&this.markElementAsDisabled(ne,!1),this.driver.query(ne,".ng-animate-disabled",!0).forEach(B=>{this.markElementAsDisabled(B,!1)})}flush(ne=-1){let fe=[];if(this.newHostElements.size&&(this.newHostElements.forEach((B,te)=>this._balanceNamespaceList(B,te)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let B=0;B<this.collectedEnterElements.length;B++)vs(this.collectedEnterElements[B],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const B=[];try{fe=this._flushAnimations(B,ne)}finally{for(let te=0;te<B.length;te++)B[te]()}}else for(let B=0;B<this.collectedLeaveElements.length;B++)this.processLeaveNode(this.collectedLeaveElements[B]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(B=>B()),this._flushFns=[],this._whenQuietFns.length){const B=this._whenQuietFns;this._whenQuietFns=[],fe.length?Me(fe).onDone(()=>{B.forEach(te=>te())}):B.forEach(te=>te())}}reportError(ne){throw function Oe(){return new h.wOt(3402,!1)}()}_flushAnimations(ne,fe){const B=new Vt,te=[],K=new Map,We=[],pt=new Map,Fn=new Map,ei=new Map,Vi=new Set;this.disabledNodes.forEach(ai=>{Vi.add(ai);const Ai=this.driver.query(ai,".ng-animate-queued",!0);for(let _i=0;_i<Ai.length;_i++)Vi.add(Ai[_i])});const vi=this.bodyNode,ws=Array.from(this.statesByElement.keys()),xs=oo(ws,this.collectedEnterElements),Yr=new Map;let mr=0;xs.forEach((ai,Ai)=>{const _i=mn+mr++;Yr.set(Ai,_i),ai.forEach(er=>vs(er,_i))});const Po=[],Li=new Set,Xs=new Set;for(let ai=0;ai<this.collectedLeaveElements.length;ai++){const Ai=this.collectedLeaveElements[ai],_i=Ai[Ue];_i&&_i.setForRemoval&&(Po.push(Ai),Li.add(Ai),_i.hasAnimation?this.driver.query(Ai,".ng-star-inserted",!0).forEach(er=>Li.add(er)):Xs.add(Ai))}const ro=new Map,Fo=oo(ws,Array.from(Li));Fo.forEach((ai,Ai)=>{const _i=cn+mr++;ro.set(Ai,_i),ai.forEach(er=>vs(er,_i))}),ne.push(()=>{xs.forEach((ai,Ai)=>{const _i=Yr.get(Ai);ai.forEach(er=>sa(er,_i))}),Fo.forEach((ai,Ai)=>{const _i=ro.get(Ai);ai.forEach(er=>sa(er,_i))}),Po.forEach(ai=>{this.processLeaveNode(ai)})});const za=[],al=[];for(let ai=this._namespaceList.length-1;ai>=0;ai--)this._namespaceList[ai].drainQueuedTransitions(fe).forEach(_i=>{const er=_i.player,Er=_i.element;if(za.push(er),this.collectedEnterElements.length){const Ta=Er[Ue];if(Ta&&Ta.setForMove){if(Ta.previousTriggersValues&&Ta.previousTriggersValues.has(_i.triggerName)){const Ga=Ta.previousTriggersValues.get(_i.triggerName),Io=this.statesByElement.get(_i.element);if(Io&&Io.has(_i.triggerName)){const Tl=Io.get(_i.triggerName);Tl.value=Ga,Io.set(_i.triggerName,Tl)}}return void er.destroy()}}const Ts=!vi||!this.driver.containsElement(vi,Er),zs=ro.get(Er),To=Yr.get(Er),Cs=this._buildInstruction(_i,B,To,zs,Ts);if(Cs.errors&&Cs.errors.length)return void al.push(Cs);if(Ts)return er.onStart(()=>xt(Er,Cs.fromStyles)),er.onDestroy(()=>jt(Er,Cs.toStyles)),void te.push(er);if(_i.isFallbackTransition)return er.onStart(()=>xt(Er,Cs.fromStyles)),er.onDestroy(()=>jt(Er,Cs.toStyles)),void te.push(er);const qs=[];Cs.timelines.forEach(Ta=>{Ta.stretchStartingKeyframe=!0,this.disabledNodes.has(Ta.element)||qs.push(Ta)}),Cs.timelines=qs,B.append(Er,Cs.timelines),We.push({instruction:Cs,player:er,element:Er}),Cs.queriedElements.forEach(Ta=>ft(pt,Ta,[]).push(er)),Cs.preStyleProps.forEach((Ta,Ga)=>{if(Ta.size){let Io=Fn.get(Ga);Io||Fn.set(Ga,Io=new Set),Ta.forEach((Tl,yl)=>Io.add(yl))}}),Cs.postStyleProps.forEach((Ta,Ga)=>{let Io=ei.get(Ga);Io||ei.set(Ga,Io=new Set),Ta.forEach((Tl,yl)=>Io.add(yl))})});if(al.length){const ai=[];al.forEach(Ai=>{ai.push(function Et(){return new h.wOt(3505,!1)}())}),za.forEach(Ai=>Ai.destroy()),this.reportError(ai)}const I=new Map,Ct=new Map;We.forEach(ai=>{const Ai=ai.element;B.has(Ai)&&(Ct.set(Ai,Ai),this._beforeAnimationBuild(ai.player.namespaceId,ai.instruction,I))}),te.forEach(ai=>{const Ai=ai.element;this._getPreviousPlayers(Ai,!1,ai.namespaceId,ai.triggerName,null).forEach(er=>{ft(I,Ai,[]).push(er),er.destroy()})});const Xt=Po.filter(ai=>So(ai,Fn,ei)),_n=new Map;$r(_n,this.driver,Xs,ei,E.kp).forEach(ai=>{So(ai,Fn,ei)&&Xt.push(ai)});const Hn=new Map;xs.forEach((ai,Ai)=>{$r(Hn,this.driver,new Set(ai),Fn,E.FX)}),Xt.forEach(ai=>{const Ai=_n.get(ai),_i=Hn.get(ai);_n.set(ai,new Map([...Ai?.entries()??[],..._i?.entries()??[]]))});const yn=[],Zn=[],pi={};We.forEach(ai=>{const{element:Ai,player:_i,instruction:er}=ai;if(B.has(Ai)){if(Vi.has(Ai))return _i.onDestroy(()=>jt(Ai,er.toStyles)),_i.disabled=!0,_i.overrideTotalTime(er.totalTime),void te.push(_i);let Er=pi;if(Ct.size>1){let zs=Ai;const To=[];for(;zs=zs.parentNode;){const Cs=Ct.get(zs);if(Cs){Er=Cs;break}To.push(zs)}To.forEach(Cs=>Ct.set(Cs,Er))}const Ts=this._buildAnimation(_i.namespaceId,er,I,K,Hn,_n);if(_i.setRealPlayer(Ts),Er===pi)yn.push(_i);else{const zs=this.playersByElement.get(Er);zs&&zs.length&&(_i.parentPlayer=Me(zs)),te.push(_i)}}else xt(Ai,er.fromStyles),_i.onDestroy(()=>jt(Ai,er.toStyles)),Zn.push(_i),Vi.has(Ai)&&te.push(_i)}),Zn.forEach(ai=>{const Ai=K.get(ai.element);if(Ai&&Ai.length){const _i=Me(Ai);ai.setRealPlayer(_i)}}),te.forEach(ai=>{ai.parentPlayer?ai.syncPlayerEvents(ai.parentPlayer):ai.destroy()});for(let ai=0;ai<Po.length;ai++){const Ai=Po[ai],_i=Ai[Ue];if(sa(Ai,cn),_i&&_i.hasAnimation)continue;let er=[];if(pt.size){let Ts=pt.get(Ai);Ts&&Ts.length&&er.push(...Ts);let zs=this.driver.query(Ai,An,!0);for(let To=0;To<zs.length;To++){let Cs=pt.get(zs[To]);Cs&&Cs.length&&er.push(...Cs)}}const Er=er.filter(Ts=>!Ts.destroyed);Er.length?ea(this,Ai,Er):this.processLeaveNode(Ai)}return Po.length=0,yn.forEach(ai=>{this.players.push(ai),ai.onDone(()=>{ai.destroy();const Ai=this.players.indexOf(ai);this.players.splice(Ai,1)}),ai.play()}),yn}afterFlush(ne){this._flushFns.push(ne)}afterFlushAnimationsDone(ne){this._whenQuietFns.push(ne)}_getPreviousPlayers(ne,fe,B,te,K){let We=[];if(fe){const pt=this.playersByQueriedElement.get(ne);pt&&(We=pt)}else{const pt=this.playersByElement.get(ne);if(pt){const Fn=!K||K==In;pt.forEach(ei=>{ei.queued||!Fn&&ei.triggerName!=te||We.push(ei)})}}return(B||te)&&(We=We.filter(pt=>!(B&&B!=pt.namespaceId||te&&te!=pt.triggerName))),We}_beforeAnimationBuild(ne,fe,B){const K=fe.element,We=fe.isRemovalTransition?void 0:ne,pt=fe.isRemovalTransition?void 0:fe.triggerName;for(const Fn of fe.timelines){const ei=Fn.element,Vi=ei!==K,vi=ft(B,ei,[]);this._getPreviousPlayers(ei,Vi,We,pt,fe.toState).forEach(xs=>{const Yr=xs.getRealPlayer();Yr.beforeDestroy&&Yr.beforeDestroy(),xs.destroy(),vi.push(xs)})}xt(K,fe.fromStyles)}_buildAnimation(ne,fe,B,te,K,We){const pt=fe.triggerName,Fn=fe.element,ei=[],Vi=new Set,vi=new Set,ws=fe.timelines.map(Yr=>{const mr=Yr.element;Vi.add(mr);const Po=mr[Ue];if(Po&&Po.removedBeforeQueried)return new E.sf(Yr.duration,Yr.delay);const Li=mr!==Fn,Xs=function la(Gt){const ne=[];return Ki(Gt,ne),ne}((B.get(mr)||Zs).map(I=>I.getRealPlayer())).filter(I=>!!I.element&&I.element===mr),ro=K.get(mr),Fo=We.get(mr),za=kn(this._normalizer,Yr.keyframes,ro,Fo),al=this._buildPlayer(Yr,za,Xs);if(Yr.subTimeline&&te&&vi.add(mr),Li){const I=new Wr(ne,pt,mr);I.setRealPlayer(al),ei.push(I)}return al});ei.forEach(Yr=>{ft(this.playersByQueriedElement,Yr.element,[]).push(Yr),Yr.onDone(()=>function hs(Gt,ne,fe){let B=Gt.get(ne);if(B){if(B.length){const te=B.indexOf(fe);B.splice(te,1)}0==B.length&&Gt.delete(ne)}return B}(this.playersByQueriedElement,Yr.element,Yr))}),Vi.forEach(Yr=>vs(Yr,Bt));const xs=Me(ws);return xs.onDestroy(()=>{Vi.forEach(Yr=>sa(Yr,Bt)),jt(Fn,fe.toStyles)}),vi.forEach(Yr=>{ft(te,Yr,[]).push(xs)}),xs}_buildPlayer(ne,fe,B){return fe.length>0?this.driver.animate(ne.element,fe,ne.duration,ne.delay,ne.easing,B):new E.sf(ne.duration,ne.delay)}}class Wr{constructor(ne,fe,B){this.namespaceId=ne,this.triggerName=fe,this.element=B,this._player=new E.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(ne){this._containsRealPlayer||(this._player=ne,this._queuedCallbacks.forEach((fe,B)=>{fe.forEach(te=>nn(ne,B,void 0,te))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(ne.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(ne){this.totalTime=ne}syncPlayerEvents(ne){const fe=this._player;fe.triggerCallback&&ne.onStart(()=>fe.triggerCallback("start")),ne.onDone(()=>this.finish()),ne.onDestroy(()=>this.destroy())}_queueEvent(ne,fe){ft(this._queuedCallbacks,ne,[]).push(fe)}onDone(ne){this.queued&&this._queueEvent("done",ne),this._player.onDone(ne)}onStart(ne){this.queued&&this._queueEvent("start",ne),this._player.onStart(ne)}onDestroy(ne){this.queued&&this._queueEvent("destroy",ne),this._player.onDestroy(ne)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(ne){this.queued||this._player.setPosition(ne)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(ne){const fe=this._player;fe.triggerCallback&&fe.triggerCallback(ne)}}function Ms(Gt){return Gt&&1===Gt.nodeType}function Ar(Gt,ne){const fe=Gt.style.display;return Gt.style.display=ne??"none",fe}function $r(Gt,ne,fe,B,te){const K=[];fe.forEach(Fn=>K.push(Ar(Fn)));const We=[];B.forEach((Fn,ei)=>{const Vi=new Map;Fn.forEach(vi=>{const ws=ne.computeStyle(ei,vi,te);Vi.set(vi,ws),(!ws||0==ws.length)&&(ei[Ue]=ga,We.push(ei))}),Gt.set(ei,Vi)});let pt=0;return fe.forEach(Fn=>Ar(Fn,K[pt++])),We}function oo(Gt,ne){const fe=new Map;if(Gt.forEach(pt=>fe.set(pt,[])),0==ne.length)return fe;const te=new Set(ne),K=new Map;function We(pt){if(!pt)return 1;let Fn=K.get(pt);if(Fn)return Fn;const ei=pt.parentNode;return Fn=fe.has(ei)?ei:te.has(ei)?1:We(ei),K.set(pt,Fn),Fn}return ne.forEach(pt=>{const Fn=We(pt);1!==Fn&&fe.get(Fn).push(pt)}),fe}function vs(Gt,ne){Gt.classList?.add(ne)}function sa(Gt,ne){Gt.classList?.remove(ne)}function ea(Gt,ne,fe){Me(fe).onDone(()=>Gt.processLeaveNode(ne))}function Ki(Gt,ne){for(let fe=0;fe<Gt.length;fe++){const B=Gt[fe];B instanceof E.ui?Ki(B.players,ne):ne.push(B)}}function So(Gt,ne,fe){const B=fe.get(Gt);if(!B)return!1;let te=ne.get(Gt);return te?B.forEach(K=>te.add(K)):ne.set(Gt,B),fe.delete(Gt),!0}class Ca{constructor(ne,fe,B){this._driver=fe,this._normalizer=B,this._triggerCache={},this.onRemovalComplete=(te,K)=>{},this._transitionEngine=new dr(ne.body,fe,B),this._timelineEngine=new xa(ne.body,fe,B),this._transitionEngine.onRemovalComplete=(te,K)=>this.onRemovalComplete(te,K)}registerTrigger(ne,fe,B,te,K){const We=ne+"-"+te;let pt=this._triggerCache[We];if(!pt){const Fn=[],Vi=lr(this._driver,K,Fn,[]);if(Fn.length)throw function oe(){return new h.wOt(3404,!1)}();pt=function co(Gt,ne,fe){return new Ba(Gt,ne,fe)}(te,Vi,this._normalizer),this._triggerCache[We]=pt}this._transitionEngine.registerTrigger(fe,te,pt)}register(ne,fe){this._transitionEngine.register(ne,fe)}destroy(ne,fe){this._transitionEngine.destroy(ne,fe)}onInsert(ne,fe,B,te){this._transitionEngine.insertNode(ne,fe,B,te)}onRemove(ne,fe,B){this._transitionEngine.removeNode(ne,fe,B)}disableAnimations(ne,fe){this._transitionEngine.markElementAsDisabled(ne,fe)}process(ne,fe,B,te){if("@"==B.charAt(0)){const[K,We]=Ae(B);this._timelineEngine.command(K,fe,We,te)}else this._transitionEngine.trigger(ne,fe,B,te)}listen(ne,fe,B,te,K){if("@"==B.charAt(0)){const[We,pt]=Ae(B);return this._timelineEngine.listen(We,fe,pt,K)}return this._transitionEngine.listen(ne,fe,B,te,K)}flush(ne=-1){this._transitionEngine.flush(ne)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(ne){this._transitionEngine.afterFlushAnimationsDone(ne)}}class Sa{static#e=this.initialStylesByElement=new WeakMap;constructor(ne,fe,B){this._element=ne,this._startStyles=fe,this._endStyles=B,this._state=0;let te=Sa.initialStylesByElement.get(ne);te||Sa.initialStylesByElement.set(ne,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&jt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jt(this._element,this._initialStyles),this._endStyles&&(jt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Sa.initialStylesByElement.delete(this._element),this._startStyles&&(xt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xt(this._element,this._endStyles),this._endStyles=null),jt(this._element,this._initialStyles),this._state=3)}}function Oo(Gt){let ne=null;return Gt.forEach((fe,B)=>{(function ta(Gt){return"display"===Gt||"position"===Gt})(B)&&(ne=ne||new Map,ne.set(B,fe))}),ne}class Ya{constructor(ne,fe,B,te){this.element=ne,this.keyframes=fe,this.options=B,this._specialStyles=te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=B.duration,this._delay=B.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ne=>ne()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const ne=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,ne,this.options),this._finalKeyframe=ne.length?ne[ne.length-1]:new Map;const fe=()=>this._onFinish();this.domPlayer.addEventListener("finish",fe),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",fe)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(ne){const fe=[];return ne.forEach(B=>{fe.push(Object.fromEntries(B))}),fe}_triggerWebAnimation(ne,fe,B){return ne.animate(this._convertKeyframesToObject(fe),B)}onStart(ne){this._originalOnStartFns.push(ne),this._onStartFns.push(ne)}onDone(ne){this._originalOnDoneFns.push(ne),this._onDoneFns.push(ne)}onDestroy(ne){this._onDestroyFns.push(ne)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(ne=>ne()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(ne=>ne()),this._onDestroyFns=[])}setPosition(ne){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=ne*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const ne=new Map;this.hasStarted()&&this._finalKeyframe.forEach((B,te)=>{"offset"!==te&&ne.set(te,this._finished?B:ct(this.element,te))}),this.currentSnapshot=ne}triggerCallback(ne){const fe="start"===ne?this._onStartFns:this._onDoneFns;fe.forEach(B=>B()),fe.length=0}}class Qa{validateStyleProperty(ne){return!0}validateAnimatableStyleProperty(ne){return!0}containsElement(ne,fe){return on(ne,fe)}getParentElement(ne){return vt(ne)}query(ne,fe,B){return sn(ne,fe,B)}computeStyle(ne,fe,B){return ct(ne,fe)}animate(ne,fe,B,te,K,We=[]){const Fn={duration:B,delay:te,fill:0==te?"both":"forwards"};K&&(Fn.easing=K);const ei=new Map,Vi=We.filter(xs=>xs instanceof Ya);(function U(Gt,ne){return 0===Gt||0===ne})(B,te)&&Vi.forEach(xs=>{xs.currentSnapshot.forEach((Yr,mr)=>ei.set(mr,Yr))});let vi=function Pn(Gt){return Gt.length?Gt[0]instanceof Map?Gt:Gt.map(ne=>new Map(Object.entries(ne))):[]}(fe).map(xs=>new Map(xs));vi=function Se(Gt,ne,fe){if(fe.size&&ne.length){let B=ne[0],te=[];if(fe.forEach((K,We)=>{B.has(We)||te.push(We),B.set(We,K)}),te.length)for(let K=1;K<ne.length;K++){let We=ne[K];te.forEach(pt=>We.set(pt,ct(Gt,pt)))}}return ne}(ne,vi,ei);const ws=function xc(Gt,ne){let fe=null,B=null;return Array.isArray(ne)&&ne.length?(fe=Oo(ne[0]),ne.length>1&&(B=Oo(ne[ne.length-1]))):ne instanceof Map&&(fe=Oo(ne)),fe||B?new Sa(Gt,fe,B):null}(ne,vi);return new Ya(ne,vi,Fn,ws)}}const Sl="@.disabled";class Xl{constructor(ne,fe,B,te){this.namespaceId=ne,this.delegate=fe,this.engine=B,this._onDestroy=te,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(ne){this.delegate.destroyNode?.(ne)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(ne,fe){return this.delegate.createElement(ne,fe)}createComment(ne){return this.delegate.createComment(ne)}createText(ne){return this.delegate.createText(ne)}appendChild(ne,fe){this.delegate.appendChild(ne,fe),this.engine.onInsert(this.namespaceId,fe,ne,!1)}insertBefore(ne,fe,B,te=!0){this.delegate.insertBefore(ne,fe,B),this.engine.onInsert(this.namespaceId,fe,ne,te)}removeChild(ne,fe,B){this.parentNode(fe)&&this.engine.onRemove(this.namespaceId,fe,this.delegate)}selectRootElement(ne,fe){return this.delegate.selectRootElement(ne,fe)}parentNode(ne){return this.delegate.parentNode(ne)}nextSibling(ne){return this.delegate.nextSibling(ne)}setAttribute(ne,fe,B,te){this.delegate.setAttribute(ne,fe,B,te)}removeAttribute(ne,fe,B){this.delegate.removeAttribute(ne,fe,B)}addClass(ne,fe){this.delegate.addClass(ne,fe)}removeClass(ne,fe){this.delegate.removeClass(ne,fe)}setStyle(ne,fe,B,te){this.delegate.setStyle(ne,fe,B,te)}removeStyle(ne,fe,B){this.delegate.removeStyle(ne,fe,B)}setProperty(ne,fe,B){"@"==fe.charAt(0)&&fe==Sl?this.disableAnimations(ne,!!B):this.delegate.setProperty(ne,fe,B)}setValue(ne,fe){this.delegate.setValue(ne,fe)}listen(ne,fe,B){return this.delegate.listen(ne,fe,B)}disableAnimations(ne,fe){this.engine.disableAnimations(ne,fe)}}class Do extends Xl{constructor(ne,fe,B,te,K){super(fe,B,te,K),this.factory=ne,this.namespaceId=fe}setProperty(ne,fe,B){"@"==fe.charAt(0)?"."==fe.charAt(1)&&fe==Sl?this.disableAnimations(ne,B=void 0===B||!!B):this.engine.process(this.namespaceId,ne,fe.slice(1),B):this.delegate.setProperty(ne,fe,B)}listen(ne,fe,B){if("@"==fe.charAt(0)){const te=function pl(Gt){switch(Gt){case"body":return document.body;case"document":return document;case"window":return window;default:return Gt}}(ne);let K=fe.slice(1),We="";return"@"!=K.charAt(0)&&([K,We]=function Za(Gt){const ne=Gt.indexOf(".");return[Gt.substring(0,ne),Gt.slice(ne+1)]}(K)),this.engine.listen(this.namespaceId,te,K,We,pt=>{this.factory.scheduleListenerCallback(pt._data||-1,B,pt)})}return this.delegate.listen(ne,fe,B)}}class Ps{constructor(ne,fe,B){this.delegate=ne,this.engine=fe,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,fe.onRemovalComplete=(te,K)=>{K?.removeChild(null,te)}}createRenderer(ne,fe){const te=this.delegate.createRenderer(ne,fe);if(!ne||!fe?.data?.animation){const ei=this._rendererCache;let Vi=ei.get(te);return Vi||(Vi=new Xl("",te,this.engine,()=>ei.delete(te)),ei.set(te,Vi)),Vi}const K=fe.id,We=fe.id+"-"+this._currentId;this._currentId++,this.engine.register(We,ne);const pt=ei=>{Array.isArray(ei)?ei.forEach(pt):this.engine.registerTrigger(K,We,ne,ei.name,ei)};return fe.data.animation.forEach(pt),new Do(this,We,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(ne,fe,B){if(ne>=0&&ne<this._microtaskId)return void this._zone.run(()=>fe(B));const te=this._animationCallbacksBuffer;0==te.length&&queueMicrotask(()=>{this._zone.run(()=>{te.forEach(K=>{const[We,pt]=K;We(pt)}),this._animationCallbacksBuffer=[]})}),te.push([fe,B])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Dl=_(316);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const ol=[{provide:ut,useFactory:function ml(){return new Mt}},{provide:Ca,useClass:(()=>{class Gt extends Ca{constructor(fe,B,te){super(fe,B,te)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(B){return new(B||Gt)(h.KVO(Dl.qQ),h.KVO(_e),h.KVO(ut))};static#t=this.\u0275prov=h.jDH({token:Gt,factory:Gt.\u0275fac})}return Gt})()},{provide:h._9s,useFactory:function gl(Gt,ne,fe){return new Ps(Gt,ne,fe)},deps:[O.B7,Ca,h.SKi]}],ql=[{provide:_e,useFactory:()=>new Qa},{provide:h.bc$,useValue:"BrowserAnimations"},...ol],qr=[{provide:_e,useClass:tt},{provide:h.bc$,useValue:"NoopAnimations"},...ol];let ao=(()=>{class Gt{static withConfig(fe){return{ngModule:Gt,providers:fe.disableAnimations?qr:ql}}static#e=this.\u0275fac=function(B){return new(B||Gt)};static#t=this.\u0275mod=h.$C({type:Gt});static#n=this.\u0275inj=h.G2t({providers:ql,imports:[O.Bb]})}return Gt})()},436:(dn,Je,_)=>{"use strict";_.d(Je,{B7:()=>Xe,Bb:()=>an,hE:()=>Jt,sG:()=>ft,up:()=>wt});var h=_(316),O=_(7404);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class E extends h.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A extends E{static makeCurrent(){(0,h.ZD)(new A)}onAndCancel(qt,Lt,Kt){return qt.addEventListener(Lt,Kt),()=>{qt.removeEventListener(Lt,Kt)}}dispatchEvent(qt,Lt){qt.dispatchEvent(Lt)}remove(qt){qt.remove()}createElement(qt,Lt){return(Lt=Lt||this.getDefaultDocument()).createElement(qt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(qt){return qt.nodeType===Node.ELEMENT_NODE}isShadowRoot(qt){return qt instanceof DocumentFragment}getGlobalEventTarget(qt,Lt){return"window"===Lt?window:"document"===Lt?qt:"body"===Lt?qt.body:null}getBaseHref(qt){const Lt=function C(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==Lt?null:function W(xt){return new URL(xt,document.baseURI).pathname}(Lt)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(qt){return(0,h._b)(document.cookie,qt)}}let S=null,N=(()=>{class xt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const z=new O.nKC("");let re=(()=>{class xt{constructor(Lt,Kt){this._zone=Kt,this._eventNameToPlugin=new Map,Lt.forEach(Rn=>{Rn.manager=this}),this._plugins=Lt.slice().reverse()}addEventListener(Lt,Kt,Rn){return this._findPluginFor(Kt).addEventListener(Lt,Kt,Rn)}getZone(){return this._zone}_findPluginFor(Lt){let Kt=this._eventNameToPlugin.get(Lt);if(Kt)return Kt;if(Kt=this._plugins.find(Un=>Un.supports(Lt)),!Kt)throw new O.wOt(5101,!1);return this._eventNameToPlugin.set(Lt,Kt),Kt}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(z),O.KVO(O.SKi))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();class q{constructor(qt){this._doc=qt}}const Z="ng-app-id";let ee=(()=>{class xt{constructor(Lt,Kt,Rn,Un={}){this.doc=Lt,this.appId=Kt,this.nonce=Rn,this.platformId=Un,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.Vy)(Un),this.resetHostNodes()}addStyles(Lt){for(const Kt of Lt)1===this.changeUsageCount(Kt,1)&&this.onStyleAdded(Kt)}removeStyles(Lt){for(const Kt of Lt)this.changeUsageCount(Kt,-1)<=0&&this.onStyleRemoved(Kt)}ngOnDestroy(){const Lt=this.styleNodesInDOM;Lt&&(Lt.forEach(Kt=>Kt.remove()),Lt.clear());for(const Kt of this.getAllStyles())this.onStyleRemoved(Kt);this.resetHostNodes()}addHost(Lt){this.hostNodes.add(Lt);for(const Kt of this.getAllStyles())this.addStyleToHost(Lt,Kt)}removeHost(Lt){this.hostNodes.delete(Lt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Lt){for(const Kt of this.hostNodes)this.addStyleToHost(Kt,Lt)}onStyleRemoved(Lt){const Kt=this.styleRef;Kt.get(Lt)?.elements?.forEach(Rn=>Rn.remove()),Kt.delete(Lt)}collectServerRenderedStyles(){const Lt=this.doc.head?.querySelectorAll(`style[${Z}="${this.appId}"]`);if(Lt?.length){const Kt=new Map;return Lt.forEach(Rn=>{null!=Rn.textContent&&Kt.set(Rn.textContent,Rn)}),Kt}return null}changeUsageCount(Lt,Kt){const Rn=this.styleRef;if(Rn.has(Lt)){const Un=Rn.get(Lt);return Un.usage+=Kt,Un.usage}return Rn.set(Lt,{usage:Kt,elements:[]}),Kt}getStyleElement(Lt,Kt){const Rn=this.styleNodesInDOM,Un=Rn?.get(Kt);if(Un?.parentNode===Lt)return Rn.delete(Kt),Un.removeAttribute(Z),Un;{const dt=this.doc.createElement("style");return this.nonce&&dt.setAttribute("nonce",this.nonce),dt.textContent=Kt,this.platformIsServer&&dt.setAttribute(Z,this.appId),Lt.appendChild(dt),dt}}addStyleToHost(Lt,Kt){const Rn=this.getStyleElement(Lt,Kt),Un=this.styleRef,dt=Un.get(Kt)?.elements;dt?dt.push(Rn):Un.set(Kt,{elements:[Rn],usage:1})}resetHostNodes(){const Lt=this.hostNodes;Lt.clear(),Lt.add(this.doc.head)}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ),O.KVO(O.sZ2),O.KVO(O.BIS,8),O.KVO(O.Agw))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const De={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ee=/%COMP%/g,Re=new O.nKC("",{providedIn:"root",factory:()=>!0});function je(xt,qt){return qt.map(Lt=>Lt.replace(Ee,xt))}let Xe=(()=>{class xt{constructor(Lt,Kt,Rn,Un,dt,we,Ne,U=null){this.eventManager=Lt,this.sharedStylesHost=Kt,this.appId=Rn,this.removeStylesOnCompDestroy=Un,this.doc=dt,this.platformId=we,this.ngZone=Ne,this.nonce=U,this.rendererByCompId=new Map,this.platformIsServer=(0,h.Vy)(we),this.defaultRenderer=new Q(Lt,dt,Ne,this.platformIsServer)}createRenderer(Lt,Kt){if(!Lt||!Kt)return this.defaultRenderer;this.platformIsServer&&Kt.encapsulation===O.gXe.ShadowDom&&(Kt={...Kt,encapsulation:O.gXe.Emulated});const Rn=this.getOrCreateRenderer(Lt,Kt);return Rn instanceof St?Rn.applyToHost(Lt):Rn instanceof Nt&&Rn.applyStyles(),Rn}getOrCreateRenderer(Lt,Kt){const Rn=this.rendererByCompId;let Un=Rn.get(Kt.id);if(!Un){const dt=this.doc,we=this.ngZone,Ne=this.eventManager,U=this.sharedStylesHost,Se=this.removeStylesOnCompDestroy,be=this.platformIsServer;switch(Kt.encapsulation){case O.gXe.Emulated:Un=new St(Ne,U,Kt,this.appId,Se,dt,we,be);break;case O.gXe.ShadowDom:return new bt(Ne,U,Lt,Kt,dt,we,this.nonce,be);default:Un=new Nt(Ne,U,Kt,Se,dt,we,be)}Rn.set(Kt.id,Un)}return Un}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(re),O.KVO(ee),O.KVO(O.sZ2),O.KVO(Re),O.KVO(h.qQ),O.KVO(O.Agw),O.KVO(O.SKi),O.KVO(O.BIS))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();class Q{constructor(qt,Lt,Kt,Rn){this.eventManager=qt,this.doc=Lt,this.ngZone=Kt,this.platformIsServer=Rn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(qt,Lt){return Lt?this.doc.createElementNS(De[Lt]||Lt,qt):this.doc.createElement(qt)}createComment(qt){return this.doc.createComment(qt)}createText(qt){return this.doc.createTextNode(qt)}appendChild(qt,Lt){(ot(qt)?qt.content:qt).appendChild(Lt)}insertBefore(qt,Lt,Kt){qt&&(ot(qt)?qt.content:qt).insertBefore(Lt,Kt)}removeChild(qt,Lt){Lt.remove()}selectRootElement(qt,Lt){let Kt="string"==typeof qt?this.doc.querySelector(qt):qt;if(!Kt)throw new O.wOt(-5104,!1);return Lt||(Kt.textContent=""),Kt}parentNode(qt){return qt.parentNode}nextSibling(qt){return qt.nextSibling}setAttribute(qt,Lt,Kt,Rn){if(Rn){Lt=Rn+":"+Lt;const Un=De[Rn];Un?qt.setAttributeNS(Un,Lt,Kt):qt.setAttribute(Lt,Kt)}else qt.setAttribute(Lt,Kt)}removeAttribute(qt,Lt,Kt){if(Kt){const Rn=De[Kt];Rn?qt.removeAttributeNS(Rn,Lt):qt.removeAttribute(`${Kt}:${Lt}`)}else qt.removeAttribute(Lt)}addClass(qt,Lt){qt.classList.add(Lt)}removeClass(qt,Lt){qt.classList.remove(Lt)}setStyle(qt,Lt,Kt,Rn){Rn&(O.czy.DashCase|O.czy.Important)?qt.style.setProperty(Lt,Kt,Rn&O.czy.Important?"important":""):qt.style[Lt]=Kt}removeStyle(qt,Lt,Kt){Kt&O.czy.DashCase?qt.style.removeProperty(Lt):qt.style[Lt]=""}setProperty(qt,Lt,Kt){null!=qt&&(qt[Lt]=Kt)}setValue(qt,Lt){qt.nodeValue=Lt}listen(qt,Lt,Kt){if("string"==typeof qt&&!(qt=(0,h.QT)().getGlobalEventTarget(this.doc,qt)))throw new Error(`Unsupported event target ${qt} for event ${Lt}`);return this.eventManager.addEventListener(qt,Lt,this.decoratePreventDefault(Kt))}decoratePreventDefault(qt){return Lt=>{if("__ngUnwrap__"===Lt)return qt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>qt(Lt)):qt(Lt))&&Lt.preventDefault()}}}function ot(xt){return"TEMPLATE"===xt.tagName&&void 0!==xt.content}class bt extends Q{constructor(qt,Lt,Kt,Rn,Un,dt,we,Ne){super(qt,Un,dt,Ne),this.sharedStylesHost=Lt,this.hostEl=Kt,this.shadowRoot=Kt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const U=je(Rn.id,Rn.styles);for(const Se of U){const be=document.createElement("style");we&&be.setAttribute("nonce",we),be.textContent=Se,this.shadowRoot.appendChild(be)}}nodeOrShadowRoot(qt){return qt===this.hostEl?this.shadowRoot:qt}appendChild(qt,Lt){return super.appendChild(this.nodeOrShadowRoot(qt),Lt)}insertBefore(qt,Lt,Kt){return super.insertBefore(this.nodeOrShadowRoot(qt),Lt,Kt)}removeChild(qt,Lt){return super.removeChild(null,Lt)}parentNode(qt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(qt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends Q{constructor(qt,Lt,Kt,Rn,Un,dt,we,Ne){super(qt,Un,dt,we),this.sharedStylesHost=Lt,this.removeStylesOnCompDestroy=Rn,this.styles=Ne?je(Ne,Kt.styles):Kt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends Nt{constructor(qt,Lt,Kt,Rn,Un,dt,we,Ne){const U=Rn+"-"+Kt.id;super(qt,Lt,Kt,Un,dt,we,Ne,U),this.contentAttr=function nt(xt){return"_ngcontent-%COMP%".replace(Ee,xt)}(U),this.hostAttr=function Te(xt){return"_nghost-%COMP%".replace(Ee,xt)}(U)}applyToHost(qt){this.applyStyles(),this.setAttribute(qt,this.hostAttr,"")}createElement(qt,Lt){const Kt=super.createElement(qt,Lt);return super.setAttribute(Kt,this.contentAttr,""),Kt}}let $t=(()=>{class xt extends q{constructor(Lt){super(Lt)}supports(Lt){return!0}addEventListener(Lt,Kt,Rn){return Lt.addEventListener(Kt,Rn,!1),()=>this.removeEventListener(Lt,Kt,Rn)}removeEventListener(Lt,Kt,Rn){return Lt.removeEventListener(Kt,Rn)}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})(),Ce=(()=>{class xt extends q{constructor(Lt){super(Lt),this.delegate=(0,O.WQX)(O.zAP,{optional:!0})}supports(Lt){return!!this.delegate&&this.delegate.supports(Lt)}addEventListener(Lt,Kt,Rn){return this.delegate.addEventListener(Lt,Kt,Rn)}removeEventListener(Lt,Kt,Rn){return this.delegate.removeEventListener(Lt,Kt,Rn)}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const ce=["alt","control","meta","shift"],ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},me={alt:xt=>xt.altKey,control:xt=>xt.ctrlKey,meta:xt=>xt.metaKey,shift:xt=>xt.shiftKey};let Oe=(()=>{class xt extends q{constructor(Lt){super(Lt)}supports(Lt){return null!=xt.parseEventName(Lt)}addEventListener(Lt,Kt,Rn){const Un=xt.parseEventName(Kt),dt=xt.eventCallback(Un.fullKey,Rn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.QT)().onAndCancel(Lt,Un.domEventName,dt))}static parseEventName(Lt){const Kt=Lt.toLowerCase().split("."),Rn=Kt.shift();if(0===Kt.length||"keydown"!==Rn&&"keyup"!==Rn)return null;const Un=xt._normalizeKey(Kt.pop());let dt="",we=Kt.indexOf("code");if(we>-1&&(Kt.splice(we,1),dt="code."),ce.forEach(U=>{const Se=Kt.indexOf(U);Se>-1&&(Kt.splice(Se,1),dt+=U+".")}),dt+=Un,0!=Kt.length||0===Un.length)return null;const Ne={};return Ne.domEventName=Rn,Ne.fullKey=dt,Ne}static matchEventFullKeyCode(Lt,Kt){let Rn=ve[Lt.key]||Lt.key,Un="";return Kt.indexOf("code.")>-1&&(Rn=Lt.code,Un="code."),!(null==Rn||!Rn)&&(Rn=Rn.toLowerCase()," "===Rn?Rn="space":"."===Rn&&(Rn="dot"),ce.forEach(dt=>{dt!==Rn&&(0,me[dt])(Lt)&&(Un+=dt+".")}),Un+=Rn,Un===Kt)}static eventCallback(Lt,Kt,Rn){return Un=>{xt.matchEventFullKeyCode(Un,Lt)&&Rn.runGuarded(()=>Kt(Un))}}static _normalizeKey(Lt){return"esc"===Lt?"escape":Lt}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const ft=(0,O.oH4)(O.fpN,"browser",[{provide:O.Agw,useValue:h.AJ},{provide:O.PLl,useValue:function kn(){A.makeCurrent()},multi:!0},{provide:h.qQ,useFactory:function Ot(){return(0,O.TL$)(document),document},deps:[]}]),Ae=new O.nKC(""),Ve=[{provide:O.e01,useClass:class L{addToWindow(qt){O.JZv.getAngularTestability=(Kt,Rn=!0)=>{const Un=qt.findTestabilityInTree(Kt,Rn);if(null==Un)throw new O.wOt(5103,!1);return Un},O.JZv.getAllAngularTestabilities=()=>qt.getAllTestabilities(),O.JZv.getAllAngularRootElements=()=>qt.getAllRootElements(),O.JZv.frameworkStabilizers||(O.JZv.frameworkStabilizers=[]),O.JZv.frameworkStabilizers.push(Kt=>{const Rn=O.JZv.getAllAngularTestabilities();let Un=Rn.length;const dt=function(){Un--,0==Un&&Kt()};Rn.forEach(we=>{we.whenStable(dt)})})}findTestabilityInTree(qt,Lt,Kt){return null==Lt?null:qt.getTestability(Lt)??(Kt?(0,h.QT)().isShadowRoot(Lt)?this.findTestabilityInTree(qt,Lt.host,!0):this.findTestabilityInTree(qt,Lt.parentElement,!0):null)}},deps:[]},{provide:O.WHO,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]},{provide:O.NYb,useClass:O.NYb,deps:[O.SKi,O.giA,O.e01]}],vt=[{provide:O.H8p,useValue:"root"},{provide:O.zcH,useFactory:function nn(){return new O.zcH},deps:[]},{provide:z,useClass:$t,multi:!0,deps:[h.qQ,O.SKi,O.Agw]},{provide:z,useClass:Oe,multi:!0,deps:[h.qQ]},{provide:z,useClass:Ce,multi:!0},Xe,ee,re,{provide:O._9s,useExisting:Xe},{provide:h.N0,useClass:N,deps:[]},[]];let an=(()=>{class xt{constructor(Lt){}static withServerTransition(Lt){return{ngModule:xt,providers:[{provide:O.sZ2,useValue:Lt.appId}]}}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(Ae,12))};static#t=this.\u0275mod=O.$C({type:xt});static#n=this.\u0275inj=O.G2t({providers:[...vt,...Ve],imports:[h.MD,O.Hbi]})}return xt})(),Jt=(()=>{class xt{constructor(Lt){this._doc=Lt}getTitle(){return this._doc.title}setTitle(Lt){this._doc.title=Lt||""}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})(),wt=(()=>{class xt{static#e=this.\u0275fac=function(Kt){return new(Kt||xt)};static#t=this.\u0275prov=O.jDH({token:xt,factory:function(Kt){let Rn=null;return Rn=Kt?new(Kt||xt):O.KVO(Ht),Rn},providedIn:"root"})}return xt})(),Ht=(()=>{class xt extends wt{constructor(Lt){super(),this._doc=Lt}sanitize(Lt,Kt){if(null==Kt)return null;switch(Lt){case O.WPN.NONE:return Kt;case O.WPN.HTML:return(0,O.ZF7)(Kt,"HTML")?(0,O.rcV)(Kt):(0,O.h9k)(this._doc,String(Kt)).toString();case O.WPN.STYLE:return(0,O.ZF7)(Kt,"Style")?(0,O.rcV)(Kt):Kt;case O.WPN.SCRIPT:if((0,O.ZF7)(Kt,"Script"))return(0,O.rcV)(Kt);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(Kt,"URL")?(0,O.rcV)(Kt):(0,O.$MX)(String(Kt));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(Kt,"ResourceURL"))return(0,O.rcV)(Kt);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(Lt){return(0,O.Kcf)(Lt)}bypassSecurityTrustStyle(Lt){return(0,O.cWb)(Lt)}bypassSecurityTrustScript(Lt){return(0,O.UyX)(Lt)}bypassSecurityTrustUrl(Lt){return(0,O.osQ)(Lt)}bypassSecurityTrustResourceUrl(Lt){return(0,O.e5t)(Lt)}static#e=this.\u0275fac=function(Kt){return new(Kt||xt)(O.KVO(h.qQ))};static#t=this.\u0275prov=O.jDH({token:xt,factory:xt.\u0275fac,providedIn:"root"})}return xt})()},9805:(dn,Je,_)=>{"use strict";_.d(Je,{nX:()=>ho,j5:()=>is,wF:()=>cr,L6:()=>to,Z:()=>Zi,gx:()=>Ur,Ix:()=>ya,iI:()=>_d,n3:()=>Xo});var h=_(7404),O=_(6899),E=_(2677),A=_(1536),S=_(521),C=_(2175),W=_(5363),L=_(6933),N=_(6965),z=_(782),re=_(6651),q=_(4380),Z=_(1810),ee=_(3119),De=_(2672),Ee=_(316),ke=_(5443),Qe=_(1963),Pe=_(3602),Ye=_(9273),Re=_(8627),nt=_(3107),Te=_(7871),je=_(9003),Xe=_(6e3),Q=_(9314),rt=_(8097);class ot{constructor(le,ie,Ie=!1){this.accumulator=le,this.seed=ie,this.hasSeed=Ie}call(le,ie){return ie.subscribe(new bt(le,this.accumulator,this.seed,this.hasSeed))}}class bt extends rt.v{constructor(le,ie,Ie,lt){super(le),this.accumulator=ie,this._seed=Ie,this.hasSeed=lt,this.index=0}get seed(){return this._seed}set seed(le){this.hasSeed=!0,this._seed=le}_next(le){if(this.hasSeed)return this._tryNext(le);this.seed=le,this.destination.next(le)}_tryNext(le){const ie=this.index++;let Ie;try{Ie=this.accumulator(this.seed,le,ie)}catch(lt){this.destination.error(lt)}this.seed=Ie,this.destination.next(Ie)}}var Nt=_(4702),St=_(5741);function $t(Y){return function(ie){return 0===Y?(0,q.I)():ie.lift(new Ce(Y))}}class Ce{constructor(le){if(this.total=le,this.total<0)throw new St.k}call(le,ie){return ie.subscribe(new ce(le,this.total))}}class ce extends rt.v{constructor(le,ie){super(le),this.total=ie,this.ring=new Array,this.count=0}_next(le){const ie=this.ring,Ie=this.total,lt=this.count++;ie.length<Ie?ie.push(le):ie[lt%Ie]=le}_complete(){const le=this.destination;let ie=this.count;if(ie>0){const Ie=this.count>=this.total?this.total:this.count,lt=this.ring;for(let Ut=0;Ut<Ie;Ut++){const gn=ie++%Ie;le.next(lt[gn])}}le.complete()}}var ve=_(3505),me=_(5980);class Et{constructor(le){this.value=le}call(le,ie){return ie.subscribe(new En(le,this.value))}}class En extends rt.v{constructor(le,ie){super(le),this.value=ie}_next(le){this.destination.next(this.value)}}var Me=_(9863),kn=_(3261),nn=_(7464),Ot=_(9450),Ft=_(436);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const ft="primary",Ae=Symbol("RouteTitle");class Ve{constructor(le){this.params=le||{}}has(le){return Object.prototype.hasOwnProperty.call(this.params,le)}get(le){if(this.has(le)){const ie=this.params[le];return Array.isArray(ie)?ie[0]:ie}return null}getAll(le){if(this.has(le)){const ie=this.params[le];return Array.isArray(ie)?ie:[ie]}return[]}get keys(){return Object.keys(this.params)}}function vt(Y){return new Ve(Y)}function an(Y,le,ie){const Ie=ie.path.split("/");if(Ie.length>Y.length||"full"===ie.pathMatch&&(le.hasChildren()||Ie.length<Y.length))return null;const lt={};for(let Ut=0;Ut<Ie.length;Ut++){const gn=Ie[Ut],hi=Y[Ut];if(":"===gn[0])lt[gn.substring(1)]=hi;else if(gn!==hi.path)return null}return{consumed:Y.slice(0,Ie.length),posParams:lt}}function yt(Y,le){const ie=Y?Jt(Y):void 0,Ie=le?Jt(le):void 0;if(!ie||!Ie||ie.length!=Ie.length)return!1;let lt;for(let Ut=0;Ut<ie.length;Ut++)if(lt=ie[Ut],!vn(Y[lt],le[lt]))return!1;return!0}function Jt(Y){return[...Object.keys(Y),...Object.getOwnPropertySymbols(Y)]}function vn(Y,le){if(Array.isArray(Y)&&Array.isArray(le)){if(Y.length!==le.length)return!1;const ie=[...Y].sort(),Ie=[...le].sort();return ie.every((lt,Ut)=>Ie[Ut]===lt)}return Y===le}function wn(Y){return Y.length>0?Y[Y.length-1]:null}function on(Y){return(0,O.A)(Y)?Y:(0,h.jNT)(Y)?(0,E.H)(Promise.resolve(Y)):(0,A.of)(Y)}const sn={exact:function ut(Y,le,ie){if(!Bt(Y.segments,le.segments)||!$i(Y.segments,le.segments,ie)||Y.numberOfChildren!==le.numberOfChildren)return!1;for(const Ie in le.children)if(!Y.children[Ie]||!ut(Y.children[Ie],le.children[Ie],ie))return!1;return!0},subset:fn},de={exact:function _e(Y,le){return yt(Y,le)},subset:function rn(Y,le){return Object.keys(le).length<=Object.keys(Y).length&&Object.keys(le).every(ie=>vn(Y[ie],le[ie]))},ignored:()=>!0};function tt(Y,le,ie){return sn[ie.paths](Y.root,le.root,ie.matrixParams)&&de[ie.queryParams](Y.queryParams,le.queryParams)&&!("exact"===ie.fragment&&Y.fragment!==le.fragment)}function fn(Y,le,ie){return ci(Y,le,le.segments,ie)}function ci(Y,le,ie,Ie){if(Y.segments.length>ie.length){const lt=Y.segments.slice(0,ie.length);return!(!Bt(lt,ie)||le.hasChildren()||!$i(lt,ie,Ie))}if(Y.segments.length===ie.length){if(!Bt(Y.segments,ie)||!$i(Y.segments,ie,Ie))return!1;for(const lt in le.children)if(!Y.children[lt]||!fn(Y.children[lt],le.children[lt],Ie))return!1;return!0}{const lt=ie.slice(0,Y.segments.length),Ut=ie.slice(Y.segments.length);return!!(Bt(Y.segments,lt)&&$i(Y.segments,lt,Ie)&&Y.children[ft])&&ci(Y.children[ft],le,Ut,Ie)}}function $i(Y,le,ie){return le.every((Ie,lt)=>de[ie](Y[lt].parameters,Ie.parameters))}class mn{constructor(le=new cn([],{}),ie={},Ie=null){this.root=le,this.queryParams=ie,this.fragment=Ie}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return Vn.serialize(this)}}class cn{constructor(le,ie){this.segments=le,this.children=ie,this.parent=null,Object.values(ie).forEach(Ie=>Ie.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ui(this)}}class wt{constructor(le,ie){this.path=le,this.parameters=ie}get parameterMap(){return this._parameterMap??=vt(this.parameters),this._parameterMap}toString(){return Rn(this)}}function Bt(Y,le){return Y.length===le.length&&Y.every((ie,Ie)=>ie.path===le[Ie].path)}let Xn=(()=>{class Y{static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:()=>new zi,providedIn:"root"})}return Y})();class zi{parse(le){const ie=new hn(le);return new mn(ie.parseRootSegment(),ie.parseQueryParams(),ie.parseFragment())}serialize(le){const ie=`/${Pn(le.root,!0)}`,Ie=function dt(Y){const le=Object.entries(Y).map(([ie,Ie])=>Array.isArray(Ie)?Ie.map(lt=>`${jt(ie)}=${jt(lt)}`).join("&"):`${jt(ie)}=${jt(Ie)}`).filter(ie=>ie);return le.length?`?${le.join("&")}`:""}(le.queryParams);return`${ie}${Ie}${"string"==typeof le.fragment?`#${function xt(Y){return encodeURI(Y)}(le.fragment)}`:""}`}}const Vn=new zi;function ui(Y){return Y.segments.map(le=>Rn(le)).join("/")}function Pn(Y,le){if(!Y.hasChildren())return ui(Y);if(le){const ie=Y.children[ft]?Pn(Y.children[ft],!1):"",Ie=[];return Object.entries(Y.children).forEach(([lt,Ut])=>{lt!==ft&&Ie.push(`${lt}:${Pn(Ut,!1)}`)}),Ie.length>0?`${ie}(${Ie.join("//")})`:ie}{const ie=function An(Y,le){let ie=[];return Object.entries(Y.children).forEach(([Ie,lt])=>{Ie===ft&&(ie=ie.concat(le(lt,Ie)))}),Object.entries(Y.children).forEach(([Ie,lt])=>{Ie!==ft&&(ie=ie.concat(le(lt,Ie)))}),ie}(Y,(Ie,lt)=>lt===ft?[Pn(Y.children[ft],!1)]:[`${lt}:${Pn(Ie,!1)}`]);return 1===Object.keys(Y.children).length&&null!=Y.children[ft]?`${ui(Y)}/${ie[0]}`:`${ui(Y)}/(${ie.join("//")})`}}function oi(Y){return encodeURIComponent(Y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jt(Y){return oi(Y).replace(/%3B/gi,";")}function qt(Y){return oi(Y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(Y){return decodeURIComponent(Y)}function Kt(Y){return Lt(Y.replace(/\+/g,"%20"))}function Rn(Y){return`${qt(Y.path)}${function Un(Y){return Object.entries(Y).map(([le,ie])=>`;${qt(le)}=${qt(ie)}`).join("")}(Y.parameters)}`}const we=/^[^\/()?;#]+/;function Ne(Y){const le=Y.match(we);return le?le[0]:""}const U=/^[^\/()?;=#]+/,be=/^[^=?&#]+/,Ze=/^[^&#]+/;class hn{constructor(le){this.url=le,this.remaining=le}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const le={};if(this.consumeOptional("?"))do{this.parseQueryParam(le)}while(this.consumeOptional("&"));return le}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const le=[];for(this.peekStartsWith("(")||le.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),le.push(this.parseSegment());let ie={};this.peekStartsWith("/(")&&(this.capture("/"),ie=this.parseParens(!0));let Ie={};return this.peekStartsWith("(")&&(Ie=this.parseParens(!1)),(le.length>0||Object.keys(ie).length>0)&&(Ie[ft]=new cn(le,ie)),Ie}parseSegment(){const le=Ne(this.remaining);if(""===le&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(le),new wt(Lt(le),this.parseMatrixParams())}parseMatrixParams(){const le={};for(;this.consumeOptional(";");)this.parseParam(le);return le}parseParam(le){const ie=function Se(Y){const le=Y.match(U);return le?le[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let Ie="";if(this.consumeOptional("=")){const lt=Ne(this.remaining);lt&&(Ie=lt,this.capture(Ie))}le[Lt(ie)]=Lt(Ie)}parseQueryParam(le){const ie=function ct(Y){const le=Y.match(be);return le?le[0]:""}(this.remaining);if(!ie)return;this.capture(ie);let Ie="";if(this.consumeOptional("=")){const gn=function Mt(Y){const le=Y.match(Ze);return le?le[0]:""}(this.remaining);gn&&(Ie=gn,this.capture(Ie))}const lt=Kt(ie),Ut=Kt(Ie);if(le.hasOwnProperty(lt)){let gn=le[lt];Array.isArray(gn)||(gn=[gn],le[lt]=gn),gn.push(Ut)}else le[lt]=Ut}parseParens(le){const ie={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ie=Ne(this.remaining),lt=this.remaining[Ie.length];if("/"!==lt&&")"!==lt&&";"!==lt)throw new h.wOt(4010,!1);let Ut;Ie.indexOf(":")>-1?(Ut=Ie.slice(0,Ie.indexOf(":")),this.capture(Ut),this.capture(":")):le&&(Ut=ft);const gn=this.parseChildren();ie[Ut]=1===Object.keys(gn).length?gn[ft]:new cn([],gn),this.consumeOptional("//")}return ie}peekStartsWith(le){return this.remaining.startsWith(le)}consumeOptional(le){return!!this.peekStartsWith(le)&&(this.remaining=this.remaining.substring(le.length),!0)}capture(le){if(!this.consumeOptional(le))throw new h.wOt(4011,!1)}}function Kn(Y){return Y.segments.length>0?new cn([],{[ft]:Y}):Y}function Jn(Y){const le={};for(const[Ie,lt]of Object.entries(Y.children)){const Ut=Jn(lt);if(Ie===ft&&0===Ut.segments.length&&Ut.hasChildren())for(const[gn,hi]of Object.entries(Ut.children))le[gn]=hi;else(Ut.segments.length>0||Ut.hasChildren())&&(le[Ie]=Ut)}return function Bi(Y){if(1===Y.numberOfChildren&&Y.children[ft]){const le=Y.children[ft];return new cn(Y.segments.concat(le.segments),le.children)}return Y}(new cn(Y.segments,le))}function di(Y){return Y instanceof mn}function br(Y){let le;const lt=Kn(function ie(Ut){const gn={};for(const Qn of Ut.children){const Yi=ie(Qn);gn[Qn.outlet]=Yi}const hi=new cn(Ut.url,gn);return Ut===Y&&(le=hi),hi}(Y.root));return le??lt}function Tr(Y,le,ie,Ie){let lt=Y;for(;lt.parent;)lt=lt.parent;if(0===le.length)return as(lt,lt,lt,ie,Ie);const Ut=function Os(Y){if("string"==typeof Y[0]&&1===Y.length&&"/"===Y[0])return new bs(!0,0,Y);let le=0,ie=!1;const Ie=Y.reduce((lt,Ut,gn)=>{if("object"==typeof Ut&&null!=Ut){if(Ut.outlets){const hi={};return Object.entries(Ut.outlets).forEach(([Qn,Yi])=>{hi[Qn]="string"==typeof Yi?Yi.split("/"):Yi}),[...lt,{outlets:hi}]}if(Ut.segmentPath)return[...lt,Ut.segmentPath]}return"string"!=typeof Ut?[...lt,Ut]:0===gn?(Ut.split("/").forEach((hi,Qn)=>{0==Qn&&"."===hi||(0==Qn&&""===hi?ie=!0:".."===hi?le++:""!=hi&&lt.push(hi))}),lt):[...lt,Ut]},[]);return new bs(ie,le,Ie)}(le);if(Ut.toRoot())return as(lt,lt,new cn([],{}),ie,Ie);const gn=function lr(Y,le,ie){if(Y.isAbsolute)return new ds(le,!0,0);if(!ie)return new ds(le,!1,NaN);if(null===ie.parent)return new ds(ie,!0,0);const Ie=Hi(Y.commands[0])?0:1;return function Ir(Y,le,ie){let Ie=Y,lt=le,Ut=ie;for(;Ut>lt;){if(Ut-=lt,Ie=Ie.parent,!Ie)throw new h.wOt(4005,!1);lt=Ie.segments.length}return new ds(Ie,!1,lt-Ut)}(ie,ie.segments.length-1+Ie,Y.numberOfDoubleDots)}(Ut,lt,Y),hi=gn.processChildren?xi(gn.segmentGroup,gn.index,Ut.commands):tr(gn.segmentGroup,gn.index,Ut.commands);return as(lt,gn.segmentGroup,hi,ie,Ie)}function Hi(Y){return"object"==typeof Y&&null!=Y&&!Y.outlets&&!Y.segmentPath}function xr(Y){return"object"==typeof Y&&null!=Y&&Y.outlets}function as(Y,le,ie,Ie,lt){let gn,Ut={};Ie&&Object.entries(Ie).forEach(([Qn,Yi])=>{Ut[Qn]=Array.isArray(Yi)?Yi.map(ir=>`${ir}`):`${Yi}`}),gn=Y===le?ie:ts(Y,le,ie);const hi=Kn(Jn(gn));return new mn(hi,Ut,lt)}function ts(Y,le,ie){const Ie={};return Object.entries(Y.children).forEach(([lt,Ut])=>{Ie[lt]=Ut===le?ie:ts(Ut,le,ie)}),new cn(Y.segments,Ie)}class bs{constructor(le,ie,Ie){if(this.isAbsolute=le,this.numberOfDoubleDots=ie,this.commands=Ie,le&&Ie.length>0&&Hi(Ie[0]))throw new h.wOt(4003,!1);const lt=Ie.find(xr);if(lt&&lt!==wn(Ie))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ds{constructor(le,ie,Ie){this.segmentGroup=le,this.processChildren=ie,this.index=Ie}}function tr(Y,le,ie){if(Y??=new cn([],{}),0===Y.segments.length&&Y.hasChildren())return xi(Y,le,ie);const Ie=function He(Y,le,ie){let Ie=0,lt=le;const Ut={match:!1,pathIndex:0,commandIndex:0};for(;lt<Y.segments.length;){if(Ie>=ie.length)return Ut;const gn=Y.segments[lt],hi=ie[Ie];if(xr(hi))break;const Qn=`${hi}`,Yi=Ie<ie.length-1?ie[Ie+1]:null;if(lt>0&&void 0===Qn)break;if(Qn&&Yi&&"object"==typeof Yi&&void 0===Yi.outlets){if(!ze(Qn,Yi,gn))return Ut;Ie+=2}else{if(!ze(Qn,{},gn))return Ut;Ie++}lt++}return{match:!0,pathIndex:lt,commandIndex:Ie}}(Y,le,ie),lt=ie.slice(Ie.commandIndex);if(Ie.match&&Ie.pathIndex<Y.segments.length){const Ut=new cn(Y.segments.slice(0,Ie.pathIndex),{});return Ut.children[ft]=new cn(Y.segments.slice(Ie.pathIndex),Y.children),xi(Ut,0,lt)}return Ie.match&&0===lt.length?new cn(Y.segments,{}):Ie.match&&!Y.hasChildren()?Rt(Y,le,ie):Ie.match?xi(Y,0,lt):Rt(Y,le,ie)}function xi(Y,le,ie){if(0===ie.length)return new cn(Y.segments,{});{const Ie=function vr(Y){return xr(Y[0])?Y[0].outlets:{[ft]:Y}}(ie),lt={};if(Object.keys(Ie).some(Ut=>Ut!==ft)&&Y.children[ft]&&1===Y.numberOfChildren&&0===Y.children[ft].segments.length){const Ut=xi(Y.children[ft],le,ie);return new cn(Y.segments,Ut.children)}return Object.entries(Ie).forEach(([Ut,gn])=>{"string"==typeof gn&&(gn=[gn]),null!==gn&&(lt[Ut]=tr(Y.children[Ut],le,gn))}),Object.entries(Y.children).forEach(([Ut,gn])=>{void 0===Ie[Ut]&&(lt[Ut]=gn)}),new cn(Y.segments,lt)}}function Rt(Y,le,ie){const Ie=Y.segments.slice(0,le);let lt=0;for(;lt<ie.length;){const Ut=ie[lt];if(xr(Ut)){const Qn=H(Ut.outlets);return new cn(Ie,Qn)}if(0===lt&&Hi(ie[0])){Ie.push(new wt(Y.segments[le].path,Ke(ie[0]))),lt++;continue}const gn=xr(Ut)?Ut.outlets[ft]:`${Ut}`,hi=lt<ie.length-1?ie[lt+1]:null;gn&&hi&&Hi(hi)?(Ie.push(new wt(gn,Ke(hi))),lt+=2):(Ie.push(new wt(gn,{})),lt++)}return new cn(Ie,{})}function H(Y){const le={};return Object.entries(Y).forEach(([ie,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(le[ie]=Rt(new cn([],{}),0,Ie))}),le}function Ke(Y){const le={};return Object.entries(Y).forEach(([ie,Ie])=>le[ie]=`${Ie}`),le}function ze(Y,le,ie){return Y==ie.path&&yt(le,ie.parameters)}const kt="imperative";var Vt=function(Y){return Y[Y.NavigationStart=0]="NavigationStart",Y[Y.NavigationEnd=1]="NavigationEnd",Y[Y.NavigationCancel=2]="NavigationCancel",Y[Y.NavigationError=3]="NavigationError",Y[Y.RoutesRecognized=4]="RoutesRecognized",Y[Y.ResolveStart=5]="ResolveStart",Y[Y.ResolveEnd=6]="ResolveEnd",Y[Y.GuardsCheckStart=7]="GuardsCheckStart",Y[Y.GuardsCheckEnd=8]="GuardsCheckEnd",Y[Y.RouteConfigLoadStart=9]="RouteConfigLoadStart",Y[Y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Y[Y.ChildActivationStart=11]="ChildActivationStart",Y[Y.ChildActivationEnd=12]="ChildActivationEnd",Y[Y.ActivationStart=13]="ActivationStart",Y[Y.ActivationEnd=14]="ActivationEnd",Y[Y.Scroll=15]="Scroll",Y[Y.NavigationSkipped=16]="NavigationSkipped",Y}(Vt||{});class mi{constructor(le,ie){this.id=le,this.url=ie}}class Zi extends mi{constructor(le,ie,Ie="imperative",lt=null){super(le,ie),this.type=Vt.NavigationStart,this.navigationTrigger=Ie,this.restoredState=lt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cr extends mi{constructor(le,ie,Ie){super(le,ie),this.urlAfterRedirects=Ie,this.type=Vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ns=function(Y){return Y[Y.Redirect=0]="Redirect",Y[Y.SupersededByNewNavigation=1]="SupersededByNewNavigation",Y[Y.NoDataFromResolver=2]="NoDataFromResolver",Y[Y.GuardRejected=3]="GuardRejected",Y}(ns||{}),Jr=function(Y){return Y[Y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Y[Y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Y}(Jr||{});class is extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.reason=Ie,this.code=lt,this.type=Vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Es extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.reason=Ie,this.code=lt,this.type=Vt.NavigationSkipped}}class to extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.error=Ie,this.target=lt,this.type=Vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gr extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.urlAfterRedirects=Ie,this.state=lt,this.type=Vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.urlAfterRedirects=Ie,this.state=lt,this.type=Vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs extends mi{constructor(le,ie,Ie,lt,Ut){super(le,ie),this.urlAfterRedirects=Ie,this.state=lt,this.shouldActivate=Ut,this.type=Vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bo extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.urlAfterRedirects=Ie,this.state=lt,this.type=Vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends mi{constructor(le,ie,Ie,lt){super(le,ie),this.urlAfterRedirects=Ie,this.state=lt,this.type=Vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go{constructor(le){this.route=le,this.type=Vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wo{constructor(le){this.route=le,this.type=Vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ko{constructor(le){this.snapshot=le,this.type=Vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rl{constructor(le){this.snapshot=le,this.type=Vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $a{constructor(le){this.snapshot=le,this.type=Vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qa{constructor(le){this.snapshot=le,this.type=Vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(le,ie,Ie){this.routerEvent=le,this.position=ie,this.anchor=Ie,this.type=Vt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class co{}class Ba{constructor(le,ie){this.url=le,this.navigationBehaviorOptions=ie}}function Zs(Y){return Y.outlet||ft}function ga(Y){if(!Y)return null;if(Y.routeConfig?._injector)return Y.routeConfig._injector;for(let le=Y.parent;le;le=le.parent){const ie=le.routeConfig;if(ie?._loadedInjector)return ie._loadedInjector;if(ie?._injector)return ie._injector}return null}class Ue{get injector(){return ga(this.route?.snapshot)??this.rootInjector}set injector(le){}constructor(le){this.rootInjector=le,this.outlet=null,this.route=null,this.children=new Wt(this.rootInjector),this.attachRef=null}}let Wt=(()=>{class Y{constructor(ie){this.rootInjector=ie,this.contexts=new Map}onChildOutletCreated(ie,Ie){const lt=this.getOrCreateContext(ie);lt.outlet=Ie,this.contexts.set(ie,lt)}onChildOutletDestroyed(ie){const Ie=this.getContext(ie);Ie&&(Ie.outlet=null,Ie.attachRef=null)}onOutletDeactivated(){const ie=this.contexts;return this.contexts=new Map,ie}onOutletReAttached(ie){this.contexts=ie}getOrCreateContext(ie){let Ie=this.getContext(ie);return Ie||(Ie=new Ue(this.rootInjector),this.contexts.set(ie,Ie)),Ie}getContext(ie){return this.contexts.get(ie)||null}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)(h.KVO(h.uvJ))};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();class In{constructor(le){this._root=le}get root(){return this._root.value}parent(le){const ie=this.pathFromRoot(le);return ie.length>1?ie[ie.length-2]:null}children(le){const ie=fi(le,this._root);return ie?ie.children.map(Ie=>Ie.value):[]}firstChild(le){const ie=fi(le,this._root);return ie&&ie.children.length>0?ie.children[0].value:null}siblings(le){const ie=Nr(le,this._root);return ie.length<2?[]:ie[ie.length-2].children.map(lt=>lt.value).filter(lt=>lt!==le)}pathFromRoot(le){return Nr(le,this._root).map(ie=>ie.value)}}function fi(Y,le){if(Y===le.value)return le;for(const ie of le.children){const Ie=fi(Y,ie);if(Ie)return Ie}return null}function Nr(Y,le){if(Y===le.value)return[le];for(const ie of le.children){const Ie=Nr(Y,ie);if(Ie.length)return Ie.unshift(le),Ie}return[]}class dr{constructor(le,ie){this.value=le,this.children=ie}toString(){return`TreeNode(${this.value})`}}function Wr(Y){const le={};return Y&&Y.children.forEach(ie=>le[ie.value.outlet]=ie),le}class hs extends In{constructor(le,ie){super(le),this.snapshot=ie,vs(this,le)}toString(){return this.snapshot.toString()}}function Vs(Y){const le=function Ms(Y){const Ut=new $r([],{},{},"",{},ft,Y,null,{});return new oo("",new dr(Ut,[]))}(Y),ie=new S.t([new wt("",{})]),Ie=new S.t({}),lt=new S.t({}),Ut=new S.t({}),gn=new S.t(""),hi=new ho(ie,Ie,Ut,gn,lt,ft,Y,le.root);return hi.snapshot=le.root,new hs(new dr(hi,[]),le)}class ho{constructor(le,ie,Ie,lt,Ut,gn,hi,Qn){this.urlSubject=le,this.paramsSubject=ie,this.queryParamsSubject=Ie,this.fragmentSubject=lt,this.dataSubject=Ut,this.outlet=gn,this.component=hi,this._futureSnapshot=Qn,this.title=this.dataSubject?.pipe((0,ke.T)(Yi=>Yi[Ae]))??(0,A.of)(void 0),this.url=le,this.params=ie,this.queryParams=Ie,this.fragment=lt,this.data=Ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ke.T)(le=>vt(le))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ke.T)(le=>vt(le))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(Y,le,ie="emptyOnly"){let Ie;const{routeConfig:lt}=Y;return Ie=null===le||"always"!==ie&&""!==lt?.path&&(le.component||le.routeConfig?.loadComponent)?{params:{...Y.params},data:{...Y.data},resolve:{...Y.data,...Y._resolvedData??{}}}:{params:{...le.params,...Y.params},data:{...le.data,...Y.data},resolve:{...Y.data,...le.data,...lt?.data,...Y._resolvedData}},lt&&Ki(lt)&&(Ie.resolve[Ae]=lt.title),Ie}class $r{get title(){return this.data?.[Ae]}constructor(le,ie,Ie,lt,Ut,gn,hi,Qn,Yi){this.url=le,this.params=ie,this.queryParams=Ie,this.fragment=lt,this.data=Ut,this.outlet=gn,this.component=hi,this.routeConfig=Qn,this._resolve=Yi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ie=>Ie.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oo extends In{constructor(le,ie){super(ie),this.url=le,vs(this,ie)}toString(){return sa(this._root)}}function vs(Y,le){le.value._routerState=Y,le.children.forEach(ie=>vs(Y,ie))}function sa(Y){const le=Y.children.length>0?` { ${Y.children.map(sa).join(", ")} } `:"";return`${Y.value}${le}`}function ea(Y){if(Y.snapshot){const le=Y.snapshot,ie=Y._futureSnapshot;Y.snapshot=ie,yt(le.queryParams,ie.queryParams)||Y.queryParamsSubject.next(ie.queryParams),le.fragment!==ie.fragment&&Y.fragmentSubject.next(ie.fragment),yt(le.params,ie.params)||Y.paramsSubject.next(ie.params),function Pt(Y,le){if(Y.length!==le.length)return!1;for(let ie=0;ie<Y.length;++ie)if(!yt(Y[ie],le[ie]))return!1;return!0}(le.url,ie.url)||Y.urlSubject.next(ie.url),yt(le.data,ie.data)||Y.dataSubject.next(ie.data)}else Y.snapshot=Y._futureSnapshot,Y.dataSubject.next(Y._futureSnapshot.data)}function la(Y,le){const ie=yt(Y.params,le.params)&&function Ht(Y,le){return Bt(Y,le)&&Y.every((ie,Ie)=>yt(ie.parameters,le[Ie].parameters))}(Y.url,le.url);return ie&&!(!Y.parent!=!le.parent)&&(!Y.parent||la(Y.parent,le.parent))}function Ki(Y){return"string"==typeof Y.title||null===Y.title}let Xo=(()=>{class Y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new h.bkB,this.deactivateEvents=new h.bkB,this.attachEvents=new h.bkB,this.detachEvents=new h.bkB,this.parentContexts=(0,h.WQX)(Wt),this.location=(0,h.WQX)(h.c1b),this.changeDetector=(0,h.WQX)(h.gRc),this.inputBinder=(0,h.WQX)(Ca,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ie){if(ie.name){const{firstChange:Ie,previousValue:lt}=ie.name;if(Ie)return;this.isTrackedInParentContexts(lt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(lt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ie){return this.parentContexts.getContext(ie)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ie=this.parentContexts.getContext(this.name);ie?.route&&(ie.attachRef?this.attach(ie.attachRef,ie.route):this.activateWith(ie.route,ie.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const ie=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ie.instance),ie}attach(ie,Ie){this.activated=ie,this._activatedRoute=Ie,this.location.insert(ie.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ie.instance)}deactivate(){if(this.activated){const ie=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ie)}}activateWith(ie,Ie){if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=ie;const lt=this.location,gn=ie.snapshot.component,hi=this.parentContexts.getOrCreateContext(this.name).children,Qn=new So(ie,hi,lt.injector);this.activated=lt.createComponent(gn,{index:lt.length,injector:Qn,environmentInjector:Ie}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275dir=h.FsC({type:Y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.OA$]})}return Y})();class So{__ngOutletInjector(le){return new So(this.route,this.childContexts,le)}constructor(le,ie,Ie){this.route=le,this.childContexts=ie,this.parent=Ie}get(le,ie){return le===ho?this.route:le===Wt?this.childContexts:this.parent.get(le,ie)}}const Ca=new h.nKC("");let xc=(()=>{class Y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ie){this.unsubscribeFromRouteData(ie),this.subscribeToRouteData(ie)}unsubscribeFromRouteData(ie){this.outletDataSubscriptions.get(ie)?.unsubscribe(),this.outletDataSubscriptions.delete(ie)}subscribeToRouteData(ie){const{activatedRoute:Ie}=ie,lt=(0,C.zV)([Ie.queryParams,Ie.params,Ie.data]).pipe((0,Qe.n)(([Ut,gn,hi],Qn)=>(hi={...Ut,...gn,...hi},0===Qn?(0,A.of)(hi):Promise.resolve(hi)))).subscribe(Ut=>{if(!ie.isActivated||!ie.activatedComponentRef||ie.activatedRoute!==Ie||null===Ie.component)return void this.unsubscribeFromRouteData(ie);const gn=(0,h.HJs)(Ie.component);if(gn)for(const{templateName:hi}of gn.inputs)ie.activatedComponentRef.setInput(hi,Ut[hi]);else this.unsubscribeFromRouteData(ie)});this.outletDataSubscriptions.set(ie,lt)}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac})}return Y})();function Oo(Y,le,ie){if(ie&&Y.shouldReuseRoute(le.value,ie.value.snapshot)){const Ie=ie.value;Ie._futureSnapshot=le.value;const lt=function ta(Y,le,ie){return le.children.map(Ie=>{for(const lt of ie.children)if(Y.shouldReuseRoute(Ie.value,lt.value.snapshot))return Oo(Y,Ie,lt);return Oo(Y,Ie)})}(Y,le,ie);return new dr(Ie,lt)}{if(Y.shouldAttach(le.value)){const Ut=Y.retrieve(le.value);if(null!==Ut){const gn=Ut.route;return gn.value._futureSnapshot=le.value,gn.children=le.children.map(hi=>Oo(Y,hi)),gn}}const Ie=function Ya(Y){return new ho(new S.t(Y.url),new S.t(Y.params),new S.t(Y.queryParams),new S.t(Y.fragment),new S.t(Y.data),Y.outlet,Y.component,Y)}(le.value),lt=le.children.map(Ut=>Oo(Y,Ut));return new dr(Ie,lt)}}class Qa{constructor(le,ie){this.redirectTo=le,this.navigationBehaviorOptions=ie}}const sl="ngNavigationCancelingError";function Ua(Y,le){const{redirectTo:ie,navigationBehaviorOptions:Ie}=di(le)?{redirectTo:le,navigationBehaviorOptions:void 0}:le,lt=Da(!1,ns.Redirect);return lt.url=ie,lt.navigationBehaviorOptions=Ie,lt}function Da(Y,le){const ie=new Error(`NavigationCancelingError: ${Y||""}`);return ie[sl]=!0,ie.cancellationCode=le,ie}function Xl(Y){return!!Y&&Y[sl]}class Za{constructor(le,ie,Ie,lt,Ut){this.routeReuseStrategy=le,this.futureState=ie,this.currState=Ie,this.forwardEvent=lt,this.inputBindingEnabled=Ut}activate(le){const ie=this.futureState._root,Ie=this.currState?this.currState._root:null;this.deactivateChildRoutes(ie,Ie,le),ea(this.futureState.root),this.activateChildRoutes(ie,Ie,le)}deactivateChildRoutes(le,ie,Ie){const lt=Wr(ie);le.children.forEach(Ut=>{const gn=Ut.value.outlet;this.deactivateRoutes(Ut,lt[gn],Ie),delete lt[gn]}),Object.values(lt).forEach(Ut=>{this.deactivateRouteAndItsChildren(Ut,Ie)})}deactivateRoutes(le,ie,Ie){const lt=le.value,Ut=ie?ie.value:null;if(lt===Ut)if(lt.component){const gn=Ie.getContext(lt.outlet);gn&&this.deactivateChildRoutes(le,ie,gn.children)}else this.deactivateChildRoutes(le,ie,Ie);else Ut&&this.deactivateRouteAndItsChildren(ie,Ie)}deactivateRouteAndItsChildren(le,ie){le.value.component&&this.routeReuseStrategy.shouldDetach(le.value.snapshot)?this.detachAndStoreRouteSubtree(le,ie):this.deactivateRouteAndOutlet(le,ie)}detachAndStoreRouteSubtree(le,ie){const Ie=ie.getContext(le.value.outlet),lt=Ie&&le.value.component?Ie.children:ie,Ut=Wr(le);for(const gn of Object.values(Ut))this.deactivateRouteAndItsChildren(gn,lt);if(Ie&&Ie.outlet){const gn=Ie.outlet.detach(),hi=Ie.children.onOutletDeactivated();this.routeReuseStrategy.store(le.value.snapshot,{componentRef:gn,route:le,contexts:hi})}}deactivateRouteAndOutlet(le,ie){const Ie=ie.getContext(le.value.outlet),lt=Ie&&le.value.component?Ie.children:ie,Ut=Wr(le);for(const gn of Object.values(Ut))this.deactivateRouteAndItsChildren(gn,lt);Ie&&(Ie.outlet&&(Ie.outlet.deactivate(),Ie.children.onOutletDeactivated()),Ie.attachRef=null,Ie.route=null)}activateChildRoutes(le,ie,Ie){const lt=Wr(ie);le.children.forEach(Ut=>{this.activateRoutes(Ut,lt[Ut.value.outlet],Ie),this.forwardEvent(new qa(Ut.value.snapshot))}),le.children.length&&this.forwardEvent(new rl(le.value.snapshot))}activateRoutes(le,ie,Ie){const lt=le.value,Ut=ie?ie.value:null;if(ea(lt),lt===Ut)if(lt.component){const gn=Ie.getOrCreateContext(lt.outlet);this.activateChildRoutes(le,ie,gn.children)}else this.activateChildRoutes(le,ie,Ie);else if(lt.component){const gn=Ie.getOrCreateContext(lt.outlet);if(this.routeReuseStrategy.shouldAttach(lt.snapshot)){const hi=this.routeReuseStrategy.retrieve(lt.snapshot);this.routeReuseStrategy.store(lt.snapshot,null),gn.children.onOutletReAttached(hi.contexts),gn.attachRef=hi.componentRef,gn.route=hi.route.value,gn.outlet&&gn.outlet.attach(hi.componentRef,hi.route.value),ea(hi.route.value),this.activateChildRoutes(le,null,gn.children)}else gn.attachRef=null,gn.route=lt,gn.outlet&&gn.outlet.activateWith(lt,gn.injector),this.activateChildRoutes(le,null,gn.children)}else this.activateChildRoutes(le,null,Ie)}}class Ps{constructor(le){this.path=le,this.route=this.path[this.path.length-1]}}class Dl{constructor(le,ie){this.component=le,this.route=ie}}function qo(Y,le,ie){const Ie=Y._root;return ol(Ie,le?le._root:null,ie,[Ie.value])}function gl(Y,le){const ie=Symbol(),Ie=le.get(Y,ie);return Ie===ie?"function"!=typeof Y||(0,h.LfX)(Y)?le.get(Y):Y:Ie}function ol(Y,le,ie,Ie,lt={canDeactivateChecks:[],canActivateChecks:[]}){const Ut=Wr(le);return Y.children.forEach(gn=>{(function ql(Y,le,ie,Ie,lt={canDeactivateChecks:[],canActivateChecks:[]}){const Ut=Y.value,gn=le?le.value:null,hi=ie?ie.getContext(Y.value.outlet):null;if(gn&&Ut.routeConfig===gn.routeConfig){const Qn=function qr(Y,le,ie){if("function"==typeof ie)return ie(Y,le);switch(ie){case"pathParamsChange":return!Bt(Y.url,le.url);case"pathParamsOrQueryParamsChange":return!Bt(Y.url,le.url)||!yt(Y.queryParams,le.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!la(Y,le)||!yt(Y.queryParams,le.queryParams);default:return!la(Y,le)}}(gn,Ut,Ut.routeConfig.runGuardsAndResolvers);Qn?lt.canActivateChecks.push(new Ps(Ie)):(Ut.data=gn.data,Ut._resolvedData=gn._resolvedData),ol(Y,le,Ut.component?hi?hi.children:null:ie,Ie,lt),Qn&&hi&&hi.outlet&&hi.outlet.isActivated&&lt.canDeactivateChecks.push(new Dl(hi.outlet.component,gn))}else gn&&ao(le,hi,lt),lt.canActivateChecks.push(new Ps(Ie)),ol(Y,null,Ut.component?hi?hi.children:null:ie,Ie,lt)})(gn,Ut[gn.value.outlet],ie,Ie.concat([gn.value]),lt),delete Ut[gn.value.outlet]}),Object.entries(Ut).forEach(([gn,hi])=>ao(hi,ie.getContext(gn),lt)),lt}function ao(Y,le,ie){const Ie=Wr(Y),lt=Y.value;Object.entries(Ie).forEach(([Ut,gn])=>{ao(gn,lt.component?le?le.children.getContext(Ut):null:le,ie)}),ie.canDeactivateChecks.push(new Dl(lt.component&&le&&le.outlet&&le.outlet.isActivated?le.outlet.component:null,lt))}function Yo(Y){return"function"==typeof Y}function te(Y){return Y instanceof W.G||"EmptyError"===Y?.name}const K=Symbol("INITIAL_VALUE");function We(){return(0,Qe.n)(Y=>(0,C.zV)(Y.map(le=>le.pipe((0,Pe.s)(1),(0,Ye.Z)(K)))).pipe((0,ke.T)(le=>{for(const ie of le)if(!0!==ie){if(ie===K)return K;if(!1===ie||pt(ie))return ie}return!0}),(0,Re.p)(le=>le!==K),(0,Pe.s)(1)))}function pt(Y){return di(Y)||Y instanceof Qa}function Li(Y){return(0,z.F)((0,Xe.M)(le=>{if("boolean"!=typeof le)throw Ua(0,le)}),(0,ke.T)(le=>!0===le))}class ro{constructor(le){this.segmentGroup=le||null}}class Fo extends Error{constructor(le){super(),this.urlTree=le}}function za(Y){return(0,re.$)(new ro(Y))}class Xt{constructor(le,ie){this.urlSerializer=le,this.urlTree=ie}lineralizeSegments(le,ie){let Ie=[],lt=ie.root;for(;;){if(Ie=Ie.concat(lt.segments),0===lt.numberOfChildren)return(0,A.of)(Ie);if(lt.numberOfChildren>1||!lt.children[ft])return(0,re.$)(new h.wOt(4e3,!1));lt=lt.children[ft]}}applyRedirectCommands(le,ie,Ie,lt,Ut){if("string"!=typeof ie){const hi=ie,{queryParams:Qn,fragment:Yi,routeConfig:ir,url:zr,outlet:js,params:so,data:Uo,title:bl}=lt,ul=(0,h.N4e)(Ut,()=>hi({params:so,data:Uo,queryParams:Qn,fragment:Yi,routeConfig:ir,url:zr,outlet:js,title:bl}));if(ul instanceof mn)throw new Fo(ul);ie=ul}const gn=this.applyRedirectCreateUrlTree(ie,this.urlSerializer.parse(ie),le,Ie);if("/"===ie[0])throw new Fo(gn);return gn}applyRedirectCreateUrlTree(le,ie,Ie,lt){const Ut=this.createSegmentGroup(le,ie.root,Ie,lt);return new mn(Ut,this.createQueryParams(ie.queryParams,this.urlTree.queryParams),ie.fragment)}createQueryParams(le,ie){const Ie={};return Object.entries(le).forEach(([lt,Ut])=>{if("string"==typeof Ut&&":"===Ut[0]){const hi=Ut.substring(1);Ie[lt]=ie[hi]}else Ie[lt]=Ut}),Ie}createSegmentGroup(le,ie,Ie,lt){const Ut=this.createSegments(le,ie.segments,Ie,lt);let gn={};return Object.entries(ie.children).forEach(([hi,Qn])=>{gn[hi]=this.createSegmentGroup(le,Qn,Ie,lt)}),new cn(Ut,gn)}createSegments(le,ie,Ie,lt){return ie.map(Ut=>":"===Ut.path[0]?this.findPosParam(le,Ut,lt):this.findOrReturn(Ut,Ie))}findPosParam(le,ie,Ie){const lt=Ie[ie.path.substring(1)];if(!lt)throw new h.wOt(4001,!1);return lt}findOrReturn(le,ie){let Ie=0;for(const lt of ie){if(lt.path===le.path)return ie.splice(Ie),lt;Ie++}return le}}const _n={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ln(Y,le,ie,Ie,lt){const Ut=Hn(Y,le,ie);return Ut.matched?(Ie=function aa(Y,le){return Y.providers&&!Y._injector&&(Y._injector=(0,h.Ol2)(Y.providers,le,`Route: ${Y.path}`)),Y._injector??le}(le,Ie),function Xs(Y,le,ie,Ie){const lt=le.canMatch;if(!lt||0===lt.length)return(0,A.of)(!0);const Ut=lt.map(gn=>{const hi=gl(gn,Y);return on(function B(Y){return Y&&Yo(Y.canMatch)}(hi)?hi.canMatch(le,ie):(0,h.N4e)(Y,()=>hi(le,ie)))});return(0,A.of)(Ut).pipe(We(),Li())}(Ie,le,ie).pipe((0,ke.T)(gn=>!0===gn?Ut:{..._n}))):(0,A.of)(Ut)}function Hn(Y,le,ie){if("**"===le.path)return function yn(Y){return{matched:!0,parameters:Y.length>0?wn(Y).parameters:{},consumedSegments:Y,remainingSegments:[],positionalParamSegments:{}}}(ie);if(""===le.path)return"full"===le.pathMatch&&(Y.hasChildren()||ie.length>0)?{..._n}:{matched:!0,consumedSegments:[],remainingSegments:ie,parameters:{},positionalParamSegments:{}};const lt=(le.matcher||an)(ie,Y,le);if(!lt)return{..._n};const Ut={};Object.entries(lt.posParams??{}).forEach(([hi,Qn])=>{Ut[hi]=Qn.path});const gn=lt.consumed.length>0?{...Ut,...lt.consumed[lt.consumed.length-1].parameters}:Ut;return{matched:!0,consumedSegments:lt.consumed,remainingSegments:ie.slice(lt.consumed.length),parameters:gn,positionalParamSegments:lt.posParams??{}}}function Zn(Y,le,ie,Ie){return ie.length>0&&function Ai(Y,le,ie){return ie.some(Ie=>er(Y,le,Ie)&&Zs(Ie)!==ft)}(Y,ie,Ie)?{segmentGroup:new cn(le,ai(Ie,new cn(ie,Y.children))),slicedSegments:[]}:0===ie.length&&function _i(Y,le,ie){return ie.some(Ie=>er(Y,le,Ie))}(Y,ie,Ie)?{segmentGroup:new cn(Y.segments,pi(Y,ie,Ie,Y.children)),slicedSegments:ie}:{segmentGroup:new cn(Y.segments,Y.children),slicedSegments:ie}}function pi(Y,le,ie,Ie){const lt={};for(const Ut of ie)if(er(Y,le,Ut)&&!Ie[Zs(Ut)]){const gn=new cn([],{});lt[Zs(Ut)]=gn}return{...Ie,...lt}}function ai(Y,le){const ie={};ie[ft]=le;for(const Ie of Y)if(""===Ie.path&&Zs(Ie)!==ft){const lt=new cn([],{});ie[Zs(Ie)]=lt}return ie}function er(Y,le,ie){return(!(Y.hasChildren()||le.length>0)||"full"!==ie.pathMatch)&&""===ie.path}class Ts{}class Cs{constructor(le,ie,Ie,lt,Ut,gn,hi){this.injector=le,this.configLoader=ie,this.rootComponentType=Ie,this.config=lt,this.urlTree=Ut,this.paramsInheritanceStrategy=gn,this.urlSerializer=hi,this.applyRedirects=new Xt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(le){return new h.wOt(4002,`'${le.segmentGroup}'`)}recognize(){const le=Zn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(le).pipe((0,ke.T)(({children:ie,rootSnapshot:Ie})=>{const lt=new dr(Ie,ie),Ut=new oo("",lt),gn=function Qi(Y,le,ie=null,Ie=null){return Tr(br(Y),le,ie,Ie)}(Ie,[],this.urlTree.queryParams,this.urlTree.fragment);return gn.queryParams=this.urlTree.queryParams,Ut.url=this.urlSerializer.serialize(gn),{state:Ut,tree:gn}}))}match(le){const ie=new $r([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,le,ft,ie).pipe((0,ke.T)(Ie=>({children:Ie,rootSnapshot:ie})),(0,Q.W)(Ie=>{if(Ie instanceof Fo)return this.urlTree=Ie.urlTree,this.match(Ie.urlTree.root);throw Ie instanceof ro?this.noMatchError(Ie):Ie}))}processSegmentGroup(le,ie,Ie,lt,Ut){return 0===Ie.segments.length&&Ie.hasChildren()?this.processChildren(le,ie,Ie,Ut):this.processSegment(le,ie,Ie,Ie.segments,lt,!0,Ut).pipe((0,ke.T)(gn=>gn instanceof dr?[gn]:[]))}processChildren(le,ie,Ie,lt){const Ut=[];for(const gn of Object.keys(Ie.children))"primary"===gn?Ut.unshift(gn):Ut.push(gn);return(0,E.H)(Ut).pipe((0,je.H)(gn=>{const hi=Ie.children[gn],Qn=function Vl(Y,le){const ie=Y.filter(Ie=>Zs(Ie)===le);return ie.push(...Y.filter(Ie=>Zs(Ie)!==le)),ie}(ie,gn);return this.processSegmentGroup(le,Qn,hi,gn,lt)}),function oe(Y,le){let ie=!1;return arguments.length>=2&&(ie=!0),function(lt){return lt.lift(new ot(Y,le,ie))}}((gn,hi)=>(gn.push(...hi),gn)),(0,Nt.U)(null),function Oe(Y,le){const ie=arguments.length>=2;return Ie=>Ie.pipe(Y?(0,Re.p)((lt,Ut)=>Y(lt,Ut,Ie)):me.D,$t(1),ie?(0,Nt.U)(le):(0,ve.v)(()=>new W.G))}(),(0,nt.ZZ)(gn=>{if(null===gn)return za(Ie);const hi=Ta(gn);return function qs(Y){Y.sort((le,ie)=>le.value.outlet===ft?-1:ie.value.outlet===ft?1:le.value.outlet.localeCompare(ie.value.outlet))}(hi),(0,A.of)(hi)}))}processSegment(le,ie,Ie,lt,Ut,gn,hi){return(0,E.H)(ie).pipe((0,je.H)(Qn=>this.processSegmentAgainstRoute(Qn._injector??le,ie,Qn,Ie,lt,Ut,gn,hi).pipe((0,Q.W)(Yi=>{if(Yi instanceof ro)return(0,A.of)(null);throw Yi}))),(0,Te.$)(Qn=>!!Qn),(0,Q.W)(Qn=>{if(te(Qn))return function Er(Y,le,ie){return 0===le.length&&!Y.children[ie]}(Ie,lt,Ut)?(0,A.of)(new Ts):za(Ie);throw Qn}))}processSegmentAgainstRoute(le,ie,Ie,lt,Ut,gn,hi,Qn){return Zs(Ie)===gn||gn!==ft&&er(lt,Ut,Ie)?void 0===Ie.redirectTo?this.matchSegmentAgainstRoute(le,lt,Ie,Ut,gn,Qn):this.allowRedirects&&hi?this.expandSegmentAgainstRouteUsingRedirect(le,lt,ie,Ie,Ut,gn,Qn):za(lt):za(lt)}expandSegmentAgainstRouteUsingRedirect(le,ie,Ie,lt,Ut,gn,hi){const{matched:Qn,parameters:Yi,consumedSegments:ir,positionalParamSegments:zr,remainingSegments:js}=Hn(ie,lt,Ut);if(!Qn)return za(ie);"string"==typeof lt.redirectTo&&"/"===lt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const so=new $r(Ut,Yi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Io(lt),Zs(lt),lt.component??lt._loadedComponent??null,lt,Tl(lt)),Uo=Ar(so,hi,this.paramsInheritanceStrategy);so.params=Object.freeze(Uo.params),so.data=Object.freeze(Uo.data);const bl=this.applyRedirects.applyRedirectCommands(ir,lt.redirectTo,zr,so,le);return this.applyRedirects.lineralizeSegments(lt,bl).pipe((0,nt.ZZ)(ul=>this.processSegment(le,Ie,ie,ul.concat(js),gn,!1,hi)))}matchSegmentAgainstRoute(le,ie,Ie,lt,Ut,gn){const hi=ln(ie,Ie,lt,le);return"**"===Ie.path&&(ie.children={}),hi.pipe((0,Qe.n)(Qn=>Qn.matched?this.getChildConfig(le=Ie._injector??le,Ie,lt).pipe((0,Qe.n)(({routes:Yi})=>{const ir=Ie._loadedInjector??le,{parameters:zr,consumedSegments:js,remainingSegments:so}=Qn,Uo=new $r(js,zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Io(Ie),Zs(Ie),Ie.component??Ie._loadedComponent??null,Ie,Tl(Ie)),bl=Ar(Uo,gn,this.paramsInheritanceStrategy);Uo.params=Object.freeze(bl.params),Uo.data=Object.freeze(bl.data);const{segmentGroup:ul,slicedSegments:gu}=Zn(ie,js,so,Yi);if(0===gu.length&&ul.hasChildren())return this.processChildren(ir,Yi,ul,Uo).pipe((0,ke.T)(Vu=>new dr(Uo,Vu)));if(0===Yi.length&&0===gu.length)return(0,A.of)(new dr(Uo,[]));const Th=Zs(Ie)===Ut;return this.processSegment(ir,Yi,ul,gu,Th?ft:Ut,!0,Uo).pipe((0,ke.T)(Vu=>new dr(Uo,Vu instanceof dr?[Vu]:[])))})):za(ie)))}getChildConfig(le,ie,Ie){return ie.children?(0,A.of)({routes:ie.children,injector:le}):ie.loadChildren?void 0!==ie._loadedRoutes?(0,A.of)({routes:ie._loadedRoutes,injector:ie._loadedInjector}):function Po(Y,le,ie,Ie){const lt=le.canLoad;if(void 0===lt||0===lt.length)return(0,A.of)(!0);const Ut=lt.map(gn=>{const hi=gl(gn,Y);return on(function po(Y){return Y&&Yo(Y.canLoad)}(hi)?hi.canLoad(le,ie):(0,h.N4e)(Y,()=>hi(le,ie)))});return(0,A.of)(Ut).pipe(We(),Li())}(le,ie,Ie).pipe((0,nt.ZZ)(lt=>lt?this.configLoader.loadChildren(le,ie).pipe((0,Xe.M)(Ut=>{ie._loadedRoutes=Ut.routes,ie._loadedInjector=Ut.injector})):function Ct(){return(0,re.$)(Da(!1,ns.GuardRejected))}())):(0,A.of)({routes:[],injector:le})}}function Ec(Y){const le=Y.value.routeConfig;return le&&""===le.path}function Ta(Y){const le=[],ie=new Set;for(const Ie of Y){if(!Ec(Ie)){le.push(Ie);continue}const lt=le.find(Ut=>Ie.value.routeConfig===Ut.value.routeConfig);void 0!==lt?(lt.children.push(...Ie.children),ie.add(lt)):le.push(Ie)}for(const Ie of ie){const lt=Ta(Ie.children);le.push(new dr(Ie.value,lt))}return le.filter(Ie=>!ie.has(Ie))}function Io(Y){return Y.data||{}}function Tl(Y){return Y.resolve||{}}function bo(Y){const le=Y.children.map(ie=>bo(ie)).flat();return[Y,...le]}function Ja(Y){return(0,Qe.n)(le=>{const ie=Y(le);return ie?(0,E.H)(ie).pipe((0,ke.T)(()=>le)):(0,A.of)(le)})}let Ia=(()=>{class Y{buildTitle(ie){let Ie,lt=ie.root;for(;void 0!==lt;)Ie=this.getResolvedTitleForRoute(lt)??Ie,lt=lt.children.find(Ut=>Ut.outlet===ft);return Ie}getResolvedTitleForRoute(ie){return ie.data[Ae]}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:()=>(0,h.WQX)(Ul),providedIn:"root"})}return Y})(),Ul=(()=>{class Y extends Ia{constructor(ie){super(),this.title=ie}updateTitle(ie){const Ie=this.buildTitle(ie);void 0!==Ie&&this.title.setTitle(Ie)}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)(h.KVO(Ft.hE))};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const Ds=new h.nKC("",{providedIn:"root",factory:()=>({})});let sc=(()=>{class Y{static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275cmp=h.VBU({type:Y,selectors:[["ng-component"]],standalone:!0,features:[h.aNF],decls:1,vars:0,template:function(Ie,lt){1&Ie&&h.nrm(0,"router-outlet")},dependencies:[Xo],encapsulation:2})}return Y})();function Iu(Y){const le=Y.children&&Y.children.map(Iu),ie=le?{...Y,children:le}:{...Y};return!ie.component&&!ie.loadComponent&&(le||ie.loadChildren)&&ie.outlet&&ie.outlet!==ft&&(ie.component=sc),ie}const ca=new h.nKC("");let fo=(()=>{class Y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.WQX)(h.Ql9)}loadComponent(ie){if(this.componentLoaders.get(ie))return this.componentLoaders.get(ie);if(ie._loadedComponent)return(0,A.of)(ie._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ie);const Ie=on(ie.loadComponent()).pipe((0,ke.T)(Rc),(0,Xe.M)(Ut=>{this.onLoadEndListener&&this.onLoadEndListener(ie),ie._loadedComponent=Ut}),(0,Me.j)(()=>{this.componentLoaders.delete(ie)})),lt=new Z.G(Ie,()=>new ee.B7).pipe((0,kn.B)());return this.componentLoaders.set(ie,lt),lt}loadChildren(ie,Ie){if(this.childrenLoaders.get(Ie))return this.childrenLoaders.get(Ie);if(Ie._loadedRoutes)return(0,A.of)({routes:Ie._loadedRoutes,injector:Ie._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ie);const Ut=function xh(Y,le,ie,Ie){return on(Y.loadChildren()).pipe((0,ke.T)(Rc),(0,nt.ZZ)(lt=>lt instanceof h.Co$||Array.isArray(lt)?(0,A.of)(lt):(0,E.H)(le.compileModuleAsync(lt))),(0,ke.T)(lt=>{Ie&&Ie(Y);let Ut,gn,hi=!1;return Array.isArray(lt)?(gn=lt,!0):(Ut=lt.create(ie).injector,gn=Ut.get(ca,[],{optional:!0,self:!0}).flat()),{routes:gn.map(Iu),injector:Ut}}))}(Ie,this.compiler,ie,this.onLoadEndListener).pipe((0,Me.j)(()=>{this.childrenLoaders.delete(Ie)})),gn=new Z.G(Ut,()=>new ee.B7).pipe((0,kn.B)());return this.childrenLoaders.set(Ie,gn),gn}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function Rc(Y){return function Mc(Y){return Y&&"object"==typeof Y&&"default"in Y}(Y)?Y.default:Y}let oc=(()=>{class Y{static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:()=>(0,h.WQX)(ge),providedIn:"root"})}return Y})(),ge=(()=>{class Y{shouldProcessUrl(ie){return!0}extract(ie){return ie}merge(ie,Ie){return ie}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const Tt=new h.nKC(""),Be=new h.nKC("");function gt(Y,le,ie){const Ie=Y.get(Be),lt=Y.get(Ee.qQ);return Y.get(h.SKi).runOutsideAngular(()=>{if(!lt.startViewTransition||Ie.skipNextTransition)return Ie.skipNextTransition=!1,new Promise(Yi=>setTimeout(Yi));let Ut;const gn=new Promise(Yi=>{Ut=Yi}),hi=lt.startViewTransition(()=>(Ut(),function un(Y){return new Promise(le=>{(0,h.mal)({read:()=>setTimeout(le)},{injector:Y})})}(Y))),{onViewTransitionCreated:Qn}=Ie;return Qn&&(0,h.N4e)(Y,()=>Qn({transition:hi,from:le,to:ie})),gn})}const li=new h.nKC("");let Si=(()=>{class Y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ee.B7,this.transitionAbortSubject=new ee.B7,this.configLoader=(0,h.WQX)(fo),this.environmentInjector=(0,h.WQX)(h.uvJ),this.urlSerializer=(0,h.WQX)(Xn),this.rootContexts=(0,h.WQX)(Wt),this.location=(0,h.WQX)(Ee.aZ),this.inputBindingEnabled=null!==(0,h.WQX)(Ca,{optional:!0}),this.titleStrategy=(0,h.WQX)(Ia),this.options=(0,h.WQX)(Ds,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.WQX)(oc),this.createViewTransition=(0,h.WQX)(Tt,{optional:!0}),this.navigationErrorHandler=(0,h.WQX)(li,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,A.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=lt=>this.events.next(new wo(lt)),this.configLoader.onLoadStartListener=lt=>this.events.next(new Go(lt))}complete(){this.transitions?.complete()}handleNavigationRequest(ie){const Ie=++this.navigationId;this.transitions?.next({...this.transitions.value,...ie,id:Ie})}setupNavigations(ie,Ie,lt){return this.transitions=new S.t({id:0,currentUrlTree:Ie,currentRawUrl:Ie,extractedUrl:this.urlHandlingStrategy.extract(Ie),urlAfterRedirects:this.urlHandlingStrategy.extract(Ie),rawUrl:Ie,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:kt,restoredState:null,currentSnapshot:lt.snapshot,targetSnapshot:null,currentRouterState:lt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Re.p)(Ut=>0!==Ut.id),(0,ke.T)(Ut=>({...Ut,extractedUrl:this.urlHandlingStrategy.extract(Ut.rawUrl)})),(0,Qe.n)(Ut=>{let gn=!1,hi=!1;return(0,A.of)(Ut).pipe((0,Qe.n)(Qn=>{if(this.navigationId>Ut.id)return this.cancelNavigationTransition(Ut,"",ns.SupersededByNewNavigation),q.w;this.currentTransition=Ut,this.currentNavigation={id:Qn.id,initialUrl:Qn.rawUrl,extractedUrl:Qn.extractedUrl,targetBrowserUrl:"string"==typeof Qn.extras.browserUrl?this.urlSerializer.parse(Qn.extras.browserUrl):Qn.extras.browserUrl,trigger:Qn.source,extras:Qn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Yi=!ie.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Yi&&"reload"!==(Qn.extras.onSameUrlNavigation??ie.onSameUrlNavigation)){const zr="";return this.events.next(new Es(Qn.id,this.urlSerializer.serialize(Qn.rawUrl),zr,Jr.IgnoredSameUrlNavigation)),Qn.resolve(!1),q.w}if(this.urlHandlingStrategy.shouldProcessUrl(Qn.rawUrl))return(0,A.of)(Qn).pipe((0,Qe.n)(zr=>{const js=this.transitions?.getValue();return this.events.next(new Zi(zr.id,this.urlSerializer.serialize(zr.extractedUrl),zr.source,zr.restoredState)),js!==this.transitions?.getValue()?q.w:Promise.resolve(zr)}),function yl(Y,le,ie,Ie,lt,Ut){return(0,nt.ZZ)(gn=>function zs(Y,le,ie,Ie,lt,Ut,gn="emptyOnly"){return new Cs(Y,le,ie,Ie,lt,gn,Ut).recognize()}(Y,le,ie,Ie,gn.extractedUrl,lt,Ut).pipe((0,ke.T)(({state:hi,tree:Qn})=>({...gn,targetSnapshot:hi,urlAfterRedirects:Qn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ie.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Xe.M)(zr=>{Ut.targetSnapshot=zr.targetSnapshot,Ut.urlAfterRedirects=zr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zr.urlAfterRedirects};const js=new Gr(zr.id,this.urlSerializer.serialize(zr.extractedUrl),this.urlSerializer.serialize(zr.urlAfterRedirects),zr.targetSnapshot);this.events.next(js)}));if(Yi&&this.urlHandlingStrategy.shouldProcessUrl(Qn.currentRawUrl)){const{id:zr,extractedUrl:js,source:so,restoredState:Uo,extras:bl}=Qn,ul=new Zi(zr,this.urlSerializer.serialize(js),so,Uo);this.events.next(ul);const gu=Vs(this.rootComponentType).snapshot;return this.currentTransition=Ut={...Qn,targetSnapshot:gu,urlAfterRedirects:js,extras:{...bl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=js,(0,A.of)(Ut)}{const zr="";return this.events.next(new Es(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),zr,Jr.IgnoredByUrlHandlingStrategy)),Qn.resolve(!1),q.w}}),(0,Xe.M)(Qn=>{const Yi=new rs(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(Yi)}),(0,ke.T)(Qn=>(this.currentTransition=Ut={...Qn,guards:qo(Qn.targetSnapshot,Qn.currentSnapshot,this.rootContexts)},Ut)),function Fn(Y,le){return(0,nt.ZZ)(ie=>{const{targetSnapshot:Ie,currentSnapshot:lt,guards:{canActivateChecks:Ut,canDeactivateChecks:gn}}=ie;return 0===gn.length&&0===Ut.length?(0,A.of)({...ie,guardsResult:!0}):function ei(Y,le,ie,Ie){return(0,E.H)(Y).pipe((0,nt.ZZ)(lt=>function mr(Y,le,ie,Ie,lt){const Ut=le&&le.routeConfig?le.routeConfig.canDeactivate:null;if(!Ut||0===Ut.length)return(0,A.of)(!0);const gn=Ut.map(hi=>{const Qn=ga(le)??lt,Yi=gl(hi,Qn);return on(function fe(Y){return Y&&Yo(Y.canDeactivate)}(Yi)?Yi.canDeactivate(Y,le,ie,Ie):(0,h.N4e)(Qn,()=>Yi(Y,le,ie,Ie))).pipe((0,Te.$)())});return(0,A.of)(gn).pipe(We())}(lt.component,lt.route,ie,le,Ie)),(0,Te.$)(lt=>!0!==lt,!0))}(gn,Ie,lt,Y).pipe((0,nt.ZZ)(hi=>hi&&function _l(Y){return"boolean"==typeof Y}(hi)?function Vi(Y,le,ie,Ie){return(0,E.H)(le).pipe((0,je.H)(lt=>(0,L.x)(function ws(Y,le){return null!==Y&&le&&le(new Ko(Y)),(0,A.of)(!0)}(lt.route.parent,Ie),function vi(Y,le){return null!==Y&&le&&le(new $a(Y)),(0,A.of)(!0)}(lt.route,Ie),function Yr(Y,le,ie){const Ie=le[le.length-1],Ut=le.slice(0,le.length-1).reverse().map(gn=>function ml(Y){const le=Y.routeConfig?Y.routeConfig.canActivateChild:null;return le&&0!==le.length?{node:Y,guards:le}:null}(gn)).filter(gn=>null!==gn).map(gn=>(0,N.v)(()=>{const hi=gn.guards.map(Qn=>{const Yi=ga(gn.node)??ie,ir=gl(Qn,Yi);return on(function ne(Y){return Y&&Yo(Y.canActivateChild)}(ir)?ir.canActivateChild(Ie,Y):(0,h.N4e)(Yi,()=>ir(Ie,Y))).pipe((0,Te.$)())});return(0,A.of)(hi).pipe(We())}));return(0,A.of)(Ut).pipe(We())}(Y,lt.path,ie),function xs(Y,le,ie){const Ie=le.routeConfig?le.routeConfig.canActivate:null;if(!Ie||0===Ie.length)return(0,A.of)(!0);const lt=Ie.map(Ut=>(0,N.v)(()=>{const gn=ga(le)??ie,hi=gl(Ut,gn);return on(function Gt(Y){return Y&&Yo(Y.canActivate)}(hi)?hi.canActivate(le,Y):(0,h.N4e)(gn,()=>hi(le,Y))).pipe((0,Te.$)())}));return(0,A.of)(lt).pipe(We())}(Y,lt.route,ie))),(0,Te.$)(lt=>!0!==lt,!0))}(Ie,Ut,Y,le):(0,A.of)(hi)),(0,ke.T)(hi=>({...ie,guardsResult:hi})))})}(this.environmentInjector,Qn=>this.events.next(Qn)),(0,Xe.M)(Qn=>{if(Ut.guardsResult=Qn.guardsResult,Qn.guardsResult&&"boolean"!=typeof Qn.guardsResult)throw Ua(0,Qn.guardsResult);const Yi=new gs(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot,!!Qn.guardsResult);this.events.next(Yi)}),(0,Re.p)(Qn=>!!Qn.guardsResult||(this.cancelNavigationTransition(Qn,"",ns.GuardRejected),!1)),Ja(Qn=>{if(Qn.guards.canActivateChecks.length)return(0,A.of)(Qn).pipe((0,Xe.M)(Yi=>{const ir=new Bo(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),this.urlSerializer.serialize(Yi.urlAfterRedirects),Yi.targetSnapshot);this.events.next(ir)}),(0,Qe.n)(Yi=>{let ir=!1;return(0,A.of)(Yi).pipe(function Ss(Y,le){return(0,nt.ZZ)(ie=>{const{targetSnapshot:Ie,guards:{canActivateChecks:lt}}=ie;if(!lt.length)return(0,A.of)(ie);const Ut=new Set(lt.map(Qn=>Qn.route)),gn=new Set;for(const Qn of Ut)if(!gn.has(Qn))for(const Yi of bo(Qn))gn.add(Yi);let hi=0;return(0,E.H)(gn).pipe((0,je.H)(Qn=>Ut.has(Qn)?function gd(Y,le,ie,Ie){const lt=Y.routeConfig,Ut=Y._resolve;return void 0!==lt?.title&&!Ki(lt)&&(Ut[Ae]=lt.title),function Fu(Y,le,ie,Ie){const lt=Jt(Y);if(0===lt.length)return(0,A.of)({});const Ut={};return(0,E.H)(lt).pipe((0,nt.ZZ)(gn=>function Yl(Y,le,ie,Ie){const lt=ga(le)??Ie,Ut=gl(Y,lt);return on(Ut.resolve?Ut.resolve(le,ie):(0,h.N4e)(lt,()=>Ut(le,ie)))}(Y[gn],le,ie,Ie).pipe((0,Te.$)(),(0,Xe.M)(hi=>{if(hi instanceof Qa)throw Ua(new zi,hi);Ut[gn]=hi}))),$t(1),function At(Y){return le=>le.lift(new Et(Y))}(Ut),(0,Q.W)(gn=>te(gn)?q.w:(0,re.$)(gn)))}(Ut,Y,le,Ie).pipe((0,ke.T)(gn=>(Y._resolvedData=gn,Y.data=Ar(Y,Y.parent,ie).resolve,null)))}(Qn,Ie,Y,le):(Qn.data=Ar(Qn,Qn.parent,Y).resolve,(0,A.of)(void 0))),(0,Xe.M)(()=>hi++),$t(1),(0,nt.ZZ)(Qn=>hi===gn.size?(0,A.of)(ie):q.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Xe.M)({next:()=>ir=!0,complete:()=>{ir||this.cancelNavigationTransition(Yi,"",ns.NoDataFromResolver)}}))}),(0,Xe.M)(Yi=>{const ir=new Ur(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),this.urlSerializer.serialize(Yi.urlAfterRedirects),Yi.targetSnapshot);this.events.next(ir)}))}),Ja(Qn=>{const Yi=ir=>{const zr=[];ir.routeConfig?.loadComponent&&!ir.routeConfig._loadedComponent&&zr.push(this.configLoader.loadComponent(ir.routeConfig).pipe((0,Xe.M)(js=>{ir.component=js}),(0,ke.T)(()=>{})));for(const js of ir.children)zr.push(...Yi(js));return zr};return(0,C.zV)(Yi(Qn.targetSnapshot.root)).pipe((0,Nt.U)(null),(0,Pe.s)(1))}),Ja(()=>this.afterPreactivation()),(0,Qe.n)(()=>{const{currentSnapshot:Qn,targetSnapshot:Yi}=Ut,ir=this.createViewTransition?.(this.environmentInjector,Qn.root,Yi.root);return ir?(0,E.H)(ir).pipe((0,ke.T)(()=>Ut)):(0,A.of)(Ut)}),(0,ke.T)(Qn=>{const Yi=function Sa(Y,le,ie){const Ie=Oo(Y,le._root,ie?ie._root:void 0);return new hs(Ie,le)}(ie.routeReuseStrategy,Qn.targetSnapshot,Qn.currentRouterState);return this.currentTransition=Ut={...Qn,targetRouterState:Yi},this.currentNavigation.targetRouterState=Yi,Ut}),(0,Xe.M)(()=>{this.events.next(new co)}),((Y,le,ie,Ie)=>(0,ke.T)(lt=>(new Za(le,lt.targetRouterState,lt.currentRouterState,ie,Ie).activate(Y),lt)))(this.rootContexts,ie.routeReuseStrategy,Qn=>this.events.next(Qn),this.inputBindingEnabled),(0,Pe.s)(1),(0,Xe.M)({next:Qn=>{gn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cr(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Qn.targetRouterState.snapshot),Qn.resolve(!0)},complete:()=>{gn=!0}}),(0,nn.Q)(this.transitionAbortSubject.pipe((0,Xe.M)(Qn=>{throw Qn}))),(0,Me.j)(()=>{!gn&&!hi&&this.cancelNavigationTransition(Ut,"",ns.SupersededByNewNavigation),this.currentTransition?.id===Ut.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Q.W)(Qn=>{if(hi=!0,Xl(Qn))this.events.next(new is(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),Qn.message,Qn.cancellationCode)),function Sl(Y){return Xl(Y)&&di(Y.url)}(Qn)?this.events.next(new Ba(Qn.url,Qn.navigationBehaviorOptions)):Ut.resolve(!1);else{const Yi=new to(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),Qn,Ut.targetSnapshot??void 0);try{const ir=(0,h.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Yi));if(ir instanceof Qa){const{message:zr,cancellationCode:js}=Ua(0,ir);this.events.next(new is(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),zr,js)),this.events.next(new Ba(ir.redirectTo,ir.navigationBehaviorOptions))}else{this.events.next(Yi);const zr=ie.errorHandler(Qn);Ut.resolve(!!zr)}}catch(ir){this.options.resolveNavigationPromiseOnError?Ut.resolve(!1):Ut.reject(ir)}}return q.w}))}))}cancelNavigationTransition(ie,Ie,lt){const Ut=new is(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Ie,lt);this.events.next(Ut),ie.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const ie=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Ie=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return ie.toString()!==Ie?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();function pr(Y){return Y!==kt}let xo=(()=>{class Y{static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:()=>(0,h.WQX)(Ls),providedIn:"root"})}return Y})();class Fs{shouldDetach(le){return!1}store(le,ie){}shouldAttach(le){return!1}retrieve(le){return null}shouldReuseRoute(le,ie){return le.routeConfig===ie.routeConfig}}let Ls=(()=>{class Y extends Fs{static#e=this.\u0275fac=(()=>{let ie;return function(lt){return(ie||(ie=h.xGo(Y)))(lt||Y)}})();static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})(),ji=(()=>{class Y{static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:()=>(0,h.WQX)(Qo),providedIn:"root"})}return Y})(),Qo=(()=>{class Y extends ji{constructor(){super(...arguments),this.location=(0,h.WQX)(Ee.aZ),this.urlSerializer=(0,h.WQX)(Xn),this.options=(0,h.WQX)(Ds,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.WQX)(oc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(ie){return this.location.subscribe(Ie=>{"popstate"===Ie.type&&ie(Ie.url,Ie.state)})}handleRouterEvent(ie,Ie){if(ie instanceof Zi)this.stateMemento=this.createStateMemento();else if(ie instanceof Es)this.rawUrlTree=Ie.initialUrl;else if(ie instanceof Gr){if("eager"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange){const lt=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl);this.setBrowserUrl(Ie.targetBrowserUrl??lt,Ie)}}else ie instanceof co?(this.currentUrlTree=Ie.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange&&this.setBrowserUrl(Ie.targetBrowserUrl??this.rawUrlTree,Ie)):ie instanceof is&&(ie.code===ns.GuardRejected||ie.code===ns.NoDataFromResolver)?this.restoreHistory(Ie):ie instanceof to?this.restoreHistory(Ie,!0):ie instanceof cr&&(this.lastSuccessfulId=ie.id,this.currentPageId=this.browserPageId)}setBrowserUrl(ie,Ie){const lt=ie instanceof mn?this.urlSerializer.serialize(ie):ie;if(this.location.isCurrentPathEqualTo(lt)||Ie.extras.replaceUrl){const gn={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId)};this.location.replaceState(lt,"",gn)}else{const Ut={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId+1)};this.location.go(lt,"",Ut)}}restoreHistory(ie,Ie=!1){if("computed"===this.canceledNavigationResolution){const Ut=this.currentPageId-this.browserPageId;0!==Ut?this.location.historyGo(Ut):this.currentUrlTree===ie.finalUrl&&0===Ut&&(this.resetState(ie),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ie&&this.resetState(ie),this.resetUrlToCurrentUrlTree())}resetState(ie){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ie.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ie,Ie){return"computed"===this.canceledNavigationResolution?{navigationId:ie,\u0275routerPageId:Ie}:{navigationId:ie}}static#e=this.\u0275fac=(()=>{let ie;return function(lt){return(ie||(ie=h.xGo(Y)))(lt||Y)}})();static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();var mo=function(Y){return Y[Y.COMPLETE=0]="COMPLETE",Y[Y.FAILED=1]="FAILED",Y[Y.REDIRECTING=2]="REDIRECTING",Y}(mo||{});function _a(Y,le){Y.events.pipe((0,Re.p)(ie=>ie instanceof cr||ie instanceof is||ie instanceof to||ie instanceof Es),(0,ke.T)(ie=>ie instanceof cr||ie instanceof Es?mo.COMPLETE:ie instanceof is&&(ie.code===ns.Redirect||ie.code===ns.SupersededByNewNavigation)?mo.REDIRECTING:mo.FAILED),(0,Re.p)(ie=>ie!==mo.REDIRECTING),(0,Pe.s)(1)).subscribe(()=>{le()})}function Uc(Y){throw Y}const hc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ya=(()=>{class Y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,h.WQX)(h.H3F),this.stateManager=(0,h.WQX)(ji),this.options=(0,h.WQX)(Ds,{optional:!0})||{},this.pendingTasks=(0,h.WQX)(h.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.WQX)(Si),this.urlSerializer=(0,h.WQX)(Xn),this.location=(0,h.WQX)(Ee.aZ),this.urlHandlingStrategy=(0,h.WQX)(oc),this._events=new ee.B7,this.errorHandler=this.options.errorHandler||Uc,this.navigated=!1,this.routeReuseStrategy=(0,h.WQX)(xo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,h.WQX)(ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,h.WQX)(Ca,{optional:!0}),this.eventsSubscription=new De.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ie=>{this.console.warn(ie)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ie=this.navigationTransitions.events.subscribe(Ie=>{try{const lt=this.navigationTransitions.currentTransition,Ut=this.navigationTransitions.currentNavigation;if(null!==lt&&null!==Ut)if(this.stateManager.handleRouterEvent(Ie,Ut),Ie instanceof is&&Ie.code!==ns.Redirect&&Ie.code!==ns.SupersededByNewNavigation)this.navigated=!0;else if(Ie instanceof cr)this.navigated=!0;else if(Ie instanceof Ba){const gn=Ie.navigationBehaviorOptions,hi=this.urlHandlingStrategy.merge(Ie.url,lt.currentRawUrl),Qn={browserUrl:lt.extras.browserUrl,info:lt.extras.info,skipLocationChange:lt.extras.skipLocationChange,replaceUrl:lt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||pr(lt.source),...gn};this.scheduleNavigation(hi,kt,null,Qn,{resolve:lt.resolve,reject:lt.reject,promise:lt.promise})}(function Il(Y){return!(Y instanceof co||Y instanceof Ba)})(Ie)&&this._events.next(Ie)}catch(lt){this.navigationTransitions.transitionAbortSubject.next(lt)}});this.eventsSubscription.add(ie)}resetRootComponentType(ie){this.routerState.root.component=ie,this.navigationTransitions.rootComponentType=ie}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((ie,Ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ie,"popstate",Ie)},0)})}navigateToSyncWithBrowser(ie,Ie,lt){const Ut={replaceUrl:!0},gn=lt?.navigationId?lt:null;if(lt){const Qn={...lt};delete Qn.navigationId,delete Qn.\u0275routerPageId,0!==Object.keys(Qn).length&&(Ut.state=Qn)}const hi=this.parseUrl(ie);this.scheduleNavigation(hi,Ie,gn,Ut)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ie){this.config=ie.map(Iu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ie,Ie={}){const{relativeTo:lt,queryParams:Ut,fragment:gn,queryParamsHandling:hi,preserveFragment:Qn}=Ie,Yi=Qn?this.currentUrlTree.fragment:gn;let zr,ir=null;switch(hi??this.options.defaultQueryParamsHandling){case"merge":ir={...this.currentUrlTree.queryParams,...Ut};break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=Ut||null}null!==ir&&(ir=this.removeEmptyProps(ir));try{zr=br(lt?lt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ie[0]||"/"!==ie[0][0])&&(ie=[]),zr=this.currentUrlTree.root}return Tr(zr,ie,ir,Yi??null)}navigateByUrl(ie,Ie={skipLocationChange:!1}){const lt=di(ie)?ie:this.parseUrl(ie),Ut=this.urlHandlingStrategy.merge(lt,this.rawUrlTree);return this.scheduleNavigation(Ut,kt,null,Ie)}navigate(ie,Ie={skipLocationChange:!1}){return function Nc(Y){for(let le=0;le<Y.length;le++)if(null==Y[le])throw new h.wOt(4008,!1)}(ie),this.navigateByUrl(this.createUrlTree(ie,Ie),Ie)}serializeUrl(ie){return this.urlSerializer.serialize(ie)}parseUrl(ie){try{return this.urlSerializer.parse(ie)}catch{return this.urlSerializer.parse("/")}}isActive(ie,Ie){let lt;if(lt=!0===Ie?{...hc}:!1===Ie?{...zc}:Ie,di(ie))return tt(this.currentUrlTree,ie,lt);const Ut=this.parseUrl(ie);return tt(this.currentUrlTree,Ut,lt)}removeEmptyProps(ie){return Object.entries(ie).reduce((Ie,[lt,Ut])=>(null!=Ut&&(Ie[lt]=Ut),Ie),{})}scheduleNavigation(ie,Ie,lt,Ut,gn){if(this.disposed)return Promise.resolve(!1);let hi,Qn,Yi;gn?(hi=gn.resolve,Qn=gn.reject,Yi=gn.promise):Yi=new Promise((zr,js)=>{hi=zr,Qn=js});const ir=this.pendingTasks.add();return _a(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ir))}),this.navigationTransitions.handleNavigationRequest({source:Ie,restoredState:lt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ie,extras:Ut,resolve:hi,reject:Qn,promise:Yi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yi.catch(zr=>Promise.reject(zr))}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();class Aa{}let ko=(()=>{class Y{constructor(ie,Ie,lt,Ut,gn){this.router=ie,this.injector=lt,this.preloadingStrategy=Ut,this.loader=gn}setUpPreloading(){this.subscription=this.router.events.pipe((0,Re.p)(ie=>ie instanceof cr),(0,je.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ie,Ie){const lt=[];for(const Ut of Ie){Ut.providers&&!Ut._injector&&(Ut._injector=(0,h.Ol2)(Ut.providers,ie,`Route: ${Ut.path}`));const gn=Ut._injector??ie,hi=Ut._loadedInjector??gn;(Ut.loadChildren&&!Ut._loadedRoutes&&void 0===Ut.canLoad||Ut.loadComponent&&!Ut._loadedComponent)&&lt.push(this.preloadConfig(gn,Ut)),(Ut.children||Ut._loadedRoutes)&&lt.push(this.processRoutes(hi,Ut.children??Ut._loadedRoutes))}return(0,E.H)(lt).pipe((0,Ot.U)())}preloadConfig(ie,Ie){return this.preloadingStrategy.preload(Ie,()=>{let lt;lt=Ie.loadChildren&&void 0===Ie.canLoad?this.loader.loadChildren(ie,Ie):(0,A.of)(null);const Ut=lt.pipe((0,nt.ZZ)(gn=>null===gn?(0,A.of)(void 0):(Ie._loadedRoutes=gn.routes,Ie._loadedInjector=gn.injector,this.processRoutes(gn.injector??ie,gn.routes))));if(Ie.loadComponent&&!Ie._loadedComponent){const gn=this.loader.loadComponent(Ie);return(0,E.H)([Ut,gn]).pipe((0,Ot.U)())}return Ut})}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)(h.KVO(ya),h.KVO(h.Ql9),h.KVO(h.uvJ),h.KVO(Aa),h.KVO(fo))};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();const ku=new h.nKC("");let Ao=(()=>{class Y{constructor(ie,Ie,lt,Ut,gn={}){this.urlSerializer=ie,this.transitions=Ie,this.viewportScroller=lt,this.zone=Ut,this.options=gn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},gn.scrollPositionRestoration||="disabled",gn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ie=>{ie instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ie.navigationTrigger,this.restoredId=ie.restoredState?ie.restoredState.navigationId:0):ie instanceof cr?(this.lastId=ie.id,this.scheduleScrollEvent(ie,this.urlSerializer.parse(ie.urlAfterRedirects).fragment)):ie instanceof Es&&ie.code===Jr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ie,this.urlSerializer.parse(ie.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ie=>{ie instanceof Jo&&(ie.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ie.position):ie.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ie.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ie,Ie){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jo(ie,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ie))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ie){h.QTQ()};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac})}return Y})();function Ma(Y,le){return{\u0275kind:Y,\u0275providers:le}}function iu(){const Y=(0,h.WQX)(h.zZn);return le=>{const ie=Y.get(h.o8S);if(le!==ie.components[0])return;const Ie=Y.get(ya),lt=Y.get(Ch);1===Y.get(Eo)&&Ie.initialNavigation(),Y.get(Hc,null,h.$GK.Optional)?.setUpPreloading(),Y.get(ku,null,h.$GK.Optional)?.init(),Ie.resetRootComponentType(ie.componentTypes[0]),lt.closed||(lt.next(),lt.complete(),lt.unsubscribe())}}const Ch=new h.nKC("",{factory:()=>new ee.B7}),Eo=new h.nKC("",{providedIn:"root",factory:()=>1}),Hc=new h.nKC("");function da(Y){return Ma(0,[{provide:Hc,useExisting:ko},{provide:Aa,useExisting:Y}])}function Gc(Y){return Ma(9,[{provide:Tt,useValue:gt},{provide:Be,useValue:{skipNextTransition:!!Y?.skipInitialTransition,...Y}}])}const pc=new h.nKC("ROUTER_FORROOT_GUARD"),cl=[Ee.aZ,{provide:Xn,useClass:zi},ya,Wt,{provide:ho,useFactory:function Lu(Y){return Y.routerState.root},deps:[ya]},fo,[]];let _d=(()=>{class Y{constructor(ie){}static forRoot(ie,Ie){return{ngModule:Y,providers:[cl,[],{provide:ca,multi:!0,useValue:ie},{provide:pc,useFactory:kl,deps:[[ya,new h.Xx1,new h.kdw]]},{provide:Ds,useValue:Ie||{}},Ie?.useHash?{provide:Ee.hb,useClass:Ee.fw}:{provide:Ee.hb,useClass:Ee.Sm},{provide:ku,useFactory:()=>{const Y=(0,h.WQX)(Ee.Xr),le=(0,h.WQX)(h.SKi),ie=(0,h.WQX)(Ds),Ie=(0,h.WQX)(Si),lt=(0,h.WQX)(Xn);return ie.scrollOffset&&Y.setOffset(ie.scrollOffset),new Ao(lt,Ie,Y,le,ie)}},Ie?.preloadingStrategy?da(Ie.preloadingStrategy).\u0275providers:[],Ie?.initialNavigation?Rd(Ie):[],Ie?.bindToComponentInputs?Ma(8,[xc,{provide:Ca,useExisting:xc}]).\u0275providers:[],Ie?.enableViewTransitions?Gc().\u0275providers:[],[{provide:tl,useFactory:iu},{provide:h.iLQ,multi:!0,useExisting:tl}]]}}static forChild(ie){return{ngModule:Y,providers:[{provide:ca,multi:!0,useValue:ie}]}}static#e=this.\u0275fac=function(Ie){return new(Ie||Y)(h.KVO(pc,8))};static#t=this.\u0275mod=h.$C({type:Y});static#n=this.\u0275inj=h.G2t({})}return Y})();function kl(Y){return"guarded"}function Rd(Y){return["disabled"===Y.initialNavigation?Ma(3,[{provide:h.hnV,multi:!0,useFactory:()=>{const le=(0,h.WQX)(ya);return()=>{le.setUpLocationChangeListener()}}},{provide:Eo,useValue:2}]).\u0275providers:[],"enabledBlocking"===Y.initialNavigation?Ma(2,[{provide:Eo,useValue:0},{provide:h.hnV,multi:!0,deps:[h.zZn],useFactory:le=>{const ie=le.get(Ee.hj,Promise.resolve());return()=>ie.then(()=>new Promise(Ie=>{const lt=le.get(ya),Ut=le.get(Ch);_a(lt,()=>{Ie(!0)}),le.get(Si).afterPreactivation=()=>(Ie(!0),Ut.closed?(0,A.of)(void 0):Ut),lt.initialNavigation()}))}}]).\u0275providers:[]]}const tl=new h.nKC("")},8620:(dn,Je,_)=>{"use strict";_.d(Je,{WJ:()=>ve,EI:()=>ot});var h=_(7404),O=_(316),E=_(6965),A=_(6651),S=_(7557),C=_(1536),W=_(6933),L=_(3119),N=_(434),z=_(8986);const re=new N.c(z.l);var Z=_(7405),ee=_(2677),De=_(5443),Ee=_(8627),ke=_(1963),Qe=_(1810);function Pe(me,Oe){return function(Et){let En;if(En="function"==typeof me?me:function(){return me},"function"==typeof Oe)return Et.lift(new Ye(En,Oe));const Me=Object.create(Et,Qe.f);return Me.source=Et,Me.subjectFactory=En,Me}}class Ye{constructor(Oe,At){this.subjectFactory=Oe,this.selector=At}call(Oe,At){const{selector:Et}=this,En=this.subjectFactory(),Me=Et(En).subscribe(Oe);return Me.add(At.subscribe(En)),Me}}var nt=_(3602),Te=_(6e3),je=_(9277);
/**
       * @license Angular v18.2.3
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const Xe="Service workers are disabled or not supported by this browser";class rt{constructor(Oe){if(this.serviceWorker=Oe,Oe){const Et=(0,S.R)(Oe,"controllerchange").pipe((0,De.T)(()=>Oe.controller)),En=(0,E.v)(()=>(0,C.of)(Oe.controller)),Me=(0,W.x)(En,Et);this.worker=Me.pipe((0,Ee.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,ke.n)(()=>Oe.getRegistration()));const Ft=(0,S.R)(Oe,"message").pipe((0,De.T)(ft=>ft.data)).pipe((0,Ee.p)(ft=>ft&&ft.type)).pipe(function Re(me){return me?Pe(()=>new L.B7,me):Pe(new L.B7)}());Ft.connect(),this.events=Ft}else this.worker=this.events=this.registration=function Q(me){return(0,E.v)(()=>(0,A.$)(new Error(me)))}(Xe)}postMessage(Oe,At){return this.worker.pipe((0,nt.s)(1),(0,Te.M)(Et=>{Et.postMessage({action:Oe,...At})})).toPromise().then(()=>{})}postMessageWithOperation(Oe,At,Et){const En=this.waitForOperationCompleted(Et),Me=this.postMessage(Oe,At);return Promise.all([Me,En]).then(([,kn])=>kn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Oe){let At;return At="string"==typeof Oe?Et=>Et.type===Oe:Et=>Oe.includes(Et.type),this.events.pipe((0,Ee.p)(At))}nextEventOfType(Oe){return this.eventsOfType(Oe).pipe((0,nt.s)(1))}waitForOperationCompleted(Oe){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ee.p)(At=>At.nonce===Oe),(0,nt.s)(1),(0,De.T)(At=>{if(void 0!==At.result)return At.result;throw new Error(At.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let oe=(()=>{class me{get isEnabled(){return this.sw.isEnabled}constructor(At){if(this.sw=At,this.pushManager=null,this.subscriptionChanges=new L.B7,!At.isEnabled)return this.messages=re,this.notificationClicks=re,void(this.subscription=re);this.messages=this.sw.eventsOfType("PUSH").pipe((0,De.T)(En=>En.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,De.T)(En=>En.data)),this.pushManager=this.sw.registration.pipe((0,De.T)(En=>En.pushManager));const Et=this.pushManager.pipe((0,ke.n)(En=>En.getSubscription()));this.subscription=(0,Z.h)(Et,this.subscriptionChanges)}requestSubscription(At){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Xe));const Et={userVisibleOnly:!0};let En=this.decodeBase64(At.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Me=new Uint8Array(new ArrayBuffer(En.length));for(let kn=0;kn<En.length;kn++)Me[kn]=En.charCodeAt(kn);return Et.applicationServerKey=Me,this.pushManager.pipe((0,ke.n)(kn=>kn.subscribe(Et)),(0,nt.s)(1)).toPromise().then(kn=>(this.subscriptionChanges.next(kn),kn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,nt.s)(1),(0,ke.n)(Et=>{if(null===Et)throw new Error("Not subscribed to push notifications.");return Et.unsubscribe().then(En=>{if(!En)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xe))}decodeBase64(At){return atob(At)}static#e=this.\u0275fac=function(Et){return new(Et||me)(h.KVO(rt))};static#t=this.\u0275prov=h.jDH({token:me,factory:me.\u0275fac})}return me})(),ot=(()=>{class me{get isEnabled(){return this.sw.isEnabled}constructor(At){if(this.sw=At,!At.isEnabled)return this.versionUpdates=re,void(this.unrecoverable=re);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xe));const At=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:At},At)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xe));const At=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:At},At)}static#e=this.\u0275fac=function(Et){return new(Et||me)(h.KVO(rt))};static#t=this.\u0275prov=h.jDH({token:me,factory:me.\u0275fac})}return me})();
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const bt=new h.nKC("");function Nt(me,Oe,At,Et){return()=>{if(!(0,O.UE)(Et)||!("serviceWorker"in navigator)||!1===At.enabled)return;const En=me.get(h.SKi),Me=me.get(h.o8S);let kn;if(En.runOutsideAngular(()=>{const nn=navigator.serviceWorker,Ot=()=>nn.controller?.postMessage({action:"INITIALIZE"});nn.addEventListener("controllerchange",Ot),Me.onDestroy(()=>{nn.removeEventListener("controllerchange",Ot)})}),"function"==typeof At.registrationStrategy)kn=At.registrationStrategy();else{const[nn,...Ot]=(At.registrationStrategy||"registerWhenStable:30000").split(":");switch(nn){case"registerImmediately":kn=(0,C.of)(null);break;case"registerWithDelay":kn=St(+Ot[0]||0);break;case"registerWhenStable":const Ft=(0,ee.H)(me.get(h.o8S).whenStable());kn=Ot[0]?(0,Z.h)(Ft,St(+Ot[0])):Ft;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${At.registrationStrategy}`)}}En.runOutsideAngular(()=>kn.pipe((0,nt.s)(1)).subscribe(()=>navigator.serviceWorker.register(Oe,{scope:At.scope}).catch(nn=>console.error("Service worker registration failed with:",nn))))}}function St(me){return(0,C.of)(null).pipe((0,je.c)(me))}function $t(me,Oe){return new rt((0,O.UE)(Oe)&&!1!==me.enabled?navigator.serviceWorker:void 0)}class Ce{}function ce(me,Oe={}){return(0,h.EmA)([oe,ot,{provide:bt,useValue:me},{provide:Ce,useValue:Oe},{provide:rt,useFactory:$t,deps:[Ce,h.Agw]},{provide:h.hnV,useFactory:Nt,deps:[h.zZn,bt,Ce,h.Agw],multi:!0}])}let ve=(()=>{class me{static register(At,Et={}){return{ngModule:me,providers:[ce(At,Et)]}}static#e=this.\u0275fac=function(Et){return new(Et||me)};static#t=this.\u0275mod=h.$C({type:me});static#n=this.\u0275inj=h.G2t({providers:[oe,ot]})}return me})()},597:(dn,Je,_)=>{"use strict";_.d(Je,{D9:()=>Nt,Wr:()=>q,c$:()=>ot,h:()=>St});var h=_(7404),O=_(1536),E=_(6899),A=_(8757),S=_(6933),C=_(6965),W=_(3602),L=_(7841),N=_(5443),z=_(9003),re=_(1963);class q{}let Z=(()=>{class $t extends q{getTranslation(ce){return(0,O.of)({})}}return $t.\u0275fac=(()=>{let Ce;return function(ve){return(Ce||(Ce=h.xGo($t)))(ve||$t)}})(),$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})();class ee{}let De=(()=>{class $t{handle(ce){return ce.key}}return $t.\u0275fac=function(ce){return new(ce||$t)},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})();function Ee($t,Ce){if($t===Ce)return!0;if(null===$t||null===Ce)return!1;if($t!=$t&&Ce!=Ce)return!0;let me,Oe,At,ce=typeof $t;if(ce==typeof Ce&&"object"==ce){if(!Array.isArray($t)){if(Array.isArray(Ce))return!1;for(Oe in At=Object.create(null),$t){if(!Ee($t[Oe],Ce[Oe]))return!1;At[Oe]=!0}for(Oe in Ce)if(!(Oe in At)&&typeof Ce[Oe]<"u")return!1;return!0}if(!Array.isArray(Ce))return!1;if((me=$t.length)==Ce.length){for(Oe=0;Oe<me;Oe++)if(!Ee($t[Oe],Ce[Oe]))return!1;return!0}}return!1}function ke($t){return typeof $t<"u"&&null!==$t}function Qe($t){return $t&&"object"==typeof $t&&!Array.isArray($t)}function Pe($t,Ce){let ce=Object.assign({},$t);return Qe($t)&&Qe(Ce)&&Object.keys(Ce).forEach(ve=>{Qe(Ce[ve])?ve in $t?ce[ve]=Pe($t[ve],Ce[ve]):Object.assign(ce,{[ve]:Ce[ve]}):Object.assign(ce,{[ve]:Ce[ve]})}),ce}class Ye{}let Re=(()=>{class $t extends Ye{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ce,ve){let me;return me="string"==typeof ce?this.interpolateString(ce,ve):"function"==typeof ce?this.interpolateFunction(ce,ve):ce,me}getValue(ce,ve){let me="string"==typeof ve?ve.split("."):[ve];ve="";do{ve+=me.shift(),!ke(ce)||!ke(ce[ve])||"object"!=typeof ce[ve]&&me.length?me.length?ve+=".":ce=void 0:(ce=ce[ve],ve="")}while(me.length);return ce}interpolateFunction(ce,ve){return ce(ve)}interpolateString(ce,ve){return ve?ce.replace(this.templateMatcher,(me,Oe)=>{let At=this.getValue(ve,Oe);return ke(At)?At:me}):ce}}return $t.\u0275fac=(()=>{let Ce;return function(ve){return(Ce||(Ce=h.xGo($t)))(ve||$t)}})(),$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})();class nt{}let Te=(()=>{class $t extends nt{compile(ce,ve){return ce}compileTranslations(ce,ve){return ce}}return $t.\u0275fac=(()=>{let Ce;return function(ve){return(Ce||(Ce=h.xGo($t)))(ve||$t)}})(),$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})();class je{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new h.bkB,this.onLangChange=new h.bkB,this.onDefaultLangChange=new h.bkB}}const Xe=new h.nKC("USE_STORE"),Q=new h.nKC("USE_DEFAULT_LANG"),rt=new h.nKC("DEFAULT_LANGUAGE"),oe=new h.nKC("USE_EXTEND");let ot=(()=>{class $t{constructor(ce,ve,me,Oe,At,Et=!0,En=!1,Me=!1,kn){this.store=ce,this.currentLoader=ve,this.compiler=me,this.parser=Oe,this.missingTranslationHandler=At,this.useDefaultLang=Et,this.isolate=En,this.extend=Me,this.pending=!1,this._onTranslationChange=new h.bkB,this._onLangChange=new h.bkB,this._onDefaultLangChange=new h.bkB,this._langs=[],this._translations={},this._translationRequests={},kn&&this.setDefaultLang(kn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ce){this.isolate?this._defaultLang=ce:this.store.defaultLang=ce}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ce){this.isolate?this._currentLang=ce:this.store.currentLang=ce}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ce){this.isolate?this._langs=ce:this.store.langs=ce}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ce){this.isolate?this._translations=ce:this.store.translations=ce}setDefaultLang(ce){if(ce===this.defaultLang)return;let ve=this.retrieveTranslations(ce);typeof ve<"u"?(null==this.defaultLang&&(this.defaultLang=ce),ve.pipe((0,W.s)(1)).subscribe(me=>{this.changeDefaultLang(ce)})):this.changeDefaultLang(ce)}getDefaultLang(){return this.defaultLang}use(ce){if(ce===this.currentLang)return(0,O.of)(this.translations[ce]);let ve=this.retrieveTranslations(ce);return typeof ve<"u"?(this.currentLang||(this.currentLang=ce),ve.pipe((0,W.s)(1)).subscribe(me=>{this.changeLang(ce)}),ve):(this.changeLang(ce),(0,O.of)(this.translations[ce]))}retrieveTranslations(ce){let ve;return(typeof this.translations[ce]>"u"||this.extend)&&(this._translationRequests[ce]=this._translationRequests[ce]||this.getTranslation(ce),ve=this._translationRequests[ce]),ve}getTranslation(ce){this.pending=!0;const ve=this.currentLoader.getTranslation(ce).pipe((0,L.t)(1),(0,W.s)(1));return this.loadingTranslations=ve.pipe((0,N.T)(me=>this.compiler.compileTranslations(me,ce)),(0,L.t)(1),(0,W.s)(1)),this.loadingTranslations.subscribe({next:me=>{this.translations[ce]=this.extend&&this.translations[ce]?{...me,...this.translations[ce]}:me,this.updateLangs(),this.pending=!1},error:me=>{this.pending=!1}}),ve}setTranslation(ce,ve,me=!1){ve=this.compiler.compileTranslations(ve,ce),this.translations[ce]=(me||this.extend)&&this.translations[ce]?Pe(this.translations[ce],ve):ve,this.updateLangs(),this.onTranslationChange.emit({lang:ce,translations:this.translations[ce]})}getLangs(){return this.langs}addLangs(ce){ce.forEach(ve=>{-1===this.langs.indexOf(ve)&&this.langs.push(ve)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ce,ve,me){let Oe;if(ve instanceof Array){let At={},Et=!1;for(let En of ve)At[En]=this.getParsedResult(ce,En,me),(0,E.A)(At[En])&&(Et=!0);if(Et){const En=ve.map(Me=>(0,E.A)(At[Me])?At[Me]:(0,O.of)(At[Me]));return(0,A.p)(En).pipe((0,N.T)(Me=>{let kn={};return Me.forEach((nn,Ot)=>{kn[ve[Ot]]=nn}),kn}))}return At}if(ce&&(Oe=this.parser.interpolate(this.parser.getValue(ce,ve),me)),typeof Oe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Oe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ve),me)),typeof Oe>"u"){let At={key:ve,translateService:this};typeof me<"u"&&(At.interpolateParams=me),Oe=this.missingTranslationHandler.handle(At)}return typeof Oe<"u"?Oe:ve}get(ce,ve){if(!ke(ce)||!ce.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,z.H)(me=>(me=this.getParsedResult(me,ce,ve),(0,E.A)(me)?me:(0,O.of)(me))));{let me=this.getParsedResult(this.translations[this.currentLang],ce,ve);return(0,E.A)(me)?me:(0,O.of)(me)}}getStreamOnTranslationChange(ce,ve){if(!ke(ce)||!ce.length)throw new Error('Parameter "key" required');return(0,S.x)((0,C.v)(()=>this.get(ce,ve)),this.onTranslationChange.pipe((0,re.n)(me=>{const Oe=this.getParsedResult(me.translations,ce,ve);return"function"==typeof Oe.subscribe?Oe:(0,O.of)(Oe)})))}stream(ce,ve){if(!ke(ce)||!ce.length)throw new Error('Parameter "key" required');return(0,S.x)((0,C.v)(()=>this.get(ce,ve)),this.onLangChange.pipe((0,re.n)(me=>{const Oe=this.getParsedResult(me.translations,ce,ve);return(0,E.A)(Oe)?Oe:(0,O.of)(Oe)})))}instant(ce,ve){if(!ke(ce)||!ce.length)throw new Error('Parameter "key" required');let me=this.getParsedResult(this.translations[this.currentLang],ce,ve);if((0,E.A)(me)){if(ce instanceof Array){let Oe={};return ce.forEach((At,Et)=>{Oe[ce[Et]]=ce[Et]}),Oe}return ce}return me}set(ce,ve,me=this.currentLang){this.translations[me][ce]=this.compiler.compile(ve,me),this.updateLangs(),this.onTranslationChange.emit({lang:me,translations:this.translations[me]})}changeLang(ce){this.currentLang=ce,this.onLangChange.emit({lang:ce,translations:this.translations[ce]}),null==this.defaultLang&&this.changeDefaultLang(ce)}changeDefaultLang(ce){this.defaultLang=ce,this.onDefaultLangChange.emit({lang:ce,translations:this.translations[ce]})}reloadLang(ce){return this.resetLang(ce),this.getTranslation(ce)}resetLang(ce){this._translationRequests[ce]=void 0,this.translations[ce]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ce=window.navigator.languages?window.navigator.languages[0]:null;return ce=ce||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof ce>"u"?void 0:(-1!==ce.indexOf("-")&&(ce=ce.split("-")[0]),-1!==ce.indexOf("_")&&(ce=ce.split("_")[0]),ce)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let ce=window.navigator.languages?window.navigator.languages[0]:null;return ce=ce||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ce}}return $t.\u0275fac=function(ce){return new(ce||$t)(h.KVO(je),h.KVO(q),h.KVO(nt),h.KVO(Ye),h.KVO(ee),h.KVO(Q),h.KVO(Xe),h.KVO(oe),h.KVO(rt))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})(),Nt=(()=>{class $t{constructor(ce,ve){this.translate=ce,this._ref=ve,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ce,ve,me){let Oe=At=>{this.value=void 0!==At?At:ce,this.lastKey=ce,this._ref.markForCheck()};if(me){let At=this.translate.getParsedResult(me,ce,ve);(0,E.A)(At.subscribe)?At.subscribe(Oe):Oe(At)}this.translate.get(ce,ve).subscribe(Oe)}transform(ce,...ve){if(!ce||!ce.length)return ce;if(Ee(ce,this.lastKey)&&Ee(ve,this.lastParams))return this.value;let me;if(ke(ve[0])&&ve.length)if("string"==typeof ve[0]&&ve[0].length){let Oe=ve[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{me=JSON.parse(Oe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ve[0]}`)}}else"object"==typeof ve[0]&&!Array.isArray(ve[0])&&(me=ve[0]);return this.lastKey=ce,this.lastParams=ve,this.updateValue(ce,me),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Oe=>{this.lastKey&&Oe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ce,me,Oe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Oe=>{this.lastKey&&(this.lastKey=null,this.updateValue(ce,me,Oe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ce,me))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return $t.\u0275fac=function(ce){return new(ce||$t)(h.rXU(ot,16),h.rXU(h.gRc,16))},$t.\u0275pipe=h.EJ8({name:"translate",type:$t,pure:!1}),$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),$t})(),St=(()=>{class $t{static forRoot(ce={}){return{ngModule:$t,providers:[ce.loader||{provide:q,useClass:Z},ce.compiler||{provide:nt,useClass:Te},ce.parser||{provide:Ye,useClass:Re},ce.missingTranslationHandler||{provide:ee,useClass:De},je,{provide:Xe,useValue:ce.isolate},{provide:Q,useValue:ce.useDefaultLang},{provide:oe,useValue:ce.extend},{provide:rt,useValue:ce.defaultLanguage},ot]}}static forChild(ce={}){return{ngModule:$t,providers:[ce.loader||{provide:q,useClass:Z},ce.compiler||{provide:nt,useClass:Te},ce.parser||{provide:Ye,useClass:Re},ce.missingTranslationHandler||{provide:ee,useClass:De},{provide:Xe,useValue:ce.isolate},{provide:Q,useValue:ce.useDefaultLang},{provide:oe,useValue:ce.extend},{provide:rt,useValue:ce.defaultLanguage},ot]}}}return $t.\u0275fac=function(ce){return new(ce||$t)},$t.\u0275mod=h.$C({type:$t}),$t.\u0275inj=h.G2t({}),$t})()},5101:(dn,Je,_)=>{"use strict";_.d(Je,{s:()=>h});class h{constructor(E,A="/assets/i18n/",S=".json"){this.http=E,this.prefix=A,this.suffix=S}getTranslation(E){return this.http.get(`${this.prefix}${E}${this.suffix}`)}}},3803:(dn,Je,_)=>{"use strict";_.d(Je,{T:()=>h});const h=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},4820:(dn,Je,_)=>{"use strict";_.d(Je,{qd:()=>C,wg:()=>N,y7:()=>W});var h=_(774),O=_(1205),E=_(3803),A=_(524);const S={};function C(z){const re=S[z];if(re)return re;let q=A.j[z];if((0,h.a3)(q))return S[z]=q.bind(A.j);const Z=A.j.document;if(Z&&"function"==typeof Z.createElement)try{const ee=Z.createElement("iframe");ee.hidden=!0,Z.head.appendChild(ee);const De=ee.contentWindow;De&&De[z]&&(q=De[z]),Z.head.removeChild(ee)}catch(ee){E.T&&O.vF.warn(`Could not create sandbox iframe for ${z} check, bailing to window.${z}: `,ee)}return q&&(S[z]=q.bind(A.j))}function W(z){S[z]=void 0}function N(...z){return C("setTimeout")(...z)}},8283:(dn,Je,_)=>{"use strict";_.d(Je,{i:()=>N});var h=_(5027),O=_(7593),E=_(1582),A=_(524);const S=1e3;let C,W,L;function N(De){(0,h.s5)("dom",De),(0,h.AS)("dom",z)}function z(){if(!A.j.document)return;const De=h.aj.bind(null,"dom"),Ee=Z(De,!0);A.j.document.addEventListener("click",Ee,!1),A.j.document.addEventListener("keypress",Ee,!1),["EventTarget","Node"].forEach(ke=>{const Qe=A.j[ke]&&A.j[ke].prototype;!Qe||!Qe.hasOwnProperty||!Qe.hasOwnProperty("addEventListener")||((0,O.GS)(Qe,"addEventListener",function(Pe){return function(Ye,Re,nt){if("click"===Ye||"keypress"==Ye)try{const Te=this,je=Te.__sentry_instrumentation_handlers__=Te.__sentry_instrumentation_handlers__||{},Xe=je[Ye]=je[Ye]||{refCount:0};if(!Xe.handler){const Q=Z(De);Xe.handler=Q,Pe.call(this,Ye,Q,nt)}Xe.refCount++}catch{}return Pe.call(this,Ye,Re,nt)}}),(0,O.GS)(Qe,"removeEventListener",function(Pe){return function(Ye,Re,nt){if("click"===Ye||"keypress"==Ye)try{const Te=this,je=Te.__sentry_instrumentation_handlers__||{},Xe=je[Ye];Xe&&(Xe.refCount--,Xe.refCount<=0&&(Pe.call(this,Ye,Xe.handler,nt),Xe.handler=void 0,delete je[Ye]),0===Object.keys(je).length&&delete Te.__sentry_instrumentation_handlers__)}catch{}return Pe.call(this,Ye,Re,nt)}}))})}function Z(De,Ee=!1){return ke=>{if(!ke||ke._sentryCaptured)return;const Qe=function ee(De){try{return De.target}catch{return null}}(ke);if(function q(De,Ee){return!("keypress"!==De||Ee&&Ee.tagName&&("INPUT"===Ee.tagName||"TEXTAREA"===Ee.tagName||Ee.isContentEditable))}(ke.type,Qe))return;(0,O.my)(ke,"_sentryCaptured",!0),Qe&&!Qe._sentryId&&(0,O.my)(Qe,"_sentryId",(0,E.eJ)());const Pe="keypress"===ke.type?"input":ke.type;(function re(De){if(De.type!==W)return!1;try{if(!De.target||De.target._sentryId!==L)return!1}catch{}return!0})(ke)||(De({event:ke,name:Pe,global:Ee}),W=ke.type,L=Qe?Qe._sentryId:void 0),clearTimeout(C),C=A.j.setTimeout(()=>{L=void 0,W=void 0},S)}}},1100:(dn,Je,_)=>{"use strict";_.d(Je,{_:()=>L});var h=_(5027);const E=_(2031).O;var S=_(7593),C=_(524);let W;function L(z){const re="history";(0,h.s5)(re,z),(0,h.AS)(re,N)}function N(){if(!function A(){const z=E.chrome;return!(z&&z.app&&z.app.runtime||!("history"in E)||!E.history.pushState||!E.history.replaceState)}())return;const z=C.j.onpopstate;function re(q){return function(...Z){const ee=Z.length>2?Z[2]:void 0;if(ee){const De=W,Ee=String(ee);W=Ee,(0,h.aj)("history",{from:De,to:Ee})}return q.apply(this,Z)}}C.j.onpopstate=function(...q){const Z=C.j.location.href,ee=W;if(W=Z,(0,h.aj)("history",{from:ee,to:Z}),z)try{return z.apply(this,q)}catch{}},(0,S.GS)(C.j.history,"pushState",re),(0,S.GS)(C.j.history,"replaceState",re)}},4097:(dn,Je,_)=>{"use strict";_.d(Je,{Er:()=>S,Mn:()=>C});var h=_(5027),O=_(8423),E=_(1362),A=_(524);const S="__sentry_xhr_v3__";function C(N){(0,h.s5)("xhr",N),(0,h.AS)("xhr",W)}function W(){if(!A.j.XMLHttpRequest)return;const N=XMLHttpRequest.prototype;N.open=new Proxy(N.open,{apply(z,re,q){const Z=1e3*(0,O.zf)(),ee=(0,E.Kg)(q[0])?q[0].toUpperCase():void 0,De=function L(N){if((0,E.Kg)(N))return N;try{return N.toString()}catch{}}(q[1]);if(!ee||!De)return z.apply(re,q);re[S]={method:ee,url:De,request_headers:{}},"POST"===ee&&De.match(/sentry_key/)&&(re.__sentry_own_request__=!0);const Ee=()=>{const ke=re[S];if(ke&&4===re.readyState){try{ke.status_code=re.status}catch{}const Qe={endTimestamp:1e3*(0,O.zf)(),startTimestamp:Z,xhr:re};(0,h.aj)("xhr",Qe)}};return"onreadystatechange"in re&&"function"==typeof re.onreadystatechange?re.onreadystatechange=new Proxy(re.onreadystatechange,{apply:(ke,Qe,Pe)=>(Ee(),ke.apply(Qe,Pe))}):re.addEventListener("readystatechange",Ee),re.setRequestHeader=new Proxy(re.setRequestHeader,{apply(ke,Qe,Pe){const[Ye,Re]=Pe,nt=Qe[S];return nt&&(0,E.Kg)(Ye)&&(0,E.Kg)(Re)&&(nt.request_headers[Ye.toLowerCase()]=Re),ke.apply(Qe,Pe)}}),z.apply(re,q)}}),N.send=new Proxy(N.send,{apply(z,re,q){const Z=re[S];if(!Z)return z.apply(re,q);void 0!==q[0]&&(Z.body=q[0]);const ee={startTimestamp:1e3*(0,O.zf)(),xhr:re};return(0,h.aj)("xhr",ee),z.apply(re,q)}})}},5617:(dn,Je,_)=>{"use strict";_.d(Je,{a9:()=>an,T5:()=>yt,hT:()=>vn,Pt:()=>Pt,wv:()=>wn,YG:()=>Jt,tC:()=>mn});var h=_(1205),O=_(3439),E=_(3803);const S=(cn,wt,Ht,Bt)=>{let An,Xn;return zi=>{wt.value>=0&&(zi||Bt)&&(Xn=wt.value-(An||0),(Xn||void 0===An)&&(An=wt.value,wt.delta=Xn,wt.rating=((cn,wt)=>cn>wt[1]?"poor":cn>wt[0]?"needs-improvement":"good")(wt.value,Ht),cn(wt)))}};var C=_(524),L=_(242);const N=()=>{const cn=(0,L.z)();return cn&&cn.activationStart||0},z=(cn,wt)=>{const Ht=(0,L.z)();let Bt="navigate";return Ht&&(C.j.document&&C.j.document.prerendering||N()>0?Bt="prerender":C.j.document&&C.j.document.wasDiscarded?Bt="restore":Ht.type&&(Bt=Ht.type.replace(/_/g,"-"))),{name:cn,value:typeof wt>"u"?-1:wt,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:Bt}},re=(cn,wt,Ht)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(cn)){const Bt=new PerformanceObserver(An=>{Promise.resolve().then(()=>{wt(An.getEntries())})});return Bt.observe(Object.assign({type:cn,buffered:!0},Ht||{})),Bt}}catch{}};var q=_(3085);const Z=cn=>{let wt=!1;return Ht=>{wt||(cn(Ht),wt=!0)}};var ee=_(9056);const De=cn=>{C.j.document&&C.j.document.prerendering?addEventListener("prerenderingchange",()=>cn(),!0):cn()},Ee=[1800,3e3],Qe=[.1,.25],Pe=(cn,wt={})=>{((cn,wt={})=>{De(()=>{const Ht=(0,ee.N)(),Bt=z("FCP");let An;const zi=re("paint",Vn=>{Vn.forEach(ui=>{"first-contentful-paint"===ui.name&&(zi.disconnect(),ui.startTime<Ht.firstHiddenTime&&(Bt.value=Math.max(ui.startTime-N(),0),Bt.entries.push(ui),An(!0)))})});zi&&(An=S(cn,Bt,Ee,wt.reportAllChanges))})})(Z(()=>{const Ht=z("CLS",0);let Bt,An=0,Xn=[];const zi=ui=>{ui.forEach(Pn=>{if(!Pn.hadRecentInput){const oi=Xn[0],jt=Xn[Xn.length-1];An&&oi&&jt&&Pn.startTime-jt.startTime<1e3&&Pn.startTime-oi.startTime<5e3?(An+=Pn.value,Xn.push(Pn)):(An=Pn.value,Xn=[Pn])}}),An>Ht.value&&(Ht.value=An,Ht.entries=Xn,Bt())},Vn=re("layout-shift",zi);Vn&&(Bt=S(cn,Ht,Qe,wt.reportAllChanges),(0,q.Q)(()=>{zi(Vn.takeRecords()),Bt(!0)}),setTimeout(Bt,0))}))},Ye=[100,300],Re=(cn,wt={})=>{De(()=>{const Ht=(0,ee.N)(),Bt=z("FID");let An;const Xn=ui=>{ui.startTime<Ht.firstHiddenTime&&(Bt.value=ui.processingStart-ui.startTime,Bt.entries.push(ui),An(!0))},zi=ui=>{ui.forEach(Xn)},Vn=re("first-input",zi);An=S(cn,Bt,Ye,wt.reportAllChanges),Vn&&(0,q.Q)(Z(()=>{zi(Vn.takeRecords()),Vn.disconnect()}))})};let nt=0,Te=1/0,je=0;const Xe=cn=>{cn.forEach(wt=>{wt.interactionId&&(Te=Math.min(Te,wt.interactionId),je=Math.max(je,wt.interactionId),nt=je?(je-Te)/7+1:0)})};let Q;const ot=[200,500],Nt=()=>(Q?nt:performance.interactionCount||0)-0,$t=[],Ce={},ce=cn=>{const wt=$t[$t.length-1],Ht=Ce[cn.interactionId];if(Ht||$t.length<10||wt&&cn.duration>wt.latency){if(Ht)Ht.entries.push(cn),Ht.latency=Math.max(Ht.latency,cn.duration);else{const Bt={id:cn.interactionId,latency:cn.duration,entries:[cn]};Ce[Bt.id]=Bt,$t.push(Bt)}$t.sort((Bt,An)=>An.latency-Bt.latency),$t.splice(10).forEach(Bt=>{delete Ce[Bt.id]})}},me=(cn,wt={})=>{De(()=>{"interactionCount"in performance||Q||(Q=re("event",Xe,{type:"event",buffered:!0,durationThreshold:0}));const Ht=z("INP");let Bt;const An=zi=>{zi.forEach(ui=>{ui.interactionId&&ce(ui),"first-input"===ui.entryType&&!$t.some(oi=>oi.entries.some(jt=>ui.duration===jt.duration&&ui.startTime===jt.startTime))&&ce(ui)});const Vn=(()=>{const cn=Math.min($t.length-1,Math.floor(Nt()/50));return $t[cn]})();Vn&&Vn.latency!==Ht.value&&(Ht.value=Vn.latency,Ht.entries=Vn.entries,Bt())},Xn=re("event",An,{durationThreshold:null!=wt.durationThreshold?wt.durationThreshold:40});Bt=S(cn,Ht,ot,wt.reportAllChanges),Xn&&("PerformanceEventTiming"in C.j&&"interactionId"in PerformanceEventTiming.prototype&&Xn.observe({type:"first-input",buffered:!0}),(0,q.Q)(()=>{An(Xn.takeRecords()),Ht.value<0&&Nt()>0&&(Ht.value=0,Ht.entries=[]),Bt(!0)}))})},Oe=[2500,4e3],At={},Et=(cn,wt={})=>{De(()=>{const Ht=(0,ee.N)(),Bt=z("LCP");let An;const Xn=Vn=>{const ui=Vn[Vn.length-1];ui&&ui.startTime<Ht.firstHiddenTime&&(Bt.value=Math.max(ui.startTime-N(),0),Bt.entries=[ui],An())},zi=re("largest-contentful-paint",Xn);if(zi){An=S(cn,Bt,Oe,wt.reportAllChanges);const Vn=Z(()=>{At[Bt.id]||(Xn(zi.takeRecords()),zi.disconnect(),At[Bt.id]=!0,An(!0))});["keydown","click"].forEach(ui=>{C.j.document&&addEventListener(ui,()=>setTimeout(Vn,0),!0)}),(0,q.Q)(Vn)}})},En=[800,1800],Me=cn=>{C.j.document&&C.j.document.prerendering?De(()=>Me(cn)):C.j.document&&"complete"!==C.j.document.readyState?addEventListener("load",()=>Me(cn),!0):setTimeout(cn,0)},kn=(cn,wt={})=>{const Ht=z("TTFB"),Bt=S(cn,Ht,En,wt.reportAllChanges);Me(()=>{const An=(0,L.z)();if(An){const Xn=An.responseStart;if(Xn<=0||Xn>performance.now())return;Ht.value=Math.max(Xn-N(),0),Ht.entries=[An],Bt(!0)}})},nn={},Ot={};let Ft,ft,Ae,Ve,vt;function an(cn,wt=!1){return rn("cls",cn,sn,Ft,wt)}function Pt(cn,wt=!1){return rn("lcp",cn,tt,Ae,wt)}function yt(cn){return rn("fid",cn,de,ft)}function Jt(cn){return rn("ttfb",cn,_e,Ve)}function vn(cn){return rn("inp",cn,ut,vt)}function wn(cn,wt){return ci(cn,wt),Ot[cn]||(function fn(cn){const wt={};"event"===cn&&(wt.durationThreshold=0),re(cn,Ht=>{on(cn,{entries:Ht})},wt)}(cn),Ot[cn]=!0),$i(cn,wt)}function on(cn,wt){const Ht=nn[cn];if(Ht&&Ht.length)for(const Bt of Ht)try{Bt(wt)}catch(An){E.T&&h.vF.error(`Error while triggering instrumentation handler.\nType: ${cn}\nName: ${(0,O.qQ)(Bt)}\nError:`,An)}}function sn(){return Pe(cn=>{on("cls",{metric:cn}),Ft=cn},{reportAllChanges:!0})}function de(){return Re(cn=>{on("fid",{metric:cn}),ft=cn})}function tt(){return Et(cn=>{on("lcp",{metric:cn}),Ae=cn},{reportAllChanges:!0})}function _e(){return kn(cn=>{on("ttfb",{metric:cn}),Ve=cn})}function ut(){return me(cn=>{on("inp",{metric:cn}),vt=cn})}function rn(cn,wt,Ht,Bt,An=!1){let Xn;return ci(cn,wt),Ot[cn]||(Xn=Ht(),Ot[cn]=!0),Bt&&wt({metric:Bt}),$i(cn,wt,An?Xn:void 0)}function ci(cn,wt){nn[cn]=nn[cn]||[],nn[cn].push(wt)}function $i(cn,wt,Ht){return()=>{Ht&&Ht();const Bt=nn[cn];if(!Bt)return;const An=Bt.indexOf(wt);-1!==An&&Bt.splice(An,1)}}function mn(cn){return"duration"in cn}},242:(dn,Je,_)=>{"use strict";_.d(Je,{z:()=>O});var h=_(524);const O=()=>h.j.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},9056:(dn,Je,_)=>{"use strict";_.d(Je,{N:()=>C});var h=_(524);let O=-1;const A=W=>{"hidden"===h.j.document.visibilityState&&O>-1&&(O="visibilitychange"===W.type?W.timeStamp:0,removeEventListener("visibilitychange",A,!0),removeEventListener("prerenderingchange",A,!0))},C=()=>(h.j.document&&O<0&&(O="hidden"!==h.j.document.visibilityState||h.j.document.prerendering?1/0:0,addEventListener("visibilitychange",A,!0),addEventListener("prerenderingchange",A,!0)),{get firstHiddenTime(){return O}})},3085:(dn,Je,_)=>{"use strict";_.d(Je,{Q:()=>O});var h=_(524);const O=E=>{const A=S=>{("pagehide"===S.type||h.j.document&&"hidden"===h.j.document.visibilityState)&&E(S)};h.j.document&&(addEventListener("visibilitychange",A,!0),addEventListener("pagehide",A,!0))}},524:(dn,Je,_)=>{"use strict";_.d(Je,{j:()=>O});const O=_(2031).O},6066:(dn,Je,_)=>{"use strict";_.d(Je,{w:()=>Pd});var h=_(9204),E=_(147),A=_(7376),S=_(1229),C=_(2849);function z(D){return"/"===D[D.length-1]?D.slice(0,-1):D}var re=_(1995),q=_(8165),Z=_(4541),ee=_(4707),De=_(2031),Ee=_(1205),ke=_(6362),Qe=_(7593),Pe=_(4440),Ye=_(8423),Re=_(1582),nt=_(6851),Te=_(7138),je=_(5612),Xe=_(1857),Q=_(679);function bt(){return typeof window<"u"&&(!function rt(){return!(0,Q.Z)()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function Nt(){return void 0!==De.O.process&&"renderer"===De.O.process.type}())}var St=_(4820),$t=_(5617),Ce=_(4097),ce=_(8283),ve=_(1100);const me=De.O,Oe="sentryReplaySession",At="replay_event",Et="Unable to send Replay",Ft=5e3,ft=3,Ae=15e4,Pt=2e7;function wn(D,F){return D??F()}function on(D){let F,se=D[0],Le=1;for(;Le<D.length;){const It=D[Le],Qt=D[Le+1];if(Le+=2,("optionalAccess"===It||"optionalCall"===It)&&null==se)return;"access"===It||"optionalAccess"===It?(F=se,se=Qt(se)):("call"===It||"optionalCall"===It)&&(se=Qt((...Cn)=>se.call(F,...Cn)),F=void 0)}return se}var sn=function(D){return D[D.Document=0]="Document",D[D.DocumentType=1]="DocumentType",D[D.Element=2]="Element",D[D.Text=3]="Text",D[D.CDATA=4]="CDATA",D[D.Comment=5]="Comment",D}(sn||{});function tt(D){const F=on([D,"optionalAccess",se=>se.host]);return on([F,"optionalAccess",se=>se.shadowRoot])===D}function _e(D){return"[object ShadowRoot]"===Object.prototype.toString.call(D)}function fn(D){try{const F=D.rules||D.cssRules;return F?function ut(D){return D.includes(" background-clip: text;")&&!D.includes(" -webkit-background-clip: text;")&&(D=D.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),D}(Array.from(F,ci).join("")):null}catch{return null}}function ci(D){let F;if(function mn(D){return"styleSheet"in D}(D))try{F=fn(D.styleSheet)||function rn(D){const{cssText:F}=D;if(F.split('"').length<3)return F;const se=["@import",`url(${JSON.stringify(D.href)})`];return""===D.layerName?se.push("layer"):D.layerName&&se.push(`layer(${D.layerName})`),D.supportsText&&se.push(`supports(${D.supportsText})`),D.media.length&&se.push(D.media.mediaText),se.join(" ")+";"}(D)}catch{}else if(function cn(D){return"selectorText"in D}(D)&&D.selectorText.includes(":"))return function $i(D){return D.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(D.cssText);return F||D.cssText}class wt{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(F){return F?wn(on([this,"access",Le=>Le.getMeta,"call",Le=>Le(F),"optionalAccess",Le=>Le.id]),()=>-1):-1}getNode(F){return this.idNodeMap.get(F)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(F){return this.nodeMetaMap.get(F)||null}removeNodeFromMap(F){const se=this.getId(F);this.idNodeMap.delete(se),F.childNodes&&F.childNodes.forEach(Le=>this.removeNodeFromMap(Le))}has(F){return this.idNodeMap.has(F)}hasNode(F){return this.nodeMetaMap.has(F)}add(F,se){this.idNodeMap.set(se.id,F),this.nodeMetaMap.set(F,se)}replace(F,se){const Le=this.getNode(F);if(Le){const It=this.nodeMetaMap.get(Le);It&&this.nodeMetaMap.set(se,It)}this.idNodeMap.set(F,se)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Bt({maskInputOptions:D,tagName:F,type:se}){return"OPTION"===F&&(F="SELECT"),!!(D[F.toLowerCase()]||se&&D[se]||"password"===se||"INPUT"===F&&!se&&D.text)}function An({isMasked:D,element:F,value:se,maskInputFn:Le}){let It=se||"";return D?(Le&&(It=Le(It,F)),"*".repeat(It.length)):It}function Xn(D){return D.toLowerCase()}function zi(D){return D.toUpperCase()}const Vn="__rrweb_original__";function Pn(D){const F=D.type;return D.hasAttribute("data-rr-is-password")?"password":F?Xn(F):null}function oi(D,F,se){return"INPUT"!==F||"radio"!==se&&"checkbox"!==se?D.value:D.getAttribute("value")||""}function jt(D,F){let se;try{se=new URL(D,wn(F,()=>window.location.href))}catch{return null}return wn(on([se.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",Qt=>Qt[1]]),()=>null)}const xt={};function qt(D){const F=xt[D];if(F)return F;const se=window.document;let Le=window[D];if(se&&"function"==typeof se.createElement)try{const It=se.createElement("iframe");It.hidden=!0,se.head.appendChild(It);const Qt=It.contentWindow;Qt&&Qt[D]&&(Le=Qt[D]),se.head.removeChild(It)}catch{}return xt[D]=Le.bind(window)}function Lt(...D){return qt("setTimeout")(...D)}function Kt(...D){return qt("clearTimeout")(...D)}let Rn=1;const Un=new RegExp("[^a-z0-9-_:]"),dt=-2;function we(){return Rn++}let Se,be;const ct=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ze=/^(?:[a-z+]+:)?\/\//i,Mt=/^www\..*/i,hn=/^(data:)([^,]*),(.*)/i;function Kn(D,F){return(D||"").replace(ct,(se,Le,It,Qt,Cn,Yn)=>{const Nn=It||Cn||Yn,ti=Le||Qt||"";if(!Nn)return se;if(Ze.test(Nn)||Mt.test(Nn))return`url(${ti}${Nn}${ti})`;if(hn.test(Nn))return`url(${ti}${Nn}${ti})`;if("/"===Nn[0])return`url(${ti}${function U(D){let F="";return F=D.indexOf("//")>-1?D.split("/").slice(0,3).join("/"):D.split("/")[0],F=F.split("?")[0],F}(F)+Nn}${ti})`;const Ln=F.split("/"),ni=Nn.split("/");Ln.pop();for(const wi of ni)"."!==wi&&(".."===wi?Ln.pop():Ln.push(wi));return`url(${ti}${Ln.join("/")}${ti})`})}const Jn=/^[^ \t\n\r\u000c]+/,Bi=/^[, \t\n\r\u000c]+/;function Qi(D,F){if(!F||""===F.trim())return F;const se=D.createElement("a");return se.href=F,se.href}function br(D){return!("svg"!==D.tagName&&!D.ownerSVGElement)}function Tr(){const D=document.createElement("a");return D.href="",D.href}function Hi(D,F,se,Le,It,Qt){return Le&&("src"===se||"href"===se&&("use"!==F||"#"!==Le[0])||"xlink:href"===se&&"#"!==Le[0]||"background"===se&&("table"===F||"td"===F||"th"===F)?Qi(D,Le):"srcset"===se?function di(D,F){if(""===F.trim())return F;let se=0;function Le(Qt){let Cn;const Yn=Qt.exec(F.substring(se));return Yn?(Cn=Yn[0],se+=Cn.length,Cn):""}const It=[];for(;Le(Bi),!(se>=F.length);){let Qt=Le(Jn);if(","===Qt.slice(-1))Qt=Qi(D,Qt.substring(0,Qt.length-1)),It.push(Qt);else{let Cn="";Qt=Qi(D,Qt);let Yn=!1;for(;;){const Nn=F.charAt(se);if(""===Nn){It.push((Qt+Cn).trim());break}if(Yn)")"===Nn&&(Yn=!1);else{if(","===Nn){se+=1,It.push((Qt+Cn).trim());break}"("===Nn&&(Yn=!0)}Cn+=Nn,se+=1}}}return It.join(", ")}(D,Le):"style"===se?Kn(Le,Tr()):"object"===F&&"data"===se?Qi(D,Le):"function"==typeof Qt?Qt(se,Le,It):Le)}function xr(D,F,se){return("video"===D||"audio"===D)&&"autoplay"===F}function bs(D,F,se=1/0,Le=0){return!D||D.nodeType!==D.ELEMENT_NODE||Le>se?-1:F(D)?Le:bs(D.parentNode,F,se,Le+1)}function Os(D,F){return se=>{const Le=se;if(null===Le)return!1;try{if(D)if("string"==typeof D){if(Le.matches(`.${D}`))return!0}else if(function ts(D,F){for(let se=D.classList.length;se--;)if(F.test(D.classList[se]))return!0;return!1}(Le,D))return!0;return!(!F||!Le.matches(F))}catch{return!1}}}function ds(D,F,se,Le,It,Qt){try{const Cn=D.nodeType===D.ELEMENT_NODE?D:D.parentElement;if(null===Cn)return!1;if("INPUT"===Cn.tagName){const ti=Cn.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(ti))return!0}let Yn=-1,Nn=-1;if(Qt){if(Nn=bs(Cn,Os(Le,It)),Nn<0)return!0;Yn=bs(Cn,Os(F,se),Nn>=0?Nn:1/0)}else{if(Yn=bs(Cn,Os(F,se)),Yn<0)return!1;Nn=bs(Cn,Os(Le,It),Yn>=0?Yn:1/0)}return Yn>=0?!(Nn>=0)||Yn<=Nn:!(Nn>=0||!Qt)}catch{}return!!Qt}function Rt(D){return null==D?"":D.toLowerCase()}function Ke(D,F){const{doc:se,mirror:Le,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:Yn,maskTextClass:Nn,unmaskTextClass:ti,maskTextSelector:Ln,unmaskTextSelector:ni,skipChild:wi=!1,inlineStylesheet:sr=!0,maskInputOptions:nr={},maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOMOptions:us,dataURLOptions:Co={},inlineImages:wr=!1,recordCanvas:ba=!1,onSerialize:$s,onIframeLoad:Zr,iframeLoadTimeout:fs=5e3,onStylesheetLoad:ja,stylesheetLoadTimeout:ss=5e3,keepIframeSrcFn:Rs=()=>!1,newlyAddedElement:Lo=!1}=F;let{preserveWhiteSpace:Ml=!0}=F;const va=function vr(D,F){const{doc:se,mirror:Le,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:Yn,maskAttributeFn:Nn,maskTextClass:ti,unmaskTextClass:Ln,maskTextSelector:ni,unmaskTextSelector:wi,inlineStylesheet:sr,maskInputOptions:nr={},maskTextFn:Dr,maskInputFn:As,dataURLOptions:hr={},inlineImages:us,recordCanvas:Co,keepIframeSrcFn:wr,newlyAddedElement:ba=!1}=F,$s=function tr(D,F){if(!F.hasNode(D))return;const se=F.getId(D);return 1===se?void 0:se}(se,Le);switch(D.nodeType){case D.DOCUMENT_NODE:return"CSS1Compat"!==D.compatMode?{type:sn.Document,childNodes:[],compatMode:D.compatMode}:{type:sn.Document,childNodes:[]};case D.DOCUMENT_TYPE_NODE:return{type:sn.DocumentType,name:D.name,publicId:D.publicId,systemId:D.systemId,rootId:$s};case D.ELEMENT_NODE:return function He(D,F){const{doc:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,inlineStylesheet:Cn,maskInputOptions:Yn={},maskAttributeFn:Nn,maskInputFn:ti,dataURLOptions:Ln={},inlineImages:ni,recordCanvas:wi,keepIframeSrcFn:sr,newlyAddedElement:nr=!1,rootId:Dr,maskTextClass:hr,unmaskTextClass:us,maskTextSelector:Co,unmaskTextSelector:wr}=F,ba=function as(D,F,se,Le){try{if(Le&&D.matches(Le))return!1;if("string"==typeof F){if(D.classList.contains(F))return!0}else for(let It=D.classList.length;It--;)if(F.test(D.classList[It]))return!0;if(se)return D.matches(se)}catch{}return!1}(D,Le,It,Qt),$s=function Ne(D){if(D instanceof HTMLFormElement)return"form";const F=Xn(D.tagName);return Un.test(F)?"div":F}(D);let Zr={};const fs=D.attributes.length;for(let ss=0;ss<fs;ss++){const Rs=D.attributes[ss];Rs.name&&!xr($s,Rs.name)&&(Zr[Rs.name]=Hi(se,$s,Xn(Rs.name),Rs.value,D,Nn))}if("link"===$s&&Cn){const ss=Array.from(se.styleSheets).find(Lo=>Lo.href===D.href);let Rs=null;ss&&(Rs=fn(ss)),Rs&&(delete Zr.rel,delete Zr.href,Zr._cssText=Kn(Rs,ss.href))}if("style"===$s&&D.sheet&&!(D.innerText||D.textContent||"").trim().length){const ss=fn(D.sheet);ss&&(Zr._cssText=Kn(ss,Tr()))}if("input"===$s||"textarea"===$s||"select"===$s||"option"===$s){const ss=D,Rs=Pn(ss),Lo=oi(ss,zi($s),Rs),Ml=ss.checked;if("submit"!==Rs&&"button"!==Rs&&Lo){const va=ds(ss,hr,Co,us,wr,Bt({type:Rs,tagName:zi($s),maskInputOptions:Yn}));Zr.value=An({isMasked:va,element:ss,value:Lo,maskInputFn:ti})}Ml&&(Zr.checked=Ml)}if("option"===$s&&(D.selected&&!Yn.select?Zr.selected=!0:delete Zr.selected),"canvas"===$s&&wi)if("2d"===D.__context)(function ui(D){const F=D.getContext("2d");if(!F)return!0;for(let Le=0;Le<D.width;Le+=50)for(let It=0;It<D.height;It+=50){const Qt=F.getImageData;if(new Uint32Array((Vn in Qt?Qt[Vn]:Qt).call(F,Le,It,Math.min(50,D.width-Le),Math.min(50,D.height-It)).data.buffer).some(Nn=>0!==Nn))return!1}return!0})(D)||(Zr.rr_dataURL=D.toDataURL(Ln.type,Ln.quality));else if(!("__context"in D)){const ss=D.toDataURL(Ln.type,Ln.quality),Rs=document.createElement("canvas");Rs.width=D.width,Rs.height=D.height,ss!==Rs.toDataURL(Ln.type,Ln.quality)&&(Zr.rr_dataURL=ss)}if("img"===$s&&ni){Se||(Se=se.createElement("canvas"),be=Se.getContext("2d"));const ss=D,Rs=ss.crossOrigin;ss.crossOrigin="anonymous";const Lo=()=>{ss.removeEventListener("load",Lo);try{Se.width=ss.naturalWidth,Se.height=ss.naturalHeight,be.drawImage(ss,0,0),Zr.rr_dataURL=Se.toDataURL(Ln.type,Ln.quality)}catch(Ml){console.warn(`Cannot inline img src=${ss.currentSrc}! Error: ${Ml}`)}Rs?Zr.crossOrigin=Rs:ss.removeAttribute("crossorigin")};ss.complete&&0!==ss.naturalWidth?Lo():ss.addEventListener("load",Lo)}if(("audio"===$s||"video"===$s)&&(Zr.rr_mediaState=D.paused?"paused":"played",Zr.rr_mediaCurrentTime=D.currentTime),nr||(D.scrollLeft&&(Zr.rr_scrollLeft=D.scrollLeft),D.scrollTop&&(Zr.rr_scrollTop=D.scrollTop)),ba){const{width:ss,height:Rs}=D.getBoundingClientRect();Zr={class:Zr.class,rr_width:`${ss}px`,rr_height:`${Rs}px`}}let ja;"iframe"===$s&&!sr(Zr.src)&&(!ba&&!D.contentDocument&&(Zr.rr_src=Zr.src),delete Zr.src);try{customElements.get($s)&&(ja=!0)}catch{}return{type:sn.Element,tagName:$s,attributes:Zr,childNodes:[],isSVG:br(D)||void 0,needBlock:ba,rootId:Dr,isCustom:ja}}(D,{doc:se,blockClass:It,blockSelector:Qt,unblockSelector:Cn,inlineStylesheet:sr,maskAttributeFn:Nn,maskInputOptions:nr,maskInputFn:As,dataURLOptions:hr,inlineImages:us,recordCanvas:Co,keepIframeSrcFn:wr,newlyAddedElement:ba,rootId:$s,maskAllText:Yn,maskTextClass:ti,unmaskTextClass:Ln,maskTextSelector:ni,unmaskTextSelector:wi});case D.TEXT_NODE:return function xi(D,F){const{maskAllText:se,maskTextClass:Le,unmaskTextClass:It,maskTextSelector:Qt,unmaskTextSelector:Cn,maskTextFn:Yn,maskInputOptions:Nn,maskInputFn:ti,rootId:Ln}=F,ni=D.parentNode&&D.parentNode.tagName;let wi=D.textContent;const sr="STYLE"===ni||void 0,nr="SCRIPT"===ni||void 0,Dr="TEXTAREA"===ni||void 0;if(sr&&wi){try{D.nextSibling||D.previousSibling||on([D,"access",hr=>hr.parentNode,"access",hr=>hr.sheet,"optionalAccess",hr=>hr.cssRules])&&(wi=fn(D.parentNode.sheet))}catch(hr){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${hr}`,D)}wi=Kn(wi,Tr())}nr&&(wi="SCRIPT_PLACEHOLDER");const As=ds(D,Le,Qt,It,Cn,se);return!sr&&!nr&&!Dr&&wi&&As&&(wi=Yn?Yn(wi,D.parentElement):wi.replace(/[\S]/g,"*")),Dr&&wi&&(Nn.textarea||As)&&(wi=ti?ti(wi,D.parentNode):wi.replace(/[\S]/g,"*")),"OPTION"===ni&&wi&&(wi=An({isMasked:ds(D,Le,Qt,It,Cn,Bt({type:null,tagName:ni,maskInputOptions:Nn})),element:D,value:wi,maskInputFn:ti})),{type:sn.Text,textContent:wi||"",isStyle:sr,rootId:Ln}}(D,{maskAllText:Yn,maskTextClass:ti,unmaskTextClass:Ln,maskTextSelector:ni,unmaskTextSelector:wi,maskTextFn:Dr,maskInputOptions:nr,maskInputFn:As,rootId:$s});case D.CDATA_SECTION_NODE:return{type:sn.CDATA,textContent:"",rootId:$s};case D.COMMENT_NODE:return{type:sn.Comment,textContent:D.textContent||"",rootId:$s};default:return!1}}(D,{doc:se,mirror:Le,blockClass:It,blockSelector:Qt,maskAllText:Yn,unblockSelector:Cn,maskTextClass:Nn,unmaskTextClass:ti,maskTextSelector:Ln,unmaskTextSelector:ni,inlineStylesheet:sr,maskInputOptions:nr,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,dataURLOptions:Co,inlineImages:wr,recordCanvas:ba,keepIframeSrcFn:Rs,newlyAddedElement:Lo});if(!va)return console.warn(D,"not serialized"),null;let mc;mc=Le.hasNode(D)?Le.getId(D):function H(D,F){if(F.comment&&D.type===sn.Comment)return!0;if(D.type===sn.Element){if(F.script&&("script"===D.tagName||"link"===D.tagName&&("preload"===D.attributes.rel||"modulepreload"===D.attributes.rel)&&"script"===D.attributes.as||"link"===D.tagName&&"prefetch"===D.attributes.rel&&"string"==typeof D.attributes.href&&"js"===jt(D.attributes.href)))return!0;if(F.headFavicon&&("link"===D.tagName&&"shortcut icon"===D.attributes.rel||"meta"===D.tagName&&(Rt(D.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Rt(D.attributes.name)||"icon"===Rt(D.attributes.rel)||"apple-touch-icon"===Rt(D.attributes.rel)||"shortcut icon"===Rt(D.attributes.rel))))return!0;if("meta"===D.tagName){if(F.headMetaDescKeywords&&Rt(D.attributes.name).match(/^description|keywords$/))return!0;if(F.headMetaSocial&&(Rt(D.attributes.property).match(/^(og|twitter|fb):/)||Rt(D.attributes.name).match(/^(og|twitter):/)||"pinterest"===Rt(D.attributes.name)))return!0;if(F.headMetaRobots&&("robots"===Rt(D.attributes.name)||"googlebot"===Rt(D.attributes.name)||"bingbot"===Rt(D.attributes.name)))return!0;if(F.headMetaHttpEquiv&&void 0!==D.attributes["http-equiv"])return!0;if(F.headMetaAuthorship&&("author"===Rt(D.attributes.name)||"generator"===Rt(D.attributes.name)||"framework"===Rt(D.attributes.name)||"publisher"===Rt(D.attributes.name)||"progid"===Rt(D.attributes.name)||Rt(D.attributes.property).match(/^article:/)||Rt(D.attributes.property).match(/^product:/)))return!0;if(F.headMetaVerification&&("google-site-verification"===Rt(D.attributes.name)||"yandex-verification"===Rt(D.attributes.name)||"csrf-token"===Rt(D.attributes.name)||"p:domain_verify"===Rt(D.attributes.name)||"verify-v1"===Rt(D.attributes.name)||"verification"===Rt(D.attributes.name)||"shopify-checkout-api-token"===Rt(D.attributes.name)))return!0}}return!1}(va,us)||!Ml&&va.type===sn.Text&&!va.isStyle&&!va.textContent.replace(/^\s+|\s+$/gm,"").length?dt:we();const Ws=Object.assign(va,{id:mc});if(Le.add(D,Ws),mc===dt)return null;$s&&$s(D);let Or=!wi;if(Ws.type===sn.Element){Or=Or&&!Ws.needBlock,delete Ws.needBlock;const Na=D.shadowRoot;Na&&_e(Na)&&(Ws.isShadowHost=!0)}if((Ws.type===sn.Document||Ws.type===sn.Element)&&Or){us.headWhitespace&&Ws.type===sn.Element&&"head"===Ws.tagName&&(Ml=!1);const Na={doc:se,mirror:Le,blockClass:It,blockSelector:Qt,maskAllText:Yn,unblockSelector:Cn,maskTextClass:Nn,unmaskTextClass:ti,maskTextSelector:Ln,unmaskTextSelector:ni,skipChild:wi,inlineStylesheet:sr,maskInputOptions:nr,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOMOptions:us,dataURLOptions:Co,inlineImages:wr,recordCanvas:ba,preserveWhiteSpace:Ml,onSerialize:$s,onIframeLoad:Zr,iframeLoadTimeout:fs,onStylesheetLoad:ja,stylesheetLoadTimeout:ss,keepIframeSrcFn:Rs};for(const Kc of Array.from(D.childNodes)){const gc=Ke(Kc,Na);gc&&Ws.childNodes.push(gc)}if(function de(D){return D.nodeType===D.ELEMENT_NODE}(D)&&D.shadowRoot)for(const Kc of Array.from(D.shadowRoot.childNodes)){const gc=Ke(Kc,Na);gc&&(_e(D.shadowRoot)&&(gc.isShadow=!0),Ws.childNodes.push(gc))}}return D.parentNode&&tt(D.parentNode)&&_e(D.parentNode)&&(Ws.isShadow=!0),Ws.type===sn.Element&&"iframe"===Ws.tagName&&function lr(D,F,se){const Le=D.contentWindow;if(!Le)return;let Qt,It=!1;try{Qt=Le.document.readyState}catch{return}if("complete"!==Qt){const Yn=Lt(()=>{It||(F(),It=!0)},se);return void D.addEventListener("load",()=>{Kt(Yn),It=!0,F()})}const Cn="about:blank";if(Le.location.href!==Cn||D.src===Cn||""===D.src)return Lt(F,0),D.addEventListener("load",F);D.addEventListener("load",F)}(D,()=>{const Na=D.contentDocument;if(Na&&Zr){const Kc=Ke(Na,{doc:Na,mirror:Le,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:Yn,maskTextClass:Nn,unmaskTextClass:ti,maskTextSelector:Ln,unmaskTextSelector:ni,skipChild:!1,inlineStylesheet:sr,maskInputOptions:nr,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOMOptions:us,dataURLOptions:Co,inlineImages:wr,recordCanvas:ba,preserveWhiteSpace:Ml,onSerialize:$s,onIframeLoad:Zr,iframeLoadTimeout:fs,onStylesheetLoad:ja,stylesheetLoadTimeout:ss,keepIframeSrcFn:Rs});Kc&&Zr(D,Kc)}},fs),Ws.type===sn.Element&&"link"===Ws.tagName&&"string"==typeof Ws.attributes.rel&&("stylesheet"===Ws.attributes.rel||"preload"===Ws.attributes.rel&&"string"==typeof Ws.attributes.href&&"css"===jt(Ws.attributes.href))&&function Ir(D,F,se){let It,Le=!1;try{It=D.sheet}catch{return}if(It)return;const Qt=Lt(()=>{Le||(F(),Le=!0)},se);D.addEventListener("load",()=>{Kt(Qt),Le=!0,F()})}(D,()=>{if(ja){const Na=Ke(D,{doc:se,mirror:Le,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:Yn,maskTextClass:Nn,unmaskTextClass:ti,maskTextSelector:Ln,unmaskTextSelector:ni,skipChild:!1,inlineStylesheet:sr,maskInputOptions:nr,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOMOptions:us,dataURLOptions:Co,inlineImages:wr,recordCanvas:ba,preserveWhiteSpace:Ml,onSerialize:$s,onIframeLoad:Zr,iframeLoadTimeout:fs,onStylesheetLoad:ja,stylesheetLoadTimeout:ss,keepIframeSrcFn:Rs});Na&&ja(D,Na)}},ss),Ws}function kt(D){let F,se=D[0],Le=1;for(;Le<D.length;){const It=D[Le],Qt=D[Le+1];if(Le+=2,("optionalAccess"===It||"optionalCall"===It)&&null==se)return;"access"===It||"optionalAccess"===It?(F=se,se=Qt(se)):("call"===It||"optionalCall"===It)&&(se=Qt((...Cn)=>se.call(F,...Cn)),F=void 0)}return se}function Vt(D,F,se=document){const Le={capture:!0,passive:!0};return se.addEventListener(D,F,Le),()=>se.removeEventListener(D,F,Le)}const mi="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Zi={map:{},getId:()=>(console.error(mi),-1),getNode:()=>(console.error(mi),null),removeNodeFromMap(){console.error(mi)},has:()=>(console.error(mi),!1),reset(){console.error(mi)}};function cr(D,F,se={}){let Le=null,It=0;return function(...Qt){const Cn=Date.now();!It&&!1===se.leading&&(It=Cn);const Yn=F-(Cn-It),Nn=this;Yn<=0||Yn>F?(Le&&(function Va(...D){xa("clearTimeout")(...D)}(Le),Le=null),It=Cn,D.apply(Nn,Qt)):!Le&&!1!==se.trailing&&(Le=Ea(()=>{It=!1===se.leading?0:Date.now(),Le=null,D.apply(Nn,Qt)},Yn))}}function ns(D,F,se,Le,It=window){const Qt=It.Object.getOwnPropertyDescriptor(D,F);return It.Object.defineProperty(D,F,Le?se:{set(Cn){Ea(()=>{se.set.call(this,Cn)},0),Qt&&Qt.set&&Qt.set.call(this,Cn)}}),()=>ns(D,F,Qt||{},!0)}function Jr(D,F,se){try{if(!(F in D))return()=>{};const Le=D[F],It=se(Le);return"function"==typeof It&&(It.prototype=It.prototype||{},Object.defineProperties(It,{__rrweb_original__:{enumerable:!1,value:Le}})),D[F]=It,()=>{D[F]=Le}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(Zi=new Proxy(Zi,{get:(D,F,se)=>("map"===F&&console.error(mi),Reflect.get(D,F,se))}));let is=Date.now;function Es(D){const F=D.document;return{left:F.scrollingElement?F.scrollingElement.scrollLeft:void 0!==D.pageXOffset?D.pageXOffset:kt([F,"optionalAccess",se=>se.documentElement,"access",se=>se.scrollLeft])||kt([F,"optionalAccess",se=>se.body,"optionalAccess",se=>se.parentElement,"optionalAccess",se=>se.scrollLeft])||kt([F,"optionalAccess",se=>se.body,"optionalAccess",se=>se.scrollLeft])||0,top:F.scrollingElement?F.scrollingElement.scrollTop:void 0!==D.pageYOffset?D.pageYOffset:kt([F,"optionalAccess",se=>se.documentElement,"access",se=>se.scrollTop])||kt([F,"optionalAccess",se=>se.body,"optionalAccess",se=>se.parentElement,"optionalAccess",se=>se.scrollTop])||kt([F,"optionalAccess",se=>se.body,"optionalAccess",se=>se.scrollTop])||0}}function to(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gr(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function rs(D){return D?D.nodeType===D.ELEMENT_NODE?D:D.parentElement:null}function gs(D,F,se,Le,It){if(!D)return!1;const Qt=rs(D);if(!Qt)return!1;const Cn=Os(F,se);if(!It){const ti=Le&&Qt.matches(Le);return Cn(Qt)&&!ti}const Yn=bs(Qt,Cn);let Nn=-1;return!(Yn<0)&&(Le&&(Nn=bs(Qt,Os(null,Le))),Yn>-1&&Nn<0||Yn<Nn)}function Ur(D,F){return F.getId(D)===dt}function Go(D,F){if(tt(D))return!1;const se=F.getId(D);return!F.has(se)||(!D.parentNode||D.parentNode.nodeType!==D.DOCUMENT_NODE)&&(!D.parentNode||Go(D.parentNode,F))}function wo(D){return!!D.changedTouches}function rl(D,F){return!("IFRAME"!==D.nodeName||!F.getMeta(D))}function $a(D,F){return!("LINK"!==D.nodeName||D.nodeType!==D.ELEMENT_NODE||!D.getAttribute||"stylesheet"!==D.getAttribute("rel")||!F.getMeta(D))}function qa(D){return!!kt([D,"optionalAccess",F=>F.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(is=()=>(new Date).getTime());class Jo{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(F){return function O(D,F){return D??F()}(this.styleIDMap.get(F),()=>-1)}has(F){return this.styleIDMap.has(F)}add(F,se){if(this.has(F))return this.getId(F);let Le;return Le=void 0===se?this.id++:se,this.styleIDMap.set(F,Le),this.idStyleMap.set(Le,F),Le}getStyle(F){return this.idStyleMap.get(F)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function co(D){let F=null;return kt([D,"access",se=>se.getRootNode,"optionalCall",se=>se(),"optionalAccess",se=>se.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&D.getRootNode().host&&(F=D.getRootNode().host),F}function aa(D){const F=D.ownerDocument;return!!F&&(F.contains(D)||function Gl(D){const F=D.ownerDocument;if(!F)return!1;const se=function Ba(D){let se,F=D;for(;se=co(F);)F=se;return F}(D);return F.contains(se)}(D))}const ra={};function xa(D){const F=ra[D];if(F)return F;const se=window.document;let Le=window[D];if(se&&"function"==typeof se.createElement)try{const It=se.createElement("iframe");It.hidden=!0,se.head.appendChild(It);const Qt=It.contentWindow;Qt&&Qt[D]&&(Le=Qt[D]),se.head.removeChild(It)}catch{}return ra[D]=Le.bind(window)}function Ea(...D){return xa("setTimeout")(...D)}var Xr=(D=>(D[D.DomContentLoaded=0]="DomContentLoaded",D[D.Load=1]="Load",D[D.FullSnapshot=2]="FullSnapshot",D[D.IncrementalSnapshot=3]="IncrementalSnapshot",D[D.Meta=4]="Meta",D[D.Custom=5]="Custom",D[D.Plugin=6]="Plugin",D))(Xr||{}),Rr=(D=>(D[D.Mutation=0]="Mutation",D[D.MouseMove=1]="MouseMove",D[D.MouseInteraction=2]="MouseInteraction",D[D.Scroll=3]="Scroll",D[D.ViewportResize=4]="ViewportResize",D[D.Input=5]="Input",D[D.TouchMove=6]="TouchMove",D[D.MediaInteraction=7]="MediaInteraction",D[D.StyleSheetRule=8]="StyleSheetRule",D[D.CanvasMutation=9]="CanvasMutation",D[D.Font=10]="Font",D[D.Log=11]="Log",D[D.Drag=12]="Drag",D[D.StyleDeclaration=13]="StyleDeclaration",D[D.Selection=14]="Selection",D[D.AdoptedStyleSheet=15]="AdoptedStyleSheet",D[D.CustomElement=16]="CustomElement",D))(Rr||{}),uo=(D=>(D[D.MouseUp=0]="MouseUp",D[D.MouseDown=1]="MouseDown",D[D.Click=2]="Click",D[D.ContextMenu=3]="ContextMenu",D[D.DblClick=4]="DblClick",D[D.Focus=5]="Focus",D[D.Blur=6]="Blur",D[D.TouchStart=7]="TouchStart",D[D.TouchMove_Departed=8]="TouchMove_Departed",D[D.TouchEnd=9]="TouchEnd",D[D.TouchCancel=10]="TouchCancel",D))(uo||{}),Zs=(D=>(D[D.Mouse=0]="Mouse",D[D.Pen=1]="Pen",D[D.Touch=2]="Touch",D))(Zs||{});function Vl(D){let F,se=D[0],Le=1;for(;Le<D.length;){const It=D[Le],Qt=D[Le+1];if(Le+=2,("optionalAccess"===It||"optionalCall"===It)&&null==se)return;"access"===It||"optionalAccess"===It?(F=se,se=Qt(se)):("call"===It||"optionalCall"===It)&&(se=Qt((...Cn)=>se.call(F,...Cn)),F=void 0)}return se}function ga(D){return"__ln"in D}class Ue{constructor(){this.length=0,this.head=null,this.tail=null}get(F){if(F>=this.length)throw new Error("Position outside of list range");let se=this.head;for(let Le=0;Le<F;Le++)se=Vl([se,"optionalAccess",It=>It.next])||null;return se}addNode(F){const se={value:F,previous:null,next:null};if(F.__ln=se,F.previousSibling&&ga(F.previousSibling)){const Le=F.previousSibling.__ln.next;se.next=Le,se.previous=F.previousSibling.__ln,F.previousSibling.__ln.next=se,Le&&(Le.previous=se)}else if(F.nextSibling&&ga(F.nextSibling)&&F.nextSibling.__ln.previous){const Le=F.nextSibling.__ln.previous;se.previous=Le,se.next=F.nextSibling.__ln,F.nextSibling.__ln.previous=se,Le&&(Le.next=se)}else this.head&&(this.head.previous=se),se.next=this.head,this.head=se;null===se.next&&(this.tail=se),this.length++}removeNode(F){const se=F.__ln;this.head&&(se.previous?(se.previous.next=se.next,se.next?se.next.previous=se.previous:this.tail=se.previous):(this.head=se.next,this.head?this.head.previous=null:this.tail=null),F.__ln&&delete F.__ln,this.length--)}}const Wt=(D,F)=>`${D}@${F}`;class In{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=F=>{F.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const F=[],se=new Set,Le=new Ue,It=Nn=>{let ti=Nn,Ln=dt;for(;Ln===dt;)ti=ti&&ti.nextSibling,Ln=ti&&this.mirror.getId(ti);return Ln},Qt=Nn=>{if(!Nn.parentNode||!aa(Nn))return;const ti=tt(Nn.parentNode)?this.mirror.getId(co(Nn)):this.mirror.getId(Nn.parentNode),Ln=It(Nn);if(-1===ti||-1===Ln)return Le.addNode(Nn);const ni=Ke(Nn,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:wi=>{rl(wi,this.mirror)&&!gs(wi,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(wi),$a(wi,this.mirror)&&this.stylesheetManager.trackLinkElement(wi),qa(Nn)&&this.shadowDomManager.addShadowRoot(Nn.shadowRoot,this.doc)},onIframeLoad:(wi,sr)=>{gs(wi,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(wi,sr),wi.contentWindow&&this.canvasManager.addWindow(wi.contentWindow),this.shadowDomManager.observeAttachShadow(wi))},onStylesheetLoad:(wi,sr)=>{this.stylesheetManager.attachLinkElement(wi,sr)}});ni&&(F.push({parentId:ti,nextId:Ln,node:ni}),se.add(ni.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const Nn of this.movedSet)Nr(this.removes,Nn,this.mirror)&&!this.movedSet.has(Nn.parentNode)||Qt(Nn);for(const Nn of this.addedSet)!Wr(this.droppedSet,Nn)&&!Nr(this.removes,Nn,this.mirror)||Wr(this.movedSet,Nn)?Qt(Nn):this.droppedSet.add(Nn);let Cn=null;for(;Le.length;){let Nn=null;if(Cn){const ti=this.mirror.getId(Cn.value.parentNode),Ln=It(Cn.value);-1!==ti&&-1!==Ln&&(Nn=Cn)}if(!Nn){let ti=Le.tail;for(;ti;){const Ln=ti;if(ti=ti.previous,Ln){const ni=this.mirror.getId(Ln.value.parentNode);if(-1===It(Ln.value))continue;if(-1!==ni){Nn=Ln;break}{const sr=Ln.value;if(sr.parentNode&&sr.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(sr.parentNode.host)){Nn=Ln;break}}}}}if(!Nn){for(;Le.head;)Le.removeNode(Le.head.value);break}Cn=Nn.previous,Le.removeNode(Nn.value),Qt(Nn.value)}const Yn={texts:this.texts.map(Nn=>({id:this.mirror.getId(Nn.node),value:Nn.value})).filter(Nn=>!se.has(Nn.id)).filter(Nn=>this.mirror.has(Nn.id)),attributes:this.attributes.map(Nn=>{const{attributes:ti}=Nn;if("string"==typeof ti.style){const Ln=JSON.stringify(Nn.styleDiff),ni=JSON.stringify(Nn._unchangedStyles);Ln.length<ti.style.length&&(Ln+ni).split("var(").length===ti.style.split("var(").length&&(ti.style=Nn.styleDiff)}return{id:this.mirror.getId(Nn.node),attributes:ti}}).filter(Nn=>!se.has(Nn.id)).filter(Nn=>this.mirror.has(Nn.id)),removes:this.removes,adds:F};!Yn.texts.length&&!Yn.attributes.length&&!Yn.removes.length&&!Yn.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(Yn))},this.processMutation=F=>{if(!Ur(F.target,this.mirror))switch(F.type){case"characterData":{const se=F.target.textContent;!gs(F.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&se!==F.oldValue&&this.texts.push({value:ds(F.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&se?this.maskTextFn?this.maskTextFn(se,rs(F.target)):se.replace(/[\S]/g,"*"):se,node:F.target});break}case"attributes":{const se=F.target;let Le=F.attributeName,It=F.target.getAttribute(Le);if("value"===Le){const Cn=Pn(se),Yn=se.tagName;It=oi(se,Yn,Cn);const Nn=Bt({maskInputOptions:this.maskInputOptions,tagName:Yn,type:Cn});It=An({isMasked:ds(F.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,Nn),element:se,value:It,maskInputFn:this.maskInputFn})}if(gs(F.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||It===F.oldValue)return;let Qt=this.attributeMap.get(F.target);if("IFRAME"===se.tagName&&"src"===Le&&!this.keepIframeSrcFn(It)){if(se.contentDocument)return;Le="rr_src"}if(Qt||(Qt={node:F.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Qt),this.attributeMap.set(F.target,Qt)),"type"===Le&&"INPUT"===se.tagName&&"password"===(F.oldValue||"").toLowerCase()&&se.setAttribute("data-rr-is-password","true"),!xr(se.tagName,Le)&&(Qt.attributes[Le]=Hi(this.doc,Xn(se.tagName),Xn(Le),It,se,this.maskAttributeFn),"style"===Le)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const Cn=this.unattachedDoc.createElement("span");F.oldValue&&Cn.setAttribute("style",F.oldValue);for(const Yn of Array.from(se.style)){const Nn=se.style.getPropertyValue(Yn),ti=se.style.getPropertyPriority(Yn);Nn!==Cn.style.getPropertyValue(Yn)||ti!==Cn.style.getPropertyPriority(Yn)?Qt.styleDiff[Yn]=""===ti?Nn:[Nn,ti]:Qt._unchangedStyles[Yn]=[Nn,ti]}for(const Yn of Array.from(Cn.style))""===se.style.getPropertyValue(Yn)&&(Qt.styleDiff[Yn]=!1)}break}case"childList":if(gs(F.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;F.addedNodes.forEach(se=>this.genAdds(se,F.target)),F.removedNodes.forEach(se=>{const Le=this.mirror.getId(se),It=tt(F.target)?this.mirror.getId(F.target.host):this.mirror.getId(F.target);gs(F.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ur(se,this.mirror)||!function Bo(D,F){return-1!==F.getId(D)}(se,this.mirror)||(this.addedSet.has(se)?(fi(this.addedSet,se),this.droppedSet.add(se)):this.addedSet.has(F.target)&&-1===Le||Go(F.target,this.mirror)||(this.movedSet.has(se)&&this.movedMap[Wt(Le,It)]?fi(this.movedSet,se):this.removes.push({parentId:It,id:Le,isShadow:!(!tt(F.target)||!_e(F.target))||void 0})),this.mapRemoves.push(se))})}},this.genAdds=(F,se)=>{if(!this.processedNodeManager.inOtherBuffer(F,this)&&!this.addedSet.has(F)&&!this.movedSet.has(F)){if(this.mirror.hasNode(F)){if(Ur(F,this.mirror))return;this.movedSet.add(F);let Le=null;se&&this.mirror.hasNode(se)&&(Le=this.mirror.getId(se)),Le&&-1!==Le&&(this.movedMap[Wt(this.mirror.getId(F),Le)]=!0)}else this.addedSet.add(F),this.droppedSet.delete(F);gs(F,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(F.childNodes.forEach(Le=>this.genAdds(Le)),qa(F)&&F.shadowRoot.childNodes.forEach(Le=>{this.processedNodeManager.add(Le,this),this.genAdds(Le,F)}))}}}init(F){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(se=>{this[se]=F[se]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function fi(D,F){D.delete(F),F.childNodes.forEach(se=>fi(D,se))}function Nr(D,F,se){return 0!==D.length&&dr(D,F,se)}function dr(D,F,se){const{parentNode:Le}=F;if(!Le)return!1;const It=se.getId(Le);return!!D.some(Qt=>Qt.id===It)||dr(D,Le,se)}function Wr(D,F){return 0!==D.size&&hs(D,F)}function hs(D,F){const{parentNode:se}=F;return!!se&&(!!D.has(se)||hs(D,se))}let Vs;const Ar=D=>Vs?(...se)=>{try{return D(...se)}catch(Le){if(Vs&&!0===Vs(Le))return()=>{};throw Le}}:D;function $r(D){let F,se=D[0],Le=1;for(;Le<D.length;){const It=D[Le],Qt=D[Le+1];if(Le+=2,("optionalAccess"===It||"optionalCall"===It)&&null==se)return;"access"===It||"optionalAccess"===It?(F=se,se=Qt(se)):("call"===It||"optionalCall"===It)&&(se=Qt((...Cn)=>se.call(F,...Cn)),F=void 0)}return se}const oo=[];function vs(D){try{if("composedPath"in D){const F=D.composedPath();if(F.length)return F[0]}else if("path"in D&&D.path.length)return D.path[0]}catch{}return D&&D.target}function sa(D,F){const se=new In;oo.push(se),se.init(D);let Le=window.MutationObserver||window.__rrMutationObserver;const It=$r([window,"optionalAccess",Cn=>Cn.Zone,"optionalAccess",Cn=>Cn.__symbol__,"optionalCall",Cn=>Cn("MutationObserver")]);It&&window[It]&&(Le=window[It]);const Qt=new Le(Ar(Cn=>{D.onMutation&&!1===D.onMutation(Cn)||se.processMutations.bind(se)(Cn)}));return Qt.observe(F,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),Qt}function Ki({scrollCb:D,doc:F,mirror:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,sampling:Cn}){return Vt("scroll",Ar(cr(Ar(Nn=>{const ti=vs(Nn);if(!ti||gs(ti,Le,It,Qt,!0))return;const Ln=se.getId(ti);if(ti===F&&F.defaultView){const ni=Es(F.defaultView);D({id:Ln,x:ni.left,y:ni.top})}else D({id:Ln,x:ti.scrollLeft,y:ti.scrollTop})}),Cn.scroll||100)),F)}const So=["INPUT","TEXTAREA","SELECT"],Ca=new WeakMap;function xc({inputCb:D,doc:F,mirror:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,ignoreClass:Cn,ignoreSelector:Yn,maskInputOptions:Nn,maskInputFn:ti,sampling:Ln,userTriggeredOnInput:ni,maskTextClass:wi,unmaskTextClass:sr,maskTextSelector:nr,unmaskTextSelector:Dr}){function As(Zr){let fs=vs(Zr);const ja=Zr.isTrusted,ss=fs&&zi(fs.tagName);if("OPTION"===ss&&(fs=fs.parentElement),!fs||!ss||So.indexOf(ss)<0||gs(fs,Le,It,Qt,!0))return;const Rs=fs;if(Rs.classList.contains(Cn)||Yn&&Rs.matches(Yn))return;const Lo=Pn(fs);let Ml=oi(Rs,ss,Lo),va=!1;const mc=Bt({maskInputOptions:Nn,tagName:ss,type:Lo}),Ws=ds(fs,wi,nr,sr,Dr,mc);("radio"===Lo||"checkbox"===Lo)&&(va=fs.checked),Ml=An({isMasked:Ws,element:fs,value:Ml,maskInputFn:ti}),hr(fs,ni?{text:Ml,isChecked:va,userTriggered:ja}:{text:Ml,isChecked:va});const Or=fs.name;"radio"===Lo&&Or&&va&&F.querySelectorAll(`input[type="radio"][name="${Or}"]`).forEach(Na=>{if(Na!==fs){const Kc=An({isMasked:Ws,element:Na,value:oi(Na,ss,Lo),maskInputFn:ti});hr(Na,ni?{text:Kc,isChecked:!va,userTriggered:!1}:{text:Kc,isChecked:!va})}})}function hr(Zr,fs){const ja=Ca.get(Zr);if(!ja||ja.text!==fs.text||ja.isChecked!==fs.isChecked){Ca.set(Zr,fs);const ss=se.getId(Zr);Ar(D)({...fs,id:ss})}}const Co=("last"===Ln.input?["change"]:["input","change"]).map(Zr=>Vt(Zr,Ar(As),F)),wr=F.defaultView;if(!wr)return()=>{Co.forEach(Zr=>Zr())};const ba=wr.Object.getOwnPropertyDescriptor(wr.HTMLInputElement.prototype,"value");return ba&&ba.set&&Co.push(...[[wr.HTMLInputElement.prototype,"value"],[wr.HTMLInputElement.prototype,"checked"],[wr.HTMLSelectElement.prototype,"value"],[wr.HTMLTextAreaElement.prototype,"value"],[wr.HTMLSelectElement.prototype,"selectedIndex"],[wr.HTMLOptionElement.prototype,"selected"]].map(Zr=>ns(Zr[0],Zr[1],{set(){Ar(As)({target:this,isTrusted:!1})}},!1,wr))),Ar(()=>{Co.forEach(Zr=>Zr())})}function Sa(D){return function se(Le,It){if(Do("CSSGroupingRule")&&Le.parentRule instanceof CSSGroupingRule||Do("CSSMediaRule")&&Le.parentRule instanceof CSSMediaRule||Do("CSSSupportsRule")&&Le.parentRule instanceof CSSSupportsRule||Do("CSSConditionRule")&&Le.parentRule instanceof CSSConditionRule){const Cn=Array.from(Le.parentRule.cssRules).indexOf(Le);It.unshift(Cn)}else if(Le.parentStyleSheet){const Cn=Array.from(Le.parentStyleSheet.cssRules).indexOf(Le);It.unshift(Cn)}return It}(D,[])}function Oo(D,F,se){let Le,It;return D?(D.ownerNode?Le=F.getId(D.ownerNode):It=se.getId(D),{styleId:It,id:Le}):{}}function Ya({mirror:D,stylesheetManager:F},se){let Le=null;Le=D.getId("#document"===se.nodeName?se:se.host);const It=$r("#document"===se.nodeName?[se,"access",Cn=>Cn.defaultView,"optionalAccess",Cn=>Cn.Document]:[se,"access",Cn=>Cn.ownerDocument,"optionalAccess",Cn=>Cn.defaultView,"optionalAccess",Cn=>Cn.ShadowRoot]),Qt=$r([It,"optionalAccess",Cn=>Cn.prototype])?Object.getOwnPropertyDescriptor($r([It,"optionalAccess",Cn=>Cn.prototype]),"adoptedStyleSheets"):void 0;return null!==Le&&-1!==Le&&It&&Qt?(Object.defineProperty(se,"adoptedStyleSheets",{configurable:Qt.configurable,enumerable:Qt.enumerable,get(){return $r([Qt,"access",Cn=>Cn.get,"optionalAccess",Cn=>Cn.call,"call",Cn=>Cn(this)])},set(Cn){const Yn=$r([Qt,"access",Nn=>Nn.set,"optionalAccess",Nn=>Nn.call,"call",Nn=>Nn(this,Cn)]);if(null!==Le&&-1!==Le)try{F.adoptStyleSheets(Cn,Le)}catch{}return Yn}}),Ar(()=>{Object.defineProperty(se,"adoptedStyleSheets",{configurable:Qt.configurable,enumerable:Qt.enumerable,get:Qt.get,set:Qt.set})})):()=>{}}function Xl(D,F={}){const se=D.doc.defaultView;if(!se)return()=>{};let Le;D.recordDOM&&(Le=sa(D,D.doc));const It=function ea({mousemoveCb:D,sampling:F,doc:se,mirror:Le}){if(!1===F.mousemove)return()=>{};const It="number"==typeof F.mousemove?F.mousemove:50,Qt="number"==typeof F.mousemoveCallback?F.mousemoveCallback:500;let Yn,Cn=[];const Nn=cr(Ar(ni=>{const wi=Date.now()-Yn;D(Cn.map(sr=>(sr.timeOffset-=wi,sr)),ni),Cn=[],Yn=null}),Qt),ti=Ar(cr(Ar(ni=>{const wi=vs(ni),{clientX:sr,clientY:nr}=wo(ni)?ni.changedTouches[0]:ni;Yn||(Yn=is()),Cn.push({x:sr,y:nr,id:Le.getId(wi),timeOffset:is()-Yn}),Nn(typeof DragEvent<"u"&&ni instanceof DragEvent?Rr.Drag:ni instanceof MouseEvent?Rr.MouseMove:Rr.TouchMove)}),It,{trailing:!1})),Ln=[Vt("mousemove",ti,se),Vt("touchmove",ti,se),Vt("drag",ti,se)];return Ar(()=>{Ln.forEach(ni=>ni())})}(D),Qt=function la({mouseInteractionCb:D,doc:F,mirror:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,sampling:Cn}){if(!1===Cn.mouseInteraction)return()=>{};const Yn=!0===Cn.mouseInteraction||void 0===Cn.mouseInteraction?{}:Cn.mouseInteraction,Nn=[];let ti=null;return Object.keys(uo).filter(ni=>Number.isNaN(Number(ni))&&!ni.endsWith("_Departed")&&!1!==Yn[ni]).forEach(ni=>{let wi=Xn(ni);const sr=(ni=>wi=>{const sr=vs(wi);if(gs(sr,Le,It,Qt,!0))return;let nr=null,Dr=ni;if("pointerType"in wi){switch(wi.pointerType){case"mouse":nr=Zs.Mouse;break;case"touch":nr=Zs.Touch;break;case"pen":nr=Zs.Pen}nr===Zs.Touch&&(uo[ni]===uo.MouseDown?Dr="TouchStart":uo[ni]===uo.MouseUp&&(Dr="TouchEnd"))}else wo(wi)&&(nr=Zs.Touch);null!==nr?(ti=nr,(Dr.startsWith("Touch")&&nr===Zs.Touch||Dr.startsWith("Mouse")&&nr===Zs.Mouse)&&(nr=null)):uo[ni]===uo.Click&&(nr=ti,ti=null);const As=wo(wi)?wi.changedTouches[0]:wi;if(!As)return;const hr=se.getId(sr),{clientX:us,clientY:Co}=As;Ar(D)({type:uo[Dr],id:hr,x:us,y:Co,...null!==nr&&{pointerType:nr}})})(ni);if(window.PointerEvent)switch(uo[ni]){case uo.MouseDown:case uo.MouseUp:wi=wi.replace("mouse","pointer");break;case uo.TouchStart:case uo.TouchEnd:return}Nn.push(Vt(wi,sr,F))}),Ar(()=>{Nn.forEach(ni=>ni())})}(D),Cn=Ki(D),Yn=function Xo({viewportResizeCb:D},{win:F}){let se=-1,Le=-1;return Vt("resize",Ar(cr(Ar(()=>{const Qt=to(),Cn=Gr();(se!==Qt||Le!==Cn)&&(D({width:Number(Cn),height:Number(Qt)}),se=Qt,Le=Cn)}),200)),F)}(D,{win:se}),Nn=xc(D),ti=function sl({mediaInteractionCb:D,blockClass:F,blockSelector:se,unblockSelector:Le,mirror:It,sampling:Qt,doc:Cn}){const Yn=Ar(ti=>cr(Ar(Ln=>{const ni=vs(Ln);if(!ni||gs(ni,F,se,Le,!0))return;const{currentTime:wi,volume:sr,muted:nr,playbackRate:Dr}=ni;D({type:ti,id:It.getId(ni),currentTime:wi,volume:sr,muted:nr,playbackRate:Dr})}),Qt.media||500)),Nn=[Vt("play",Yn(0),Cn),Vt("pause",Yn(1),Cn),Vt("seeked",Yn(2),Cn),Vt("volumechange",Yn(3),Cn),Vt("ratechange",Yn(4),Cn)];return Ar(()=>{Nn.forEach(ti=>ti())})}(D);let Ln=()=>{},ni=()=>{},wi=()=>{},sr=()=>{};D.recordDOM&&(Ln=function ta({styleSheetRuleCb:D,mirror:F,stylesheetManager:se},{win:Le}){if(!Le.CSSStyleSheet||!Le.CSSStyleSheet.prototype)return()=>{};const It=Le.CSSStyleSheet.prototype.insertRule;Le.CSSStyleSheet.prototype.insertRule=new Proxy(It,{apply:Ar((Ln,ni,wi)=>{const[sr,nr]=wi,{id:Dr,styleId:As}=Oo(ni,F,se.styleMirror);return(Dr&&-1!==Dr||As&&-1!==As)&&D({id:Dr,styleId:As,adds:[{rule:sr,index:nr}]}),Ln.apply(ni,wi)})});const Qt=Le.CSSStyleSheet.prototype.deleteRule;let Cn,Yn;Le.CSSStyleSheet.prototype.deleteRule=new Proxy(Qt,{apply:Ar((Ln,ni,wi)=>{const[sr]=wi,{id:nr,styleId:Dr}=Oo(ni,F,se.styleMirror);return(nr&&-1!==nr||Dr&&-1!==Dr)&&D({id:nr,styleId:Dr,removes:[{index:sr}]}),Ln.apply(ni,wi)})}),Le.CSSStyleSheet.prototype.replace&&(Cn=Le.CSSStyleSheet.prototype.replace,Le.CSSStyleSheet.prototype.replace=new Proxy(Cn,{apply:Ar((Ln,ni,wi)=>{const[sr]=wi,{id:nr,styleId:Dr}=Oo(ni,F,se.styleMirror);return(nr&&-1!==nr||Dr&&-1!==Dr)&&D({id:nr,styleId:Dr,replace:sr}),Ln.apply(ni,wi)})})),Le.CSSStyleSheet.prototype.replaceSync&&(Yn=Le.CSSStyleSheet.prototype.replaceSync,Le.CSSStyleSheet.prototype.replaceSync=new Proxy(Yn,{apply:Ar((Ln,ni,wi)=>{const[sr]=wi,{id:nr,styleId:Dr}=Oo(ni,F,se.styleMirror);return(nr&&-1!==nr||Dr&&-1!==Dr)&&D({id:nr,styleId:Dr,replaceSync:sr}),Ln.apply(ni,wi)})}));const Nn={};pl("CSSGroupingRule")?Nn.CSSGroupingRule=Le.CSSGroupingRule:(pl("CSSMediaRule")&&(Nn.CSSMediaRule=Le.CSSMediaRule),pl("CSSConditionRule")&&(Nn.CSSConditionRule=Le.CSSConditionRule),pl("CSSSupportsRule")&&(Nn.CSSSupportsRule=Le.CSSSupportsRule));const ti={};return Object.entries(Nn).forEach(([Ln,ni])=>{ti[Ln]={insertRule:ni.prototype.insertRule,deleteRule:ni.prototype.deleteRule},ni.prototype.insertRule=new Proxy(ti[Ln].insertRule,{apply:Ar((wi,sr,nr)=>{const[Dr,As]=nr,{id:hr,styleId:us}=Oo(sr.parentStyleSheet,F,se.styleMirror);return(hr&&-1!==hr||us&&-1!==us)&&D({id:hr,styleId:us,adds:[{rule:Dr,index:[...Sa(sr),As||0]}]}),wi.apply(sr,nr)})}),ni.prototype.deleteRule=new Proxy(ti[Ln].deleteRule,{apply:Ar((wi,sr,nr)=>{const[Dr]=nr,{id:As,styleId:hr}=Oo(sr.parentStyleSheet,F,se.styleMirror);return(As&&-1!==As||hr&&-1!==hr)&&D({id:As,styleId:hr,removes:[{index:[...Sa(sr),Dr]}]}),wi.apply(sr,nr)})})}),Ar(()=>{Le.CSSStyleSheet.prototype.insertRule=It,Le.CSSStyleSheet.prototype.deleteRule=Qt,Cn&&(Le.CSSStyleSheet.prototype.replace=Cn),Yn&&(Le.CSSStyleSheet.prototype.replaceSync=Yn),Object.entries(Nn).forEach(([Ln,ni])=>{ni.prototype.insertRule=ti[Ln].insertRule,ni.prototype.deleteRule=ti[Ln].deleteRule})})}(D,{win:se}),ni=Ya(D,D.doc),wi=function Qa({styleDeclarationCb:D,mirror:F,ignoreCSSAttributes:se,stylesheetManager:Le},{win:It}){const Qt=It.CSSStyleDeclaration.prototype.setProperty;It.CSSStyleDeclaration.prototype.setProperty=new Proxy(Qt,{apply:Ar((Yn,Nn,ti)=>{const[Ln,ni,wi]=ti;if(se.has(Ln))return Qt.apply(Nn,[Ln,ni,wi]);const{id:sr,styleId:nr}=Oo($r([Nn,"access",Dr=>Dr.parentRule,"optionalAccess",Dr=>Dr.parentStyleSheet]),F,Le.styleMirror);return(sr&&-1!==sr||nr&&-1!==nr)&&D({id:sr,styleId:nr,set:{property:Ln,value:ni,priority:wi},index:Sa(Nn.parentRule)}),Yn.apply(Nn,ti)})});const Cn=It.CSSStyleDeclaration.prototype.removeProperty;return It.CSSStyleDeclaration.prototype.removeProperty=new Proxy(Cn,{apply:Ar((Yn,Nn,ti)=>{const[Ln]=ti;if(se.has(Ln))return Cn.apply(Nn,[Ln]);const{id:ni,styleId:wi}=Oo($r([Nn,"access",sr=>sr.parentRule,"optionalAccess",sr=>sr.parentStyleSheet]),F,Le.styleMirror);return(ni&&-1!==ni||wi&&-1!==wi)&&D({id:ni,styleId:wi,remove:{property:Ln},index:Sa(Nn.parentRule)}),Yn.apply(Nn,ti)})}),Ar(()=>{It.CSSStyleDeclaration.prototype.setProperty=Qt,It.CSSStyleDeclaration.prototype.removeProperty=Cn})}(D,{win:se}),D.collectFonts&&(sr=function Ua({fontCb:D,doc:F}){const se=F.defaultView;if(!se)return()=>{};const Le=[],It=new WeakMap,Qt=se.FontFace;se.FontFace=function(Nn,ti,Ln){const ni=new Qt(Nn,ti,Ln);return It.set(ni,{family:Nn,buffer:"string"!=typeof ti,descriptors:Ln,fontSource:"string"==typeof ti?ti:JSON.stringify(Array.from(new Uint8Array(ti)))}),ni};const Cn=Jr(F.fonts,"add",function(Yn){return function(Nn){return Ea(Ar(()=>{const ti=It.get(Nn);ti&&(D(ti),It.delete(Nn))}),0),Yn.apply(this,[Nn])}});return Le.push(()=>{se.FontFace=Qt}),Le.push(Cn),Ar(()=>{Le.forEach(Yn=>Yn())})}(D)));const nr=function Da(D){const{doc:F,mirror:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,selectionCb:Cn}=D;let Yn=!0;const Nn=Ar(()=>{const ti=F.getSelection();if(!ti||Yn&&$r([ti,"optionalAccess",wi=>wi.isCollapsed]))return;Yn=ti.isCollapsed||!1;const Ln=[],ni=ti.rangeCount||0;for(let wi=0;wi<ni;wi++){const sr=ti.getRangeAt(wi),{startContainer:nr,startOffset:Dr,endContainer:As,endOffset:hr}=sr;gs(nr,Le,It,Qt,!0)||gs(As,Le,It,Qt,!0)||Ln.push({start:se.getId(nr),startOffset:Dr,end:se.getId(As),endOffset:hr})}Cn({ranges:Ln})});return Nn(),Vt("selectionchange",Nn)}(D),Dr=function Sl({doc:D,customElementCb:F}){const se=D.defaultView;return se&&se.customElements?Jr(se.customElements,"define",function(It){return function(Qt,Cn,Yn){try{F({define:{name:Qt}})}catch{}return It.apply(this,[Qt,Cn,Yn])}}):()=>{}}(D),As=[];for(const hr of D.plugins)As.push(hr.observer(hr.callback,se,hr.options));return Ar(()=>{oo.forEach(hr=>hr.reset()),$r([Le,"optionalAccess",hr=>hr.disconnect,"call",hr=>hr()]),It(),Qt(),Cn(),Yn(),Nn(),ti(),Ln(),ni(),wi(),sr(),nr(),Dr(),As.forEach(hr=>hr())})}function Do(D){return typeof window[D]<"u"}function pl(D){return!!(typeof window[D]<"u"&&window[D].prototype&&"insertRule"in window[D].prototype&&"deleteRule"in window[D].prototype)}class Za{constructor(F){this.generateIdFn=F,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(F,se,Le,It){const Qt=Le||this.getIdToRemoteIdMap(F),Cn=It||this.getRemoteIdToIdMap(F);let Yn=Qt.get(se);return Yn||(Yn=this.generateIdFn(),Qt.set(se,Yn),Cn.set(Yn,se)),Yn}getIds(F,se){const Le=this.getIdToRemoteIdMap(F),It=this.getRemoteIdToIdMap(F);return se.map(Qt=>this.getId(F,Qt,Le,It))}getRemoteId(F,se,Le){const It=Le||this.getRemoteIdToIdMap(F);return"number"!=typeof se?se:It.get(se)||-1}getRemoteIds(F,se){const Le=this.getRemoteIdToIdMap(F);return se.map(It=>this.getRemoteId(F,It,Le))}reset(F){if(!F)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(F),this.iframeRemoteIdToIdMap.delete(F)}getIdToRemoteIdMap(F){let se=this.iframeIdToRemoteIdMap.get(F);return se||(se=new Map,this.iframeIdToRemoteIdMap.set(F,se)),se}getRemoteIdToIdMap(F){let se=this.iframeRemoteIdToIdMap.get(F);return se||(se=new Map,this.iframeRemoteIdToIdMap.set(F,se)),se}}function Ps(D){let F,se=D[0],Le=1;for(;Le<D.length;){const It=D[Le],Qt=D[Le+1];if(Le+=2,("optionalAccess"===It||"optionalCall"===It)&&null==se)return;"access"===It||"optionalAccess"===It?(F=se,se=Qt(se)):("call"===It||"optionalCall"===It)&&(se=Qt((...Cn)=>se.call(F,...Cn)),F=void 0)}return se}class Dl{constructor(){this.crossOriginIframeMirror=new Za(we),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class qo{constructor(F){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Za(we),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=F.mutationCb,this.wrappedEmit=F.wrappedEmit,this.stylesheetManager=F.stylesheetManager,this.recordCrossOriginIframes=F.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Za(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=F.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(F){this.iframes.set(F,!0),F.contentWindow&&this.crossOriginIframeMap.set(F.contentWindow,F)}addLoadListener(F){this.loadListener=F}attachIframe(F,se){this.mutationCb({adds:[{parentId:this.mirror.getId(F),nextId:null,node:se}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Ps([this,"access",Le=>Le.loadListener,"optionalCall",Le=>Le(F)]),F.contentDocument&&F.contentDocument.adoptedStyleSheets&&F.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(F.contentDocument.adoptedStyleSheets,this.mirror.getId(F.contentDocument))}handleMessage(F){const se=F;if("rrweb"!==se.data.type||se.origin!==se.data.origin||!F.source)return;const It=this.crossOriginIframeMap.get(F.source);if(!It)return;const Qt=this.transformCrossOriginEvent(It,se.data.event);Qt&&this.wrappedEmit(Qt,se.data.isCheckout)}transformCrossOriginEvent(F,se){switch(se.type){case Xr.FullSnapshot:{this.crossOriginIframeMirror.reset(F),this.crossOriginIframeStyleMirror.reset(F),this.replaceIdOnNode(se.data.node,F);const Le=se.data.node.id;return this.crossOriginIframeRootIdMap.set(F,Le),this.patchRootIdOnNode(se.data.node,Le),{timestamp:se.timestamp,type:Xr.IncrementalSnapshot,data:{source:Rr.Mutation,adds:[{parentId:this.mirror.getId(F),nextId:null,node:se.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Xr.Meta:case Xr.Load:case Xr.DomContentLoaded:return!1;case Xr.Plugin:return se;case Xr.Custom:return this.replaceIds(se.data.payload,F,["id","parentId","previousId","nextId"]),se;case Xr.IncrementalSnapshot:switch(se.data.source){case Rr.Mutation:return se.data.adds.forEach(Le=>{this.replaceIds(Le,F,["parentId","nextId","previousId"]),this.replaceIdOnNode(Le.node,F);const It=this.crossOriginIframeRootIdMap.get(F);It&&this.patchRootIdOnNode(Le.node,It)}),se.data.removes.forEach(Le=>{this.replaceIds(Le,F,["parentId","id"])}),se.data.attributes.forEach(Le=>{this.replaceIds(Le,F,["id"])}),se.data.texts.forEach(Le=>{this.replaceIds(Le,F,["id"])}),se;case Rr.Drag:case Rr.TouchMove:case Rr.MouseMove:return se.data.positions.forEach(Le=>{this.replaceIds(Le,F,["id"])}),se;case Rr.ViewportResize:return!1;case Rr.MediaInteraction:case Rr.MouseInteraction:case Rr.Scroll:case Rr.CanvasMutation:case Rr.Input:return this.replaceIds(se.data,F,["id"]),se;case Rr.StyleSheetRule:case Rr.StyleDeclaration:return this.replaceIds(se.data,F,["id"]),this.replaceStyleIds(se.data,F,["styleId"]),se;case Rr.Font:return se;case Rr.Selection:return se.data.ranges.forEach(Le=>{this.replaceIds(Le,F,["start","end"])}),se;case Rr.AdoptedStyleSheet:return this.replaceIds(se.data,F,["id"]),this.replaceStyleIds(se.data,F,["styleIds"]),Ps([se,"access",Le=>Le.data,"access",Le=>Le.styles,"optionalAccess",Le=>Le.forEach,"call",Le=>Le(It=>{this.replaceStyleIds(It,F,["styleId"])})]),se}}return!1}replace(F,se,Le,It){for(const Qt of It)!Array.isArray(se[Qt])&&"number"!=typeof se[Qt]||(se[Qt]=Array.isArray(se[Qt])?F.getIds(Le,se[Qt]):F.getId(Le,se[Qt]));return se}replaceIds(F,se,Le){return this.replace(this.crossOriginIframeMirror,F,se,Le)}replaceStyleIds(F,se,Le){return this.replace(this.crossOriginIframeStyleMirror,F,se,Le)}replaceIdOnNode(F,se){this.replaceIds(F,se,["id","rootId"]),"childNodes"in F&&F.childNodes.forEach(Le=>{this.replaceIdOnNode(Le,se)})}patchRootIdOnNode(F,se){F.type!==sn.Document&&!F.rootId&&(F.rootId=se),"childNodes"in F&&F.childNodes.forEach(Le=>{this.patchRootIdOnNode(Le,se)})}}class ml{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class gl{constructor(F){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=F.mutationCb,this.scrollCb=F.scrollCb,this.bypassOptions=F.bypassOptions,this.mirror=F.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(F,se){if(!_e(F)||this.shadowDoms.has(F))return;this.shadowDoms.add(F),this.bypassOptions.canvasManager.addShadowRoot(F);const Le=sa({...this.bypassOptions,doc:se,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},F);this.restoreHandlers.push(()=>Le.disconnect()),this.restoreHandlers.push(Ki({...this.bypassOptions,scrollCb:this.scrollCb,doc:F,mirror:this.mirror})),Ea(()=>{F.adoptedStyleSheets&&F.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(F.adoptedStyleSheets,this.mirror.getId(F.host)),this.restoreHandlers.push(Ya({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},F))},0)}observeAttachShadow(F){!F.contentWindow||!F.contentDocument||this.patchAttachShadow(F.contentWindow.Element,F.contentDocument)}patchAttachShadow(F,se){const Le=this;this.restoreHandlers.push(Jr(F.prototype,"attachShadow",function(It){return function(Qt){const Cn=It.call(this,Qt);return this.shadowRoot&&aa(this)&&Le.addShadowRoot(this.shadowRoot,se),Cn}}))}reset(){this.restoreHandlers.forEach(F=>{try{F()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class ol{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ql{constructor(F){this.trackedLinkElements=new WeakSet,this.styleMirror=new Jo,this.mutationCb=F.mutationCb,this.adoptedStyleSheetCb=F.adoptedStyleSheetCb}attachLinkElement(F,se){"_cssText"in se.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:se.id,attributes:se.attributes}]}),this.trackLinkElement(F)}trackLinkElement(F){this.trackedLinkElements.has(F)||(this.trackedLinkElements.add(F),this.trackStylesheetInLinkElement(F))}adoptStyleSheets(F,se){if(0===F.length)return;const Le={id:se,styleIds:[]},It=[];for(const Qt of F){let Cn;this.styleMirror.has(Qt)?Cn=this.styleMirror.getId(Qt):(Cn=this.styleMirror.add(Qt),It.push({styleId:Cn,rules:Array.from(Qt.rules||CSSRule,(Yn,Nn)=>({rule:ci(Yn),index:Nn}))})),Le.styleIds.push(Cn)}It.length>0&&(Le.styles=It),this.adoptedStyleSheetCb(Le)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(F){}}class qr{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function Kl(...D){xa("requestAnimationFrame")(...D)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(F,se){const Le=this.nodeMap.get(F);return Le&&Array.from(Le).some(It=>It!==se)}add(F,se){this.nodeMap.set(F,(this.nodeMap.get(F)||new Set).add(se))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let ao,Yo;try{if(2!==Array.from([1],D=>2*D)[0]){const D=document.createElement("iframe");document.body.appendChild(D),Array.from=(0,E.z)([D,"access",F=>F.contentWindow,"optionalAccess",F=>F.Array,"access",F=>F.from])||Array.from,document.body.removeChild(D)}}catch(D){console.debug("Unable to override Array.from",D)}const _l=function Ht(){return new wt}();function po(D={}){const{emit:F,checkoutEveryNms:se,checkoutEveryNth:Le,blockClass:It="rr-block",blockSelector:Qt=null,unblockSelector:Cn=null,ignoreClass:Yn="rr-ignore",ignoreSelector:Nn=null,maskAllText:ti=!1,maskTextClass:Ln="rr-mask",unmaskTextClass:ni=null,maskTextSelector:wi=null,unmaskTextSelector:sr=null,inlineStylesheet:nr=!0,maskAllInputs:Dr,maskInputOptions:As,slimDOMOptions:hr,maskAttributeFn:us,maskInputFn:Co,maskTextFn:wr,maxCanvasSize:ba=null,packFn:$s,sampling:Zr={},dataURLOptions:fs={},mousemoveWait:ja,recordDOM:ss=!0,recordCanvas:Rs=!1,recordCrossOriginIframes:Lo=!1,recordAfter:Ml=("DOMContentLoaded"===D.recordAfter?D.recordAfter:"load"),userTriggeredOnInput:va=!1,collectFonts:mc=!1,inlineImages:Ws=!1,plugins:Or,keepIframeSrcFn:Na=()=>!1,ignoreCSSAttributes:Kc=new Set([]),errorHandler:gc,onMutation:kh,getCanvasManager:wa}=D;!function Ms(D){Vs=D}(gc);const wl=!Lo||window.parent===window;let yd=!1;if(!wl)try{window.parent.document&&(yd=!1)}catch{yd=!0}if(wl&&!F)throw new Error("emit function is required");void 0!==ja&&void 0===Zr.mousemove&&(Zr.mousemove=ja),_l.reset();const Rl=!0===Dr?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==As?As:{},_c=!0===hr||"all"===hr?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===hr,headMetaDescKeywords:"all"===hr}:hr||{};!function Ko(D=window){"NodeList"in D&&!D.NodeList.prototype.forEach&&(D.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in D&&!D.DOMTokenList.prototype.forEach&&(D.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...F)=>{let se=F[0];if(!(0 in F))throw new TypeError("1 argument is required");do{if(this===se)return!0}while(se=se&&se.parentNode);return!1})}();let ed,jl=0;const yu=ps=>{for(const Pl of Or||[])Pl.eventProcessor&&(ps=Pl.eventProcessor(ps));return $s&&!yd&&(ps=$s(ps)),ps};ao=(ps,Pl)=>{const Ys=ps;if(Ys.timestamp=is(),(0,E.z)([oo,"access",Ka=>Ka[0],"optionalAccess",Ka=>Ka.isFrozen,"call",Ka=>Ka()])&&Ys.type!==Xr.FullSnapshot&&!(Ys.type===Xr.IncrementalSnapshot&&Ys.data.source===Rr.Mutation)&&oo.forEach(Ka=>Ka.unfreeze()),wl)(0,E.z)([F,"optionalCall",Ka=>Ka(yu(Ys),Pl)]);else if(yd){const Ka={type:"rrweb",event:yu(Ys),origin:window.location.origin,isCheckout:Pl};window.parent.postMessage(Ka,"*")}if(Ys.type===Xr.FullSnapshot)ed=Ys,jl=0;else if(Ys.type===Xr.IncrementalSnapshot){if(Ys.data.source===Rr.Mutation&&Ys.data.isAttachIframe)return;jl++,(Le&&jl>=Le||se&&ed&&Ys.timestamp-ed.timestamp>se)&&Vf(!0)}};const Nl=ps=>{ao({type:Xr.IncrementalSnapshot,data:{source:Rr.Mutation,...ps}})},Ah=ps=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.Scroll,...ps}}),Fd=ps=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.CanvasMutation,...ps}}),bu=new ql({mutationCb:Nl,adoptedStyleSheetCb:ps=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.AdoptedStyleSheet,...ps}})}),vu="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Dl:new qo({mirror:_l,mutationCb:Nl,stylesheetManager:bu,recordCrossOriginIframes:Lo,wrappedEmit:ao});for(const ps of Or||[])ps.getMirror&&ps.getMirror({nodeMirror:_l,crossOriginIframeMirror:vu.crossOriginIframeMirror,crossOriginIframeStyleMirror:vu.crossOriginIframeStyleMirror});const Mh=new qr,Uu=function ne(D,F){try{return D?D(F):new ol}catch{return console.warn("Unable to initialize CanvasManager"),new ol}}(wa,{mirror:_l,win:window,mutationCb:ps=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.CanvasMutation,...ps}}),recordCanvas:Rs,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maxCanvasSize:ba,sampling:Zr.canvas,dataURLOptions:fs,errorHandler:gc}),Ol="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ml:new gl({mutationCb:Nl,scrollCb:Ah,bypassOptions:{onMutation:kh,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:ti,maskTextClass:Ln,unmaskTextClass:ni,maskTextSelector:wi,unmaskTextSelector:sr,inlineStylesheet:nr,maskInputOptions:Rl,dataURLOptions:fs,maskAttributeFn:us,maskTextFn:wr,maskInputFn:Co,recordCanvas:Rs,inlineImages:Ws,sampling:Zr,slimDOMOptions:_c,iframeManager:vu,stylesheetManager:bu,canvasManager:Uu,keepIframeSrcFn:Na,processedNodeManager:Mh},mirror:_l}),Vf=(ps=!1)=>{if(!ss)return;ao({type:Xr.Meta,data:{href:window.location.href,width:Gr(),height:to()}},ps),bu.reset(),Ol.init(),oo.forEach(Ys=>Ys.lock());const Pl=function ze(D,F){const{mirror:se=new wt,blockClass:Le="rr-block",blockSelector:It=null,unblockSelector:Qt=null,maskAllText:Cn=!1,maskTextClass:Yn="rr-mask",unmaskTextClass:Nn=null,maskTextSelector:ti=null,unmaskTextSelector:Ln=null,inlineStylesheet:ni=!0,inlineImages:wi=!1,recordCanvas:sr=!1,maskAllInputs:nr=!1,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOM:us=!1,dataURLOptions:Co,preserveWhiteSpace:wr,onSerialize:ba,onIframeLoad:$s,iframeLoadTimeout:Zr,onStylesheetLoad:fs,stylesheetLoadTimeout:ja,keepIframeSrcFn:ss=()=>!1}=F||{};return Ke(D,{doc:D,mirror:se,blockClass:Le,blockSelector:It,unblockSelector:Qt,maskAllText:Cn,maskTextClass:Yn,unmaskTextClass:Nn,maskTextSelector:ti,unmaskTextSelector:Ln,skipChild:!1,inlineStylesheet:ni,maskInputOptions:!0===nr?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===nr?{}:nr,maskAttributeFn:Dr,maskTextFn:As,maskInputFn:hr,slimDOMOptions:!0===us||"all"===us?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===us,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===us?{}:us,dataURLOptions:Co,inlineImages:wi,recordCanvas:sr,preserveWhiteSpace:wr,onSerialize:ba,onIframeLoad:$s,iframeLoadTimeout:Zr,onStylesheetLoad:fs,stylesheetLoadTimeout:ja,keepIframeSrcFn:ss,newlyAddedElement:!1})}(document,{mirror:_l,blockClass:It,blockSelector:Qt,unblockSelector:Cn,maskAllText:ti,maskTextClass:Ln,unmaskTextClass:ni,maskTextSelector:wi,unmaskTextSelector:sr,inlineStylesheet:nr,maskAllInputs:Rl,maskAttributeFn:us,maskInputFn:Co,maskTextFn:wr,slimDOM:_c,dataURLOptions:fs,recordCanvas:Rs,inlineImages:Ws,onSerialize:Ys=>{rl(Ys,_l)&&vu.addIframe(Ys),$a(Ys,_l)&&bu.trackLinkElement(Ys),qa(Ys)&&Ol.addShadowRoot(Ys.shadowRoot,document)},onIframeLoad:(Ys,Ka)=>{vu.attachIframe(Ys,Ka),Ys.contentWindow&&Uu.addWindow(Ys.contentWindow),Ol.observeAttachShadow(Ys)},onStylesheetLoad:(Ys,Ka)=>{bu.attachLinkElement(Ys,Ka)},keepIframeSrcFn:Na});if(!Pl)return console.warn("Failed to snapshot the document");ao({type:Xr.FullSnapshot,data:{node:Pl,initialOffset:Es(window)}}),oo.forEach(Ys=>Ys.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&bu.adoptStyleSheets(document.adoptedStyleSheets,_l.getId(document))};Yo=Vf;try{const ps=[],Pl=Ka=>Ar(Xl)({onMutation:kh,mutationCb:Nl,mousemoveCb:(vo,Ld)=>ao({type:Xr.IncrementalSnapshot,data:{source:Ld,positions:vo}}),mouseInteractionCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.MouseInteraction,...vo}}),scrollCb:Ah,viewportResizeCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.ViewportResize,...vo}}),inputCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.Input,...vo}}),mediaInteractionCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.MediaInteraction,...vo}}),styleSheetRuleCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.StyleSheetRule,...vo}}),styleDeclarationCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.StyleDeclaration,...vo}}),canvasMutationCb:Fd,fontCb:vo=>ao({type:Xr.IncrementalSnapshot,data:{source:Rr.Font,...vo}}),selectionCb:vo=>{ao({type:Xr.IncrementalSnapshot,data:{source:Rr.Selection,...vo}})},customElementCb:vo=>{ao({type:Xr.IncrementalSnapshot,data:{source:Rr.CustomElement,...vo}})},blockClass:It,ignoreClass:Yn,ignoreSelector:Nn,maskAllText:ti,maskTextClass:Ln,unmaskTextClass:ni,maskTextSelector:wi,unmaskTextSelector:sr,maskInputOptions:Rl,inlineStylesheet:nr,sampling:Zr,recordDOM:ss,recordCanvas:Rs,inlineImages:Ws,userTriggeredOnInput:va,collectFonts:mc,doc:Ka,maskAttributeFn:us,maskInputFn:Co,maskTextFn:wr,keepIframeSrcFn:Na,blockSelector:Qt,unblockSelector:Cn,slimDOMOptions:_c,dataURLOptions:fs,mirror:_l,iframeManager:vu,stylesheetManager:bu,shadowDomManager:Ol,processedNodeManager:Mh,canvasManager:Uu,ignoreCSSAttributes:Kc,plugins:(0,E.z)([Or,"optionalAccess",vo=>vo.filter,"call",vo=>vo(Ld=>Ld.observer),"optionalAccess",vo=>vo.map,"call",vo=>vo(Ld=>({observer:Ld.observer,options:Ld.options,callback:Mm=>ao({type:Xr.Plugin,data:{plugin:Ld.name,payload:Mm}})}))])||[]},{});vu.addLoadListener(Ka=>{try{ps.push(Pl(Ka.contentDocument))}catch(vo){console.warn(vo)}});const Ys=()=>{Vf(),ps.push(Pl(document))};return"interactive"===document.readyState||"complete"===document.readyState?Ys():(ps.push(Vt("DOMContentLoaded",()=>{ao({type:Xr.DomContentLoaded,data:{}}),"DOMContentLoaded"===Ml&&Ys()})),ps.push(Vt("load",()=>{ao({type:Xr.Load,data:{}}),"load"===Ml&&Ys()},window))),()=>{ps.forEach(Ka=>Ka()),Mh.destroy(),Yo=void 0,function ho(){Vs=void 0}()}}catch(ps){console.warn(ps)}}po.mirror=_l,po.takeFullSnapshot=function Gt(D){if(!Yo)throw new Error("please take full snapshot after start recording");Yo(D)};const fe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,B=["info","warn","error","log"],te="[Replay] ";function K(D,F="info"){(0,A.Z)({category:"console",data:{logger:"replay"},level:F,message:`${te}${D}`},{level:F})}const pt=function We(){let D=!1,F=!1;const se={exception:()=>{},infoTick:()=>{},setConfig:Le=>{D=Le.captureExceptions,F=Le.traceInternals}};return fe?(B.forEach(Le=>{se[Le]=(...It)=>{Ee.vF[Le](te,...It),F&&K(It[0])}}),se.exception=(Le,...It)=>{se.error&&se.error(...It),Ee.vF.error(te,Le),D?(0,S.Cp)(Le):F&&K(Le)},se.infoTick=(...Le)=>{Ee.vF.info(te,...Le),F&&setTimeout(()=>K(Le[0]),0)}):B.forEach(Le=>{se[Le]=()=>{}}),se}(),Fn=3;function Vi(D){return D>9999999999?D:1e3*D}function vi(D){return D>9999999999?D/1e3:D}function ws(D,F){"sentry.transaction"!==F.category&&(["ui.click","ui.input"].includes(F.category)?D.triggerUserActivity():D.checkAndHandleExpiredSession(),D.addUpdate(()=>(D.throttledAddEvent({type:Xr.Custom,timestamp:1e3*(F.timestamp||0),data:{tag:"breadcrumb",payload:(0,ke.S8)(F,10,1e3)}}),"console"===F.category)))}const xs="button,a";function Yr(D){return D.closest(xs)||D}function mr(D){const F=Po(D);return F&&F instanceof Element?Yr(F):F}function Po(D){return function Li(D){return"object"==typeof D&&!!D&&"target"in D}(D)?D.target:D}let Xs;const za=new Set([Rr.Mutation,Rr.StyleSheetRule,Rr.StyleDeclaration,Rr.AdoptedStyleSheet,Rr.CanvasMutation,Rr.Selection,Rr.MediaInteraction]);class I{constructor(F,se,Le=ws){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=se.timeout/1e3,this._threshold=se.threshold/1e3,this._scollTimeout=se.scrollTimeout/1e3,this._replay=F,this._ignoreSelector=se.ignoreSelector,this._addBreadcrumbEvent=Le}addListeners(){const F=function ro(D){return Xs||(Xs=[],function Fo(){(0,Qe.GS)(me,"open",function(D){return function(...F){if(Xs)try{Xs.forEach(se=>se())}catch{}return D.apply(me,F)}})}()),Xs.push(D),()=>{const F=Xs?Xs.indexOf(D):-1;F>-1&&Xs.splice(F,1)}}(()=>{this._lastMutation=ln()});this._teardown=()=>{F(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(F,se){if(function Xt(D,F){return!!(!Ct.includes(D.tagName)||"INPUT"===D.tagName&&!["submit","button"].includes(D.getAttribute("type")||"")||"A"===D.tagName&&(D.hasAttribute("download")||D.hasAttribute("target")&&"_self"!==D.getAttribute("target"))||F&&D.matches(F))}(se,this._ignoreSelector)||!function _n(D){return!(!D.data||"number"!=typeof D.data.nodeId||!D.timestamp)}(F))return;const Le={timestamp:vi(F.timestamp),clickBreadcrumb:F,clickCount:0,node:se};this._clicks.some(It=>It.node===Le.node&&Math.abs(It.timestamp-Le.timestamp)<1)||(this._clicks.push(Le),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(F=Date.now()){this._lastMutation=vi(F)}registerScroll(F=Date.now()){this._lastScroll=vi(F)}registerClick(F){const se=Yr(F);this._handleMultiClick(se)}_handleMultiClick(F){this._getClicks(F).forEach(se=>{se.clickCount++})}_getClicks(F){return this._clicks.filter(se=>se.node===F)}_checkClicks(){const F=[],se=ln();this._clicks.forEach(Le=>{!Le.mutationAfter&&this._lastMutation&&(Le.mutationAfter=Le.timestamp<=this._lastMutation?this._lastMutation-Le.timestamp:void 0),!Le.scrollAfter&&this._lastScroll&&(Le.scrollAfter=Le.timestamp<=this._lastScroll?this._lastScroll-Le.timestamp:void 0),Le.timestamp+this._timeout<=se&&F.push(Le)});for(const Le of F){const It=this._clicks.indexOf(Le);It>-1&&(this._generateBreadcrumbs(Le),this._clicks.splice(It,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(F){const se=this._replay,Qt=!(F.scrollAfter&&F.scrollAfter<=this._scollTimeout||F.mutationAfter&&F.mutationAfter<=this._threshold),{clickCount:Cn,clickBreadcrumb:Yn}=F;if(Qt){const Nn=1e3*Math.min(F.mutationAfter||this._timeout,this._timeout),ti=Nn<1e3*this._timeout?"mutation":"timeout",Ln={type:"default",message:Yn.message,timestamp:Yn.timestamp,category:"ui.slowClickDetected",data:{...Yn.data,url:me.location.href,route:se.getCurrentRoute(),timeAfterClickMs:Nn,endReason:ti,clickCount:Cn||1}};this._addBreadcrumbEvent(se,Ln)}else if(Cn>1){const Nn={type:"default",message:Yn.message,timestamp:Yn.timestamp,category:"ui.multiClick",data:{...Yn.data,url:me.location.href,route:se.getCurrentRoute(),clickCount:Cn,metric:!0}};this._addBreadcrumbEvent(se,Nn)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=(0,St.wg)(()=>this._checkClicks(),1e3)}}const Ct=["A","BUTTON","INPUT"];function ln(){return Date.now()/1e3}function pi(D){return{timestamp:Date.now()/1e3,type:"default",...D}}var ai=function(D){return D[D.Document=0]="Document",D[D.DocumentType=1]="DocumentType",D[D.Element=2]="Element",D[D.Text=3]="Text",D[D.CDATA=4]="CDATA",D[D.Comment=5]="Comment",D}(ai||{});const Ai=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function _i(D){const F={};!D["data-sentry-component"]&&D["data-sentry-element"]&&(D["data-sentry-component"]=D["data-sentry-element"]);for(const se in D)if(Ai.has(se)){let Le=se;("data-testid"===se||"data-test-id"===se)&&(Le="testId"),F[Le]=D[se]}return F}function Er(D,F){const se=po.mirror.getId(D),Le=se&&po.mirror.getNode(se),It=Le&&po.mirror.getMeta(Le),Qt=It&&function To(D){return D.type===ai.Element}(It)?It:null;return{message:F,data:Qt?{nodeId:se,node:{id:se,tagName:Qt.tagName,textContent:Array.from(Qt.childNodes).map(Cn=>Cn.type===ai.Text&&Cn.textContent).filter(Boolean).map(Cn=>Cn.trim()).join(""),attributes:_i(Qt.attributes)}}:{}}}const Ta={resource:function gd(D){const{entryType:F,initiatorType:se,name:Le,responseEnd:It,startTime:Qt,decodedBodySize:Cn,encodedBodySize:Yn,responseStatus:Nn,transferSize:ti}=D;return["fetch","xmlhttprequest"].includes(se)?null:{type:`${F}.${se}`,start:yl(Qt),end:yl(It),name:Le,data:{size:ti,statusCode:Nn,decodedBodySize:Cn,encodedBodySize:Yn}}},paint:function Ss(D){const{duration:F,entryType:se,name:Le,startTime:It}=D,Qt=yl(It);return{type:se,name:Le,start:Qt,end:Qt+F,data:void 0}},navigation:function bo(D){const{entryType:F,name:se,decodedBodySize:Le,duration:It,domComplete:Qt,encodedBodySize:Cn,domContentLoadedEventStart:Yn,domContentLoadedEventEnd:Nn,domInteractive:ti,loadEventStart:Ln,loadEventEnd:ni,redirectCount:wi,startTime:sr,transferSize:nr,type:Dr}=D;return 0===It?null:{type:`${F}.${Dr}`,start:yl(sr),end:yl(Qt),name:se,data:{size:nr,decodedBodySize:Le,encodedBodySize:Cn,duration:It,domInteractive:ti,domContentLoadedEventStart:Yn,domContentLoadedEventEnd:Nn,loadEventStart:Ln,loadEventEnd:ni,domComplete:Qt,redirectCount:wi}}}};function Ga(D,F){return({metric:se})=>{F.replayPerformanceEntries.push(D(se))}}function Tl(D){const F=Ta[D.entryType];return F?F(D):null}function yl(D){return((Ye.k3||me.performance.timeOrigin)+D)/1e3}function Fu(D){const F=D.entries[D.entries.length-1];return Ds(D,"largest-contentful-paint",F&&F.element?[F.element]:void 0)}function Yl(D){return void 0!==D.sources}function Ja(D){const F=[],se=[];for(const Le of D.entries)if(Yl(Le)){const It=[];for(const Qt of Le.sources)if(Qt.node){se.push(Qt.node);const Cn=po.mirror.getId(Qt.node);Cn&&It.push(Cn)}F.push({value:Le.value,nodeIds:It})}return Ds(D,"cumulative-layout-shift",se,F)}function Ia(D){const F=D.entries[D.entries.length-1];return Ds(D,"first-input-delay",F&&F.target?[F.target]:void 0)}function Ul(D){const F=D.entries[D.entries.length-1];return Ds(D,"interaction-to-next-paint",F&&F.target?[F.target]:void 0)}function Ds(D,F,se,Le){const It=D.value,Qt=D.rating,Cn=yl(It);return{type:"web-vital",name:F,start:Cn,end:Cn,data:{value:It,size:It,rating:Qt,nodeIds:se?se.map(Nn=>po.mirror.getId(Nn)):void 0,attributions:Le}}}class fo extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Pt}.`)}}class xh{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(F){var se=this;return(0,h.A)(function*(){const Le=JSON.stringify(F).length;if(se._totalSize+=Le,se._totalSize>Pt)throw new fo;se.events.push(F)})()}finish(){return new Promise(F=>{const se=this.events;this.clear(),F(JSON.stringify(se))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const F=this.events.map(se=>se.timestamp).sort()[0];return F?Vi(F):null}}class Mc{constructor(F){this._worker=F,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((F,se)=>{this._worker.addEventListener("message",({data:Le})=>{Le.success?F():se()},{once:!0}),this._worker.addEventListener("error",Le=>{se(Le)},{once:!0})})),this._ensureReadyPromise}destroy(){fe&&pt.info("Destroying compression worker"),this._worker.terminate()}postMessage(F,se){const Le=this._getAndIncrementId();return new Promise((It,Qt)=>{const Cn=({data:Yn})=>{const Nn=Yn;if(Nn.method===F&&Nn.id===Le){if(this._worker.removeEventListener("message",Cn),!Nn.success)return fe&&pt.error("Error in compression worker: ",Nn.response),void Qt(new Error("Error in compression worker"));It(Nn.response)}};this._worker.addEventListener("message",Cn),this._worker.postMessage({id:Le,method:F,arg:se})})}_getAndIncrementId(){return this._id++}}class Rc{constructor(F){this._worker=new Mc(F),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(F){const se=Vi(F.timestamp);(!this._earliestTimestamp||se<this._earliestTimestamp)&&(this._earliestTimestamp=se);const Le=JSON.stringify(F);return this._totalSize+=Le.length,this._totalSize>Pt?Promise.reject(new fo):this._sendEventToWorker(Le)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,F=>{fe&&pt.exception(F,'Sending "clear" message to worker failed',F)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(F){return this._worker.postMessage("addEvent",F)}_finishRequest(){var F=this;return(0,h.A)(function*(){const se=yield F._worker.postMessage("finish");return F._earliestTimestamp=null,F._totalSize=0,se})()}}class oc{constructor(F){this._fallback=new xh,this._compression=new Rc(F),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(F){this._used.hasCheckout=F}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(F){return this._used.addEvent(F)}finish(){var F=this;return(0,h.A)(function*(){return yield F.ensureWorkerIsLoaded(),F._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var F=this;return(0,h.A)(function*(){try{yield F._compression.ensureReady()}catch(se){return void(fe&&pt.exception(se,"Failed to load the compression worker, falling back to simple buffer"))}yield F._switchToCompressionWorker()})()}_switchToCompressionWorker(){var F=this;return(0,h.A)(function*(){const{events:se,hasCheckout:Le}=F._fallback,It=[];for(const Qt of se)It.push(F._compression.addEvent(Qt));F._compression.hasCheckout=Le,F._used=F._compression;try{yield Promise.all(It)}catch(Qt){fe&&pt.exception(Qt,"Failed to add events when switching buffers.")}})()}}function gt(){try{return"sessionStorage"in me&&!!me.sessionStorage}catch{return!1}}function Si(D){return void 0!==D&&Math.random()<D}function pr(D){const F=Date.now();return{id:D.id||(0,Re.eJ)(),started:D.started||F,lastActivity:D.lastActivity||F,segmentId:D.segmentId||0,sampled:D.sampled,previousSessionId:D.previousSessionId}}function xo(D){if(gt())try{me.sessionStorage.setItem(Oe,JSON.stringify(D))}catch{}}function Ls({sessionSampleRate:D,allowBuffering:F,stickySession:se=!1},{previousSessionId:Le}={}){const It=function Fs(D,F){return Si(D)?"session":!!F&&"buffer"}(D,F),Qt=pr({sampled:It,previousSessionId:Le});return se&&xo(Qt),Qt}function Qo(D,F,se=+new Date){return null===D||void 0===F||F<0||0!==F&&D+F<=se}function mo(D,{maxReplayDuration:F,sessionIdleExpire:se,targetTime:Le=Date.now()}){return Qo(D.started,F,Le)||Qo(D.lastActivity,se,Le)}function _a(D,{sessionIdleExpire:F,maxReplayDuration:se}){return!(!mo(D,{sessionIdleExpire:F,maxReplayDuration:se})||"buffer"===D.sampled&&0===D.segmentId)}function Uc({sessionIdleExpire:D,maxReplayDuration:F,previousSessionId:se},Le){const It=Le.stickySession&&function ji(){if(!gt())return null;try{const D=me.sessionStorage.getItem(Oe);if(!D)return null;const F=JSON.parse(D);return fe&&pt.infoTick("Loading existing session"),pr(F)}catch{return null}}();return It?_a(It,{sessionIdleExpire:D,maxReplayDuration:F})?(fe&&pt.infoTick("Session in sessionStorage is expired, creating new one..."),Ls(Le,{previousSessionId:It.id})):It:(fe&&pt.infoTick("Creating new session"),Ls(Le,{previousSessionId:se}))}function zc(D,F,se){return!!ka(D,F)&&(Nc(D,F,se),!0)}function Nc(D,F,se){return Il.apply(this,arguments)}function Il(){return(Il=(0,h.A)(function*(D,F,se){if(!D.eventBuffer)return null;try{se&&"buffer"===D.recordingMode&&D.eventBuffer.clear(),se&&(D.eventBuffer.hasCheckout=!0);const It=function Br(D,F){try{if("function"==typeof F&&function hc(D){return D.type===Xr.Custom}(D))return F(D)}catch(se){return fe&&pt.exception(se,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return D}(F,D.getOptions().beforeAddRecordingEvent);return It?yield D.eventBuffer.addEvent(It):void 0}catch(Le){const It=Le&&Le instanceof fo?"addEventSizeExceeded":"addEvent";D.handleException(Le),yield D.stop({reason:It});const Qt=(0,C.KU)();Qt&&Qt.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function ka(D,F){if(!D.eventBuffer||D.isPaused()||!D.isEnabled())return!1;const se=Vi(F.timestamp);return!(se+D.timeouts.sessionIdlePause<Date.now()||se>D.getContext().initialTimestamp+D.getOptions().maxReplayDuration&&(fe&&pt.infoTick(`Skipping event with timestamp ${se} because it is after maxReplayDuration`),1))}function ua(D){return!D.type}function Aa(D){return"transaction"===D.type}function ll(D){return"feedback"===D.type}function Wc(D){return!!D.category}function zl(D,F){return F.map(({type:se,start:Le,end:It,name:Qt,data:Cn})=>{const Yn=D.throttledAddEvent({type:Xr.Custom,timestamp:Le,data:{tag:"performanceSpan",payload:{op:se,description:Qt,startTimestamp:Le,endTimestamp:It,data:Cn}}});return"string"==typeof Yn?Promise.resolve(null):Yn})}function fc(D,F){D.isEnabled()&&null!==F&&(function da(D,F){return(!fe||!D.getOptions()._experiments.traceInternals)&&function W(D,F){const se=F&&F.getDsn(),Le=F&&F.getOptions().tunnel;return function N(D,F){return!!F&&D.includes(F.host)}(D,se)||function L(D,F){return!!F&&z(D)===z(F)}(D,Le)}(F,(0,C.KU)())}(D,F.name)||D.addUpdate(()=>(zl(D,[F]),!0)))}function lc(D){if(!D)return;const F=new TextEncoder;try{if("string"==typeof D)return F.encode(D).length;if(D instanceof URLSearchParams)return F.encode(D.toString()).length;if(D instanceof FormData){const se=Zu(D);return F.encode(se).length}if(D instanceof Blob)return D.size;if(D instanceof ArrayBuffer)return D.byteLength}catch{}}function $u(D){if(!D)return;const F=parseInt(D,10);return isNaN(F)?void 0:F}function Md(D){try{if("string"==typeof D)return[D];if(D instanceof URLSearchParams)return[D.toString()];if(D instanceof FormData)return[Zu(D)];if(!D)return[void 0]}catch(F){return fe&&pt.exception(F,"Failed to serialize body",D),[void 0,"BODY_PARSE_ERROR"]}return fe&&pt.info("Skipping network body because of body type",D),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Gc(D,F){if(!D)return{headers:{},size:void 0,_meta:{warnings:[F]}};const se={...D._meta};return se.warnings=[...se.warnings||[],F],D._meta=se,D}function Sh(D,F){if(!F)return null;const{startTimestamp:se,endTimestamp:Le,url:It,method:Qt,statusCode:Cn,request:Yn,response:Nn}=F;return{type:D,start:se/1e3,end:Le/1e3,name:It,data:(0,Qe.Ce)({method:Qt,statusCode:Cn,request:Yn,response:Nn})}}function pc(D){return{headers:{},size:D,_meta:{warnings:["URL_SKIPPED"]}}}function cl(D,F,se){if(!F&&0===Object.keys(D).length)return;if(!F)return{headers:D};if(!se)return{headers:D,size:F};const Le={headers:D,size:F},{body:It,warnings:Qt}=function Dh(D){if(!D||"string"!=typeof D)return{body:D};const F=D.length>Ae,se=function Ra(D){const F=D[0],se=D[D.length-1];return"["===F&&"]"===se||"{"===F&&"}"===se}(D);if(F){const Le=D.slice(0,Ae);return se?{body:Le,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${Le}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(se)try{return{body:JSON.parse(D)}}catch{}return{body:D}}(se);return Le.body=It,Qt&&Qt.length>0&&(Le._meta={warnings:Qt}),Le}function _d(D,F){return Object.entries(D).reduce((se,[Le,It])=>{const Qt=Le.toLowerCase();return F.includes(Qt)&&D[Le]&&(se[Qt]=It),se},{})}function Zu(D){return new URLSearchParams(D).toString()}function kl(D,F){const se=function Rd(D,F=me.document.baseURI){if(D.startsWith("http://")||D.startsWith("https://")||D.startsWith(me.location.origin))return D;const se=new URL(D,F);if(se.origin!==new URL(F).origin)return D;const Le=se.href;return!D.endsWith("/")&&Le.endsWith("/")?Le.slice(0,-1):Le}(D);return(0,nt.Xr)(se,F)}function nl(){return nl=(0,h.A)(function*(D,F,se){try{const Le=yield function Bu(D,F,se){return mu.apply(this,arguments)}(D,F,se),It=Sh("resource.fetch",Le);fc(se.replay,It)}catch(Le){fe&&pt.exception(Le,"Failed to capture fetch breadcrumb")}}),nl.apply(this,arguments)}function mu(){return mu=(0,h.A)(function*(D,F,se){const Le=Date.now(),{startTimestamp:It=Le,endTimestamp:Qt=Le}=F,{url:Cn,method:Yn,status_code:Nn=0,request_body_size:ti,response_body_size:Ln}=D.data,ni=kl(Cn,se.networkDetailAllowUrls)&&!kl(Cn,se.networkDetailDenyUrls),wi=ni?function Au({networkCaptureBodies:D,networkRequestHeaders:F},se,Le){const It=se?function Ut(D,F){return 1===D.length&&"string"!=typeof D[0]?gn(D[0],F):2===D.length?gn(D[1],F):{}}(se,F):{};if(!D)return cl(It,Le,void 0);const Qt=Ie(se),[Cn,Yn]=Md(Qt),Nn=cl(It,Le,Cn);return Yn?Gc(Nn,Yn):Nn}(se,F.input,ti):pc(ti),sr=yield function Mr(D,F,se,Le){return eh.apply(this,arguments)}(ni,se,F.response,Ln);return{startTimestamp:It,endTimestamp:Qt,url:Cn,method:Yn,statusCode:Nn,request:wi,response:sr}}),mu.apply(this,arguments)}function eh(){return eh=(0,h.A)(function*(D,{networkCaptureBodies:F,networkResponseHeaders:se},Le,It){if(!D&&void 0!==It)return pc(It);const Qt=Le?lt(Le.headers,se):{};if(!Le||!F&&void 0!==It)return cl(Qt,It,void 0);const[Cn,Yn]=yield function le(D){return ie.apply(this,arguments)}(Le),Nn=function Y(D,{networkCaptureBodies:F,responseBodySize:se,captureDetails:Le,headers:It}){try{const Qt=D&&D.length&&void 0===se?lc(D):se;return Le?cl(It,Qt,F?D:void 0):pc(Qt)}catch(Qt){return fe&&pt.exception(Qt,"Failed to serialize response body"),cl(It,se,void 0)}}(Cn,{networkCaptureBodies:F,responseBodySize:It,captureDetails:D,headers:Qt});return Yn?Gc(Nn,Yn):Nn}),eh.apply(this,arguments)}function ie(){return(ie=(0,h.A)(function*(D){const F=function hi(D){try{return D.clone()}catch(F){fe&&pt.exception(F,"Failed to clone response body")}}(D);if(!F)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Qn(F)]}catch(se){return fe&&pt.exception(se,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function Ie(D=[]){if(2===D.length&&"object"==typeof D[1])return D[1].body}function lt(D,F){const se={};return F.forEach(Le=>{D.get(Le)&&(se[Le]=D.get(Le))}),se}function gn(D,F){if(!D)return{};const se=D.headers;return se?se instanceof Headers?lt(se,F):Array.isArray(se)?{}:_d(se,F):{}}function Qn(D){return new Promise((F,se)=>{const Le=(0,St.wg)(()=>se(new Error("Timeout while trying to read response body")),500);(function Yi(D){return ir.apply(this,arguments)})(D).then(It=>F(It),It=>se(It)).finally(()=>clearTimeout(Le))})}function ir(){return(ir=(0,h.A)(function*(D){return yield D.text()})).apply(this,arguments)}function js(){return(js=(0,h.A)(function*(D,F,se){try{const Le=function Uo(D,F,se){const Le=Date.now(),{startTimestamp:It=Le,endTimestamp:Qt=Le,input:Cn,xhr:Yn}=F,{url:Nn,method:ti,status_code:Ln=0,request_body_size:ni,response_body_size:wi}=D.data;if(!Nn)return null;if(!Yn||!kl(Nn,se.networkDetailAllowUrls)||kl(Nn,se.networkDetailDenyUrls))return{startTimestamp:It,endTimestamp:Qt,url:Nn,method:ti,statusCode:Ln,request:pc(ni),response:pc(wi)};const sr=Yn[Ce.Er],nr=sr?_d(sr.request_headers,se.networkRequestHeaders):{},Dr=_d(function bl(D){const F=D.getAllResponseHeaders();return F?F.split("\r\n").reduce((se,Le)=>{const[It,Qt]=Le.split(": ");return Qt&&(se[It.toLowerCase()]=Qt),se},{}):{}}(Yn),se.networkResponseHeaders),[As,hr]=se.networkCaptureBodies?Md(Cn):[void 0],[us,Co]=se.networkCaptureBodies?function ul(D){const F=[];try{return[D.responseText]}catch(se){F.push(se)}try{return function gu(D,F){try{if("string"==typeof D)return[D];if(D instanceof Document)return[D.body.outerHTML];if("json"===F&&D&&"object"==typeof D)return[JSON.stringify(D)];if(!D)return[void 0]}catch(se){return fe&&pt.exception(se,"Failed to serialize body",D),[void 0,"BODY_PARSE_ERROR"]}return fe&&pt.info("Skipping network body because of body type",D),[void 0,"UNPARSEABLE_BODY_TYPE"]}(D.response,D.responseType)}catch(se){F.push(se)}return fe&&pt.warn("Failed to get xhr response body",...F),[void 0]}(Yn):[void 0],wr=cl(nr,ni,As),ba=cl(Dr,wi,us);return{startTimestamp:It,endTimestamp:Qt,url:Nn,method:ti,statusCode:Ln,request:hr?Gc(wr,hr):wr,response:Co?Gc(ba,Co):ba}}(D,F,se),It=Sh("resource.xhr",Le);fc(se.replay,It)}catch(Le){fe&&pt.exception(Le,"Failed to capture xhr breadcrumb")}})).apply(this,arguments)}function Vu(D){const F=(0,C.KU)();try{const{networkDetailAllowUrls:se,networkDetailDenyUrls:Le,networkCaptureBodies:It,networkRequestHeaders:Qt,networkResponseHeaders:Cn}=D.getOptions(),Yn={replay:D,networkDetailAllowUrls:se,networkDetailDenyUrls:Le,networkCaptureBodies:It,networkRequestHeaders:Qt,networkResponseHeaders:Cn};F&&F.on("beforeAddBreadcrumb",(Nn,ti)=>function Nd(D,F,se){if(F.data)try{(function ef(D){return"xhr"===D.category})(F)&&function nf(D){return D&&D.xhr}(se)&&(function so(D,F){const{xhr:se,input:Le}=F;if(!se)return;const It=lc(Le),Qt=se.getResponseHeader("content-length")?$u(se.getResponseHeader("content-length")):function Th(D,F){try{return lc("json"===F&&D&&"object"==typeof D?JSON.stringify(D):D)}catch{return}}(se.response,se.responseType);void 0!==It&&(D.data.request_body_size=It),void 0!==Qt&&(D.data.response_body_size=Qt)}(F,se),function zr(D,F,se){js.apply(this,arguments)}(F,se,D)),function tf(D){return"fetch"===D.category}(F)&&function Mn(D){return D&&D.response}(se)&&(function Cc(D,F){const{input:se,response:Le}=F,Qt=lc(se?Ie(se):void 0),Cn=Le?$u(Le.headers.get("content-length")):void 0;void 0!==Qt&&(D.data.request_body_size=Qt),void 0!==Cn&&(D.data.response_body_size=Cn)}(F,se),function tl(D,F,se){nl.apply(this,arguments)}(F,se,D))}catch(Le){fe&&pt.exception(Le,"Error when enriching network breadcrumb")}}(Yn,Nn,ti))}catch{}}function _u(){return(_u=(0,h.A)(function*(D){try{return Promise.all(zl(D,[Od(me.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function Od(D){const{jsHeapSizeLimit:F,totalJSHeapSize:se,usedJSHeapSize:Le}=D,It=Date.now()/1e3;return{type:"memory",name:"memory",start:It,end:It,data:{memory:{jsHeapSizeLimit:F,totalJSHeapSize:se,usedJSHeapSize:Le}}}}function Bf(D){let F=!1;return(se,Le)=>{if(!D.checkAndHandleExpiredSession())return void(fe&&pt.warn("Received replay event after session expired."));const It=Le||!F;F=!0,D.clickDetector&&function Hn(D,F){try{if(!function yn(D){return D.type===Fn}(F))return;const{source:se}=F.data;if(za.has(se)&&D.registerMutation(F.timestamp),se===Rr.Scroll&&D.registerScroll(F.timestamp),function Zn(D){return D.data.source===Rr.MouseInteraction}(F)){const{type:Le,id:It}=F.data,Qt=po.mirror.getNode(It);Qt instanceof HTMLElement&&Le===uo.Click&&D.registerClick(Qt)}}catch{}}(D.clickDetector,se),D.addUpdate(()=>{if("buffer"===D.recordingMode&&It&&D.setInitialState(),!zc(D,se,It))return!0;if(!It)return!1;if(function Ju(D,F){!F||!D.session||0!==D.session.segmentId||zc(D,function Al(D){const F=D.getOptions();return{type:Xr.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:D.isRecordingCanvas(),sessionSampleRate:F.sessionSampleRate,errorSampleRate:F.errorSampleRate,useCompressionOption:F.useCompression,blockAllMedia:F.blockAllMedia,maskAllText:F.maskAllText,maskAllInputs:F.maskAllInputs,useCompression:!!D.eventBuffer&&"worker"===D.eventBuffer.type,networkDetailHasUrls:F.networkDetailAllowUrls.length>0,networkCaptureBodies:F.networkCaptureBodies,networkRequestHasHeaders:F.networkRequestHeaders.length>0,networkResponseHasHeaders:F.networkResponseHeaders.length>0}}}}(D),!1)}(D,It),D.session&&D.session.previousSessionId)return!0;if("buffer"===D.recordingMode&&D.session&&D.eventBuffer){const Qt=D.eventBuffer.getEarliestTimestamp();Qt&&(fe&&pt.info(`Updating session start time to earliest event in buffer to ${new Date(Qt)}`),D.session.started=Qt,D.getOptions().stickySession&&xo(D.session))}return"session"===D.recordingMode&&D.flush(),!0})}}function Fe(){return(Fe=(0,h.A)(function*({client:D,scope:F,replayId:se,event:Le}){const Qt={event_id:se,integrations:"object"!=typeof D._integrations||null===D._integrations||Array.isArray(D._integrations)?void 0:Object.keys(D._integrations)};D.emit("preprocessEvent",Le,Qt);const Cn=yield(0,re.mG)(D.getOptions(),Le,Qt,F,D,(0,C.rm)());if(!Cn)return null;Cn.platform=Cn.platform||"javascript";const Yn=D.getSdkMetadata(),{name:Nn,version:ti}=Yn&&Yn.sdk||{};return Cn.sdk={...Cn.sdk,name:Nn||"sentry.javascript.unknown",version:ti||"0.0.0"},Cn})).apply(this,arguments)}function $e(){return $e=(0,h.A)(function*({recordingData:D,replayId:F,segmentId:se,eventContext:Le,timestamp:It,session:Qt}){const Cn=function pe({recordingData:D,headers:F}){let se;const Le=`${JSON.stringify(F)}\n`;if("string"==typeof D)se=`${Le}${D}`;else{const Qt=(new TextEncoder).encode(Le);se=new Uint8Array(Qt.length+D.length),se.set(Qt),se.set(D,Qt.length)}return se}({recordingData:D,headers:{segment_id:se}}),{urls:Yn,errorIds:Nn,traceIds:ti,initialTimestamp:Ln}=Le,ni=(0,C.KU)(),wi=(0,C.o5)(),sr=ni&&ni.getTransport(),nr=ni&&ni.getDsn();if(!(ni&&sr&&nr&&Qt.sampled))return(0,je.XW)({});const Dr={type:At,replay_start_timestamp:Ln/1e3,timestamp:It/1e3,error_ids:Nn,trace_ids:ti,urls:Yn,replay_id:F,segment_id:se,replay_type:Qt.sampled},As=yield function k(D){return Fe.apply(this,arguments)}({scope:wi,client:ni,replayId:F,event:Dr});if(!As)return ni.recordDroppedEvent("event_processor","replay",Dr),fe&&pt.info("An event processor returned `null`, will not send event."),(0,je.XW)({});delete As.sdkProcessingMetadata;const hr=function Ih(D,F,se,Le){return(0,Te.h4)((0,Te.n2)(D,(0,Te.Cj)(D),Le,se),[[{type:"replay_event"},D],[{type:"replay_recording",length:"string"==typeof F?(new TextEncoder).encode(F).length:F.length},F]])}(As,Cn,nr,ni.getOptions().tunnel);let us;try{us=yield sr.send(hr)}catch(wr){const ba=new Error(Et);try{ba.cause=wr}catch{}throw ba}if("number"==typeof us.statusCode&&(us.statusCode<200||us.statusCode>=300))throw new en(us.statusCode);const Co=(0,Xe.wq)({},us);if((0,Xe.Jz)(Co,"replay"))throw new xn(Co);return us}),$e.apply(this,arguments)}class en extends Error{constructor(F){super(`Transport returned status code ${F}`)}}class xn extends Error{constructor(F){super("Rate limit hit"),this.rateLimits=F}}function zn(D){return gi.apply(this,arguments)}function gi(){return gi=(0,h.A)(function*(D,F={count:0,interval:Ft}){const{recordingData:se,options:Le}=D;if(se.length)try{return yield function _t(D){return $e.apply(this,arguments)}(D),!0}catch(It){if(It instanceof en||It instanceof xn)throw It;if((0,S.o)("Replays",{_retryCount:F.count}),fe&&Le._experiments&&Le._experiments.captureExceptions&&(0,S.Cp)(It),F.count>=ft){const Qt=new Error(`${Et} - max retries exceeded`);try{Qt.cause=It}catch{}throw Qt}return F.interval*=++F.count,new Promise((Qt,Cn)=>{(0,St.wg)((0,h.A)(function*(){try{yield zn(D,F),Qt(!0)}catch(Yn){Cn(Yn)}}),F.interval)})}}),gi.apply(this,arguments)}const bi="__THROTTLED";class ls{constructor({options:F,recordingOptions:se}){ls.prototype.__init.call(this),ls.prototype.__init2.call(this),ls.prototype.__init3.call(this),ls.prototype.__init4.call(this),ls.prototype.__init5.call(this),ls.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=se,this._options=F,this._debouncedFlush=function $f(D,F,se){let Le,It,Qt;const Cn=se&&se.maxWait?Math.max(se.maxWait,F):0;function Yn(){return Nn(),Le=D(),Le}function Nn(){void 0!==It&&clearTimeout(It),void 0!==Qt&&clearTimeout(Qt),It=Qt=void 0}function Ln(){return It&&clearTimeout(It),It=(0,St.wg)(Yn,F),Cn&&void 0===Qt&&(Qt=(0,St.wg)(Yn,Cn)),Le}return Ln.cancel=Nn,Ln.flush=function ti(){return void 0!==It||void 0!==Qt?Yn():Le},Ln}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function Xi(D,F,se){const Le=new Map;let Cn=!1;return(...Yn)=>{const Nn=Math.floor(Date.now()/1e3);if((Yn=>{const Nn=Yn-se;Le.forEach((ti,Ln)=>{Ln<Nn&&Le.delete(Ln)})})(Nn),[...Le.values()].reduce((Yn,Nn)=>Yn+Nn,0)>=F){const Ln=Cn;return Cn=!0,Ln?"__SKIPPED":bi}Cn=!1;const ti=Le.get(Nn)||0;return Le.set(Nn,ti+1),D(...Yn)}}((Cn,Yn)=>function ya(D,F,se){return ka(D,F)?Nc(D,F,se):Promise.resolve(null)}(this,Cn,Yn),300,5);const{slowClickTimeout:Le,slowClickIgnoreSelectors:It}=this.getOptions(),Qt=Le?{threshold:Math.min(3e3,Le),timeout:Le,scrollTimeout:300,ignoreSelector:It?It.join(","):""}:void 0;if(Qt&&(this.clickDetector=new I(this,Qt)),fe){const Cn=F._experiments;pt.setConfig({captureExceptions:!!Cn.captureExceptions,traceInternals:!!Cn.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(F){fe&&pt.exception(F)}initializeSampling(F){const{errorSampleRate:se,sessionSampleRate:Le}=this._options,It=se<=0&&Le<=0;if(this._requiresManualStart=It,!It){if(this._initializeSessionForSampling(F),!this.session)return void(fe&&pt.exception(new Error("Unable to initialize and create session")));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",fe&&pt.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(fe&&pt.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(fe&&pt.info("Buffering is in progress, call `flush()` to save the replay"));fe&&pt.infoTick("Starting replay in session mode"),this._updateUserActivity();const F=Uc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=F,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(fe&&pt.info("Buffering is in progress, call `flush()` to save the replay"));fe&&pt.infoTick("Starting replay in buffer mode");const F=Uc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=F,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const F=this._canvas;this._stopRecording=po({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Bf(this),onMutation:this._onMutationHandler,...F?{recordCanvas:F.recordCanvas,getCanvasManager:F.getCanvasManager,sampling:F.sampling,dataURLOptions:F.dataURLOptions}:{}})}catch(F){this.handleException(F)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(F){return this.handleException(F),!1}}stop({forceFlush:F=!1,reason:se}={}){var Le=this;return(0,h.A)(function*(){if(Le._isEnabled){Le._isEnabled=!1;try{fe&&pt.info("Stopping Replay"+(se?` triggered by ${se}`:"")),Le._removeListeners(),Le.stopRecording(),Le._debouncedFlush.cancel(),F&&(yield Le._flush({force:!0})),Le.eventBuffer&&Le.eventBuffer.destroy(),Le.eventBuffer=null,function un(D){(function li(){if(gt())try{me.sessionStorage.removeItem(Oe)}catch{}})(),D.session=void 0}(Le)}catch(It){Le.handleException(It)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),fe&&pt.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),fe&&pt.info("Resuming replay"))}sendBufferedReplayOrFlush({continueRecording:F=!0}={}){var se=this;return(0,h.A)(function*(){if("session"===se.recordingMode)return se.flushImmediate();const Le=Date.now();fe&&pt.info("Converting buffer to session"),yield se.flushImmediate();const It=se.stopRecording();!F||!It||"session"!==se.recordingMode&&(se.recordingMode="session",se.session&&(se._updateUserActivity(Le),se._updateSessionActivity(Le),se._maybeSaveSession()),se.startRecording())})()}addUpdate(F){const se=F();"buffer"!==this.recordingMode&&!0!==se&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Qo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const se=`${me.location.origin}${me.location.pathname}${me.location.hash}${me.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=se,this._context.initialTimestamp=Date.now(),this._context.urls.push(se)}throttledAddEvent(F,se){const Le=this._throttledAddEvent(F,se);if(Le===bi){const It=pi({category:"replay.throttled"});this.addUpdate(()=>!zc(this,{type:5,timestamp:It.timestamp||0,data:{tag:"breadcrumb",payload:It,metric:!0}}))}return Le}getCurrentRoute(){const F=this.lastActiveSpan||(0,q.Bk)(),se=F&&(0,q.zU)(F),It=(se&&(0,q.et)(se).data||{})[Z.i_];if(se&&It&&["route","custom"].includes(It))return(0,q.et)(se).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function ge({useCompression:D,workerUrl:F}){if(D&&window.Worker){const se=function Tt(D){try{const F=D||function Be(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function ca(){const D=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(D)}():""}();if(!F)return;fe&&pt.info("Using compression worker"+(D?` from ${D}`:""));const se=new Worker(F);return new oc(se)}catch(F){fe&&pt.exception(F,"Failed to create compression worker")}}(F);if(se)return se}return fe&&pt.info("Using simple buffer"),new xh}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(F){const Le=Uc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:F},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=Le}_checkSession(){if(!this.session)return!1;const F=this.session;return!_a(F,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(F),!1)}_refreshSession(F){var se=this;return(0,h.A)(function*(){se._isEnabled&&(yield se.stop({reason:"refresh session"}),se.initializeSampling(F.id))})()}_addListeners(){try{me.document.addEventListener("visibilitychange",this._handleVisibilityChange),me.addEventListener("blur",this._handleWindowBlur),me.addEventListener("focus",this._handleWindowFocus),me.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function Ep(D){const F=(0,C.KU)();(0,ce.i)((D=>F=>{if(!D.isEnabled())return;const se=function Ts(D){const{target:F,message:se}=function zs(D){const F="click"===D.name;let se,Le=null;try{Le=F?mr(D.event):Po(D.event),se=(0,Pe.Hd)(Le,{maxStringLength:200})||"<unknown>"}catch{se="<unknown>"}return{target:Le,message:se}}(D);return pi({category:`ui.${D.name}`,...Er(F,se)})}(F);if(!se)return;const Le="click"===F.name,It=Le?F.event:void 0;Le&&D.clickDetector&&It&&It.target&&!It.altKey&&!It.metaKey&&!It.ctrlKey&&!It.shiftKey&&function al(D,F,se){D.handleClick(F,se)}(D.clickDetector,se,mr(F.event)),ws(D,se)})(D)),(0,ve._)(function Hc(D){return F=>{if(!D.isEnabled())return;const se=function pu(D){const{from:F,to:se}=D,Le=Date.now()/1e3;return{type:"navigation.push",start:Le,end:Le,name:se,data:{previous:F}}}(F);null!==se&&(D.getContext().urls.push(se.name),D.triggerUserActivity(),D.addUpdate(()=>(zl(D,[se]),!1)))}}(D)),function Ma(D){const F=(0,C.KU)();F&&F.on("beforeAddBreadcrumb",se=>function Eh(D,F){if(!D.isEnabled()||!Wc(F))return;const se=function ac(D){return!Wc(D)||["fetch","xhr","sentry.event","sentry.transaction"].includes(D.category)||D.category.startsWith("ui.")?null:"console"===D.category?function el(D){const F=D.data&&D.data.arguments;if(!Array.isArray(F)||0===F.length)return pi(D);let se=!1;const Le=F.map(It=>{if(!It)return It;if("string"==typeof It)return It.length>5e3?(se=!0,`${It.slice(0,5e3)}\u2026`):It;if("object"==typeof It)try{const Qt=(0,ke.S8)(It,7);return JSON.stringify(Qt).length>5e3?(se=!0,`${JSON.stringify(Qt,null,2).slice(0,5e3)}\u2026`):Qt}catch{}return It});return pi({...D,data:{...D.data,arguments:Le,...se?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(D):pi(D)}(F);se&&ws(D,se)}(D,se))}(D),Vu(D);const se=function Is(D){return Object.assign((F,se)=>D.isEnabled()?function Ql(D){return"replay_event"===D.type}(F)?(delete F.breadcrumbs,F):(ua(F)||Aa(F)||ll(F))&&D.checkAndHandleExpiredSession()?ll(F)?(D.flush(),F.contexts.feedback.replay_id=D.getSessionId(),function Ch(D,F){D.triggerUserActivity(),D.addUpdate(()=>!F.timestamp||(D.throttledAddEvent({type:Xr.Custom,timestamp:1e3*F.timestamp,data:{tag:"breadcrumb",payload:{timestamp:F.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:F.event_id}}}}),!1))}(D,F),F):function iu(D,F){return!(D.type||!D.exception||!D.exception.values||!D.exception.values.length||!F.originalException||!F.originalException.__rrweb__)}(F,se)&&!D.getOptions()._experiments.captureExceptions?(fe&&pt.log("Ignoring error from rrweb internals",F),null):((function Eo(D,F){return!("buffer"!==D.recordingMode||F.message===Et||!F.exception||F.type)&&Si(D.getOptions().errorSampleRate)}(D,F)||"session"===D.recordingMode)&&(F.tags={...F.tags,replayId:D.getSessionId()}),F):F:F,{id:"Replay"})}(D);(0,S.SA)(se),F&&(F.on("beforeSendEvent",function jc(D){return F=>{!D.isEnabled()||!ua(F)||function Lu(D,F){const se=F.exception&&F.exception.values&&F.exception.values[0]&&F.exception.values[0].value;"string"==typeof se&&(se.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||se.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&ws(D,pi({category:"replay.hydrate-error",data:{url:(0,Pe.$N)()}}))}(D,F)}}(D)),F.on("afterSendEvent",function ko(D){return(F,se)=>{if(!D.isEnabled()||!ua(F)&&!Aa(F))return;const Le=se&&se.statusCode;if(!(!Le||Le<200||Le>=300)){if(Aa(F))return void function ku(D,F){const se=D.getContext();F.contexts&&F.contexts.trace&&F.contexts.trace.trace_id&&se.traceIds.size<100&&se.traceIds.add(F.contexts.trace.trace_id)}(D,F);!function Ao(D,F){const se=D.getContext();if(F.event_id&&se.errorIds.size<100&&se.errorIds.add(F.event_id),"buffer"!==D.recordingMode||!F.tags||!F.tags.replayId)return;const{beforeErrorSampling:Le}=D.getOptions();"function"==typeof Le&&!Le(F)||(0,St.wg)(()=>{D.sendBufferedReplayOrFlush()})}(D,F)}}}(D)),F.on("createDsc",Le=>{const It=D.getSessionId();It&&D.isEnabled()&&"session"===D.recordingMode&&D.checkAndHandleExpiredSession()&&(Le.replay_id=It)}),F.on("spanStart",Le=>{D.lastActiveSpan=Le}),F.on("spanEnd",Le=>{D.lastActiveSpan=Le}),F.on("beforeSendFeedback",(Le,It)=>{const Qt=D.getSessionId();It&&It.includeReplay&&D.isEnabled()&&Qt&&Le.contexts&&Le.contexts.feedback&&(Le.contexts.feedback.replay_id=Qt)}))}(this),this._hasInitializedCoreListeners=!0)}catch(F){this.handleException(F)}this._performanceCleanupCallback=function sc(D){function F(It){D.performanceEntries.includes(It)||D.performanceEntries.push(It)}function se({entries:It}){It.forEach(F)}const Le=[];return["navigation","paint","resource"].forEach(It=>{Le.push((0,$t.wv)(It,se))}),Le.push((0,$t.Pt)(Ga(Fu,D)),(0,$t.a9)(Ga(Ja,D)),(0,$t.T5)(Ga(Ia,D)),(0,$t.hT)(Ga(Ul,D))),()=>{Le.forEach(It=>It())}}(this)}_removeListeners(){try{me.document.removeEventListener("visibilitychange",this._handleVisibilityChange),me.removeEventListener("blur",this._handleWindowBlur),me.removeEventListener("focus",this._handleWindowFocus),me.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(F){this.handleException(F)}}__init(){this._handleVisibilityChange=()=>{"visible"===me.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const F=pi({category:"ui.blur"});this._doChangeToBackgroundTasks(F)}}__init3(){this._handleWindowFocus=()=>{const F=pi({category:"ui.focus"});this._doChangeToForegroundTasks(F)}}__init4(){this._handleKeyboardEvent=F=>{!function Cs(D,F){if(!D.isEnabled())return;D.updateUserActivity();const se=function qs(D){const{metaKey:F,shiftKey:se,ctrlKey:Le,altKey:It,key:Qt,target:Cn}=D;if(!Cn||function Ec(D){return"INPUT"===D.tagName||"TEXTAREA"===D.tagName||D.isContentEditable}(Cn)||!Qt)return null;if(!(F||Le||It)&&1===Qt.length)return null;const ti=(0,Pe.Hd)(Cn,{maxStringLength:200})||"<unknown>";return pi({category:"ui.keyDown",message:ti,data:{...Er(Cn,ti).data,metaKey:F,shiftKey:se,ctrlKey:Le,altKey:It,key:Qt}})}(F);se&&ws(D,se)}(this,F)}}_doChangeToBackgroundTasks(F){!this.session||mo(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(F&&this._createCustomBreadcrumb(F),this.conditionalFlush())}_doChangeToForegroundTasks(F){this.session&&(this.checkAndHandleExpiredSession()?F&&this._createCustomBreadcrumb(F):fe&&pt.info("Document has become active, but session has expired"))}_updateUserActivity(F=Date.now()){this._lastActivity=F}_updateSessionActivity(F=Date.now()){this.session&&(this.session.lastActivity=F,this._maybeSaveSession())}_createCustomBreadcrumb(F){this.addUpdate(()=>{this.throttledAddEvent({type:Xr.Custom,timestamp:F.timestamp||0,data:{tag:"breadcrumb",payload:F}})})}_addPerformanceEntries(){const F=function Io(D){return D.map(Tl).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(zl(this,F))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:F,eventBuffer:se}=this;if(!F||!se||this._requiresManualStart||F.segmentId)return;const Le=se.getEarliestTimestamp();Le&&Le<this._context.initialTimestamp&&(this._context.initialTimestamp=Le)}_popEventContext(){const F={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),F}_runFlush(){var F=this;return(0,h.A)(function*(){const se=F.getSessionId();if(F.session&&F.eventBuffer&&se){if(yield F._addPerformanceEntries(),F.eventBuffer&&F.eventBuffer.hasEvents&&(yield function rf(D){return _u.apply(this,arguments)}(F),F.eventBuffer&&se===F.getSessionId()))try{F._updateInitialTimestampFromEventBuffer();const Le=Date.now();if(Le-F._context.initialTimestamp>F._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const It=F._popEventContext(),Qt=F.session.segmentId++;F._maybeSaveSession();const Cn=yield F.eventBuffer.finish();yield zn({replayId:se,recordingData:Cn,segmentId:Qt,eventContext:It,session:F.session,options:F.getOptions(),timestamp:Le})}catch(Le){F.handleException(Le),F.stop({reason:"sendReplay"});const It=(0,C.KU)();It&&It.recordDroppedEvent("send_error","replay")}}else fe&&pt.error("No session or eventBuffer found to flush.")})()}__init5(){var F=this;this._flush=(0,h.A)(function*({force:se=!1}={}){if(!F._isEnabled&&!se)return;if(!F.checkAndHandleExpiredSession())return void(fe&&pt.error("Attempting to finish replay event after session expired."));if(!F.session)return;const Le=F.session.started,Qt=Date.now()-Le;F._debouncedFlush.cancel();const Cn=Qt<F._options.minReplayDuration;if(Cn||Qt>F._options.maxReplayDuration+5e3)return fe&&pt.info(`Session duration (${Math.floor(Qt/1e3)}s) is too ${Cn?"short":"long"}, not sending replay.`),void(Cn&&F._debouncedFlush());const Nn=F.eventBuffer;if(Nn&&0===F.session.segmentId&&!Nn.hasCheckout&&fe&&pt.info("Flushing initial segment without checkout."),!F._flushLock)return F._flushLock=F._runFlush(),yield F._flushLock,void(F._flushLock=void 0);try{yield F._flushLock}catch(ti){fe&&pt.error(ti)}finally{F._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&xo(this.session)}__init6(){this._onMutationHandler=F=>{const se=F.length,Le=this._options.mutationLimit,Qt=Le&&se>Le;if(se>this._options.mutationBreadcrumbLimit||Qt){const Cn=pi({category:"replay.mutations",data:{count:se,limit:Qt}});this._createCustomBreadcrumb(Cn)}return!Qt||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function _s(D,F){return[...D,...F].join(",")}const ru='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',vl=["content-length","content-type","accept"];let Zl=!1;const Pd=D=>new Gn(D);class Gn{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:F=5e3,flushMaxDelay:se=5500,minReplayDuration:Le=4999,maxReplayDuration:It=36e5,stickySession:Qt=!0,useCompression:Cn=!0,workerUrl:Yn,_experiments:Nn={},maskAllText:ti=!0,maskAllInputs:Ln=!0,blockAllMedia:ni=!0,mutationBreadcrumbLimit:wi=750,mutationLimit:sr=1e4,slowClickTimeout:nr=7e3,slowClickIgnoreSelectors:Dr=[],networkDetailAllowUrls:As=[],networkDetailDenyUrls:hr=[],networkCaptureBodies:us=!0,networkRequestHeaders:Co=[],networkResponseHeaders:wr=[],mask:ba=[],maskAttributes:$s=["title","placeholder"],unmask:Zr=[],block:fs=[],unblock:ja=[],ignore:ss=[],maskFn:Rs,beforeAddRecordingEvent:Lo,beforeErrorSampling:Ml}={}){this.name=Gn.id;const va=function Qr({mask:D,unmask:F,block:se,unblock:Le,ignore:It}){return{maskTextSelector:_s(D,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:_s(F,[]),blockSelector:_s(se,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:_s(Le,[]),ignoreSelector:_s(It,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:ba,unmask:Zr,block:fs,unblock:ja,ignore:ss});if(this._recordingOptions={maskAllInputs:Ln,maskAllText:ti,maskInputOptions:{password:!0},maskTextFn:Rs,maskInputFn:Rs,maskAttributeFn:(mc,Ws,Or)=>function Mo({el:D,key:F,maskAttributes:se,maskAllText:Le,privacyOptions:It,value:Qt}){return!Le||It.unmaskTextSelector&&D.matches(It.unmaskTextSelector)?Qt:se.includes(F)||"value"===F&&"INPUT"===D.tagName&&["submit","button"].includes(D.getAttribute("type")||"")?Qt.replace(/[\S]/g,"*"):Qt}({maskAttributes:$s,maskAllText:ti,privacyOptions:va,key:mc,value:Ws,el:Or}),...va,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:mc=>{try{mc.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:F,flushMaxDelay:se,minReplayDuration:Math.min(Le,15e3),maxReplayDuration:Math.min(It,36e5),stickySession:Qt,useCompression:Cn,workerUrl:Yn,blockAllMedia:ni,maskAllInputs:Ln,maskAllText:ti,mutationBreadcrumbLimit:wi,mutationLimit:sr,slowClickTimeout:nr,slowClickIgnoreSelectors:Dr,networkDetailAllowUrls:As,networkDetailDenyUrls:hr,networkCaptureBodies:us,networkRequestHeaders:cs(Co),networkResponseHeaders:cs(wr),beforeAddRecordingEvent:Lo,beforeErrorSampling:Ml,_experiments:Nn},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ru}`:ru),this._isInitialized&&bt())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Zl}set _isInitialized(F){Zl=F}afterAllSetup(F){!bt()||this._replay||(this._setup(F),this._initialize(F))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(F){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(F):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(F){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(F),this._replay.initializeSampling())}_setup(F){const se=function Sr(D,F){const se=F.getOptions(),Le={sessionSampleRate:0,errorSampleRate:0,...(0,Qe.Ce)(D)},It=(0,ee.i)(se.replaysSessionSampleRate),Qt=(0,ee.i)(se.replaysOnErrorSampleRate);return null==It&&null==Qt&&(0,Ee.pq)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=It&&(Le.sessionSampleRate=It),null!=Qt&&(Le.errorSampleRate=Qt),Le}(this._initialOptions,F);this._replay=new ls({options:se,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(F){try{const se=F.getIntegrationByName("ReplayCanvas");if(!se)return;this._replay._canvas=se.getOptions()}catch{}}}function cs(D){return[...vl,...D.map(F=>F.toLowerCase())]}Gn.__initStatic()},3890:(dn,Je,_)=>{"use strict";_.d(Je,{jP:()=>_u,dp:()=>Ep,JF:()=>Nd,Ts:()=>js});var h=_(1229),O=_(2849),E=_(1205),A=_(1582),S=_(6851),C=_(1772);const W=[];function N(pe){const k=pe.defaultIntegrations||[],Fe=pe.integrations;let _t;k.forEach(xn=>{xn.isDefaultInstance=!0}),_t=Array.isArray(Fe)?[...k,...Fe]:"function"==typeof Fe?(0,A.k9)(Fe(k)):k;const $e=function L(pe){const k={};return pe.forEach(Fe=>{const{name:_t}=Fe,$e=k[_t];$e&&!$e.isDefaultInstance&&Fe.isDefaultInstance||(k[_t]=Fe)}),Object.values(k)}(_t),en=$e.findIndex(xn=>"Debug"===xn.name);if(en>-1){const[xn]=$e.splice(en,1);$e.push(xn)}return $e}function re(pe,k){for(const Fe of k)Fe&&Fe.afterAllSetup&&Fe.afterAllSetup(pe)}function q(pe,k,Fe){if(Fe[k.name])C.T&&E.vF.log(`Integration skipped because it was already installed: ${k.name}`);else{if(Fe[k.name]=k,-1===W.indexOf(k.name)&&"function"==typeof k.setupOnce&&(k.setupOnce(),W.push(k.name)),k.setup&&"function"==typeof k.setup&&k.setup(pe),"function"==typeof k.preprocessEvent){const _t=k.preprocessEvent.bind(k);pe.on("preprocessEvent",($e,en)=>_t($e,en,pe))}if("function"==typeof k.processEvent){const _t=k.processEvent.bind(k),$e=Object.assign((en,xn)=>_t(en,xn,pe),{id:k.name});pe.addEventProcessor($e)}C.T&&E.vF.log(`Integration installed: ${k.name}`)}}const De=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Qe=(pe={})=>({name:"InboundFilters",processEvent(k,Fe,_t){const $e=_t.getOptions(),en=function Pe(pe={},k={}){return{allowUrls:[...pe.allowUrls||[],...k.allowUrls||[]],denyUrls:[...pe.denyUrls||[],...k.denyUrls||[]],ignoreErrors:[...pe.ignoreErrors||[],...k.ignoreErrors||[],...pe.disableErrorDefaults?[]:De],ignoreTransactions:[...pe.ignoreTransactions||[],...k.ignoreTransactions||[]],ignoreInternal:void 0===pe.ignoreInternal||pe.ignoreInternal}}(pe,$e);return function Ye(pe,k){return k.ignoreInternal&&function Q(pe){try{return"SentryError"===pe.exception.values[0].type}catch{}return!1}(pe)?(C.T&&E.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,A.$X)(pe)}`),!0):function Re(pe,k){return!(pe.type||!k||!k.length)&&function Xe(pe){const k=[];let Fe;pe.message&&k.push(pe.message);try{Fe=pe.exception.values[pe.exception.values.length-1]}catch{}return Fe&&Fe.value&&(k.push(Fe.value),Fe.type&&k.push(`${Fe.type}: ${Fe.value}`)),k}(pe).some(Fe=>(0,S.Xr)(Fe,k))}(pe,k.ignoreErrors)?(C.T&&E.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,A.$X)(pe)}`),!0):function ot(pe){return!(pe.type||!pe.exception||!pe.exception.values||0===pe.exception.values.length||pe.message||pe.exception.values.some(k=>k.stacktrace||k.type&&"Error"!==k.type||k.value))}(pe)?(C.T&&E.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${(0,A.$X)(pe)}`),!0):function nt(pe,k){if("transaction"!==pe.type||!k||!k.length)return!1;const Fe=pe.transaction;return!!Fe&&(0,S.Xr)(Fe,k)}(pe,k.ignoreTransactions)?(C.T&&E.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,A.$X)(pe)}`),!0):function Te(pe,k){if(!k||!k.length)return!1;const Fe=oe(pe);return!!Fe&&(0,S.Xr)(Fe,k)}(pe,k.denyUrls)?(C.T&&E.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,A.$X)(pe)}.\nUrl: ${oe(pe)}`),!0):!function je(pe,k){if(!k||!k.length)return!0;const Fe=oe(pe);return!Fe||(0,S.Xr)(Fe,k)}(pe,k.allowUrls)&&(C.T&&E.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,A.$X)(pe)}.\nUrl: ${oe(pe)}`),!0)}(k,en)?null:k}});function oe(pe){try{let k;try{k=pe.exception.values[0].stacktrace.frames}catch{}return k?function rt(pe=[]){for(let k=pe.length-1;k>=0;k--){const Fe=pe[k];if(Fe&&"<anonymous>"!==Fe.filename&&"[native code]"!==Fe.filename)return Fe.filename||null}return null}(k):null}catch{return C.T&&E.vF.error(`Cannot extract url for event ${(0,A.$X)(pe)}`),null}}var bt=_(7593);let Nt;const $t=new WeakMap,ce=()=>({name:"FunctionToString",setupOnce(){Nt=Function.prototype.toString;try{Function.prototype.toString=function(...pe){const k=(0,bt.sp)(this),Fe=$t.has((0,O.KU)())&&void 0!==k?k:this;return Nt.apply(Fe,pe)}}catch{}},setup(pe){$t.set(pe,!0)}});var ve=_(3439);const At=()=>{let pe;return{name:"Dedupe",processEvent(k){if(k.type)return k;try{if(function Et(pe,k){return!(!k||!function En(pe,k){const Fe=pe.message,_t=k.message;return!(!Fe&&!_t||Fe&&!_t||!Fe&&_t||Fe!==_t||!nn(pe,k)||!kn(pe,k))}(pe,k)&&!function Me(pe,k){const Fe=Ot(k),_t=Ot(pe);return!!(Fe&&_t&&Fe.type===_t.type&&Fe.value===_t.value&&nn(pe,k)&&kn(pe,k))}(pe,k))}(k,pe))return C.T&&E.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return pe=k}}};function kn(pe,k){let Fe=(0,ve.RV)(pe),_t=(0,ve.RV)(k);if(!Fe&&!_t)return!0;if(Fe&&!_t||!Fe&&_t||_t.length!==Fe.length)return!1;for(let $e=0;$e<_t.length;$e++){const en=_t[$e],xn=Fe[$e];if(en.filename!==xn.filename||en.lineno!==xn.lineno||en.colno!==xn.colno||en.function!==xn.function)return!1}return!0}function nn(pe,k){let Fe=pe.fingerprint,_t=k.fingerprint;if(!Fe&&!_t)return!0;if(Fe&&!_t||!Fe&&_t)return!1;try{return Fe.join("")===_t.join("")}catch{return!1}}function Ot(pe){return pe.exception&&pe.exception.values&&pe.exception.values[0]}var Ae=_(3977);function vt(pe){return`${pe.protocol?`${pe.protocol}:`:""}//${pe.host}${pe.port?`:${pe.port}`:""}${pe.path?`/${pe.path}`:""}/api/`}var vn=_(774),wn=_(1100),on=_(1362),sn=_(5612),de=_(7138);class tt extends Error{constructor(k,Fe="warn"){super(k),this.message=k,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Fe}}var _e=_(8423),rn=_(8492),fn=_(8165),wt=_(898),Ht=_(4707),Bt=_(1995);const An="Not capturing exception because it's already been captured.";class Xn{constructor(k){if(this._options=k,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],k.dsn?this._dsn=(0,Ae.AD)(k.dsn):C.T&&E.vF.warn("No DSN provided, client will not send events."),this._dsn){const Fe=function yt(pe,k,Fe){return k||`${function an(pe){return`${vt(pe)}${pe.projectId}/envelope/`}(pe)}?${function Pt(pe,k){return(0,bt.u4)({sentry_key:pe.publicKey,sentry_version:"7",...k&&{sentry_client:`${k.name}/${k.version}`}})}(pe,Fe)}`}(this._dsn,k.tunnel,k._metadata?k._metadata.sdk:void 0);this._transport=k.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...k.transportOptions,url:Fe})}}captureException(k,Fe,_t){const $e=(0,A.eJ)();if((0,A.GR)(k))return C.T&&E.vF.log(An),$e;const en={event_id:$e,...Fe};return this._process(this.eventFromException(k,en).then(xn=>this._captureEvent(xn,en,_t))),en.event_id}captureMessage(k,Fe,_t,$e){const en={event_id:(0,A.eJ)(),..._t},xn=(0,on.NF)(k)?k:String(k),zn=(0,on.sO)(k)?this.eventFromMessage(xn,Fe,en):this.eventFromException(k,en);return this._process(zn.then(gi=>this._captureEvent(gi,en,$e))),en.event_id}captureEvent(k,Fe,_t){const $e=(0,A.eJ)();if(Fe&&Fe.originalException&&(0,A.GR)(Fe.originalException))return C.T&&E.vF.log(An),$e;const en={event_id:$e,...Fe};return this._process(this._captureEvent(k,en,(k.sdkProcessingMetadata||{}).capturedSpanScope||_t)),en.event_id}captureSession(k){"string"!=typeof k.release?C.T&&E.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(k),(0,wt.qO)(k,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(k){const Fe=this._transport;return Fe?(this.emit("flush"),this._isClientDoneProcessing(k).then(_t=>Fe.flush(k).then($e=>_t&&$e))):(0,sn.XW)(!0)}close(k){return this.flush(k).then(Fe=>(this.getOptions().enabled=!1,this.emit("close"),Fe))}getEventProcessors(){return this._eventProcessors}addEventProcessor(k){this._eventProcessors.push(k)}init(){(this._isEnabled()||this._options.integrations.some(({name:k})=>k.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(k){return this._integrations[k]}addIntegration(k){const Fe=this._integrations[k.name];q(this,k,this._integrations),Fe||re(this,[k])}sendEvent(k,Fe={}){this.emit("beforeSendEvent",k,Fe);let _t=function mn(pe,k,Fe,_t){const $e=(0,de.Cj)(Fe),en=pe.type&&"replay_event"!==pe.type?pe.type:"event";!function ci(pe,k){k&&(pe.sdk=pe.sdk||{},pe.sdk.name=pe.sdk.name||k.name,pe.sdk.version=pe.sdk.version||k.version,pe.sdk.integrations=[...pe.sdk.integrations||[],...k.integrations||[]],pe.sdk.packages=[...pe.sdk.packages||[],...k.packages||[]])}(pe,Fe&&Fe.sdk);const xn=(0,de.n2)(pe,$e,_t,k);return delete pe.sdkProcessingMetadata,(0,de.h4)(xn,[[{type:en},pe]])}(k,this._dsn,this._options._metadata,this._options.tunnel);for(const en of Fe.attachments||[])_t=(0,de.W3)(_t,(0,de.bm)(en));const $e=this.sendEnvelope(_t);$e&&$e.then(en=>this.emit("afterSendEvent",k,en),null)}sendSession(k){const Fe=function $i(pe,k,Fe,_t){const $e=(0,de.Cj)(Fe),en={sent_at:(new Date).toISOString(),...$e&&{sdk:$e},...!!_t&&k&&{dsn:(0,Ae.SB)(k)}},xn="aggregates"in pe?[{type:"sessions"},pe]:[{type:"session"},pe.toJSON()];return(0,de.h4)(en,[xn])}(k,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(Fe)}recordDroppedEvent(k,Fe,_t){if(this._options.sendClientReports){const $e="number"==typeof _t?_t:1,en=`${k}:${Fe}`;C.T&&E.vF.log(`Recording outcome: "${en}"${$e>1?` (${$e} times)`:""}`),this._outcomes[en]=(this._outcomes[en]||0)+$e}}on(k,Fe){const _t=this._hooks[k]=this._hooks[k]||[];return _t.push(Fe),()=>{const $e=_t.indexOf(Fe);$e>-1&&_t.splice($e,1)}}emit(k,...Fe){const _t=this._hooks[k];_t&&_t.forEach($e=>$e(...Fe))}sendEnvelope(k){return this.emit("beforeEnvelope",k),this._isEnabled()&&this._transport?this._transport.send(k).then(null,Fe=>(C.T&&E.vF.error("Error while sending event:",Fe),Fe)):(C.T&&E.vF.error("Transport disabled"),(0,sn.XW)({}))}_setupIntegrations(){const{integrations:k}=this._options;this._integrations=function z(pe,k){const Fe={};return k.forEach(_t=>{_t&&q(pe,_t,Fe)}),Fe}(this,k),re(this,k)}_updateSessionFromEvent(k,Fe){let _t=!1,$e=!1;const en=Fe.exception&&Fe.exception.values;if(en){$e=!0;for(const gi of en){const bi=gi.mechanism;if(bi&&!1===bi.handled){_t=!0;break}}}const xn="ok"===k.status;(xn&&0===k.errors||xn&&_t)&&((0,wt.qO)(k,{..._t&&{status:"crashed"},errors:k.errors||Number($e||_t)}),this.captureSession(k))}_isClientDoneProcessing(k){return new sn.T2(Fe=>{let _t=0;const en=setInterval(()=>{0==this._numProcessing?(clearInterval(en),Fe(!0)):(_t+=1,k&&_t>=k&&(clearInterval(en),Fe(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(k,Fe,_t,$e=(0,O.rm)()){const en=this.getOptions(),xn=Object.keys(this._integrations);return!Fe.integrations&&xn.length>0&&(Fe.integrations=xn),this.emit("preprocessEvent",k,Fe),k.type||$e.setLastEventId(k.event_id||Fe.event_id),(0,Bt.mG)(en,k,Fe,_t,this,$e).then(zn=>{if(null===zn)return zn;const gi={...$e.getPropagationContext(),..._t?_t.getPropagationContext():void 0};if((!zn.contexts||!zn.contexts.trace)&&gi){const{traceId:ki,spanId:Xi,parentSpanId:ls,dsc:_s}=gi;zn.contexts={trace:(0,bt.Ce)({trace_id:ki,span_id:Xi,parent_span_id:ls}),...zn.contexts};const Qr=_s||(0,rn.lF)(ki,this);zn.sdkProcessingMetadata={dynamicSamplingContext:Qr,...zn.sdkProcessingMetadata}}return zn})}_captureEvent(k,Fe={},_t){return this._processEvent(k,Fe,_t).then($e=>$e.event_id,$e=>{if(C.T){const en=$e;"log"===en.logLevel?E.vF.log(en.message):E.vF.warn(en)}})}_processEvent(k,Fe,_t){const $e=this.getOptions(),{sampleRate:en}=$e,xn=Pn(k),zn=ui(k),gi=k.type||"error",bi=`before send for type \`${gi}\``,ki=typeof en>"u"?void 0:(0,Ht.i)(en);if(zn&&"number"==typeof ki&&Math.random()>ki)return this.recordDroppedEvent("sample_rate","error",k),(0,sn.xg)(new tt(`Discarding event because it's not included in the random sample (sampling rate = ${en})`,"log"));const Xi="replay_event"===gi?"replay":gi;return this._prepareEvent(k,Fe,_t,(k.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(Qr=>{if(null===Qr)throw this.recordDroppedEvent("event_processor",Xi,k),new tt("An event processor returned `null`, will not send event.","log");if(Fe.data&&!0===Fe.data.__sentry__)return Qr;const ru=function Vn(pe,k,Fe,_t){const{beforeSend:$e,beforeSendTransaction:en,beforeSendSpan:xn}=k;if(ui(Fe)&&$e)return $e(Fe,_t);if(Pn(Fe)){if(Fe.spans&&xn){const zn=[];for(const gi of Fe.spans){const bi=xn(gi);bi?zn.push(bi):pe.recordDroppedEvent("before_send","span")}Fe.spans=zn}if(en)return Fe.spans&&(Fe.sdkProcessingMetadata={...Fe.sdkProcessingMetadata,spanCountBeforeProcessing:Fe.spans.length}),en(Fe,_t)}return Fe}(this,$e,Qr,Fe);return function zi(pe,k){const Fe=`${k} must return \`null\` or a valid event.`;if((0,on.Qg)(pe))return pe.then(_t=>{if(!(0,on.Qd)(_t)&&null!==_t)throw new tt(Fe);return _t},_t=>{throw new tt(`${k} rejected with ${_t}`)});if(!(0,on.Qd)(pe)&&null!==pe)throw new tt(Fe);return pe}(ru,bi)}).then(Qr=>{if(null===Qr)throw this.recordDroppedEvent("before_send",Xi,k),xn&&this.recordDroppedEvent("before_send","span",1+(k.spans||[]).length),new tt(`${bi} returned \`null\`, will not send event.`,"log");const Mo=_t&&_t.getSession();if(!xn&&Mo&&this._updateSessionFromEvent(Mo,Qr),xn){const Pd=(Qr.sdkProcessingMetadata&&Qr.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(Qr.spans?Qr.spans.length:0);Pd>0&&this.recordDroppedEvent("before_send","span",Pd)}const ru=Qr.transaction_info;if(xn&&ru&&Qr.transaction!==k.transaction){const vl="custom";Qr.transaction_info={...ru,source:vl}}return this.sendEvent(Qr,Fe),Qr}).then(null,Qr=>{throw Qr instanceof tt?Qr:(this.captureException(Qr,{data:{__sentry__:!0},originalException:Qr}),new tt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${Qr}`))})}_process(k){this._numProcessing++,k.then(Fe=>(this._numProcessing--,Fe),Fe=>(this._numProcessing--,Fe))}_clearOutcomes(){const k=this._outcomes;return this._outcomes={},Object.entries(k).map(([Fe,_t])=>{const[$e,en]=Fe.split(":");return{reason:$e,category:en,quantity:_t}})}_flushOutcomes(){C.T&&E.vF.log("Flushing outcomes...");const k=this._clearOutcomes();if(0===k.length)return void(C.T&&E.vF.log("No outcomes to send"));if(!this._dsn)return void(C.T&&E.vF.log("No dsn provided, will not send outcomes"));C.T&&E.vF.log("Sending outcomes:",k);const Fe=function ut(pe,k,Fe){const _t=[{type:"client_report"},{timestamp:Fe||(0,_e.lu)(),discarded_events:pe}];return(0,de.h4)(k?{dsn:k}:{},[_t])}(k,this._options.tunnel&&(0,Ae.SB)(this._dsn));this.sendEnvelope(Fe)}}function ui(pe){return void 0===pe.type}function Pn(pe){return"transaction"===pe.type}var oi=_(3408);function jt(pe,k,Fe=[k],_t="npm"){const $e=pe._metadata||{};$e.sdk||($e.sdk={name:`sentry.javascript.${k}`,packages:Fe.map(en=>({name:`${_t}:@sentry/${en}`,version:oi.M})),version:oi.M}),pe._metadata=$e}var xt=_(679);const qt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Lt=_(6362);function Kt(pe,k){const Fe=dt(pe,k),_t={type:k&&k.name,value:Se(k)};return Fe.length&&(_t.stacktrace={frames:Fe}),void 0===_t.type&&""===_t.value&&(_t.value="Unrecoverable error caught"),_t}function Un(pe,k){return{exception:{values:[Kt(pe,k)]}}}function dt(pe,k){const Fe=k.stacktrace||k.stack||"",_t=function Ne(pe){return pe&&we.test(pe.message)?1:0}(k),$e=function U(pe){return"number"==typeof pe.framesToPop?pe.framesToPop:0}(k);try{return pe(Fe,_t,$e)}catch{}return[]}const we=/Minified React error #\d+;/i;function Se(pe){const k=pe&&pe.message;return k?k.error&&"string"==typeof k.error.message?k.error.message:k:"No error message"}function Ze(pe,k,Fe,_t,$e){let en;if((0,on.T2)(k)&&k.error)return Un(pe,k.error);if((0,on.BD)(k)||(0,on.W6)(k)){const xn=k;if("stack"in k)en=Un(pe,k);else{const zn=xn.name||((0,on.BD)(xn)?"DOMError":"DOMException"),gi=xn.message?`${zn}: ${xn.message}`:zn;en=Mt(pe,gi,Fe,_t),(0,A.gO)(en,gi)}return"code"in xn&&(en.tags={...en.tags,"DOMException.code":`${xn.code}`}),en}return(0,on.bJ)(k)?Un(pe,k):(0,on.Qd)(k)||(0,on.xH)(k)?(en=function Rn(pe,k,Fe,_t){const $e=(0,O.KU)(),en=$e&&$e.getOptions().normalizeDepth,xn=function Jn(pe){for(const k in pe)if(Object.prototype.hasOwnProperty.call(pe,k)){const Fe=pe[k];if(Fe instanceof Error)return Fe}}(k),zn={__serialized__:(0,Lt.cd)(k,en)};if(xn)return{exception:{values:[Kt(pe,xn)]},extra:zn};const gi={exception:{values:[{type:(0,on.xH)(k)?k.constructor.name:_t?"UnhandledRejection":"Error",value:hn(k,{isUnhandledRejection:_t})}]},extra:zn};if(Fe){const bi=dt(pe,Fe);bi.length&&(gi.exception.values[0].stacktrace={frames:bi})}return gi}(pe,k,Fe,$e),(0,A.M6)(en,{synthetic:!0}),en):(en=Mt(pe,k,Fe,_t),(0,A.gO)(en,`${k}`,void 0),(0,A.M6)(en,{synthetic:!0}),en)}function Mt(pe,k,Fe,_t){const $e={};if(_t&&Fe){const en=dt(pe,Fe);en.length&&($e.exception={values:[{value:k,stacktrace:{frames:en}}]})}if((0,on.NF)(k)){const{__sentry_template_string__:en,__sentry_template_values__:xn}=k;return $e.logentry={message:en,params:xn},$e}return $e.message=k,$e}function hn(pe,{isUnhandledRejection:k}){const Fe=(0,bt.HF)(pe),_t=k?"promise rejection":"exception";return(0,on.T2)(pe)?`Event \`ErrorEvent\` captured as ${_t} with message \`${pe.message}\``:(0,on.xH)(pe)?`Event \`${function Kn(pe){try{const k=Object.getPrototypeOf(pe);return k?k.constructor.name:void 0}catch{}}(pe)}\` (type=${pe.type}) captured as ${_t}`:`Object captured as ${_t} with keys: ${Fe}`}var Bi=_(2031);const di=Bi.O;let Qi=0;function br(){return Qi>0}function Hi(pe,k={},Fe){if("function"!=typeof pe)return pe;try{const $e=pe.__sentry_wrapped__;if($e)return $e;if((0,bt.sp)(pe))return pe}catch{return pe}const _t=function(){const $e=Array.prototype.slice.call(arguments);try{Fe&&"function"==typeof Fe&&Fe.apply(this,arguments);const en=$e.map(xn=>Hi(xn,k));return pe.apply(this,en)}catch(en){throw function Tr(){Qi++,setTimeout(()=>{Qi--})}(),(0,O.v4)(xn=>{xn.addEventProcessor(zn=>(k.mechanism&&((0,A.gO)(zn,void 0,void 0),(0,A.M6)(zn,k.mechanism)),zn.extra={...zn.extra,arguments:$e},zn)),(0,h.Cp)(en)}),en}};try{for(const $e in pe)Object.prototype.hasOwnProperty.call(pe,$e)&&(_t[$e]=pe[$e])}catch{}(0,bt.pO)(_t,pe),(0,bt.my)(pe,"__sentry_wrapped__",_t);try{Object.getOwnPropertyDescriptor(_t,"name").configurable&&Object.defineProperty(_t,"name",{get:()=>pe.name})}catch{}return _t}class ts extends Xn{constructor(k){const Fe={parentSpanIsAlwaysRootSpan:!0,...k};jt(Fe,"browser",["browser"],di.SENTRY_SDK_SOURCE||(0,xt.e)()),super(Fe),Fe.sendClientReports&&di.document&&di.document.addEventListener("visibilitychange",()=>{"hidden"===di.document.visibilityState&&this._flushOutcomes()})}eventFromException(k,Fe){return function be(pe,k,Fe,_t){const en=Ze(pe,k,Fe&&Fe.syntheticException||void 0,_t);return(0,A.M6)(en),en.level="error",Fe&&Fe.event_id&&(en.event_id=Fe.event_id),(0,sn.XW)(en)}(this._options.stackParser,k,Fe,this._options.attachStacktrace)}eventFromMessage(k,Fe="info",_t){return function ct(pe,k,Fe="info",_t,$e){const xn=Mt(pe,k,_t&&_t.syntheticException||void 0,$e);return xn.level=Fe,_t&&_t.event_id&&(xn.event_id=_t.event_id),(0,sn.XW)(xn)}(this._options.stackParser,k,Fe,_t,this._options.attachStacktrace)}captureUserFeedback(k){if(!this._isEnabled())return void(qt&&E.vF.warn("SDK not enabled, will not capture user feedback."));const Fe=function xr(pe,{metadata:k,tunnel:Fe,dsn:_t}){const $e={event_id:pe.event_id,sent_at:(new Date).toISOString(),...k&&k.sdk&&{sdk:{name:k.sdk.name,version:k.sdk.version}},...!!Fe&&!!_t&&{dsn:(0,Ae.SB)(_t)}},en=function as(pe){return[{type:"user_report"},pe]}(pe);return(0,de.h4)($e,[en])}(k,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(Fe)}_prepareEvent(k,Fe,_t){return k.platform=k.platform||"javascript",super._prepareEvent(k,Fe,_t)}}var bs=_(8283),Os=_(4097),ds=_(7376),lr=_(5027);function vr(){"console"in Bi.O&&E.Ow.forEach(function(pe){pe in Bi.O.console&&(0,bt.GS)(Bi.O.console,pe,function(k){return E.Z9[pe]=k,function(...Fe){(0,lr.aj)("console",{args:Fe,level:pe});const $e=E.Z9[pe];$e&&$e.apply(Bi.O.console,Fe)}})})}var tr=_(9204);function xi(pe,k){(0,lr.s5)("fetch",pe),(0,lr.AS)("fetch",()=>Rt(void 0,k))}function Rt(pe,k=!1){k&&!(0,vn.m7)()||(0,bt.GS)(Bi.O,"fetch",function(Fe){return function(..._t){const{method:$e,url:en}=function Zi(pe){if(0===pe.length)return{method:"GET",url:""};if(2===pe.length){const[Fe,_t]=pe;return{url:mi(Fe),method:Vt(_t,"method")?String(_t.method).toUpperCase():"GET"}}const k=pe[0];return{url:mi(k),method:Vt(k,"method")?String(k.method).toUpperCase():"GET"}}(_t),xn={args:_t,fetchData:{method:$e,url:en},startTimestamp:1e3*(0,_e.zf)()};pe||(0,lr.aj)("fetch",{...xn});const zn=(new Error).stack;return Fe.apply(Bi.O,_t).then(function(){var gi=(0,tr.A)(function*(bi){return pe?pe(bi):(0,lr.aj)("fetch",{...xn,endTimestamp:1e3*(0,_e.zf)(),response:bi}),bi});return function(bi){return gi.apply(this,arguments)}}(),gi=>{throw(0,lr.aj)("fetch",{...xn,endTimestamp:1e3*(0,_e.zf)(),error:gi}),(0,on.bJ)(gi)&&void 0===gi.stack&&(gi.stack=zn,(0,bt.my)(gi,"framesToPop",1)),gi})}})}function Ke(){return Ke=(0,tr.A)(function*(pe,k){if(pe&&pe.body&&pe.body.getReader){let _t=function(en){return $e.apply(this,arguments)},$e=function(){return $e=(0,tr.A)(function*({done:en}){if(en)return Promise.resolve();try{const xn=yield Promise.race([Fe.read(),new Promise(zn=>{setTimeout(()=>{zn({done:!0})},5e3)})]);yield _t(xn)}catch{}}),$e.apply(this,arguments)};const Fe=pe.body.getReader();return Fe.read().then(_t).then(k).catch(()=>{})}}),Ke.apply(this,arguments)}function ze(pe){return kt.apply(this,arguments)}function kt(){return kt=(0,tr.A)(function*(pe){let k;try{k=pe.clone()}catch{return}yield function H(pe,k){return Ke.apply(this,arguments)}(k,()=>{(0,lr.aj)("fetch-body-resolved",{endTimestamp:1e3*(0,_e.zf)(),response:pe})})}),kt.apply(this,arguments)}function Vt(pe,k){return!!pe&&"object"==typeof pe&&!!pe[k]}function mi(pe){return"string"==typeof pe?pe:pe?Vt(pe,"url")?pe.url:pe.toString?pe.toString():"":""}var cr=_(4440);const ns=["fatal","error","warning","log","info","debug"];function Jr(pe){return"warn"===pe?"warning":ns.includes(pe)?pe:"log"}function is(pe){if(!pe)return{};const k=pe.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!k)return{};const Fe=k[6]||"",_t=k[8]||"";return{host:k[4],path:k[5],protocol:k[2],search:Fe,hash:_t,relative:k[5]+Fe+_t}}const Ur=(pe={})=>{const k={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...pe};return{name:"Breadcrumbs",setup(Fe){k.console&&function Ir(pe){const k="console";(0,lr.s5)(k,pe),(0,lr.AS)(k,vr)}(function Ko(pe){return function(Fe){if((0,O.KU)()!==pe)return;const _t={category:"console",data:{arguments:Fe.args,logger:"console"},level:Jr(Fe.level),message:(0,S.gt)(Fe.args," ")};if("assert"===Fe.level){if(!1!==Fe.args[0])return;_t.message=`Assertion failed: ${(0,S.gt)(Fe.args.slice(1)," ")||"console.assert"}`,_t.data.arguments=Fe.args.slice(1)}(0,ds.Z)(_t,{input:Fe.args,level:Fe.level})}}(Fe)),k.dom&&(0,bs.i)(function wo(pe,k){return function(_t){if((0,O.KU)()!==pe)return;let $e,en,xn="object"==typeof k?k.serializeAttribute:void 0,zn="object"==typeof k&&"number"==typeof k.maxStringLength?k.maxStringLength:void 0;zn&&zn>1024&&(qt&&E.vF.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${zn} was configured. Sentry will use 1024 instead.`),zn=1024),"string"==typeof xn&&(xn=[xn]);try{const bi=_t.event,ki=function Jo(pe){return!!pe&&!!pe.target}(bi)?bi.target:bi;$e=(0,cr.Hd)(ki,{keyAttrs:xn,maxStringLength:zn}),en=(0,cr.xE)(ki)}catch{$e="<unknown>"}if(0===$e.length)return;const gi={category:`ui.${_t.name}`,message:$e};en&&(gi.data={"ui.component_name":en}),(0,ds.Z)(gi,{event:_t.event,name:_t.name,global:_t.global})}}(Fe,k.dom)),k.xhr&&(0,Os.Mn)(function rl(pe){return function(Fe){if((0,O.KU)()!==pe)return;const{startTimestamp:_t,endTimestamp:$e}=Fe,en=Fe.xhr[Os.Er];if(!_t||!$e||!en)return;const{method:xn,url:zn,status_code:gi,body:bi}=en;(0,ds.Z)({category:"xhr",data:{method:xn,url:zn,status_code:gi},type:"http"},{xhr:Fe.xhr,input:bi,startTimestamp:_t,endTimestamp:$e})}}(Fe)),k.fetch&&xi(function $a(pe){return function(Fe){if((0,O.KU)()!==pe)return;const{startTimestamp:_t,endTimestamp:$e}=Fe;if($e&&(!Fe.fetchData.url.match(/sentry_key/)||"POST"!==Fe.fetchData.method))if(Fe.error)(0,ds.Z)({category:"fetch",data:Fe.fetchData,level:"error",type:"http"},{data:Fe.error,input:Fe.args,startTimestamp:_t,endTimestamp:$e});else{const en=Fe.response,xn={...Fe.fetchData,status_code:en&&en.status};(0,ds.Z)({category:"fetch",data:xn,type:"http"},{input:Fe.args,response:en,startTimestamp:_t,endTimestamp:$e})}}}(Fe)),k.history&&(0,wn._)(function qa(pe){return function(Fe){if((0,O.KU)()!==pe)return;let _t=Fe.from,$e=Fe.to;const en=is(di.location.href);let xn=_t?is(_t):void 0;const zn=is($e);(!xn||!xn.path)&&(xn=en),en.protocol===zn.protocol&&en.host===zn.host&&($e=zn.relative),en.protocol===xn.protocol&&en.host===xn.host&&(_t=xn.relative),(0,ds.Z)({category:"navigation",data:{from:_t,to:$e}})}}(Fe)),k.sentry&&Fe.on("beforeSendEvent",function Go(pe){return function(Fe){(0,O.KU)()===pe&&(0,ds.Z)({category:"sentry."+("transaction"===Fe.type?"transaction":"event"),event_id:Fe.event_id,level:Fe.level,message:(0,A.$X)(Fe)},{event:Fe})}}(Fe))}}},co=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],aa=(pe={})=>{const k={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...pe};return{name:"BrowserApiErrors",setupOnce(){k.setTimeout&&(0,bt.GS)(di,"setTimeout",ra),k.setInterval&&(0,bt.GS)(di,"setInterval",ra),k.requestAnimationFrame&&(0,bt.GS)(di,"requestAnimationFrame",xa),k.XMLHttpRequest&&"XMLHttpRequest"in di&&(0,bt.GS)(XMLHttpRequest.prototype,"send",Kl);const Fe=k.eventTarget;Fe&&(Array.isArray(Fe)?Fe:co).forEach(Ea)}}};function ra(pe){return function(...k){return k[0]=Hi(k[0],{mechanism:{data:{function:(0,ve.qQ)(pe)},handled:!1,type:"instrument"}}),pe.apply(this,k)}}function xa(pe){return function(k){return pe.apply(this,[Hi(k,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,ve.qQ)(pe)},handled:!1,type:"instrument"}})])}}function Kl(pe){return function(...k){const Fe=this;return["onload","onerror","onprogress","onreadystatechange"].forEach($e=>{$e in Fe&&"function"==typeof Fe[$e]&&(0,bt.GS)(Fe,$e,function(en){const xn={mechanism:{data:{function:$e,handler:(0,ve.qQ)(en)},handled:!1,type:"instrument"}},zn=(0,bt.sp)(en);return zn&&(xn.mechanism.data.handler=(0,ve.qQ)(zn)),Hi(en,xn)})}),pe.apply(this,k)}}function Ea(pe){const Fe=di[pe]&&di[pe].prototype;!Fe||!Fe.hasOwnProperty||!Fe.hasOwnProperty("addEventListener")||((0,bt.GS)(Fe,"addEventListener",function(_t){return function($e,en,xn){try{"function"==typeof en.handleEvent&&(en.handleEvent=Hi(en.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,ve.qQ)(en),target:pe},handled:!1,type:"instrument"}}))}catch{}return _t.apply(this,[$e,Hi(en,{mechanism:{data:{function:"addEventListener",handler:(0,ve.qQ)(en),target:pe},handled:!1,type:"instrument"}}),xn])}}),(0,bt.GS)(Fe,"removeEventListener",function(_t){return function($e,en,xn){const zn=en;try{const gi=zn&&zn.__sentry_wrapped__;gi&&_t.call(this,$e,gi,xn)}catch{}return _t.call(this,$e,zn,xn)}}))}let Va=null;function Xr(pe){const k="error";(0,lr.s5)(k,pe),(0,lr.AS)(k,Rr)}function Rr(){Va=Bi.O.onerror,Bi.O.onerror=function(pe,k,Fe,_t,$e){return(0,lr.aj)("error",{column:_t,error:$e,line:Fe,msg:pe,url:k}),!(!Va||Va.__SENTRY_LOADER__)&&Va.apply(this,arguments)},Bi.O.onerror.__SENTRY_INSTRUMENTED__=!0}let uo=null;function Zs(pe){const k="unhandledrejection";(0,lr.s5)(k,pe),(0,lr.AS)(k,Vl)}function Vl(){uo=Bi.O.onunhandledrejection,Bi.O.onunhandledrejection=function(pe){return(0,lr.aj)("unhandledrejection",pe),!(uo&&!uo.__SENTRY_LOADER__)||uo.apply(this,arguments)},Bi.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Wt=(pe={})=>{const k={onerror:!0,onunhandledrejection:!0,...pe};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(Fe){k.onerror&&(function In(pe){Xr(k=>{const{stackParser:Fe,attachStacktrace:_t}=Vs();if((0,O.KU)()!==pe||br())return;const{msg:$e,url:en,line:xn,column:zn,error:gi}=k,bi=function Wr(pe,k,Fe,_t){const $e=pe.exception=pe.exception||{},en=$e.values=$e.values||[],xn=en[0]=en[0]||{},zn=xn.stacktrace=xn.stacktrace||{},gi=zn.frames=zn.frames||[],bi=isNaN(parseInt(_t,10))?void 0:_t,ki=isNaN(parseInt(Fe,10))?void 0:Fe,Xi=(0,on.Kg)(k)&&k.length>0?k:(0,cr.$N)();return 0===gi.length&&gi.push({colno:bi,filename:Xi,function:ve.yF,in_app:!0,lineno:ki}),pe}(Ze(Fe,gi||$e,void 0,_t,!1),en,xn,zn);bi.level="error",(0,h.r)(bi,{originalException:gi,mechanism:{handled:!1,type:"onerror"}})})}(Fe),hs("onerror")),k.onunhandledrejection&&(function fi(pe){Zs(k=>{const{stackParser:Fe,attachStacktrace:_t}=Vs();if((0,O.KU)()!==pe||br())return;const $e=function Nr(pe){if((0,on.sO)(pe))return pe;try{if("reason"in pe)return pe.reason;if("detail"in pe&&"reason"in pe.detail)return pe.detail.reason}catch{}return pe}(k),en=(0,on.sO)($e)?function dr(pe){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(pe)}`}]}}}($e):Ze(Fe,$e,void 0,_t,!0);en.level="error",(0,h.r)(en,{originalException:$e,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(Fe),hs("onunhandledrejection"))}}};function hs(pe){qt&&E.vF.log(`Global Handler attached: ${pe}`)}function Vs(){const pe=(0,O.KU)();return pe&&pe.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Ms=()=>({name:"HttpContext",preprocessEvent(pe){if(!di.navigator&&!di.location&&!di.document)return;const k=pe.request&&pe.request.url||di.location&&di.location.href,{referrer:Fe}=di.document||{},{userAgent:_t}=di.navigator||{},$e={...pe.request&&pe.request.headers,...Fe&&{Referer:Fe},..._t&&{"User-Agent":_t}},en={...pe.request,...k&&{url:k},headers:$e};pe.request=en}});function ho(pe,k,Fe=250,_t,$e,en,xn){if(!(en.exception&&en.exception.values&&xn&&(0,on.tH)(xn.originalException,Error)))return;const zn=en.exception.values.length>0?en.exception.values[en.exception.values.length-1]:void 0;zn&&(en.exception.values=function vs(pe,k){return pe.map(Fe=>(Fe.value&&(Fe.value=(0,S.xv)(Fe.value,k)),Fe))}(Ar(pe,k,$e,xn.originalException,_t,en.exception.values,zn,0),Fe))}function Ar(pe,k,Fe,_t,$e,en,xn,zn){if(en.length>=Fe+1)return en;let gi=[...en];if((0,on.tH)(_t[$e],Error)){$r(xn,zn);const bi=pe(k,_t[$e]),ki=gi.length;oo(bi,$e,ki,zn),gi=Ar(pe,k,Fe,_t[$e],$e,[bi,...gi],bi,ki)}return Array.isArray(_t.errors)&&_t.errors.forEach((bi,ki)=>{if((0,on.tH)(bi,Error)){$r(xn,zn);const Xi=pe(k,bi),ls=gi.length;oo(Xi,`errors[${ki}]`,ls,zn),gi=Ar(pe,k,Fe,bi,$e,[Xi,...gi],Xi,ls)}}),gi}function $r(pe,k){pe.mechanism=pe.mechanism||{type:"generic",handled:!0},pe.mechanism={...pe.mechanism,..."AggregateError"===pe.type&&{is_exception_group:!0},exception_id:k}}function oo(pe,k,Fe,_t){pe.mechanism=pe.mechanism||{type:"generic",handled:!0},pe.mechanism={...pe.mechanism,type:"chained",source:k,exception_id:Fe,parent_id:_t}}const Xo=(pe={})=>{const k=pe.limit||5,Fe=pe.key||"cause";return{name:"LinkedErrors",preprocessEvent(_t,$e,en){const xn=en.getOptions();ho(Kt,xn.stackParser,xn.maxValueLength,Fe,k,_t,$e)}}};function ta(pe,k,Fe,_t){const $e={filename:pe,function:"<anonymous>"===k?ve.yF:k,in_app:!0};return void 0!==Fe&&($e.lineno=Fe),void 0!==_t&&($e.colno=_t),$e}const Ya=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Qa=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Sl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Xl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Yo=(0,ve.gd)([30,pe=>{const k=Ya.exec(pe);if(k){const[,_t,$e,en]=k;return ta(_t,ve.yF,+$e,+en)}const Fe=Qa.exec(pe);if(Fe){if(Fe[2]&&0===Fe[2].indexOf("eval")){const xn=sl.exec(Fe[2]);xn&&(Fe[2]=xn[1],Fe[3]=xn[2],Fe[4]=xn[3])}const[$e,en]=_l(Fe[1]||ve.yF,Fe[2]);return ta(en,$e,Fe[3]?+Fe[3]:void 0,Fe[4]?+Fe[4]:void 0)}}],[50,pe=>{const k=Sl.exec(pe);if(k){if(k[3]&&k[3].indexOf(" > eval")>-1){const en=Xl.exec(k[3]);en&&(k[1]=k[1]||"eval",k[3]=en[1],k[4]=en[2],k[5]="")}let _t=k[3],$e=k[1]||ve.yF;return[$e,_t]=_l($e,_t),ta(_t,$e,k[4]?+k[4]:void 0,k[5]?+k[5]:void 0)}}]),_l=(pe,k)=>{const Fe=-1!==pe.indexOf("safari-extension"),_t=-1!==pe.indexOf("safari-web-extension");return Fe||_t?[-1!==pe.indexOf("@")?pe.split("@")[0]:ve.yF,Fe?`safari-extension:${k}`:`safari-web-extension:${k}`]:[pe,k]};var po=_(4820);var ne=_(1857);const fe=64;function te(pe,k){if("event"===k||"transaction"===k)return Array.isArray(pe)?pe[1]:void 0}function K(pe,k=(0,po.qd)("fetch")){let Fe=0,_t=0;return function B(pe,k,Fe=function Gt(pe){const k=[];function _t(xn){return k.splice(k.indexOf(xn),1)[0]||Promise.resolve(void 0)}return{$:k,add:function $e(xn){if(!function Fe(){return void 0===pe||k.length<pe}())return(0,sn.xg)(new tt("Not adding Promise because buffer limit was reached."));const zn=xn();return-1===k.indexOf(zn)&&k.push(zn),zn.then(()=>_t(zn)).then(null,()=>_t(zn).then(null,()=>{})),zn},drain:function en(xn){return new sn.T2((zn,gi)=>{let bi=k.length;if(!bi)return zn(!0);const ki=setTimeout(()=>{xn&&xn>0&&zn(!1)},xn);k.forEach(Xi=>{(0,sn.XW)(Xi).then(()=>{--bi||(clearTimeout(ki),zn(!0))},gi)})})}}}(pe.bufferSize||fe)){let _t={};return{send:function en(xn){const zn=[];if((0,de.yH)(xn,(Xi,ls)=>{const _s=(0,de.zk)(ls);if((0,ne.Jz)(_t,_s)){const Qr=te(Xi,ls);pe.recordDroppedEvent("ratelimit_backoff",_s,Qr)}else zn.push(Xi)}),0===zn.length)return(0,sn.XW)({});const gi=(0,de.h4)(xn[0],zn),bi=Xi=>{(0,de.yH)(gi,(ls,_s)=>{const Qr=te(ls,_s);pe.recordDroppedEvent(Xi,(0,de.zk)(_s),Qr)})};return Fe.add(()=>k({body:(0,de.bN)(gi)}).then(Xi=>(void 0!==Xi.statusCode&&(Xi.statusCode<200||Xi.statusCode>=300)&&C.T&&E.vF.warn(`Sentry responded with status code ${Xi.statusCode} to sent event.`),_t=(0,ne.wq)(_t,Xi),Xi),Xi=>{throw bi("network_error"),Xi})).then(Xi=>Xi,Xi=>{if(Xi instanceof tt)return C.T&&E.vF.error("Skipped sending event because buffer is full."),bi("queue_overflow"),(0,sn.XW)({});throw Xi})},flush:xn=>Fe.drain(xn)}}(pe,function $e(en){const xn=en.body.length;Fe+=xn,_t++;const zn={body:en.body,method:"POST",referrerPolicy:"origin",headers:pe.headers,keepalive:Fe<=6e4&&_t<15,...pe.fetchOptions};if(!k)return(0,po.y7)("fetch"),(0,sn.xg)("No fetch implementation available");try{return k(pe.url,zn).then(gi=>(Fe-=xn,_t--,{statusCode:gi.status,headers:{"x-sentry-rate-limits":gi.headers.get("X-Sentry-Rate-Limits"),"retry-after":gi.headers.get("Retry-After")}}))}catch(gi){return(0,po.y7)("fetch"),Fe-=xn,_t--,(0,sn.xg)(gi)}})}function ei(pe={}){const k=function pt(pe={}){const k={defaultIntegrations:[Qe(),ce(),aa(),Ur(),Wt(),Xo(),At(),Ms()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:di.SENTRY_RELEASE&&di.SENTRY_RELEASE.id?di.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==pe.defaultIntegrations&&delete pe.defaultIntegrations,{...k,...pe}}(pe);if(function Fn(){const pe=typeof di.window<"u"&&di;if(!pe)return!1;const Fe=pe[pe.chrome?"chrome":"browser"],_t=Fe&&Fe.runtime&&Fe.runtime.id,$e=di.location&&di.location.href||"",xn=!!_t&&di===di.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(gi=>$e.startsWith(`${gi}//`));return!(!_t||xn||typeof pe.nw<"u")}())return void(0,E.pq)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});qt&&((0,vn.vm)()||E.vF.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const Fe={...k,stackParser:(0,ve.vk)(k.stackParser||Yo),integrations:N(k),transport:k.transport||K},_t=function Ft(pe,k){!0===k.debug&&(C.T?E.vF.enable():(0,E.pq)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,O.o5)().update(k.initialScope);const _t=new pe(k);return function ft(pe){(0,O.o5)().setClient(pe)}(_t),_t.init(),_t}(ts,Fe);return k.autoSessionTracking&&function xs(){typeof di.document>"u"?qt&&E.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):((0,h.J0)({ignoreDuration:!0}),(0,h.J5)(),(0,wn._)(({from:pe,to:k})=>{void 0!==pe&&pe!==k&&((0,h.J0)({ignoreDuration:!0}),(0,h.J5)())}))}(),_t}function Vi(pe={}){if(!di.document)return void(qt&&E.vF.error("Global document not defined in showReportDialog call"));const k=(0,O.o5)(),Fe=k.getClient(),_t=Fe&&Fe.getDsn();if(!_t)return void(qt&&E.vF.error("DSN not configured for showReportDialog call"));if(k&&(pe.user={...k.getUser(),...pe.user}),!pe.eventId){const zn=(0,h.Q)();zn&&(pe.eventId=zn)}const $e=di.document.createElement("script");$e.async=!0,$e.crossOrigin="anonymous",$e.src=function Jt(pe,k){const Fe=(0,Ae.AD)(pe);if(!Fe)return"";const _t=`${vt(Fe)}embed/error-page/`;let $e=`dsn=${(0,Ae.SB)(Fe)}`;for(const en in k)if("dsn"!==en&&"onClose"!==en)if("user"===en){const xn=k.user;if(!xn)continue;xn.name&&($e+=`&name=${encodeURIComponent(xn.name)}`),xn.email&&($e+=`&email=${encodeURIComponent(xn.email)}`)}else $e+=`&${encodeURIComponent(en)}=${encodeURIComponent(k[en])}`;return`${_t}?${$e}`}(_t,pe),pe.onLoad&&($e.onload=pe.onLoad);const{onClose:en}=pe;if(en){const zn=gi=>{if("__sentry_reportdialog_closed__"===gi.data)try{en()}finally{di.removeEventListener("message",zn)}};di.addEventListener("message",zn)}const xn=di.document.head||di.document.body;xn?xn.appendChild($e):qt&&E.vF.error("Not injecting report dialog. No injection point found in HTML")}var mr=_(2150),Po=_(9868),Li=_(4541);function Xs(pe){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const k=(0,O.KU)(),Fe=pe||k&&k.getOptions();return!!Fe&&(Fe.enableTracing||"tracesSampleRate"in Fe||"tracesSampler"in Fe)}var ro=_(2855);class I{constructor(k={}){this._traceId=k.traceId||(0,A.eJ)(),this._spanId=k.spanId||(0,A.eJ)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:fn.CC}}end(k){}setAttribute(k,Fe){return this}setAttributes(k){return this}setStatus(k){return this}updateName(k){return this}isRecording(){return!1}addEvent(k,Fe,_t){return this}addLink(k){return this}addLinks(k){return this}recordException(k,Fe){}}var Ct=_(3395);function _n(pe){if(!pe||0===pe.length)return;const k={};return pe.forEach(Fe=>{const _t=Fe.attributes||{},$e=_t[Li.Sn],en=_t[Li.xc];"string"==typeof $e&&"number"==typeof en&&(k[Fe.name]={value:en,unit:$e})}),k}const ln="_sentryScope",Hn="_sentryIsolationScope";function Zn(pe){return{scope:pe[ln],isolationScope:pe[Hn]}}class ai{constructor(k={}){this._traceId=k.traceId||(0,A.eJ)(),this._spanId=k.spanId||(0,A.eJ)().substring(16),this._startTime=k.startTimestamp||(0,_e.zf)(),this._attributes={},this.setAttributes({[Li.JD]:"manual",[Li.uT]:k.op,...k.attributes}),this._name=k.name,k.parentSpanId&&(this._parentSpanId=k.parentSpanId),"sampled"in k&&(this._sampled=k.sampled),k.endTimestamp&&(this._endTime=k.endTimestamp),this._events=[],this._isStandaloneSpan=k.isStandalone,this._endTime&&this._onSpanEnded()}addLink(k){return this}addLinks(k){return this}recordException(k,Fe){}spanContext(){const{_spanId:k,_traceId:Fe,_sampled:_t}=this;return{spanId:k,traceId:Fe,traceFlags:_t?fn.aO:fn.CC}}setAttribute(k,Fe){return void 0===Fe?delete this._attributes[k]:this._attributes[k]=Fe,this}setAttributes(k){return Object.keys(k).forEach(Fe=>this.setAttribute(Fe,k[Fe])),this}updateStartTime(k){this._startTime=(0,fn.cI)(k)}setStatus(k){return this._status=k,this}updateName(k){return this._name=k,this}end(k){this._endTime||(this._endTime=(0,fn.cI)(k),function za(pe){if(!C.T)return;const{description:k="< unknown name >",op:Fe="< unknown op >"}=(0,fn.et)(pe),{spanId:_t}=pe.spanContext(),en=(0,fn.zU)(pe)===pe;E.vF.log(`[Tracing] Finishing "${Fe}" ${en?"root ":""}span "${k}" with ID ${_t}`)}(this),this._onSpanEnded())}getSpanJSON(){return(0,bt.Ce)({data:this._attributes,description:this._name,op:this._attributes[Li.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,fn.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Li.JD],_metrics_summary:(0,Ct.g)(this),profile_id:this._attributes[Li.E1],exclusive_time:this._attributes[Li.jG],measurements:_n(this._events),is_segment:this._isStandaloneSpan&&(0,fn.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,fn.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(k,Fe,_t){C.T&&E.vF.log("[Tracing] Adding an event to span:",k);const $e=Ai(Fe)?Fe:_t||(0,_e.zf)(),en=Ai(Fe)?{}:Fe||{},xn={name:k,time:(0,fn.cI)($e),attributes:en};return this._events.push(xn),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const k=(0,O.KU)();if(k&&k.emit("spanEnd",this),!this._isStandaloneSpan&&this!==(0,fn.zU)(this))return;if(this._isStandaloneSpan)return void(this._sampled?function Er(pe){const k=(0,O.KU)();if(!k)return;const Fe=pe[1];if(!Fe||0===Fe.length)return void k.recordDroppedEvent("before_send","span");const _t=k.getTransport();_t&&_t.send(pe).then(null,$e=>{C.T&&E.vF.error("Error while sending span:",$e)})}(function cn(pe,k){const _t=(0,rn.k1)(pe[0]),$e=k&&k.getDsn(),en=k&&k.getOptions().tunnel,xn={sent_at:(new Date).toISOString(),...function Fe(ki){return!!ki.trace_id&&!!ki.public_key}(_t)&&{trace:_t},...!!en&&$e&&{dsn:(0,Ae.SB)($e)}},zn=k&&k.getOptions().beforeSendSpan,gi=zn?ki=>zn((0,fn.et)(ki)):ki=>(0,fn.et)(ki),bi=[];for(const ki of pe){const Xi=gi(ki);Xi&&bi.push((0,de.y5)(Xi))}return(0,de.h4)(xn,bi)}([this],k)):(C.T&&E.vF.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),k&&k.recordDroppedEvent("sample_rate","span")));const _t=this._convertSpanToTransaction();_t&&(Zn(this).scope||(0,O.o5)()).captureEvent(_t)}_convertSpanToTransaction(){if(!_i((0,fn.et)(this)))return;this._name||(C.T&&E.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:k,isolationScope:Fe}=Zn(this),$e=(k||(0,O.o5)()).getClient()||(0,O.KU)();if(!0!==this._sampled)return C.T&&E.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void($e&&$e.recordDroppedEvent("sample_rate","transaction"));const xn=(0,fn.xO)(this).filter(Xi=>Xi!==this&&!function er(pe){return pe instanceof ai&&pe.isStandaloneSpan()}(Xi)).map(Xi=>(0,fn.et)(Xi)).filter(_i),zn=this._attributes[Li.i_],gi={contexts:{trace:(0,fn.Ck)(this)},spans:xn.length>1e3?xn.sort((Xi,ls)=>Xi.start_timestamp-ls.start_timestamp).slice(0,1e3):xn,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:k,capturedSpanIsolationScope:Fe,...(0,bt.Ce)({dynamicSamplingContext:(0,rn.k1)(this)})},_metrics_summary:(0,Ct.g)(this),...zn&&{transaction_info:{source:zn}}},bi=_n(this._events);return bi&&Object.keys(bi).length&&(C.T&&E.vF.log("[Measurements] Adding measurements to transaction event",JSON.stringify(bi,void 0,2)),gi.measurements=bi),gi}}function Ai(pe){return pe&&"number"==typeof pe||pe instanceof Date||Array.isArray(pe)}function _i(pe){return!!(pe.start_timestamp&&pe.timestamp&&pe.span_id&&pe.trace_id)}const Ts="__SENTRY_SUPPRESS_TRACING__";function Cs(pe){const k=yl();if(k.startInactiveSpan)return k.startInactiveSpan(pe);const Fe=function Tl(pe){const Fe={isStandalone:(pe.experimental||{}).standalone,...pe};if(pe.startTime){const _t={...Fe};return _t.startTimestamp=(0,fn.cI)(pe.startTime),delete _t.startTime,_t}return Fe}(pe),{forceTransaction:_t,parentSpan:$e}=pe;return(pe.scope?xn=>(0,O.v4)(pe.scope,xn):void 0!==$e?xn=>Ec($e,xn):xn=>xn())(()=>{const xn=(0,O.o5)(),zn=function gd(pe){const k=(0,ro.f)(pe);if(!k)return;const Fe=(0,O.KU)();return(Fe?Fe.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,fn.zU)(k):k}(xn);return pe.onlyIfParent&&!zn?new I:function Io({parentSpan:pe,spanArguments:k,forceTransaction:Fe,scope:_t}){if(!Xs())return new I;const $e=(0,O.rm)();let en;if(pe&&!Fe)en=function bo(pe,k,Fe){const{spanId:_t,traceId:$e}=pe.spanContext(),en=!k.getScopeData().sdkProcessingMetadata[Ts]&&(0,fn.pK)(pe),xn=en?new ai({...Fe,parentSpanId:_t,traceId:$e,sampled:en}):new I({traceId:$e});(0,fn.Hu)(pe,xn);const zn=(0,O.KU)();return zn&&(zn.emit("spanStart",xn),Fe.endTimestamp&&zn.emit("spanEnd",xn)),xn}(pe,_t,k),(0,fn.Hu)(pe,en);else if(pe){const xn=(0,rn.k1)(pe),{traceId:zn,spanId:gi}=pe.spanContext(),bi=(0,fn.pK)(pe);en=Ss({traceId:zn,parentSpanId:gi,...k},_t,bi),(0,rn.LZ)(en,xn)}else{const{traceId:xn,dsc:zn,parentSpanId:gi,sampled:bi}={...$e.getPropagationContext(),..._t.getPropagationContext()};en=Ss({traceId:xn,parentSpanId:gi,...k},_t,bi),zn&&(0,rn.LZ)(en,zn)}return function Fo(pe){if(!C.T)return;const{description:k="< unknown name >",op:Fe="< unknown op >",parent_span_id:_t}=(0,fn.et)(pe),{spanId:$e}=pe.spanContext(),en=(0,fn.pK)(pe),xn=(0,fn.zU)(pe),zn=xn===pe,gi=`[Tracing] Starting ${en?"sampled":"unsampled"} ${zn?"root ":""}span`,bi=[`op: ${Fe}`,`name: ${k}`,`ID: ${$e}`];if(_t&&bi.push(`parent ID: ${_t}`),!zn){const{op:ki,description:Xi}=(0,fn.et)(xn);bi.push(`root ID: ${xn.spanContext().spanId}`),ki&&bi.push(`root op: ${ki}`),Xi&&bi.push(`root description: ${Xi}`)}E.vF.log(`${gi}\n  ${bi.join("\n  ")}`)}(en),function yn(pe,k,Fe){pe&&((0,bt.my)(pe,Hn,Fe),(0,bt.my)(pe,ln,k))}(en,_t,$e),en}({parentSpan:zn,spanArguments:Fe,forceTransaction:_t,scope:xn})})}function Ec(pe,k){const Fe=yl();return Fe.withActiveSpan?Fe.withActiveSpan(pe,k):(0,O.v4)(_t=>((0,ro.r)(_t,pe||void 0),k(_t)))}function yl(){const pe=(0,mr.E)();return(0,Po.h)(pe)}function Ss(pe,k,Fe){const _t=(0,O.KU)(),$e=_t&&_t.getOptions()||{},{name:en="",attributes:xn}=pe,[zn,gi]=k.getScopeData().sdkProcessingMetadata[Ts]?[!1]:function al(pe,k){if(!Xs(pe))return[!1];let Fe;Fe="function"==typeof pe.tracesSampler?pe.tracesSampler(k):void 0!==k.parentSampled?k.parentSampled:typeof pe.tracesSampleRate<"u"?pe.tracesSampleRate:1;const _t=(0,Ht.i)(Fe);return void 0===_t?(C.T&&E.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):_t?Math.random()<_t?[!0,_t]:(C.T&&E.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(Fe)})`),[!1,_t]):(C.T&&E.vF.log("[Tracing] Discarding transaction because "+("function"==typeof pe.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,_t])}($e,{name:en,parentSampled:Fe,attributes:xn,transactionContext:{name:en,parentSampled:Fe}}),bi=new ai({...pe,attributes:{[Li.i_]:"custom",...pe.attributes},sampled:zn});return void 0!==gi&&bi.setAttribute(Li.sy,gi),_t&&_t.emit("spanStart",bi),bi}var Yl=_(3803),Ja=_(524),Ia=_(147),Ul=_(5617);function Ds(pe){return"number"==typeof pe&&isFinite(pe)}function sc(pe,k,Fe,{..._t}){const $e=(0,fn.et)(pe).start_timestamp;return $e&&$e>k&&"function"==typeof pe.updateStartTime&&pe.updateStartTime(k),Ec(pe,()=>{const en=Cs({startTime:k,..._t});return en&&en.end(Fe),en})}function Iu(pe){const k=(0,O.KU)();if(!k)return;const{name:Fe,transaction:_t,attributes:$e,startTime:en}=pe,{release:xn,environment:zn}=k.getOptions(),gi=k.getIntegrationByName("Replay"),bi=gi&&gi.getReplayId(),ki=(0,O.o5)(),Xi=ki.getUser(),ls=void 0!==Xi?Xi.email||Xi.id||Xi.ip_address:void 0;let _s;try{_s=ki.getScopeData().contexts.profile.profile_id}catch{}return Cs({name:Fe,attributes:{release:xn,environment:zn,user:ls||void 0,profile_id:_s||void 0,replay_id:bi||void 0,transaction:_t,"user_agent.original":Ja.j.navigator&&Ja.j.navigator.userAgent,...$e},startTime:en,experimental:{standalone:!0}})}function ca(){return Ja.j&&Ja.j.addEventListener&&Ja.j.performance}function fo(pe){return pe/1e3}var xh=_(3085);var ge=_(242),Tt=_(9056);const Be=2147483647;let li,Si,gt=0,un={};function pr({recordClsStandaloneSpans:pe}){const k=ca();if(k&&_e.k3){k.mark&&Ja.j.performance.mark("sentry-tracing-init");const Fe=function mo(){return(0,Ul.T5)(({metric:pe})=>{const k=pe.entries[pe.entries.length-1];if(!k)return;const Fe=fo(_e.k3),_t=fo(k.startTime);Yl.T&&E.vF.log("[Measurements] Adding FID"),un.fid={value:pe.value,unit:"millisecond"},un["mark.fid"]={value:Fe+_t,unit:"second"}})}(),_t=function Qo(){return(0,Ul.Pt)(({metric:pe})=>{const k=pe.entries[pe.entries.length-1];k&&(Yl.T&&E.vF.log("[Measurements] Adding LCP"),un.lcp={value:pe.value,unit:"millisecond"},li=k)},!0)}(),$e=function _a(){return(0,Ul.YG)(({metric:pe})=>{pe.entries[pe.entries.length-1]&&(Yl.T&&E.vF.log("[Measurements] Adding TTFB"),un.ttfb={value:pe.value,unit:"millisecond"})})}(),en=pe?function Mc(){let k,Fe,pe=0;if(!function oc(){try{return(0,Ia.z)([PerformanceObserver,"access",pe=>pe.supportedEntryTypes,"optionalAccess",pe=>pe.includes,"call",pe=>pe("layout-shift")])}catch{return!1}}())return;let _t=!1;function $e(){_t||(_t=!0,Fe&&function Rc(pe,k,Fe){Yl.T&&E.vF.log(`Sending CLS span (${pe})`);const _t=fo(_e.k3)+((0,Ia.z)([k,"optionalAccess",bi=>bi.startTime])||0),$e=fo((0,Ia.z)([k,"optionalAccess",bi=>bi.duration])||0),en=(0,O.o5)().getScopeData().transactionName,gi=Iu({name:k?(0,cr.Hd)((0,Ia.z)([k,"access",bi=>bi.sources,"access",bi=>bi[0],"optionalAccess",bi=>bi.node])):"Layout shift",transaction:en,attributes:(0,bt.Ce)({[Li.JD]:"auto.http.browser.cls",[Li.uT]:"ui.webvital.cls",[Li.jG]:(0,Ia.z)([k,"optionalAccess",bi=>bi.duration])||0,"sentry.pageload.span_id":Fe}),startTime:_t});(0,Ia.z)([gi,"optionalAccess",bi=>bi.addEvent,"call",bi=>bi("cls",{[Li.Sn]:"",[Li.xc]:pe})]),(0,Ia.z)([gi,"optionalAccess",bi=>bi.end,"call",bi=>bi(_t+$e)])}(pe,k,Fe),en())}const en=(0,Ul.a9)(({metric:xn})=>{const zn=xn.entries[xn.entries.length-1];zn&&(pe=xn.value,k=zn)},!0);(0,xh.Q)(()=>{$e()}),setTimeout(()=>{const xn=(0,O.KU)(),zn=(0,Ia.z)([xn,"optionalAccess",Xi=>Xi.on,"call",Xi=>Xi("startNavigationSpan",()=>{$e(),zn&&zn()})]),gi=(0,fn.Bk)(),bi=gi&&(0,fn.zU)(gi),ki=bi&&(0,fn.et)(bi);ki&&"pageload"===ki.op&&(Fe=bi.spanContext().spanId)},0)}():function ji(){return(0,Ul.a9)(({metric:pe})=>{const k=pe.entries[pe.entries.length-1];k&&(Yl.T&&E.vF.log(`[Measurements] Adding CLS ${pe.value}`),un.cls={value:pe.value,unit:""},Si=k)},!0)}();return()=>{Fe(),_t(),$e(),en&&en()}}return()=>{}}function ya(pe,k,Fe,_t,$e,en){const xn=en?k[en]:k[`${Fe}End`],zn=k[`${Fe}Start`];!zn||!xn||sc(pe,_t+fo(zn),_t+fo(xn),{op:"browser",name:$e||Fe,attributes:{[Li.JD]:"auto.ui.browser.metrics"}})}function ua(pe,k,Fe,_t){const $e=k[Fe];null!=$e&&$e<Be&&(pe[_t]=$e)}const Ql=[],ll=new Map;const ku={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var Lu=_(5989);const Ma={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function iu(pe,k={}){const Fe=new Map;let $e,_t=!1,en="externalFinish",xn=!k.disableAutoFinish;const zn=[],{idleTimeout:gi=Ma.idleTimeout,finalTimeout:bi=Ma.finalTimeout,childSpanTimeout:ki=Ma.childSpanTimeout,beforeSpanEnd:Xi}=k,ls=(0,O.KU)();if(!ls||!Xs())return new I;const _s=(0,O.o5)(),Qr=(0,fn.Bk)(),Mo=function Ch(pe){const k=Cs(pe);return(0,ro.r)((0,O.o5)(),k),C.T&&E.vF.log("[Tracing] Started span is an idle span"),k}(pe);function ru(){$e&&(clearTimeout($e),$e=void 0)}function vl(cs){ru(),$e=setTimeout(()=>{!_t&&0===Fe.size&&xn&&(en="idleTimeout",Mo.end(cs))},gi)}function Zl(cs){$e=setTimeout(()=>{!_t&&xn&&(en="heartbeatFailed",Mo.end(cs))},ki)}function Sr(cs){_t=!0,Fe.clear(),zn.forEach(It=>It()),(0,ro.r)(_s,Qr);const zo=(0,fn.et)(Mo),{start_timestamp:D}=zo;if(!D)return;(zo.data||{})[Li.fs]||Mo.setAttribute(Li.fs,en),E.vF.log(`[Tracing] Idle span "${zo.op}" finished`);const se=(0,fn.xO)(Mo).filter(It=>It!==Mo);let Le=0;se.forEach(It=>{It.isRecording()&&(It.setStatus({code:Lu.TJ,message:"cancelled"}),It.end(cs),C.T&&E.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(It,void 0,2)));const Qt=(0,fn.et)(It),{timestamp:Cn=0,start_timestamp:Yn=0}=Qt,Nn=Yn<=cs,Ln=Cn-Yn<=(bi+gi)/1e3;if(C.T){const ni=JSON.stringify(It,void 0,2);Nn?Ln||E.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",ni):E.vF.log("[Tracing] Discarding span since it happened after idle span was finished",ni)}(!Ln||!Nn)&&((0,fn.VS)(Mo,It),Le++)}),Le>0&&Mo.setAttribute("sentry.idle_span_discarded_spans",Le)}return Mo.end=new Proxy(Mo.end,{apply(cs,zo,D){Xi&&Xi(Mo);const[F,...se]=D,Le=F||(0,_e.zf)(),It=(0,fn.cI)(Le),Qt=(0,fn.xO)(Mo).filter(Ln=>Ln!==Mo);if(!Qt.length)return Sr(It),Reflect.apply(cs,zo,[It,...se]);const Cn=Qt.map(Ln=>(0,fn.et)(Ln).timestamp).filter(Ln=>!!Ln),Yn=Cn.length?Math.max(...Cn):void 0,Nn=(0,fn.et)(Mo).start_timestamp,ti=Math.min(Nn?Nn+bi/1e3:1/0,Math.max(Nn||-1/0,Math.min(It,Yn||1/0)));return Sr(ti),Reflect.apply(cs,zo,[ti,...se])}}),zn.push(ls.on("spanStart",cs=>{_t||cs===Mo||(0,fn.et)(cs).timestamp||(0,fn.xO)(Mo).includes(cs)&&function Pd(cs){ru(),Fe.set(cs,!0),Zl((0,_e.zf)()+ki/1e3)}(cs.spanContext().spanId)})),zn.push(ls.on("spanEnd",cs=>{_t||function Gn(cs){Fe.has(cs)&&Fe.delete(cs),0===Fe.size&&vl((0,_e.zf)()+gi/1e3)}(cs.spanContext().spanId)})),zn.push(ls.on("idleSpanEnableAutoFinish",cs=>{cs===Mo&&(xn=!0,vl(),Fe.size&&Zl())})),k.disableAutoFinish||vl(),setTimeout(()=>{_t||(Mo.setStatus({code:Lu.TJ,message:"deadline_exceeded"}),en="finalTimeout",Mo.end())},bi),Mo}let Eo=!1;function zl(){const pe=(0,fn.Bk)(),k=pe&&(0,fn.zU)(pe);if(k){const Fe="internal_error";C.T&&E.vF.log(`[Tracing] Root span: ${Fe} -> Global error occured`),k.setStatus({code:Lu.TJ,message:Fe})}}zl.tag="sentry_tracingErrorCallback";var pu=_(3902),Hc=_(1475),fc=_(6570);const Sh=new WeakMap,pc=new Map,cl={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function _d(pe,k){const{traceFetch:Fe,traceXHR:_t,shouldCreateSpanForRequest:$e,enableHTTPTimings:en,tracePropagationTargets:xn}={traceFetch:cl.traceFetch,traceXHR:cl.traceXHR,...k},zn="function"==typeof $e?$e:ki=>!0,gi=ki=>function tl(pe,k){const Fe=di.location&&di.location.href;if(Fe){let _t,$e;try{_t=new URL(pe,Fe),$e=new URL(Fe).origin}catch{return!1}const en=_t.origin===$e;return k?(0,S.Xr)(_t.toString(),k)||en&&(0,S.Xr)(_t.pathname,k):en}{const _t=!!pe.match(/^\/(?!\/)/);return k?(0,S.Xr)(pe,k):_t}}(ki,xn),bi={};Fe&&(pe.addEventProcessor(ki=>("transaction"===ki.type&&ki.spans&&ki.spans.forEach(Xi=>{if("http.client"===Xi.op){const ls=pc.get(Xi.span_id);ls&&(Xi.timestamp=ls/1e3,pc.delete(Xi.span_id))}}),ki)),function He(pe){const k="fetch-body-resolved";(0,lr.s5)(k,pe),(0,lr.AS)(k,()=>Rt(ze))}(ki=>{if(ki.response){const Xi=Sh.get(ki.response);Xi&&ki.endTimestamp&&pc.set(Xi,ki.endTimestamp)}}),xi(ki=>{const Xi=function lc(pe,k,Fe,_t,$e="auto.http.browser"){if(!pe.fetchData)return;const en=Xs()&&k(pe.fetchData.url);if(pe.endTimestamp&&en){const Qr=pe.fetchData.__span;if(!Qr)return;const Mo=_t[Qr];return void(Mo&&(function Gc(pe,k){if(k.response){(0,Lu.N8)(pe,k.response.status);const Fe=k.response&&k.response.headers&&k.response.headers.get("content-length");if(Fe){const _t=parseInt(Fe);_t>0&&pe.setAttribute("http.response_content_length",_t)}}else k.error&&pe.setStatus({code:Lu.TJ,message:"internal_error"});pe.end()}(Mo,pe),delete _t[Qr]))}const xn=(0,O.o5)(),zn=(0,O.KU)(),{method:gi,url:bi}=pe.fetchData,ki=function Md(pe){try{return new URL(pe).href}catch{return}}(bi),Xi=ki?is(ki).host:void 0,ls=!!(0,fn.Bk)(),_s=en&&ls?Cs({name:`${gi} ${bi}`,attributes:{url:bi,type:"fetch","http.method":gi,"http.url":ki,"server.address":Xi,[Li.JD]:$e,[Li.uT]:"http.client"}}):new I;if(pe.fetchData.__span=_s.spanContext().spanId,_t[_s.spanContext().spanId]=_s,Fe(pe.fetchData.url)&&zn){const Qr=pe.args[0];pe.args[1]=pe.args[1]||{};const Mo=pe.args[1];Mo.headers=function $u(pe,k,Fe,_t,$e){const en=(0,O.rm)(),{traceId:xn,spanId:zn,sampled:gi,dsc:bi}={...en.getPropagationContext(),...Fe.getPropagationContext()},ki=$e?(0,fn.Qh)($e):(0,pu.TC)(xn,zn,gi),Xi=(0,fc.De)(bi||($e?(0,rn.k1)($e):(0,rn.lF)(xn,k))),ls=_t.headers||(typeof Request<"u"&&(0,on.tH)(pe,Request)?pe.headers:void 0);if(ls){if(typeof Headers<"u"&&(0,on.tH)(ls,Headers)){const _s=new Headers(ls);return _s.append("sentry-trace",ki),Xi&&_s.append(fc.hF,Xi),_s}if(Array.isArray(ls)){const _s=[...ls,["sentry-trace",ki]];return Xi&&_s.push([fc.hF,Xi]),_s}{const _s="baggage"in ls?ls.baggage:void 0,Qr=[];return Array.isArray(_s)?Qr.push(..._s):_s&&Qr.push(_s),Xi&&Qr.push(Xi),{...ls,"sentry-trace":ki,baggage:Qr.length>0?Qr.join(","):void 0}}}return{"sentry-trace":ki,baggage:Xi}}(Qr,zn,xn,Mo,Xs()&&ls?_s:void 0)}return _s}(ki,zn,gi,bi);if(ki.response&&ki.fetchData.__span&&Sh.set(ki.response,ki.fetchData.__span),Xi){const ls=mu(ki.fetchData.url),_s=ls?is(ls).host:void 0;Xi.setAttributes({"http.url":ls,"server.address":_s})}en&&Xi&&Dh(Xi)})),_t&&(0,Os.Mn)(ki=>{const Xi=function nl(pe,k,Fe,_t){const $e=pe.xhr,en=$e&&$e[Os.Er];if(!$e||$e.__sentry_own_request__||!en)return;const xn=Xs()&&k(en.url);if(pe.endTimestamp&&xn){const ls=$e.__sentry_xhr_span_id__;if(!ls)return;const _s=_t[ls];return void(_s&&void 0!==en.status_code&&((0,Lu.N8)(_s,en.status_code),_s.end(),delete _t[ls]))}const zn=mu(en.url),gi=zn?is(zn).host:void 0,bi=!!(0,fn.Bk)(),ki=xn&&bi?Cs({name:`${en.method} ${en.url}`,attributes:{type:"xhr","http.method":en.method,"http.url":zn,url:en.url,"server.address":gi,[Li.JD]:"auto.http.browser",[Li.uT]:"http.client"}}):new I;$e.__sentry_xhr_span_id__=ki.spanContext().spanId,_t[$e.__sentry_xhr_span_id__]=ki;const Xi=(0,O.KU)();return $e.setRequestHeader&&Fe(en.url)&&Xi&&function Cc(pe,k,Fe){const _t=(0,O.o5)(),$e=(0,O.rm)(),{traceId:en,spanId:xn,sampled:zn,dsc:gi}={...$e.getPropagationContext(),..._t.getPropagationContext()};!function Bu(pe,k,Fe){try{pe.setRequestHeader("sentry-trace",k),Fe&&pe.setRequestHeader(fc.hF,Fe)}catch{}}(pe,Fe&&Xs()?(0,fn.Qh)(Fe):(0,pu.TC)(en,xn,zn),(0,fc.De)(gi||(Fe?(0,rn.k1)(Fe):(0,rn.lF)(en,k))))}($e,Xi,Xs()&&bi?ki:void 0),ki}(ki,zn,gi,bi);en&&Xi&&Dh(Xi)})}function Dh(pe){const{url:k}=(0,fn.et)(pe).data||{};if(!k||"string"!=typeof k)return;const Fe=(0,Ul.wv)("resource",({entries:_t})=>{_t.forEach($e=>{(function Zu(pe){return"resource"===pe.entryType&&"initiatorType"in pe&&"string"==typeof pe.nextHopProtocol&&("fetch"===pe.initiatorType||"xmlhttprequest"===pe.initiatorType)})($e)&&$e.name.endsWith(k)&&(function Rd(pe){const{name:k,version:Fe}=function Ra(pe){let k="unknown",Fe="unknown",_t="";for(const $e of pe){if("/"===$e){[k,Fe]=pe.split("/");break}if(!isNaN(Number($e))){k="h"===_t?"http":_t,Fe=pe.split(_t)[1];break}_t+=$e}return _t===pe&&(k=_t),{name:k,version:Fe}}(pe.nextHopProtocol),_t=[];return _t.push(["network.protocol.version",Fe],["network.protocol.name",k]),_e.k3?[..._t,["http.request.redirect_start",kl(pe.redirectStart)],["http.request.fetch_start",kl(pe.fetchStart)],["http.request.domain_lookup_start",kl(pe.domainLookupStart)],["http.request.domain_lookup_end",kl(pe.domainLookupEnd)],["http.request.connect_start",kl(pe.connectStart)],["http.request.secure_connection_start",kl(pe.secureConnectionStart)],["http.request.connection_end",kl(pe.connectEnd)],["http.request.request_start",kl(pe.requestStart)],["http.request.response_start",kl(pe.responseStart)],["http.request.response_end",kl(pe.responseEnd)]]:_t}($e).forEach(xn=>pe.setAttribute(...xn)),setTimeout(Fe))})})}function kl(pe=0){return((_e.k3||performance.timeOrigin)+pe)/1e3}function mu(pe){try{return new URL(pe,di.location.origin).href}catch{return}}const Mr={...Ma,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...cl},eh=(pe={})=>{!function Is(){Eo||(Eo=!0,Xr(zl),Zs(zl))}();const{enableInp:k,enableLongTask:Fe,enableLongAnimationFrame:_t,_experiments:{enableInteractions:$e,enableStandaloneClsSpans:en},beforeStartSpan:xn,idleTimeout:zn,finalTimeout:gi,childSpanTimeout:bi,markBackgroundSpan:ki,traceFetch:Xi,traceXHR:ls,shouldCreateSpanForRequest:_s,enableHTTPTimings:Qr,instrumentPageLoad:Mo,instrumentNavigation:ru}={...Mr,...pe},vl=pr({recordClsStandaloneSpans:en||!1});k&&function ko(){if(ca()&&_e.k3){const k=function Ao(){return(0,Ul.hT)(({metric:pe})=>{if(null==pe.value)return;const k=pe.entries.find(Qr=>Qr.duration===pe.value&&ku[Qr.name]);if(!k)return;const{interactionId:Fe}=k,_t=ku[k.name],$e=fo(_e.k3+k.startTime),en=fo(pe.value),xn=(0,fn.Bk)(),zn=xn?(0,fn.zU)(xn):void 0,bi=(null!=Fe?ll.get(Fe):void 0)||zn,ki=bi?(0,fn.et)(bi).description:(0,O.o5)().getScopeData().transactionName,_s=Iu({name:(0,cr.Hd)(k.target),transaction:ki,attributes:(0,bt.Ce)({[Li.JD]:"auto.http.browser.inp",[Li.uT]:`ui.interaction.${_t}`,[Li.jG]:k.duration}),startTime:$e});(0,Ia.z)([_s,"optionalAccess",Qr=>Qr.addEvent,"call",Qr=>Qr("inp",{[Li.Sn]:"millisecond",[Li.xc]:pe.value})]),(0,Ia.z)([_s,"optionalAccess",Qr=>Qr.end,"call",Qr=>Qr($e+en)])})}();return()=>{k()}}return()=>{}}(),_t&&Bi.O.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function Fs(){new PerformanceObserver(k=>{if((0,fn.Bk)())for(const Fe of k.getEntries()){if(!Fe.scripts[0])continue;const _t=fo(_e.k3+Fe.startTime),$e=fo(Fe.duration),en={[Li.JD]:"auto.ui.browser.metrics"},xn=Fe.scripts[0],{invoker:zn,invokerType:gi,sourceURL:bi,sourceFunctionName:ki,sourceCharPosition:Xi}=xn;en["browser.script.invoker"]=zn,en["browser.script.invoker_type"]=gi,bi&&(en["code.filepath"]=bi),ki&&(en["code.function"]=ki),-1!==Xi&&(en["browser.script.source_char_position"]=Xi);const ls=Cs({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:_t,attributes:en});ls&&ls.end(_t+$e)}}).observe({type:"long-animation-frame",buffered:!0})}():Fe&&function xo(){(0,Ul.wv)("longtask",({entries:pe})=>{if((0,fn.Bk)())for(const k of pe){const Fe=fo(_e.k3+k.startTime),_t=fo(k.duration),$e=Cs({name:"Main UI thread blocked",op:"ui.long-task",startTime:Fe,attributes:{[Li.JD]:"auto.ui.browser.metrics"}});$e&&$e.end(Fe+_t)}})}(),$e&&function Ls(){(0,Ul.wv)("event",({entries:pe})=>{if((0,fn.Bk)())for(const k of pe)if("click"===k.name){const Fe=fo(_e.k3+k.startTime),_t=fo(k.duration),$e={name:(0,cr.Hd)(k.target),op:`ui.interaction.${k.name}`,startTime:Fe,attributes:{[Li.JD]:"auto.ui.browser.metrics"}},en=(0,cr.xE)(k.target);en&&($e.attributes["ui.component_name"]=en);const xn=Cs($e);xn&&xn.end(Fe+_t)}})}();const Zl={name:void 0,source:void 0};function Pd(Gn,Sr){const cs="pageload"===Sr.op,zo=xn?xn(Sr):Sr,D=zo.attributes||{};Sr.name!==zo.name&&(D[Li.i_]="custom",zo.attributes=D),Zl.name=zo.name,Zl.source=D[Li.i_];const F=iu(zo,{idleTimeout:zn,finalTimeout:gi,childSpanTimeout:bi,disableAutoFinish:cs,beforeSpanEnd:Le=>{vl(),function Uc(pe,k){const Fe=ca();if(!Fe||!Ja.j.performance.getEntries||!_e.k3)return;Yl.T&&E.vF.log("[Tracing] Adding & adjusting spans using Performance API");const _t=fo(_e.k3),$e=Fe.getEntries(),{op:en,start_timestamp:xn}=(0,fn.et)(pe);if($e.slice(gt).forEach(zn=>{const gi=fo(zn.startTime),bi=fo(Math.max(0,zn.duration));if(!("navigation"===en&&xn&&_t+gi<xn))switch(zn.entryType){case"navigation":!function zc(pe,k,Fe){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(_t=>{ya(pe,k,_t,Fe)}),ya(pe,k,"secureConnection",Fe,"TLS/SSL","connectEnd"),ya(pe,k,"fetch",Fe,"cache","domainLookupStart"),ya(pe,k,"domainLookup",Fe,"DNS"),function Nc(pe,k,Fe){const _t=Fe+fo(k.requestStart),$e=Fe+fo(k.responseEnd),en=Fe+fo(k.responseStart);k.responseEnd&&(sc(pe,_t,$e,{op:"browser",name:"request",attributes:{[Li.JD]:"auto.ui.browser.metrics"}}),sc(pe,en,$e,{op:"browser",name:"response",attributes:{[Li.JD]:"auto.ui.browser.metrics"}}))}(pe,k,Fe)}(pe,zn,_t);break;case"mark":case"paint":case"measure":{!function hc(pe,k,Fe,_t,$e){const en=(0,ge.z)(),xn=fo(en?en.requestStart:0),zn=$e+Math.max(Fe,xn),gi=$e+Fe,bi=gi+_t,ki={[Li.JD]:"auto.resource.browser.metrics"};zn!==gi&&(ki["sentry.browser.measure_happened_before_request"]=!0,ki["sentry.browser.measure_start_time"]=zn),sc(pe,zn,bi,{name:k.name,op:k.entryType,attributes:ki})}(pe,zn,gi,bi,_t);const ki=(0,Tt.N)(),Xi=zn.startTime<ki.firstHiddenTime;"first-paint"===zn.name&&Xi&&(Yl.T&&E.vF.log("[Measurements] Adding FP"),un.fp={value:zn.startTime,unit:"millisecond"}),"first-contentful-paint"===zn.name&&Xi&&(Yl.T&&E.vF.log("[Measurements] Adding FCP"),un.fcp={value:zn.startTime,unit:"millisecond"});break}case"resource":!function Il(pe,k,Fe,_t,$e,en){if("xmlhttprequest"===k.initiatorType||"fetch"===k.initiatorType)return;const xn=is(Fe),zn={[Li.JD]:"auto.resource.browser.metrics"};ua(zn,k,"transferSize","http.response_transfer_size"),ua(zn,k,"encodedBodySize","http.response_content_length"),ua(zn,k,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in k&&(zn["resource.render_blocking_status"]=k.renderBlockingStatus),xn.protocol&&(zn["url.scheme"]=xn.protocol.split(":").pop()),xn.host&&(zn["server.address"]=xn.host),zn["url.same_origin"]=Fe.includes(Ja.j.location.origin);const gi=en+_t;sc(pe,gi,gi+$e,{name:Fe.replace(Ja.j.location.origin,""),op:k.initiatorType?`resource.${k.initiatorType}`:"resource.other",attributes:zn})}(pe,zn,zn.name,gi,bi,_t)}}),gt=Math.max($e.length-1,0),function ka(pe){const k=Ja.j.navigator;if(!k)return;const Fe=k.connection;Fe&&(Fe.effectiveType&&pe.setAttribute("effectiveConnectionType",Fe.effectiveType),Fe.type&&pe.setAttribute("connectionType",Fe.type),Ds(Fe.rtt)&&(un["connection.rtt"]={value:Fe.rtt,unit:"millisecond"})),Ds(k.deviceMemory)&&pe.setAttribute("deviceMemory",`${k.deviceMemory} GB`),Ds(k.hardwareConcurrency)&&pe.setAttribute("hardwareConcurrency",String(k.hardwareConcurrency))}(pe),"pageload"===en){!function Aa(pe){const k=(0,ge.z)();if(!k)return;const{responseStart:Fe,requestStart:_t}=k;_t<=Fe&&(Yl.T&&E.vF.log("[Measurements] Adding TTFB Request Time"),pe["ttfb.requestTime"]={value:Fe-_t,unit:"millisecond"})}(un);const zn=un["mark.fid"];zn&&un.fid&&(sc(pe,zn.value,zn.value+fo(un.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Li.JD]:"auto.ui.browser.metrics"}}),delete un["mark.fid"]),(!("fcp"in un)||!k.recordClsOnPageloadSpan)&&delete un.cls,Object.entries(un).forEach(([gi,bi])=>{!function Xt(pe,k,Fe){const _t=(0,fn.Bk)(),$e=_t&&(0,fn.zU)(_t);$e&&$e.addEvent(pe,{[Li.xc]:k,[Li.Sn]:Fe})}(gi,bi.value,bi.unit)}),pe.setAttribute("performance.timeOrigin",_t),function Br(pe){li&&(Yl.T&&E.vF.log("[Measurements] Adding LCP Data"),li.element&&pe.setAttribute("lcp.element",(0,cr.Hd)(li.element)),li.id&&pe.setAttribute("lcp.id",li.id),li.url&&pe.setAttribute("lcp.url",li.url.trim().slice(0,200)),pe.setAttribute("lcp.size",li.size)),Si&&Si.sources&&(Yl.T&&E.vF.log("[Measurements] Adding CLS Data"),Si.sources.forEach((k,Fe)=>pe.setAttribute(`cls.source.${Fe+1}`,(0,cr.Hd)(k.node))))}(pe)}li=void 0,Si=void 0,un={}}(Le,{recordClsOnPageloadSpan:!en})}});function se(){["interactive","complete"].includes(di.document.readyState)&&Gn.emit("idleSpanEnableAutoFinish",F)}return cs&&di.document&&(di.document.addEventListener("readystatechange",()=>{se()}),se()),F}return{name:"BrowserTracing",afterAllSetup(Gn){let Sr,cs=di.location&&di.location.href;Gn.on("startNavigationSpan",zo=>{(0,O.KU)()===Gn&&(Sr&&!(0,fn.et)(Sr).timestamp&&(qt&&E.vF.log(`[Tracing] Finishing current root span with op: ${(0,fn.et)(Sr).op}`),Sr.end()),Sr=Pd(Gn,{op:"navigation",...zo}))}),Gn.on("startPageLoadSpan",(zo,D={})=>{if((0,O.KU)()!==Gn)return;Sr&&!(0,fn.et)(Sr).timestamp&&(qt&&E.vF.log(`[Tracing] Finishing current root span with op: ${(0,fn.et)(Sr).op}`),Sr.end());const F=D.sentryTrace||ie("sentry-trace"),se=D.baggage||ie("baggage"),Le=(0,pu.kM)(F,se);(0,O.o5)().setPropagationContext(Le),Sr=Pd(Gn,{op:"pageload",...zo})}),Gn.on("spanEnd",zo=>{const D=(0,fn.et)(zo).op;if(zo!==(0,fn.zU)(zo)||"navigation"!==D&&"pageload"!==D)return;const F=(0,O.o5)(),se=F.getPropagationContext();F.setPropagationContext({...se,sampled:void 0!==se.sampled?se.sampled:(0,fn.pK)(zo),dsc:se.dsc||(0,rn.k1)(zo)})}),di.location&&(Mo&&function Y(pe,k,Fe){pe.emit("startPageLoadSpan",k,Fe),(0,O.o5)().setTransactionName(k.name);const _t=(0,fn.Bk)();_t&&(0,fn.et)(_t)}(Gn,{name:di.location.pathname,startTime:_e.k3?_e.k3/1e3:void 0,attributes:{[Li.i_]:"url",[Li.JD]:"auto.pageload.browser"}}),ru&&(0,wn._)(({to:zo,from:D})=>{void 0===D&&cs&&-1!==cs.indexOf(zo)?cs=void 0:D!==zo&&(cs=void 0,le(Gn,{name:di.location.pathname,attributes:{[Li.i_]:"url",[Li.JD]:"auto.navigation.browser"}}))})),ki&&function da(){di&&di.document?di.document.addEventListener("visibilitychange",()=>{const pe=(0,fn.Bk)();if(!pe)return;const k=(0,fn.zU)(pe);if(di.document.hidden&&k){const Fe="cancelled",{op:_t,status:$e}=(0,fn.et)(k);qt&&E.vF.log(`[Tracing] Transaction: ${Fe} -> since tab moved to the background, op: ${_t}`),$e||k.setStatus({code:Lu.TJ,message:Fe}),k.setAttribute("sentry.cancellation_reason","document.hidden"),k.end()}}):qt&&E.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),$e&&function Ie(pe,k,Fe,_t){let $e;di.document&&addEventListener("click",()=>{const xn="ui.action.click",zn=(0,fn.Bk)(),gi=zn&&(0,fn.zU)(zn);if(gi){const bi=(0,fn.et)(gi).op;if(["navigation","pageload"].includes(bi))return void(qt&&E.vF.warn(`[Tracing] Did not create ${xn} span because a pageload or navigation span is in progress.`))}$e&&($e.setAttribute(Li.fs,"interactionInterrupted"),$e.end(),$e=void 0),_t.name?$e=iu({name:_t.name,op:xn,attributes:{[Li.i_]:_t.source||"url"}},{idleTimeout:pe,finalTimeout:k,childSpanTimeout:Fe}):qt&&E.vF.warn(`[Tracing] Did not create ${xn} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(zn,gi,bi,Zl),k&&function jc(){const k=({entries:Fe})=>{const _t=(0,fn.Bk)(),$e=_t&&(0,fn.zU)(_t);Fe.forEach(en=>{if(!(0,Ul.tC)(en)||!$e)return;const xn=en.interactionId;if(null!=xn&&!ll.has(xn)){if(Ql.length>10){const zn=Ql.shift();ll.delete(zn)}Ql.push(xn),ll.set(xn,$e)}})};(0,Ul.wv)("event",k),(0,Ul.wv)("first-input",k)}(),_d(Gn,{traceFetch:Xi,traceXHR:ls,tracePropagationTargets:Gn.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:_s,enableHTTPTimings:Qr})}}};function le(pe,k){(0,O.rm)().setPropagationContext((0,Hc.J)()),(0,O.o5)().setPropagationContext((0,Hc.J)()),pe.emit("startNavigationSpan",k),(0,O.o5)().setTransactionName(k.name);const Fe=(0,fn.Bk)();return"navigation"===(Fe&&(0,fn.et)(Fe).op)?Fe:void 0}function ie(pe){const k=(0,cr.NX)(`meta[name=${pe}]`);return k?k.getAttribute("content"):void 0}var lt=_(7404),Ut=_(6443),gn=_(9805),hi=_(2672),Qn=_(8627),Yi=_(6e3);const ir=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function js(pe){const k={defaultIntegrations:[Qe(),ce(),Ur(),Wt(),Xo(),At(),Ms()],...pe};return jt(k,"angular"),function so(){const k=lt.xvI&&lt.xvI.major?parseInt(lt.xvI.major,10):void 0;k&&(k<14&&ir&&E.vF.warn(`This Sentry SDK does not officially support Angular ${k}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),(0,h.o)("angular",{version:k}))}(),ei(k)}const Uo=typeof Zone<"u"&&Zone.root&&Zone.root.run;function bl(pe){return Uo?Zone.root.run(pe):pe()}function Th(pe){if(pe instanceof Error)return!0;if(null===pe||"object"!=typeof pe)return!1;const k=pe;return(0,on.Kg)(k.name)&&(0,on.Kg)(k.message)&&(void 0===k.stack||(0,on.Kg)(k.stack))}let Mn,Vu=(()=>{class pe{constructor(Fe){this._options={logErrors:!0,...Fe}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(Fe){const _t=this._extractError(Fe)||"Handled unknown error",$e=bl(()=>h.Cp(_t,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(_t),this._options.showDialog){const en=O.KU();en&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=en.on("afterSendEvent",xn=>{!xn.type&&xn.event_id&&bl(()=>{Vi({...this._options.dialogOptions,eventId:xn.event_id})})}):en||bl(()=>{Vi({...this._options.dialogOptions,eventId:$e})})}}_extractError(Fe){if(this._options.extractor){const _t=this._defaultExtractor.bind(this);return this._options.extractor(Fe,_t)}return this._defaultExtractor(Fe)}_defaultExtractor(Fe){const _t=function ul(pe){return pe&&pe.ngOriginalError?pe.ngOriginalError:pe}(Fe);return _t instanceof Ut.yz?function gu(pe){return Th(pe.error)?pe.error:typeof ErrorEvent<"u"&&pe.error instanceof ErrorEvent&&pe.error.message?pe.error.message:"string"==typeof pe.error?`Server returned code ${pe.status} with body "${pe.error}"`:pe.message}(_t):"string"==typeof _t||Th(_t)?_t:null}}return pe.\u0275fac=function(Fe){return new(Fe||pe)(lt.KVO("errorHandlerOptions"))},pe.\u0275prov=lt.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function Nd(pe){return new Vu(pe)}function Ep(pe={}){return!1!==pe.instrumentNavigation&&(Mn=!0),eh({...pe,instrumentNavigation:!1})}let _u=(()=>{class pe{constructor(Fe){this._router=Fe,this.navStart$=this._router.events.pipe((0,Qn.p)(_t=>_t instanceof gn.Z),(0,Yi.M)(_t=>{if(!Mn)return void(ir&&E.vF.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const $e=(0,O.KU)(),en=function Es(pe){return pe.split(/[?#]/,1)[0]}(_t.url);return $e?(this._isPageloadOngoing()?this._pageloadOngoing=!1:bl(()=>{le($e,{name:en,attributes:{[Li.JD]:"auto.navigation.angular",[Li.i_]:"url"}})}),void(this._routingSpan=bl(()=>Cs({name:`${_t.url}`,op:"ui.angular.routing",attributes:{[Li.JD]:"auto.ui.angular",[Li.i_]:"url",url:en,..._t.navigationTrigger&&{navigationTrigger:_t.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,Qn.p)(_t=>_t instanceof gn.gx),(0,Yi.M)(_t=>{const $e=function Ih(pe){const k=[];let Fe=pe&&pe.firstChild;for(;Fe;){const $e=Fe&&Fe.routeConfig&&Fe.routeConfig.path;if(null==$e)break;k.push($e),Fe=Fe.firstChild}const _t=k.filter($e=>$e).join("/");return _t?`/${_t}/`:"/"}(_t.state.root);$e&&(0,O.o5)().setTransactionName($e);const en=(0,fn.Bk)();!function rf(pe,k){const Fe=k&&(0,fn.et)(k).data||{};k&&"url"===Fe[Li.i_]&&(k.updateName(pe),k.setAttribute(Li.i_,"route"),k.setAttribute(Li.JD,`auto.${(0,fn.et)(k).op}.angular`))}($e,en&&(0,fn.zU)(en))})),this.navEnd$=this._router.events.pipe((0,Qn.p)(_t=>_t instanceof gn.wF||_t instanceof gn.j5||_t instanceof gn.L6),(0,Yi.M)(()=>{this._routingSpan&&(bl(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new hi.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const Fe=(0,fn.Bk)();if(!Fe)return this._pageloadOngoing=!1,!1;const _t=(0,fn.zU)(Fe);return this._pageloadOngoing="pageload"===(0,fn.et)(_t).op,this._pageloadOngoing}}return pe.\u0275fac=function(Fe){return new(Fe||pe)(lt.KVO(gn.Ix))},pe.\u0275prov=lt.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},9868:(dn,Je,_)=>{"use strict";_.d(Je,{h:()=>ee});var h=_(2150),O=_(1362),E=_(2031),A=_(1174);class W{constructor(Ee,ke){let Qe,Pe;Qe=Ee||new A.H,Pe=ke||new A.H,this._stack=[{scope:Qe}],this._isolationScope=Pe}withScope(Ee){const ke=this._pushScope();let Qe;try{Qe=Ee(ke)}catch(Pe){throw this._popScope(),Pe}return(0,O.Qg)(Qe)?Qe.then(Pe=>(this._popScope(),Pe),Pe=>{throw this._popScope(),Pe}):(this._popScope(),Qe)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const Ee=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:Ee}),Ee}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function L(){const De=(0,h.E)(),Ee=(0,h.S)(De);return Ee.stack=Ee.stack||new W(function S(){return(0,E.B)("defaultCurrentScope",()=>new A.H)}(),function C(){return(0,E.B)("defaultIsolationScope",()=>new A.H)}())}function N(De){return L().withScope(De)}function z(De,Ee){const ke=L();return ke.withScope(()=>(ke.getStackTop().scope=De,Ee(De)))}function re(De){return L().withScope(()=>De(L().getIsolationScope()))}function ee(De){const Ee=(0,h.S)(De);return Ee.acs?Ee.acs:function q(){return{withIsolationScope:re,withScope:N,withSetScope:z,withSetIsolationScope:(De,Ee)=>re(Ee),getCurrentScope:()=>L().getScope(),getIsolationScope:()=>L().getIsolationScope()}}()}},7376:(dn,Je,_)=>{"use strict";_.d(Je,{Z:()=>S});var h=_(8423),O=_(1205),E=_(2849);const A=100;function S(C,W){const L=(0,E.KU)(),N=(0,E.rm)();if(!L)return;const{beforeBreadcrumb:z=null,maxBreadcrumbs:re=A}=L.getOptions();if(re<=0)return;const Z={timestamp:(0,h.lu)(),...C},ee=z?(0,O.pq)(()=>z(Z,W)):Z;null!==ee&&(L.emit&&L.emit("beforeAddBreadcrumb",ee,W),N.addBreadcrumb(ee,re))}},2150:(dn,Je,_)=>{"use strict";_.d(Je,{E:()=>E,S:()=>A});var h=_(2031),O=_(3408);function E(){return A(h.O),h.O}function A(S){const C=S.__SENTRY__=S.__SENTRY__||{};return C.version=C.version||O.M,C[O.M]=C[O.M]||{}}},7063:(dn,Je,_)=>{"use strict";_.d(Je,{U:()=>h});const h="production"},2849:(dn,Je,_)=>{"use strict";_.d(Je,{KU:()=>z,m6:()=>W,o5:()=>S,rm:()=>C,v4:()=>L});var h=_(2031),O=_(9868),E=_(2150),A=_(1174);function S(){const re=(0,E.E)();return(0,O.h)(re).getCurrentScope()}function C(){const re=(0,E.E)();return(0,O.h)(re).getIsolationScope()}function W(){return(0,h.B)("globalScope",()=>new A.H)}function L(...re){const q=(0,E.E)(),Z=(0,O.h)(q);if(2===re.length){const[ee,De]=re;return ee?Z.withSetScope(ee,De):Z.withScope(De)}return Z.withScope(re[0])}function z(){return S().getClient()}},1772:(dn,Je,_)=>{"use strict";_.d(Je,{T:()=>h});const h=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},1229:(dn,Je,_)=>{"use strict";_.d(Je,{Cp:()=>C,J0:()=>Xe,J5:()=>oe,Q:()=>De,SA:()=>je,o:()=>N,r:()=>L});var h=_(2031),O=_(7063),E=_(2849),A=_(898),S=_(1995);function C(ot,bt){return(0,E.o5)().captureException(ot,(0,S.li)(bt))}function L(ot,bt){return(0,E.o5)().captureEvent(ot,bt)}function N(ot,bt){(0,E.rm)().setContext(ot,bt)}function De(){return(0,E.rm)().lastEventId()}function je(ot){(0,E.rm)().addEventProcessor(ot)}function Xe(ot){const bt=(0,E.KU)(),Nt=(0,E.rm)(),St=(0,E.o5)(),{release:$t,environment:Ce=O.U}=bt&&bt.getOptions()||{},{userAgent:ce}=h.O.navigator||{},ve=(0,A.fj)({release:$t,environment:Ce,user:St.getUser()||Nt.getUser(),...ce&&{userAgent:ce},...ot}),me=Nt.getSession();return me&&"ok"===me.status&&(0,A.qO)(me,{status:"exited"}),Q(),Nt.setSession(ve),St.setSession(ve),ve}function Q(){const ot=(0,E.rm)(),bt=(0,E.o5)(),Nt=bt.getSession()||ot.getSession();Nt&&(0,A.Vu)(Nt),rt(),ot.setSession(),bt.setSession()}function rt(){const ot=(0,E.rm)(),bt=(0,E.o5)(),Nt=(0,E.KU)(),St=bt.getSession()||ot.getSession();St&&Nt&&Nt.captureSession(St)}function oe(ot=!1){ot?Q():rt()}},3395:(dn,Je,_)=>{"use strict";_.d(Je,{g:()=>E});var h=_(7593);const O="_sentryMetrics";function E(S){const C=S[O];if(!C)return;const W={};for(const[,[L,N]]of C)(W[L]||(W[L]=[])).push((0,h.Ce)(N));return W}},1174:(dn,Je,_)=>{"use strict";_.d(Je,{H:()=>z});var h=_(1475),O=_(1362),E=_(8423),A=_(1582),S=_(1205),C=_(898),W=_(2855);class N{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,h.J)()}clone(){const q=new N;return q._breadcrumbs=[...this._breadcrumbs],q._tags={...this._tags},q._extra={...this._extra},q._contexts={...this._contexts},q._user=this._user,q._level=this._level,q._session=this._session,q._transactionName=this._transactionName,q._fingerprint=this._fingerprint,q._eventProcessors=[...this._eventProcessors],q._requestSession=this._requestSession,q._attachments=[...this._attachments],q._sdkProcessingMetadata={...this._sdkProcessingMetadata},q._propagationContext={...this._propagationContext},q._client=this._client,q._lastEventId=this._lastEventId,(0,W.r)(q,(0,W.f)(this)),q}setClient(q){this._client=q}setLastEventId(q){this._lastEventId=q}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(q){this._scopeListeners.push(q)}addEventProcessor(q){return this._eventProcessors.push(q),this}setUser(q){return this._user=q||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,C.qO)(this._session,{user:q}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(q){return this._requestSession=q,this}setTags(q){return this._tags={...this._tags,...q},this._notifyScopeListeners(),this}setTag(q,Z){return this._tags={...this._tags,[q]:Z},this._notifyScopeListeners(),this}setExtras(q){return this._extra={...this._extra,...q},this._notifyScopeListeners(),this}setExtra(q,Z){return this._extra={...this._extra,[q]:Z},this._notifyScopeListeners(),this}setFingerprint(q){return this._fingerprint=q,this._notifyScopeListeners(),this}setLevel(q){return this._level=q,this._notifyScopeListeners(),this}setTransactionName(q){return this._transactionName=q,this._notifyScopeListeners(),this}setContext(q,Z){return null===Z?delete this._contexts[q]:this._contexts[q]=Z,this._notifyScopeListeners(),this}setSession(q){return q?this._session=q:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(q){if(!q)return this;const Z="function"==typeof q?q(this):q,[ee,De]=Z instanceof z?[Z.getScopeData(),Z.getRequestSession()]:(0,O.Qd)(Z)?[q,q.requestSession]:[],{tags:Ee,extra:ke,user:Qe,contexts:Pe,level:Ye,fingerprint:Re=[],propagationContext:nt}=ee||{};return this._tags={...this._tags,...Ee},this._extra={...this._extra,...ke},this._contexts={...this._contexts,...Pe},Qe&&Object.keys(Qe).length&&(this._user=Qe),Ye&&(this._level=Ye),Re.length&&(this._fingerprint=Re),nt&&(this._propagationContext=nt),De&&(this._requestSession=De),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,W.r)(this,void 0),this._attachments=[],this._propagationContext=(0,h.J)(),this._notifyScopeListeners(),this}addBreadcrumb(q,Z){const ee="number"==typeof Z?Z:100;if(ee<=0)return this;const De={timestamp:(0,E.lu)(),...q},Ee=this._breadcrumbs;return Ee.push(De),this._breadcrumbs=Ee.length>ee?Ee.slice(-ee):Ee,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(q){return this._attachments.push(q),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,W.f)(this)}}setSDKProcessingMetadata(q){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...q},this}setPropagationContext(q){return this._propagationContext=q,this}getPropagationContext(){return this._propagationContext}captureException(q,Z){const ee=Z&&Z.event_id?Z.event_id:(0,A.eJ)();if(!this._client)return S.vF.warn("No client configured on scope - will not capture exception!"),ee;const De=new Error("Sentry syntheticException");return this._client.captureException(q,{originalException:q,syntheticException:De,...Z,event_id:ee},this),ee}captureMessage(q,Z,ee){const De=ee&&ee.event_id?ee.event_id:(0,A.eJ)();if(!this._client)return S.vF.warn("No client configured on scope - will not capture message!"),De;const Ee=new Error(q);return this._client.captureMessage(q,Z,{originalException:q,syntheticException:Ee,...ee,event_id:De},this),De}captureEvent(q,Z){const ee=Z&&Z.event_id?Z.event_id:(0,A.eJ)();return this._client?(this._client.captureEvent(q,{...Z,event_id:ee},this),ee):(S.vF.warn("No client configured on scope - will not capture event!"),ee)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(q=>{q(this)}),this._notifyingListeners=!1)}}const z=N},4541:(dn,Je,_)=>{"use strict";_.d(Je,{E1:()=>L,JD:()=>A,Sn:()=>C,fs:()=>S,i_:()=>h,jG:()=>N,sy:()=>O,uT:()=>E,xc:()=>W});const h="sentry.source",O="sentry.sample_rate",E="sentry.op",A="sentry.origin",S="sentry.idle_span_finish_reason",C="sentry.measurement_unit",W="sentry.measurement_value",L="sentry.profile_id",N="sentry.exclusive_time"},898:(dn,Je,_)=>{"use strict";_.d(Je,{Vu:()=>C,fj:()=>A,qO:()=>S});var h=_(8423),O=_(1582),E=_(7593);function A(L){const N=(0,h.zf)(),z={sid:(0,O.eJ)(),init:!0,timestamp:N,started:N,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function W(L){return(0,E.Ce)({sid:`${L.sid}`,init:L.init,started:new Date(1e3*L.started).toISOString(),timestamp:new Date(1e3*L.timestamp).toISOString(),status:L.status,errors:L.errors,did:"number"==typeof L.did||"string"==typeof L.did?`${L.did}`:void 0,duration:L.duration,abnormal_mechanism:L.abnormal_mechanism,attrs:{release:L.release,environment:L.environment,ip_address:L.ipAddress,user_agent:L.userAgent}})}(z)};return L&&S(z,L),z}function S(L,N={}){if(N.user&&(!L.ipAddress&&N.user.ip_address&&(L.ipAddress=N.user.ip_address),!L.did&&!N.did&&(L.did=N.user.id||N.user.email||N.user.username)),L.timestamp=N.timestamp||(0,h.zf)(),N.abnormal_mechanism&&(L.abnormal_mechanism=N.abnormal_mechanism),N.ignoreDuration&&(L.ignoreDuration=N.ignoreDuration),N.sid&&(L.sid=32===N.sid.length?N.sid:(0,O.eJ)()),void 0!==N.init&&(L.init=N.init),!L.did&&N.did&&(L.did=`${N.did}`),"number"==typeof N.started&&(L.started=N.started),L.ignoreDuration)L.duration=void 0;else if("number"==typeof N.duration)L.duration=N.duration;else{const z=L.timestamp-L.started;L.duration=z>=0?z:0}N.release&&(L.release=N.release),N.environment&&(L.environment=N.environment),!L.ipAddress&&N.ipAddress&&(L.ipAddress=N.ipAddress),!L.userAgent&&N.userAgent&&(L.userAgent=N.userAgent),"number"==typeof N.errors&&(L.errors=N.errors),N.status&&(L.status=N.status)}function C(L,N){let z={};N?z={status:N}:"ok"===L.status&&(z={status:"exited"}),S(L,z)}},8492:(dn,Je,_)=>{"use strict";_.d(Je,{LZ:()=>L,k1:()=>z,lF:()=>N});var h=_(7593),O=_(6570),E=_(7063),A=_(2849),S=_(4541),C=_(8165);const W="_frozenDsc";function L(q,Z){(0,h.my)(q,W,Z)}function N(q,Z){const ee=Z.getOptions(),{publicKey:De}=Z.getDsn()||{},Ee=(0,h.Ce)({environment:ee.environment||E.U,release:ee.release,public_key:De,trace_id:q});return Z.emit("createDsc",Ee),Ee}function z(q){const Z=(0,A.KU)();if(!Z)return{};const ee=N((0,C.et)(q).trace_id||"",Z),De=(0,C.zU)(q),Ee=De[W];if(Ee)return Ee;const ke=De.spanContext().traceState,Qe=ke&&ke.get("sentry.dsc"),Pe=Qe&&(0,O.yD)(Qe);if(Pe)return Pe;const Ye=(0,C.et)(De),Re=Ye.data||{},nt=Re[S.sy];null!=nt&&(ee.sample_rate=`${nt}`);const je=Ye.description;return"url"!==Re[S.i_]&&je&&(ee.transaction=je),ee.sampled=String((0,C.pK)(De)),Z.emit("createDsc",ee,De),ee}},5989:(dn,Je,_)=>{"use strict";_.d(Je,{F3:()=>O,N8:()=>S,TJ:()=>E,a3:()=>h});const h=0,O=1,E=2;function S(C,W){C.setAttribute("http.response.status_code",W);const L=function A(C){if(C<400&&C>=100)return{code:O};if(C>=400&&C<500)switch(C){case 401:return{code:E,message:"unauthenticated"};case 403:return{code:E,message:"permission_denied"};case 404:return{code:E,message:"not_found"};case 409:return{code:E,message:"already_exists"};case 413:return{code:E,message:"failed_precondition"};case 429:return{code:E,message:"resource_exhausted"};case 499:return{code:E,message:"cancelled"};default:return{code:E,message:"invalid_argument"}}if(C>=500&&C<600)switch(C){case 501:return{code:E,message:"unimplemented"};case 503:return{code:E,message:"unavailable"};case 504:return{code:E,message:"deadline_exceeded"};default:return{code:E,message:"internal_error"}}return{code:E,message:"unknown_error"}}(W);"unknown_error"!==L.message&&C.setStatus(L)}},4707:(dn,Je,_)=>{"use strict";_.d(Je,{i:()=>E});var h=_(1205),O=_(1772);function E(A){if("boolean"==typeof A)return Number(A);const S="string"==typeof A?parseFloat(A):A;if(!("number"!=typeof S||isNaN(S)||S<0||S>1))return S;O.T&&h.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(A)} of type ${JSON.stringify(typeof A)}.`)}},1995:(dn,Je,_)=>{"use strict";_.d(Je,{li:()=>$t,mG:()=>Xe});var h=_(1582),O=_(8423),E=_(6851),A=_(2031),S=_(6362),C=_(7063),W=_(2849),L=_(5612),N=_(1205),z=_(1362),re=_(1772);function q(me,Oe,At,Et=0){return new L.T2((En,Me)=>{const kn=me[Et];if(null===Oe||"function"!=typeof kn)En(Oe);else{const nn=kn({...Oe},At);re.T&&kn.id&&null===nn&&N.vF.log(`Event processor "${kn.id}" dropped event`),(0,z.Qg)(nn)?nn.then(Ot=>q(me,Ot,At,Et+1).then(En)).then(null,Me):q(me,nn,At,Et+1).then(En).then(null,Me)}})}var Z=_(1174),ee=_(7593),De=_(8492),Ee=_(8165);function Qe(me,Oe){const{extra:At,tags:Et,user:En,contexts:Me,level:kn,sdkProcessingMetadata:nn,breadcrumbs:Ot,fingerprint:Ft,eventProcessors:ft,attachments:Ae,propagationContext:Ve,transactionName:vt,span:an}=Oe;Pe(me,"extra",At),Pe(me,"tags",Et),Pe(me,"user",En),Pe(me,"contexts",Me),Pe(me,"sdkProcessingMetadata",nn),kn&&(me.level=kn),vt&&(me.transactionName=vt),an&&(me.span=an),Ot.length&&(me.breadcrumbs=[...me.breadcrumbs,...Ot]),Ft.length&&(me.fingerprint=[...me.fingerprint,...Ft]),ft.length&&(me.eventProcessors=[...me.eventProcessors,...ft]),Ae.length&&(me.attachments=[...me.attachments,...Ae]),me.propagationContext={...me.propagationContext,...Ve}}function Pe(me,Oe,At){if(At&&Object.keys(At).length){me[Oe]={...me[Oe]};for(const Et in At)Object.prototype.hasOwnProperty.call(At,Et)&&(me[Oe][Et]=At[Et])}}function Xe(me,Oe,At,Et,En,Me){const{normalizeDepth:kn=3,normalizeMaxBreadth:nn=1e3}=me,Ot={...Oe,event_id:Oe.event_id||At.event_id||(0,h.eJ)(),timestamp:Oe.timestamp||(0,O.lu)()},Ft=At.integrations||me.integrations.map(yt=>yt.name);(function Q(me,Oe){const{environment:At,release:Et,dist:En,maxValueLength:Me=250}=Oe;"environment"in me||(me.environment="environment"in Oe?At:C.U),void 0===me.release&&void 0!==Et&&(me.release=Et),void 0===me.dist&&void 0!==En&&(me.dist=En),me.message&&(me.message=(0,E.xv)(me.message,Me));const kn=me.exception&&me.exception.values&&me.exception.values[0];kn&&kn.value&&(kn.value=(0,E.xv)(kn.value,Me));const nn=me.request;nn&&nn.url&&(nn.url=(0,E.xv)(nn.url,Me))})(Ot,me),function bt(me,Oe){Oe.length>0&&(me.sdk=me.sdk||{},me.sdk.integrations=[...me.sdk.integrations||[],...Oe])}(Ot,Ft),En&&En.emit("applyFrameMetadata",Oe),void 0===Oe.type&&function oe(me,Oe){const At=A.O._sentryDebugIds;if(!At)return;let Et;const En=rt.get(Oe);En?Et=En:(Et=new Map,rt.set(Oe,Et));const Me=Object.entries(At).reduce((kn,[nn,Ot])=>{let Ft;const ft=Et.get(nn);ft?Ft=ft:(Ft=Oe(nn),Et.set(nn,Ft));for(let Ae=Ft.length-1;Ae>=0;Ae--){const Ve=Ft[Ae];if(Ve.filename){kn[Ve.filename]=Ot;break}}return kn},{});try{me.exception.values.forEach(kn=>{kn.stacktrace.frames.forEach(nn=>{nn.filename&&(nn.debug_id=Me[nn.filename])})})}catch{}}(Ot,me.stackParser);const ft=function St(me,Oe){if(!Oe)return me;const At=me?me.clone():new Z.H;return At.update(Oe),At}(Et,At.captureContext);At.mechanism&&(0,h.M6)(Ot,At.mechanism);const Ae=En?En.getEventProcessors():[],Ve=(0,W.m6)().getScopeData();Me&&Qe(Ve,Me.getScopeData()),ft&&Qe(Ve,ft.getScopeData());const vt=[...At.attachments||[],...Ve.attachments];return vt.length&&(At.attachments=vt),function ke(me,Oe){const{fingerprint:At,span:Et,breadcrumbs:En,sdkProcessingMetadata:Me}=Oe;(function Ye(me,Oe){const{extra:At,tags:Et,user:En,contexts:Me,level:kn,transactionName:nn}=Oe,Ot=(0,ee.Ce)(At);Ot&&Object.keys(Ot).length&&(me.extra={...Ot,...me.extra});const Ft=(0,ee.Ce)(Et);Ft&&Object.keys(Ft).length&&(me.tags={...Ft,...me.tags});const ft=(0,ee.Ce)(En);ft&&Object.keys(ft).length&&(me.user={...ft,...me.user});const Ae=(0,ee.Ce)(Me);Ae&&Object.keys(Ae).length&&(me.contexts={...Ae,...me.contexts}),kn&&(me.level=kn),nn&&"transaction"!==me.type&&(me.transaction=nn)})(me,Oe),Et&&function Te(me,Oe){me.contexts={trace:(0,Ee.kX)(Oe),...me.contexts},me.sdkProcessingMetadata={dynamicSamplingContext:(0,De.k1)(Oe),...me.sdkProcessingMetadata};const At=(0,Ee.zU)(Oe),Et=(0,Ee.et)(At).description;Et&&!me.transaction&&"transaction"===me.type&&(me.transaction=Et)}(me,Et),function je(me,Oe){me.fingerprint=me.fingerprint?(0,h.k9)(me.fingerprint):[],Oe&&(me.fingerprint=me.fingerprint.concat(Oe)),me.fingerprint&&!me.fingerprint.length&&delete me.fingerprint}(me,At),function Re(me,Oe){const At=[...me.breadcrumbs||[],...Oe];me.breadcrumbs=At.length?At:void 0}(me,En),function nt(me,Oe){me.sdkProcessingMetadata={...me.sdkProcessingMetadata,...Oe}}(me,Me)}(Ot,Ve),q([...Ae,...Ve.eventProcessors],Ot,At).then(yt=>(yt&&function ot(me){const Oe={};try{me.exception.values.forEach(Et=>{Et.stacktrace.frames.forEach(En=>{En.debug_id&&(En.abs_path?Oe[En.abs_path]=En.debug_id:En.filename&&(Oe[En.filename]=En.debug_id),delete En.debug_id)})})}catch{}if(0===Object.keys(Oe).length)return;me.debug_meta=me.debug_meta||{},me.debug_meta.images=me.debug_meta.images||[];const At=me.debug_meta.images;Object.entries(Oe).forEach(([Et,En])=>{At.push({type:"sourcemap",code_file:Et,debug_id:En})})}(yt),"number"==typeof kn&&kn>0?function Nt(me,Oe,At){if(!me)return null;const Et={...me,...me.breadcrumbs&&{breadcrumbs:me.breadcrumbs.map(En=>({...En,...En.data&&{data:(0,S.S8)(En.data,Oe,At)}}))},...me.user&&{user:(0,S.S8)(me.user,Oe,At)},...me.contexts&&{contexts:(0,S.S8)(me.contexts,Oe,At)},...me.extra&&{extra:(0,S.S8)(me.extra,Oe,At)}};return me.contexts&&me.contexts.trace&&Et.contexts&&(Et.contexts.trace=me.contexts.trace,me.contexts.trace.data&&(Et.contexts.trace.data=(0,S.S8)(me.contexts.trace.data,Oe,At))),me.spans&&(Et.spans=me.spans.map(En=>({...En,...En.data&&{data:(0,S.S8)(En.data,Oe,At)}}))),Et}(yt,kn,nn):yt))}const rt=new WeakMap;function $t(me){if(me)return function Ce(me){return me instanceof Z.H||"function"==typeof me}(me)||function ve(me){return Object.keys(me).some(Oe=>ce.includes(Oe))}(me)?{captureContext:me}:me}const ce=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2855:(dn,Je,_)=>{"use strict";_.d(Je,{f:()=>A,r:()=>E});var h=_(7593);const O="_sentrySpan";function E(S,C){C?(0,h.my)(S,O,C):delete S[O]}function A(S){return S[O]}},8165:(dn,Je,_)=>{"use strict";_.d(Je,{Bk:()=>ot,CC:()=>re,Ck:()=>Z,Hu:()=>Xe,Qh:()=>De,VS:()=>Q,aO:()=>q,cI:()=>Ee,et:()=>Qe,kX:()=>ee,pK:()=>Re,xO:()=>rt,yW:()=>nt,zU:()=>oe});var h=_(7593),O=_(3902),E=_(8423),A=_(9868),S=_(2150),C=_(2849),W=_(3395),L=_(4541),N=_(5989),z=_(2855);const re=0,q=1;function Z(Nt){const{spanId:St,traceId:$t}=Nt.spanContext(),{data:Ce,op:ce,parent_span_id:ve,status:me,origin:Oe}=Qe(Nt);return(0,h.Ce)({parent_span_id:ve,span_id:St,trace_id:$t,data:Ce,op:ce,status:me,origin:Oe})}function ee(Nt){const{spanId:St,traceId:$t}=Nt.spanContext(),{parent_span_id:Ce}=Qe(Nt);return(0,h.Ce)({parent_span_id:Ce,span_id:St,trace_id:$t})}function De(Nt){const{traceId:St,spanId:$t}=Nt.spanContext(),Ce=Re(Nt);return(0,O.TC)(St,$t,Ce)}function Ee(Nt){return"number"==typeof Nt?ke(Nt):Array.isArray(Nt)?Nt[0]+Nt[1]/1e9:Nt instanceof Date?ke(Nt.getTime()):(0,E.zf)()}function ke(Nt){return Nt>9999999999?Nt/1e3:Nt}function Qe(Nt){if(function Ye(Nt){return"function"==typeof Nt.getSpanJSON}(Nt))return Nt.getSpanJSON();try{const{spanId:St,traceId:$t}=Nt.spanContext();if(function Pe(Nt){return!!(Nt.attributes&&Nt.startTime&&Nt.name&&Nt.endTime&&Nt.status)}(Nt)){const{attributes:Ce,startTime:ce,name:ve,endTime:me,parentSpanId:Oe,status:At}=Nt;return(0,h.Ce)({span_id:St,trace_id:$t,data:Ce,description:ve,parent_span_id:Oe,start_timestamp:Ee(ce),timestamp:Ee(me)||void 0,status:nt(At),op:Ce[L.uT],origin:Ce[L.JD],_metrics_summary:(0,W.g)(Nt)})}return{span_id:St,trace_id:$t}}catch{return{}}}function Re(Nt){const{traceFlags:St}=Nt.spanContext();return St===q}function nt(Nt){if(Nt&&Nt.code!==N.a3)return Nt.code===N.F3?"ok":Nt.message||"unknown_error"}const Te="_sentryChildSpans",je="_sentryRootSpan";function Xe(Nt,St){(0,h.my)(St,je,Nt[je]||Nt),Nt[Te]?Nt[Te].add(St):(0,h.my)(Nt,Te,new Set([St]))}function Q(Nt,St){Nt[Te]&&Nt[Te].delete(St)}function rt(Nt){const St=new Set;return function $t(Ce){if(!St.has(Ce)&&Re(Ce)){St.add(Ce);const ce=Ce[Te]?Array.from(Ce[Te]):[];for(const ve of ce)$t(ve)}}(Nt),Array.from(St)}function oe(Nt){return Nt[je]||Nt}function ot(){const Nt=(0,S.E)(),St=(0,A.h)(Nt);return St.getActiveSpan?St.getActiveSpan():(0,z.f)((0,C.o5)())}},6570:(dn,Je,_)=>{"use strict";_.d(Je,{De:()=>N,hF:()=>A,yD:()=>L});var h=_(3506),O=_(1362),E=_(1205);const A="baggage",S="sentry-",C=/^sentry-/,W=8192;function L(Z){const ee=function z(Z){if(Z&&((0,O.Kg)(Z)||Array.isArray(Z)))return Array.isArray(Z)?Z.reduce((ee,De)=>{const Ee=re(De);return Object.entries(Ee).forEach(([ke,Qe])=>{ee[ke]=Qe}),ee},{}):re(Z)}(Z);if(!ee)return;const De=Object.entries(ee).reduce((Ee,[ke,Qe])=>(ke.match(C)&&(Ee[ke.slice(S.length)]=Qe),Ee),{});return Object.keys(De).length>0?De:void 0}function N(Z){if(Z)return function q(Z){if(0!==Object.keys(Z).length)return Object.entries(Z).reduce((ee,[De,Ee],ke)=>{const Qe=`${encodeURIComponent(De)}=${encodeURIComponent(Ee)}`,Pe=0===ke?Qe:`${ee},${Qe}`;return Pe.length>W?(h.T&&E.vF.warn(`Not adding key: ${De} with val: ${Ee} to baggage header due to exceeding baggage size limits.`),ee):Pe},"")}(Object.entries(Z).reduce((De,[Ee,ke])=>(ke&&(De[`${S}${Ee}`]=ke),De),{}))}function re(Z){return Z.split(",").map(ee=>ee.split("=").map(De=>decodeURIComponent(De.trim()))).reduce((ee,[De,Ee])=>(De&&Ee&&(ee[De]=Ee),ee),{})}},4440:(dn,Je,_)=>{"use strict";_.d(Je,{$N:()=>W,Hd:()=>S,NX:()=>L,xE:()=>N});var h=_(1362);const E=_(2031).O,A=80;function S(z,re={}){if(!z)return"<unknown>";try{let q=z;const Z=5,ee=[];let De=0,Ee=0;const ke=" > ",Qe=ke.length;let Pe;const Ye=Array.isArray(re)?re:re.keyAttrs,Re=!Array.isArray(re)&&re.maxStringLength||A;for(;q&&De++<Z&&(Pe=C(q,Ye),!("html"===Pe||De>1&&Ee+ee.length*Qe+Pe.length>=Re));)ee.push(Pe),Ee+=Pe.length,q=q.parentNode;return ee.reverse().join(ke)}catch{return"<unknown>"}}function C(z,re){const q=z,Z=[];if(!q||!q.tagName)return"";if(E.HTMLElement&&q instanceof HTMLElement&&q.dataset){if(q.dataset.sentryComponent)return q.dataset.sentryComponent;if(q.dataset.sentryElement)return q.dataset.sentryElement}Z.push(q.tagName.toLowerCase());const ee=re&&re.length?re.filter(Ee=>q.getAttribute(Ee)).map(Ee=>[Ee,q.getAttribute(Ee)]):null;if(ee&&ee.length)ee.forEach(Ee=>{Z.push(`[${Ee[0]}="${Ee[1]}"]`)});else{q.id&&Z.push(`#${q.id}`);const Ee=q.className;if(Ee&&(0,h.Kg)(Ee)){const ke=Ee.split(/\s+/);for(const Qe of ke)Z.push(`.${Qe}`)}}const De=["aria-label","type","name","title","alt"];for(const Ee of De){const ke=q.getAttribute(Ee);ke&&Z.push(`[${Ee}="${ke}"]`)}return Z.join("")}function W(){try{return E.document.location.href}catch{return""}}function L(z){return E.document&&E.document.querySelector?E.document.querySelector(z):null}function N(z){if(!E.HTMLElement)return null;let re=z;for(let Z=0;Z<5;Z++){if(!re)return null;if(re instanceof HTMLElement){if(re.dataset.sentryComponent)return re.dataset.sentryComponent;if(re.dataset.sentryElement)return re.dataset.sentryElement}re=re.parentNode}return null}},147:(dn,Je,_)=>{"use strict";function h(O){let E,A=O[0],S=1;for(;S<O.length;){const C=O[S],W=O[S+1];if(S+=2,("optionalAccess"===C||"optionalCall"===C)&&null==A)return;"access"===C||"optionalAccess"===C?(E=A,A=W(A)):("call"===C||"optionalCall"===C)&&(A=W((...L)=>A.call(E,...L)),E=void 0)}return A}_.d(Je,{z:()=>h})},3506:(dn,Je,_)=>{"use strict";_.d(Je,{T:()=>h});const h=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},3977:(dn,Je,_)=>{"use strict";_.d(Je,{AD:()=>N,SB:()=>S});var h=_(3506),O=_(1205);const E=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function S(z,re=!1){const{host:q,path:Z,pass:ee,port:De,projectId:Ee,protocol:ke,publicKey:Qe}=z;return`${ke}://${Qe}${re&&ee?`:${ee}`:""}@${q}${De?`:${De}`:""}/${Z&&`${Z}/`}${Ee}`}function W(z){return{protocol:z.protocol,publicKey:z.publicKey||"",pass:z.pass||"",host:z.host,port:z.port||"",path:z.path||"",projectId:z.projectId}}function N(z){const re="string"==typeof z?function C(z){const re=E.exec(z);if(!re)return void(0,O.pq)(()=>{console.error(`Invalid Sentry Dsn: ${z}`)});const[q,Z,ee="",De="",Ee="",ke=""]=re.slice(1);let Qe="",Pe=ke;const Ye=Pe.split("/");if(Ye.length>1&&(Qe=Ye.slice(0,-1).join("/"),Pe=Ye.pop()),Pe){const Re=Pe.match(/^\d+/);Re&&(Pe=Re[0])}return W({host:De,pass:ee,path:Qe,projectId:Pe,port:Ee,protocol:q,publicKey:Z})}(z):W(z);if(re&&function L(z){if(!h.T)return!0;const{port:re,projectId:q,protocol:Z}=z;return!(["protocol","publicKey","host","projectId"].find(Ee=>!z[Ee]&&(O.vF.error(`Invalid Sentry Dsn: ${Ee} missing`),!0))||(q.match(/^\d+$/)?function A(z){return"http"===z||"https"===z}(Z)?re&&isNaN(parseInt(re,10))&&(O.vF.error(`Invalid Sentry Dsn: Invalid port ${re}`),1):(O.vF.error(`Invalid Sentry Dsn: Invalid protocol ${Z}`),1):(O.vF.error(`Invalid Sentry Dsn: Invalid projectId ${q}`),1)))}(re))return re}},679:(dn,Je,_)=>{"use strict";function h(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function O(){return"npm"}_.d(Je,{Z:()=>h,e:()=>O})},7138:(dn,Je,_)=>{"use strict";_.d(Je,{Cj:()=>Qe,W3:()=>C,bN:()=>re,bm:()=>De,h4:()=>S,n2:()=>Pe,y5:()=>ee,yH:()=>W,zk:()=>ke});var h=_(3977),O=_(6362),E=_(7593),A=_(2031);function S(Ye,Re=[]){return[Ye,Re]}function C(Ye,Re){const[nt,Te]=Ye;return[nt,[...Te,Re]]}function W(Ye,Re){const nt=Ye[1];for(const Te of nt)if(Re(Te,Te[0].type))return!0;return!1}function N(Ye){return A.O.__SENTRY__&&A.O.__SENTRY__.encodePolyfill?A.O.__SENTRY__.encodePolyfill(Ye):(new TextEncoder).encode(Ye)}function re(Ye){const[Re,nt]=Ye;let Te=JSON.stringify(Re);function je(Xe){"string"==typeof Te?Te="string"==typeof Xe?Te+Xe:[N(Te),Xe]:Te.push("string"==typeof Xe?N(Xe):Xe)}for(const Xe of nt){const[Q,rt]=Xe;if(je(`\n${JSON.stringify(Q)}\n`),"string"==typeof rt||rt instanceof Uint8Array)je(rt);else{let oe;try{oe=JSON.stringify(rt)}catch{oe=JSON.stringify((0,O.S8)(rt))}je(oe)}}return"string"==typeof Te?Te:function q(Ye){const Re=Ye.reduce((je,Xe)=>je+Xe.length,0),nt=new Uint8Array(Re);let Te=0;for(const je of Ye)nt.set(je,Te),Te+=je.length;return nt}(Te)}function ee(Ye){return[{type:"span"},Ye]}function De(Ye){const Re="string"==typeof Ye.data?N(Ye.data):Ye.data;return[(0,E.Ce)({type:"attachment",length:Re.length,filename:Ye.filename,content_type:Ye.contentType,attachment_type:Ye.attachmentType}),Re]}const Ee={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ke(Ye){return Ee[Ye]}function Qe(Ye){if(!Ye||!Ye.sdk)return;const{name:Re,version:nt}=Ye.sdk;return{name:Re,version:nt}}function Pe(Ye,Re,nt,Te){const je=Ye.sdkProcessingMetadata&&Ye.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:Ye.event_id,sent_at:(new Date).toISOString(),...Re&&{sdk:Re},...!!nt&&Te&&{dsn:(0,h.SB)(Te)},...je&&{trace:(0,E.Ce)({...je})}}}},5027:(dn,Je,_)=>{"use strict";_.d(Je,{AS:()=>L,aj:()=>N,s5:()=>C});var h=_(3506),O=_(1205),E=_(3439);const A={},S={};function C(z,re){A[z]=A[z]||[],A[z].push(re)}function L(z,re){S[z]||(re(),S[z]=!0)}function N(z,re){const q=z&&A[z];if(q)for(const Z of q)try{Z(re)}catch(ee){h.T&&O.vF.error(`Error while triggering instrumentation handler.\nType: ${z}\nName: ${(0,E.qQ)(Z)}\nError:`,ee)}}},1362:(dn,Je,_)=>{"use strict";_.d(Je,{BD:()=>S,Kg:()=>W,L2:()=>ke,NF:()=>L,Qd:()=>z,Qg:()=>ee,T2:()=>A,W6:()=>C,bJ:()=>O,gd:()=>Z,mE:()=>De,sO:()=>N,tH:()=>Ee,vq:()=>q,xH:()=>re});const h=Object.prototype.toString;function O(Qe){switch(h.call(Qe)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ee(Qe,Error)}}function E(Qe,Pe){return h.call(Qe)===`[object ${Pe}]`}function A(Qe){return E(Qe,"ErrorEvent")}function S(Qe){return E(Qe,"DOMError")}function C(Qe){return E(Qe,"DOMException")}function W(Qe){return E(Qe,"String")}function L(Qe){return"object"==typeof Qe&&null!==Qe&&"__sentry_template_string__"in Qe&&"__sentry_template_values__"in Qe}function N(Qe){return null===Qe||L(Qe)||"object"!=typeof Qe&&"function"!=typeof Qe}function z(Qe){return E(Qe,"Object")}function re(Qe){return typeof Event<"u"&&Ee(Qe,Event)}function q(Qe){return typeof Element<"u"&&Ee(Qe,Element)}function Z(Qe){return E(Qe,"RegExp")}function ee(Qe){return!(!Qe||!Qe.then||"function"!=typeof Qe.then)}function De(Qe){return z(Qe)&&"nativeEvent"in Qe&&"preventDefault"in Qe&&"stopPropagation"in Qe}function Ee(Qe,Pe){try{return Qe instanceof Pe}catch{return!1}}function ke(Qe){return!("object"!=typeof Qe||null===Qe||!Qe.__isVue&&!Qe._isVue)}},1205:(dn,Je,_)=>{"use strict";_.d(Je,{Ow:()=>A,Z9:()=>S,pq:()=>C,vF:()=>L});var h=_(3506),O=_(2031);const A=["debug","info","warn","error","log","assert","trace"],S={};function C(N){if(!("console"in O.O))return N();const z=O.O.console,re={},q=Object.keys(S);q.forEach(Z=>{const ee=S[Z];re[Z]=z[Z],z[Z]=ee});try{return N()}finally{q.forEach(Z=>{z[Z]=re[Z]})}}const L=function W(){let N=!1;const z={enable:()=>{N=!0},disable:()=>{N=!1},isEnabled:()=>N};return A.forEach(h.T?re=>{z[re]=(...q)=>{N&&C(()=>{O.O.console[re](`Sentry Logger [${re}]:`,...q)})}}:re=>{z[re]=()=>{}}),z}()},1582:(dn,Je,_)=>{"use strict";_.d(Je,{$X:()=>S,GR:()=>q,M6:()=>W,eJ:()=>E,gO:()=>C,k9:()=>Z});var h=_(7593),O=_(2031);function E(){const ee=O.O,De=ee.crypto||ee.msCrypto;let Ee=()=>16*Math.random();try{if(De&&De.randomUUID)return De.randomUUID().replace(/-/g,"");De&&De.getRandomValues&&(Ee=()=>{const ke=new Uint8Array(1);return De.getRandomValues(ke),ke[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,ke=>(ke^(15&Ee())>>ke/4).toString(16))}function A(ee){return ee.exception&&ee.exception.values?ee.exception.values[0]:void 0}function S(ee){const{message:De,event_id:Ee}=ee;if(De)return De;const ke=A(ee);return ke?ke.type&&ke.value?`${ke.type}: ${ke.value}`:ke.type||ke.value||Ee||"<unknown>":Ee||"<unknown>"}function C(ee,De,Ee){const ke=ee.exception=ee.exception||{},Qe=ke.values=ke.values||[],Pe=Qe[0]=Qe[0]||{};Pe.value||(Pe.value=De||""),Pe.type||(Pe.type=Ee||"Error")}function W(ee,De){const Ee=A(ee);if(!Ee)return;const Qe=Ee.mechanism;if(Ee.mechanism={type:"generic",handled:!0,...Qe,...De},De&&"data"in De){const Pe={...Qe&&Qe.data,...De.data};Ee.mechanism.data=Pe}}function q(ee){if(ee&&ee.__sentry_captured__)return!0;try{(0,h.my)(ee,"__sentry_captured__",!0)}catch{}return!1}function Z(ee){return Array.isArray(ee)?ee:[ee]}},6362:(dn,Je,_)=>{"use strict";_.d(Je,{S8:()=>S,cd:()=>C});var h=_(1362),E=_(7593),A=_(3439);function S(Z,ee=100,De=1/0){try{return W("",Z,ee,De)}catch(Ee){return{ERROR:`**non-serializable** (${Ee})`}}}function C(Z,ee=3,De=102400){const Ee=S(Z,ee);return function re(Z){return function z(Z){return~-encodeURI(Z).split(/%..|./).length}(JSON.stringify(Z))}(Ee)>De?C(Z,ee-1,De):Ee}function W(Z,ee,De=1/0,Ee=1/0,ke=function O(){const Z="function"==typeof WeakSet,ee=Z?new WeakSet:[];return[function De(ke){if(Z)return!!ee.has(ke)||(ee.add(ke),!1);for(let Qe=0;Qe<ee.length;Qe++)if(ee[Qe]===ke)return!0;return ee.push(ke),!1},function Ee(ke){if(Z)ee.delete(ke);else for(let Qe=0;Qe<ee.length;Qe++)if(ee[Qe]===ke){ee.splice(Qe,1);break}}]}()){const[Qe,Pe]=ke;if(null==ee||["number","boolean","string"].includes(typeof ee)&&!Number.isNaN(ee))return ee;const Ye=function L(Z,ee){try{if("domain"===Z&&ee&&"object"==typeof ee&&ee._events)return"[Domain]";if("domainEmitter"===Z)return"[DomainEmitter]";if(typeof global<"u"&&ee===global)return"[Global]";if(typeof window<"u"&&ee===window)return"[Window]";if(typeof document<"u"&&ee===document)return"[Document]";if((0,h.L2)(ee))return"[VueViewModel]";if((0,h.mE)(ee))return"[SyntheticEvent]";if("number"==typeof ee&&ee!=ee)return"[NaN]";if("function"==typeof ee)return`[Function: ${(0,A.qQ)(ee)}]`;if("symbol"==typeof ee)return`[${String(ee)}]`;if("bigint"==typeof ee)return`[BigInt: ${String(ee)}]`;const De=function N(Z){const ee=Object.getPrototypeOf(Z);return ee?ee.constructor.name:"null prototype"}(ee);return/^HTML(\w*)Element$/.test(De)?`[HTMLElement: ${De}]`:`[object ${De}]`}catch(De){return`**non-serializable** (${De})`}}(Z,ee);if(!Ye.startsWith("[object "))return Ye;if(ee.__sentry_skip_normalization__)return ee;const Re="number"==typeof ee.__sentry_override_normalization_depth__?ee.__sentry_override_normalization_depth__:De;if(0===Re)return Ye.replace("object ","");if(Qe(ee))return"[Circular ~]";const nt=ee;if(nt&&"function"==typeof nt.toJSON)try{return W("",nt.toJSON(),Re-1,Ee,ke)}catch{}const Te=Array.isArray(ee)?[]:{};let je=0;const Xe=(0,E.W4)(ee);for(const Q in Xe)if(Object.prototype.hasOwnProperty.call(Xe,Q)){if(je>=Ee){Te[Q]="[MaxProperties ~]";break}Te[Q]=W(Q,Xe[Q],Re-1,Ee,ke),je++}return Pe(ee),Te}},7593:(dn,Je,_)=>{"use strict";_.d(Je,{Ce:()=>De,GS:()=>C,HF:()=>ee,W4:()=>re,my:()=>W,pO:()=>L,sp:()=>N,u4:()=>z});var h=_(4440),O=_(3506),E=_(1362),A=_(1205),S=_(6851);function C(Pe,Ye,Re){if(!(Ye in Pe))return;const nt=Pe[Ye],Te=Re(nt);"function"==typeof Te&&L(Te,nt),Pe[Ye]=Te}function W(Pe,Ye,Re){try{Object.defineProperty(Pe,Ye,{value:Re,writable:!0,configurable:!0})}catch{O.T&&A.vF.log(`Failed to add non-enumerable property "${Ye}" to object`,Pe)}}function L(Pe,Ye){try{Pe.prototype=Ye.prototype=Ye.prototype||{},W(Pe,"__sentry_original__",Ye)}catch{}}function N(Pe){return Pe.__sentry_original__}function z(Pe){return Object.keys(Pe).map(Ye=>`${encodeURIComponent(Ye)}=${encodeURIComponent(Pe[Ye])}`).join("&")}function re(Pe){if((0,E.bJ)(Pe))return{message:Pe.message,name:Pe.name,stack:Pe.stack,...Z(Pe)};if((0,E.xH)(Pe)){const Ye={type:Pe.type,target:q(Pe.target),currentTarget:q(Pe.currentTarget),...Z(Pe)};return typeof CustomEvent<"u"&&(0,E.tH)(Pe,CustomEvent)&&(Ye.detail=Pe.detail),Ye}return Pe}function q(Pe){try{return(0,E.vq)(Pe)?(0,h.Hd)(Pe):Object.prototype.toString.call(Pe)}catch{return"<unknown>"}}function Z(Pe){if("object"==typeof Pe&&null!==Pe){const Ye={};for(const Re in Pe)Object.prototype.hasOwnProperty.call(Pe,Re)&&(Ye[Re]=Pe[Re]);return Ye}return{}}function ee(Pe,Ye=40){const Re=Object.keys(re(Pe));Re.sort();const nt=Re[0];if(!nt)return"[object has no keys]";if(nt.length>=Ye)return(0,S.xv)(nt,Ye);for(let Te=Re.length;Te>0;Te--){const je=Re.slice(0,Te).join(", ");if(!(je.length>Ye))return Te===Re.length?je:(0,S.xv)(je,Ye)}return""}function De(Pe){return Ee(Pe,new Map)}function Ee(Pe,Ye){if(function ke(Pe){if(!(0,E.Qd)(Pe))return!1;try{const Ye=Object.getPrototypeOf(Pe).constructor.name;return!Ye||"Object"===Ye}catch{return!0}}(Pe)){const Re=Ye.get(Pe);if(void 0!==Re)return Re;const nt={};Ye.set(Pe,nt);for(const Te of Object.keys(Pe))typeof Pe[Te]<"u"&&(nt[Te]=Ee(Pe[Te],Ye));return nt}if(Array.isArray(Pe)){const Re=Ye.get(Pe);if(void 0!==Re)return Re;const nt=[];return Ye.set(Pe,nt),Pe.forEach(Te=>{nt.push(Ee(Te,Ye))}),nt}return Pe}},1475:(dn,Je,_)=>{"use strict";_.d(Je,{J:()=>O});var h=_(1582);function O(){return{traceId:(0,h.eJ)(),spanId:(0,h.eJ)().substring(16)}}},1857:(dn,Je,_)=>{"use strict";_.d(Je,{Jz:()=>A,wq:()=>S});const h=6e4;function A(C,W,L=Date.now()){return function E(C,W){return C[W]||C.all||0}(C,W)>L}function S(C,{statusCode:W,headers:L},N=Date.now()){const z={...C},re=L&&L["x-sentry-rate-limits"],q=L&&L["retry-after"];if(re)for(const Z of re.trim().split(",")){const[ee,De,,,Ee]=Z.split(":",5),ke=parseInt(ee,10),Qe=1e3*(isNaN(ke)?60:ke);if(De)for(const Pe of De.split(";"))"metric_bucket"===Pe?(!Ee||Ee.split(";").includes("custom"))&&(z[Pe]=N+Qe):z[Pe]=N+Qe;else z.all=N+Qe}else q?z.all=N+function O(C,W=Date.now()){const L=parseInt(`${C}`,10);if(!isNaN(L))return 1e3*L;const N=Date.parse(`${C}`);return isNaN(N)?h:N-W}(q,N):429===W&&(z.all=N+6e4);return z}},3439:(dn,Je,_)=>{"use strict";_.d(Je,{RV:()=>re,gd:()=>S,qQ:()=>z,vk:()=>C,yF:()=>O});const h=50,O="?",E=/\(error: (.*)\)/,A=/captureMessage|captureException/;function S(...q){const Z=q.sort((ee,De)=>ee[0]-De[0]).map(ee=>ee[1]);return(ee,De=0,Ee=0)=>{const ke=[],Qe=ee.split("\n");for(let Pe=De;Pe<Qe.length;Pe++){const Ye=Qe[Pe];if(Ye.length>1024)continue;const Re=E.test(Ye)?Ye.replace(E,"$1"):Ye;if(!Re.match(/\S*Error: /)){for(const nt of Z){const Te=nt(Re);if(Te){ke.push(Te);break}}if(ke.length>=h+Ee)break}}return function W(q){if(!q.length)return[];const Z=Array.from(q);return/sentryWrapped/.test(L(Z).function||"")&&Z.pop(),Z.reverse(),A.test(L(Z).function||"")&&(Z.pop(),A.test(L(Z).function||"")&&Z.pop()),Z.slice(0,h).map(ee=>({...ee,filename:ee.filename||L(Z).filename,function:ee.function||O}))}(ke.slice(Ee))}}function C(q){return Array.isArray(q)?S(...q):q}function L(q){return q[q.length-1]||{}}const N="<anonymous>";function z(q){try{return q&&"function"==typeof q&&q.name||N}catch{return N}}function re(q){const Z=q.exception;if(Z){const ee=[];try{return Z.values.forEach(De=>{De.stacktrace.frames&&ee.push(...De.stacktrace.frames)}),ee}catch{return}}}},6851:(dn,Je,_)=>{"use strict";_.d(Je,{Xr:()=>C,gt:()=>A,xv:()=>O});var h=_(1362);function O(W,L=0){return"string"!=typeof W||0===L||W.length<=L?W:`${W.slice(0,L)}...`}function A(W,L){if(!Array.isArray(W))return"";const N=[];for(let z=0;z<W.length;z++){const re=W[z];try{(0,h.L2)(re)?N.push("[VueViewModel]"):N.push(String(re))}catch{N.push("[value cannot be serialized]")}}return N.join(L)}function C(W,L=[],N=!1){return L.some(z=>function S(W,L,N=!1){return!!(0,h.Kg)(W)&&((0,h.gd)(L)?L.test(W):!!(0,h.Kg)(L)&&(N?W===L:W.includes(L)))}(W,z,N))}},774:(dn,Je,_)=>{"use strict";_.d(Je,{a3:()=>N,m7:()=>z,vm:()=>L});var h=_(3506),O=_(1205);const A=_(2031).O;function L(){if(!("fetch"in A))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function N(Z){return Z&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(Z.toString())}function z(){if("string"==typeof EdgeRuntime)return!0;if(!L())return!1;if(N(A.fetch))return!0;let Z=!1;const ee=A.document;if(ee&&"function"==typeof ee.createElement)try{const De=ee.createElement("iframe");De.hidden=!0,ee.head.appendChild(De),De.contentWindow&&De.contentWindow.fetch&&(Z=N(De.contentWindow.fetch)),ee.head.removeChild(De)}catch(De){h.T&&O.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",De)}return Z}},5612:(dn,Je,_)=>{"use strict";_.d(Je,{T2:()=>S,XW:()=>E,xg:()=>A});var O,C,h=_(1362);function E(C){return new S(W=>{W(C)})}function A(C){return new S((W,L)=>{L(C)})}(C=O||(O={}))[C.PENDING=0]="PENDING",C[C.RESOLVED=1]="RESOLVED",C[C.REJECTED=2]="REJECTED";class S{constructor(W){S.prototype.__init.call(this),S.prototype.__init2.call(this),S.prototype.__init3.call(this),S.prototype.__init4.call(this),this._state=O.PENDING,this._handlers=[];try{W(this._resolve,this._reject)}catch(L){this._reject(L)}}then(W,L){return new S((N,z)=>{this._handlers.push([!1,re=>{if(W)try{N(W(re))}catch(q){z(q)}else N(re)},re=>{if(L)try{N(L(re))}catch(q){z(q)}else z(re)}]),this._executeHandlers()})}catch(W){return this.then(L=>L,W)}finally(W){return new S((L,N)=>{let z,re;return this.then(q=>{re=!1,z=q,W&&W()},q=>{re=!0,z=q,W&&W()}).then(()=>{re?N(z):L(z)})})}__init(){this._resolve=W=>{this._setResult(O.RESOLVED,W)}}__init2(){this._reject=W=>{this._setResult(O.REJECTED,W)}}__init3(){this._setResult=(W,L)=>{if(this._state===O.PENDING){if((0,h.Qg)(L))return void L.then(this._resolve,this._reject);this._state=W,this._value=L,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===O.PENDING)return;const W=this._handlers.slice();this._handlers=[],W.forEach(L=>{L[0]||(this._state===O.RESOLVED&&L[1](this._value),this._state===O.REJECTED&&L[2](this._value),L[0]=!0)})}}}},8423:(dn,Je,_)=>{"use strict";_.d(Je,{k3:()=>W,lu:()=>E,zf:()=>S});var h=_(2031);const O=1e3;function E(){return Date.now()/O}const S=function A(){const{performance:L}=h.O;if(!L||!L.now)return E;const N=Date.now()-L.now(),z=null==L.timeOrigin?N:L.timeOrigin;return()=>(z+L.now())/O}();let C;const W=(()=>{const{performance:L}=h.O;if(!L||!L.now)return void(C="none");const N=36e5,z=L.now(),re=Date.now(),q=L.timeOrigin?Math.abs(L.timeOrigin+z-re):N,Z=q<N,ee=L.timing&&L.timing.navigationStart,Ee="number"==typeof ee?Math.abs(ee+z-re):N;return Z||Ee<N?q<=Ee?(C="timeOrigin",L.timeOrigin):(C="navigationStart",ee):(C="dateNow",re)})()},3902:(dn,Je,_)=>{"use strict";_.d(Je,{TC:()=>C,kM:()=>S});var h=_(6570),O=_(1582);const E=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function S(W,L){const N=function A(W){if(!W)return;const L=W.match(E);if(!L)return;let N;return"1"===L[3]?N=!0:"0"===L[3]&&(N=!1),{traceId:L[1],parentSampled:N,parentSpanId:L[2]}}(W),z=(0,h.yD)(L),{traceId:re,parentSpanId:q,parentSampled:Z}=N||{};return N?{traceId:re||(0,O.eJ)(),parentSpanId:q||(0,O.eJ)().substring(16),spanId:(0,O.eJ)().substring(16),sampled:Z,dsc:z||{}}:{traceId:re||(0,O.eJ)(),spanId:(0,O.eJ)().substring(16)}}function C(W=(0,O.eJ)(),L=(0,O.eJ)().substring(16),N){let z="";return void 0!==N&&(z=N?"-1":"-0"),`${W}-${L}${z}`}},3408:(dn,Je,_)=>{"use strict";_.d(Je,{M:()=>h});const h="8.28.0"},2031:(dn,Je,_)=>{"use strict";_.d(Je,{B:()=>E,O:()=>O});var h=_(3408);const O=globalThis;function E(A,S,C){const W=C||O,L=W.__SENTRY__=W.__SENTRY__||{},N=L[h.M]=L[h.M]||{};return N[A]||(N[A]=S())}},2789:(dn,Je,_)=>{"use strict";_.d(Je,{Zn:()=>Pt});const C={year:0,month:1,day:2,hour:3,minute:4,second:5},N={};function re(yt,Jt,vn,wn,on,sn,de){const tt=new Date(0);return tt.setUTCFullYear(yt,Jt,vn),tt.setUTCHours(wn,on,sn,de),tt}const q=36e5,Z=6e4,ee={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function ke(yt,Jt){const vn=function S(yt,Jt){const vn=function z(yt){if(!N[yt]){const Jt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));N[yt]="06/25/2014, 00:00:00"===Jt||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===Jt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:yt,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:yt,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return N[yt]}(Jt);return"formatToParts"in vn?function W(yt,Jt){try{const vn=yt.formatToParts(Jt),wn=[];for(let on=0;on<vn.length;on++){const sn=C[vn[on].type];void 0!==sn&&(wn[sn]=parseInt(vn[on].value,10))}return wn}catch(vn){if(vn instanceof RangeError)return[NaN];throw vn}}(vn,yt):function L(yt,Jt){const vn=yt.format(Jt),wn=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(vn);return[parseInt(wn[3],10),parseInt(wn[1],10),parseInt(wn[2],10),parseInt(wn[4],10),parseInt(wn[5],10),parseInt(wn[6],10)]}(vn,yt)}(yt,Jt),wn=re(vn[0],vn[1]-1,vn[2],vn[3]%24,vn[4],vn[5],0).getTime();let on=yt.getTime();const sn=on%1e3;return on-=sn>=0?sn:1e3+sn,wn-on}function Pe(yt,Jt){return-23<=yt&&yt<=23&&(null==Jt||0<=Jt&&Jt<=59)}const Ye={};function Pt(yt,Jt){return-function De(yt,Jt,vn){if(!yt)return 0;let on,sn,wn=ee.timezoneZ.exec(yt);if(wn)return 0;if(wn=ee.timezoneHH.exec(yt),wn)return on=parseInt(wn[1],10),Pe(on)?-on*q:NaN;if(wn=ee.timezoneHHMM.exec(yt),wn){on=parseInt(wn[2],10);const de=parseInt(wn[3],10);return Pe(on,de)?(sn=Math.abs(on)*q+de*Z,"+"===wn[1]?-sn:sn):NaN}if(function Re(yt){if(Ye[yt])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:yt}),Ye[yt]=!0,!0}catch{return!1}}(yt)){Jt=new Date(Jt||Date.now());const de=vn?Jt:function Ee(yt){return re(yt.getFullYear(),yt.getMonth(),yt.getDate(),yt.getHours(),yt.getMinutes(),yt.getSeconds(),yt.getMilliseconds())}(Jt),tt=ke(de,yt);return-(vn?tt:function Qe(yt,Jt,vn){let on=yt.getTime()-Jt;const sn=ke(new Date(on),vn);if(Jt===sn)return Jt;on-=sn-Jt;const de=ke(new Date(on),vn);return sn===de?sn:Math.max(sn,de)}(Jt,tt,yt))}return NaN}(yt,Jt)}},9857:(dn,Je,_)=>{"use strict";_.d(Je,{q:()=>O});let h={};function O(){return h}},7913:(dn,Je,_)=>{"use strict";_.d(Je,{m:()=>A});const h=(S,C)=>{switch(S){case"P":return C.date({width:"short"});case"PP":return C.date({width:"medium"});case"PPP":return C.date({width:"long"});default:return C.date({width:"full"})}},O=(S,C)=>{switch(S){case"p":return C.time({width:"short"});case"pp":return C.time({width:"medium"});case"ppp":return C.time({width:"long"});default:return C.time({width:"full"})}},A={p:O,P:(S,C)=>{const W=S.match(/(P+)(p+)?/)||[],L=W[1],N=W[2];if(!N)return h(S,C);let z;switch(L){case"P":z=C.dateTime({width:"short"});break;case"PP":z=C.dateTime({width:"medium"});break;case"PPP":z=C.dateTime({width:"long"});break;default:z=C.dateTime({width:"full"})}return z.replace("{{date}}",h(L,C)).replace("{{time}}",O(N,C))}}},5225:(dn,Je,_)=>{"use strict";function h(O){return E=>{const S=(O?Math[O]:Math.trunc)(E);return 0===S?0:S}}_.d(Je,{u:()=>h})},8889:(dn,Je,_)=>{"use strict";_.d(Je,{G:()=>O});var h=_(8700);function O(E){const A=(0,h.a)(E),S=new Date(Date.UTC(A.getFullYear(),A.getMonth(),A.getDate(),A.getHours(),A.getMinutes(),A.getSeconds(),A.getMilliseconds()));return S.setUTCFullYear(A.getFullYear()),+E-+S}},1454:(dn,Je,_)=>{"use strict";_.d(Je,{Ss:()=>C,ef:()=>A,xM:()=>S});const h=/^D+$/,O=/^Y+$/,E=["D","DD","YY","YYYY"];function A(L){return h.test(L)}function S(L){return O.test(L)}function C(L,N,z){const re=function W(L,N,z){const re="Y"===L[0]?"years":"days of the month";return`Use \`${L.toLowerCase()}\` instead of \`${L}\` (in \`${N}\`) for formatting ${re} to the input \`${z}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(L,N,z);if(console.warn(re),E.includes(L))throw new RangeError(re)}},1299:(dn,Je,_)=>{"use strict";_.d(Je,{W:()=>S});var h=_(8797),O=_(6337),E=_(6814),A=_(8700);function S(W,L){const{years:N=0,months:z=0,weeks:re=0,days:q=0,hours:Z=0,minutes:ee=0,seconds:De=0}=L,Ee=(0,A.a)(W),ke=z||N?(0,O.P)(Ee,z+12*N):Ee,Qe=q||re?(0,h.f)(ke,q+7*re):ke,Re=1e3*(De+60*(ee+60*Z));return(0,E.w)(W,Qe.getTime()+Re)}},8797:(dn,Je,_)=>{"use strict";_.d(Je,{f:()=>E});var h=_(8700),O=_(6814);function E(S,C){const W=(0,h.a)(S);return isNaN(C)?(0,O.w)(S,NaN):(C&&W.setDate(W.getDate()+C),W)}},9533:(dn,Je,_)=>{"use strict";_.d(Je,{L:()=>E});var h=_(1962),O=_(7870);function E(S,C){return(0,h.A)(S,C*O.s0)}},1962:(dn,Je,_)=>{"use strict";_.d(Je,{A:()=>E});var h=_(8700),O=_(6814);function E(S,C){const W=+(0,h.a)(S);return(0,O.w)(S,W+C)}},9675:(dn,Je,_)=>{"use strict";_.d(Je,{z:()=>E});var h=_(1962),O=_(7870);function E(S,C){return(0,h.A)(S,C*O.Cg)}},6337:(dn,Je,_)=>{"use strict";_.d(Je,{P:()=>E});var h=_(8700),O=_(6814);function E(S,C){const W=(0,h.a)(S);if(isNaN(C))return(0,O.w)(S,NaN);if(!C)return W;const L=W.getDate(),N=(0,O.w)(S,W.getTime());return N.setMonth(W.getMonth()+C+1,0),L>=N.getDate()?N:(W.setFullYear(N.getFullYear(),N.getMonth(),L),W)}},5859:(dn,Je,_)=>{"use strict";_.d(Je,{p:()=>O});var h=_(1962);function O(A,S){return(0,h.A)(A,1e3*S)}},6243:(dn,Je,_)=>{"use strict";_.d(Je,{J:()=>O});var h=_(8797);function O(A,S){return(0,h.f)(A,7*S)}},4938:(dn,Je,_)=>{"use strict";_.d(Je,{e:()=>O});var h=_(6337);function O(A,S){return(0,h.P)(A,12*S)}},7870:(dn,Je,_)=>{"use strict";_.d(Je,{Cg:()=>W,F6:()=>q,Nw:()=>re,_m:()=>N,my:()=>S,s0:()=>L,w4:()=>C}),Math.pow(10,8);const S=6048e5,C=864e5,W=6e4,L=36e5,N=1e3,re=43200,q=1440},6814:(dn,Je,_)=>{"use strict";function h(E,A){return E instanceof Date?new E.constructor(A):new Date(A)}_.d(Je,{w:()=>h})},6248:(dn,Je,_)=>{"use strict";_.d(Je,{m:()=>A});var h=_(7870),O=_(3240),E=_(8889);function A(C,W){const L=(0,O.o)(C),N=(0,O.o)(W),z=+L-(0,E.G)(L),re=+N-(0,E.G)(N);return Math.round((z-re)/h.w4)}},1246:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>E});var h=_(6248),O=_(8700);function E(C,W){const L=(0,O.a)(C),N=(0,O.a)(W),z=A(L,N),re=Math.abs((0,h.m)(L,N));L.setDate(L.getDate()-z*re);const Z=z*(re-+(A(L,N)===-z));return 0===Z?0:Z}function A(C,W){const L=C.getFullYear()-W.getFullYear()||C.getMonth()-W.getMonth()||C.getDate()-W.getDate()||C.getHours()-W.getHours()||C.getMinutes()-W.getMinutes()||C.getSeconds()-W.getSeconds()||C.getMilliseconds()-W.getMilliseconds();return L<0?-1:L>0?1:L}},5213:(dn,Je,_)=>{"use strict";_.d(Je,{b:()=>O});var h=_(8700);function O(A,S){return+(0,h.a)(A)-+(0,h.a)(S)}},1874:(dn,Je,_)=>{"use strict";_.d(Je,{o:()=>A});var h=_(5225),O=_(7870),E=_(5213);function A(C,W,L){const N=(0,E.b)(C,W)/O.Cg;return(0,h.u)(L?.roundingMethod)(N)}},6441:(dn,Je,_)=>{"use strict";_.d(Je,{D:()=>O});var h=_(8700);function O(A){const S=(0,h.a)(A);return S.setHours(23,59,59,999),S}},5469:(dn,Je,_)=>{"use strict";_.d(Je,{V:()=>O});var h=_(8700);function O(A){const S=(0,h.a)(A);return S.setSeconds(59,999),S}},4268:(dn,Je,_)=>{"use strict";_.d(Je,{GP:()=>St});var h=_(4994),O=_(9857),E=_(6248),A=_(8700),S=_(6814);var z=_(3701),re=_(1359),q=_(5289),Z=_(1598);function ee(ce,ve){return(ce<0?"-":"")+Math.abs(ce).toString().padStart(ve,"0")}const De={y(ce,ve){const me=ce.getFullYear(),Oe=me>0?me:1-me;return ee("yy"===ve?Oe%100:Oe,ve.length)},M(ce,ve){const me=ce.getMonth();return"M"===ve?String(me+1):ee(me+1,2)},d:(ce,ve)=>ee(ce.getDate(),ve.length),a(ce,ve){const me=ce.getHours()/12>=1?"pm":"am";switch(ve){case"a":case"aa":return me.toUpperCase();case"aaa":return me;case"aaaaa":return me[0];default:return"am"===me?"a.m.":"p.m."}},h:(ce,ve)=>ee(ce.getHours()%12||12,ve.length),H:(ce,ve)=>ee(ce.getHours(),ve.length),m:(ce,ve)=>ee(ce.getMinutes(),ve.length),s:(ce,ve)=>ee(ce.getSeconds(),ve.length),S(ce,ve){const me=ve.length,Oe=ce.getMilliseconds();return ee(Math.trunc(Oe*Math.pow(10,me-3)),ve.length)}},ke={G:function(ce,ve,me){const Oe=ce.getFullYear()>0?1:0;switch(ve){case"G":case"GG":case"GGG":return me.era(Oe,{width:"abbreviated"});case"GGGGG":return me.era(Oe,{width:"narrow"});default:return me.era(Oe,{width:"wide"})}},y:function(ce,ve,me){if("yo"===ve){const Oe=ce.getFullYear();return me.ordinalNumber(Oe>0?Oe:1-Oe,{unit:"year"})}return De.y(ce,ve)},Y:function(ce,ve,me,Oe){const At=(0,Z.h)(ce,Oe),Et=At>0?At:1-At;return"YY"===ve?ee(Et%100,2):"Yo"===ve?me.ordinalNumber(Et,{unit:"year"}):ee(Et,ve.length)},R:function(ce,ve){return ee((0,re.p)(ce),ve.length)},u:function(ce,ve){return ee(ce.getFullYear(),ve.length)},Q:function(ce,ve,me){const Oe=Math.ceil((ce.getMonth()+1)/3);switch(ve){case"Q":return String(Oe);case"QQ":return ee(Oe,2);case"Qo":return me.ordinalNumber(Oe,{unit:"quarter"});case"QQQ":return me.quarter(Oe,{width:"abbreviated",context:"formatting"});case"QQQQQ":return me.quarter(Oe,{width:"narrow",context:"formatting"});default:return me.quarter(Oe,{width:"wide",context:"formatting"})}},q:function(ce,ve,me){const Oe=Math.ceil((ce.getMonth()+1)/3);switch(ve){case"q":return String(Oe);case"qq":return ee(Oe,2);case"qo":return me.ordinalNumber(Oe,{unit:"quarter"});case"qqq":return me.quarter(Oe,{width:"abbreviated",context:"standalone"});case"qqqqq":return me.quarter(Oe,{width:"narrow",context:"standalone"});default:return me.quarter(Oe,{width:"wide",context:"standalone"})}},M:function(ce,ve,me){const Oe=ce.getMonth();switch(ve){case"M":case"MM":return De.M(ce,ve);case"Mo":return me.ordinalNumber(Oe+1,{unit:"month"});case"MMM":return me.month(Oe,{width:"abbreviated",context:"formatting"});case"MMMMM":return me.month(Oe,{width:"narrow",context:"formatting"});default:return me.month(Oe,{width:"wide",context:"formatting"})}},L:function(ce,ve,me){const Oe=ce.getMonth();switch(ve){case"L":return String(Oe+1);case"LL":return ee(Oe+1,2);case"Lo":return me.ordinalNumber(Oe+1,{unit:"month"});case"LLL":return me.month(Oe,{width:"abbreviated",context:"standalone"});case"LLLLL":return me.month(Oe,{width:"narrow",context:"standalone"});default:return me.month(Oe,{width:"wide",context:"standalone"})}},w:function(ce,ve,me,Oe){const At=(0,q.N)(ce,Oe);return"wo"===ve?me.ordinalNumber(At,{unit:"week"}):ee(At,ve.length)},I:function(ce,ve,me){const Oe=(0,z.s)(ce);return"Io"===ve?me.ordinalNumber(Oe,{unit:"week"}):ee(Oe,ve.length)},d:function(ce,ve,me){return"do"===ve?me.ordinalNumber(ce.getDate(),{unit:"date"}):De.d(ce,ve)},D:function(ce,ve,me){const Oe=function L(ce){const ve=(0,A.a)(ce);return(0,E.m)(ve,function C(ce){const ve=(0,A.a)(ce),me=(0,S.w)(ce,0);return me.setFullYear(ve.getFullYear(),0,1),me.setHours(0,0,0,0),me}(ve))+1}(ce);return"Do"===ve?me.ordinalNumber(Oe,{unit:"dayOfYear"}):ee(Oe,ve.length)},E:function(ce,ve,me){const Oe=ce.getDay();switch(ve){case"E":case"EE":case"EEE":return me.day(Oe,{width:"abbreviated",context:"formatting"});case"EEEEE":return me.day(Oe,{width:"narrow",context:"formatting"});case"EEEEEE":return me.day(Oe,{width:"short",context:"formatting"});default:return me.day(Oe,{width:"wide",context:"formatting"})}},e:function(ce,ve,me,Oe){const At=ce.getDay(),Et=(At-Oe.weekStartsOn+8)%7||7;switch(ve){case"e":return String(Et);case"ee":return ee(Et,2);case"eo":return me.ordinalNumber(Et,{unit:"day"});case"eee":return me.day(At,{width:"abbreviated",context:"formatting"});case"eeeee":return me.day(At,{width:"narrow",context:"formatting"});case"eeeeee":return me.day(At,{width:"short",context:"formatting"});default:return me.day(At,{width:"wide",context:"formatting"})}},c:function(ce,ve,me,Oe){const At=ce.getDay(),Et=(At-Oe.weekStartsOn+8)%7||7;switch(ve){case"c":return String(Et);case"cc":return ee(Et,ve.length);case"co":return me.ordinalNumber(Et,{unit:"day"});case"ccc":return me.day(At,{width:"abbreviated",context:"standalone"});case"ccccc":return me.day(At,{width:"narrow",context:"standalone"});case"cccccc":return me.day(At,{width:"short",context:"standalone"});default:return me.day(At,{width:"wide",context:"standalone"})}},i:function(ce,ve,me){const Oe=ce.getDay(),At=0===Oe?7:Oe;switch(ve){case"i":return String(At);case"ii":return ee(At,ve.length);case"io":return me.ordinalNumber(At,{unit:"day"});case"iii":return me.day(Oe,{width:"abbreviated",context:"formatting"});case"iiiii":return me.day(Oe,{width:"narrow",context:"formatting"});case"iiiiii":return me.day(Oe,{width:"short",context:"formatting"});default:return me.day(Oe,{width:"wide",context:"formatting"})}},a:function(ce,ve,me){const At=ce.getHours()/12>=1?"pm":"am";switch(ve){case"a":case"aa":return me.dayPeriod(At,{width:"abbreviated",context:"formatting"});case"aaa":return me.dayPeriod(At,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return me.dayPeriod(At,{width:"narrow",context:"formatting"});default:return me.dayPeriod(At,{width:"wide",context:"formatting"})}},b:function(ce,ve,me){const Oe=ce.getHours();let At;switch(At=12===Oe?"noon":0===Oe?"midnight":Oe/12>=1?"pm":"am",ve){case"b":case"bb":return me.dayPeriod(At,{width:"abbreviated",context:"formatting"});case"bbb":return me.dayPeriod(At,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return me.dayPeriod(At,{width:"narrow",context:"formatting"});default:return me.dayPeriod(At,{width:"wide",context:"formatting"})}},B:function(ce,ve,me){const Oe=ce.getHours();let At;switch(At=Oe>=17?"evening":Oe>=12?"afternoon":Oe>=4?"morning":"night",ve){case"B":case"BB":case"BBB":return me.dayPeriod(At,{width:"abbreviated",context:"formatting"});case"BBBBB":return me.dayPeriod(At,{width:"narrow",context:"formatting"});default:return me.dayPeriod(At,{width:"wide",context:"formatting"})}},h:function(ce,ve,me){if("ho"===ve){let Oe=ce.getHours()%12;return 0===Oe&&(Oe=12),me.ordinalNumber(Oe,{unit:"hour"})}return De.h(ce,ve)},H:function(ce,ve,me){return"Ho"===ve?me.ordinalNumber(ce.getHours(),{unit:"hour"}):De.H(ce,ve)},K:function(ce,ve,me){const Oe=ce.getHours()%12;return"Ko"===ve?me.ordinalNumber(Oe,{unit:"hour"}):ee(Oe,ve.length)},k:function(ce,ve,me){let Oe=ce.getHours();return 0===Oe&&(Oe=24),"ko"===ve?me.ordinalNumber(Oe,{unit:"hour"}):ee(Oe,ve.length)},m:function(ce,ve,me){return"mo"===ve?me.ordinalNumber(ce.getMinutes(),{unit:"minute"}):De.m(ce,ve)},s:function(ce,ve,me){return"so"===ve?me.ordinalNumber(ce.getSeconds(),{unit:"second"}):De.s(ce,ve)},S:function(ce,ve){return De.S(ce,ve)},X:function(ce,ve,me){const Oe=ce.getTimezoneOffset();if(0===Oe)return"Z";switch(ve){case"X":return Pe(Oe);case"XXXX":case"XX":return Ye(Oe);default:return Ye(Oe,":")}},x:function(ce,ve,me){const Oe=ce.getTimezoneOffset();switch(ve){case"x":return Pe(Oe);case"xxxx":case"xx":return Ye(Oe);default:return Ye(Oe,":")}},O:function(ce,ve,me){const Oe=ce.getTimezoneOffset();switch(ve){case"O":case"OO":case"OOO":return"GMT"+Qe(Oe,":");default:return"GMT"+Ye(Oe,":")}},z:function(ce,ve,me){const Oe=ce.getTimezoneOffset();switch(ve){case"z":case"zz":case"zzz":return"GMT"+Qe(Oe,":");default:return"GMT"+Ye(Oe,":")}},t:function(ce,ve,me){return ee(Math.trunc(ce.getTime()/1e3),ve.length)},T:function(ce,ve,me){return ee(ce.getTime(),ve.length)}};function Qe(ce,ve=""){const me=ce>0?"-":"+",Oe=Math.abs(ce),At=Math.trunc(Oe/60),Et=Oe%60;return 0===Et?me+String(At):me+String(At)+ve+ee(Et,2)}function Pe(ce,ve){return ce%60==0?(ce>0?"-":"+")+ee(Math.abs(ce)/60,2):Ye(ce,ve)}function Ye(ce,ve=""){const me=ce>0?"-":"+",Oe=Math.abs(ce);return me+ee(Math.trunc(Oe/60),2)+ve+ee(Oe%60,2)}var Re=_(7913),nt=_(1454);const rt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ot=/^'([^]*?)'?$/,bt=/''/g,Nt=/[a-zA-Z]/;function St(ce,ve,me){const Oe=(0,O.q)(),At=me?.locale??Oe.locale??h.c,Et=me?.firstWeekContainsDate??me?.locale?.options?.firstWeekContainsDate??Oe.firstWeekContainsDate??Oe.locale?.options?.firstWeekContainsDate??1,En=me?.weekStartsOn??me?.locale?.options?.weekStartsOn??Oe.weekStartsOn??Oe.locale?.options?.weekStartsOn??0,Me=(0,A.a)(ce);if(!function Xe(ce){if(!function Te(ce){return ce instanceof Date||"object"==typeof ce&&"[object Date]"===Object.prototype.toString.call(ce)}(ce)&&"number"!=typeof ce)return!1;const ve=(0,A.a)(ce);return!isNaN(Number(ve))}(Me))throw new RangeError("Invalid time value");let kn=ve.match(oe).map(Ot=>{const Ft=Ot[0];return"p"===Ft||"P"===Ft?(0,Re.m[Ft])(Ot,At.formatLong):Ot}).join("").match(rt).map(Ot=>{if("''"===Ot)return{isToken:!1,value:"'"};const Ft=Ot[0];if("'"===Ft)return{isToken:!1,value:$t(Ot)};if(ke[Ft])return{isToken:!0,value:Ot};if(Ft.match(Nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ft+"`");return{isToken:!1,value:Ot}});At.localize.preprocessor&&(kn=At.localize.preprocessor(Me,kn));const nn={firstWeekContainsDate:Et,weekStartsOn:En,locale:At};return kn.map(Ot=>{if(!Ot.isToken)return Ot.value;const Ft=Ot.value;return(!me?.useAdditionalWeekYearTokens&&(0,nt.xM)(Ft)||!me?.useAdditionalDayOfYearTokens&&(0,nt.ef)(Ft))&&(0,nt.Ss)(Ft,ve,String(ce)),(0,ke[Ft[0]])(Me,Ft,At.localize,nn)}).join("")}function $t(ce){const ve=ce.match(ot);return ve?ve[1].replace(bt,"'"):ce}},2439:(dn,Je,_)=>{"use strict";_.d(Je,{m:()=>Q});var h=_(6814),A=_(8700);function S(oe,ot){const bt=(0,A.a)(oe),Nt=(0,A.a)(ot),St=bt.getTime()-Nt.getTime();return St<0?-1:St>0?1:St}var W=_(7870),z=_(6441);function De(oe,ot){const bt=(0,A.a)(oe),Nt=(0,A.a)(ot),St=S(bt,Nt),$t=Math.abs(function L(oe,ot){const bt=(0,A.a)(oe),Nt=(0,A.a)(ot);return 12*(bt.getFullYear()-Nt.getFullYear())+(bt.getMonth()-Nt.getMonth())}(bt,Nt));let Ce;if($t<1)Ce=0;else{1===bt.getMonth()&&bt.getDate()>27&&bt.setDate(30),bt.setMonth(bt.getMonth()-St*$t);let ce=S(bt,Nt)===-St;(function Z(oe){const ot=(0,A.a)(oe);return+(0,z.D)(ot)==+function re(oe){const ot=(0,A.a)(oe),bt=ot.getMonth();return ot.setFullYear(ot.getFullYear(),bt+1,0),ot.setHours(23,59,59,999),ot}(ot)})((0,A.a)(oe))&&1===$t&&1===S(oe,Nt)&&(ce=!1),Ce=St*($t-Number(ce))}return 0===Ce?0:Ce}var ke=_(5225),Qe=_(5213),Re=_(4994),nt=_(9857),Te=_(8889);function Q(oe,ot){return function je(oe,ot,bt){const Nt=(0,nt.q)(),St=bt?.locale??Nt.locale??Re.c,Ce=S(oe,ot);if(isNaN(Ce))throw new RangeError("Invalid time value");const ce=Object.assign({},bt,{addSuffix:bt?.addSuffix,comparison:Ce});let ve,me;Ce>0?(ve=(0,A.a)(ot),me=(0,A.a)(oe)):(ve=(0,A.a)(oe),me=(0,A.a)(ot));const Oe=function Pe(oe,ot,bt){const Nt=(0,Qe.b)(oe,ot)/1e3;return(0,ke.u)(bt?.roundingMethod)(Nt)}(me,ve),At=((0,Te.G)(me)-(0,Te.G)(ve))/1e3,Et=Math.round((Oe-At)/60);let En;if(Et<2)return bt?.includeSeconds?Oe<5?St.formatDistance("lessThanXSeconds",5,ce):Oe<10?St.formatDistance("lessThanXSeconds",10,ce):Oe<20?St.formatDistance("lessThanXSeconds",20,ce):Oe<40?St.formatDistance("halfAMinute",0,ce):St.formatDistance(Oe<60?"lessThanXMinutes":"xMinutes",1,ce):0===Et?St.formatDistance("lessThanXMinutes",1,ce):St.formatDistance("xMinutes",Et,ce);if(Et<45)return St.formatDistance("xMinutes",Et,ce);if(Et<90)return St.formatDistance("aboutXHours",1,ce);if(Et<W.F6){const Me=Math.round(Et/60);return St.formatDistance("aboutXHours",Me,ce)}if(Et<2520)return St.formatDistance("xDays",1,ce);if(Et<W.Nw){const Me=Math.round(Et/W.F6);return St.formatDistance("xDays",Me,ce)}if(Et<2*W.Nw)return En=Math.round(Et/W.Nw),St.formatDistance("aboutXMonths",En,ce);if(En=De(me,ve),En<12){const Me=Math.round(Et/W.Nw);return St.formatDistance("xMonths",Me,ce)}{const Me=En%12,kn=Math.trunc(En/12);return Me<3?St.formatDistance("aboutXYears",kn,ce):Me<9?St.formatDistance("overXYears",kn,ce):St.formatDistance("almostXYears",kn+1,ce)}}(oe,function O(oe){return(0,h.w)(oe,Date.now())}(oe),ot)}},9134:(dn,Je,_)=>{"use strict";_.d(Je,{a:()=>A});var h=_(4994),O=_(9857);const E=["years","months","weeks","days","hours","minutes","seconds"];function A(C,W){const L=(0,O.q)(),N=W?.locale??L.locale??h.c,z=W?.format??E,re=W?.zero??!1,q=W?.delimiter??" ";return N.formatDistance?z.reduce((ee,De)=>{const Ee=`x${De.replace(/(^.)/,Qe=>Qe.toUpperCase())}`,ke=C[De];return void 0!==ke&&(re||C[De])?ee.concat(N.formatDistance(Ee,ke)):ee},[]).join(q):""}},2890:(dn,Je,_)=>{"use strict";_.d(Je,{S:()=>O});var h=_(8700);function O(A){return(0,h.a)(1e3*A)}},3701:(dn,Je,_)=>{"use strict";_.d(Je,{s:()=>L});var h=_(7870),O=_(7545),E=_(1359),A=_(6814),W=_(8700);function L(z){const re=(0,W.a)(z),q=+(0,O.b)(re)-+function S(z){const re=(0,E.p)(z),q=(0,A.w)(z,0);return q.setFullYear(re,0,4),q.setHours(0,0,0,0),(0,O.b)(q)}(re);return Math.round(q/h.my)+1}},1359:(dn,Je,_)=>{"use strict";_.d(Je,{p:()=>A});var h=_(6814),O=_(7545),E=_(8700);function A(C){const W=(0,E.a)(C),L=W.getFullYear(),N=(0,h.w)(C,0);N.setFullYear(L+1,0,4),N.setHours(0,0,0,0);const z=(0,O.b)(N),re=(0,h.w)(C,0);re.setFullYear(L,0,4),re.setHours(0,0,0,0);const q=(0,O.b)(re);return W.getTime()>=z.getTime()?L+1:W.getTime()>=q.getTime()?L:L-1}},9908:(dn,Je,_)=>{"use strict";_.d(Je,{_:()=>O});var h=_(8700);function O(A){return Math.trunc(+(0,h.a)(A)/1e3)}},5289:(dn,Je,_)=>{"use strict";_.d(Je,{N:()=>N});var h=_(7870),O=_(610),E=_(6814),A=_(1598),S=_(9857),L=_(8700);function N(re,q){const Z=(0,L.a)(re),ee=+(0,O.k)(Z,q)-+function C(re,q){const Z=(0,S.q)(),ee=q?.firstWeekContainsDate??q?.locale?.options?.firstWeekContainsDate??Z.firstWeekContainsDate??Z.locale?.options?.firstWeekContainsDate??1,De=(0,A.h)(re,q),Ee=(0,E.w)(re,0);return Ee.setFullYear(De,0,ee),Ee.setHours(0,0,0,0),(0,O.k)(Ee,q)}(Z,q);return Math.round(ee/h.my)+1}},1598:(dn,Je,_)=>{"use strict";_.d(Je,{h:()=>S});var h=_(6814),O=_(610),E=_(8700),A=_(9857);function S(W,L){const N=(0,E.a)(W),z=N.getFullYear(),re=(0,A.q)(),q=L?.firstWeekContainsDate??L?.locale?.options?.firstWeekContainsDate??re.firstWeekContainsDate??re.locale?.options?.firstWeekContainsDate??1,Z=(0,h.w)(W,0);Z.setFullYear(z+1,0,q),Z.setHours(0,0,0,0);const ee=(0,O.k)(Z,L),De=(0,h.w)(W,0);De.setFullYear(z,0,q),De.setHours(0,0,0,0);const Ee=(0,O.k)(De,L);return N.getTime()>=ee.getTime()?z+1:N.getTime()>=Ee.getTime()?z:z-1}},1543:(dn,Je,_)=>{"use strict";_.d(Je,{d:()=>O});var h=_(8700);function O(A,S){const C=(0,h.a)(A),W=(0,h.a)(S);return C.getTime()>W.getTime()}},5882:(dn,Je,_)=>{"use strict";_.d(Je,{Y:()=>O});var h=_(8700);function O(A,S){return+(0,h.a)(A)<+(0,h.a)(S)}},1257:(dn,Je,_)=>{"use strict";_.d(Je,{r:()=>O});var h=_(3240);function O(A,S){return+(0,h.o)(A)==+(0,h.o)(S)}},1997:(dn,Je,_)=>{"use strict";_.d(Je,{H:()=>O});var h=_(3206);function O(A,S){return+(0,h.c)(A)==+(0,h.c)(S)}},9681:(dn,Je,_)=>{"use strict";_.d(Je,{t:()=>O});var h=_(8700);function O(A,S){const C=(0,h.a)(A),W=(0,h.a)(S);return C.getFullYear()===W.getFullYear()&&C.getMonth()===W.getMonth()}},4994:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>ve});const h={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function E(Oe){return(At={})=>{const Et=At.width?String(At.width):Oe.defaultWidth;return Oe.formats[Et]||Oe.formats[Oe.defaultWidth]}}const W={date:E({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:E({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:E({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},L={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function z(Oe){return(At,Et)=>{let Me;if("formatting"===(Et?.context?String(Et.context):"standalone")&&Oe.formattingValues){const nn=Oe.defaultFormattingWidth||Oe.defaultWidth,Ot=Et?.width?String(Et.width):nn;Me=Oe.formattingValues[Ot]||Oe.formattingValues[nn]}else{const nn=Oe.defaultWidth,Ot=Et?.width?String(Et.width):Oe.defaultWidth;Me=Oe.values[Ot]||Oe.values[nn]}return Me[Oe.argumentCallback?Oe.argumentCallback(At):At]}}function Pe(Oe){return(At,Et={})=>{const En=Et.width,kn=At.match(En&&Oe.matchPatterns[En]||Oe.matchPatterns[Oe.defaultMatchWidth]);if(!kn)return null;const nn=kn[0],Ot=En&&Oe.parsePatterns[En]||Oe.parsePatterns[Oe.defaultParseWidth],Ft=Array.isArray(Ot)?function Re(Oe,At){for(let Et=0;Et<Oe.length;Et++)if(At(Oe[Et]))return Et}(Ot,Ve=>Ve.test(nn)):function Ye(Oe,At){for(const Et in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Et)&&At(Oe[Et]))return Et}(Ot,Ve=>Ve.test(nn));let ft;return ft=Oe.valueCallback?Oe.valueCallback(Ft):Ft,ft=Et.valueCallback?Et.valueCallback(ft):ft,{value:ft,rest:At.slice(nn.length)}}}const ve={code:"en-US",formatDistance:(Oe,At,Et)=>{let En;const Me=h[Oe];return En="string"==typeof Me?Me:1===At?Me.one:Me.other.replace("{{count}}",At.toString()),Et?.addSuffix?Et.comparison&&Et.comparison>0?"in "+En:En+" ago":En},formatLong:W,formatRelative:(Oe,At,Et,En)=>L[Oe],localize:{ordinalNumber:(Oe,At)=>{const Et=Number(Oe),En=Et%100;if(En>20||En<10)switch(En%10){case 1:return Et+"st";case 2:return Et+"nd";case 3:return Et+"rd"}return Et+"th"},era:z({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:z({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:Oe=>Oe-1}),month:z({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:z({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:z({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function nt(Oe){return(At,Et={})=>{const En=At.match(Oe.matchPattern);if(!En)return null;const Me=En[0],kn=At.match(Oe.parsePattern);if(!kn)return null;let nn=Oe.valueCallback?Oe.valueCallback(kn[0]):kn[0];return nn=Et.valueCallback?Et.valueCallback(nn):nn,{value:nn,rest:At.slice(Me.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:Oe=>parseInt(Oe,10)}),era:Pe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Pe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:Oe=>Oe+1}),month:Pe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Pe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Pe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},1706:(dn,Je,_)=>{"use strict";_.d(Je,{qg:()=>Un});var h=_(6814),O=_(9857),S=_(4994),C=_(8700),W=_(7913),L=_(1454);class q{subPriority=0;validate(U,Se){return!0}}class Z extends q{constructor(U,Se,be,ct,Ze){super(),this.value=U,this.validateValue=Se,this.setValue=be,this.priority=ct,Ze&&(this.subPriority=Ze)}validate(U,Se){return this.validateValue(U,this.value,Se)}set(U,Se,be){return this.setValue(U,Se,this.value,be)}}class ee extends q{priority=10;subPriority=-1;set(U,Se){return Se.timestampIsSet?U:(0,h.w)(U,function N(Ne,U){const Se=U instanceof Date?(0,h.w)(U,0):new U(0);return Se.setFullYear(Ne.getFullYear(),Ne.getMonth(),Ne.getDate()),Se.setHours(Ne.getHours(),Ne.getMinutes(),Ne.getSeconds(),Ne.getMilliseconds()),Se}(U,Date))}}class De{run(U,Se,be,ct){const Ze=this.parse(U,Se,be,ct);return Ze?{setter:new Z(Ze.value,this.validate,this.set,this.priority,this.subPriority),rest:Ze.rest}:null}validate(U,Se,be){return!0}}var ke=_(7870);const Qe_month=/^(1[0-2]|0?\d)/,Qe_date=/^(3[0-1]|[0-2]?\d)/,Qe_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Qe_week=/^(5[0-3]|[0-4]?\d)/,Qe_hour23h=/^(2[0-3]|[0-1]?\d)/,Qe_hour24h=/^(2[0-4]|[0-1]?\d)/,Qe_hour11h=/^(1[0-1]|0?\d)/,Qe_hour12h=/^(1[0-2]|0?\d)/,Qe_minute=/^[0-5]?\d/,Qe_second=/^[0-5]?\d/,Qe_singleDigit=/^\d/,Qe_twoDigits=/^\d{1,2}/,Qe_threeDigits=/^\d{1,3}/,Qe_fourDigits=/^\d{1,4}/,Qe_anyDigitsSigned=/^-?\d+/,Qe_singleDigitSigned=/^-?\d/,Qe_twoDigitsSigned=/^-?\d{1,2}/,Qe_threeDigitsSigned=/^-?\d{1,3}/,Qe_fourDigitsSigned=/^-?\d{1,4}/,Pe_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,Pe_basic=/^([+-])(\d{2})(\d{2})|Z/,Pe_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Pe_extended=/^([+-])(\d{2}):(\d{2})|Z/,Pe_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ye(Ne,U){return Ne&&{value:U(Ne.value),rest:Ne.rest}}function Re(Ne,U){const Se=U.match(Ne);return Se?{value:parseInt(Se[0],10),rest:U.slice(Se[0].length)}:null}function nt(Ne,U){const Se=U.match(Ne);if(!Se)return null;if("Z"===Se[0])return{value:0,rest:U.slice(1)};const be="+"===Se[1]?1:-1,ct=Se[2]?parseInt(Se[2],10):0,Ze=Se[3]?parseInt(Se[3],10):0,Mt=Se[5]?parseInt(Se[5],10):0;return{value:be*(ct*ke.s0+Ze*ke.Cg+Mt*ke._m),rest:U.slice(Se[0].length)}}function Te(Ne){return Re(Qe_anyDigitsSigned,Ne)}function je(Ne,U){switch(Ne){case 1:return Re(Qe_singleDigit,U);case 2:return Re(Qe_twoDigits,U);case 3:return Re(Qe_threeDigits,U);case 4:return Re(Qe_fourDigits,U);default:return Re(new RegExp("^\\d{1,"+Ne+"}"),U)}}function Xe(Ne,U){switch(Ne){case 1:return Re(Qe_singleDigitSigned,U);case 2:return Re(Qe_twoDigitsSigned,U);case 3:return Re(Qe_threeDigitsSigned,U);case 4:return Re(Qe_fourDigitsSigned,U);default:return Re(new RegExp("^-?\\d{1,"+Ne+"}"),U)}}function Q(Ne){switch(Ne){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rt(Ne,U){const Se=U>0,be=Se?U:1-U;let ct;if(be<=50)ct=Ne||100;else{const Ze=be+50;ct=Ne+100*Math.trunc(Ze/100)-(Ne>=Ze%100?100:0)}return Se?ct:1-ct}function oe(Ne){return Ne%400==0||Ne%4==0&&Ne%100!=0}var bt=_(1598),Nt=_(610),$t=_(7545),Et=_(5289),nn=_(3701);const Ae=[31,28,31,30,31,30,31,31,30,31,30,31],Ve=[31,29,31,30,31,30,31,31,30,31,30,31];var Pt=_(8797);function yt(Ne,U,Se){const be=(0,O.q)(),ct=Se?.weekStartsOn??Se?.locale?.options?.weekStartsOn??be.weekStartsOn??be.locale?.options?.weekStartsOn??0,Ze=(0,C.a)(Ne),Mt=Ze.getDay(),Jn=7-ct;return(0,Pt.f)(Ze,U<0||U>6?U-(Mt+Jn)%7:((U%7+7)%7+Jn)%7-(Mt+Jn)%7)}var Xn=_(8889);const oi={G:new class Ee extends De{priority=140;parse(U,Se,be){switch(Se){case"G":case"GG":case"GGG":return be.era(U,{width:"abbreviated"})||be.era(U,{width:"narrow"});case"GGGGG":return be.era(U,{width:"narrow"});default:return be.era(U,{width:"wide"})||be.era(U,{width:"abbreviated"})||be.era(U,{width:"narrow"})}}set(U,Se,be){return Se.era=be,U.setFullYear(be,0,1),U.setHours(0,0,0,0),U}incompatibleTokens=["R","u","t","T"]},y:new class ot extends De{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(U,Se,be){const ct=Ze=>({year:Ze,isTwoDigitYear:"yy"===Se});switch(Se){case"y":return Ye(je(4,U),ct);case"yo":return Ye(be.ordinalNumber(U,{unit:"year"}),ct);default:return Ye(je(Se.length,U),ct)}}validate(U,Se){return Se.isTwoDigitYear||Se.year>0}set(U,Se,be){const ct=U.getFullYear();if(be.isTwoDigitYear){const Mt=rt(be.year,ct);return U.setFullYear(Mt,0,1),U.setHours(0,0,0,0),U}return U.setFullYear("era"in Se&&1!==Se.era?1-be.year:be.year,0,1),U.setHours(0,0,0,0),U}},Y:new class St extends De{priority=130;parse(U,Se,be){const ct=Ze=>({year:Ze,isTwoDigitYear:"YY"===Se});switch(Se){case"Y":return Ye(je(4,U),ct);case"Yo":return Ye(be.ordinalNumber(U,{unit:"year"}),ct);default:return Ye(je(Se.length,U),ct)}}validate(U,Se){return Se.isTwoDigitYear||Se.year>0}set(U,Se,be,ct){const Ze=(0,bt.h)(U,ct);if(be.isTwoDigitYear){const hn=rt(be.year,Ze);return U.setFullYear(hn,0,ct.firstWeekContainsDate),U.setHours(0,0,0,0),(0,Nt.k)(U,ct)}return U.setFullYear("era"in Se&&1!==Se.era?1-be.year:be.year,0,ct.firstWeekContainsDate),U.setHours(0,0,0,0),(0,Nt.k)(U,ct)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class Ce extends De{priority=130;parse(U,Se){return Xe("R"===Se?4:Se.length,U)}set(U,Se,be){const ct=(0,h.w)(U,0);return ct.setFullYear(be,0,4),ct.setHours(0,0,0,0),(0,$t.b)(ct)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class ce extends De{priority=130;parse(U,Se){return Xe("u"===Se?4:Se.length,U)}set(U,Se,be){return U.setFullYear(be,0,1),U.setHours(0,0,0,0),U}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class ve extends De{priority=120;parse(U,Se,be){switch(Se){case"Q":case"QQ":return je(Se.length,U);case"Qo":return be.ordinalNumber(U,{unit:"quarter"});case"QQQ":return be.quarter(U,{width:"abbreviated",context:"formatting"})||be.quarter(U,{width:"narrow",context:"formatting"});case"QQQQQ":return be.quarter(U,{width:"narrow",context:"formatting"});default:return be.quarter(U,{width:"wide",context:"formatting"})||be.quarter(U,{width:"abbreviated",context:"formatting"})||be.quarter(U,{width:"narrow",context:"formatting"})}}validate(U,Se){return Se>=1&&Se<=4}set(U,Se,be){return U.setMonth(3*(be-1),1),U.setHours(0,0,0,0),U}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class me extends De{priority=120;parse(U,Se,be){switch(Se){case"q":case"qq":return je(Se.length,U);case"qo":return be.ordinalNumber(U,{unit:"quarter"});case"qqq":return be.quarter(U,{width:"abbreviated",context:"standalone"})||be.quarter(U,{width:"narrow",context:"standalone"});case"qqqqq":return be.quarter(U,{width:"narrow",context:"standalone"});default:return be.quarter(U,{width:"wide",context:"standalone"})||be.quarter(U,{width:"abbreviated",context:"standalone"})||be.quarter(U,{width:"narrow",context:"standalone"})}}validate(U,Se){return Se>=1&&Se<=4}set(U,Se,be){return U.setMonth(3*(be-1),1),U.setHours(0,0,0,0),U}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class Oe extends De{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(U,Se,be){const ct=Ze=>Ze-1;switch(Se){case"M":return Ye(Re(Qe_month,U),ct);case"MM":return Ye(je(2,U),ct);case"Mo":return Ye(be.ordinalNumber(U,{unit:"month"}),ct);case"MMM":return be.month(U,{width:"abbreviated",context:"formatting"})||be.month(U,{width:"narrow",context:"formatting"});case"MMMMM":return be.month(U,{width:"narrow",context:"formatting"});default:return be.month(U,{width:"wide",context:"formatting"})||be.month(U,{width:"abbreviated",context:"formatting"})||be.month(U,{width:"narrow",context:"formatting"})}}validate(U,Se){return Se>=0&&Se<=11}set(U,Se,be){return U.setMonth(be,1),U.setHours(0,0,0,0),U}},L:new class At extends De{priority=110;parse(U,Se,be){const ct=Ze=>Ze-1;switch(Se){case"L":return Ye(Re(Qe_month,U),ct);case"LL":return Ye(je(2,U),ct);case"Lo":return Ye(be.ordinalNumber(U,{unit:"month"}),ct);case"LLL":return be.month(U,{width:"abbreviated",context:"standalone"})||be.month(U,{width:"narrow",context:"standalone"});case"LLLLL":return be.month(U,{width:"narrow",context:"standalone"});default:return be.month(U,{width:"wide",context:"standalone"})||be.month(U,{width:"abbreviated",context:"standalone"})||be.month(U,{width:"narrow",context:"standalone"})}}validate(U,Se){return Se>=0&&Se<=11}set(U,Se,be){return U.setMonth(be,1),U.setHours(0,0,0,0),U}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class kn extends De{priority=100;parse(U,Se,be){switch(Se){case"w":return Re(Qe_week,U);case"wo":return be.ordinalNumber(U,{unit:"week"});default:return je(Se.length,U)}}validate(U,Se){return Se>=1&&Se<=53}set(U,Se,be,ct){return(0,Nt.k)(function En(Ne,U,Se){const be=(0,C.a)(Ne),ct=(0,Et.N)(be,Se)-U;return be.setDate(be.getDate()-7*ct),be}(U,be,ct),ct)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class ft extends De{priority=100;parse(U,Se,be){switch(Se){case"I":return Re(Qe_week,U);case"Io":return be.ordinalNumber(U,{unit:"week"});default:return je(Se.length,U)}}validate(U,Se){return Se>=1&&Se<=53}set(U,Se,be){return(0,$t.b)(function Ot(Ne,U){const Se=(0,C.a)(Ne),be=(0,nn.s)(Se)-U;return Se.setDate(Se.getDate()-7*be),Se}(U,be))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class vt extends De{priority=90;subPriority=1;parse(U,Se,be){switch(Se){case"d":return Re(Qe_date,U);case"do":return be.ordinalNumber(U,{unit:"date"});default:return je(Se.length,U)}}validate(U,Se){const ct=oe(U.getFullYear()),Ze=U.getMonth();return ct?Se>=1&&Se<=Ve[Ze]:Se>=1&&Se<=Ae[Ze]}set(U,Se,be){return U.setDate(be),U.setHours(0,0,0,0),U}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class an extends De{priority=90;subpriority=1;parse(U,Se,be){switch(Se){case"D":case"DD":return Re(Qe_dayOfYear,U);case"Do":return be.ordinalNumber(U,{unit:"date"});default:return je(Se.length,U)}}validate(U,Se){return oe(U.getFullYear())?Se>=1&&Se<=366:Se>=1&&Se<=365}set(U,Se,be){return U.setMonth(0,be),U.setHours(0,0,0,0),U}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class vn extends De{priority=90;parse(U,Se,be){switch(Se){case"E":case"EE":case"EEE":return be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"});case"EEEEE":return be.day(U,{width:"narrow",context:"formatting"});case"EEEEEE":return be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"});default:return be.day(U,{width:"wide",context:"formatting"})||be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"})}}validate(U,Se){return Se>=0&&Se<=6}set(U,Se,be,ct){return(U=yt(U,be,ct)).setHours(0,0,0,0),U}incompatibleTokens=["D","i","e","c","t","T"]},e:new class wn extends De{priority=90;parse(U,Se,be,ct){const Ze=Mt=>{const hn=7*Math.floor((Mt-1)/7);return(Mt+ct.weekStartsOn+6)%7+hn};switch(Se){case"e":case"ee":return Ye(je(Se.length,U),Ze);case"eo":return Ye(be.ordinalNumber(U,{unit:"day"}),Ze);case"eee":return be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"});case"eeeee":return be.day(U,{width:"narrow",context:"formatting"});case"eeeeee":return be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"});default:return be.day(U,{width:"wide",context:"formatting"})||be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"})}}validate(U,Se){return Se>=0&&Se<=6}set(U,Se,be,ct){return(U=yt(U,be,ct)).setHours(0,0,0,0),U}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class on extends De{priority=90;parse(U,Se,be,ct){const Ze=Mt=>{const hn=7*Math.floor((Mt-1)/7);return(Mt+ct.weekStartsOn+6)%7+hn};switch(Se){case"c":case"cc":return Ye(je(Se.length,U),Ze);case"co":return Ye(be.ordinalNumber(U,{unit:"day"}),Ze);case"ccc":return be.day(U,{width:"abbreviated",context:"standalone"})||be.day(U,{width:"short",context:"standalone"})||be.day(U,{width:"narrow",context:"standalone"});case"ccccc":return be.day(U,{width:"narrow",context:"standalone"});case"cccccc":return be.day(U,{width:"short",context:"standalone"})||be.day(U,{width:"narrow",context:"standalone"});default:return be.day(U,{width:"wide",context:"standalone"})||be.day(U,{width:"abbreviated",context:"standalone"})||be.day(U,{width:"short",context:"standalone"})||be.day(U,{width:"narrow",context:"standalone"})}}validate(U,Se){return Se>=0&&Se<=6}set(U,Se,be,ct){return(U=yt(U,be,ct)).setHours(0,0,0,0),U}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class ut extends De{priority=90;parse(U,Se,be){const ct=Ze=>0===Ze?7:Ze;switch(Se){case"i":case"ii":return je(Se.length,U);case"io":return be.ordinalNumber(U,{unit:"day"});case"iii":return Ye(be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"}),ct);case"iiiii":return Ye(be.day(U,{width:"narrow",context:"formatting"}),ct);case"iiiiii":return Ye(be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"}),ct);default:return Ye(be.day(U,{width:"wide",context:"formatting"})||be.day(U,{width:"abbreviated",context:"formatting"})||be.day(U,{width:"short",context:"formatting"})||be.day(U,{width:"narrow",context:"formatting"}),ct)}}validate(U,Se){return Se>=1&&Se<=7}set(U,Se,be){return(U=function tt(Ne,U){const Se=(0,C.a)(Ne),be=function sn(Ne){let Se=(0,C.a)(Ne).getDay();return 0===Se&&(Se=7),Se}(Se);return(0,Pt.f)(Se,U-be)}(U,be)).setHours(0,0,0,0),U}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class rn extends De{priority=80;parse(U,Se,be){switch(Se){case"a":case"aa":case"aaa":return be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"});case"aaaaa":return be.dayPeriod(U,{width:"narrow",context:"formatting"});default:return be.dayPeriod(U,{width:"wide",context:"formatting"})||be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"})}}set(U,Se,be){return U.setHours(Q(be),0,0,0),U}incompatibleTokens=["b","B","H","k","t","T"]},b:new class fn extends De{priority=80;parse(U,Se,be){switch(Se){case"b":case"bb":case"bbb":return be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"});case"bbbbb":return be.dayPeriod(U,{width:"narrow",context:"formatting"});default:return be.dayPeriod(U,{width:"wide",context:"formatting"})||be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"})}}set(U,Se,be){return U.setHours(Q(be),0,0,0),U}incompatibleTokens=["a","B","H","k","t","T"]},B:new class ci extends De{priority=80;parse(U,Se,be){switch(Se){case"B":case"BB":case"BBB":return be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"});case"BBBBB":return be.dayPeriod(U,{width:"narrow",context:"formatting"});default:return be.dayPeriod(U,{width:"wide",context:"formatting"})||be.dayPeriod(U,{width:"abbreviated",context:"formatting"})||be.dayPeriod(U,{width:"narrow",context:"formatting"})}}set(U,Se,be){return U.setHours(Q(be),0,0,0),U}incompatibleTokens=["a","b","t","T"]},h:new class $i extends De{priority=70;parse(U,Se,be){switch(Se){case"h":return Re(Qe_hour12h,U);case"ho":return be.ordinalNumber(U,{unit:"hour"});default:return je(Se.length,U)}}validate(U,Se){return Se>=1&&Se<=12}set(U,Se,be){const ct=U.getHours()>=12;return U.setHours(ct&&be<12?be+12:ct||12!==be?be:0,0,0,0),U}incompatibleTokens=["H","K","k","t","T"]},H:new class mn extends De{priority=70;parse(U,Se,be){switch(Se){case"H":return Re(Qe_hour23h,U);case"Ho":return be.ordinalNumber(U,{unit:"hour"});default:return je(Se.length,U)}}validate(U,Se){return Se>=0&&Se<=23}set(U,Se,be){return U.setHours(be,0,0,0),U}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class cn extends De{priority=70;parse(U,Se,be){switch(Se){case"K":return Re(Qe_hour11h,U);case"Ko":return be.ordinalNumber(U,{unit:"hour"});default:return je(Se.length,U)}}validate(U,Se){return Se>=0&&Se<=11}set(U,Se,be){return U.getHours()>=12&&be<12?U.setHours(be+12,0,0,0):U.setHours(be,0,0,0),U}incompatibleTokens=["h","H","k","t","T"]},k:new class wt extends De{priority=70;parse(U,Se,be){switch(Se){case"k":return Re(Qe_hour24h,U);case"ko":return be.ordinalNumber(U,{unit:"hour"});default:return je(Se.length,U)}}validate(U,Se){return Se>=1&&Se<=24}set(U,Se,be){return U.setHours(be<=24?be%24:be,0,0,0),U}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class Ht extends De{priority=60;parse(U,Se,be){switch(Se){case"m":return Re(Qe_minute,U);case"mo":return be.ordinalNumber(U,{unit:"minute"});default:return je(Se.length,U)}}validate(U,Se){return Se>=0&&Se<=59}set(U,Se,be){return U.setMinutes(be,0,0),U}incompatibleTokens=["t","T"]},s:new class Bt extends De{priority=50;parse(U,Se,be){switch(Se){case"s":return Re(Qe_second,U);case"so":return be.ordinalNumber(U,{unit:"second"});default:return je(Se.length,U)}}validate(U,Se){return Se>=0&&Se<=59}set(U,Se,be){return U.setSeconds(be,0),U}incompatibleTokens=["t","T"]},S:new class An extends De{priority=30;parse(U,Se){return Ye(je(Se.length,U),ct=>Math.trunc(ct*Math.pow(10,3-Se.length)))}set(U,Se,be){return U.setMilliseconds(be),U}incompatibleTokens=["t","T"]},X:new class zi extends De{priority=10;parse(U,Se){switch(Se){case"X":return nt(Pe_basicOptionalMinutes,U);case"XX":return nt(Pe_basic,U);case"XXXX":return nt(Pe_basicOptionalSeconds,U);case"XXXXX":return nt(Pe_extendedOptionalSeconds,U);default:return nt(Pe_extended,U)}}set(U,Se,be){return Se.timestampIsSet?U:(0,h.w)(U,U.getTime()-(0,Xn.G)(U)-be)}incompatibleTokens=["t","T","x"]},x:new class Vn extends De{priority=10;parse(U,Se){switch(Se){case"x":return nt(Pe_basicOptionalMinutes,U);case"xx":return nt(Pe_basic,U);case"xxxx":return nt(Pe_basicOptionalSeconds,U);case"xxxxx":return nt(Pe_extendedOptionalSeconds,U);default:return nt(Pe_extended,U)}}set(U,Se,be){return Se.timestampIsSet?U:(0,h.w)(U,U.getTime()-(0,Xn.G)(U)-be)}incompatibleTokens=["t","T","X"]},t:new class ui extends De{priority=40;parse(U){return Te(U)}set(U,Se,be){return[(0,h.w)(U,1e3*be),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class Pn extends De{priority=20;parse(U){return Te(U)}set(U,Se,be){return[(0,h.w)(U,be),{timestampIsSet:!0}]}incompatibleTokens="*"}},jt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qt=/^'([^]*?)'?$/,Lt=/''/g,Kt=/\S/,Rn=/[a-zA-Z]/;function Un(Ne,U,Se,be){const ct=function E(){return Object.assign({},(0,O.q)())}(),Ze=be?.locale??ct.locale??S.c,Mt=be?.firstWeekContainsDate??be?.locale?.options?.firstWeekContainsDate??ct.firstWeekContainsDate??ct.locale?.options?.firstWeekContainsDate??1,hn=be?.weekStartsOn??be?.locale?.options?.weekStartsOn??ct.weekStartsOn??ct.locale?.options?.weekStartsOn??0;if(""===U)return""===Ne?(0,C.a)(Se):(0,h.w)(Se,NaN);const Kn={firstWeekContainsDate:Mt,weekStartsOn:hn,locale:Ze},Jn=[new ee],Bi=U.match(xt).map(Hi=>{const xr=Hi[0];return xr in W.m?(0,W.m[xr])(Hi,Ze.formatLong):Hi}).join("").match(jt),di=[];for(let Hi of Bi){!be?.useAdditionalWeekYearTokens&&(0,L.xM)(Hi)&&(0,L.Ss)(Hi,U,Ne),!be?.useAdditionalDayOfYearTokens&&(0,L.ef)(Hi)&&(0,L.Ss)(Hi,U,Ne);const xr=Hi[0],as=oi[xr];if(as){const{incompatibleTokens:ts}=as;if(Array.isArray(ts)){const Os=di.find(ds=>ts.includes(ds.token)||ds.token===xr);if(Os)throw new RangeError(`The format string mustn't contain \`${Os.fullToken}\` and \`${Hi}\` at the same time`)}else if("*"===as.incompatibleTokens&&di.length>0)throw new RangeError(`The format string mustn't contain \`${Hi}\` and any other token at the same time`);di.push({token:xr,fullToken:Hi});const bs=as.run(Ne,Hi,Ze.match,Kn);if(!bs)return(0,h.w)(Se,NaN);Jn.push(bs.setter),Ne=bs.rest}else{if(xr.match(Rn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xr+"`");if("''"===Hi?Hi="'":"'"===xr&&(Hi=dt(Hi)),0!==Ne.indexOf(Hi))return(0,h.w)(Se,NaN);Ne=Ne.slice(Hi.length)}}if(Ne.length>0&&Kt.test(Ne))return(0,h.w)(Se,NaN);const Qi=Jn.map(Hi=>Hi.priority).sort((Hi,xr)=>xr-Hi).filter((Hi,xr,as)=>as.indexOf(Hi)===xr).map(Hi=>Jn.filter(xr=>xr.priority===Hi).sort((xr,as)=>as.subPriority-xr.subPriority)).map(Hi=>Hi[0]);let br=(0,C.a)(Se);if(isNaN(br.getTime()))return(0,h.w)(Se,NaN);const Tr={};for(const Hi of Qi){if(!Hi.validate(br,Kn))return(0,h.w)(Se,NaN);const xr=Hi.set(br,Tr,Kn);Array.isArray(xr)?(br=xr[0],Object.assign(Tr,xr[1])):br=xr}return(0,h.w)(Se,br)}function dt(Ne){return Ne.match(qt)[1].replace(Lt,"'")}},5647:(dn,Je,_)=>{"use strict";_.d(Je,{X:()=>A});var h=_(5225),O=_(6814),E=_(8700);function A(C,W){const L=W?.nearestTo??1;if(L<1||L>30)return(0,O.w)(C,NaN);const N=(0,E.a)(C),z=N.getSeconds()/60,re=N.getMilliseconds()/1e3/60,q=N.getMinutes()+z+re,De=(0,h.u)(W?.roundingMethod??"round")(q/L)*L,Ee=(0,O.w)(C,N);return Ee.setMinutes(De,0,0),Ee}},7177:(dn,Je,_)=>{"use strict";_.d(Je,{h:()=>A});var h=_(6814),O=_(9217),E=_(8700);function A(C,W){let L=(0,E.a)(C);return isNaN(+L)?(0,h.w)(C,NaN):(null!=W.year&&L.setFullYear(W.year),null!=W.month&&(L=(0,O.Z)(L,W.month)),null!=W.date&&L.setDate(W.date),null!=W.hours&&L.setHours(W.hours),null!=W.minutes&&L.setMinutes(W.minutes),null!=W.seconds&&L.setSeconds(W.seconds),null!=W.milliseconds&&L.setMilliseconds(W.milliseconds),L)}},3330:(dn,Je,_)=>{"use strict";_.d(Je,{a:()=>O});var h=_(8700);function O(A,S){const C=(0,h.a)(A);return C.setHours(S),C}},7052:(dn,Je,_)=>{"use strict";_.d(Je,{g:()=>O});var h=_(8700);function O(A,S){const C=(0,h.a)(A);return C.setMinutes(S),C}},9217:(dn,Je,_)=>{"use strict";_.d(Je,{Z:()=>S});var h=_(6814),O=_(8700);function S(W,L){const N=(0,O.a)(W),z=N.getFullYear(),re=N.getDate(),q=(0,h.w)(W,0);q.setFullYear(z,L,15),q.setHours(0,0,0,0);const Z=function E(W){const L=(0,O.a)(W),N=L.getFullYear(),z=L.getMonth(),re=(0,h.w)(W,0);return re.setFullYear(N,z+1,0),re.setHours(0,0,0,0),re.getDate()}(q);return N.setMonth(L,Math.min(re,Z)),N}},3240:(dn,Je,_)=>{"use strict";_.d(Je,{o:()=>O});var h=_(8700);function O(A){const S=(0,h.a)(A);return S.setHours(0,0,0,0),S}},7545:(dn,Je,_)=>{"use strict";_.d(Je,{b:()=>O});var h=_(610);function O(A){return(0,h.k)(A,{weekStartsOn:1})}},3206:(dn,Je,_)=>{"use strict";_.d(Je,{c:()=>O});var h=_(8700);function O(A){const S=(0,h.a)(A);return S.setSeconds(0,0),S}},452:(dn,Je,_)=>{"use strict";_.d(Je,{w:()=>O});var h=_(8700);function O(A){const S=(0,h.a)(A);return S.setDate(1),S.setHours(0,0,0,0),S}},610:(dn,Je,_)=>{"use strict";_.d(Je,{k:()=>E});var h=_(8700),O=_(9857);function E(S,C){const W=(0,O.q)(),L=C?.weekStartsOn??C?.locale?.options?.weekStartsOn??W.weekStartsOn??W.locale?.options?.weekStartsOn??0,N=(0,h.a)(S),z=N.getDay(),re=(z<L?7:0)+z-L;return N.setDate(N.getDate()-re),N.setHours(0,0,0,0),N}},2786:(dn,Je,_)=>{"use strict";_.d(Je,{e:()=>O});var h=_(8797);function O(A,S){return(0,h.f)(A,-S)}},8848:(dn,Je,_)=>{"use strict";_.d(Je,{O:()=>O});var h=_(9533);function O(A,S){return(0,h.L)(A,-S)}},6926:(dn,Je,_)=>{"use strict";_.d(Je,{Y:()=>O});var h=_(9675);function O(A,S){return(0,h.z)(A,-S)}},4206:(dn,Je,_)=>{"use strict";_.d(Je,{W:()=>O});var h=_(5859);function O(A,S){return(0,h.p)(A,-S)}},8700:(dn,Je,_)=>{"use strict";function h(E){const A=Object.prototype.toString.call(E);return E instanceof Date||"object"==typeof E&&"[object Date]"===A?new E.constructor(+E):"number"==typeof E||"[object Number]"===A||"string"==typeof E||"[object String]"===A?new Date(E):new Date(NaN)}_.d(Je,{a:()=>h})},3388:(dn,Je,_)=>{"use strict";
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function h(I){return typeof I>"u"||null===I}_.d(Je,{Hh:()=>xs});var Z={isNothing:h,isObject:function O(I){return"object"==typeof I&&null!==I},toArray:function E(I){return Array.isArray(I)?I:h(I)?[]:[I]},repeat:function S(I,Ct){var _n,Xt="";for(_n=0;_n<Ct;_n+=1)Xt+=I;return Xt},isNegativeZero:function C(I){return 0===I&&Number.NEGATIVE_INFINITY===1/I},extend:function A(I,Ct){var Xt,_n,ln,Hn;if(Ct)for(Xt=0,_n=(Hn=Object.keys(Ct)).length;Xt<_n;Xt+=1)I[ln=Hn[Xt]]=Ct[ln];return I}};function ee(I,Ct){var Xt="",_n=I.reason||"(unknown reason)";return I.mark?(I.mark.name&&(Xt+='in "'+I.mark.name+'" '),Xt+="("+(I.mark.line+1)+":"+(I.mark.column+1)+")",!Ct&&I.mark.snippet&&(Xt+="\n\n"+I.mark.snippet),_n+" "+Xt):_n}function De(I,Ct){Error.call(this),this.name="YAMLException",this.reason=I,this.mark=Ct,this.message=ee(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(De.prototype=Object.create(Error.prototype)).constructor=De,De.prototype.toString=function(Ct){return this.name+": "+ee(this,Ct)};var Ee=De;function ke(I,Ct,Xt,_n,ln){var Hn="",yn="",Zn=Math.floor(ln/2)-1;return _n-Ct>Zn&&(Ct=_n-Zn+(Hn=" ... ").length),Xt-_n>Zn&&(Xt=_n+Zn-(yn=" ...").length),{str:Hn+I.slice(Ct,Xt).replace(/\t/g,"\u2192")+yn,pos:_n-Ct+Hn.length}}function Qe(I,Ct){return Z.repeat(" ",Ct-I.length)+I}var Ye=function Pe(I,Ct){if(Ct=Object.create(Ct||null),!I.buffer)return null;Ct.maxLength||(Ct.maxLength=79),"number"!=typeof Ct.indent&&(Ct.indent=1),"number"!=typeof Ct.linesBefore&&(Ct.linesBefore=3),"number"!=typeof Ct.linesAfter&&(Ct.linesAfter=2);for(var Hn,Xt=/\r?\n|\r|\0/g,_n=[0],ln=[],yn=-1;Hn=Xt.exec(I.buffer);)ln.push(Hn.index),_n.push(Hn.index+Hn[0].length),I.position<=Hn.index&&yn<0&&(yn=_n.length-2);yn<0&&(yn=_n.length-1);var pi,ai,Zn="",Ai=Math.min(I.line+Ct.linesAfter,ln.length).toString().length,_i=Ct.maxLength-(Ct.indent+Ai+3);for(pi=1;pi<=Ct.linesBefore&&!(yn-pi<0);pi++)ai=ke(I.buffer,_n[yn-pi],ln[yn-pi],I.position-(_n[yn]-_n[yn-pi]),_i),Zn=Z.repeat(" ",Ct.indent)+Qe((I.line-pi+1).toString(),Ai)+" | "+ai.str+"\n"+Zn;for(ai=ke(I.buffer,_n[yn],ln[yn],I.position,_i),Zn+=Z.repeat(" ",Ct.indent)+Qe((I.line+1).toString(),Ai)+" | "+ai.str+"\n",Zn+=Z.repeat("-",Ct.indent+Ai+3+ai.pos)+"^\n",pi=1;pi<=Ct.linesAfter&&!(yn+pi>=ln.length);pi++)ai=ke(I.buffer,_n[yn+pi],ln[yn+pi],I.position-(_n[yn]-_n[yn+pi]),_i),Zn+=Z.repeat(" ",Ct.indent)+Qe((I.line+pi+1).toString(),Ai)+" | "+ai.str+"\n";return Zn.replace(/\n$/,"")},Re=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nt=["scalar","sequence","mapping"],Xe=function je(I,Ct){if(Ct=Ct||{},Object.keys(Ct).forEach(function(Xt){if(-1===Re.indexOf(Xt))throw new Ee('Unknown option "'+Xt+'" is met in definition of "'+I+'" YAML type.')}),this.options=Ct,this.tag=I,this.kind=Ct.kind||null,this.resolve=Ct.resolve||function(){return!0},this.construct=Ct.construct||function(Xt){return Xt},this.instanceOf=Ct.instanceOf||null,this.predicate=Ct.predicate||null,this.represent=Ct.represent||null,this.representName=Ct.representName||null,this.defaultStyle=Ct.defaultStyle||null,this.multi=Ct.multi||!1,this.styleAliases=function Te(I){var Ct={};return null!==I&&Object.keys(I).forEach(function(Xt){I[Xt].forEach(function(_n){Ct[String(_n)]=Xt})}),Ct}(Ct.styleAliases||null),-1===nt.indexOf(this.kind))throw new Ee('Unknown kind "'+this.kind+'" is specified for "'+I+'" YAML type.')};function Q(I,Ct){var Xt=[];return I[Ct].forEach(function(_n){var ln=Xt.length;Xt.forEach(function(Hn,yn){Hn.tag===_n.tag&&Hn.kind===_n.kind&&Hn.multi===_n.multi&&(ln=yn)}),Xt[ln]=_n}),Xt}function oe(I){return this.extend(I)}oe.prototype.extend=function(Ct){var Xt=[],_n=[];if(Ct instanceof Xe)_n.push(Ct);else if(Array.isArray(Ct))_n=_n.concat(Ct);else{if(!Ct||!Array.isArray(Ct.implicit)&&!Array.isArray(Ct.explicit))throw new Ee("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Ct.implicit&&(Xt=Xt.concat(Ct.implicit)),Ct.explicit&&(_n=_n.concat(Ct.explicit))}Xt.forEach(function(Hn){if(!(Hn instanceof Xe))throw new Ee("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(Hn.loadKind&&"scalar"!==Hn.loadKind)throw new Ee("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(Hn.multi)throw new Ee("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),_n.forEach(function(Hn){if(!(Hn instanceof Xe))throw new Ee("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ln=Object.create(oe.prototype);return ln.implicit=(this.implicit||[]).concat(Xt),ln.explicit=(this.explicit||[]).concat(_n),ln.compiledImplicit=Q(ln,"implicit"),ln.compiledExplicit=Q(ln,"explicit"),ln.compiledTypeMap=function rt(){var Ct,Xt,I={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function _n(ln){ln.multi?(I.multi[ln.kind].push(ln),I.multi.fallback.push(ln)):I[ln.kind][ln.tag]=I.fallback[ln.tag]=ln}for(Ct=0,Xt=arguments.length;Ct<Xt;Ct+=1)arguments[Ct].forEach(_n);return I}(ln.compiledImplicit,ln.compiledExplicit),ln};var $t=new oe({explicit:[new Xe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(I){return null!==I?I:""}}),new Xe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(I){return null!==I?I:[]}}),new Xe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(I){return null!==I?I:{}}})]}),me=new Xe("tag:yaml.org,2002:null",{kind:"scalar",resolve:function Ce(I){if(null===I)return!0;var Ct=I.length;return 1===Ct&&"~"===I||4===Ct&&("null"===I||"Null"===I||"NULL"===I)},construct:function ce(){return null},predicate:function ve(I){return null===I},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),En=new Xe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Oe(I){if(null===I)return!1;var Ct=I.length;return 4===Ct&&("true"===I||"True"===I||"TRUE"===I)||5===Ct&&("false"===I||"False"===I||"FALSE"===I)},construct:function At(I){return"true"===I||"True"===I||"TRUE"===I},predicate:function Et(I){return"[object Boolean]"===Object.prototype.toString.call(I)},represent:{lowercase:function(I){return I?"true":"false"},uppercase:function(I){return I?"TRUE":"FALSE"},camelcase:function(I){return I?"True":"False"}},defaultStyle:"lowercase"});function Me(I){return 48<=I&&I<=57||65<=I&&I<=70||97<=I&&I<=102}function kn(I){return 48<=I&&I<=55}function nn(I){return 48<=I&&I<=57}var Ae=new Xe("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Ot(I){if(null===I)return!1;var ln,Ct=I.length,Xt=0,_n=!1;if(!Ct)return!1;if(("-"===(ln=I[Xt])||"+"===ln)&&(ln=I[++Xt]),"0"===ln){if(Xt+1===Ct)return!0;if("b"===(ln=I[++Xt])){for(Xt++;Xt<Ct;Xt++)if("_"!==(ln=I[Xt])){if("0"!==ln&&"1"!==ln)return!1;_n=!0}return _n&&"_"!==ln}if("x"===ln){for(Xt++;Xt<Ct;Xt++)if("_"!==(ln=I[Xt])){if(!Me(I.charCodeAt(Xt)))return!1;_n=!0}return _n&&"_"!==ln}if("o"===ln){for(Xt++;Xt<Ct;Xt++)if("_"!==(ln=I[Xt])){if(!kn(I.charCodeAt(Xt)))return!1;_n=!0}return _n&&"_"!==ln}}if("_"===ln)return!1;for(;Xt<Ct;Xt++)if("_"!==(ln=I[Xt])){if(!nn(I.charCodeAt(Xt)))return!1;_n=!0}return!(!_n||"_"===ln)},construct:function Ft(I){var _n,Ct=I,Xt=1;if(-1!==Ct.indexOf("_")&&(Ct=Ct.replace(/_/g,"")),("-"===(_n=Ct[0])||"+"===_n)&&("-"===_n&&(Xt=-1),_n=(Ct=Ct.slice(1))[0]),"0"===Ct)return 0;if("0"===_n){if("b"===Ct[1])return Xt*parseInt(Ct.slice(2),2);if("x"===Ct[1])return Xt*parseInt(Ct.slice(2),16);if("o"===Ct[1])return Xt*parseInt(Ct.slice(2),8)}return Xt*parseInt(Ct,10)},predicate:function ft(I){return"[object Number]"===Object.prototype.toString.call(I)&&I%1==0&&!Z.isNegativeZero(I)},represent:{binary:function(I){return I>=0?"0b"+I.toString(2):"-0b"+I.toString(2).slice(1)},octal:function(I){return I>=0?"0o"+I.toString(8):"-0o"+I.toString(8).slice(1)},decimal:function(I){return I.toString(10)},hexadecimal:function(I){return I>=0?"0x"+I.toString(16).toUpperCase():"-0x"+I.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ve=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Pt=/^[-+]?[0-9]+e/,vn=new Xe("tag:yaml.org,2002:float",{kind:"scalar",resolve:function vt(I){return!(null===I||!Ve.test(I)||"_"===I[I.length-1])},construct:function an(I){var Ct,Xt;return Xt="-"===(Ct=I.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(Ct[0])>=0&&(Ct=Ct.slice(1)),".inf"===Ct?1===Xt?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===Ct?NaN:Xt*parseFloat(Ct,10)},predicate:function Jt(I){return"[object Number]"===Object.prototype.toString.call(I)&&(I%1!=0||Z.isNegativeZero(I))},represent:function yt(I,Ct){var Xt;if(isNaN(I))switch(Ct){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===I)switch(Ct){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===I)switch(Ct){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Z.isNegativeZero(I))return"-0.0";return Xt=I.toString(10),Pt.test(Xt)?Xt.replace("e",".e"):Xt},defaultStyle:"lowercase"}),on=$t.extend({implicit:[me,En,Ae,vn]}),sn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),de=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),rn=new Xe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function tt(I){return null!==I&&(null!==sn.exec(I)||null!==de.exec(I))},construct:function _e(I){var Ct,Xt,_n,ln,Hn,yn,Zn,er,pi=0,ai=null;if(null===(Ct=sn.exec(I))&&(Ct=de.exec(I)),null===Ct)throw new Error("Date resolve error");if(Xt=+Ct[1],_n=+Ct[2]-1,ln=+Ct[3],!Ct[4])return new Date(Date.UTC(Xt,_n,ln));if(Hn=+Ct[4],yn=+Ct[5],Zn=+Ct[6],Ct[7]){for(pi=Ct[7].slice(0,3);pi.length<3;)pi+="0";pi=+pi}return Ct[9]&&(ai=6e4*(60*+Ct[10]+ +(Ct[11]||0)),"-"===Ct[9]&&(ai=-ai)),er=new Date(Date.UTC(Xt,_n,ln,Hn,yn,Zn,pi)),ai&&er.setTime(er.getTime()-ai),er},instanceOf:Date,represent:function ut(I){return I.toISOString()}}),ci=new Xe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function fn(I){return"<<"===I||null===I}}),$i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",Bt=new Xe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function mn(I){if(null===I)return!1;var Ct,Xt,_n=0,ln=I.length,Hn=$i;for(Xt=0;Xt<ln;Xt++)if(!((Ct=Hn.indexOf(I.charAt(Xt)))>64)){if(Ct<0)return!1;_n+=6}return _n%8==0},construct:function cn(I){var Ct,Xt,_n=I.replace(/[\r\n=]/g,""),ln=_n.length,Hn=$i,yn=0,Zn=[];for(Ct=0;Ct<ln;Ct++)Ct%4==0&&Ct&&(Zn.push(yn>>16&255),Zn.push(yn>>8&255),Zn.push(255&yn)),yn=yn<<6|Hn.indexOf(_n.charAt(Ct));return 0==(Xt=ln%4*6)?(Zn.push(yn>>16&255),Zn.push(yn>>8&255),Zn.push(255&yn)):18===Xt?(Zn.push(yn>>10&255),Zn.push(yn>>2&255)):12===Xt&&Zn.push(yn>>4&255),new Uint8Array(Zn)},predicate:function Ht(I){return"[object Uint8Array]"===Object.prototype.toString.call(I)},represent:function wt(I){var _n,ln,Ct="",Xt=0,Hn=I.length,yn=$i;for(_n=0;_n<Hn;_n++)_n%3==0&&_n&&(Ct+=yn[Xt>>18&63],Ct+=yn[Xt>>12&63],Ct+=yn[Xt>>6&63],Ct+=yn[63&Xt]),Xt=(Xt<<8)+I[_n];return 0==(ln=Hn%3)?(Ct+=yn[Xt>>18&63],Ct+=yn[Xt>>12&63],Ct+=yn[Xt>>6&63],Ct+=yn[63&Xt]):2===ln?(Ct+=yn[Xt>>10&63],Ct+=yn[Xt>>4&63],Ct+=yn[Xt<<2&63],Ct+=yn[64]):1===ln&&(Ct+=yn[Xt>>2&63],Ct+=yn[Xt<<4&63],Ct+=yn[64],Ct+=yn[64]),Ct}}),An=Object.prototype.hasOwnProperty,Xn=Object.prototype.toString,ui=new Xe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function zi(I){if(null===I)return!0;var Xt,_n,ln,Hn,yn,Ct=[],Zn=I;for(Xt=0,_n=Zn.length;Xt<_n;Xt+=1){if(yn=!1,"[object Object]"!==Xn.call(ln=Zn[Xt]))return!1;for(Hn in ln)if(An.call(ln,Hn)){if(yn)return!1;yn=!0}if(!yn)return!1;if(-1!==Ct.indexOf(Hn))return!1;Ct.push(Hn)}return!0},construct:function Vn(I){return null!==I?I:[]}}),Pn=Object.prototype.toString,xt=new Xe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function oi(I){if(null===I)return!0;var Ct,Xt,_n,ln,Hn,yn=I;for(Hn=new Array(yn.length),Ct=0,Xt=yn.length;Ct<Xt;Ct+=1){if("[object Object]"!==Pn.call(_n=yn[Ct])||1!==(ln=Object.keys(_n)).length)return!1;Hn[Ct]=[ln[0],_n[ln[0]]]}return!0},construct:function jt(I){if(null===I)return[];var Ct,Xt,_n,ln,Hn,yn=I;for(Hn=new Array(yn.length),Ct=0,Xt=yn.length;Ct<Xt;Ct+=1)_n=yn[Ct],ln=Object.keys(_n),Hn[Ct]=[ln[0],_n[ln[0]]];return Hn}}),qt=Object.prototype.hasOwnProperty,Rn=new Xe("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Lt(I){if(null===I)return!0;var Ct,Xt=I;for(Ct in Xt)if(qt.call(Xt,Ct)&&null!==Xt[Ct])return!1;return!0},construct:function Kt(I){return null!==I?I:{}}}),Un=on.extend({implicit:[rn,ci],explicit:[Bt,ui,xt,Rn]}),dt=Object.prototype.hasOwnProperty,we=1,Ne=2,U=3,Se=4,be=1,ct=2,Ze=3,Mt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,hn=/[\x85\u2028\u2029]/,Kn=/[,\[\]\{\}]/,Jn=/^(?:!|!!|![a-z\-]+!)$/i,Bi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function di(I){return Object.prototype.toString.call(I)}function Qi(I){return 10===I||13===I}function br(I){return 9===I||32===I}function Tr(I){return 9===I||32===I||10===I||13===I}function Hi(I){return 44===I||91===I||93===I||123===I||125===I}function xr(I){var Ct;return 48<=I&&I<=57?I-48:97<=(Ct=32|I)&&Ct<=102?Ct-97+10:-1}function as(I){return 120===I?2:117===I?4:85===I?8:0}function ts(I){return 48<=I&&I<=57?I-48:-1}function bs(I){return 48===I?"\0":97===I?"\x07":98===I?"\b":116===I||9===I?"\t":110===I?"\n":118===I?"\v":102===I?"\f":114===I?"\r":101===I?"\x1b":32===I?" ":34===I?'"':47===I?"/":92===I?"\\":78===I?"\x85":95===I?"\xa0":76===I?"\u2028":80===I?"\u2029":""}function Os(I){return I<=65535?String.fromCharCode(I):String.fromCharCode(55296+(I-65536>>10),56320+(I-65536&1023))}for(var ds=new Array(256),lr=new Array(256),Ir=0;Ir<256;Ir++)ds[Ir]=bs(Ir)?1:0,lr[Ir]=bs(Ir);function vr(I,Ct){this.input=I,this.filename=Ct.filename||null,this.schema=Ct.schema||Un,this.onWarning=Ct.onWarning||null,this.legacy=Ct.legacy||!1,this.json=Ct.json||!1,this.listener=Ct.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=I.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function tr(I,Ct){var Xt={name:I.filename,buffer:I.input.slice(0,-1),position:I.position,line:I.line,column:I.position-I.lineStart};return Xt.snippet=Ye(Xt),new Ee(Ct,Xt)}function xi(I,Ct){throw tr(I,Ct)}function He(I,Ct){I.onWarning&&I.onWarning.call(null,tr(I,Ct))}var Rt={YAML:function(Ct,Xt,_n){var ln,Hn,yn;null!==Ct.version&&xi(Ct,"duplication of %YAML directive"),1!==_n.length&&xi(Ct,"YAML directive accepts exactly one argument"),null===(ln=/^([0-9]+)\.([0-9]+)$/.exec(_n[0]))&&xi(Ct,"ill-formed argument of the YAML directive"),Hn=parseInt(ln[1],10),yn=parseInt(ln[2],10),1!==Hn&&xi(Ct,"unacceptable YAML version of the document"),Ct.version=_n[0],Ct.checkLineBreaks=yn<2,1!==yn&&2!==yn&&He(Ct,"unsupported YAML version of the document")},TAG:function(Ct,Xt,_n){var ln,Hn;2!==_n.length&&xi(Ct,"TAG directive accepts exactly two arguments"),Hn=_n[1],Jn.test(ln=_n[0])||xi(Ct,"ill-formed tag handle (first argument) of the TAG directive"),dt.call(Ct.tagMap,ln)&&xi(Ct,'there is a previously declared suffix for "'+ln+'" tag handle'),Bi.test(Hn)||xi(Ct,"ill-formed tag prefix (second argument) of the TAG directive");try{Hn=decodeURIComponent(Hn)}catch{xi(Ct,"tag prefix is malformed: "+Hn)}Ct.tagMap[ln]=Hn}};function H(I,Ct,Xt,_n){var ln,Hn,yn,Zn;if(Ct<Xt){if(Zn=I.input.slice(Ct,Xt),_n)for(ln=0,Hn=Zn.length;ln<Hn;ln+=1)9===(yn=Zn.charCodeAt(ln))||32<=yn&&yn<=1114111||xi(I,"expected valid JSON character");else Mt.test(Zn)&&xi(I,"the stream contains non-printable characters");I.result+=Zn}}function Ke(I,Ct,Xt,_n){var ln,Hn,yn,Zn;for(Z.isObject(Xt)||xi(I,"cannot merge mappings; the provided source object is unacceptable"),yn=0,Zn=(ln=Object.keys(Xt)).length;yn<Zn;yn+=1)dt.call(Ct,Hn=ln[yn])||(Ct[Hn]=Xt[Hn],_n[Hn]=!0)}function ze(I,Ct,Xt,_n,ln,Hn,yn,Zn,pi){var ai,Ai;if(Array.isArray(ln))for(ai=0,Ai=(ln=Array.prototype.slice.call(ln)).length;ai<Ai;ai+=1)Array.isArray(ln[ai])&&xi(I,"nested arrays are not supported inside keys"),"object"==typeof ln&&"[object Object]"===di(ln[ai])&&(ln[ai]="[object Object]");if("object"==typeof ln&&"[object Object]"===di(ln)&&(ln="[object Object]"),ln=String(ln),null===Ct&&(Ct={}),"tag:yaml.org,2002:merge"===_n)if(Array.isArray(Hn))for(ai=0,Ai=Hn.length;ai<Ai;ai+=1)Ke(I,Ct,Hn[ai],Xt);else Ke(I,Ct,Hn,Xt);else!I.json&&!dt.call(Xt,ln)&&dt.call(Ct,ln)&&(I.line=yn||I.line,I.lineStart=Zn||I.lineStart,I.position=pi||I.position,xi(I,"duplicated mapping key")),"__proto__"===ln?Object.defineProperty(Ct,ln,{configurable:!0,enumerable:!0,writable:!0,value:Hn}):Ct[ln]=Hn,delete Xt[ln];return Ct}function kt(I){var Ct;10===(Ct=I.input.charCodeAt(I.position))?I.position++:13===Ct?(I.position++,10===I.input.charCodeAt(I.position)&&I.position++):xi(I,"a line break is expected"),I.line+=1,I.lineStart=I.position,I.firstTabInLine=-1}function Vt(I,Ct,Xt){for(var _n=0,ln=I.input.charCodeAt(I.position);0!==ln;){for(;br(ln);)9===ln&&-1===I.firstTabInLine&&(I.firstTabInLine=I.position),ln=I.input.charCodeAt(++I.position);if(Ct&&35===ln)do{ln=I.input.charCodeAt(++I.position)}while(10!==ln&&13!==ln&&0!==ln);if(!Qi(ln))break;for(kt(I),ln=I.input.charCodeAt(I.position),_n++,I.lineIndent=0;32===ln;)I.lineIndent++,ln=I.input.charCodeAt(++I.position)}return-1!==Xt&&0!==_n&&I.lineIndent<Xt&&He(I,"deficient indentation"),_n}function mi(I){var Xt,Ct=I.position;return!(45!==(Xt=I.input.charCodeAt(Ct))&&46!==Xt||Xt!==I.input.charCodeAt(Ct+1)||Xt!==I.input.charCodeAt(Ct+2)||(Ct+=3,Xt=I.input.charCodeAt(Ct),0!==Xt&&!Tr(Xt)))}function Zi(I,Ct){1===Ct?I.result+=" ":Ct>1&&(I.result+=Z.repeat("\n",Ct-1))}function to(I,Ct){var Xt,pi,_n=I.tag,ln=I.anchor,Hn=[],Zn=!1;if(-1!==I.firstTabInLine)return!1;for(null!==I.anchor&&(I.anchorMap[I.anchor]=Hn),pi=I.input.charCodeAt(I.position);0!==pi&&(-1!==I.firstTabInLine&&(I.position=I.firstTabInLine,xi(I,"tab characters must not be used in indentation")),45===pi&&Tr(I.input.charCodeAt(I.position+1)));)if(Zn=!0,I.position++,Vt(I,!0,-1)&&I.lineIndent<=Ct)Hn.push(null),pi=I.input.charCodeAt(I.position);else if(Xt=I.line,Ur(I,Ct,U,!1,!0),Hn.push(I.result),Vt(I,!0,-1),pi=I.input.charCodeAt(I.position),(I.line===Xt||I.lineIndent>Ct)&&0!==pi)xi(I,"bad indentation of a sequence entry");else if(I.lineIndent<Ct)break;return!!Zn&&(I.tag=_n,I.anchor=ln,I.kind="sequence",I.result=Hn,!0)}function rs(I){var Ct,ln,Hn,yn,Xt=!1,_n=!1;if(33!==(yn=I.input.charCodeAt(I.position)))return!1;if(null!==I.tag&&xi(I,"duplication of a tag property"),60===(yn=I.input.charCodeAt(++I.position))?(Xt=!0,yn=I.input.charCodeAt(++I.position)):33===yn?(_n=!0,ln="!!",yn=I.input.charCodeAt(++I.position)):ln="!",Ct=I.position,Xt){do{yn=I.input.charCodeAt(++I.position)}while(0!==yn&&62!==yn);I.position<I.length?(Hn=I.input.slice(Ct,I.position),yn=I.input.charCodeAt(++I.position)):xi(I,"unexpected end of the stream within a verbatim tag")}else{for(;0!==yn&&!Tr(yn);)33===yn&&(_n?xi(I,"tag suffix cannot contain exclamation marks"):(ln=I.input.slice(Ct-1,I.position+1),Jn.test(ln)||xi(I,"named tag handle cannot contain such characters"),_n=!0,Ct=I.position+1)),yn=I.input.charCodeAt(++I.position);Hn=I.input.slice(Ct,I.position),Kn.test(Hn)&&xi(I,"tag suffix cannot contain flow indicator characters")}Hn&&!Bi.test(Hn)&&xi(I,"tag name cannot contain such characters: "+Hn);try{Hn=decodeURIComponent(Hn)}catch{xi(I,"tag name is malformed: "+Hn)}return Xt?I.tag=Hn:dt.call(I.tagMap,ln)?I.tag=I.tagMap[ln]+Hn:"!"===ln?I.tag="!"+Hn:"!!"===ln?I.tag="tag:yaml.org,2002:"+Hn:xi(I,'undeclared tag handle "'+ln+'"'),!0}function gs(I){var Ct,Xt;if(38!==(Xt=I.input.charCodeAt(I.position)))return!1;for(null!==I.anchor&&xi(I,"duplication of an anchor property"),Xt=I.input.charCodeAt(++I.position),Ct=I.position;0!==Xt&&!Tr(Xt)&&!Hi(Xt);)Xt=I.input.charCodeAt(++I.position);return I.position===Ct&&xi(I,"name of an anchor node must contain at least one character"),I.anchor=I.input.slice(Ct,I.position),!0}function Ur(I,Ct,Xt,_n,ln){var Hn,yn,Zn,_i,er,Er,Ts,zs,To,pi=1,ai=!1,Ai=!1;if(null!==I.listener&&I.listener("open",I),I.tag=null,I.anchor=null,I.kind=null,I.result=null,Hn=yn=Zn=Se===Xt||U===Xt,_n&&Vt(I,!0,-1)&&(ai=!0,I.lineIndent>Ct?pi=1:I.lineIndent===Ct?pi=0:I.lineIndent<Ct&&(pi=-1)),1===pi)for(;rs(I)||gs(I);)Vt(I,!0,-1)?(ai=!0,Zn=Hn,I.lineIndent>Ct?pi=1:I.lineIndent===Ct?pi=0:I.lineIndent<Ct&&(pi=-1)):Zn=!1;if(Zn&&(Zn=ai||ln),(1===pi||Se===Xt)&&(zs=we===Xt||Ne===Xt?Ct:Ct+1,To=I.position-I.lineStart,1===pi?Zn&&(to(I,To)||function Gr(I,Ct,Xt){var _n,ln,Hn,yn,Zn,pi,qs,ai=I.tag,Ai=I.anchor,_i={},er=Object.create(null),Er=null,Ts=null,zs=null,To=!1,Cs=!1;if(-1!==I.firstTabInLine)return!1;for(null!==I.anchor&&(I.anchorMap[I.anchor]=_i),qs=I.input.charCodeAt(I.position);0!==qs;){if(!To&&-1!==I.firstTabInLine&&(I.position=I.firstTabInLine,xi(I,"tab characters must not be used in indentation")),_n=I.input.charCodeAt(I.position+1),Hn=I.line,63!==qs&&58!==qs||!Tr(_n)){if(yn=I.line,Zn=I.lineStart,pi=I.position,!Ur(I,Xt,Ne,!1,!0))break;if(I.line===Hn){for(qs=I.input.charCodeAt(I.position);br(qs);)qs=I.input.charCodeAt(++I.position);if(58===qs)Tr(qs=I.input.charCodeAt(++I.position))||xi(I,"a whitespace character is expected after the key-value separator within a block mapping"),To&&(ze(I,_i,er,Er,Ts,null,yn,Zn,pi),Er=Ts=zs=null),Cs=!0,To=!1,ln=!1,Er=I.tag,Ts=I.result;else{if(!Cs)return I.tag=ai,I.anchor=Ai,!0;xi(I,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Cs)return I.tag=ai,I.anchor=Ai,!0;xi(I,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===qs?(To&&(ze(I,_i,er,Er,Ts,null,yn,Zn,pi),Er=Ts=zs=null),Cs=!0,To=!0,ln=!0):To?(To=!1,ln=!0):xi(I,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),I.position+=1,qs=_n;if((I.line===Hn||I.lineIndent>Ct)&&(To&&(yn=I.line,Zn=I.lineStart,pi=I.position),Ur(I,Ct,Se,!0,ln)&&(To?Ts=I.result:zs=I.result),To||(ze(I,_i,er,Er,Ts,zs,yn,Zn,pi),Er=Ts=zs=null),Vt(I,!0,-1),qs=I.input.charCodeAt(I.position)),(I.line===Hn||I.lineIndent>Ct)&&0!==qs)xi(I,"bad indentation of a mapping entry");else if(I.lineIndent<Ct)break}return To&&ze(I,_i,er,Er,Ts,null,yn,Zn,pi),Cs&&(I.tag=ai,I.anchor=Ai,I.kind="mapping",I.result=_i),Cs}(I,To,zs))||function is(I,Ct){var _n,ln,Hn,Zn,Ai,_i,er,Er,zs,To,Cs,qs,Xt=!0,yn=I.tag,pi=I.anchor,Ts=Object.create(null);if(91===(qs=I.input.charCodeAt(I.position)))Ai=93,Er=!1,Zn=[];else{if(123!==qs)return!1;Ai=125,Er=!0,Zn={}}for(null!==I.anchor&&(I.anchorMap[I.anchor]=Zn),qs=I.input.charCodeAt(++I.position);0!==qs;){if(Vt(I,!0,Ct),(qs=I.input.charCodeAt(I.position))===Ai)return I.position++,I.tag=yn,I.anchor=pi,I.kind=Er?"mapping":"sequence",I.result=Zn,!0;Xt?44===qs&&xi(I,"expected the node content, but found ','"):xi(I,"missed comma between flow collection entries"),Cs=null,_i=er=!1,63===qs&&Tr(I.input.charCodeAt(I.position+1))&&(_i=er=!0,I.position++,Vt(I,!0,Ct)),_n=I.line,ln=I.lineStart,Hn=I.position,Ur(I,Ct,we,!1,!0),To=I.tag,zs=I.result,Vt(I,!0,Ct),qs=I.input.charCodeAt(I.position),(er||I.line===_n)&&58===qs&&(_i=!0,qs=I.input.charCodeAt(++I.position),Vt(I,!0,Ct),Ur(I,Ct,we,!1,!0),Cs=I.result),Er?ze(I,Zn,Ts,To,zs,Cs,_n,ln,Hn):Zn.push(_i?ze(I,null,Ts,To,zs,Cs,_n,ln,Hn):zs),Vt(I,!0,Ct),44===(qs=I.input.charCodeAt(I.position))?(Xt=!0,qs=I.input.charCodeAt(++I.position)):Xt=!1}xi(I,"unexpected end of the stream within a flow collection")}(I,zs)?Ai=!0:(yn&&function Es(I,Ct){var Xt,_n,Ai,_i,ln=be,Hn=!1,yn=!1,Zn=Ct,pi=0,ai=!1;if(124===(_i=I.input.charCodeAt(I.position)))_n=!1;else{if(62!==_i)return!1;_n=!0}for(I.kind="scalar",I.result="";0!==_i;)if(43===(_i=I.input.charCodeAt(++I.position))||45===_i)be===ln?ln=43===_i?Ze:ct:xi(I,"repeat of a chomping mode identifier");else{if(!((Ai=ts(_i))>=0))break;0===Ai?xi(I,"bad explicit indentation width of a block scalar; it cannot be less than one"):yn?xi(I,"repeat of an indentation width identifier"):(Zn=Ct+Ai-1,yn=!0)}if(br(_i)){do{_i=I.input.charCodeAt(++I.position)}while(br(_i));if(35===_i)do{_i=I.input.charCodeAt(++I.position)}while(!Qi(_i)&&0!==_i)}for(;0!==_i;){for(kt(I),I.lineIndent=0,_i=I.input.charCodeAt(I.position);(!yn||I.lineIndent<Zn)&&32===_i;)I.lineIndent++,_i=I.input.charCodeAt(++I.position);if(!yn&&I.lineIndent>Zn&&(Zn=I.lineIndent),Qi(_i))pi++;else{if(I.lineIndent<Zn){ln===Ze?I.result+=Z.repeat("\n",Hn?1+pi:pi):ln===be&&Hn&&(I.result+="\n");break}for(_n?br(_i)?(ai=!0,I.result+=Z.repeat("\n",Hn?1+pi:pi)):ai?(ai=!1,I.result+=Z.repeat("\n",pi+1)):0===pi?Hn&&(I.result+=" "):I.result+=Z.repeat("\n",pi):I.result+=Z.repeat("\n",Hn?1+pi:pi),Hn=!0,yn=!0,pi=0,Xt=I.position;!Qi(_i)&&0!==_i;)_i=I.input.charCodeAt(++I.position);H(I,Xt,I.position,!1)}}return!0}(I,zs)||function ns(I,Ct){var Xt,_n,ln;if(39!==(Xt=I.input.charCodeAt(I.position)))return!1;for(I.kind="scalar",I.result="",I.position++,_n=ln=I.position;0!==(Xt=I.input.charCodeAt(I.position));)if(39===Xt){if(H(I,_n,I.position,!0),39!==(Xt=I.input.charCodeAt(++I.position)))return!0;_n=I.position,I.position++,ln=I.position}else Qi(Xt)?(H(I,_n,ln,!0),Zi(I,Vt(I,!1,Ct)),_n=ln=I.position):I.position===I.lineStart&&mi(I)?xi(I,"unexpected end of the document within a single quoted scalar"):(I.position++,ln=I.position);xi(I,"unexpected end of the stream within a single quoted scalar")}(I,zs)||function Jr(I,Ct){var Xt,_n,ln,Hn,yn,Zn;if(34!==(Zn=I.input.charCodeAt(I.position)))return!1;for(I.kind="scalar",I.result="",I.position++,Xt=_n=I.position;0!==(Zn=I.input.charCodeAt(I.position));){if(34===Zn)return H(I,Xt,I.position,!0),I.position++,!0;if(92===Zn){if(H(I,Xt,I.position,!0),Qi(Zn=I.input.charCodeAt(++I.position)))Vt(I,!1,Ct);else if(Zn<256&&ds[Zn])I.result+=lr[Zn],I.position++;else if((yn=as(Zn))>0){for(ln=yn,Hn=0;ln>0;ln--)(yn=xr(Zn=I.input.charCodeAt(++I.position)))>=0?Hn=(Hn<<4)+yn:xi(I,"expected hexadecimal character");I.result+=Os(Hn),I.position++}else xi(I,"unknown escape sequence");Xt=_n=I.position}else Qi(Zn)?(H(I,Xt,_n,!0),Zi(I,Vt(I,!1,Ct)),Xt=_n=I.position):I.position===I.lineStart&&mi(I)?xi(I,"unexpected end of the document within a double quoted scalar"):(I.position++,_n=I.position)}xi(I,"unexpected end of the stream within a double quoted scalar")}(I,zs)?Ai=!0:function Bo(I){var Ct,Xt,_n;if(42!==(_n=I.input.charCodeAt(I.position)))return!1;for(_n=I.input.charCodeAt(++I.position),Ct=I.position;0!==_n&&!Tr(_n)&&!Hi(_n);)_n=I.input.charCodeAt(++I.position);return I.position===Ct&&xi(I,"name of an alias node must contain at least one character"),Xt=I.input.slice(Ct,I.position),dt.call(I.anchorMap,Xt)||xi(I,'unidentified alias "'+Xt+'"'),I.result=I.anchorMap[Xt],Vt(I,!0,-1),!0}(I)?(Ai=!0,(null!==I.tag||null!==I.anchor)&&xi(I,"alias node should not have any properties")):function cr(I,Ct,Xt){var ln,Hn,yn,Zn,pi,ai,Ai,Er,_i=I.kind,er=I.result;if(Tr(Er=I.input.charCodeAt(I.position))||Hi(Er)||35===Er||38===Er||42===Er||33===Er||124===Er||62===Er||39===Er||34===Er||37===Er||64===Er||96===Er||(63===Er||45===Er)&&(Tr(ln=I.input.charCodeAt(I.position+1))||Xt&&Hi(ln)))return!1;for(I.kind="scalar",I.result="",Hn=yn=I.position,Zn=!1;0!==Er;){if(58===Er){if(Tr(ln=I.input.charCodeAt(I.position+1))||Xt&&Hi(ln))break}else if(35===Er){if(Tr(I.input.charCodeAt(I.position-1)))break}else{if(I.position===I.lineStart&&mi(I)||Xt&&Hi(Er))break;if(Qi(Er)){if(pi=I.line,ai=I.lineStart,Ai=I.lineIndent,Vt(I,!1,-1),I.lineIndent>=Ct){Zn=!0,Er=I.input.charCodeAt(I.position);continue}I.position=yn,I.line=pi,I.lineStart=ai,I.lineIndent=Ai;break}}Zn&&(H(I,Hn,yn,!1),Zi(I,I.line-pi),Hn=yn=I.position,Zn=!1),br(Er)||(yn=I.position+1),Er=I.input.charCodeAt(++I.position)}return H(I,Hn,yn,!1),!!I.result||(I.kind=_i,I.result=er,!1)}(I,zs,we===Xt)&&(Ai=!0,null===I.tag&&(I.tag="?")),null!==I.anchor&&(I.anchorMap[I.anchor]=I.result)):0===pi&&(Ai=Zn&&to(I,To))),null===I.tag)null!==I.anchor&&(I.anchorMap[I.anchor]=I.result);else if("?"===I.tag){for(null!==I.result&&"scalar"!==I.kind&&xi(I,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+I.kind+'"'),_i=0,er=I.implicitTypes.length;_i<er;_i+=1)if((Ts=I.implicitTypes[_i]).resolve(I.result)){I.result=Ts.construct(I.result),I.tag=Ts.tag,null!==I.anchor&&(I.anchorMap[I.anchor]=I.result);break}}else if("!"!==I.tag){if(dt.call(I.typeMap[I.kind||"fallback"],I.tag))Ts=I.typeMap[I.kind||"fallback"][I.tag];else for(Ts=null,_i=0,er=(Er=I.typeMap.multi[I.kind||"fallback"]).length;_i<er;_i+=1)if(I.tag.slice(0,Er[_i].tag.length)===Er[_i].tag){Ts=Er[_i];break}Ts||xi(I,"unknown tag !<"+I.tag+">"),null!==I.result&&Ts.kind!==I.kind&&xi(I,"unacceptable node kind for !<"+I.tag+'> tag; it should be "'+Ts.kind+'", not "'+I.kind+'"'),Ts.resolve(I.result,I.tag)?(I.result=Ts.construct(I.result,I.tag),null!==I.anchor&&(I.anchorMap[I.anchor]=I.result)):xi(I,"cannot resolve a node with !<"+I.tag+"> explicit tag")}return null!==I.listener&&I.listener("close",I),null!==I.tag||null!==I.anchor||Ai}function Go(I){var Xt,_n,ln,yn,Ct=I.position,Hn=!1;for(I.version=null,I.checkLineBreaks=I.legacy,I.tagMap=Object.create(null),I.anchorMap=Object.create(null);0!==(yn=I.input.charCodeAt(I.position))&&(Vt(I,!0,-1),yn=I.input.charCodeAt(I.position),!(I.lineIndent>0||37!==yn));){for(Hn=!0,yn=I.input.charCodeAt(++I.position),Xt=I.position;0!==yn&&!Tr(yn);)yn=I.input.charCodeAt(++I.position);for(ln=[],(_n=I.input.slice(Xt,I.position)).length<1&&xi(I,"directive name must not be less than one character in length");0!==yn;){for(;br(yn);)yn=I.input.charCodeAt(++I.position);if(35===yn){do{yn=I.input.charCodeAt(++I.position)}while(0!==yn&&!Qi(yn));break}if(Qi(yn))break;for(Xt=I.position;0!==yn&&!Tr(yn);)yn=I.input.charCodeAt(++I.position);ln.push(I.input.slice(Xt,I.position))}0!==yn&&kt(I),dt.call(Rt,_n)?Rt[_n](I,_n,ln):He(I,'unknown document directive "'+_n+'"')}Vt(I,!0,-1),0===I.lineIndent&&45===I.input.charCodeAt(I.position)&&45===I.input.charCodeAt(I.position+1)&&45===I.input.charCodeAt(I.position+2)?(I.position+=3,Vt(I,!0,-1)):Hn&&xi(I,"directives end mark is expected"),Ur(I,I.lineIndent-1,Se,!1,!0),Vt(I,!0,-1),I.checkLineBreaks&&hn.test(I.input.slice(Ct,I.position))&&He(I,"non-ASCII line breaks are interpreted as content"),I.documents.push(I.result),I.position===I.lineStart&&mi(I)?46===I.input.charCodeAt(I.position)&&(I.position+=3,Vt(I,!0,-1)):I.position<I.length-1&&xi(I,"end of the stream or a document separator is expected")}function wo(I,Ct){Ct=Ct||{},0!==(I=String(I)).length&&(10!==I.charCodeAt(I.length-1)&&13!==I.charCodeAt(I.length-1)&&(I+="\n"),65279===I.charCodeAt(0)&&(I=I.slice(1)));var Xt=new vr(I,Ct),_n=I.indexOf("\0");for(-1!==_n&&(Xt.position=_n,xi(Xt,"null byte is not allowed in input")),Xt.input+="\0";32===Xt.input.charCodeAt(Xt.position);)Xt.lineIndent+=1,Xt.position+=1;for(;Xt.position<Xt.length-1;)Go(Xt);return Xt.documents}function We(I,Ct){return function(){throw new Error("Function yaml."+I+" is removed in js-yaml 4. Use yaml."+Ct+" instead, which is now safe by default.")}}var xs=function rl(I,Ct){var Xt=wo(I,Ct);if(0!==Xt.length){if(1===Xt.length)return Xt[0];throw new Ee("expected a single document in the stream, but found more")}};We("safeLoad","load"),We("safeLoadAll","loadAll"),We("safeDump","dump")},997:(dn,Je,_)=>{"use strict";_.d(Je,{qg:()=>Lt,xI:()=>ui});let O={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function E(Un){O=Un}const A=/[&<>"']/,S=new RegExp(A.source,"g"),C=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,W=new RegExp(C.source,"g"),L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},N=Un=>L[Un];function z(Un,dt){if(dt){if(A.test(Un))return Un.replace(S,N)}else if(C.test(Un))return Un.replace(W,N);return Un}const re=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,Z=/(^|[^\[])\^/g;function ee(Un,dt){let we="string"==typeof Un?Un:Un.source;dt=dt||"";const Ne={replace:(U,Se)=>{let be="string"==typeof Se?Se:Se.source;return be=be.replace(Z,"$1"),we=we.replace(U,be),Ne},getRegex:()=>new RegExp(we,dt)};return Ne}function De(Un){try{Un=encodeURI(Un).replace(/%25/g,"%")}catch{return null}return Un}const Ee={exec:()=>null};function ke(Un,dt){const Ne=Un.replace(/\|/g,(Se,be,ct)=>{let Ze=!1,Mt=be;for(;--Mt>=0&&"\\"===ct[Mt];)Ze=!Ze;return Ze?"|":" |"}).split(/ \|/);let U=0;if(Ne[0].trim()||Ne.shift(),Ne.length>0&&!Ne[Ne.length-1].trim()&&Ne.pop(),dt)if(Ne.length>dt)Ne.splice(dt);else for(;Ne.length<dt;)Ne.push("");for(;U<Ne.length;U++)Ne[U]=Ne[U].trim().replace(/\\\|/g,"|");return Ne}function Qe(Un,dt,we){const Ne=Un.length;if(0===Ne)return"";let U=0;for(;U<Ne;){const Se=Un.charAt(Ne-U-1);if(Se!==dt||we){if(Se===dt||!we)break;U++}else U++}return Un.slice(0,Ne-U)}function Ye(Un,dt,we,Ne){const U=dt.href,Se=dt.title?z(dt.title):null,be=Un[1].replace(/\\([\[\]])/g,"$1");if("!"!==Un[0].charAt(0)){Ne.state.inLink=!0;const ct={type:"link",raw:we,href:U,title:Se,text:be,tokens:Ne.inlineTokens(be)};return Ne.state.inLink=!1,ct}return{type:"image",raw:we,href:U,title:Se,text:z(be)}}class nt{options;rules;lexer;constructor(dt){this.options=dt||O}space(dt){const we=this.rules.block.newline.exec(dt);if(we&&we[0].length>0)return{type:"space",raw:we[0]}}code(dt){const we=this.rules.block.code.exec(dt);if(we){const Ne=we[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:we[0],codeBlockStyle:"indented",text:this.options.pedantic?Ne:Qe(Ne,"\n")}}}fences(dt){const we=this.rules.block.fences.exec(dt);if(we){const Ne=we[0],U=function Re(Un,dt){const we=Un.match(/^(\s+)(?:```)/);if(null===we)return dt;const Ne=we[1];return dt.split("\n").map(U=>{const Se=U.match(/^\s+/);if(null===Se)return U;const[be]=Se;return be.length>=Ne.length?U.slice(Ne.length):U}).join("\n")}(Ne,we[3]||"");return{type:"code",raw:Ne,lang:we[2]?we[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):we[2],text:U}}}heading(dt){const we=this.rules.block.heading.exec(dt);if(we){let Ne=we[2].trim();if(/#$/.test(Ne)){const U=Qe(Ne,"#");(this.options.pedantic||!U||/ $/.test(U))&&(Ne=U.trim())}return{type:"heading",raw:we[0],depth:we[1].length,text:Ne,tokens:this.lexer.inline(Ne)}}}hr(dt){const we=this.rules.block.hr.exec(dt);if(we)return{type:"hr",raw:Qe(we[0],"\n")}}blockquote(dt){const we=this.rules.block.blockquote.exec(dt);if(we){let Ne=Qe(we[0],"\n").split("\n"),U="",Se="";const be=[];for(;Ne.length>0;){let ct=!1;const Ze=[];let Mt;for(Mt=0;Mt<Ne.length;Mt++)if(/^ {0,3}>/.test(Ne[Mt]))Ze.push(Ne[Mt]),ct=!0;else{if(ct)break;Ze.push(Ne[Mt])}Ne=Ne.slice(Mt);const hn=Ze.join("\n"),Kn=hn.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");U=U?`${U}\n${hn}`:hn,Se=Se?`${Se}\n${Kn}`:Kn;const Jn=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Kn,be,!0),this.lexer.state.top=Jn,0===Ne.length)break;const Bi=be[be.length-1];if("code"===Bi?.type)break;if("blockquote"===Bi?.type){const di=Bi,Qi=di.raw+"\n"+Ne.join("\n"),br=this.blockquote(Qi);be[be.length-1]=br,U=U.substring(0,U.length-di.raw.length)+br.raw,Se=Se.substring(0,Se.length-di.text.length)+br.text;break}if("list"!==Bi?.type);else{const di=Bi,Qi=di.raw+"\n"+Ne.join("\n"),br=this.list(Qi);be[be.length-1]=br,U=U.substring(0,U.length-Bi.raw.length)+br.raw,Se=Se.substring(0,Se.length-di.raw.length)+br.raw,Ne=Qi.substring(be[be.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:U,tokens:be,text:Se}}}list(dt){let we=this.rules.block.list.exec(dt);if(we){let Ne=we[1].trim();const U=Ne.length>1,Se={type:"list",raw:"",ordered:U,start:U?+Ne.slice(0,-1):"",loose:!1,items:[]};Ne=U?`\\d{1,9}\\${Ne.slice(-1)}`:`\\${Ne}`,this.options.pedantic&&(Ne=U?Ne:"[*+-]");const be=new RegExp(`^( {0,3}${Ne})((?:[\t ][^\\n]*)?(?:\\n|$))`);let ct=!1;for(;dt;){let Ze=!1,Mt="",hn="";if(!(we=be.exec(dt))||this.rules.block.hr.test(dt))break;Mt=we[0],dt=dt.substring(Mt.length);let Kn=we[2].split("\n",1)[0].replace(/^\t+/,Tr=>" ".repeat(3*Tr.length)),Jn=dt.split("\n",1)[0],Bi=!Kn.trim(),di=0;if(this.options.pedantic?(di=2,hn=Kn.trimStart()):Bi?di=we[1].length+1:(di=we[2].search(/[^ ]/),di=di>4?1:di,hn=Kn.slice(di),di+=we[1].length),Bi&&/^ *$/.test(Jn)&&(Mt+=Jn+"\n",dt=dt.substring(Jn.length+1),Ze=!0),!Ze){const Tr=new RegExp(`^ {0,${Math.min(3,di-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Hi=new RegExp(`^ {0,${Math.min(3,di-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),xr=new RegExp(`^ {0,${Math.min(3,di-1)}}(?:\`\`\`|~~~)`),as=new RegExp(`^ {0,${Math.min(3,di-1)}}#`);for(;dt;){const ts=dt.split("\n",1)[0];if(Jn=ts,this.options.pedantic&&(Jn=Jn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),xr.test(Jn)||as.test(Jn)||Tr.test(Jn)||Hi.test(dt))break;if(Jn.search(/[^ ]/)>=di||!Jn.trim())hn+="\n"+Jn.slice(di);else{if(Bi||Kn.search(/[^ ]/)>=4||xr.test(Kn)||as.test(Kn)||Hi.test(Kn))break;hn+="\n"+Jn}!Bi&&!Jn.trim()&&(Bi=!0),Mt+=ts+"\n",dt=dt.substring(ts.length+1),Kn=Jn.slice(di)}}Se.loose||(ct?Se.loose=!0:/\n *\n *$/.test(Mt)&&(ct=!0));let br,Qi=null;this.options.gfm&&(Qi=/^\[[ xX]\] /.exec(hn),Qi&&(br="[ ] "!==Qi[0],hn=hn.replace(/^\[[ xX]\] +/,""))),Se.items.push({type:"list_item",raw:Mt,task:!!Qi,checked:br,loose:!1,text:hn,tokens:[]}),Se.raw+=Mt}Se.items[Se.items.length-1].raw=Se.items[Se.items.length-1].raw.trimEnd(),Se.items[Se.items.length-1].text=Se.items[Se.items.length-1].text.trimEnd(),Se.raw=Se.raw.trimEnd();for(let Ze=0;Ze<Se.items.length;Ze++)if(this.lexer.state.top=!1,Se.items[Ze].tokens=this.lexer.blockTokens(Se.items[Ze].text,[]),!Se.loose){const Mt=Se.items[Ze].tokens.filter(Kn=>"space"===Kn.type),hn=Mt.length>0&&Mt.some(Kn=>/\n.*\n/.test(Kn.raw));Se.loose=hn}if(Se.loose)for(let Ze=0;Ze<Se.items.length;Ze++)Se.items[Ze].loose=!0;return Se}}html(dt){const we=this.rules.block.html.exec(dt);if(we)return{type:"html",block:!0,raw:we[0],pre:"pre"===we[1]||"script"===we[1]||"style"===we[1],text:we[0]}}def(dt){const we=this.rules.block.def.exec(dt);if(we){const Ne=we[1].toLowerCase().replace(/\s+/g," "),U=we[2]?we[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Se=we[3]?we[3].substring(1,we[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):we[3];return{type:"def",tag:Ne,raw:we[0],href:U,title:Se}}}table(dt){const we=this.rules.block.table.exec(dt);if(!we||!/[:|]/.test(we[2]))return;const Ne=ke(we[1]),U=we[2].replace(/^\||\| *$/g,"").split("|"),Se=we[3]&&we[3].trim()?we[3].replace(/\n[ \t]*$/,"").split("\n"):[],be={type:"table",raw:we[0],header:[],align:[],rows:[]};if(Ne.length===U.length){for(const ct of U)/^ *-+: *$/.test(ct)?be.align.push("right"):/^ *:-+: *$/.test(ct)?be.align.push("center"):/^ *:-+ *$/.test(ct)?be.align.push("left"):be.align.push(null);for(let ct=0;ct<Ne.length;ct++)be.header.push({text:Ne[ct],tokens:this.lexer.inline(Ne[ct]),header:!0,align:be.align[ct]});for(const ct of Se)be.rows.push(ke(ct,be.header.length).map((Ze,Mt)=>({text:Ze,tokens:this.lexer.inline(Ze),header:!1,align:be.align[Mt]})));return be}}lheading(dt){const we=this.rules.block.lheading.exec(dt);if(we)return{type:"heading",raw:we[0],depth:"="===we[2].charAt(0)?1:2,text:we[1],tokens:this.lexer.inline(we[1])}}paragraph(dt){const we=this.rules.block.paragraph.exec(dt);if(we){const Ne="\n"===we[1].charAt(we[1].length-1)?we[1].slice(0,-1):we[1];return{type:"paragraph",raw:we[0],text:Ne,tokens:this.lexer.inline(Ne)}}}text(dt){const we=this.rules.block.text.exec(dt);if(we)return{type:"text",raw:we[0],text:we[0],tokens:this.lexer.inline(we[0])}}escape(dt){const we=this.rules.inline.escape.exec(dt);if(we)return{type:"escape",raw:we[0],text:z(we[1])}}tag(dt){const we=this.rules.inline.tag.exec(dt);if(we)return!this.lexer.state.inLink&&/^<a /i.test(we[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(we[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(we[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(we[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:we[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:we[0]}}link(dt){const we=this.rules.inline.link.exec(dt);if(we){const Ne=we[2].trim();if(!this.options.pedantic&&/^</.test(Ne)){if(!/>$/.test(Ne))return;const be=Qe(Ne.slice(0,-1),"\\");if((Ne.length-be.length)%2==0)return}else{const be=function Pe(Un,dt){if(-1===Un.indexOf(dt[1]))return-1;let we=0;for(let Ne=0;Ne<Un.length;Ne++)if("\\"===Un[Ne])Ne++;else if(Un[Ne]===dt[0])we++;else if(Un[Ne]===dt[1]&&(we--,we<0))return Ne;return-1}(we[2],"()");if(be>-1){const Ze=(0===we[0].indexOf("!")?5:4)+we[1].length+be;we[2]=we[2].substring(0,be),we[0]=we[0].substring(0,Ze).trim(),we[3]=""}}let U=we[2],Se="";if(this.options.pedantic){const be=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(U);be&&(U=be[1],Se=be[3])}else Se=we[3]?we[3].slice(1,-1):"";return U=U.trim(),/^</.test(U)&&(U=this.options.pedantic&&!/>$/.test(Ne)?U.slice(1):U.slice(1,-1)),Ye(we,{href:U&&U.replace(this.rules.inline.anyPunctuation,"$1"),title:Se&&Se.replace(this.rules.inline.anyPunctuation,"$1")},we[0],this.lexer)}}reflink(dt,we){let Ne;if((Ne=this.rules.inline.reflink.exec(dt))||(Ne=this.rules.inline.nolink.exec(dt))){const Se=we[(Ne[2]||Ne[1]).replace(/\s+/g," ").toLowerCase()];if(!Se){const be=Ne[0].charAt(0);return{type:"text",raw:be,text:be}}return Ye(Ne,Se,Ne[0],this.lexer)}}emStrong(dt,we,Ne=""){let U=this.rules.inline.emStrongLDelim.exec(dt);if(!(!U||U[3]&&Ne.match(/[\p{L}\p{N}]/u))&&(!U[1]&&!U[2]||!Ne||this.rules.inline.punctuation.exec(Ne))){const be=[...U[0]].length-1;let ct,Ze,Mt=be,hn=0;const Kn="*"===U[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Kn.lastIndex=0,we=we.slice(-1*dt.length+be);null!=(U=Kn.exec(we));){if(ct=U[1]||U[2]||U[3]||U[4]||U[5]||U[6],!ct)continue;if(Ze=[...ct].length,U[3]||U[4]){Mt+=Ze;continue}if((U[5]||U[6])&&be%3&&!((be+Ze)%3)){hn+=Ze;continue}if(Mt-=Ze,Mt>0)continue;Ze=Math.min(Ze,Ze+Mt+hn);const Jn=[...U[0]][0].length,Bi=dt.slice(0,be+U.index+Jn+Ze);if(Math.min(be,Ze)%2){const Qi=Bi.slice(1,-1);return{type:"em",raw:Bi,text:Qi,tokens:this.lexer.inlineTokens(Qi)}}const di=Bi.slice(2,-2);return{type:"strong",raw:Bi,text:di,tokens:this.lexer.inlineTokens(di)}}}}codespan(dt){const we=this.rules.inline.code.exec(dt);if(we){let Ne=we[2].replace(/\n/g," ");const U=/[^ ]/.test(Ne),Se=/^ /.test(Ne)&&/ $/.test(Ne);return U&&Se&&(Ne=Ne.substring(1,Ne.length-1)),Ne=z(Ne,!0),{type:"codespan",raw:we[0],text:Ne}}}br(dt){const we=this.rules.inline.br.exec(dt);if(we)return{type:"br",raw:we[0]}}del(dt){const we=this.rules.inline.del.exec(dt);if(we)return{type:"del",raw:we[0],text:we[2],tokens:this.lexer.inlineTokens(we[2])}}autolink(dt){const we=this.rules.inline.autolink.exec(dt);if(we){let Ne,U;return"@"===we[2]?(Ne=z(we[1]),U="mailto:"+Ne):(Ne=z(we[1]),U=Ne),{type:"link",raw:we[0],text:Ne,href:U,tokens:[{type:"text",raw:Ne,text:Ne}]}}}url(dt){let we;if(we=this.rules.inline.url.exec(dt)){let Ne,U;if("@"===we[2])Ne=z(we[0]),U="mailto:"+Ne;else{let Se;do{Se=we[0],we[0]=this.rules.inline._backpedal.exec(we[0])?.[0]??""}while(Se!==we[0]);Ne=z(we[0]),U="www."===we[1]?"http://"+we[0]:we[0]}return{type:"link",raw:we[0],text:Ne,href:U,tokens:[{type:"text",raw:Ne,text:Ne}]}}}inlineText(dt){const we=this.rules.inline.text.exec(dt);if(we){let Ne;return Ne=this.lexer.state.inRawBlock?we[0]:z(we[0]),{type:"text",raw:we[0],text:Ne}}}}const Q=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,oe=/(?:[*+-]|\d{1,9}[.)])/,ot=ee(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,oe).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),bt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,St=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$t=ee(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",St).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ce=ee(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,oe).getRegex(),ce="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ve=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,me=ee("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ve).replace("tag",ce).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Oe=ee(bt).replace("hr",Q).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ce).getRegex(),Et={blockquote:ee(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Oe).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:$t,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Q,html:me,lheading:ot,list:Ce,newline:/^(?: *(?:\n|$))+/,paragraph:Oe,table:Ee,text:/^[^\n]+/},En=ee("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Q).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ce).getRegex(),Me={...Et,table:En,paragraph:ee(bt).replace("hr",Q).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",En).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ce).getRegex()},kn={...Et,html:ee("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ve).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ee,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(bt).replace("hr",Q).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ot).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},nn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ft=/^( {2,}|\\)\n(?!\s*$)/,Ae="\\p{P}\\p{S}",Ve=ee(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ae).getRegex(),an=ee(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ae).getRegex(),Pt=ee("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ae).getRegex(),yt=ee("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ae).getRegex(),Jt=ee(/\\([punct])/,"gu").replace(/punct/g,Ae).getRegex(),vn=ee(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wn=ee(ve).replace("(?:--\x3e|$)","--\x3e").getRegex(),on=ee("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wn).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,de=ee(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",sn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tt=ee(/^!?\[(label)\]\[(ref)\]/).replace("label",sn).replace("ref",St).getRegex(),_e=ee(/^!?\[(ref)\](?:\[\])?/).replace("ref",St).getRegex(),rn={_backpedal:Ee,anyPunctuation:Jt,autolink:vn,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Ft,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Ee,emStrongLDelim:an,emStrongRDelimAst:Pt,emStrongRDelimUnd:yt,escape:nn,link:de,nolink:_e,punctuation:Ve,reflink:tt,reflinkSearch:ee("reflink|nolink(?!\\()","g").replace("reflink",tt).replace("nolink",_e).getRegex(),tag:on,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Ee},fn={...rn,link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",sn).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sn).getRegex()},ci={...rn,escape:ee(nn).replace("])","~|])").getRegex(),url:ee(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$i={...ci,br:ee(Ft).replace("{2,}","*").getRegex(),text:ee(ci.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},mn={normal:Et,gfm:Me,pedantic:kn},cn={normal:rn,gfm:ci,breaks:$i,pedantic:fn};class wt{tokens;options;state;tokenizer;inlineQueue;constructor(dt){this.tokens=[],this.tokens.links=Object.create(null),this.options=dt||O,this.options.tokenizer=this.options.tokenizer||new nt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const we={block:mn.normal,inline:cn.normal};this.options.pedantic?(we.block=mn.pedantic,we.inline=cn.pedantic):this.options.gfm&&(we.block=mn.gfm,we.inline=this.options.breaks?cn.breaks:cn.gfm),this.tokenizer.rules=we}static get rules(){return{block:mn,inline:cn}}static lex(dt,we){return new wt(we).lex(dt)}static lexInline(dt,we){return new wt(we).inlineTokens(dt)}lex(dt){dt=dt.replace(/\r\n|\r/g,"\n"),this.blockTokens(dt,this.tokens);for(let we=0;we<this.inlineQueue.length;we++){const Ne=this.inlineQueue[we];this.inlineTokens(Ne.src,Ne.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(dt,we=[],Ne=!1){let U,Se,be;for(dt=this.options.pedantic?dt.replace(/\t/g,"    ").replace(/^ +$/gm,""):dt.replace(/^( *)(\t+)/gm,(ct,Ze,Mt)=>Ze+"    ".repeat(Mt.length));dt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ct=>!!(U=ct.call({lexer:this},dt,we))&&(dt=dt.substring(U.raw.length),we.push(U),!0)))){if(U=this.tokenizer.space(dt)){dt=dt.substring(U.raw.length),1===U.raw.length&&we.length>0?we[we.length-1].raw+="\n":we.push(U);continue}if(U=this.tokenizer.code(dt)){dt=dt.substring(U.raw.length),Se=we[we.length-1],!Se||"paragraph"!==Se.type&&"text"!==Se.type?we.push(U):(Se.raw+="\n"+U.raw,Se.text+="\n"+U.text,this.inlineQueue[this.inlineQueue.length-1].src=Se.text);continue}if(U=this.tokenizer.fences(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.heading(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.hr(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.blockquote(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.list(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.html(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.def(dt)){dt=dt.substring(U.raw.length),Se=we[we.length-1],!Se||"paragraph"!==Se.type&&"text"!==Se.type?this.tokens.links[U.tag]||(this.tokens.links[U.tag]={href:U.href,title:U.title}):(Se.raw+="\n"+U.raw,Se.text+="\n"+U.raw,this.inlineQueue[this.inlineQueue.length-1].src=Se.text);continue}if(U=this.tokenizer.table(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(U=this.tokenizer.lheading(dt)){dt=dt.substring(U.raw.length),we.push(U);continue}if(be=dt,this.options.extensions&&this.options.extensions.startBlock){let ct=1/0;const Ze=dt.slice(1);let Mt;this.options.extensions.startBlock.forEach(hn=>{Mt=hn.call({lexer:this},Ze),"number"==typeof Mt&&Mt>=0&&(ct=Math.min(ct,Mt))}),ct<1/0&&ct>=0&&(be=dt.substring(0,ct+1))}if(this.state.top&&(U=this.tokenizer.paragraph(be))){Se=we[we.length-1],Ne&&"paragraph"===Se?.type?(Se.raw+="\n"+U.raw,Se.text+="\n"+U.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Se.text):we.push(U),Ne=be.length!==dt.length,dt=dt.substring(U.raw.length);continue}if(U=this.tokenizer.text(dt)){dt=dt.substring(U.raw.length),Se=we[we.length-1],Se&&"text"===Se.type?(Se.raw+="\n"+U.raw,Se.text+="\n"+U.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Se.text):we.push(U);continue}if(dt){const ct="Infinite loop on byte: "+dt.charCodeAt(0);if(this.options.silent){console.error(ct);break}throw new Error(ct)}}return this.state.top=!0,we}inline(dt,we=[]){return this.inlineQueue.push({src:dt,tokens:we}),we}inlineTokens(dt,we=[]){let Ne,U,Se,ct,Ze,Mt,be=dt;if(this.tokens.links){const hn=Object.keys(this.tokens.links);if(hn.length>0)for(;null!=(ct=this.tokenizer.rules.inline.reflinkSearch.exec(be));)hn.includes(ct[0].slice(ct[0].lastIndexOf("[")+1,-1))&&(be=be.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+be.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ct=this.tokenizer.rules.inline.blockSkip.exec(be));)be=be.slice(0,ct.index)+"["+"a".repeat(ct[0].length-2)+"]"+be.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ct=this.tokenizer.rules.inline.anyPunctuation.exec(be));)be=be.slice(0,ct.index)+"++"+be.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;dt;)if(Ze||(Mt=""),Ze=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(hn=>!!(Ne=hn.call({lexer:this},dt,we))&&(dt=dt.substring(Ne.raw.length),we.push(Ne),!0)))){if(Ne=this.tokenizer.escape(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.tag(dt)){dt=dt.substring(Ne.raw.length),U=we[we.length-1],U&&"text"===Ne.type&&"text"===U.type?(U.raw+=Ne.raw,U.text+=Ne.text):we.push(Ne);continue}if(Ne=this.tokenizer.link(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.reflink(dt,this.tokens.links)){dt=dt.substring(Ne.raw.length),U=we[we.length-1],U&&"text"===Ne.type&&"text"===U.type?(U.raw+=Ne.raw,U.text+=Ne.text):we.push(Ne);continue}if(Ne=this.tokenizer.emStrong(dt,be,Mt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.codespan(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.br(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.del(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Ne=this.tokenizer.autolink(dt)){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(!this.state.inLink&&(Ne=this.tokenizer.url(dt))){dt=dt.substring(Ne.raw.length),we.push(Ne);continue}if(Se=dt,this.options.extensions&&this.options.extensions.startInline){let hn=1/0;const Kn=dt.slice(1);let Jn;this.options.extensions.startInline.forEach(Bi=>{Jn=Bi.call({lexer:this},Kn),"number"==typeof Jn&&Jn>=0&&(hn=Math.min(hn,Jn))}),hn<1/0&&hn>=0&&(Se=dt.substring(0,hn+1))}if(Ne=this.tokenizer.inlineText(Se)){dt=dt.substring(Ne.raw.length),"_"!==Ne.raw.slice(-1)&&(Mt=Ne.raw.slice(-1)),Ze=!0,U=we[we.length-1],U&&"text"===U.type?(U.raw+=Ne.raw,U.text+=Ne.text):we.push(Ne);continue}if(dt){const hn="Infinite loop on byte: "+dt.charCodeAt(0);if(this.options.silent){console.error(hn);break}throw new Error(hn)}}return we}}class Ht{options;parser;constructor(dt){this.options=dt||O}space(dt){return""}code({text:dt,lang:we,escaped:Ne}){const U=(we||"").match(/^\S*/)?.[0],Se=dt.replace(/\n$/,"")+"\n";return U?'<pre><code class="language-'+z(U)+'">'+(Ne?Se:z(Se,!0))+"</code></pre>\n":"<pre><code>"+(Ne?Se:z(Se,!0))+"</code></pre>\n"}blockquote({tokens:dt}){return`<blockquote>\n${this.parser.parse(dt)}</blockquote>\n`}html({text:dt}){return dt}heading({tokens:dt,depth:we}){return`<h${we}>${this.parser.parseInline(dt)}</h${we}>\n`}hr(dt){return"<hr>\n"}list(dt){const we=dt.ordered,Ne=dt.start;let U="";for(let ct=0;ct<dt.items.length;ct++)U+=this.listitem(dt.items[ct]);const Se=we?"ol":"ul";return"<"+Se+(we&&1!==Ne?' start="'+Ne+'"':"")+">\n"+U+"</"+Se+">\n"}listitem(dt){let we="";if(dt.task){const Ne=this.checkbox({checked:!!dt.checked});dt.loose?dt.tokens.length>0&&"paragraph"===dt.tokens[0].type?(dt.tokens[0].text=Ne+" "+dt.tokens[0].text,dt.tokens[0].tokens&&dt.tokens[0].tokens.length>0&&"text"===dt.tokens[0].tokens[0].type&&(dt.tokens[0].tokens[0].text=Ne+" "+dt.tokens[0].tokens[0].text)):dt.tokens.unshift({type:"text",raw:Ne+" ",text:Ne+" "}):we+=Ne+" "}return we+=this.parser.parse(dt.tokens,!!dt.loose),`<li>${we}</li>\n`}checkbox({checked:dt}){return"<input "+(dt?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:dt}){return`<p>${this.parser.parseInline(dt)}</p>\n`}table(dt){let we="",Ne="";for(let Se=0;Se<dt.header.length;Se++)Ne+=this.tablecell(dt.header[Se]);we+=this.tablerow({text:Ne});let U="";for(let Se=0;Se<dt.rows.length;Se++){const be=dt.rows[Se];Ne="";for(let ct=0;ct<be.length;ct++)Ne+=this.tablecell(be[ct]);U+=this.tablerow({text:Ne})}return U&&(U=`<tbody>${U}</tbody>`),"<table>\n<thead>\n"+we+"</thead>\n"+U+"</table>\n"}tablerow({text:dt}){return`<tr>\n${dt}</tr>\n`}tablecell(dt){const we=this.parser.parseInline(dt.tokens),Ne=dt.header?"th":"td";return(dt.align?`<${Ne} align="${dt.align}">`:`<${Ne}>`)+we+`</${Ne}>\n`}strong({tokens:dt}){return`<strong>${this.parser.parseInline(dt)}</strong>`}em({tokens:dt}){return`<em>${this.parser.parseInline(dt)}</em>`}codespan({text:dt}){return`<code>${dt}</code>`}br(dt){return"<br>"}del({tokens:dt}){return`<del>${this.parser.parseInline(dt)}</del>`}link({href:dt,title:we,tokens:Ne}){const U=this.parser.parseInline(Ne),Se=De(dt);if(null===Se)return U;let be='<a href="'+(dt=Se)+'"';return we&&(be+=' title="'+we+'"'),be+=">"+U+"</a>",be}image({href:dt,title:we,text:Ne}){const U=De(dt);if(null===U)return Ne;let Se=`<img src="${dt=U}" alt="${Ne}"`;return we&&(Se+=` title="${we}"`),Se+=">",Se}text(dt){return"tokens"in dt&&dt.tokens?this.parser.parseInline(dt.tokens):dt.text}}class Bt{strong({text:dt}){return dt}em({text:dt}){return dt}codespan({text:dt}){return dt}del({text:dt}){return dt}html({text:dt}){return dt}text({text:dt}){return dt}link({text:dt}){return""+dt}image({text:dt}){return""+dt}br(){return""}}class An{options;renderer;textRenderer;constructor(dt){this.options=dt||O,this.options.renderer=this.options.renderer||new Ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Bt}static parse(dt,we){return new An(we).parse(dt)}static parseInline(dt,we){return new An(we).parseInline(dt)}parse(dt,we=!0){let Ne="";for(let U=0;U<dt.length;U++){const Se=dt[U];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Se.type]){const ct=Se,Ze=this.options.extensions.renderers[ct.type].call({parser:this},ct);if(!1!==Ze||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ct.type)){Ne+=Ze||"";continue}}const be=Se;switch(be.type){case"space":Ne+=this.renderer.space(be);continue;case"hr":Ne+=this.renderer.hr(be);continue;case"heading":Ne+=this.renderer.heading(be);continue;case"code":Ne+=this.renderer.code(be);continue;case"table":Ne+=this.renderer.table(be);continue;case"blockquote":Ne+=this.renderer.blockquote(be);continue;case"list":Ne+=this.renderer.list(be);continue;case"html":Ne+=this.renderer.html(be);continue;case"paragraph":Ne+=this.renderer.paragraph(be);continue;case"text":{let ct=be,Ze=this.renderer.text(ct);for(;U+1<dt.length&&"text"===dt[U+1].type;)ct=dt[++U],Ze+="\n"+this.renderer.text(ct);Ne+=we?this.renderer.paragraph({type:"paragraph",raw:Ze,text:Ze,tokens:[{type:"text",raw:Ze,text:Ze}]}):Ze;continue}default:{const ct='Token with "'+be.type+'" type was not found.';if(this.options.silent)return console.error(ct),"";throw new Error(ct)}}}return Ne}parseInline(dt,we){we=we||this.renderer;let Ne="";for(let U=0;U<dt.length;U++){const Se=dt[U];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Se.type]){const ct=this.options.extensions.renderers[Se.type].call({parser:this},Se);if(!1!==ct||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Se.type)){Ne+=ct||"";continue}}const be=Se;switch(be.type){case"escape":case"text":Ne+=we.text(be);break;case"html":Ne+=we.html(be);break;case"link":Ne+=we.link(be);break;case"image":Ne+=we.image(be);break;case"strong":Ne+=we.strong(be);break;case"em":Ne+=we.em(be);break;case"codespan":Ne+=we.codespan(be);break;case"br":Ne+=we.br(be);break;case"del":Ne+=we.del(be);break;default:{const ct='Token with "'+be.type+'" type was not found.';if(this.options.silent)return console.error(ct),"";throw new Error(ct)}}}return Ne}}class Xn{options;constructor(dt){this.options=dt||O}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(dt){return dt}postprocess(dt){return dt}processAllTokens(dt){return dt}}const Vn=new class zi{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(wt.lex,An.parse);parseInline=this.#t(wt.lexInline,An.parseInline);Parser=An;Renderer=Ht;TextRenderer=Bt;Lexer=wt;Tokenizer=nt;Hooks=Xn;constructor(...dt){this.use(...dt)}walkTokens(dt,we){let Ne=[];for(const U of dt)switch(Ne=Ne.concat(we.call(this,U)),U.type){case"table":{const Se=U;for(const be of Se.header)Ne=Ne.concat(this.walkTokens(be.tokens,we));for(const be of Se.rows)for(const ct of be)Ne=Ne.concat(this.walkTokens(ct.tokens,we));break}case"list":Ne=Ne.concat(this.walkTokens(U.items,we));break;default:{const Se=U;this.defaults.extensions?.childTokens?.[Se.type]?this.defaults.extensions.childTokens[Se.type].forEach(be=>{const ct=Se[be].flat(1/0);Ne=Ne.concat(this.walkTokens(ct,we))}):Se.tokens&&(Ne=Ne.concat(this.walkTokens(Se.tokens,we)))}}return Ne}use(...dt){const we=this.defaults.extensions||{renderers:{},childTokens:{}};return dt.forEach(Ne=>{const U={...Ne};if(U.async=this.defaults.async||U.async||!1,Ne.extensions&&(Ne.extensions.forEach(Se=>{if(!Se.name)throw new Error("extension name required");if("renderer"in Se){const be=we.renderers[Se.name];we.renderers[Se.name]=be?function(...ct){let Ze=Se.renderer.apply(this,ct);return!1===Ze&&(Ze=be.apply(this,ct)),Ze}:Se.renderer}if("tokenizer"in Se){if(!Se.level||"block"!==Se.level&&"inline"!==Se.level)throw new Error("extension level must be 'block' or 'inline'");const be=we[Se.level];be?be.unshift(Se.tokenizer):we[Se.level]=[Se.tokenizer],Se.start&&("block"===Se.level?we.startBlock?we.startBlock.push(Se.start):we.startBlock=[Se.start]:"inline"===Se.level&&(we.startInline?we.startInline.push(Se.start):we.startInline=[Se.start]))}"childTokens"in Se&&Se.childTokens&&(we.childTokens[Se.name]=Se.childTokens)}),U.extensions=we),Ne.renderer){const Se=this.defaults.renderer||new Ht(this.defaults);for(const be in Ne.renderer){if(!(be in Se))throw new Error(`renderer '${be}' does not exist`);if(["options","parser"].includes(be))continue;const ct=be;let Ze=Ne.renderer[ct];Ne.useNewRenderer||(Ze=this.#e(Ze,ct,Se));const Mt=Se[ct];Se[ct]=(...hn)=>{let Kn=Ze.apply(Se,hn);return!1===Kn&&(Kn=Mt.apply(Se,hn)),Kn||""}}U.renderer=Se}if(Ne.tokenizer){const Se=this.defaults.tokenizer||new nt(this.defaults);for(const be in Ne.tokenizer){if(!(be in Se))throw new Error(`tokenizer '${be}' does not exist`);if(["options","rules","lexer"].includes(be))continue;const Ze=Ne.tokenizer[be],Mt=Se[be];Se[be]=(...hn)=>{let Kn=Ze.apply(Se,hn);return!1===Kn&&(Kn=Mt.apply(Se,hn)),Kn}}U.tokenizer=Se}if(Ne.hooks){const Se=this.defaults.hooks||new Xn;for(const be in Ne.hooks){if(!(be in Se))throw new Error(`hook '${be}' does not exist`);if("options"===be)continue;const Ze=Ne.hooks[be],Mt=Se[be];Se[be]=Xn.passThroughHooks.has(be)?hn=>{if(this.defaults.async)return Promise.resolve(Ze.call(Se,hn)).then(Jn=>Mt.call(Se,Jn));const Kn=Ze.call(Se,hn);return Mt.call(Se,Kn)}:(...hn)=>{let Kn=Ze.apply(Se,hn);return!1===Kn&&(Kn=Mt.apply(Se,hn)),Kn}}U.hooks=Se}if(Ne.walkTokens){const Se=this.defaults.walkTokens,be=Ne.walkTokens;U.walkTokens=function(ct){let Ze=[];return Ze.push(be.call(this,ct)),Se&&(Ze=Ze.concat(Se.call(this,ct))),Ze}}this.defaults={...this.defaults,...U}}),this}#e(dt,we,Ne){switch(we){case"heading":return function(U){return U.type&&U.type===we?dt.call(this,Ne.parser.parseInline(U.tokens),U.depth,function q(Un){return Un.replace(re,(dt,we)=>"colon"===(we=we.toLowerCase())?":":"#"===we.charAt(0)?"x"===we.charAt(1)?String.fromCharCode(parseInt(we.substring(2),16)):String.fromCharCode(+we.substring(1)):"")}(Ne.parser.parseInline(U.tokens,Ne.parser.textRenderer))):dt.apply(this,arguments)};case"code":return function(U){return U.type&&U.type===we?dt.call(this,U.text,U.lang,!!U.escaped):dt.apply(this,arguments)};case"table":return function(U){if(!U.type||U.type!==we)return dt.apply(this,arguments);let Se="",be="";for(let Ze=0;Ze<U.header.length;Ze++)be+=this.tablecell({text:U.header[Ze].text,tokens:U.header[Ze].tokens,header:!0,align:U.align[Ze]});Se+=this.tablerow({text:be});let ct="";for(let Ze=0;Ze<U.rows.length;Ze++){const Mt=U.rows[Ze];be="";for(let hn=0;hn<Mt.length;hn++)be+=this.tablecell({text:Mt[hn].text,tokens:Mt[hn].tokens,header:!1,align:U.align[hn]});ct+=this.tablerow({text:be})}return dt.call(this,Se,ct)};case"blockquote":return function(U){if(!U.type||U.type!==we)return dt.apply(this,arguments);const Se=this.parser.parse(U.tokens);return dt.call(this,Se)};case"list":return function(U){if(!U.type||U.type!==we)return dt.apply(this,arguments);const Se=U.ordered,be=U.start,ct=U.loose;let Ze="";for(let Mt=0;Mt<U.items.length;Mt++){const hn=U.items[Mt],Kn=hn.checked,Jn=hn.task;let Bi="";if(hn.task){const di=this.checkbox({checked:!!Kn});ct?hn.tokens.length>0&&"paragraph"===hn.tokens[0].type?(hn.tokens[0].text=di+" "+hn.tokens[0].text,hn.tokens[0].tokens&&hn.tokens[0].tokens.length>0&&"text"===hn.tokens[0].tokens[0].type&&(hn.tokens[0].tokens[0].text=di+" "+hn.tokens[0].tokens[0].text)):hn.tokens.unshift({type:"text",text:di+" "}):Bi+=di+" "}Bi+=this.parser.parse(hn.tokens,ct),Ze+=this.listitem({type:"list_item",raw:Bi,text:Bi,task:Jn,checked:!!Kn,loose:ct,tokens:hn.tokens})}return dt.call(this,Ze,Se,be)};case"html":return function(U){return U.type&&U.type===we?dt.call(this,U.text,U.block):dt.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(U){return U.type&&U.type===we?dt.call(this,this.parser.parseInline(U.tokens)):dt.apply(this,arguments)};case"escape":case"codespan":case"text":return function(U){return U.type&&U.type===we?dt.call(this,U.text):dt.apply(this,arguments)};case"link":return function(U){return U.type&&U.type===we?dt.call(this,U.href,U.title,this.parser.parseInline(U.tokens)):dt.apply(this,arguments)};case"image":return function(U){return U.type&&U.type===we?dt.call(this,U.href,U.title,U.text):dt.apply(this,arguments)}}return dt}setOptions(dt){return this.defaults={...this.defaults,...dt},this}lexer(dt,we){return wt.lex(dt,we??this.defaults)}parser(dt,we){return An.parse(dt,we??this.defaults)}#t(dt,we){return(Ne,U)=>{const Se={...U},be={...this.defaults,...Se};!0===this.defaults.async&&!1===Se.async&&(be.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),be.async=!0);const ct=this.#n(!!be.silent,!!be.async);if(typeof Ne>"u"||null===Ne)return ct(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Ne)return ct(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected"));if(be.hooks&&(be.hooks.options=be),be.async)return Promise.resolve(be.hooks?be.hooks.preprocess(Ne):Ne).then(Ze=>dt(Ze,be)).then(Ze=>be.hooks?be.hooks.processAllTokens(Ze):Ze).then(Ze=>be.walkTokens?Promise.all(this.walkTokens(Ze,be.walkTokens)).then(()=>Ze):Ze).then(Ze=>we(Ze,be)).then(Ze=>be.hooks?be.hooks.postprocess(Ze):Ze).catch(ct);try{be.hooks&&(Ne=be.hooks.preprocess(Ne));let Ze=dt(Ne,be);be.hooks&&(Ze=be.hooks.processAllTokens(Ze)),be.walkTokens&&this.walkTokens(Ze,be.walkTokens);let Mt=we(Ze,be);return be.hooks&&(Mt=be.hooks.postprocess(Mt)),Mt}catch(Ze){return ct(Ze)}}}#n(dt,we){return Ne=>{if(Ne.message+="\nPlease report this to https://github.com/markedjs/marked.",dt){const U="<p>An error occurred:</p><pre>"+z(Ne.message+"",!0)+"</pre>";return we?Promise.resolve(U):U}if(we)return Promise.reject(Ne);throw Ne}}};function ui(Un,dt){return Vn.parse(Un,dt)}ui.options=ui.setOptions=function(Un){return Vn.setOptions(Un),E(ui.defaults=Vn.defaults),ui},ui.getDefaults=function h(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ui.defaults=O,ui.use=function(...Un){return Vn.use(...Un),E(ui.defaults=Vn.defaults),ui},ui.walkTokens=function(Un,dt){return Vn.walkTokens(Un,dt)},ui.parseInline=Vn.parseInline,ui.Parser=An,ui.parser=An.parse,ui.Renderer=Ht,ui.TextRenderer=Bt,ui.Lexer=wt,ui.lexer=wt.lex,ui.Tokenizer=nt,ui.Hooks=Xn,ui.parse=ui;const Lt=ui},3278:(dn,Je,_)=>{"use strict";_.d(Je,{Ay:()=>Uv});var h={};_.r(h),_.d(h,{Attributor:()=>ua,AttributorStore:()=>ac,BlockBlot:()=>pc,ClassAttributor:()=>Ao,ContainerBlot:()=>Zu,EmbedBlot:()=>Ra,InlineBlot:()=>Md,LeafBlot:()=>Eo,ParentBlot:()=>da,Registry:()=>ll,Scope:()=>Br,ScrollBlot:()=>Cc,StyleAttributor:()=>Ma,TextBlot:()=>Au});const S=function A($,w){return $===w||$!=$&&w!=w},W=function C($,w){for(var v=$.length;v--;)if(S($[v][0],w))return v;return-1};var N=Array.prototype.splice;function Qe($){var w=-1,v=null==$?0:$.length;for(this.clear();++w<v;){var M=$[w];this.set(M[0],M[1])}}Qe.prototype.clear=function O(){this.__data__=[],this.size=0},Qe.prototype.delete=function z($){var w=this.__data__,v=W(w,$);return!(v<0||(v==w.length-1?w.pop():N.call(w,v,1),--this.size,0))},Qe.prototype.get=function q($){var w=this.__data__,v=W(w,$);return v<0?void 0:w[v][1]},Qe.prototype.has=function ee($){return W(this.__data__,$)>-1},Qe.prototype.set=function Ee($,w){var v=this.__data__,M=W(v,$);return M<0?(++this.size,v.push([$,w])):v[M][1]=w,this};const Pe=Qe,ot="object"==typeof global&&global&&global.Object===Object&&global;var bt="object"==typeof self&&self&&self.Object===Object&&self;const St=ot||bt||Function("return this")(),Ce=St.Symbol;var ce=Object.prototype,ve=ce.hasOwnProperty,me=ce.toString,Oe=Ce?Ce.toStringTag:void 0;var Me=Object.prototype.toString;var ft=Ce?Ce.toStringTag:void 0;const Ve=function Ae($){return null==$?void 0===$?"[object Undefined]":"[object Null]":ft&&ft in Object($)?function At($){var w=ve.call($,Oe),v=$[Oe];try{$[Oe]=void 0;var M=!0}catch{}var ue=me.call($);return M&&(w?$[Oe]=v:delete $[Oe]),ue}($):function kn($){return Me.call($)}($)},an=function vt($){var w=typeof $;return null!=$&&("object"==w||"function"==w)},on=function wn($){if(!an($))return!1;var w=Ve($);return"[object Function]"==w||"[object GeneratorFunction]"==w||"[object AsyncFunction]"==w||"[object Proxy]"==w};var $,sn=St["__core-js_shared__"],tt=($=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"";var fn=Function.prototype.toString;const $i=function ci($){if(null!=$){try{return fn.call($)}catch{}try{return $+""}catch{}}return""};var cn=/^\[object .+?Constructor\]$/,Xn=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Vn=function zi($){return!(!an($)||function _e($){return!!tt&&tt in $}($))&&(on($)?Xn:cn).test($i($))},jt=function oi($,w){var v=function ui($,w){return $?.[w]}($,w);return Vn(v)?v:void 0},qt=jt(St,"Map"),Kt=jt(Object,"create");var Se=Object.prototype.hasOwnProperty;var Mt=Object.prototype.hasOwnProperty;function Qi($){var w=-1,v=null==$?0:$.length;for(this.clear();++w<v;){var M=$[w];this.set(M[0],M[1])}}Qi.prototype.clear=function Rn(){this.__data__=Kt?Kt(null):{},this.size=0},Qi.prototype.delete=function dt($){var w=this.has($)&&delete this.__data__[$];return this.size-=w?1:0,w},Qi.prototype.get=function be($){var w=this.__data__;if(Kt){var v=w[$];return"__lodash_hash_undefined__"===v?void 0:v}return Se.call(w,$)?w[$]:void 0},Qi.prototype.has=function hn($){var w=this.__data__;return Kt?void 0!==w[$]:Mt.call(w,$)},Qi.prototype.set=function Bi($,w){var v=this.__data__;return this.size+=this.has($)?0:1,v[$]=Kt&&void 0===w?"__lodash_hash_undefined__":w,this};const br=Qi,bs=function ts($,w){var v=$.__data__;return function xr($){var w=typeof $;return"string"==w||"number"==w||"symbol"==w||"boolean"==w?"__proto__"!==$:null===$}(w)?v["string"==typeof w?"string":"hash"]:v.map};function Rt($){var w=-1,v=null==$?0:$.length;for(this.clear();++w<v;){var M=$[w];this.set(M[0],M[1])}}Rt.prototype.clear=function Tr(){this.size=0,this.__data__={hash:new br,map:new(qt||Pe),string:new br}},Rt.prototype.delete=function Os($){var w=bs(this,$).delete($);return this.size-=w?1:0,w},Rt.prototype.get=function lr($){return bs(this,$).get($)},Rt.prototype.has=function vr($){return bs(this,$).has($)},Rt.prototype.set=function xi($,w){var v=bs(this,$),M=v.size;return v.set($,w),this.size+=v.size==M?0:1,this};const H=Rt;function Vt($){var w=this.__data__=new Pe($);this.size=w.size}Vt.prototype.clear=function Ye(){this.__data__=new Pe,this.size=0},Vt.prototype.delete=function nt($){var w=this.__data__,v=w.delete($);return this.size=w.size,v},Vt.prototype.get=function je($){return this.__data__.get($)},Vt.prototype.has=function Q($){return this.__data__.has($)},Vt.prototype.set=function ze($,w){var v=this.__data__;if(v instanceof Pe){var M=v.__data__;if(!qt||M.length<199)return M.push([$,w]),this.size=++v.size,this;v=this.__data__=new H(M)}return v.set($,w),this.size=v.size,this};const mi=Vt;var Zi=function(){try{var $=jt(Object,"defineProperty");return $({},"",{}),$}catch{}}();const cr=Zi,Jr=function ns($,w,v){"__proto__"==w&&cr?cr($,w,{configurable:!0,enumerable:!0,value:v,writable:!0}):$[w]=v},Es=function is($,w,v){(void 0!==v&&!S($[w],v)||void 0===v&&!(w in $))&&Jr($,w,v)};var rs=function to($){return function(w,v,M){for(var ue=-1,Ge=Object(w),at=M(w),zt=at.length;zt--;){var Dn=at[$?zt:++ue];if(!1===v(Ge[Dn],Dn,Ge))break}return w}}();const gs=rs;var Bo="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ur=Bo&&"object"==typeof module&&module&&!module.nodeType&&module,wo=Ur&&Ur.exports===Bo?St.Buffer:void 0,Ko=wo?wo.allocUnsafe:void 0;const $a=function rl($,w){if(w)return $.slice();var v=$.length,M=Ko?Ko(v):new $.constructor(v);return $.copy(M),M},Jo=St.Uint8Array,Ba=function co($){var w=new $.constructor($.byteLength);return new Jo(w).set(new Jo($)),w},aa=function Gl($,w){var v=w?Ba($.buffer):$.buffer;return new $.constructor(v,$.byteOffset,$.length)},xa=function ra($,w){var v=-1,M=$.length;for(w||(w=Array(M));++v<M;)w[v]=$[v];return w};var Kl=Object.create,Ea=function(){function $(){}return function(w){if(!an(w))return{};if(Kl)return Kl(w);$.prototype=w;var v=new $;return $.prototype=void 0,v}}();const Va=Ea,Rr=function Xr($,w){return function(v){return $(w(v))}},Zs=Rr(Object.getPrototypeOf,Object);var Vl=Object.prototype;const Ue=function ga($){var w=$&&$.constructor;return $===("function"==typeof w&&w.prototype||Vl)},In=function Wt($){return"function"!=typeof $.constructor||Ue($)?{}:Va(Zs($))},Nr=function fi($){return null!=$&&"object"==typeof $},hs=function Wr($){return Nr($)&&"[object Arguments]"==Ve($)};var Vs=Object.prototype,Ms=Vs.hasOwnProperty,ho=Vs.propertyIsEnumerable,Ar=hs(function(){return arguments}())?hs:function($){return Nr($)&&Ms.call($,"callee")&&!ho.call($,"callee")};const $r=Ar,vs=Array.isArray,la=function ea($){return"number"==typeof $&&$>-1&&$%1==0&&$<=9007199254740991},Xo=function Ki($){return null!=$&&la($.length)&&!on($)};var Oo="object"==typeof exports&&exports&&!exports.nodeType&&exports,ta=Oo&&"object"==typeof module&&module&&!module.nodeType&&module,Qa=ta&&ta.exports===Oo?St.Buffer:void 0;const Da=(Qa?Qa.isBuffer:void 0)||function xc(){return!1};var pl=Function.prototype.toString,Za=Object.prototype.hasOwnProperty,Ps=pl.call(Object);var mr={};mr["[object Float32Array]"]=mr["[object Float64Array]"]=mr["[object Int8Array]"]=mr["[object Int16Array]"]=mr["[object Int32Array]"]=mr["[object Uint8Array]"]=mr["[object Uint8ClampedArray]"]=mr["[object Uint16Array]"]=mr["[object Uint32Array]"]=!0,mr["[object Arguments]"]=mr["[object Array]"]=mr["[object ArrayBuffer]"]=mr["[object Boolean]"]=mr["[object DataView]"]=mr["[object Date]"]=mr["[object Error]"]=mr["[object Function]"]=mr["[object Map]"]=mr["[object Number]"]=mr["[object Object]"]=mr["[object RegExp]"]=mr["[object Set]"]=mr["[object String]"]=mr["[object WeakMap]"]=!1;const ro=function Xs($){return function(w){return $(w)}};var Fo="object"==typeof exports&&exports&&!exports.nodeType&&exports,za=Fo&&"object"==typeof module&&module&&!module.nodeType&&module,I=za&&za.exports===Fo&&ot.process;const Xt=function(){try{return za&&za.require&&za.require("util").types||I&&I.binding&&I.binding("util")}catch{}}();var _n=Xt&&Xt.isTypedArray;const Hn=_n?ro(_n):function Po($){return Nr($)&&la($.length)&&!!mr[Ve($)]},Zn=function yn($,w){if(("constructor"!==w||"function"!=typeof $[w])&&"__proto__"!=w)return $[w]};var ai=Object.prototype.hasOwnProperty;const _i=function Ai($,w,v){var M=$[w];(!ai.call($,w)||!S(M,v)||void 0===v&&!(w in $))&&Jr($,w,v)},Er=function er($,w,v,M){var ue=!v;v||(v={});for(var Ge=-1,at=w.length;++Ge<at;){var zt=w[Ge],Dn=M?M(v[zt],$[zt],zt,v,$):void 0;void 0===Dn&&(Dn=$[zt]),ue?Jr(v,zt,Dn):_i(v,zt,Dn)}return v};var Cs=/^(?:0|[1-9]\d*)$/;const Ec=function qs($,w){var v=typeof $;return!!(w=w??9007199254740991)&&("number"==v||"symbol"!=v&&Cs.test($))&&$>-1&&$%1==0&&$<w};var Ga=Object.prototype.hasOwnProperty;const Tl=function Io($,w){var v=vs($),M=!v&&$r($),ue=!v&&!M&&Da($),Ge=!v&&!M&&!ue&&Hn($),at=v||M||ue||Ge,zt=at?function Ts($,w){for(var v=-1,M=Array($);++v<$;)M[v]=w(v);return M}($.length,String):[],Dn=zt.length;for(var ri in $)(w||Ga.call($,ri))&&(!at||!("length"==ri||ue&&("offset"==ri||"parent"==ri)||Ge&&("buffer"==ri||"byteLength"==ri||"byteOffset"==ri)||Ec(ri,Dn)))&&zt.push(ri);return zt};var gd=Object.prototype.hasOwnProperty;const Yl=function Fu($){if(!an($))return function yl($){var w=[];if(null!=$)for(var v in Object($))w.push(v);return w}($);var w=Ue($),v=[];for(var M in $)"constructor"==M&&(w||!gd.call($,M))||v.push(M);return v},Ia=function Ja($){return Xo($)?Tl($,!0):Yl($)},Iu=function sc($,w,v,M,ue,Ge,at){var zt=Zn($,v),Dn=Zn(w,v),ri=at.get(Dn);if(ri)Es($,v,ri);else{var Ui=Ge?Ge(zt,Dn,v+"",$,w,at):void 0,gr=void 0===Ui;if(gr){var jr=vs(Dn),Gs=!jr&&Da(Dn),Ks=!jr&&!Gs&&Hn(Dn);Ui=Dn,jr||Gs||Ks?vs(zt)?Ui=zt:function So($){return Nr($)&&Xo($)}(zt)?Ui=xa(zt):Gs?(gr=!1,Ui=$a(Dn,!0)):Ks?(gr=!1,Ui=aa(Dn,!0)):Ui=[]:function Dl($){if(!Nr($)||"[object Object]"!=Ve($))return!1;var w=Zs($);if(null===w)return!0;var v=Za.call(w,"constructor")&&w.constructor;return"function"==typeof v&&v instanceof v&&pl.call(v)==Ps}(Dn)||$r(Dn)?(Ui=zt,$r(zt)?Ui=function Ul($){return Er($,Ia($))}(zt):(!an(zt)||on(zt))&&(Ui=In(Dn))):gr=!1}gr&&(at.set(Dn,Ui),ue(Ui,Dn,M,Ge,at),at.delete(Dn)),Es($,v,Ui)}},fo=function ca($,w,v,M,ue){$!==w&&gs(w,function(Ge,at){if(ue||(ue=new mi),an(Ge))Iu($,w,at,v,ca,M,ue);else{var zt=M?M(Zn($,at),Ge,at+"",$,w,ue):void 0;void 0===zt&&(zt=Ge),Es($,at,zt)}},Ia)},Mc=function xh($){return $};var ge=Math.max;const un=function gt($){return function(){return $}};var li=cr?function($,w){return cr($,"toString",{configurable:!0,enumerable:!1,value:un(w),writable:!0})}:Mc,Fs=Date.now,Qo=function Ls($){var w=0,v=0;return function(){var M=Fs(),ue=16-(M-v);if(v=M,ue>0){if(++w>=800)return arguments[0]}else w=0;return $.apply(void 0,arguments)}}(li);const mo=Qo,Uc=function _a($,w){return mo(function Tt($,w,v){return w=ge(void 0===w?$.length-1:w,0),function(){for(var M=arguments,ue=-1,Ge=ge(M.length-w,0),at=Array(Ge);++ue<Ge;)at[ue]=M[w+ue];ue=-1;for(var zt=Array(w+1);++ue<w;)zt[ue]=M[ue];return zt[w]=v(at),function Rc($,w,v){switch(v.length){case 0:return $.call(w);case 1:return $.call(w,v[0]);case 2:return $.call(w,v[0],v[1]);case 3:return $.call(w,v[0],v[1],v[2])}return $.apply(w,v)}($,this,zt)}}($,w,Mc),$+"")};var Il=function ya($){return Uc(function(w,v){var M=-1,ue=v.length,Ge=ue>1?v[ue-1]:void 0,at=ue>2?v[2]:void 0;for(Ge=$.length>3&&"function"==typeof Ge?(ue--,Ge):void 0,at&&function hc($,w,v){if(!an(v))return!1;var M=typeof w;return!!("number"==M?Xo(v)&&Ec(w,v.length):"string"==M&&w in v)&&S(v[w],$)}(v[0],v[1],at)&&(Ge=ue<3?void 0:Ge,ue=1),w=Object(w);++M<ue;){var zt=v[M];zt&&$(w,zt,M,Ge)}return w})}(function($,w,v){fo($,w,v)});const ka=Il;var Br=($=>($[$.TYPE=3]="TYPE",$[$.LEVEL=12]="LEVEL",$[$.ATTRIBUTE=13]="ATTRIBUTE",$[$.BLOT=14]="BLOT",$[$.INLINE=7]="INLINE",$[$.BLOCK=11]="BLOCK",$[$.BLOCK_BLOT=10]="BLOCK_BLOT",$[$.INLINE_BLOT=6]="INLINE_BLOT",$[$.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",$[$.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",$[$.ANY=15]="ANY",$))(Br||{});class ua{constructor(w,v,M={}){this.attrName=w,this.keyName=v,this.scope=null!=M.scope?M.scope&Br.LEVEL|Br.TYPE&Br.ATTRIBUTE:Br.ATTRIBUTE,null!=M.whitelist&&(this.whitelist=M.whitelist)}static keys(w){return Array.from(w.attributes).map(v=>v.name)}add(w,v){return!!this.canAdd(w,v)&&(w.setAttribute(this.keyName,v),!0)}canAdd(w,v){return null==this.whitelist||("string"==typeof v?this.whitelist.indexOf(v.replace(/["']/g,""))>-1:this.whitelist.indexOf(v)>-1)}remove(w){w.removeAttribute(this.keyName)}value(w){const v=w.getAttribute(this.keyName);return this.canAdd(w,v)&&v?v:""}}class Aa extends Error{constructor(w){super(w="[Parchment] "+w),this.message=w,this.name=this.constructor.name}}let ll=(()=>{let $=class YP{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(v,M=!1){if(null==v)return null;if(this.blots.has(v))return this.blots.get(v)||null;if(M){let ue=null;try{ue=v.parentNode}catch{return null}return this.find(ue,M)}return null}create(v,M,ue){const Ge=this.query(M);if(null==Ge)throw new Aa(`Unable to create ${M} blot`);const at=Ge,zt=M instanceof Node||M.nodeType===Node.TEXT_NODE?M:at.create(ue),Dn=new at(v,zt,ue);return YP.blots.set(Dn.domNode,Dn),Dn}find(v,M=!1){return YP.find(v,M)}query(v,M=Br.ANY){let ue;return"string"==typeof v?ue=this.types[v]||this.attributes[v]:v instanceof Text||v.nodeType===Node.TEXT_NODE?ue=this.types.text:"number"==typeof v?v&Br.LEVEL&Br.BLOCK?ue=this.types.block:v&Br.LEVEL&Br.INLINE&&(ue=this.types.inline):v instanceof Element&&((v.getAttribute("class")||"").split(/\s+/).some(Ge=>(ue=this.classes[Ge],!!ue)),ue=ue||this.tags[v.tagName]),null==ue?null:"scope"in ue&&M&Br.LEVEL&ue.scope&&M&Br.TYPE&ue.scope?ue:null}register(...v){return v.map(M=>{const ue="blotName"in M,Ge="attrName"in M;if(!ue&&!Ge)throw new Aa("Invalid definition");if(ue&&"abstract"===M.blotName)throw new Aa("Cannot register abstract class");return this.types[ue?M.blotName:Ge?M.attrName:void 0]=M,Ge?"string"==typeof M.keyName&&(this.attributes[M.keyName]=M):ue&&(M.className&&(this.classes[M.className]=M),M.tagName&&(M.tagName=Array.isArray(M.tagName)?M.tagName.map(zt=>zt.toUpperCase()):M.tagName.toUpperCase(),(Array.isArray(M.tagName)?M.tagName:[M.tagName]).forEach(zt=>{(null==this.tags[zt]||null==M.className)&&(this.tags[zt]=M)}))),M})}};return $.blots=new WeakMap,$})();function ko($,w){return($.getAttribute("class")||"").split(/\s+/).filter(v=>0===v.indexOf(`${w}-`))}const Ao=class ku extends ua{static keys(w){return(w.getAttribute("class")||"").split(/\s+/).map(v=>v.split("-").slice(0,-1).join("-"))}add(w,v){return!!this.canAdd(w,v)&&(this.remove(w),w.classList.add(`${this.keyName}-${v}`),!0)}remove(w){ko(w,this.keyName).forEach(v=>{w.classList.remove(v)}),0===w.classList.length&&w.removeAttribute("class")}value(w){const v=(ko(w,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(w,v)?v:""}};function jc($){const w=$.split("-"),v=w.slice(1).map(M=>M[0].toUpperCase()+M.slice(1)).join("");return w[0]+v}const Ma=class Lu extends ua{static keys(w){return(w.getAttribute("style")||"").split(";").map(v=>v.split(":")[0].trim())}add(w,v){return!!this.canAdd(w,v)&&(w.style[jc(this.keyName)]=v,!0)}remove(w){w.style[jc(this.keyName)]="",w.getAttribute("style")||w.removeAttribute("style")}value(w){const v=w.style[jc(this.keyName)];return this.canAdd(w,v)?v:""}},ac=class Eh{constructor(w){this.attributes={},this.domNode=w,this.build()}attribute(w,v){v?w.add(this.domNode,v)&&(null!=w.value(this.domNode)?this.attributes[w.attrName]=w:delete this.attributes[w.attrName]):(w.remove(this.domNode),delete this.attributes[w.attrName])}build(){this.attributes={};const w=ll.find(this.domNode);if(null==w)return;const v=ua.keys(this.domNode),M=Ao.keys(this.domNode),ue=Ma.keys(this.domNode);v.concat(M).concat(ue).forEach(Ge=>{const at=w.scroll.query(Ge,Br.ATTRIBUTE);at instanceof ua&&(this.attributes[at.attrName]=at)})}copy(w){Object.keys(this.attributes).forEach(v=>{const M=this.attributes[v].value(this.domNode);w.format(v,M)})}move(w){this.copy(w),Object.keys(this.attributes).forEach(v=>{this.attributes[v].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((w,v)=>(w[v]=this.attributes[v].value(this.domNode),w),{})}},el=class{constructor(w,v){this.scroll=w,this.domNode=v,ll.blots.set(v,this),this.prev=null,this.next=null}static create(w){if(null==this.tagName)throw new Aa("Blot definition missing tagName");let v,M;return Array.isArray(this.tagName)?("string"==typeof w?(M=w.toUpperCase(),parseInt(M,10).toString()===M&&(M=parseInt(M,10))):"number"==typeof w&&(M=w),v="number"==typeof M?document.createElement(this.tagName[M-1]):M&&this.tagName.indexOf(M)>-1?document.createElement(M):document.createElement(this.tagName[0])):v=document.createElement(this.tagName),this.className&&v.classList.add(this.className),v}get statics(){return this.constructor}attach(){}clone(){const w=this.domNode.cloneNode(!1);return this.scroll.create(w)}detach(){null!=this.parent&&this.parent.removeChild(this),ll.blots.delete(this.domNode)}deleteAt(w,v){this.isolate(w,v).remove()}formatAt(w,v,M,ue){const Ge=this.isolate(w,v);if(null!=this.scroll.query(M,Br.BLOT)&&ue)Ge.wrap(M,ue);else if(null!=this.scroll.query(M,Br.ATTRIBUTE)){const at=this.scroll.create(this.statics.scope);Ge.wrap(at),at.format(M,ue)}}insertAt(w,v,M){const ue=null==M?this.scroll.create("text",v):this.scroll.create(v,M),Ge=this.split(w);this.parent.insertBefore(ue,Ge||void 0)}isolate(w,v){const M=this.split(w);if(null==M)throw new Error("Attempt to isolate at end");return M.split(v),M}length(){return 1}offset(w=this.parent){return null==this.parent||this===w?0:this.parent.children.offset(this)+this.parent.offset(w)}optimize(w){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(w,v){const M="string"==typeof w?this.scroll.create(w,v):w;return null!=this.parent&&(this.parent.insertBefore(M,this.next||void 0),this.remove()),M}split(w,v){return 0===w?this:this.next}update(w,v){}wrap(w,v){const M="string"==typeof w?this.scroll.create(w,v):w;if(null!=this.parent&&this.parent.insertBefore(M,this.next||void 0),"function"!=typeof M.appendChild)throw new Aa(`Cannot wrap ${w}`);return M.appendChild(this),M}};el.blotName="abstract";let Wc=el;const iu=class extends Wc{static value(w){return!0}index(w,v){return this.domNode===w||this.domNode.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(v,1):-1}position(w,v){let M=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return w>0&&(M+=1),[this.parent.domNode,M]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};iu.scope=Br.INLINE_BLOT;const Eo=iu;class Is{constructor(){this.head=null,this.tail=null,this.length=0}append(...w){if(this.insertBefore(w[0],null),w.length>1){const v=w.slice(1);this.append(...v)}}at(w){const v=this.iterator();let M=v();for(;M&&w>0;)w-=1,M=v();return M}contains(w){const v=this.iterator();let M=v();for(;M;){if(M===w)return!0;M=v()}return!1}indexOf(w){const v=this.iterator();let M=v(),ue=0;for(;M;){if(M===w)return ue;ue+=1,M=v()}return-1}insertBefore(w,v){null!=w&&(this.remove(w),w.next=v,null!=v?(w.prev=v.prev,null!=v.prev&&(v.prev.next=w),v.prev=w,v===this.head&&(this.head=w)):null!=this.tail?(this.tail.next=w,w.prev=this.tail,this.tail=w):(w.prev=null,this.head=this.tail=w),this.length+=1)}offset(w){let v=0,M=this.head;for(;null!=M;){if(M===w)return v;v+=M.length(),M=M.next}return-1}remove(w){this.contains(w)&&(null!=w.prev&&(w.prev.next=w.next),null!=w.next&&(w.next.prev=w.prev),w===this.head&&(this.head=w.next),w===this.tail&&(this.tail=w.prev),this.length-=1)}iterator(w=this.head){return()=>{const v=w;return null!=w&&(w=w.next),v}}find(w,v=!1){const M=this.iterator();let ue=M();for(;ue;){const Ge=ue.length();if(w<Ge||v&&w===Ge&&(null==ue.next||0!==ue.next.length()))return[ue,w];w-=Ge,ue=M()}return[null,0]}forEach(w){const v=this.iterator();let M=v();for(;M;)w(M),M=v()}forEachAt(w,v,M){if(v<=0)return;const[ue,Ge]=this.find(w);let at=w-Ge;const zt=this.iterator(ue);let Dn=zt();for(;Dn&&at<w+v;){const ri=Dn.length();w>at?M(Dn,w-at,Math.min(v,at+ri-w)):M(Dn,0,Math.min(ri,w+v-at)),at+=ri,Dn=zt()}}map(w){return this.reduce((v,M)=>(v.push(w(M)),v),[])}reduce(w,v){const M=this.iterator();let ue=M();for(;ue;)v=w(v,ue),ue=M();return v}}function zl($,w){const v=w.find($);if(v)return v;try{return w.create($)}catch{const M=w.create(Br.INLINE);return Array.from($.childNodes).forEach(ue=>{M.domNode.appendChild(ue)}),$.parentNode&&$.parentNode.replaceChild(M.domNode,$),M.attach(),M}}const da=(()=>{let $=class ey extends Wc{constructor(v,M){super(v,M),this.uiNode=null,this.build()}appendChild(v){this.insertBefore(v)}attach(){super.attach(),this.children.forEach(v=>{v.attach()})}attachUI(v){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=v,ey.uiClass&&this.uiNode.classList.add(ey.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Is,Array.from(this.domNode.childNodes).filter(v=>v!==this.uiNode).reverse().forEach(v=>{try{const M=zl(v,this.scroll);this.insertBefore(M,this.children.head||void 0)}catch(M){if(M instanceof Aa)return;throw M}})}deleteAt(v,M){if(0===v&&M===this.length())return this.remove();this.children.forEachAt(v,M,(ue,Ge,at)=>{ue.deleteAt(Ge,at)})}descendant(v,M=0){const[ue,Ge]=this.children.find(M);return null==v.blotName&&v(ue)||null!=v.blotName&&ue instanceof v?[ue,Ge]:ue instanceof ey?ue.descendant(v,Ge):[null,-1]}descendants(v,M=0,ue=Number.MAX_VALUE){let Ge=[],at=ue;return this.children.forEachAt(M,ue,(zt,Dn,ri)=>{(null==v.blotName&&v(zt)||null!=v.blotName&&zt instanceof v)&&Ge.push(zt),zt instanceof ey&&(Ge=Ge.concat(zt.descendants(v,Dn,at))),at-=ri}),Ge}detach(){this.children.forEach(v=>{v.detach()}),super.detach()}enforceAllowedChildren(){let v=!1;this.children.forEach(M=>{v||this.statics.allowedChildren.some(ue=>M instanceof ue)||(M.statics.scope===Br.BLOCK_BLOT?(null!=M.next&&this.splitAfter(M),null!=M.prev&&this.splitAfter(M.prev),M.parent.unwrap(),v=!0):M instanceof ey?M.unwrap():M.remove())})}formatAt(v,M,ue,Ge){this.children.forEachAt(v,M,(at,zt,Dn)=>{at.formatAt(zt,Dn,ue,Ge)})}insertAt(v,M,ue){const[Ge,at]=this.children.find(v);if(Ge)Ge.insertAt(at,M,ue);else{const zt=null==ue?this.scroll.create("text",M):this.scroll.create(M,ue);this.appendChild(zt)}}insertBefore(v,M){null!=v.parent&&v.parent.children.remove(v);let ue=null;this.children.insertBefore(v,M||null),v.parent=this,null!=M&&(ue=M.domNode),(this.domNode.parentNode!==v.domNode||this.domNode.nextSibling!==ue)&&this.domNode.insertBefore(v.domNode,ue),v.attach()}length(){return this.children.reduce((v,M)=>v+M.length(),0)}moveChildren(v,M){this.children.forEach(ue=>{v.insertBefore(ue,M)})}optimize(v){if(super.optimize(v),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const M=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(M)}else this.remove()}path(v,M=!1){const[ue,Ge]=this.children.find(v,M),at=[[this,v]];return ue instanceof ey?at.concat(ue.path(Ge,M)):(null!=ue&&at.push([ue,Ge]),at)}removeChild(v){this.children.remove(v)}replaceWith(v,M){const ue="string"==typeof v?this.scroll.create(v,M):v;return ue instanceof ey&&this.moveChildren(ue),super.replaceWith(ue)}split(v,M=!1){if(!M){if(0===v)return this;if(v===this.length())return this.next}const ue=this.clone();return this.parent&&this.parent.insertBefore(ue,this.next||void 0),this.children.forEachAt(v,this.length(),(Ge,at,zt)=>{const Dn=Ge.split(at,M);null!=Dn&&ue.appendChild(Dn)}),ue}splitAfter(v){const M=this.clone();for(;null!=v.next;)M.appendChild(v.next);return this.parent&&this.parent.insertBefore(M,this.next||void 0),M}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(v,M){const ue=[],Ge=[];v.forEach(at=>{at.target===this.domNode&&"childList"===at.type&&(ue.push(...at.addedNodes),Ge.push(...at.removedNodes))}),Ge.forEach(at=>{if(null!=at.parentNode&&"IFRAME"!==at.tagName&&document.body.compareDocumentPosition(at)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const zt=this.scroll.find(at);null!=zt&&(null==zt.domNode.parentNode||zt.domNode.parentNode===this.domNode)&&zt.detach()}),ue.filter(at=>at.parentNode===this.domNode&&at!==this.uiNode).sort((at,zt)=>at===zt?0:at.compareDocumentPosition(zt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(at=>{let zt=null;null!=at.nextSibling&&(zt=this.scroll.find(at.nextSibling));const Dn=zl(at,this.scroll);(Dn.next!==zt||null==Dn.next)&&(null!=Dn.parent&&Dn.parent.removeChild(this),this.insertBefore(Dn,zt||void 0))}),this.enforceAllowedChildren()}};return $.uiClass="",$})(),lc=class tx extends da{static create(w){return super.create(w)}static formats(w,v){const M=v.query(tx.blotName);if(null==M||w.tagName!==M.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return w.tagName.toLowerCase()}}constructor(w,v){super(w,v),this.attributes=new ac(this.domNode)}format(w,v){if(w!==this.statics.blotName||v){const M=this.scroll.query(w,Br.INLINE);if(null==M)return;M instanceof ua?this.attributes.attribute(M,v):v&&(w!==this.statics.blotName||this.formats()[w]!==v)&&this.replaceWith(w,v)}else this.children.forEach(M=>{M instanceof tx||(M=M.wrap(tx.blotName,!0)),this.attributes.copy(M)}),this.unwrap()}formats(){const w=this.attributes.values(),v=this.statics.formats(this.domNode,this.scroll);return null!=v&&(w[this.statics.blotName]=v),w}formatAt(w,v,M,ue){null!=this.formats()[M]||this.scroll.query(M,Br.ATTRIBUTE)?this.isolate(w,v).format(M,ue):super.formatAt(w,v,M,ue)}optimize(w){super.optimize(w);const v=this.formats();if(0===Object.keys(v).length)return this.unwrap();const M=this.next;M instanceof tx&&M.prev===this&&function fc($,w){if(Object.keys($).length!==Object.keys(w).length)return!1;for(const v in $)if($[v]!==w[v])return!1;return!0}(v,M.formats())&&(M.moveChildren(this),M.remove())}replaceWith(w,v){const M=super.replaceWith(w,v);return this.attributes.copy(M),M}update(w,v){super.update(w,v),w.some(M=>M.target===this.domNode&&"attributes"===M.type)&&this.attributes.build()}wrap(w,v){const M=super.wrap(w,v);return M instanceof tx&&this.attributes.move(M),M}};lc.allowedChildren=[lc,Eo],lc.blotName="inline",lc.scope=Br.INLINE_BLOT,lc.tagName="SPAN";const Md=lc,Gc=class QP extends da{static create(w){return super.create(w)}static formats(w,v){const M=v.query(QP.blotName);if(null==M||w.tagName!==M.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return w.tagName.toLowerCase()}}constructor(w,v){super(w,v),this.attributes=new ac(this.domNode)}format(w,v){const M=this.scroll.query(w,Br.BLOCK);null!=M&&(M instanceof ua?this.attributes.attribute(M,v):w!==this.statics.blotName||v?v&&(w!==this.statics.blotName||this.formats()[w]!==v)&&this.replaceWith(w,v):this.replaceWith(QP.blotName))}formats(){const w=this.attributes.values(),v=this.statics.formats(this.domNode,this.scroll);return null!=v&&(w[this.statics.blotName]=v),w}formatAt(w,v,M,ue){null!=this.scroll.query(M,Br.BLOCK)?this.format(M,ue):super.formatAt(w,v,M,ue)}insertAt(w,v,M){if(null==M||null!=this.scroll.query(v,Br.INLINE))super.insertAt(w,v,M);else{const ue=this.split(w);if(null==ue)throw new Error("Attempt to insertAt after block boundaries");{const Ge=this.scroll.create(v,M);ue.parent.insertBefore(Ge,ue)}}}replaceWith(w,v){const M=super.replaceWith(w,v);return this.attributes.copy(M),M}update(w,v){super.update(w,v),w.some(M=>M.target===this.domNode&&"attributes"===M.type)&&this.attributes.build()}};Gc.blotName="block",Gc.scope=Br.BLOCK_BLOT,Gc.tagName="P",Gc.allowedChildren=[Md,Gc,Eo];const pc=Gc,cl=class extends da{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(w,v){super.deleteAt(w,v),this.enforceAllowedChildren()}formatAt(w,v,M,ue){super.formatAt(w,v,M,ue),this.enforceAllowedChildren()}insertAt(w,v,M){super.insertAt(w,v,M),this.enforceAllowedChildren()}optimize(w){super.optimize(w),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};cl.blotName="container",cl.scope=Br.BLOCK_BLOT;const Zu=cl,Ra=class Dh extends Eo{static formats(w,v){}format(w,v){super.formatAt(0,this.length(),w,v)}formatAt(w,v,M,ue){0===w&&v===this.length()?this.format(M,ue):super.formatAt(w,v,M,ue)}formats(){return this.statics.formats(this.domNode,this.scroll)}},kl={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},tl=class extends da{constructor(w,v){super(null,v),this.registry=w,this.scroll=this,this.build(),this.observer=new MutationObserver(M=>{this.update(M)}),this.observer.observe(this.domNode,kl),this.attach()}create(w,v){return this.registry.create(this,w,v)}find(w,v=!1){const M=this.registry.find(w,v);return M?M.scroll===this?M:v?this.find(M.scroll.domNode.parentNode,!0):null:null}query(w,v=Br.ANY){return this.registry.query(w,v)}register(...w){return this.registry.register(...w)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(w,v){this.update(),0===w&&v===this.length()?this.children.forEach(M=>{M.remove()}):super.deleteAt(w,v)}formatAt(w,v,M,ue){this.update(),super.formatAt(w,v,M,ue)}insertAt(w,v,M){this.update(),super.insertAt(w,v,M)}optimize(w=[],v={}){super.optimize(v);const M=v.mutationsMap||new WeakMap;let ue=Array.from(this.observer.takeRecords());for(;ue.length>0;)w.push(ue.pop());const Ge=(Dn,ri=!0)=>{null==Dn||Dn===this||null!=Dn.domNode.parentNode&&(M.has(Dn.domNode)||M.set(Dn.domNode,[]),ri&&Ge(Dn.parent))},at=Dn=>{M.has(Dn.domNode)&&(Dn instanceof da&&Dn.children.forEach(at),M.delete(Dn.domNode),Dn.optimize(v))};let zt=w;for(let Dn=0;zt.length>0;Dn+=1){if(Dn>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(zt.forEach(ri=>{const Ui=this.find(ri.target,!0);null!=Ui&&(Ui.domNode===ri.target&&("childList"===ri.type?(Ge(this.find(ri.previousSibling,!1)),Array.from(ri.addedNodes).forEach(gr=>{const jr=this.find(gr,!1);Ge(jr,!1),jr instanceof da&&jr.children.forEach(Gs=>{Ge(Gs,!1)})})):"attributes"===ri.type&&Ge(Ui.prev)),Ge(Ui))}),this.children.forEach(at),zt=Array.from(this.observer.takeRecords()),ue=zt.slice();ue.length>0;)w.push(ue.pop())}}update(w,v={}){w=w||this.observer.takeRecords();const M=new WeakMap;w.map(ue=>{const Ge=this.find(ue.target,!0);return null==Ge?null:M.has(Ge.domNode)?(M.get(Ge.domNode).push(ue),null):(M.set(Ge.domNode,[ue]),Ge)}).forEach(ue=>{null!=ue&&ue!==this&&M.has(ue.domNode)&&ue.update(M.get(ue.domNode)||[],v)}),v.mutationsMap=M,M.has(this.domNode)&&super.update(M.get(this.domNode),v),this.optimize(w,v)}};tl.blotName="scroll",tl.defaultChild=pc,tl.allowedChildren=[pc,Zu],tl.scope=Br.BLOCK_BLOT,tl.tagName="DIV";const Cc=tl,Bu=class Q3 extends Eo{static create(w){return document.createTextNode(w)}static value(w){return w.data}constructor(w,v){super(w,v),this.text=this.statics.value(this.domNode)}deleteAt(w,v){this.domNode.data=this.text=this.text.slice(0,w)+this.text.slice(w+v)}index(w,v){return this.domNode===w?v:-1}insertAt(w,v,M){null==M?(this.text=this.text.slice(0,w)+v+this.text.slice(w),this.domNode.data=this.text):super.insertAt(w,v,M)}length(){return this.text.length}optimize(w){super.optimize(w),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof Q3&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(w,v=!1){return[this.domNode,w]}split(w,v=!1){if(!v){if(0===w)return this;if(w===this.length())return this.next}const M=this.scroll.create(this.domNode.splitText(w));return this.parent.insertBefore(M,this.next||void 0),this.text=this.statics.value(this.domNode),M}update(w,v){w.some(M=>"characterData"===M.type&&M.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Bu.blotName="text",Bu.scope=Br.INLINE_BLOT;const Au=Bu;var Mr=_(8392);const ie=Rr(Object.keys,Object);var lt=Object.prototype.hasOwnProperty;const Qn=function hi($){return Xo($)?Tl($):function Ut($){if(!Ue($))return ie($);var w=[];for(var v in Object($))lt.call($,v)&&"constructor"!=v&&w.push(v);return w}($)},ul=function bl(){return[]};var Th=Object.prototype.propertyIsEnumerable,Vu=Object.getOwnPropertySymbols,Nd=Vu?function($){return null==$?[]:($=Object($),function so($,w){for(var v=-1,M=null==$?0:$.length,ue=0,Ge=[];++v<M;){var at=$[v];w(at,v,$)&&(Ge[ue++]=at)}return Ge}(Vu($),function(w){return Th.call($,w)}))}:ul;const ef=Nd,Ep=function Mn($,w){for(var v=-1,M=w.length,ue=$.length;++v<M;)$[ue+v]=w[v];return $};var _u=Object.getOwnPropertySymbols?function($){for(var w=[];$;)Ep(w,ef($)),$=Zs($);return w}:ul;const Od=_u,Ju=function Al($,w,v){var M=w($);return vs($)?M:Ep(M,v($))},pe=function Ih($){return Ju($,Qn,ef)},Fe=function k($){return Ju($,Ia,Od)},$e=jt(St,"DataView"),xn=jt(St,"Promise"),gi=jt(St,"Set"),ki=jt(St,"WeakMap");var Xi="[object Map]",_s="[object Promise]",Qr="[object Set]",Mo="[object WeakMap]",ru="[object DataView]",vl=$i($e),Zl=$i(qt),Pd=$i(xn),Gn=$i(gi),Sr=$i(ki),cs=Ve;($e&&cs(new $e(new ArrayBuffer(1)))!=ru||qt&&cs(new qt)!=Xi||xn&&cs(xn.resolve())!=_s||gi&&cs(new gi)!=Qr||ki&&cs(new ki)!=Mo)&&(cs=function($){var w=Ve($),v="[object Object]"==w?$.constructor:void 0,M=v?$i(v):"";if(M)switch(M){case vl:return ru;case Zl:return Xi;case Pd:return _s;case Gn:return Qr;case Sr:return Mo}return w});const zo=cs;var F=Object.prototype.hasOwnProperty;var Cn=/\w*$/;var ti=Ce?Ce.prototype:void 0,Ln=ti?ti.valueOf:void 0;const Or=function Ws($,w,v){var M=$.constructor;switch(w){case"[object ArrayBuffer]":return Ba($);case"[object Boolean]":case"[object Date]":return new M(+$);case"[object DataView]":return function It($,w){var v=w?Ba($.buffer):$.buffer;return new $.constructor(v,$.byteOffset,$.byteLength)}($,v);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return aa($,v);case"[object Map]":case"[object Set]":return new M;case"[object Number]":case"[object String]":return new M($);case"[object RegExp]":return function Yn($){var w=new $.constructor($.source,Cn.exec($));return w.lastIndex=$.lastIndex,w}($);case"[object Symbol]":return function ni($){return Ln?Object(Ln.call($)):{}}($)}};var kh=Xt&&Xt.isMap;const wl=kh?ro(kh):function Kc($){return Nr($)&&"[object Map]"==zo($)};var ed=Xt&&Xt.isSet;const yu=ed?ro(ed):function Rl($){return Nr($)&&"[object Set]"==zo($)};var sf="[object Arguments]",Ol="[object Function]",Ys="[object Object]",Wa={};Wa[sf]=Wa["[object Array]"]=Wa["[object ArrayBuffer]"]=Wa["[object DataView]"]=Wa["[object Boolean]"]=Wa["[object Date]"]=Wa["[object Float32Array]"]=Wa["[object Float64Array]"]=Wa["[object Int8Array]"]=Wa["[object Int16Array]"]=Wa["[object Int32Array]"]=Wa["[object Map]"]=Wa["[object Number]"]=Wa[Ys]=Wa["[object RegExp]"]=Wa["[object Set]"]=Wa["[object String]"]=Wa["[object Symbol]"]=Wa["[object Uint8Array]"]=Wa["[object Uint8ClampedArray]"]=Wa["[object Uint16Array]"]=Wa["[object Uint32Array]"]=!0,Wa["[object Error]"]=Wa[Ol]=Wa["[object WeakMap]"]=!1;const Fg=function af($,w,v,M,ue,Ge){var at,zt=1&w,Dn=2&w,ri=4&w;if(v&&(at=ue?v($,M,ue,Ge):v($)),void 0!==at)return at;if(!an($))return $;var Ui=vs($);if(Ui){if(at=function se($){var w=$.length,v=new $.constructor(w);return w&&"string"==typeof $[0]&&F.call($,"index")&&(v.index=$.index,v.input=$.input),v}($),!zt)return xa($,at)}else{var gr=zo($),jr=gr==Ol||"[object GeneratorFunction]"==gr;if(Da($))return $a($,zt);if(gr==Ys||gr==sf||jr&&!ue){if(at=Dn||jr?{}:In($),!zt)return Dn?function $f($,w){return Er($,Od($),w)}($,function zr($,w){return $&&Er(w,Ia(w),$)}(at,$)):function tf($,w){return Er($,ef($),w)}($,function Yi($,w){return $&&Er(w,Qn(w),$)}(at,$))}else{if(!Wa[gr])return ue?$:{};at=Or($,gr,zt)}}Ge||(Ge=new mi);var Gs=Ge.get($);if(Gs)return Gs;Ge.set($,at),yu($)?$.forEach(function(No){at.add(af(No,w,v,No,$,Ge))}):wl($)&&$.forEach(function(No,ks){at.set(ks,af(No,w,v,ks,$,Ge))});var $o=Ui?void 0:(ri?Dn?Fe:pe:Dn?Ia:Qn)($);return function eh($,w){for(var v=-1,M=null==$?0:$.length;++v<M&&!1!==w($[v],v,$););}($o||$,function(No,ks){$o&&(No=$[ks=No]),_i(at,ks,af(No,w,v,ks,$,Ge))}),at},Oh=function $g($){return Fg($,5)};function Mu($){var w=-1,v=null==$?0:$.length;for(this.__data__=new H;++w<v;)this.add($[w])}Mu.prototype.add=Mu.prototype.push=function td($){return this.__data__.set($,"__lodash_hash_undefined__"),this},Mu.prototype.has=function Bg($){return this.__data__.has($)};const Ip=Mu,ty=function Pc($,w){for(var v=-1,M=null==$?0:$.length;++v<M;)if(w($[v],v,$))return!0;return!1},Us=function jf($,w){return $.has(w)},bd=function kp($,w,v,M,ue,Ge){var at=1&v,zt=$.length,Dn=w.length;if(zt!=Dn&&!(at&&Dn>zt))return!1;var ri=Ge.get($),Ui=Ge.get(w);if(ri&&Ui)return ri==w&&Ui==$;var gr=-1,jr=!0,Gs=2&v?new Ip:void 0;for(Ge.set($,w),Ge.set(w,$);++gr<zt;){var Ks=$[gr],$o=w[gr];if(M)var No=at?M($o,Ks,gr,w,$,Ge):M(Ks,$o,gr,$,w,Ge);if(void 0!==No){if(No)continue;jr=!1;break}if(Gs){if(!ty(w,function(ks,il){if(!Us(Gs,il)&&(Ks===ks||ue(Ks,ks,v,M,Ge)))return Gs.push(il)})){jr=!1;break}}else if(Ks!==$o&&!ue(Ks,$o,v,M,Ge)){jr=!1;break}}return Ge.delete($),Ge.delete(w),jr},ny=function Fl($){var w=-1,v=Array($.size);return $.forEach(function(M,ue){v[++w]=[ue,M]}),v},Wi=function Vg($){var w=-1,v=Array($.size);return $.forEach(function(M){v[++w]=M}),v};var Hs=Ce?Ce.prototype:void 0,jo=Hs?Hs.valueOf:void 0;var Kr=Object.prototype.hasOwnProperty;var zu="[object Arguments]",qi="[object Array]",Oa="[object Object]",Hf=Object.prototype.hasOwnProperty;const Ug=function wu($,w,v,M,ue,Ge){var at=vs($),zt=vs(w),Dn=at?qi:zo($),ri=zt?qi:zo(w),Ui=(Dn=Dn==zu?Oa:Dn)==Oa,gr=(ri=ri==zu?Oa:ri)==Oa,jr=Dn==ri;if(jr&&Da($)){if(!Da(w))return!1;at=!0,Ui=!1}if(jr&&!Ui)return Ge||(Ge=new mi),at||Hn($)?bd($,w,v,M,ue,Ge):function Zo($,w,v,M,ue,Ge,at){switch(v){case"[object DataView]":if($.byteLength!=w.byteLength||$.byteOffset!=w.byteOffset)return!1;$=$.buffer,w=w.buffer;case"[object ArrayBuffer]":return!($.byteLength!=w.byteLength||!Ge(new Jo($),new Jo(w)));case"[object Boolean]":case"[object Date]":case"[object Number]":return S(+$,+w);case"[object Error]":return $.name==w.name&&$.message==w.message;case"[object RegExp]":case"[object String]":return $==w+"";case"[object Map]":var zt=ny;case"[object Set]":if(zt||(zt=Wi),$.size!=w.size&&!(1&M))return!1;var ri=at.get($);if(ri)return ri==w;M|=2,at.set($,w);var Ui=bd(zt($),zt(w),M,ue,Ge,at);return at.delete($),Ui;case"[object Symbol]":if(jo)return jo.call($)==jo.call(w)}return!1}($,w,Dn,v,M,ue,Ge);if(!(1&v)){var Gs=Ui&&Hf.call($,"__wrapped__"),Ks=gr&&Hf.call(w,"__wrapped__");if(Gs||Ks){var $o=Gs?$.value():$,No=Ks?w.value():w;return Ge||(Ge=new mi),ue($o,No,v,M,Ge)}}return!!jr&&(Ge||(Ge=new mi),function Ph($,w,v,M,ue,Ge){var at=1&v,zt=pe($),Dn=zt.length;if(Dn!=pe(w).length&&!at)return!1;for(var gr=Dn;gr--;){var jr=zt[gr];if(!(at?jr in w:Kr.call(w,jr)))return!1}var Gs=Ge.get($),Ks=Ge.get(w);if(Gs&&Ks)return Gs==w&&Ks==$;var $o=!0;Ge.set($,w),Ge.set(w,$);for(var No=at;++gr<Dn;){var ks=$[jr=zt[gr]],il=w[jr];if(M)var zv=at?M(il,ks,jr,w,$,Ge):M(ks,il,jr,$,w,Ge);if(!(void 0===zv?ks===il||ue(ks,il,v,M,Ge):zv)){$o=!1;break}No||(No="constructor"==jr)}if($o&&!No){var cm=$.constructor,f_=w.constructor;cm!=f_&&"constructor"in $&&"constructor"in w&&!("function"==typeof cm&&cm instanceof cm&&"function"==typeof f_&&f_ instanceof f_)&&($o=!1)}return Ge.delete($),Ge.delete(w),$o}($,w,v,M,ue,Ge))},ih=function zg($,w,v,M,ue){return $===w||(null==$||null==w||!Nr($)&&!Nr(w)?$!=$&&w!=w:Ug($,w,v,M,zg,ue))},Vr=function zS($,w){return ih($,w)},rh=(()=>{class $ extends Ra{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return $.blotName="break",$.tagName="BR",$})();class Pa extends Au{}function Jl($){return $.replace(/[&<>"']/g,w=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[w]))}const Bs=(()=>{class $ extends Md{static allowedChildren=[$,rh,Ra,Pa];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(v,M){const ue=$.order.indexOf(v),Ge=$.order.indexOf(M);return ue>=0||Ge>=0?ue-Ge:v===M?0:v<M?-1:1}formatAt(v,M,ue,Ge){if($.compare(this.statics.blotName,ue)<0&&this.scroll.query(ue,Br.BLOT)){const at=this.isolate(v,M);Ge&&at.wrap(ue,Ge)}else super.formatAt(v,M,ue,Ge)}optimize(v){if(super.optimize(v),this.parent instanceof $&&$.compare(this.statics.blotName,this.parent.statics.blotName)>0){const M=this.parent.isolate(this.offset(),this.length());this.moveChildren(M),M.wrap(this)}}}return $})();let Xa=(()=>{class $ extends pc{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=Rm(this)),this.cache.delta}deleteAt(v,M){super.deleteAt(v,M),this.cache={}}formatAt(v,M,ue,Ge){M<=0||(this.scroll.query(ue,Br.BLOCK)?v+M===this.length()&&this.format(ue,Ge):super.formatAt(v,Math.min(M,this.length()-v-1),ue,Ge),this.cache={})}insertAt(v,M,ue){if(null!=ue)return super.insertAt(v,M,ue),void(this.cache={});if(0===M.length)return;const Ge=M.split("\n"),at=Ge.shift();at.length>0&&(v<this.length()-1||null==this.children.tail?super.insertAt(Math.min(v,this.length()-1),at):this.children.tail.insertAt(this.children.tail.length(),at),this.cache={});let zt=this;Ge.reduce((Dn,ri)=>(zt=zt.split(Dn,!0),zt.insertAt(0,ri),ri.length),v+at.length)}insertBefore(v,M){const{head:ue}=this.children;super.insertBefore(v,M),ue instanceof rh&&ue.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(v,M){super.moveChildren(v,M),this.cache={}}optimize(v){super.optimize(v),this.cache={}}path(v){return super.path(v,!0)}removeChild(v){super.removeChild(v),this.cache={}}split(v){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M&&(0===v||v>=this.length()-1)){const Ge=this.clone();return 0===v?(this.parent.insertBefore(Ge,this),this):(this.parent.insertBefore(Ge,this.next),Ge)}const ue=super.split(v,M);return this.cache={},ue}}return $.blotName="block",$.tagName="P",$.defaultChild=rh,$.allowedChildren=[rh,Bs,Ra,Pa],$})();class nd extends Ra{attach(){super.attach(),this.attributes=new ac(this.domNode)}delta(){return(new Mr).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(w,v){const M=this.scroll.query(w,Br.BLOCK_ATTRIBUTE);null!=M&&this.attributes.attribute(M,v)}formatAt(w,v,M,ue){this.format(M,ue)}insertAt(w,v,M){if(null!=M)return void super.insertAt(w,v,M);const ue=v.split("\n"),Ge=ue.pop(),at=ue.map(Dn=>{const ri=this.scroll.create(Xa.blotName);return ri.insertAt(0,Dn),ri}),zt=this.split(w);at.forEach(Dn=>{this.parent.insertBefore(Dn,zt)}),Ge&&this.parent.insertBefore(this.scroll.create("text",Ge),zt)}}function Rm($){let w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return $.descendants(Eo).reduce((v,M)=>0===M.length()?v:v.insert(M.value(),id(M,{},w)),new Mr).insert("\n",id($))}function id($){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==$||("formats"in $&&"function"==typeof $.formats&&(w={...w,...$.formats()},v&&delete w["code-token"]),null==$.parent||"scroll"===$.parent.statics.blotName||$.parent.statics.scope!==$.statics.scope)?w:id($.parent,w,v)}nd.scope=Br.BLOCK_BLOT;const Mp=(()=>{class $ extends Ra{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(v,M,ue){super(v,M),this.selection=ue,this.textNode=document.createTextNode($.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(v,M){if(0!==this.savedLength)return void super.format(v,M);let ue=this,Ge=0;for(;null!=ue&&ue.statics.scope!==Br.BLOCK_BLOT;)Ge+=ue.offset(ue.parent),ue=ue.parent;null!=ue&&(this.savedLength=$.CONTENTS.length,ue.optimize(),ue.formatAt(Ge,$.CONTENTS.length,v,M),this.savedLength=0)}index(v,M){return v===this.textNode?0:super.index(v,M)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const v=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const M=this.prev instanceof Pa?this.prev:null,ue=M?M.length():0,Ge=this.next instanceof Pa?this.next:null,at=Ge?Ge.text:"",{textNode:zt}=this,Dn=zt.data.split($.CONTENTS).join("");let ri;if(zt.data=$.CONTENTS,M)ri=M,(Dn||Ge)&&(M.insertAt(M.length(),Dn+at),Ge&&Ge.remove());else if(Ge)ri=Ge,Ge.insertAt(0,Dn);else{const Ui=document.createTextNode(Dn);ri=this.scroll.create(Ui),this.parent.insertBefore(ri,this)}if(this.remove(),v){const Ui=(Gs,Ks)=>M&&Gs===M.domNode?Ks:Gs===zt?ue+Ks-1:Ge&&Gs===Ge.domNode?ue+Dn.length+Ks:null,gr=Ui(v.start.node,v.start.offset),jr=Ui(v.end.node,v.end.offset);if(null!==gr&&null!==jr)return{startNode:ri.domNode,startOffset:gr,endNode:ri.domNode,endOffset:jr}}return null}update(v,M){if(v.some(ue=>"characterData"===ue.type&&ue.target===this.textNode)){const ue=this.restore();ue&&(M.range=ue)}}optimize(v){super.optimize(v);let{parent:M}=this;for(;M;){if("A"===M.domNode.tagName){this.savedLength=$.CONTENTS.length,M.isolate(this.offset(M),this.length()).unwrap(),this.savedLength=0;break}M=M.parent}}value(){return""}}return $})();var iy=_(9477);const Rp=new WeakMap,ry=["error","warn","log","info"];let Nm="warn";function Np($){if(Nm&&ry.indexOf($)<=ry.indexOf(Nm)){for(var w=arguments.length,v=new Array(w>1?w-1:0),M=1;M<w;M++)v[M-1]=arguments[M];console[$](...v)}}function jg($){return ry.reduce((w,v)=>(w[v]=Np.bind(console,v,$),w),{})}jg.level=$=>{Nm=$},Np.level=jg.level;const cf=jg,Wg=cf("quill:events");["selectionchange","mousedown","mouseup","click"].forEach($=>{document.addEventListener($,function(){for(var w=arguments.length,v=new Array(w),M=0;M<w;M++)v[M]=arguments[M];Array.from(document.querySelectorAll(".ql-container")).forEach(ue=>{const Ge=Rp.get(ue);Ge&&Ge.emitter&&Ge.emitter.handleDOM(...v)})})});const os=(()=>class $ extends iy{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Wg.error)}emit(){for(var v=arguments.length,M=new Array(v),ue=0;ue<v;ue++)M[ue]=arguments[ue];return Wg.log.call(Wg,...M),super.emit(...M)}handleDOM(v){for(var M=arguments.length,ue=new Array(M>1?M-1:0),Ge=1;Ge<M;Ge++)ue[Ge-1]=arguments[Ge];(this.domListeners[v.type]||[]).forEach(at=>{let{node:zt,handler:Dn}=at;(v.target===zt||zt.contains(v.target))&&Dn(v,...ue)})}listenDOM(v,M,ue){this.domListeners[v]||(this.domListeners[v]=[]),this.domListeners[v].push({node:M,handler:ue})}})(),yc=cf("quill:selection");class rd{constructor(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=w,this.length=v}}function Op($,w){return $.contains(w)}const rv=class xl{constructor(w,v){this.emitter=v,this.scroll=w,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new rd(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,os.sources.USER),1)}),this.emitter.on(os.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const M=this.getNativeRange();null!=M&&M.start.node!==this.cursor.textNode&&this.emitter.once(os.events.SCROLL_UPDATE,(ue,Ge)=>{try{this.root.contains(M.start.node)&&this.root.contains(M.end.node)&&this.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset);const at=Ge.some(zt=>"characterData"===zt.type||"childList"===zt.type||"attributes"===zt.type&&zt.target===this.root);this.update(at?os.sources.SILENT:ue)}catch{}})}),this.emitter.on(os.events.SCROLL_OPTIMIZE,(M,ue)=>{if(ue.range){const{startNode:Ge,startOffset:at,endNode:zt,endOffset:Dn}=ue.range;this.setNativeRange(Ge,at,zt,Dn),this.update(os.sources.SILENT)}}),this.update(os.sources.SILENT)}handleComposition(){this.emitter.on(os.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(os.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const w=this.cursor.restore();if(!w)return;setTimeout(()=>{this.setNativeRange(w.startNode,w.startOffset,w.endNode,w.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(os.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(w,v){this.scroll.update();const M=this.getNativeRange();if(null!=M&&M.native.collapsed&&!this.scroll.query(w,Br.BLOCK)){if(M.start.node!==this.cursor.textNode){const ue=this.scroll.find(M.start.node,!1);if(null==ue)return;if(ue instanceof Eo){const Ge=ue.split(M.start.offset);ue.parent.insertBefore(this.cursor,Ge)}else ue.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(w,v),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const M=this.scroll.length();w=Math.min(w,M-1),v=Math.min(w+v,M-1)-w;let ue,[Ge,at]=this.scroll.leaf(w);if(null==Ge)return null;if(v>0&&at===Ge.length()){const[Ui]=this.scroll.leaf(w+1);if(Ui){const[gr]=this.scroll.line(w),[jr]=this.scroll.line(w+1);gr===jr&&(Ge=Ui,at=0)}}[ue,at]=Ge.position(at,!0);const zt=document.createRange();if(v>0)return zt.setStart(ue,at),[Ge,at]=this.scroll.leaf(w+v),null==Ge?null:([ue,at]=Ge.position(at,!0),zt.setEnd(ue,at),zt.getBoundingClientRect());let ri,Dn="left";if(ue instanceof Text){if(!ue.data.length)return null;at<ue.data.length?(zt.setStart(ue,at),zt.setEnd(ue,at+1)):(zt.setStart(ue,at-1),zt.setEnd(ue,at),Dn="right"),ri=zt.getBoundingClientRect()}else{if(!(Ge.domNode instanceof Element))return null;ri=Ge.domNode.getBoundingClientRect(),at>0&&(Dn="right")}return{bottom:ri.top+ri.height,height:ri.height,left:ri[Dn],right:ri[Dn],top:ri.top,width:0}}getNativeRange(){const w=document.getSelection();if(null==w||w.rangeCount<=0)return null;const v=w.getRangeAt(0);if(null==v)return null;const M=this.normalizeNative(v);return yc.info("getNativeRange",M),M}getRange(){const w=this.scroll.domNode;if("isConnected"in w&&!w.isConnected)return[null,null];const v=this.getNativeRange();return null==v?[null,null]:[this.normalizedToRange(v),v]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&Op(this.root,document.activeElement)}normalizedToRange(w){const v=[[w.start.node,w.start.offset]];w.native.collapsed||v.push([w.end.node,w.end.offset]);const M=v.map(at=>{const[zt,Dn]=at,ri=this.scroll.find(zt,!0),Ui=ri.offset(this.scroll);return 0===Dn?Ui:ri instanceof Eo?Ui+ri.index(zt,Dn):Ui+ri.length()}),ue=Math.min(Math.max(...M),this.scroll.length()-1),Ge=Math.min(ue,...M);return new rd(Ge,ue-Ge)}normalizeNative(w){if(!Op(this.root,w.startContainer)||!w.collapsed&&!Op(this.root,w.endContainer))return null;const v={start:{node:w.startContainer,offset:w.startOffset},end:{node:w.endContainer,offset:w.endOffset},native:w};return[v.start,v.end].forEach(M=>{let{node:ue,offset:Ge}=M;for(;!(ue instanceof Text)&&ue.childNodes.length>0;)if(ue.childNodes.length>Ge)ue=ue.childNodes[Ge],Ge=0;else{if(ue.childNodes.length!==Ge)break;ue=ue.lastChild,Ge=ue instanceof Text?ue.data.length:ue.childNodes.length>0?ue.childNodes.length:ue.childNodes.length+1}M.node=ue,M.offset=Ge}),v}rangeToNative(w){const v=this.scroll.length(),M=(ue,Ge)=>{ue=Math.min(v-1,ue);const[at,zt]=this.scroll.leaf(ue);return at?at.position(zt,Ge):[null,-1]};return[...M(w.index,!1),...M(w.index+w.length,!0)]}setNativeRange(w,v){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,ue=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v,Ge=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(yc.info("setNativeRange",w,v,M,ue),null!=w&&(null==this.root.parentNode||null==w.parentNode||null==M.parentNode))return;const at=document.getSelection();if(null!=at)if(null!=w){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:zt}=this.getNativeRange()||{};if(null==zt||Ge||w!==zt.startContainer||v!==zt.startOffset||M!==zt.endContainer||ue!==zt.endOffset){w instanceof Element&&"BR"===w.tagName&&(v=Array.from(w.parentNode.childNodes).indexOf(w),w=w.parentNode),M instanceof Element&&"BR"===M.tagName&&(ue=Array.from(M.parentNode.childNodes).indexOf(M),M=M.parentNode);const Dn=document.createRange();Dn.setStart(w,v),Dn.setEnd(M,ue),at.removeAllRanges(),at.addRange(Dn)}}else at.removeAllRanges(),this.root.blur()}setRange(w){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:os.sources.API;if("string"==typeof v&&(M=v,v=!1),yc.info("setRange",w),null!=w){const ue=this.rangeToNative(w);this.setNativeRange(...ue,v)}else this.setNativeRange(null);this.update(M)}update(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os.sources.USER;const v=this.lastRange,[M,ue]=this.getRange();if(this.lastRange=M,this.lastNative=ue,null!=this.lastRange&&(this.savedRange=this.lastRange),!Vr(v,this.lastRange)){if(!this.composing&&null!=ue&&ue.native.collapsed&&ue.start.node!==this.cursor.textNode){const at=this.cursor.restore();at&&this.setNativeRange(at.startNode,at.startOffset,at.endNode,at.endOffset)}const Ge=[os.events.SELECTION_CHANGE,Oh(this.lastRange),Oh(v),w];this.emitter.emit(os.events.EDITOR_CHANGE,...Ge),w!==os.sources.SILENT&&this.emitter.emit(...Ge)}}},sv=/^[ -~]*$/;function uf($,w,v){if(0===$.length){const[Gs]=sd(v.pop());return w<=0?`</li></${Gs}>`:`</li></${Gs}>${uf([],w-1,v)}`}const[{child:M,offset:ue,length:Ge,indent:at,type:zt},...Dn]=$,[ri,Ui]=sd(zt);if(at>w)return v.push(zt),at===w+1?`<${ri}><li${Ui}>${Pp(M,ue,Ge)}${uf(Dn,at,v)}`:`<${ri}><li>${uf($,w+1,v)}`;if(at===w&&zt===v[v.length-1])return`</li><li${Ui}>${Pp(M,ue,Ge)}${uf(Dn,at,v)}`;const[jr]=sd(v.pop());return`</li></${jr}>${uf($,w-1,v)}`}function Pp($,w,v){let M=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in $&&"function"==typeof $.html)return $.html(w,v);if($ instanceof Pa)return Jl($.value().slice(w,w+v));if($ instanceof da){if("list-container"===$.statics.blotName){const ri=[];return $.children.forEachAt(w,v,(Ui,gr,jr)=>{const Gs="formats"in Ui&&"function"==typeof Ui.formats?Ui.formats():{};ri.push({child:Ui,offset:gr,length:jr,indent:Gs.indent||0,type:Gs.list})}),uf(ri,-1,[])}const ue=[];if($.children.forEachAt(w,v,(ri,Ui,gr)=>{ue.push(Pp(ri,Ui,gr))}),M||"list"===$.statics.blotName)return ue.join("");const{outerHTML:Ge,innerHTML:at}=$.domNode,[zt,Dn]=Ge.split(`>${at}<`);return"<table"===zt?`<table style="border: 1px solid #000;">${ue.join("")}<${Dn}`:`${zt}>${ue.join("")}<${Dn}`}return $.domNode instanceof Element?$.domNode.outerHTML:""}function Gf($,w){return Object.keys(w).reduce((v,M)=>{if(null==$[M])return v;const ue=w[M];return v[M]=ue===$[M]?ue:Array.isArray(ue)?ue.indexOf($[M])<0?ue.concat([$[M]]):ue:[ue,$[M]],v},{})}function sd($){const w="ordered"===$?"ol":"ul";switch($){case"checked":return[w,' data-list="checked"'];case"unchecked":return[w,' data-list="unchecked"'];default:return[w,""]}}function Hg($){return $.reduce((w,v)=>{if("string"==typeof v.insert){const M=v.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return w.insert(M,v.attributes)}return w.push(v)},new Mr)}function Om($,w){let{index:v,length:M}=$;return new rd(v+w,M)}const Pm=class sx{constructor(w){this.scroll=w,this.delta=this.getDelta()}applyDelta(w){this.scroll.update();let v=this.scroll.length();this.scroll.batchStart();const M=Hg(w),ue=new Mr;return function Fp($){const w=[];return $.forEach(v=>{"string"==typeof v.insert?v.insert.split("\n").forEach((ue,Ge)=>{Ge&&w.push({insert:"\n",attributes:v.attributes}),ue&&w.push({insert:ue,attributes:v.attributes})}):w.push(v)}),w}(M.ops.slice()).reduce((at,zt)=>{const Dn=Mr.Op.length(zt);let ri=zt.attributes||{},Ui=!1,gr=!1;if(null!=zt.insert){if(ue.retain(Dn),"string"==typeof zt.insert){const Ks=zt.insert;gr=!Ks.endsWith("\n")&&(v<=at||!!this.scroll.descendant(nd,at)[0]),this.scroll.insertAt(at,Ks);const[$o,No]=this.scroll.line(at);let ks=ka({},id($o));if($o instanceof Xa){const[il]=$o.descendant(Eo,No);il&&(ks=ka(ks,id(il)))}ri=Mr.AttributeMap.diff(ks,ri)||{}}else if("object"==typeof zt.insert){const Ks=Object.keys(zt.insert)[0];if(null==Ks)return at;const $o=null!=this.scroll.query(Ks,Br.INLINE);if($o)(v<=at||this.scroll.descendant(nd,at)[0])&&(gr=!0);else if(at>0){const[No,ks]=this.scroll.descendant(Eo,at-1);No instanceof Pa?"\n"!==No.value()[ks]&&(Ui=!0):No instanceof Ra&&No.statics.scope===Br.INLINE_BLOT&&(Ui=!0)}if(this.scroll.insertAt(at,Ks,zt.insert[Ks]),$o){const[No]=this.scroll.descendant(Eo,at);if(No){const ks=ka({},id(No));ri=Mr.AttributeMap.diff(ks,ri)||{}}}}v+=Dn}else if(ue.push(zt),null!==zt.retain&&"object"==typeof zt.retain){const Ks=Object.keys(zt.retain)[0];if(null==Ks)return at;this.scroll.updateEmbedAt(at,Ks,zt.retain[Ks])}Object.keys(ri).forEach(Ks=>{this.scroll.formatAt(at,Dn,Ks,ri[Ks])});const jr=Ui?1:0,Gs=gr?1:0;return v+=jr+Gs,ue.retain(jr),ue.delete(Gs),at+Dn+jr+Gs},0),ue.reduce((at,zt)=>"number"==typeof zt.delete?(this.scroll.deleteAt(at,zt.delete),at):at+Mr.Op.length(zt),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(M)}deleteText(w,v){return this.scroll.deleteAt(w,v),this.update((new Mr).retain(w).delete(v))}formatLine(w,v){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(M).forEach(Ge=>{this.scroll.lines(w,Math.max(v,1)).forEach(at=>{at.format(Ge,M[Ge])})}),this.scroll.optimize();const ue=(new Mr).retain(w).retain(v,Oh(M));return this.update(ue)}formatText(w,v){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(M).forEach(Ge=>{this.scroll.formatAt(w,v,Ge,M[Ge])});const ue=(new Mr).retain(w).retain(v,Oh(M));return this.update(ue)}getContents(w,v){return this.delta.slice(w,w+v)}getDelta(){return this.scroll.lines().reduce((w,v)=>w.concat(v.delta()),new Mr)}getFormat(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=[],ue=[];0===v?this.scroll.path(w).forEach(zt=>{const[Dn]=zt;Dn instanceof Xa?M.push(Dn):Dn instanceof Eo&&ue.push(Dn)}):(M=this.scroll.lines(w,v),ue=this.scroll.descendants(Eo,w,v));const[Ge,at]=[M,ue].map(zt=>{const Dn=zt.shift();if(null==Dn)return{};let ri=id(Dn);for(;Object.keys(ri).length>0;){const Ui=zt.shift();if(null==Ui)return ri;ri=Gf(id(Ui),ri)}return ri});return{...Ge,...at}}getHTML(w,v){const[M,ue]=this.scroll.line(w);if(M){const Ge=M.length();return M.length()>=ue+v&&(0!==ue||v!==Ge)?Pp(M,ue,v,!0):Pp(this.scroll,w,v,!0)}return""}getText(w,v){return this.getContents(w,v).filter(M=>"string"==typeof M.insert).map(M=>M.insert).join("")}insertContents(w,v){const M=Hg(v),ue=(new Mr).retain(w).concat(M);return this.scroll.insertContents(w,M),this.update(ue)}insertEmbed(w,v,M){return this.scroll.insertAt(w,v,M),this.update((new Mr).retain(w).insert({[v]:M}))}insertText(w,v){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v=v.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(w,v),Object.keys(M).forEach(ue=>{this.scroll.formatAt(w,v.length,ue,M[ue])}),this.update((new Mr).retain(w).insert(v,Oh(M)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const w=this.scroll.children.head;return w?.statics.blotName===Xa.blotName&&(!(w.children.length>1)&&w.children.head instanceof rh)}removeFormat(w,v){const M=this.getText(w,v),[ue,Ge]=this.scroll.line(w+v);let at=0,zt=new Mr;null!=ue&&(at=ue.length()-Ge,zt=ue.delta().slice(Ge,Ge+at-1).insert("\n"));const ri=this.getContents(w,v+at).diff((new Mr).insert(M).concat(zt)),Ui=(new Mr).retain(w).concat(ri);return this.applyDelta(Ui)}update(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const ue=this.delta;if(1===v.length&&"characterData"===v[0].type&&v[0].target.data.match(sv)&&this.scroll.find(v[0].target)){const Ge=this.scroll.find(v[0].target),at=id(Ge),zt=Ge.offset(this.scroll),Dn=v[0].oldValue.replace(Mp.CONTENTS,""),ri=(new Mr).insert(Dn),Ui=(new Mr).insert(Ge.value()),gr=M&&{oldRange:Om(M.oldRange,-zt),newRange:Om(M.newRange,-zt)};w=(new Mr).retain(zt).concat(ri.diff(Ui,gr)).reduce((Gs,Ks)=>Ks.insert?Gs.insert(Ks.insert,at):Gs.push(Ks),new Mr),this.delta=ue.compose(w)}else this.delta=this.getDelta(),(!w||!Vr(ue.compose(w),this.delta))&&(w=ue.diff(this.delta,M));return w}},Bd=(()=>class ${static DEFAULTS={};constructor(v){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=v,this.options=M}})(),df=class ox extends Ra{constructor(w,v){super(w,v),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(M=>{this.contentNode.appendChild(M)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(w,v){return w===this.leftGuard?0:w===this.rightGuard?1:super.index(w,v)}restore(w){let M,v=null;const ue=w.data.split("\ufeff").join("");if(w===this.leftGuard)if(this.prev instanceof Pa){const Ge=this.prev.length();this.prev.insertAt(Ge,ue),v={startNode:this.prev.domNode,startOffset:Ge+ue.length}}else M=document.createTextNode(ue),this.parent.insertBefore(this.scroll.create(M),this),v={startNode:M,startOffset:ue.length};else w===this.rightGuard&&(this.next instanceof Pa?(this.next.insertAt(0,ue),v={startNode:this.next.domNode,startOffset:ue.length}):(M=document.createTextNode(ue),this.parent.insertBefore(this.scroll.create(M),this.next),v={startNode:M,startOffset:ue.length}));return w.data="\ufeff",v}update(w,v){w.forEach(M=>{if("characterData"===M.type&&(M.target===this.leftGuard||M.target===this.rightGuard)){const ue=this.restore(M.target);ue&&(v.range=ue)}})}},Kf=class $p{isComposing=!1;constructor(w,v){this.scroll=w,this.emitter=v,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",w=>{this.isComposing||this.handleCompositionStart(w)}),this.scroll.domNode.addEventListener("compositionend",w=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(w)})})}handleCompositionStart(w){const v=w.target instanceof Node?this.scroll.find(w.target,!0):null;v&&!(v instanceof df)&&(this.emitter.emit(os.events.COMPOSITION_BEFORE_START,w),this.scroll.batchStart(),this.emitter.emit(os.events.COMPOSITION_START,w),this.isComposing=!0)}handleCompositionEnd(w){this.emitter.emit(os.events.COMPOSITION_BEFORE_END,w),this.scroll.batchEnd(),this.emitter.emit(os.events.COMPOSITION_END,w),this.isComposing=!1}},Bp=(()=>{class ${static DEFAULTS={modules:{}};static themes={default:$};modules={};constructor(v,M){this.quill=v,this.options=M}init(){Object.keys(this.options.modules).forEach(v=>{null==this.modules[v]&&this.addModule(v)})}addModule(v){const M=this.quill.constructor.import(`modules/${v}`);return this.modules[v]=new M(this.quill,this.options.modules[v]||{}),this.modules[v]}}return $})(),ax=$=>$.parentElement||$.getRootNode().host||null,lx=$=>{const w=$.getBoundingClientRect(),v="offsetWidth"in $&&Math.abs(w.width)/$.offsetWidth||1,M="offsetHeight"in $&&Math.abs(w.height)/$.offsetHeight||1;return{top:w.top,right:w.left+$.clientWidth*v,bottom:w.top+$.clientHeight*M,left:w.left}},ay=$=>{const w=parseInt($,10);return Number.isNaN(w)?0:w},cx=($,w,v,M,ue,Ge)=>$<v&&w>M?0:$<v?-(v-$+ue):w>M?w-$>M-v?$+ue-v:w-M+Ge:0,Fm=["block","break","cursor","inline","scroll","text"],Vp=cf("quill"),qf=new ll;da.uiClass="ql-ui";class Pi{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:qf,theme:"default"};static events=os.events;static sources=os.sources;static version="2.0.2";static imports={delta:Mr,parchment:h,"core/module":Bd,"core/theme":Bp};static debug(w){!0===w&&(w="log"),cf.level(w)}static find(w){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rp.get(w)||qf.find(w,v)}static import(w){return null==this.imports[w]&&Vp.error(`Cannot import ${w}. Are you sure it was registered?`),this.imports[w]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const w=arguments.length<=0?void 0:arguments[0],v=!(arguments.length<=1||!arguments[1]),M="attrName"in w?w.attrName:w.blotName;"string"==typeof M?this.register(`formats/${M}`,w,v):Object.keys(w).forEach(ue=>{this.register(ue,w[ue],v)})}else{const w=arguments.length<=0?void 0:arguments[0],v=arguments.length<=1?void 0:arguments[1];null!=this.imports[w]&&!(!(arguments.length<=2)&&arguments[2])&&Vp.warn(`Overwriting ${w} with`,v),this.imports[w]=v,(w.startsWith("blots/")||w.startsWith("formats/"))&&v&&"boolean"!=typeof v&&"abstract"!==v.blotName&&qf.register(v),"function"==typeof v.register&&v.register(qf)}}constructor(w){if(this.options=function cy($,w){const v=ux($);if(!v)throw new Error("Invalid Quill container");const ue=w.theme&&w.theme!==Pi.DEFAULTS.theme?Pi.import(`themes/${w.theme}`):Bp;if(!ue)throw new Error(`Invalid theme ${w.theme}. Did you register it?`);const{modules:Ge,...at}=Pi.DEFAULTS,{modules:zt,...Dn}=ue.DEFAULTS;let ri=Up(w.modules);null!=ri&&ri.toolbar&&ri.toolbar.constructor!==Object&&(ri={...ri,toolbar:{container:ri.toolbar}});const Ui=ka({},Up(Ge),Up(zt),ri),gr={...at,...ly(Dn),...ly(w)};let jr=w.registry;return jr?w.formats&&Vp.warn('Ignoring "formats" option because "registry" is specified'):jr=w.formats?(($,w,v)=>{const M=new ll;return Fm.forEach(ue=>{const Ge=w.query(ue);Ge&&M.register(Ge)}),$.forEach(ue=>{let Ge=w.query(ue);Ge||v.error(`Cannot register "${ue}" specified in "formats" config. Are you sure it was registered?`);let at=0;for(;Ge;)if(M.register(Ge),Ge="blotName"in Ge?Ge.requiredContainer??null:null,at+=1,at>100){v.error(`Cycle detected in registering blot requiredContainer: "${ue}"`);break}}),M})(w.formats,gr.registry,Vp):gr.registry,{...gr,registry:jr,container:v,theme:ue,modules:Object.entries(Ui).reduce((Gs,Ks)=>{let[$o,No]=Ks;if(!No)return Gs;const ks=Pi.import(`modules/${$o}`);return null==ks?(Vp.error(`Cannot load ${$o} module. Are you sure you registered it?`),Gs):{...Gs,[$o]:ka({},ks.DEFAULTS||{},No)}},{}),bounds:ux(gr.bounds)}}(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void Vp.error("Invalid Quill container",w);this.options.debug&&Pi.debug(this.options.debug);const M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Rp.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new os;const ue=Cc.blotName,Ge=this.options.registry.query(ue);if(!Ge||!("blotName"in Ge))throw new Error(`Cannot initialize Quill without "${ue}" blot`);if(this.scroll=new Ge(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Pm(this.scroll),this.selection=new rv(this.scroll,this.emitter),this.composition=new Kf(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(os.events.EDITOR_CHANGE,at=>{at===os.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(os.events.SCROLL_UPDATE,(at,zt)=>{const Dn=this.selection.lastRange,[ri]=this.selection.getRange(),Ui=Dn&&ri?{oldRange:Dn,newRange:ri}:void 0;bc.call(this,()=>this.editor.update(null,zt,Ui),at)}),this.emitter.on(os.events.SCROLL_EMBED_UPDATE,(at,zt)=>{const Dn=this.selection.lastRange,[ri]=this.selection.getRange(),Ui=Dn&&ri?{oldRange:Dn,newRange:ri}:void 0;bc.call(this,()=>{const gr=(new Mr).retain(at.offset(this)).retain({[at.statics.blotName]:zt});return this.editor.update(gr,[],Ui)},Pi.sources.USER)}),M){const at=this.clipboard.convert({html:`${M}<p><br></p>`,text:"\n"});this.setContents(at)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof w){const M=w;(w=document.createElement("div")).classList.add(M)}return this.container.insertBefore(w,v),w}blur(){this.selection.setRange(null)}deleteText(w,v,M){return[w,v,,M]=sh(w,v,M),bc.call(this,()=>this.editor.deleteText(w,v),M,w,-1*v)}disable(){this.enable(!1)}editReadOnly(w){this.allowReadOnlyEdits=!0;const v=w();return this.allowReadOnlyEdits=!1,v}enable(){let w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}focus(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),w.preventScroll||this.scrollSelectionIntoView()}format(w,v){return bc.call(this,()=>{const ue=this.getSelection(!0);let Ge=new Mr;if(null==ue)return Ge;if(this.scroll.query(w,Br.BLOCK))Ge=this.editor.formatLine(ue.index,ue.length,{[w]:v});else{if(0===ue.length)return this.selection.format(w,v),Ge;Ge=this.editor.formatText(ue.index,ue.length,{[w]:v})}return this.setSelection(ue,os.sources.SILENT),Ge},arguments.length>2&&void 0!==arguments[2]?arguments[2]:os.sources.API)}formatLine(w,v,M,ue,Ge){let at;return[w,v,at,Ge]=sh(w,v,M,ue,Ge),bc.call(this,()=>this.editor.formatLine(w,v,at),Ge,w,0)}formatText(w,v,M,ue,Ge){let at;return[w,v,at,Ge]=sh(w,v,M,ue,Ge),bc.call(this,()=>this.editor.formatText(w,v,at),Ge,w,0)}getBounds(w){let M=null;if(M="number"==typeof w?this.selection.getBounds(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(w.index,w.length),!M)return null;const ue=this.container.getBoundingClientRect();return{bottom:M.bottom-ue.top,height:M.height,left:M.left-ue.left,right:M.right-ue.left,top:M.top-ue.top,width:M.width}}getContents(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-w;return[w,v]=sh(w,v),this.editor.getContents(w,v)}getFormat(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof w?this.editor.getFormat(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(w.index,w.length)}getIndex(w){return w.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(w){return this.scroll.leaf(w)}getLine(w){return this.scroll.line(w)}getLines(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof w?this.scroll.lines(w.index,w.length):this.scroll.lines(w,v)}getModule(w){return this.theme.modules[w]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1?arguments[1]:void 0;return"number"==typeof w&&(v=v??this.getLength()-w),[w,v]=sh(w,v),this.editor.getHTML(w,v)}getText(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1?arguments[1]:void 0;return"number"==typeof w&&(v=v??this.getLength()-w),[w,v]=sh(w,v),this.editor.getText(w,v)}hasFocus(){return this.selection.hasFocus()}insertEmbed(w,v,M){return bc.call(this,()=>this.editor.insertEmbed(w,v,M),arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pi.sources.API,w)}insertText(w,v,M,ue,Ge){let at;return[w,,at,Ge]=sh(w,0,M,ue,Ge),bc.call(this,()=>this.editor.insertText(w,v,at),Ge,w,v.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(w,v,M){return[w,v,,M]=sh(w,v,M),bc.call(this,()=>this.editor.removeFormat(w,v),M,w)}scrollRectIntoView(w){(($,w)=>{const v=$.ownerDocument;let M=w,ue=$;for(;ue;){const Ge=ue===v.body,at=Ge?{top:0,right:window.visualViewport?.width??v.documentElement.clientWidth,bottom:window.visualViewport?.height??v.documentElement.clientHeight,left:0}:lx(ue),zt=getComputedStyle(ue),Dn=cx(M.left,M.right,at.left,at.right,ay(zt.scrollPaddingLeft),ay(zt.scrollPaddingRight)),ri=cx(M.top,M.bottom,at.top,at.bottom,ay(zt.scrollPaddingTop),ay(zt.scrollPaddingBottom));if(Dn||ri)if(Ge)v.defaultView?.scrollBy(Dn,ri);else{const{scrollLeft:Ui,scrollTop:gr}=ue;ri&&(ue.scrollTop+=ri),Dn&&(ue.scrollLeft+=Dn);const jr=ue.scrollLeft-Ui,Gs=ue.scrollTop-gr;M={left:M.left-jr,top:M.top-Gs,right:M.right-jr,bottom:M.bottom-Gs}}ue=Ge||"fixed"===zt.position?null:ax(ue)}})(this.root,w)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const w=this.selection.lastRange,v=w&&this.selection.getBounds(w.index,w.length);v&&this.scrollRectIntoView(v)}setContents(w){return bc.call(this,()=>{w=new Mr(w);const M=this.getLength(),ue=this.editor.deleteText(0,M),Ge=this.editor.insertContents(0,w),at=this.editor.deleteText(this.getLength()-1,1);return ue.compose(Ge).compose(at)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:os.sources.API)}setSelection(w,v,M){null==w?this.selection.setRange(null,v||Pi.sources.API):([w,v,,M]=sh(w,v,M),this.selection.setRange(new rd(Math.max(0,w),v),M),M!==os.sources.SILENT&&this.scrollSelectionIntoView())}setText(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:os.sources.API;const M=(new Mr).insert(w);return this.setContents(M,v)}update(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os.sources.USER;const v=this.scroll.update(w);return this.selection.update(w),v}updateContents(w){return bc.call(this,()=>(w=new Mr(w),this.editor.applyDelta(w)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:os.sources.API,!0)}}function ux($){return"string"==typeof $?document.querySelector($):$}function Up($){return Object.entries($??{}).reduce((w,v)=>{let[M,ue]=v;return{...w,[M]:!0===ue?{}:ue}},{})}function ly($){return Object.fromEntries(Object.entries($).filter(w=>void 0!==w[1]))}function bc($,w,v,M){if(!this.isEnabled()&&w===os.sources.USER&&!this.allowReadOnlyEdits)return new Mr;let ue=null==v?null:this.getSelection();const Ge=this.editor.delta,at=$();if(null!=ue&&(!0===v&&(v=ue.index),null==M?ue=zp(ue,at,w):0!==M&&(ue=zp(ue,v,M,w)),this.setSelection(ue,os.sources.SILENT)),at.length()>0){const zt=[os.events.TEXT_CHANGE,at,Ge,w];this.emitter.emit(os.events.EDITOR_CHANGE,...zt),w!==os.sources.SILENT&&this.emitter.emit(...zt)}return at}function sh($,w,v,M,ue){let Ge={};return"number"==typeof $.index&&"number"==typeof $.length?"number"!=typeof w?(ue=M,M=v,v=w,w=$.length,$=$.index):(w=$.length,$=$.index):"number"!=typeof w&&(ue=M,M=v,v=w,w=0),"object"==typeof v?(Ge=v,ue=M):"string"==typeof v&&(null!=M?Ge[v]=M:ue=v),[$,w,Ge,ue=ue||os.sources.API]}function zp($,w,v,M){const ue="number"==typeof v?v:0;if(null==$)return null;let Ge,at;return[Ge,at]=[$.index,$.index+$.length].map(w&&"function"==typeof w.transformPosition?zt=>w.transformPosition(zt,M!==os.sources.USER):zt=>zt<w||zt===w&&M===os.sources.USER?zt:ue>=0?zt+ue:Math.max(w,zt+ue)),new rd(Ge,at-Ge)}const $h=class uy extends Zu{};function jp($){return $ instanceof Xa||$ instanceof nd}function Lm($){return"function"==typeof $.updateContent}function $m($,w,v){v.reduce((M,ue)=>{const Ge=Mr.Op.length(ue);let at=ue.attributes||{};if(null!=ue.insert)if("string"==typeof ue.insert){$.insertAt(M,ue.insert);const[Dn]=$.descendant(Eo,M),ri=id(Dn);at=Mr.AttributeMap.diff(ri,at)||{}}else if("object"==typeof ue.insert){const zt=Object.keys(ue.insert)[0];if(null==zt)return M;if($.insertAt(M,zt,ue.insert[zt]),null!=$.scroll.query(zt,Br.INLINE)){const[ri]=$.descendant(Eo,M),Ui=id(ri);at=Mr.AttributeMap.diff(Ui,at)||{}}}return Object.keys(at).forEach(zt=>{$.formatAt(M,Ge,zt,at[zt])}),M+Ge},w)}const Kg=(()=>class $ extends Cc{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Xa;static allowedChildren=[Xa,nd,$h];constructor(v,M,ue){let{emitter:Ge}=ue;super(v,M),this.emitter=Ge,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",at=>this.handleDragStart(at))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const v=this.batch;this.batch=!1,this.update(v)}emitMount(v){this.emitter.emit(os.events.SCROLL_BLOT_MOUNT,v)}emitUnmount(v){this.emitter.emit(os.events.SCROLL_BLOT_UNMOUNT,v)}emitEmbedUpdate(v,M){this.emitter.emit(os.events.SCROLL_EMBED_UPDATE,v,M)}deleteAt(v,M){const[ue,Ge]=this.line(v),[at]=this.line(v+M);if(super.deleteAt(v,M),null!=at&&ue!==at&&Ge>0){if(ue instanceof nd||at instanceof nd)return void this.optimize();ue.moveChildren(at,at.children.head instanceof rh?null:at.children.head),ue.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(v,M,ue,Ge){super.formatAt(v,M,ue,Ge),this.optimize()}insertAt(v,M,ue){if(v>=this.length())if(null==ue||null==this.scroll.query(M,Br.BLOCK)){const Ge=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(Ge),null==ue&&M.endsWith("\n")?Ge.insertAt(0,M.slice(0,-1),ue):Ge.insertAt(0,M,ue)}else{const Ge=this.scroll.create(M,ue);this.appendChild(Ge)}else super.insertAt(v,M,ue);this.optimize()}insertBefore(v,M){if(v.statics.scope===Br.INLINE_BLOT){const ue=this.scroll.create(this.statics.defaultChild.blotName);ue.appendChild(v),super.insertBefore(ue,M)}else super.insertBefore(v,M)}insertContents(v,M){const ue=this.deltaToRenderBlocks(M.concat((new Mr).insert("\n"))),Ge=ue.pop();if(null==Ge)return;this.batchStart();const at=ue.shift();if(at){const ri="block"===at.type&&(0===at.delta.length()||!this.descendant(nd,v)[0]&&v<this.length()),Ui="block"===at.type?at.delta:(new Mr).insert({[at.key]:at.value});$m(this,v,Ui);const gr="block"===at.type?1:0,jr=v+Ui.length()+gr;ri&&this.insertAt(jr-1,"\n");const Gs=id(this.line(v)[0]),Ks=Mr.AttributeMap.diff(Gs,at.attributes)||{};Object.keys(Ks).forEach($o=>{this.formatAt(jr-1,1,$o,Ks[$o])}),v=jr}let[zt,Dn]=this.children.find(v);ue.length&&(zt&&(zt=zt.split(Dn),Dn=0),ue.forEach(ri=>{if("block"===ri.type)$m(this.createBlock(ri.attributes,zt||void 0),0,ri.delta);else{const Ui=this.create(ri.key,ri.value);this.insertBefore(Ui,zt||void 0),Object.keys(ri.attributes).forEach(gr=>{Ui.format(gr,ri.attributes[gr])})}})),"block"===Ge.type&&Ge.delta.length()&&$m(this,zt?zt.offset(zt.scroll)+Dn:this.length(),Ge.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(v){const M=this.path(v).pop();if(!M)return[null,-1];const[ue,Ge]=M;return ue instanceof Eo?[ue,Ge]:[null,-1]}line(v){return v===this.length()?this.line(v-1):this.descendant(jp,v)}lines(){const ue=(Ge,at,zt)=>{let Dn=[],ri=zt;return Ge.children.forEachAt(at,zt,(Ui,gr,jr)=>{jp(Ui)?Dn.push(Ui):Ui instanceof Zu&&(Dn=Dn.concat(ue(Ui,gr,ri))),ri-=jr}),Dn};return ue(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(v,M),v.length>0&&this.emitter.emit(os.events.SCROLL_OPTIMIZE,v,M))}path(v){return super.path(v).slice(1)}remove(){}update(v){if(this.batch)return void(Array.isArray(v)&&(this.batch=this.batch.concat(v)));let M=os.sources.USER;"string"==typeof v&&(M=v),Array.isArray(v)||(v=this.observer.takeRecords()),(v=v.filter(ue=>{let{target:Ge}=ue;const at=this.find(Ge,!0);return at&&!Lm(at)})).length>0&&this.emitter.emit(os.events.SCROLL_BEFORE_UPDATE,M,v),super.update(v.concat([])),v.length>0&&this.emitter.emit(os.events.SCROLL_UPDATE,M,v)}updateEmbedAt(v,M,ue){const[Ge]=this.descendant(at=>at instanceof nd,v);Ge&&Ge.statics.blotName===M&&Lm(Ge)&&Ge.updateContent(ue)}handleDragStart(v){v.preventDefault()}deltaToRenderBlocks(v){const M=[];let ue=new Mr;return v.forEach(Ge=>{const at=Ge?.insert;if(at)if("string"==typeof at){const zt=at.split("\n");zt.slice(0,-1).forEach(ri=>{ue.insert(ri,Ge.attributes),M.push({type:"block",delta:ue,attributes:Ge.attributes??{}}),ue=new Mr});const Dn=zt[zt.length-1];Dn&&ue.insert(Dn,Ge.attributes)}else{const zt=Object.keys(at)[0];if(!zt)return;this.query(zt,Br.INLINE)?ue.push(Ge):(ue.length()&&M.push({type:"block",delta:ue,attributes:{}}),ue=new Mr,M.push({type:"blockEmbed",key:zt,value:at[zt],attributes:Ge.attributes??{}}))}}),ue.length()&&M.push({type:"block",delta:ue,attributes:{}}),M}createBlock(v,M){let ue;const Ge={};Object.entries(v).forEach(Dn=>{let[ri,Ui]=Dn;null!=this.query(ri,Br.BLOCK&Br.BLOT)?ue=ri:Ge[ri]=Ui});const at=this.create(ue||this.statics.defaultChild.blotName,ue?v[ue]:void 0);this.insertBefore(at,M||void 0);const zt=at.length();return Object.entries(Ge).forEach(Dn=>{let[ri,Ui]=Dn;at.formatAt(0,zt,ri,Ui)}),at}})(),Wp={scope:Br.BLOCK,whitelist:["right","center","justify"]},Bm=new ua("align","align",Wp),Xg=new Ao("align","ql-align",Wp),Vm=new Ma("align","text-align",Wp);class Bh extends Ma{value(w){let v=super.value(w);return v.startsWith("rgb(")?(v=v.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${v.split(",").map(ue=>`00${parseInt(ue,10).toString(16)}`.slice(-2)).join("")}`):v}}const dx=new Ao("color","ql-color",{scope:Br.INLINE}),qg=new Bh("color","color",{scope:Br.INLINE}),dy=new Ao("background","ql-bg",{scope:Br.INLINE}),hf=new Bh("background","background-color",{scope:Br.INLINE});class od extends $h{static create(w){const v=super.create(w);return v.setAttribute("spellcheck","false"),v}code(w,v){return this.children.map(M=>M.length()<=1?"":M.domNode.innerText).join("\n").slice(w,w+v)}html(w,v){return`<pre>\n${Jl(this.code(w,v))}\n</pre>`}}let fa=(()=>class $ extends Xa{static TAB="  ";static register(){Pi.register(od)}})(),hx=(()=>{class $ extends Bs{}return $.blotName="code",$.tagName="CODE",$})();fa.blotName="code-block",fa.className="ql-code-block",fa.tagName="DIV",od.blotName="code-block-container",od.className="ql-code-block-container",od.tagName="DIV",od.allowedChildren=[fa],fa.allowedChildren=[Pa,rh,Mp],fa.requiredContainer=od;const Yg={scope:Br.BLOCK,whitelist:["rtl"]},Hp=new ua("direction","dir",Yg),cv=new Ao("direction","ql-direction",Yg),Gp=new Ma("direction","direction",Yg),Um={scope:Br.INLINE,whitelist:["serif","monospace"]},Yf=new Ao("font","ql-font",Um),zm=new class uv extends Ma{value(w){return super.value(w).replace(/["']/g,"")}}("font","font-family",Um),jm=new Ao("size","ql-size",{scope:Br.INLINE,whitelist:["small","large","huge"]}),Qg=new Ma("size","font-size",{scope:Br.INLINE,whitelist:["10px","18px","32px"]}),fx=cf("quill:keyboard"),dv=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Zg extends Bd{static match(w,v){return!["altKey","ctrlKey","metaKey","shiftKey"].some(M=>!!v[M]!==w[M]&&null!==v[M])&&(v.key===w.key||v.key===w.which)}constructor(w,v){super(w,v),this.bindings={},Object.keys(this.options.bindings).forEach(M=>{this.options.bindings[M]&&this.addBinding(this.options.bindings[M])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ue=function Jg($){if("string"==typeof $||"number"==typeof $)$={key:$};else{if("object"!=typeof $)return null;$=Oh($)}return $.shortKey&&($[dv]=$.shortKey,delete $.shortKey),$}(w);null!=ue?("function"==typeof v&&(v={handler:v}),"function"==typeof M&&(M={handler:M}),(Array.isArray(ue.key)?ue.key:[ue.key]).forEach(at=>{const zt={...ue,key:at,...v,...M};this.bindings[zt.key]=this.bindings[zt.key]||[],this.bindings[zt.key].push(zt)})):fx.warn("Attempted to add invalid keyboard binding",ue)}listen(){this.quill.root.addEventListener("keydown",w=>{if(w.defaultPrevented||w.isComposing||229===w.keyCode&&("Enter"===w.key||"Backspace"===w.key))return;const ue=(this.bindings[w.key]||[]).concat(this.bindings[w.which]||[]).filter(ks=>Zg.match(w,ks));if(0===ue.length)return;const Ge=Pi.find(w.target,!0);if(Ge&&Ge.scroll!==this.quill.scroll)return;const at=this.quill.getSelection();if(null==at||!this.quill.hasFocus())return;const[zt,Dn]=this.quill.getLine(at.index),[ri,Ui]=this.quill.getLeaf(at.index),[gr,jr]=0===at.length?[ri,Ui]:this.quill.getLeaf(at.index+at.length),Gs=ri instanceof Au?ri.value().slice(0,Ui):"",Ks=gr instanceof Au?gr.value().slice(jr):"",$o={collapsed:0===at.length,empty:0===at.length&&zt.length()<=1,format:this.quill.getFormat(at),line:zt,offset:Dn,prefix:Gs,suffix:Ks,event:w};ue.some(ks=>{if(null!=ks.collapsed&&ks.collapsed!==$o.collapsed||null!=ks.empty&&ks.empty!==$o.empty||null!=ks.offset&&ks.offset!==$o.offset)return!1;if(Array.isArray(ks.format)){if(ks.format.every(il=>null==$o.format[il]))return!1}else if("object"==typeof ks.format&&!Object.keys(ks.format).every(il=>!0===ks.format[il]?null!=$o.format[il]:!1===ks.format[il]?null==$o.format[il]:Vr(ks.format[il],$o.format[il])))return!1;return!(null!=ks.prefix&&!ks.prefix.test($o.prefix)||null!=ks.suffix&&!ks.suffix.test($o.suffix))&&!0!==ks.handler.call(this,at,$o,ks)})&&w.preventDefault()})}handleBackspace(w,v){const M=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(v.prefix)?2:1;if(0===w.index||this.quill.getLength()<=1)return;let ue={};const[Ge]=this.quill.getLine(w.index);let at=(new Mr).retain(w.index-M).delete(M);if(0===v.offset){const[zt]=this.quill.getLine(w.index-1);if(zt&&!("block"===zt.statics.blotName&&zt.length()<=1)){const ri=Ge.formats(),Ui=this.quill.getFormat(w.index-1,1);if(ue=Mr.AttributeMap.diff(ri,Ui)||{},Object.keys(ue).length>0){const gr=(new Mr).retain(w.index+Ge.length()-2).retain(1,ue);at=at.compose(gr)}}}this.quill.updateContents(at,Pi.sources.USER),this.quill.focus()}handleDelete(w,v){const M=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(v.suffix)?2:1;if(w.index>=this.quill.getLength()-M)return;let ue={};const[Ge]=this.quill.getLine(w.index);let at=(new Mr).retain(w.index).delete(M);if(v.offset>=Ge.length()-1){const[zt]=this.quill.getLine(w.index+1);if(zt){const Dn=Ge.formats(),ri=this.quill.getFormat(w.index,1);ue=Mr.AttributeMap.diff(Dn,ri)||{},Object.keys(ue).length>0&&(at=at.retain(zt.length()-1).retain(1,ue))}}this.quill.updateContents(at,Pi.sources.USER),this.quill.focus()}handleDeleteRange(w){Nu({range:w,quill:this.quill}),this.quill.focus()}handleEnter(w,v){const M=Object.keys(v.format).reduce((Ge,at)=>(this.quill.scroll.query(at,Br.BLOCK)&&!Array.isArray(v.format[at])&&(Ge[at]=v.format[at]),Ge),{}),ue=(new Mr).retain(w.index).delete(w.length).insert("\n",M);this.quill.updateContents(ue,Pi.sources.USER),this.quill.setSelection(w.index+1,Pi.sources.SILENT),this.quill.focus()}}const hy={bindings:{bold:fy("bold"),italic:fy("italic"),underline:fy("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler($,w){return!(!w.collapsed||0===w.offset)||(this.quill.format("indent","+1",Pi.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler($,w){return!(!w.collapsed||0===w.offset)||(this.quill.format("indent","-1",Pi.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler($,w){null!=w.format.indent?this.quill.format("indent","-1",Pi.sources.USER):null!=w.format.list&&this.quill.format("list",!1,Pi.sources.USER)}},"indent code-block":hv(!0),"outdent code-block":hv(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler($){this.quill.deleteText($.index-1,1,Pi.sources.USER)}},tab:{key:"Tab",handler($,w){if(w.format.table)return!0;this.quill.history.cutoff();const v=(new Mr).retain($.index).delete($.length).insert("\t");return this.quill.updateContents(v,Pi.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index+1,Pi.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Pi.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler($,w){const v={list:!1};w.format.indent&&(v.indent=!1),this.quill.formatLine($.index,$.length,v,Pi.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler($){const[w,v]=this.quill.getLine($.index),M={...w.formats(),list:"checked"},ue=(new Mr).retain($.index).insert("\n",M).retain(w.length()-v-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,Pi.sources.USER),this.quill.setSelection($.index+1,Pi.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler($,w){const[v,M]=this.quill.getLine($.index),ue=(new Mr).retain($.index).insert("\n",w.format).retain(v.length()-M-1).retain(1,{header:null});this.quill.updateContents(ue,Pi.sources.USER),this.quill.setSelection($.index+1,Pi.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler($){const w=this.quill.getModule("table");if(w){const[v,M,ue,Ge]=w.getTable($),at=function oh($,w,v,M){return null==w.prev&&null==w.next?null==v.prev&&null==v.next?0===M?-1:1:null==v.prev?-1:1:null==w.prev?-1:null==w.next?1:null}(0,M,ue,Ge);if(null==at)return;let zt=v.offset();if(at<0){const Dn=(new Mr).retain(zt).insert("\n");this.quill.updateContents(Dn,Pi.sources.USER),this.quill.setSelection($.index+1,$.length,Pi.sources.SILENT)}else if(at>0){zt+=v.length();const Dn=(new Mr).retain(zt).insert("\n");this.quill.updateContents(Dn,Pi.sources.USER),this.quill.setSelection(zt,Pi.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler($,w){const{event:v,line:M}=w,ue=M.offset(this.quill.scroll);this.quill.setSelection(v.shiftKey?ue-1:ue+M.length(),Pi.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler($,w){if(null==this.quill.scroll.query("list"))return!0;const{length:v}=w.prefix,[M,ue]=this.quill.getLine($.index);if(ue>v)return!0;let Ge;switch(w.prefix.trim()){case"[]":case"[ ]":Ge="unchecked";break;case"[x]":Ge="checked";break;case"-":case"*":Ge="bullet";break;default:Ge="ordered"}this.quill.insertText($.index," ",Pi.sources.USER),this.quill.history.cutoff();const at=(new Mr).retain($.index-ue).delete(v+1).retain(M.length()-2-ue).retain(1,{list:Ge});return this.quill.updateContents(at,Pi.sources.USER),this.quill.history.cutoff(),this.quill.setSelection($.index-v,Pi.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler($){const[w,v]=this.quill.getLine($.index);let M=2,ue=w;for(;null!=ue&&ue.length()<=1&&ue.formats()["code-block"];)if(ue=ue.prev,M-=1,M<=0){const Ge=(new Mr).retain($.index+w.length()-v-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(Ge,Pi.sources.USER),this.quill.setSelection($.index-1,Pi.sources.SILENT),!1}return!0}},"embed left":Kp("ArrowLeft",!1),"embed left shift":Kp("ArrowLeft",!0),"embed right":Kp("ArrowRight",!1),"embed right shift":Kp("ArrowRight",!0),"table down":py(!1),"table up":py(!0)}};function hv($){return{key:"Tab",shiftKey:!$,format:{"code-block":!0},handler(w,v){let{event:M}=v;const ue=this.quill.scroll.query("code-block"),{TAB:Ge}=ue;if(0===w.length&&!M.shiftKey)return this.quill.insertText(w.index,Ge,Pi.sources.USER),void this.quill.setSelection(w.index+Ge.length,Pi.sources.SILENT);const at=0===w.length?this.quill.getLines(w.index,1):this.quill.getLines(w);let{index:zt,length:Dn}=w;at.forEach((ri,Ui)=>{$?(ri.insertAt(0,Ge),0===Ui?zt+=Ge.length:Dn+=Ge.length):ri.domNode.textContent.startsWith(Ge)&&(ri.deleteAt(0,Ge.length),0===Ui?zt-=Ge.length:Dn-=Ge.length)}),this.quill.update(Pi.sources.USER),this.quill.setSelection(zt,Dn,Pi.sources.SILENT)}}}function Kp($,w){return{key:$,shiftKey:w,altKey:null,["ArrowLeft"===$?"prefix":"suffix"]:/^$/,handler(M){let{index:ue}=M;"ArrowRight"===$&&(ue+=M.length+1);const[Ge]=this.quill.getLeaf(ue);return!(Ge instanceof Ra&&("ArrowLeft"===$?w?this.quill.setSelection(M.index-1,M.length+1,Pi.sources.USER):this.quill.setSelection(M.index-1,Pi.sources.USER):w?this.quill.setSelection(M.index,M.length+1,Pi.sources.USER):this.quill.setSelection(M.index+M.length+1,Pi.sources.USER),1))}}}function fy($){return{key:$[0],shortKey:!0,handler(w,v){this.quill.format($,!v.format[$],Pi.sources.USER)}}}function py($){return{key:$?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(w,v){const M=$?"prev":"next",ue=v.line,Ge=ue.parent[M];if(null!=Ge){if("table-row"===Ge.statics.blotName){let at=Ge.children.head,zt=ue;for(;null!=zt.prev;)zt=zt.prev,at=at.next;const Dn=at.offset(this.quill.scroll)+Math.min(v.offset,at.length()-1);this.quill.setSelection(Dn,0,Pi.sources.USER)}}else{const at=ue.table()[M];null!=at&&this.quill.setSelection($?at.offset(this.quill.scroll)+at.length()-1:at.offset(this.quill.scroll),0,Pi.sources.USER)}return!1}}}function Nu($){let{quill:w,range:v}=$;const M=w.getLines(v);let ue={};if(M.length>1){const Ge=M[0].formats(),at=M[M.length-1].formats();ue=Mr.AttributeMap.diff(at,Ge)||{}}w.deleteText(v,Pi.sources.USER),Object.keys(ue).length>0&&w.formatLine(v.index,1,ue,Pi.sources.USER),w.setSelection(v.index,Pi.sources.SILENT)}Zg.DEFAULTS=hy;const ia=/font-weight:\s*normal/,Qf=["P","OL","UL"],fv=$=>$&&Qf.includes($.tagName),Wm=/\bmso-list:[^;]*ignore/i,Zf=/\bmso-list:[^;]*\bl(\d+)/i,Hm=/\bmso-list:[^;]*\blevel(\d+)/i,su=[function ju($){"urn:schemas-microsoft-com:office:word"===$.documentElement.getAttribute("xmlns:w")&&($=>{const w=Array.from($.querySelectorAll("[style*=mso-list]")),v=[],M=[];w.forEach(at=>{(at.getAttribute("style")||"").match(Wm)?v.push(at):M.push(at)}),v.forEach(at=>at.parentNode?.removeChild(at));const ue=$.documentElement.innerHTML,Ge=M.map(at=>(($,w)=>{const v=$.getAttribute("style"),M=v?.match(Zf);if(!M)return null;const ue=Number(M[1]),Ge=v?.match(Hm),at=Ge?Number(Ge[1]):1,zt=new RegExp(`@list l${ue}:level${at}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),Dn=w.match(zt);return{id:ue,indent:at,type:Dn&&"bullet"===Dn[1]?"bullet":"ordered",element:$}})(at,ue)).filter(at=>at);for(;Ge.length;){const at=[];let zt=Ge.shift();for(;zt;)at.push(zt),zt=Ge.length&&Ge[0]?.element===zt.element.nextElementSibling&&Ge[0].id===zt.id?Ge.shift():null;const Dn=document.createElement("ul");at.forEach(gr=>{const jr=document.createElement("li");jr.setAttribute("data-list",gr.type),gr.indent>1&&jr.setAttribute("class","ql-indent-"+(gr.indent-1)),jr.innerHTML=gr.element.innerHTML,Dn.appendChild(jr)});const ri=at[0]?.element,{parentNode:Ui}=ri??{};ri&&Ui?.replaceChild(Dn,ri),at.slice(1).forEach(gr=>{let{element:jr}=gr;Ui?.removeChild(jr)})}})($)},function t_($){$.querySelector('[id^="docs-internal-guid-"]')&&(($=>{Array.from($.querySelectorAll('b[style*="font-weight"]')).filter(w=>w.getAttribute("style")?.match(ia)).forEach(w=>{const v=$.createDocumentFragment();v.append(...w.childNodes),w.parentNode?.replaceChild(v,w)})})($),($=>{Array.from($.querySelectorAll("br")).filter(w=>fv(w.previousElementSibling)&&fv(w.nextElementSibling)).forEach(w=>{w.parentNode?.removeChild(w)})})($))}],Fc=cf("quill:clipboard"),pv=[[Node.TEXT_NODE,function n_($,w,v){let M=$.data;if("O:P"===$.parentElement?.tagName)return w.insert(M.trim());if(!Ro($)){if(0===M.trim().length&&M.includes("\n")&&!function cc($,w){return $.previousElementSibling&&$.nextElementSibling&&!Fa($.previousElementSibling,w)&&!Fa($.nextElementSibling,w)}($,v))return w;const ue=(Ge,at)=>{const zt=at.replace(/[^\u00a0]/g,"");return zt.length<1&&Ge?" ":zt};M=M.replace(/\r\n/g," ").replace(/\n/g," "),M=M.replace(/\s\s+/g,ue.bind(ue,!0)),(null==$.previousSibling&&null!=$.parentElement&&Fa($.parentElement,v)||$.previousSibling instanceof Element&&Fa($.previousSibling,v))&&(M=M.replace(/^\s+/,ue.bind(ue,!1))),(null==$.nextSibling&&null!=$.parentElement&&Fa($.parentElement,v)||$.nextSibling instanceof Element&&Fa($.nextSibling,v))&&(M=M.replace(/\s+$/,ue.bind(ue,!1)))}return w.insert(M)}],[Node.TEXT_NODE,ad],["br",function gy($,w){return Yp(w,"\n")||w.insert("\n"),w}],[Node.ELEMENT_NODE,ad],[Node.ELEMENT_NODE,function Wo($,w,v){const M=v.query($);if(null==M)return w;if(M.prototype instanceof Ra){const ue={},Ge=M.value($);if(null!=Ge)return ue[M.blotName]=Ge,(new Mr).insert(ue,M.formats($,v))}else if(M.prototype instanceof pc&&!Yp(w,"\n")&&w.insert("\n"),"blotName"in M&&"formats"in M&&"function"==typeof M.formats)return ah(w,M.blotName,M.formats($,v),v);return w}],[Node.ELEMENT_NODE,function mv($,w,v){const M=ua.keys($),ue=Ao.keys($),Ge=Ma.keys($),at={};return M.concat(ue).concat(Ge).forEach(zt=>{let Dn=v.query(zt,Br.ATTRIBUTE);null!=Dn&&(at[Dn.attrName]=Dn.value($),at[Dn.attrName])||(Dn=Wn[zt],null!=Dn&&(Dn.attrName===zt||Dn.keyName===zt)&&(at[Dn.attrName]=Dn.value($)||void 0),Dn=mx[zt],null!=Dn&&(Dn.attrName===zt||Dn.keyName===zt)&&(Dn=mx[zt],at[Dn.attrName]=Dn.value($)||void 0))}),Object.entries(at).reduce((zt,Dn)=>{let[ri,Ui]=Dn;return ah(zt,ri,Ui,v)},w)}],[Node.ELEMENT_NODE,function yx($,w,v){const M={},ue=$.style||{};return"italic"===ue.fontStyle&&(M.italic=!0),"underline"===ue.textDecoration&&(M.underline=!0),"line-through"===ue.textDecoration&&(M.strike=!0),(ue.fontWeight?.startsWith("bold")||parseInt(ue.fontWeight,10)>=700)&&(M.bold=!0),w=Object.entries(M).reduce((Ge,at)=>{let[zt,Dn]=at;return ah(Ge,zt,Dn,v)},w),parseFloat(ue.textIndent||0)>0?(new Mr).insert("\t").concat(w):w}],["li",function gv($,w,v){const M=v.query($);if(null==M||"list"!==M.blotName||!Yp(w,"\n"))return w;let ue=-1,Ge=$.parentNode;for(;null!=Ge;)["OL","UL"].includes(Ge.tagName)&&(ue+=1),Ge=Ge.parentNode;return ue<=0?w:w.reduce((at,zt)=>zt.insert?zt.attributes&&"number"==typeof zt.attributes.indent?at.push(zt):at.insert(zt.insert,{indent:ue,...zt.attributes||{}}):at,new Mr)}],["ol, ul",function _x($,w,v){let ue="OL"===$.tagName?"ordered":"bullet";const Ge=$.getAttribute("data-checked");return Ge&&(ue="true"===Ge?"checked":"unchecked"),ah(w,"list",ue,v)}],["pre",function Jf($,w,v){const M=v.query("code-block");return ah(w,"code-block",!M||!("formats"in M)||"function"!=typeof M.formats||M.formats($,v),v)}],["tr",function _v($,w,v){const M="TABLE"===$.parentElement?.tagName?$.parentElement:$.parentElement?.parentElement;return null!=M?ah(w,"table",Array.from(M.querySelectorAll("tr")).indexOf($)+1,v):w}],["b",Wu("bold")],["i",Wu("italic")],["strike",Wu("strike")],["style",function gx(){return new Mr}]],Wn=[Bm,Hp].reduce(($,w)=>($[w.keyName]=w,$),{}),mx=[Vm,hf,qg,Gp,zm,Qg].reduce(($,w)=>($[w.keyName]=w,$),{});let qp=(()=>class $ extends Bd{static DEFAULTS={matchers:[]};constructor(v,M){super(v,M),this.quill.root.addEventListener("copy",ue=>this.onCaptureCopy(ue,!1)),this.quill.root.addEventListener("cut",ue=>this.onCaptureCopy(ue,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],pv.concat(this.options.matchers??[]).forEach(ue=>{let[Ge,at]=ue;this.addMatcher(Ge,at)})}addMatcher(v,M){this.matchers.push([v,M])}convert(v){let{html:M,text:ue}=v,Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ge[fa.blotName])return(new Mr).insert(ue||"",{[fa.blotName]:Ge[fa.blotName]});if(!M)return(new Mr).insert(ue||"",Ge);const at=this.convertHTML(M);return Yp(at,"\n")&&(null==at.ops[at.ops.length-1].attributes||Ge.table)?at.compose((new Mr).retain(at.length()-1).delete(1)):at}normalizeHTML(v){($=>{$.documentElement&&su.forEach(w=>{w($)})})(v)}convertHTML(v){const M=(new DOMParser).parseFromString(v,"text/html");this.normalizeHTML(M);const ue=M.body,Ge=new WeakMap,[at,zt]=this.prepareMatching(ue,Ge);return my(this.quill.scroll,ue,at,zt,Ge)}dangerouslyPasteHTML(v,M){let ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pi.sources.API;if("string"==typeof v){const Ge=this.convert({html:v,text:""});this.quill.setContents(Ge,M),this.quill.setSelection(0,Pi.sources.SILENT)}else{const Ge=this.convert({html:M,text:""});this.quill.updateContents((new Mr).retain(v).concat(Ge),ue),this.quill.setSelection(v+Ge.length(),Pi.sources.SILENT)}}onCaptureCopy(v){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(v.defaultPrevented)return;v.preventDefault();const[ue]=this.quill.selection.getRange();if(null==ue)return;const{html:Ge,text:at}=this.onCopy(ue,M);v.clipboardData?.setData("text/plain",at),v.clipboardData?.setData("text/html",Ge),M&&Nu({range:ue,quill:this.quill})}normalizeURIList(v){return v.split(/\r?\n/).filter(M=>"#"!==M[0]).join("\n")}onCapturePaste(v){if(v.defaultPrevented||!this.quill.isEnabled())return;v.preventDefault();const M=this.quill.getSelection(!0);if(null==M)return;const ue=v.clipboardData?.getData("text/html");let Ge=v.clipboardData?.getData("text/plain");if(!ue&&!Ge){const zt=v.clipboardData?.getData("text/uri-list");zt&&(Ge=this.normalizeURIList(zt))}const at=Array.from(v.clipboardData?.files||[]);if(!ue&&at.length>0)this.quill.uploader.upload(M,at);else{if(ue&&at.length>0){const zt=(new DOMParser).parseFromString(ue,"text/html");if(1===zt.body.childElementCount&&"IMG"===zt.body.firstElementChild?.tagName)return void this.quill.uploader.upload(M,at)}this.onPaste(M,{html:ue,text:Ge})}}onCopy(v){const M=this.quill.getText(v);return{html:this.quill.getSemanticHTML(v),text:M}}onPaste(v,M){let{text:ue,html:Ge}=M;const at=this.quill.getFormat(v.index),zt=this.convert({text:ue,html:Ge},at);Fc.log("onPaste",zt,{text:ue,html:Ge});const Dn=(new Mr).retain(v.index).delete(v.length).concat(zt);this.quill.updateContents(Dn,Pi.sources.USER),this.quill.setSelection(Dn.length()-v.length,Pi.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(v,M){const ue=[],Ge=[];return this.matchers.forEach(at=>{const[zt,Dn]=at;switch(zt){case Node.TEXT_NODE:Ge.push(Dn);break;case Node.ELEMENT_NODE:ue.push(Dn);break;default:Array.from(v.querySelectorAll(zt)).forEach(ri=>{M.has(ri)?M.get(ri)?.push(Dn):M.set(ri,[Dn])})}}),[ue,Ge]}})();function ah($,w,v,M){return M.query(w)?$.reduce((ue,Ge)=>Ge.insert?Ge.attributes&&Ge.attributes[w]?ue.push(Ge):ue.insert(Ge.insert,{...v?{[w]:v}:{},...Ge.attributes}):ue,new Mr):$}function Yp($,w){let v="";for(let M=$.ops.length-1;M>=0&&v.length<w.length;--M){const ue=$.ops[M];if("string"!=typeof ue.insert)break;v=ue.insert+v}return v.slice(-1*w.length)===w}function Fa($,w){if(!($ instanceof Element))return!1;const v=w.query($);return!(v&&v.prototype instanceof Ra)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes($.tagName.toLowerCase())}const Qp=new WeakMap;function Ro($){return null!=$&&(Qp.has($)||Qp.set($,"PRE"===$.tagName||Ro($.parentNode)),Qp.get($))}function my($,w,v,M,ue){return w.nodeType===w.TEXT_NODE?M.reduce((Ge,at)=>at(w,Ge,$),new Mr):w.nodeType===w.ELEMENT_NODE?Array.from(w.childNodes||[]).reduce((Ge,at)=>{let zt=my($,at,v,M,ue);return at.nodeType===w.ELEMENT_NODE&&(zt=v.reduce((Dn,ri)=>ri(at,Dn,$),zt),zt=(ue.get(at)||[]).reduce((Dn,ri)=>ri(at,Dn,$),zt)),Ge.concat(zt)},new Mr):new Mr}function Wu($){return(w,v,M)=>ah(v,$,!0,M)}function ad($,w,v){if(!Yp(w,"\n")){if(Fa($,v)&&($.childNodes.length>0||$ instanceof HTMLParagraphElement))return w.insert("\n");if(w.length()>0&&$.nextSibling){let M=$.nextSibling;for(;null!=M;){if(Fa(M,v))return w.insert("\n");const ue=v.query(M);if(ue&&ue.prototype instanceof nd)return w.insert("\n");M=M.firstChild}}}return w}let HS=(()=>class $ extends Bd{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(v,M){super(v,M),this.quill.on(Pi.events.EDITOR_CHANGE,(ue,Ge,at,zt)=>{ue===Pi.events.SELECTION_CHANGE?Ge&&zt!==Pi.sources.SILENT&&(this.currentRange=Ge):ue===Pi.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&zt!==Pi.sources.USER?this.transform(Ge):this.record(Ge,at)),this.currentRange=_y(this.currentRange,Ge))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",ue=>{"historyUndo"===ue.inputType?(this.undo(),ue.preventDefault()):"historyRedo"===ue.inputType&&(this.redo(),ue.preventDefault())})}change(v,M){if(0===this.stack[v].length)return;const ue=this.stack[v].pop();if(!ue)return;const Ge=this.quill.getContents(),at=ue.delta.invert(Ge);this.stack[M].push({delta:at,range:_y(ue.range,at)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ue.delta,Pi.sources.USER),this.ignoreChange=!1,this.restoreSelection(ue)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(v,M){if(0===v.ops.length)return;this.stack.redo=[];let ue=v.invert(M),Ge=this.currentRange;const at=Date.now();if(this.lastRecorded+this.options.delay>at&&this.stack.undo.length>0){const zt=this.stack.undo.pop();zt&&(ue=ue.compose(zt.delta),Ge=zt.range)}else this.lastRecorded=at;0!==ue.length()&&(this.stack.undo.push({delta:ue,range:Ge}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(v){yv(this.stack.undo,v),yv(this.stack.redo,v)}undo(){this.change("undo","redo")}restoreSelection(v){if(v.range)this.quill.setSelection(v.range,Pi.sources.USER);else{const M=function bx($,w){const v=w.reduce((ue,Ge)=>ue+(Ge.delete||0),0);let M=w.length()-v;return function GS($,w){const v=w.ops[w.ops.length-1];return null!=v&&(null!=v.insert?"string"==typeof v.insert&&v.insert.endsWith("\n"):null!=v.attributes&&Object.keys(v.attributes).some(M=>null!=$.query(M,Br.BLOCK)))}($,w)&&(M-=1),M}(this.quill.scroll,v.delta);this.quill.setSelection(M,Pi.sources.USER)}}})();function yv($,w){let v=w;for(let M=$.length-1;M>=0;M-=1){const ue=$[M];$[M]={delta:v.transform(ue.delta,!0),range:ue.range&&_y(ue.range,v)},v=ue.delta.transform(v),0===$[M].delta.length()&&$.splice(M,1)}}function _y($,w){if(!$)return $;const v=w.transformPosition($.index);return{index:v,length:w.transformPosition($.index+$.length)-v}}const Km=(()=>{class $ extends Bd{constructor(v,M){super(v,M),v.root.addEventListener("drop",ue=>{ue.preventDefault();let Ge=null;if(document.caretRangeFromPoint)Ge=document.caretRangeFromPoint(ue.clientX,ue.clientY);else if(document.caretPositionFromPoint){const zt=document.caretPositionFromPoint(ue.clientX,ue.clientY);Ge=document.createRange(),Ge.setStart(zt.offsetNode,zt.offset),Ge.setEnd(zt.offsetNode,zt.offset)}const at=Ge&&v.selection.normalizeNative(Ge);if(at){const zt=v.selection.normalizedToRange(at);ue.dataTransfer?.files&&this.upload(zt,ue.dataTransfer.files)}})}upload(v,M){const ue=[];Array.from(M).forEach(Ge=>{Ge&&this.options.mimetypes?.includes(Ge.type)&&ue.push(Ge)}),ue.length>0&&this.options.handler.call(this,v,ue)}}return $.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(w,v){if(!this.quill.scroll.query("image"))return;const M=v.map(ue=>new Promise(Ge=>{const at=new FileReader;at.onload=()=>{Ge(at.result)},at.readAsDataURL(ue)}));Promise.all(M).then(ue=>{const Ge=ue.reduce((at,zt)=>at.insert({image:zt}),(new Mr).retain(w.index).delete(w.length));this.quill.updateContents(Ge,os.sources.USER),this.quill.setSelection(w.index+ue.length,os.sources.SILENT)})}},$})(),yy=["insertText","insertReplacementText"],wx=/Mac/i.test(navigator.platform);Pi.register({"blots/block":Xa,"blots/block/embed":nd,"blots/break":rh,"blots/container":$h,"blots/cursor":Mp,"blots/embed":df,"blots/inline":Bs,"blots/scroll":Kg,"blots/text":Pa,"modules/clipboard":qp,"modules/history":HS,"modules/keyboard":Zg,"modules/uploader":Km,"modules/input":class vx extends Bd{constructor(w,v){super(w,v),w.root.addEventListener("beforeinput",M=>{this.handleBeforeInput(M)}),/Android/i.test(navigator.userAgent)||w.on(Pi.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(w){Nu({range:w,quill:this.quill})}replaceText(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===w.length)return!1;if(v){const M=this.quill.getFormat(w.index,1);this.deleteRange(w),this.quill.updateContents((new Mr).retain(w.index).insert(v,M),Pi.sources.USER)}else this.deleteRange(w);return this.quill.setSelection(w.index+v.length,0,Pi.sources.SILENT),!0}handleBeforeInput(w){if(this.quill.composition.isComposing||w.defaultPrevented||!yy.includes(w.inputType))return;const v=w.getTargetRanges?w.getTargetRanges()[0]:null;if(!v||!0===v.collapsed)return;const M=function i_($){return"string"==typeof $.data?$.data:$.dataTransfer?.types.includes("text/plain")?$.dataTransfer.getData("text/plain"):null}(w);if(null==M)return;const ue=this.quill.selection.normalizeNative(v),Ge=ue?this.quill.selection.normalizedToRange(ue):null;Ge&&this.replaceText(Ge,M)&&w.preventDefault()}handleCompositionStart(){const w=this.quill.getSelection();w&&this.replaceText(w)}},"modules/uiNode":class qm extends Bd{isListening=!1;selectionChangeDeadline=0;constructor(w,v){super(w,v),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(w,v){let{line:M,event:ue}=v;if(!(M instanceof da&&M.uiNode))return!0;const Ge="rtl"===getComputedStyle(M.domNode).direction;return!!(Ge&&"ArrowRight"!==ue.key||!Ge&&"ArrowLeft"!==ue.key)||(this.quill.setSelection(w.index-1,w.length+(ue.shiftKey?1:0),Pi.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",w=>{!w.defaultPrevented&&($=>!!("ArrowLeft"===$.key||"ArrowRight"===$.key||"ArrowUp"===$.key||"ArrowDown"===$.key||"Home"===$.key||wx&&"a"===$.key&&!0===$.ctrlKey))(w)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const w=document.getSelection();if(!w)return;const v=w.getRangeAt(0);if(!0!==v.collapsed||0!==v.startOffset)return;const M=this.quill.scroll.find(v.startContainer);if(!(M instanceof da&&M.uiNode))return;const ue=document.createRange();ue.setStartAfter(M.uiNode),ue.setEndAfter(M.uiNode),w.removeAllRanges(),w.addRange(ue)}}});const r_=Pi,bv=new class xu extends Ao{add(w,v){let M=0;if("+1"===v||"-1"===v){const ue=this.value(w)||0;M="+1"===v?ue+1:ue-1}else"number"==typeof v&&(M=v);return 0===M?(this.remove(w),!0):super.add(w,M.toString())}canAdd(w,v){return super.canAdd(w,v)||super.canAdd(w,parseInt(v,10))}value(w){return parseInt(super.value(w),10)||void 0}}("indent","ql-indent",{scope:Br.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),vy=(()=>class $ extends Xa{static blotName="blockquote";static tagName="blockquote"})(),wv=(()=>class $ extends Xa{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(v){return this.tagName.indexOf(v.tagName)+1}})();let Eu=(()=>{class $ extends $h{}return $.blotName="list-container",$.tagName="OL",$})(),em=(()=>{class $ extends Xa{static create(v){const M=super.create();return M.setAttribute("data-list",v),M}static formats(v){return v.getAttribute("data-list")||void 0}static register(){Pi.register(Eu)}constructor(v,M){super(v,M);const ue=M.ownerDocument.createElement("span"),Ge=at=>{if(!v.isEnabled())return;const zt=this.statics.formats(M,v);"checked"===zt?(this.format("list","unchecked"),at.preventDefault()):"unchecked"===zt&&(this.format("list","checked"),at.preventDefault())};ue.addEventListener("mousedown",Ge),ue.addEventListener("touchstart",Ge),this.attachUI(ue)}format(v,M){v===this.statics.blotName&&M?this.domNode.setAttribute("data-list",M):super.format(v,M)}}return $.blotName="list",$.tagName="LI",$})();Eu.allowedChildren=[em],em.requiredContainer=Eu;const ld=(()=>class $ extends Bs{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(v){super.optimize(v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}})(),xv=(()=>class $ extends ld{static blotName="italic";static tagName=["EM","I"]})();let Lc=(()=>class $ extends Bs{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(v){const M=super.create(v);return M.setAttribute("href",this.sanitize(v)),M.setAttribute("rel","noopener noreferrer"),M.setAttribute("target","_blank"),M}static formats(v){return v.getAttribute("href")}static sanitize(v){return Vh(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}format(v,M){v===this.statics.blotName&&M?this.domNode.setAttribute("href",this.constructor.sanitize(M)):super.format(v,M)}})();function Vh($,w){const v=document.createElement("a");v.href=$;const M=v.href.slice(0,v.href.indexOf(":"));return w.indexOf(M)>-1}const s_=(()=>class $ extends Bs{static blotName="script";static tagName=["SUB","SUP"];static create(v){return"super"===v?document.createElement("sup"):"sub"===v?document.createElement("sub"):super.create(v)}static formats(v){return"SUB"===v.tagName?"sub":"SUP"===v.tagName?"super":void 0}})(),wy=(()=>class $ extends ld{static blotName="strike";static tagName=["S","STRIKE"]})(),xy=(()=>class $ extends Bs{static blotName="underline";static tagName="U"})(),Ey=(()=>class $ extends df{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(v){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const M=super.create(v);return"string"==typeof v&&(window.katex.render(v,M,{throwOnError:!1,errorColor:"#f00"}),M.setAttribute("data-value",v)),M}static value(v){return v.getAttribute("data-value")}html(){const{formula:v}=this.value();return`<span>${v}</span>`}})(),Ev=["alt","height","width"],Cx=(()=>class $ extends Ra{static blotName="image";static tagName="IMG";static create(v){const M=super.create(v);return"string"==typeof v&&M.setAttribute("src",this.sanitize(v)),M}static formats(v){return Ev.reduce((M,ue)=>(v.hasAttribute(ue)&&(M[ue]=v.getAttribute(ue)),M),{})}static match(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}static sanitize(v){return Vh(v,["http","https","data"])?v:"//:0"}static value(v){return v.getAttribute("src")}format(v,M){Ev.indexOf(v)>-1?M?this.domNode.setAttribute(v,M):this.domNode.removeAttribute(v):super.format(v,M)}})(),o_=["height","width"],Ym=(()=>class $ extends nd{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(v){const M=super.create(v);return M.setAttribute("frameborder","0"),M.setAttribute("allowfullscreen","true"),M.setAttribute("src",this.sanitize(v)),M}static formats(v){return o_.reduce((M,ue)=>(v.hasAttribute(ue)&&(M[ue]=v.getAttribute(ue)),M),{})}static sanitize(v){return Lc.sanitize(v)}static value(v){return v.getAttribute("src")}format(v,M){o_.indexOf(v)>-1?M?this.domNode.setAttribute(v,M):this.domNode.removeAttribute(v):super.format(v,M)}html(){const{video:v}=this.value();return`<a href="${v}">${v}</a>`}})(),tm=new Ao("code-token","hljs",{scope:Br.INLINE});let lh=(()=>{class $ extends Bs{static formats(v,M){for(;null!=v&&v!==M.domNode;){if(v.classList&&v.classList.contains(fa.className))return super.formats(v,M);v=v.parentNode}}constructor(v,M,ue){super(v,M,ue),tm.add(this.domNode,ue)}format(v,M){v!==$.blotName?super.format(v,M):M?tm.add(this.domNode,M):(tm.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),tm.value(this.domNode)||this.unwrap()}}return $.blotName="code-token",$.className="ql-token",$})();class cd extends fa{static create(w){const v=super.create(w);return"string"==typeof w&&v.setAttribute("data-language",w),v}static formats(w){return w.getAttribute("data-language")||"plain"}static register(){}format(w,v){w===this.statics.blotName&&v?this.domNode.setAttribute("data-language",v):super.format(w,v)}replaceWith(w,v){return this.formatAt(0,this.length(),lh.blotName,!1),super.replaceWith(w,v)}}let tp=(()=>{class $ extends od{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(v,M){v===cd.blotName&&(this.forceNext=!0,this.children.forEach(ue=>{ue.format(v,M)}))}formatAt(v,M,ue,Ge){ue===cd.blotName&&(this.forceNext=!0),super.formatAt(v,M,ue,Ge)}highlight(v){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const Ge=`${Array.from(this.domNode.childNodes).filter(zt=>zt!==this.uiNode).map(zt=>zt.textContent).join("\n")}\n`,at=cd.formats(this.children.head.domNode);if(M||this.forceNext||this.cachedText!==Ge){if(Ge.trim().length>0||null==this.cachedText){const zt=this.children.reduce((ri,Ui)=>ri.concat(Rm(Ui,!1)),new Mr),Dn=v(Ge,at);zt.diff(Dn).reduce((ri,Ui)=>{let{retain:gr,attributes:jr}=Ui;return gr?(jr&&Object.keys(jr).forEach(Gs=>{[cd.blotName,lh.blotName].includes(Gs)&&this.formatAt(ri,gr,Gs,jr[Gs])}),ri+gr):ri},0)}this.cachedText=Ge,this.forceNext=!1}}html(v,M){const[ue]=this.children.find(v);return`<pre data-language="${ue?cd.formats(ue.domNode):"plain"}">\n${Jl(this.code(v,M))}\n</pre>`}optimize(v){if(super.optimize(v),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const M=cd.formats(this.children.head.domNode);M!==this.uiNode.value&&(this.uiNode.value=M)}}}return $.allowedChildren=[cd],$})();cd.requiredContainer=tp,cd.allowedChildren=[lh,Mp,Pa,rh];class a_ extends Bd{static register(){Pi.register(lh,!0),Pi.register(cd,!0),Pi.register(tp,!0)}constructor(w,v){if(super(w,v),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((M,ue)=>{let{key:Ge}=ue;return M[Ge]=!0,M},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Pi.events.SCROLL_BLOT_MOUNT,w=>{if(!(w instanceof tp))return;const v=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(M=>{let{key:ue,label:Ge}=M;const at=v.ownerDocument.createElement("option");at.textContent=Ge,at.setAttribute("value",ue),v.appendChild(at)}),v.addEventListener("change",()=>{w.format(cd.blotName,v.value),this.quill.root.focus(),this.highlight(w,!0)}),null==w.uiNode&&(w.attachUI(v),w.children.head&&(v.value=cd.formats(w.children.head.domNode)))})}initTimer(){let w=null;this.quill.on(Pi.events.SCROLL_OPTIMIZE,()=>{w&&clearTimeout(w),w=setTimeout(()=>{this.highlight(),w=null},this.options.interval)})}highlight(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(Pi.sources.USER);const M=this.quill.getSelection();(null==w?this.quill.scroll.descendants(tp):[w]).forEach(Ge=>{Ge.highlight(this.highlightBlot,v)}),this.quill.update(Pi.sources.SILENT),null!=M&&this.quill.setSelection(M,Pi.sources.SILENT)}highlightBlot(w){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(v=this.languages[v]?v:"plain","plain"===v)return Jl(w).split("\n").reduce((ue,Ge,at)=>(0!==at&&ue.insert("\n",{[fa.blotName]:v}),ue.insert(Ge)),new Mr);const M=this.quill.root.ownerDocument.createElement("div");return M.classList.add(fa.className),M.innerHTML=(($,w,v)=>{if("string"==typeof $.versionString){const M=$.versionString.split(".")[0];if(parseInt(M,10)>=11)return $.highlight(v,{language:w}).value}return $.highlight(w,v).value})(this.options.hljs,v,w),my(this.quill.scroll,M,[(ue,Ge)=>{const at=tm.value(ue);return at?Ge.compose((new Mr).retain(Ge.length(),{[lh.blotName]:at})):Ge}],[(ue,Ge)=>ue.data.split("\n").reduce((at,zt,Dn)=>(0!==Dn&&at.insert("\n",{[fa.blotName]:v}),at.insert(zt)),Ge)],new WeakMap)}}a_.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let Uh=(()=>{class $ extends Xa{static blotName="table";static tagName="TD";static create(v){const M=super.create();return M.setAttribute("data-row",v||l_()),M}static formats(v){if(v.hasAttribute("data-row"))return v.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(v,M){v===$.blotName&&M?this.domNode.setAttribute("data-row",M):super.format(v,M)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return $})(),Vd=(()=>class $ extends $h{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const v=this.children.head.formats(),M=this.children.tail.formats(),ue=this.next.children.head.formats(),Ge=this.next.children.tail.formats();return v.table===M.table&&v.table===ue.table&&v.table===Ge.table}return!1}optimize(v){super.optimize(v),this.children.forEach(M=>{if(null==M.next)return;const ue=M.formats(),Ge=M.next.formats();if(ue.table!==Ge.table){const at=this.splitAfter(M);at&&at.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}})(),ff=(()=>class $ extends $h{static blotName="table-body";static tagName="TBODY"})(),Sy=(()=>{class $ extends $h{static blotName="table-container";static tagName="TABLE";balanceCells(){const v=this.descendants(Vd),M=v.reduce((ue,Ge)=>Math.max(Ge.children.length,ue),0);v.forEach(ue=>{new Array(M-ue.children.length).fill(0).forEach(()=>{let Ge;null!=ue.children.head&&(Ge=Uh.formats(ue.children.head.domNode));const at=this.scroll.create(Uh.blotName,Ge);ue.appendChild(at),at.optimize()})})}cells(v){return this.rows().map(M=>M.children.at(v))}deleteColumn(v){const[M]=this.descendant(ff);null==M||null==M.children.head||M.children.forEach(ue=>{const Ge=ue.children.at(v);Ge?.remove()})}insertColumn(v){const[M]=this.descendant(ff);null==M||null==M.children.head||M.children.forEach(ue=>{const Ge=ue.children.at(v),at=Uh.formats(ue.children.head.domNode),zt=this.scroll.create(Uh.blotName,at);ue.insertBefore(zt,Ge)})}insertRow(v){const[M]=this.descendant(ff);if(null==M||null==M.children.head)return;const ue=l_(),Ge=this.scroll.create(Vd.blotName);M.children.head.children.forEach(()=>{const zt=this.scroll.create(Uh.blotName,ue);Ge.appendChild(zt)});const at=M.children.at(v);M.insertBefore(Ge,at)}rows(){const v=this.children.head;return null==v?[]:v.children.map(M=>M)}}return $.allowedChildren=[ff],$})();function l_(){return`row-${Math.random().toString(36).slice(2,6)}`}ff.requiredContainer=Sy,ff.allowedChildren=[Vd],Vd.requiredContainer=ff,Vd.allowedChildren=[Uh],Uh.requiredContainer=Vd;const wd=cf("quill:toolbar");let Dv=(()=>{class $ extends Bd{constructor(v,M){if(super(v,M),Array.isArray(this.options.container)){const ue=document.createElement("div");ue.setAttribute("role","toolbar"),function Tx($,w){Array.isArray(w[0])||(w=[w]),w.forEach(v=>{const M=document.createElement("span");M.classList.add("ql-formats"),v.forEach(ue=>{if("string"==typeof ue)ou(M,ue);else{const Ge=Object.keys(ue)[0],at=ue[Ge];Array.isArray(at)?function Dy($,w,v){const M=document.createElement("select");M.classList.add(`ql-${w}`),v.forEach(ue=>{const Ge=document.createElement("option");!1!==ue?Ge.setAttribute("value",String(ue)):Ge.setAttribute("selected","selected"),M.appendChild(Ge)}),$.appendChild(M)}(M,Ge,at):ou(M,Ge,at)}}),$.appendChild(M)})}(ue,this.options.container),v.container?.parentNode?.insertBefore(ue,v.container),this.container=ue}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(ue=>{const Ge=this.options.handlers?.[ue];Ge&&this.addHandler(ue,Ge)}),Array.from(this.container.querySelectorAll("button, select")).forEach(ue=>{this.attach(ue)}),this.quill.on(Pi.events.EDITOR_CHANGE,()=>{const[ue]=this.quill.selection.getRange();this.update(ue)})):wd.error("Container required for toolbar",this.options)}addHandler(v,M){this.handlers[v]=M}attach(v){let M=Array.from(v.classList).find(Ge=>0===Ge.indexOf("ql-"));M&&(M=M.slice(3),"BUTTON"===v.tagName&&v.setAttribute("type","button"),null!=this.handlers[M]||null!=this.quill.scroll.query(M)?(v.addEventListener("SELECT"===v.tagName?"change":"click",Ge=>{let at;if("SELECT"===v.tagName){if(v.selectedIndex<0)return;const Dn=v.options[v.selectedIndex];at=!Dn.hasAttribute("selected")&&(Dn.value||!1)}else at=!v.classList.contains("ql-active")&&(v.value||!v.hasAttribute("value")),Ge.preventDefault();this.quill.focus();const[zt]=this.quill.selection.getRange();if(null!=this.handlers[M])this.handlers[M].call(this,at);else if(this.quill.scroll.query(M).prototype instanceof Ra){if(at=prompt(`Enter ${M}`),!at)return;this.quill.updateContents((new Mr).retain(zt.index).delete(zt.length).insert({[M]:at}),Pi.sources.USER)}else this.quill.format(M,at,Pi.sources.USER);this.update(zt)}),this.controls.push([M,v])):wd.warn("ignoring attaching to nonexistent format",M,v))}update(v){const M=null==v?{}:this.quill.getFormat(v);this.controls.forEach(ue=>{const[Ge,at]=ue;if("SELECT"===at.tagName){let zt=null;if(null==v)zt=null;else if(null==M[Ge])zt=at.querySelector("option[selected]");else if(!Array.isArray(M[Ge])){let Dn=M[Ge];"string"==typeof Dn&&(Dn=Dn.replace(/"/g,'\\"')),zt=at.querySelector(`option[value="${Dn}"]`)}null==zt?(at.value="",at.selectedIndex=-1):zt.selected=!0}else if(null==v)at.classList.remove("ql-active"),at.setAttribute("aria-pressed","false");else if(at.hasAttribute("value")){const zt=M[Ge],Dn=zt===at.getAttribute("value")||null!=zt&&zt.toString()===at.getAttribute("value")||null==zt&&!at.getAttribute("value");at.classList.toggle("ql-active",Dn),at.setAttribute("aria-pressed",Dn.toString())}else{const zt=null!=M[Ge];at.classList.toggle("ql-active",zt),at.setAttribute("aria-pressed",zt.toString())}})}}return $.DEFAULTS={},$})();function ou($,w,v){const M=document.createElement("button");M.setAttribute("type","button"),M.classList.add(`ql-${w}`),M.setAttribute("aria-pressed","false"),null!=v?(M.value=v,M.setAttribute("aria-label",`${w}: ${v}`)):M.setAttribute("aria-label",w),$.appendChild(M)}Dv.DEFAULTS={container:null,handlers:{clean(){const $=this.quill.getSelection();if(null!=$)if(0===$.length){const w=this.quill.getFormat();Object.keys(w).forEach(v=>{null!=this.quill.scroll.query(v,Br.INLINE)&&this.quill.format(v,!1,Pi.sources.USER)})}else this.quill.removeFormat($.index,$.length,Pi.sources.USER)},direction($){const{align:w}=this.quill.getFormat();"rtl"===$&&null==w?this.quill.format("align","right",Pi.sources.USER):!$&&"right"===w&&this.quill.format("align",!1,Pi.sources.USER),this.quill.format("direction",$,Pi.sources.USER)},indent($){const w=this.quill.getSelection(),v=this.quill.getFormat(w),M=parseInt(v.indent||0,10);if("+1"===$||"-1"===$){let ue="+1"===$?1:-1;"rtl"===v.direction&&(ue*=-1),this.quill.format("indent",M+ue,Pi.sources.USER)}},link($){!0===$&&($=prompt("Enter link URL:")),this.quill.format("link",$,Pi.sources.USER)},list($){const w=this.quill.getSelection(),v=this.quill.getFormat(w);this.quill.format("list","check"===$?"checked"!==v.list&&"unchecked"!==v.list&&"unchecked":$,Pi.sources.USER)}}};const Iv='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Zm={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Iv,"code-block":Iv,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let d_=0;function Gu($,w){$.setAttribute(w,`${"true"!==$.getAttribute(w)}`)}const im=class Ax{constructor(w){this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",v=>{switch(v.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),v.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Gu(this.label,"aria-expanded"),Gu(this.options,"aria-hidden")}buildItem(w){const v=document.createElement("span");v.tabIndex="0",v.setAttribute("role","button"),v.classList.add("ql-picker-item");const M=w.getAttribute("value");return M&&v.setAttribute("data-value",M),w.textContent&&v.setAttribute("data-label",w.textContent),v.addEventListener("click",()=>{this.selectItem(v,!0)}),v.addEventListener("keydown",ue=>{switch(ue.key){case"Enter":this.selectItem(v,!0),ue.preventDefault();break;case"Escape":this.escape(),ue.preventDefault()}}),v}buildLabel(){const w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}buildOptions(){const w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id=`ql-picker-options-${d_}`,d_+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,Array.from(this.select.options).forEach(v=>{const M=this.buildItem(v);w.appendChild(M),!0===v.selected&&this.selectItem(M)}),this.container.appendChild(w)}buildPicker(){Array.from(this.select.attributes).forEach(w=>{this.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(w){let v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=this.container.querySelector(".ql-selected");w!==M&&(M?.classList.remove("ql-selected"),null!=w&&(w.classList.add("ql-selected"),this.select.selectedIndex=Array.from(w.parentNode.children).indexOf(w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),v&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let w;if(this.select.selectedIndex>-1){const M=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(M)}else this.selectItem(null);const v=null!=w&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",v)}},np=class Jm extends im{constructor(w,v){super(w),this.label.innerHTML=v,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(M=>{M.classList.add("ql-primary")})}buildItem(w){const v=super.buildItem(w);return v.style.backgroundColor=w.getAttribute("value")||"",v}selectItem(w,v){super.selectItem(w,v);const M=this.label.querySelector(".ql-color-label"),ue=w&&w.getAttribute("data-value")||"";M&&("line"===M.tagName?M.style.stroke=ue:M.style.fill=ue)}},rm=class ky extends im{constructor(w,v){super(w),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(M=>{M.innerHTML=v[M.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(w,v){super.selectItem(w,v);const M=w||this.defaultItem;if(null!=M){if(this.label.innerHTML===M.innerHTML)return;this.label.innerHTML=M.innerHTML}}},sm=class ud{constructor(w,v){this.quill=w,this.boundsContainer=v||document.body,this.root=w.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,($=>{const{overflowY:w}=getComputedStyle($,null);return"visible"!==w&&"clip"!==w})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(w){const v=w.left+w.width/2-this.root.offsetWidth/2,M=w.bottom+this.quill.root.scrollTop;this.root.style.left=`${v}px`,this.root.style.top=`${M}px`,this.root.classList.remove("ql-flip");const ue=this.boundsContainer.getBoundingClientRect(),Ge=this.root.getBoundingClientRect();let at=0;return Ge.right>ue.right&&(at=ue.right-Ge.right,this.root.style.left=`${v+at}px`),Ge.left<ue.left&&(at=ue.left-Ge.left,this.root.style.left=`${v+at}px`),Ge.bottom>ue.bottom&&(this.root.style.top=M-(w.bottom-w.top+(Ge.bottom-Ge.top))+"px",this.root.classList.add("ql-flip")),at}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},_f=[!1,"center","right","justify"],h_=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],om=[!1,"serif","monospace"],Fv=["1","2","3",!1],Lv=["small",!1,"large","huge"];class am extends Bp{constructor(w,v){super(w,v);const M=ue=>{document.body.contains(w.root)?(null!=this.tooltip&&!this.tooltip.root.contains(ue.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(Ge=>{Ge.container.contains(ue.target)||Ge.close()})):document.body.removeEventListener("click",M)};w.emitter.listenDOM("click",document.body,M)}addModule(w){const v=super.addModule(w);return"toolbar"===w&&this.extendToolbar(v),v}buildButtons(w,v){Array.from(w).forEach(M=>{(M.getAttribute("class")||"").split(/\s+/).forEach(Ge=>{if(Ge.startsWith("ql-")&&(Ge=Ge.slice(3),null!=v[Ge]))if("direction"===Ge)M.innerHTML=v[Ge][""]+v[Ge].rtl;else if("string"==typeof v[Ge])M.innerHTML=v[Ge];else{const at=M.value||"";null!=at&&v[Ge][at]&&(M.innerHTML=v[Ge][at])}})})}buildPickers(w,v){this.pickers=Array.from(w).map(ue=>{if(ue.classList.contains("ql-align")&&(null==ue.querySelector("option")&&xd(ue,_f),"object"==typeof v.align))return new rm(ue,v.align);if(ue.classList.contains("ql-background")||ue.classList.contains("ql-color")){const Ge=ue.classList.contains("ql-background")?"background":"color";return null==ue.querySelector("option")&&xd(ue,h_,"background"===Ge?"#ffffff":"#000000"),new np(ue,v[Ge])}return null==ue.querySelector("option")&&(ue.classList.contains("ql-font")?xd(ue,om):ue.classList.contains("ql-header")?xd(ue,Fv):ue.classList.contains("ql-size")&&xd(ue,Lv)),new im(ue)}),this.quill.on(os.events.EDITOR_CHANGE,()=>{this.pickers.forEach(ue=>{ue.update()})})}}am.DEFAULTS=ka({},Bp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let $=this.container.querySelector("input.ql-image[type=file]");null==$&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),$.classList.add("ql-image"),$.addEventListener("change",()=>{const w=this.quill.getSelection(!0);this.quill.uploader.upload(w,$.files),$.value=""}),this.container.appendChild($)),$.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class eg extends sm{constructor(w,v){super(w,v),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",w=>{"Enter"===w.key?(this.save(),w.preventDefault()):"Escape"===w.key&&(this.cancel(),w.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=v?this.textbox.value=v:w!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const M=this.quill.getBounds(this.quill.selection.savedRange);null!=M&&this.position(M),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${w}`)||""),this.root.setAttribute("data-mode",w)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:w}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:v}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",w,os.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",w,os.sources.USER)),this.quill.root.scrollTop=v;break}case"video":w=function $v($){let w=$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||$.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return w?`${w[1]||"https"}://www.youtube.com/embed/${w[2]}?showinfo=0`:(w=$.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${w[1]||"https"}://player.vimeo.com/video/${w[2]}/`:$}(w);case"formula":{if(!w)break;const v=this.quill.getSelection(!0);if(null!=v){const M=v.index+v.length;this.quill.insertEmbed(M,this.root.getAttribute("data-mode"),w,os.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(M+1," ",os.sources.USER),this.quill.setSelection(M+2,os.sources.USER)}break}}this.textbox.value="",this.hide()}}function xd($,w){let v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w.forEach(M=>{const ue=document.createElement("option");M===v?ue.setAttribute("selected","selected"):ue.setAttribute("value",String(M)),$.appendChild(ue)})}const Bv=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ip extends eg{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(w,v){super(w,v),this.quill.on(os.events.EDITOR_CHANGE,(M,ue,Ge,at)=>{if(M===os.events.SELECTION_CHANGE)if(null!=ue&&ue.length>0&&at===os.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const zt=this.quill.getLines(ue.index,ue.length);if(1===zt.length){const Dn=this.quill.getBounds(ue);null!=Dn&&this.position(Dn)}else{const Dn=zt[zt.length-1],ri=this.quill.getIndex(Dn),Ui=Math.min(Dn.length()-1,ue.index+ue.length-ri),gr=this.quill.getBounds(new rd(ri,Ui));null!=gr&&this.position(gr)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(os.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const w=this.quill.getSelection();if(null!=w){const v=this.quill.getBounds(w);null!=v&&this.position(v)}},1)})}cancel(){this.show()}position(w){const v=super.position(w),M=this.root.querySelector(".ql-tooltip-arrow");return M.style.marginLeft="",0!==v&&(M.style.marginLeft=-1*v-M.offsetWidth/2+"px"),v}}class Ay extends am{constructor(w,v){null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=Bv),super(w,v),this.quill.container.classList.add("ql-bubble")}extendToolbar(w){this.tooltip=new ip(this.quill,this.options.bounds),null!=w.container&&(this.tooltip.root.appendChild(w.container),this.buildButtons(w.container.querySelectorAll("button"),Zm),this.buildPickers(w.container.querySelectorAll("select"),Zm))}}Ay.DEFAULTS=ka({},am.DEFAULTS,{modules:{toolbar:{handlers:{link($){$?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Pi.sources.USER)}}}}});const lm=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Vv extends eg{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",w=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),w.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",w=>{if(null!=this.linkRange){const v=this.linkRange;this.restoreFocus(),this.quill.formatText(v,"link",!1,os.sources.USER),delete this.linkRange}w.preventDefault(),this.hide()}),this.quill.on(os.events.SELECTION_CHANGE,(w,v,M)=>{if(null!=w){if(0===w.length&&M===os.sources.USER){const[ue,Ge]=this.quill.scroll.descendant(Lc,w.index);if(null!=ue){this.linkRange=new rd(w.index-Ge,ue.length());const at=Lc.formats(ue.domNode);this.preview.textContent=at,this.preview.setAttribute("href",at),this.show();const zt=this.quill.getBounds(this.linkRange);return void(null!=zt&&this.position(zt))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Ud extends am{constructor(w,v){null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=lm),super(w,v),this.quill.container.classList.add("ql-snow")}extendToolbar(w){null!=w.container&&(w.container.classList.add("ql-snow"),this.buildButtons(w.container.querySelectorAll("button"),Zm),this.buildPickers(w.container.querySelectorAll("select"),Zm),this.tooltip=new Vv(this.quill,this.options.bounds),w.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(v,M)=>{w.handlers.link.call(w,!M.format.link)}))}}Ud.DEFAULTS=ka({},am.DEFAULTS,{modules:{toolbar:{handlers:{link($){if($){const w=this.quill.getSelection();if(null==w||0===w.length)return;let v=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(v)&&0!==v.indexOf("mailto:")&&(v=`mailto:${v}`);const{tooltip:M}=this.quill.theme;M.edit("link",v)}else this.quill.format("link",!1,Pi.sources.USER)}}}}});const My=Ud;r_.register({"attributors/attribute/direction":Hp,"attributors/class/align":Xg,"attributors/class/background":dy,"attributors/class/color":dx,"attributors/class/direction":cv,"attributors/class/font":Yf,"attributors/class/size":jm,"attributors/style/align":Vm,"attributors/style/background":hf,"attributors/style/color":qg,"attributors/style/direction":Gp,"attributors/style/font":zm,"attributors/style/size":Qg},!0),r_.register({"formats/align":Xg,"formats/direction":cv,"formats/indent":bv,"formats/background":hf,"formats/color":qg,"formats/font":Yf,"formats/size":jm,"formats/blockquote":vy,"formats/code-block":fa,"formats/header":wv,"formats/list":em,"formats/bold":ld,"formats/code":hx,"formats/italic":xv,"formats/link":Lc,"formats/script":s_,"formats/strike":wy,"formats/underline":xy,"formats/formula":Ey,"formats/image":Cx,"formats/video":Ym,"modules/syntax":a_,"modules/table":class Dx extends Bd{static register(){Pi.register(Uh),Pi.register(Vd),Pi.register(ff),Pi.register(Sy)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Sy).forEach(w=>{w.balanceCells()})}deleteColumn(){const[w,,v]=this.getTable();null!=v&&(w.deleteColumn(v.cellOffset()),this.quill.update(Pi.sources.USER))}deleteRow(){const[,w]=this.getTable();null!=w&&(w.remove(),this.quill.update(Pi.sources.USER))}deleteTable(){const[w]=this.getTable();if(null==w)return;const v=w.offset();w.remove(),this.quill.update(Pi.sources.USER),this.quill.setSelection(v,Pi.sources.SILENT)}getTable(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==w)return[null,null,null,-1];const[v,M]=this.quill.getLine(w.index);if(null==v||v.statics.blotName!==Uh.blotName)return[null,null,null,-1];const ue=v.parent;return[ue.parent.parent,ue,v,M]}insertColumn(w){const v=this.quill.getSelection();if(!v)return;const[M,ue,Ge]=this.getTable(v);if(null==Ge)return;const at=Ge.cellOffset();M.insertColumn(at+w),this.quill.update(Pi.sources.USER);let zt=ue.rowOffset();0===w&&(zt+=1),this.quill.setSelection(v.index+zt,v.length,Pi.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(w){const v=this.quill.getSelection();if(!v)return;const[M,ue,Ge]=this.getTable(v);if(null==Ge)return;const at=ue.rowOffset();M.insertRow(at+w),this.quill.update(Pi.sources.USER),w>0?this.quill.setSelection(v,Pi.sources.SILENT):this.quill.setSelection(v.index+ue.children.length,v.length,Pi.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(w,v){const M=this.quill.getSelection();if(null==M)return;const ue=new Array(w).fill(0).reduce(Ge=>{const at=new Array(v).fill("\n").join("");return Ge.insert(at,{table:l_()})},(new Mr).retain(M.index));this.quill.updateContents(ue,Pi.sources.USER),this.quill.setSelection(M.index,Pi.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Pi.events.SCROLL_OPTIMIZE,w=>{w.some(v=>!!["TD","TR","TBODY","TABLE"].includes(v.target.tagName)&&(this.quill.once(Pi.events.TEXT_CHANGE,(M,ue,Ge)=>{Ge===Pi.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":Dv,"themes/bubble":Ay,"themes/snow":My,"ui/icons":Zm,"ui/picker":im,"ui/icon-picker":rm,"ui/color-picker":np,"ui/tooltip":sm},!0);const Uv=r_},9204:(dn,Je,_)=>{"use strict";function h(E,A,S,C,W,L,N){try{var z=E[L](N),re=z.value}catch(q){return void S(q)}z.done?A(re):Promise.resolve(re).then(C,W)}function O(E){return function(){var A=this,S=arguments;return new Promise(function(C,W){var L=E.apply(A,S);function N(re){h(L,C,W,N,z,"next",re)}function z(re){h(L,C,W,N,z,"throw",re)}N(void 0)})}}_.d(Je,{A:()=>O})}}]);
//# sourceMappingURL=vendor.js.map