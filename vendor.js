(self.webpackChunkassistant_panel=self.webpackChunkassistant_panel||[]).push([["vendor"],{1556:(hn,Re,_)=>{"use strict";_.d(Re,{LJ:()=>Qe,Y9:()=>Pt,Zn:()=>Ae,jG:()=>O,xB:()=>Qt,yF:()=>Ce,yd:()=>xe});var d=_(521),A=_(7871),w=_(3277);function D(Vt,Tt){for(var Ot=0;Ot<Tt.length;Ot++){var ft=Tt[Ot];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(Vt,ft.key,ft)}}function C(Vt,Tt,Ot){return Tt&&D(Vt.prototype,Tt),Ot&&D(Vt,Ot),Vt}function S(){return S=Object.assign||function(Vt){for(var Tt=1;Tt<arguments.length;Tt++){var Ot=arguments[Tt];for(var ft in Ot)Object.prototype.hasOwnProperty.call(Ot,ft)&&(Vt[ft]=Ot[ft])}return Vt},S.apply(this,arguments)}function I(Vt,Tt){Vt.prototype=Object.create(Tt.prototype),Vt.prototype.constructor=Vt,E(Vt,Tt)}function E(Vt,Tt){return(E=Object.setPrototypeOf||function(Ot,ft){return Ot.__proto__=ft,Ot})(Vt,Tt)}var y={},$="/api/engine/v2/uploads";function R(){return $}function O(Vt,Tt){void 0===Tt&&(Tt=!1);var Ot=Tt?1e3:1024;if(Vt<Ot)return Vt+(Tt?" iB":" B");var ft=Math.floor(Math.log(Vt)/Math.log(Ot)),Oe=(Tt?"kMGTPE":"KMGTPE").charAt(ft-1)+(Tt?"iB":"B");return(Vt/Math.pow(Ot,ft)).toFixed(1)+" "+Oe}function M(Vt){var Tt="";Vt.length%2>0&&(Vt="0"+Vt);for(var Ot=0,ft=Vt.length;Ot<ft;Ot+=2)Tt+=String.fromCharCode(parseInt(Vt.slice(Ot,Ot+2),16));return Tt}function L(Vt){var Tt="";if(Vt)for(var Ot in Vt)Vt.hasOwnProperty(Ot)&&null!=Vt[Ot]&&(Tt+=(Tt?"&":"")+Ot+"="+encodeURIComponent(Vt[Ot]));return Tt}var U="",F="",J=function(){function Vt(Ot,ft){var Oe=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Ot,this._endpoint=ft,this._abort_ctrl.signal.addEventListener("abort",function(){return Oe._dispose?Oe._dispose():""})}Vt.setToken=function(Ot){U=Ot},Vt.setApiKey=function(Ot){F=Ot};var Tt=Vt.prototype;return Tt.initialise=function(){try{var Ot,ft=this,Oe=ft._abort_ctrl.signal,Ye=ft._upload,vt=Ye.file,It=Ye.mime_type;ft._params.file_size=""+vt.size,ft._params.file_name=vt.name,It&&"binary/octet-stream"!==It&&(ft._params.file_mime=It),ft._params=S({},ft._params,ft._upload.params),(null==(Ot=vt.dir_path)?void 0:Ot.length)>0&&(ft._params.file_path=vt.dir_path);var at=ft.base_request_headers,ot=L(ft._params);return Promise.resolve(fetch(ft._endpoint+"/new"+(ot?"?"+ot:""),{headers:at,signal:Oe})).then(function(Nt){return Nt.json()})}catch(Nt){return Promise.reject(Nt)}},Tt.create=function(Ot){try{var ft=this,Oe=ft._abort_ctrl.signal,Ye=ft.base_request_headers;return Ot.file_id&&(ft._params.file_id=Ot.file_id),ft._upload.mime_type&&(ft._params.file_mime=Ot.mime_type),Ot.parameters&&(ft._params.parameters=Ot.parameters),Ot.permissions&&(ft._params.permissions=Ot.permissions),Ot.public&&(ft._params.public=Ot.public),Ot.expires&&(ft._params.expires=Ot.expires||0),Promise.resolve(fetch(""+ft._endpoint,{body:JSON.stringify(ft._params),method:"POST",headers:Ye,signal:Oe})).then(function(vt){return Promise.resolve(vt.json()).then(function(It){return ft.upload_id=It.upload_id,It})})}catch(vt){return Promise.reject(vt)}},Tt.sign=function(Ot,ft){void 0===ft&&(ft="");try{var Oe=this;if(!Oe.upload_id)throw new Error("Upload resource not initialised");var Ye=Oe._abort_ctrl.signal,vt=Oe.base_request_headers,It=new URLSearchParams;return It.set("part",Ot.toString()),ft&&It.set("file_id",encodeURIComponent(ft)),Promise.resolve(fetch(Oe._endpoint+"/"+Oe.encoded_id+"/edit?"+It.toString(),{method:"GET",headers:vt,signal:Ye})).then(function(at){return Promise.resolve(at.json())})}catch(at){return Promise.reject(at)}},Tt.update=function(Ot){void 0===Ot&&(Ot={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Oe=ft._abort_ctrl.signal,Ye=ft.base_request_headers;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{body:JSON.stringify(Ot),method:"PUT",headers:Ye,signal:Oe})).then(function(vt){return Promise.resolve(vt.json())})}catch(vt){return Promise.reject(vt)}},Tt.signedRequest=function(Ot){try{return Promise.resolve(fetch(Ot.signature.url,{body:Ot.data,method:Ot.signature.verb,headers:Ot.signature.headers})).then(function(ft){return Promise.resolve(ft.text()).then(function(Oe){var Ye={body:Oe,responseXML:null};try{Ye.responseXML=(new window.DOMParser).parseFromString(Ye.body,"text/xml")}catch{}return Ye})})}catch(ft){return Promise.reject(ft)}},Tt.signNextChunk=function(Ot,ft,Oe,Ye){void 0===Ye&&(Ye=null);try{var vt=this;if(!vt.upload_id)throw new Error("Upload resource not initialised");var It=vt._abort_ctrl.signal,at={part_list:Oe};Ye&&(at.part_data=Ye);var ot=vt.base_request_headers,Nt=L({part:""+Ot,file_id:ft,file_mime:vt._upload.mime_type});return Promise.resolve(fetch(vt._endpoint+"/"+vt.encoded_id+(Nt?"?"+Nt:""),{body:JSON.stringify(at),method:Object.keys(at).length>0?"PATCH":"PUT",headers:ot,signal:It})).then(function(Ut){return Promise.resolve(Ut.json())})}catch(Ut){return Promise.reject(Ut)}},Tt.signChunk=function(Ot,ft){void 0===ft&&(ft=null);try{var Ye=this._abort_ctrl.signal,vt=this.base_request_headers,It=L({part:""+Ot,file_id:ft});return Promise.resolve(fetch(this._endpoint+"/edit"+(It?"?"+It:""),{headers:vt,signal:Ye})).then(function(at){return Promise.resolve(at.json())})}catch(at){return Promise.reject(at)}},Tt.updateStatus=function(Ot){void 0===Ot&&(Ot={});try{var ft=this;if(!ft.upload_id)throw new Error("Upload resource not initialised");var Oe=ft._abort_ctrl.signal;return Promise.resolve(fetch(ft._endpoint+"/"+ft.encoded_id,{headers:ft.base_request_headers,method:Object.keys(Ot).length>0?"PATCH":"PUT",body:JSON.stringify(Ot),signal:Oe})).then(function(Ye){return Promise.resolve(Ye.json())})}catch(Ye){return Promise.reject(Ye)}},Tt.abort=function(){this._abort_ctrl.abort()},Tt.destroy=function(){this.abort();var Ot=new Headers;if(Ot.append("Accept","application/json"),U?Ot.append("Authorization","Bearer "+U):F&&Ot.append("X-API-Key",""+F),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:Ot,method:"DELETE"})},Tt.performSignedRequest=function(Ot,ft){var Oe=this;return void 0===ft&&(ft=function(){}),new Promise(function(Ye,vt){var It=new XMLHttpRequest;It.upload.addEventListener("progress",function(Ut){return ft(Ut)}),It.addEventListener("load",function(Ut){ft(Ut),It.status>=200&&It.status<300||It.status===Ot.expected?Ye(It):vt(It.status+": "+It.statusText)});var at=function(Ut){Oe._upload.onError(Ut),vt(Ut)};It.addEventListener("error",function(){return at(It.status+": "+(It.statusText||"unknown error"))}),It.addEventListener("abort",function(){return at(It.statusText||"browser aborted")}),It.open(Ot.signature.verb,Ot.signature.url,!0);var ot=Ot.signature.headers;for(var Nt in ot)Nt in ot&&It.setRequestHeader(Nt,ot[Nt]);Oe._dispose=function(){It.abort(),vt("user aborted")},It.send(Ot.data||null)})},C(Vt,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var Ot=new Headers;return Ot.append("Accept","application/json"),Ot.append("Content-Type","application/json"),U?Ot.append("Authorization","Bearer "+U):F&&Ot.append("X-API-Key",""+F),Ot}}]),Vt}(),ue=function(){function Vt(Ot,ft,Oe,Ye,vt){void 0===Ye&&(Ye={}),void 0===vt&&(vt=R()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new d.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Ot,this.retries=ft,this.parallel=Oe,this.params=Ye,this._endpoint=vt,this.mime_type=Ot?.type||this.mime_type}var Tt=Vt.prototype;return Tt.setAccessUrl=function(Ot){this._access_url=Ot},Tt.onProgress=function(Ot){var ft=this._state.getValue();this._state.next(S({},ft,{status:"uploading",uploaded:Ot,progress:Math.floor(Ot/this.file.size*1e3)/10}))},Tt.onComplete=function(){var Ot=this._state.getValue();this._state.next(S({},Ot,{status:"complete",progress:100}))},Tt.onError=function(Ot){var ft=this._state.getValue();this._state.next(S({},ft,{status:"error",error:Ot}))},Tt.resume=function(Ot){try{var ft=this,Oe=ft._state.getValue(),Ye=function(){if(!["complete","uploading","cancelled"].includes(Oe.status)){var vt=function(){var at;null==(at=ft._provider)||at.start()};Ot&&(ft.parallel=Ot);var It=function(){if(!ft._provider)return ft._request=new J(ft,ft._endpoint),Promise.resolve(ft._request.initialise()).then(function(at){var ot=y[at.residence]||null;ot?(ft._provider=new ot(ft._request,ft),ft._state.next(S({},Oe,{status:"uploading"}))):ft.onError("No provider available to upload to")})}();return It&&It.then?It.then(vt):vt()}}();return Promise.resolve(Ye&&Ye.then?Ye.then(function(){}):void 0)}catch(vt){return Promise.reject(vt)}},Tt.pause=function(){var Ot,ft=this._state.getValue();"uploading"===ft.status&&(null==(Ot=this._provider)||Ot.pause(),this._state.next(S({},ft,{status:"paused"})))},Tt.cancel=function(){var Ot,ft=this._state.getValue();["complete","cancelled"].includes(ft.status)||("uploading"===ft.status&&(null==(Ot=this._provider)||Ot.destroy()),this._state.next(S({},ft,{status:"cancelled"})))},C(Vt,[{key:"id",get:function(){var Ot;return null==(Ot=this._request)?void 0:Ot.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Ot;return"waiting"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}},{key:"in_progress",get:function(){var Ot;return"uploading"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}},{key:"completed",get:function(){var Ot;return"complete"===(null==(Ot=this._state.getValue())?void 0:Ot.status)}}]),Vt}(),ce=[],re=-1;function be(){return re+=1,ce[re%=3]}var j,Vt,X={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},se=X,W=[];function xe(Vt){void 0===Vt&&(Vt={}),(se=S({},X,Vt)).endpoint&&($=se.endpoint),function(Tt,Ot){var ft;void 0===Tt&&(Tt="/node_modules/ts-md5/dist/md5_worker.js"),(null==(ft=ce)?void 0:ft.length)>0&&ce.forEach(function(Ye){return Ye.terminate()}),ce=[];for(var Oe=0;Oe<3;Oe+=1)ce.push(new w.LL(Tt,Ot))}(se.worker_url,se.worker_options),se.token&&J.setToken(se.token),se.api_key&&J.setApiKey(se.api_key),function q(Vt){Vt.forEach(function(Tt){return function x(Vt,Tt){y[Vt]=Tt}(Tt.lookup,Tt)})}(se.providers)}function Ae(Vt,Tt){if(void 0===Tt&&(Tt={}),!R())throw"No API endpoint set";var Ot=[];return Vt.forEach(function(ft){var Oe=new ue(ft,se.retries,se.parallel,Tt);Ot.push(Oe),W.push(Oe),Oe.metadata=se.metadata,Oe.status.pipe((0,A.$)(function(Ye){return"complete"===Ye.status})).subscribe(function(Ye){return function(vt){var It=se.auto_start,at=se.remove_after;se.auto_remove&&(at?setTimeout(function(){return oe(vt)},at):oe(vt));var ot=W.filter(function(Nt){return Nt.waiting});It&&ot.length&&Ne()&&ot[0].resume(se.parallel)}(Oe)}),se.auto_start&&Ne()&&Oe.resume(se.parallel)}),Ot}function oe(Vt){Vt.cancel(),W=W.filter(function(Tt){return Tt!==Vt})}function Ne(){return W.filter(function(Vt){return Vt.in_progress}).length<se.simultaneous}(Vt=j||(j={}))[Vt.Paused=0]="Paused",Vt[Vt.Uploading=1]="Uploading",Vt[Vt.Completed=2]="Completed",Vt[Vt.Aborted=3]="Aborted";var Be=function(){function Vt(Ot,ft){this._request=void 0,this._upload=void 0,this.state=j.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=Ot,this._upload=ft,this._file=this._upload.file,this.size=this._file.size}var Tt=Vt.prototype;return Tt.start=function(){this.state<j.Uploading&&(this._finalising?this._finalise():this._start())},Tt.pause=function(){for(var Ot in this._strategy&&this.state===j.Uploading&&!this._direct_upload?(this.state=j.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=j.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Ot].loaded!==this._progress[Ot].total&&(this._progress[Ot].loaded=0);this._updateProgress()},Tt.destroy=function(){void 0!==this._strategy&&this.state<j.Completed&&(this._request.destroy(),this._restart(),this.state=j.Aborted)},Tt._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Tt._makeRequest=function(Ot,ft){var Oe=this;return ft.data=Ot.data,this._request.performSignedRequest(ft,function(Ye){return Oe._onProgress(Ot.part,Ye)})},Tt._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Tt._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Tt._completePart=function(Ot){this._current_parts=this._current_parts.filter(function(ft){return ft!==Ot})},Tt._isComplete=function(Ot){var ft=this._progress[Ot]||{},Oe=ft.loaded;return Oe&&Oe===ft.total},Tt._onProgress=function(Ot,ft){this._progress[Ot]=S({},ft),this._updateProgress()},Tt._onError=function(Ot){console.error("Error:",Ot),this.pause(),this._upload.onError(Ot)},Tt._updateProgress=function(){var Ot=0;for(var ft in this._progress)Ot+=this._progress[ft].loaded||0;this._upload.onProgress(Ot)},Tt._finalise=function(){try{var Ot=this;return Ot._request.updateStatus().then(function(){return Ot._upload.onComplete()},function(ft){return Ot._onError(ft)}),Promise.resolve()}catch(ft){return Promise.reject(ft)}},Tt._hashPart=function(Ot,ft,Oe){try{var Ye=this,vt=Ye._memoization[Ot],It=ft();return Promise.resolve(vt?{data:It,md5:vt.md5,part:vt.part}:Oe(It).then(function(at){return Ye._memoization[Ot]=at,{data:It,md5:at.md5,part:at.part}}))}catch(at){return Promise.reject(at)}},Tt._getPartData=function(){var Ot=this,ft=this._currentParts().filter(function(Ye){return"number"==typeof Ye}),Oe=[];return ft.forEach(function(Ye){var vt=Ot._memoization[""+Ye];vt&&Oe.push(vt)}),{part_list:ft,part_data:Oe}},Vt}(),Qe=function(Vt){function Tt(){for(var ft,Oe=arguments.length,Ye=new Array(Oe),vt=0;vt<Oe;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._part_size=5242880,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){try{var ft=this;return Promise.resolve(function(){if(void 0===ft._strategy)return ft.state=j.Uploading,ft._strategy=null,9999*ft._part_size<ft.size&&(ft._part_size=Math.floor(ft.size/9999),ft._part_size>5368709120)?(ft._upload.cancel(),void ft._onError("file exceeds maximum size")):Promise.resolve(ft._processPart(1).catch(function(Oe){return ft._onError(Oe)})).then(function(Oe){if(Oe&&ft.state===j.Uploading)return Promise.resolve(ft._request.create({file_id:window.btoa(M(Oe.md5))}).catch(function(Ye){return ft._onError(Ye)})).then(function(Ye){Ye&&(ft._strategy=Ye.type,Ye.signature&&ft._upload.setAccessUrl((Ye.signature.url||"").split("?")[0]),"direct_upload"===Ye.type?ft._direct(Ye,Oe):ft._resume(Ye,Oe))})});ft.state===j.Paused&&ft._resume()}())}catch(Oe){return Promise.reject(Oe)}},Ot._processPart=function(ft){var Oe=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Oe.size>Oe._part_size?((vt=ft*Oe._part_size)>Oe.size&&(vt=Oe.size),Ye=Oe._file.slice((ft-1)*Oe._part_size,vt)):Ye=Oe._file,Ye},function(Ye){return be().hash(Ye).then(function(vt){return{md5:vt,part:ft}})})},Ot._resume=function(ft,Oe){void 0===ft&&(ft=null),void 0===Oe&&(Oe=null);try{var Ye,vt=this;return Promise.resolve(function(){if(ft)return function(){if("parts"!==ft.type)return Promise.resolve(vt._request.signedRequest(ft).catch(function(It){vt._restart(),vt._onError(It)})).then(function(It){if(It){var at=It.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(vt._request.updateStatus({resumable_id:at,file_id:window.btoa(M(Oe.md5)),part:1}).catch(function(ot){vt._restart(),vt._onError(ot)})).then(function(ot){if(ot)for(vt._nextPartIndex(),vt._setPart(ot,Oe),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()})}});for(vt._pending_parts=ft.part_list,ft.part_data&&(vt._memoization=ft.part_data),Ye=0;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()}();for(Ye=0;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()}())}catch(It){return Promise.reject(It)}},Ot._generatePartManifest=function(){var ft,Oe,Ye="<CompleteMultipartUpload>";for(ft=1;ft<1e4&&(Oe=this._memoization[ft]);ft+=1)Ye+="<Part><PartNumber>"+ft+'</PartNumber><ETag>"'+Oe.md5+'"</ETag></Part>';return Ye+"</CompleteMultipartUpload>"},Ot._nextPart=function(){var ft,Oe=this,Ye=this._nextPartIndex();(Ye-1)*this._part_size<this.size?this._processPart(Ye).then(function(vt){Oe.state===j.Uploading&&(ft=Oe._getPartData(),Oe._request.signNextChunk(Ye,window.btoa(M(vt.md5)),ft.part_list,ft.part_data).then(function(It){return Oe._setPart(It,vt)},function(It){return Oe._onError(It)}))},function(vt){return Oe._onError(vt)}):1===this._currentParts().length&&this._currentParts()[0]===Ye?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.data=Oe._generatePartManifest(),Oe._request.signedRequest(vt).then(function(){return Oe._finalise()},function(It){return Oe._onError(It)})},function(vt){return Oe._onError(vt)})):this._finishing||(this._completePart(Ye),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ot._setPart=function(ft,Oe){var Ye=this;this._makeRequest(Oe,ft).then(function(){Ye._completePart(Oe?.part),Ye._nextPart()},function(vt){return Ye._onError(vt)})},Ot._direct=function(ft,Oe){var Ye=this,vt=this._makeRequest(Oe,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},function(It){return Ye._onError(It)})},Tt}(Be);Qe.lookup="AmazonS3";var Pt=function(Vt){function Tt(){for(var ft,Oe=arguments.length,Ye=new Array(Oe),vt=0;vt<Oe;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._partSize=2097152,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=j.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(Oe){ft.state===j.Uploading&&ft._request.create({file_id:Oe.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Oe):ft._resume(Ye,Oe)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===j.Paused&&this._resume()},Ot._processPart=function(ft){var Oe=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Oe.size>Oe._partSize?((vt=ft*Oe._partSize)>Oe.size&&(vt=Oe.size),Ye=Oe._file.slice((ft-1)*Oe._partSize,vt)):Ye=Oe._file,Ye},function(Ye){return be().hash(Ye).then(function(vt){return{md5:window.btoa(M(vt)),part:ft}})})},Ot._resume=function(ft,Oe){var Ye,vt=this;if(void 0===ft&&(ft=null),void 0===Oe&&(Oe=null),ft)if("parts"===ft.type)for(this._pending_parts=ft.part_list,Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:Oe.md5,part:1}).then(function(It){for(vt._nextPartIndex(),vt._setPart(It,Oe),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()},function(It){this._restart(),this._onError(It)});else for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()},Ot._generatePartManifest=function(){for(var ft='<?xml version="1.0" encoding="utf-8"?><BlockList>',Oe=0;Oe<5e4&&Oe*this._partSize<this.size;Oe+=1)ft+="<Latest>"+window.btoa(this._pad(Oe+1))+"</Latest>";return ft+"</BlockList>"},Ot._pad=function(ft){for(var Oe=ft.toString();Oe.length<6;)Oe="0"+Oe;return Oe},Ot._nextPart=function(){var ft=this,Oe=this._nextPartIndex();(Oe-1)*this._partSize<this.size?this._processPart(Oe).then(function(Ye){ft.state===j.Uploading&&ft._request.signNextChunk(Oe,Ye.md5,ft._currentParts()).then(function(vt){ft._setPart(vt,Ye)},ft._onError.bind(ft))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Oe?(this._finishing=!0,this._request.sign("finish").then(function(Ye){Ye.data=ft._generatePartManifest(),ft._request.signedRequest(Ye).then(ft._finalise.bind(ft),ft._onError.bind(ft))},this._onError.bind(this))):this._finishing||(this._completePart(Oe),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Ot._setPart=function(ft,Oe){var Ye=this;this._makeRequest(Oe,ft).then(function(){Ye._completePart(Oe.part),Ye._nextPart()},this._onError.bind(this))},Ot._direct=function(ft,Oe){var Ye=this,vt=this._makeRequest(Oe,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},this._onError.bind(this))},Tt}(Be);Pt.lookup="MicrosoftAzure";var Ce=function(Vt){function Tt(){return Vt.apply(this,arguments)||this}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;void 0!==this._strategy&&this.state!==j.Paused||(this.state=j.Uploading,this._strategy=null,this._processPart(this._file).then(function(Oe){ft.state===j.Uploading&&ft._request.create({file_id:Oe.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Oe):ft._resume(Ye,Oe)},ft._onError.bind(ft))},this._onError.bind(this)))},Ot._processPart=function(ft,Oe){return void 0===Oe&&(Oe=0),this._hashPart(Oe.toString(),function(){return ft},function(Ye){return be().hash(Ye).then(function(vt){return{md5:window.btoa(M(vt)),part:Oe}})})},Ot._resume=function(ft,Oe){var Ye=this;this._request.signedRequest(ft).then(function(vt){if("status"===ft.type)if(vt.status===ft.expected){var It=parseInt(vt.getResponseHeader("Range").split("-")[1],10)+1;Ye._processPart(Ye._file.slice(It),It).then(function(at){Ye.state===j.Uploading&&Ye._request.signChunk(It,at.md5).then(function(ot){Ye._performUpload(ot,at)},Ye._onError.bind(Ye))},Ye._onError.bind(Ye))}else Ye._finalise();else Ye._request.updateStatus({resumable_id:Ye._getQueryParams(vt.getResponseHeader("Location").split("?")[1]).upload_id,file_id:Oe.md5,part:0}).then(function(at){return Ye._performUpload(at,Oe)},function(at){this._restart(),this._onError(at)})},this._onError.bind(this))},Ot._performUpload=function(ft,Oe){var Ye=this;this._makeRequest(Oe,ft).then(function(){return Ye._finalise()},this._onError.bind(this))},Ot._direct=function(ft,Oe){var Ye=this,vt=this._makeRequest(Oe,ft);this._direct_upload=!0,vt.then(function(){Ye._finalise()},this._onError.bind(this))},Ot._getQueryParams=function(ft){ft=ft.split("+").join(" ");for(var Oe,Ye={},vt=/[?&]?([^=]+)=([^&]*)/g;Oe=vt.exec(ft);)Ye[decodeURIComponent(Oe[1])]=decodeURIComponent(Oe[2]);return Ye},Tt}(Be);Ce.lookup="GoogleCloudStorage";var Qt=function(Vt){function Tt(){for(var ft,Oe=arguments.length,Ye=new Array(Oe),vt=0;vt<Oe;vt++)Ye[vt]=arguments[vt];return(ft=Vt.call.apply(Vt,[this].concat(Ye))||this)._partSize=2097152,ft}I(Tt,Vt);var Ot=Tt.prototype;return Ot._start=function(){var ft=this;if(void 0===this._strategy){if(this.state=j.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(Oe){ft.state===j.Uploading&&ft._request.create({file_id:Oe.md5}).then(function(Ye){ft._strategy=Ye.type,"direct_upload"===Ye.type?ft._direct(Ye,Oe):ft._resume(Ye,Oe)},ft._onError.bind(ft))},this._onError.bind(this))}else this.state===j.Paused&&this._resume()},Ot._processPart=function(ft){var Oe=this;return this._hashPart(ft.toString(),function(){var Ye,vt;return Oe.size>Oe._partSize?((vt=ft*Oe._partSize)>Oe.size&&(vt=Oe.size),Ye=Oe._file.slice((ft-1)*Oe._partSize,vt)):Ye=Oe._file,Ye},function(Ye){return be().hash(Ye).then(function(vt){return{md5:vt,part:ft,size_bytes:Ye.size}})})},Ot._resume=function(ft,Oe){var Ye,vt=this;if(void 0===ft&&(ft=null),void 0===Oe&&(Oe=null),ft)if("parts"===ft.type){if(this._pending_parts=ft.part_list,ft.part_data){var It;for(var at in this._memoization=ft.part_data,this._memoization)this._memoization.hasOwnProperty(at)&&((It=this._memoization[at]).path||this._pending_parts.push(It.part));this._pending_parts=this._pending_parts.sort().filter(function(ot,Nt,Ut){return!Nt||ot!==Ut[Nt-1]})}for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:Oe.md5,part:1}).then(function(ot){for(vt._nextPartIndex(),vt._memoization[1].path=ot.path,vt._setPart(ot,Oe),Ye=1;Ye<vt._upload.parallel;Ye+=1)vt._nextPart()},function(ot){this._restart(),this._onError(ot)});else for(Ye=0;Ye<this._upload.parallel;Ye+=1)this._nextPart()},Ot._generatePartManifest=function(){for(var ft,Oe=[],Ye=1;Ye<1e4&&(ft=this._memoization[Ye]);Ye+=1)Oe.push({path:ft.path,etag:ft.md5,size_bytes:ft.size_bytes});return JSON.stringify(Oe)},Ot._nextPart=function(){var ft,Oe=this,Ye=this._nextPartIndex();(Ye-1)*this._partSize<this.size?this._processPart(Ye).then(function(vt){Oe.state===j.Uploading&&(ft=Oe._getPartData(),Oe._request.signNextChunk(Ye,vt.md5,ft.part_list,ft.part_data).then(function(It){Oe._memoization[Ye].path=It.path,Oe._setPart(It,vt)},Oe._onError.bind(Oe)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ye?(this._finishing=!0,this._request.sign("finish").then(function(vt){vt.signature?(vt.data=Oe._generatePartManifest(),Oe._request.signedRequest(vt).then(Oe._finalise.bind(Oe),Oe._onError.bind(Oe))):Oe._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Ye),(ft=this._getPartData()).part_update=!0,this._request.updateStatus(ft))},Ot._setPart=function(ft,Oe){var Ye=this;this._makeRequest(Oe,ft).then(function(){Ye._completePart(Oe.part),Ye._nextPart()},this._onError.bind(this))},Ot._direct=function(ft,Oe){var Ye=this,vt=this._makeRequest(Oe,ft);this._direct_upload=!0,vt.then(function(){return Ye._finalise()},this._onError.bind(this))},Tt}(Be);Qt.lookup="OpenStackSwift"},6677:(hn,Re,_)=>{"use strict";_.d(Re,{Of:()=>xn,Rx:()=>$t,tk:()=>ye,mn:()=>Qe,b2:()=>Kn,sM:()=>Ri,Ay:()=>Dn});var d=_(2672),A=_(521),w=_(3119),D=_(7557),C=_(7405),S=_(8627),I=_(5443),E=_(3879);class x{constructor(Le,We){this.keySelector=Le,this.flushes=We}call(Le,We){return We.subscribe(new $(Le,this.keySelector,this.flushes))}}class $ extends E.gn{constructor(Le,We,$e){super(Le),this.keySelector=We,this.values=new Set,$e&&this.add((0,E.tS)($e,new E.zA(this)))}notifyNext(){this.values.clear()}notifyError(Le){this._error(Le)}_next(Le){this.keySelector?this._useKeySelector(Le):this._finalizeNext(Le,Le)}_useKeySelector(Le){let We;const{destination:$e}=this;try{We=this.keySelector(Le)}catch(gt){return void $e.error(gt)}this._finalizeNext(We,Le)}_finalizeNext(Le,We){const{values:$e}=this;$e.has(Le)||($e.add(Le),this.destination.next(We))}}var R=_(3277);function O(){return(O=Object.assign||function(pt){for(var Le=1;Le<arguments.length;Le++){var We=arguments[Le];for(var $e in We)Object.prototype.hasOwnProperty.call(We,$e)&&(pt[$e]=We[$e])}return pt}).apply(this,arguments)}function M(pt,Le){(null==Le||Le>pt.length)&&(Le=pt.length);for(var We=0,$e=new Array(Le);We<Le;We++)$e[We]=pt[We];return $e}function L(pt,Le){var We=typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(We)return(We=We.call(pt)).next.bind(We);if(Array.isArray(pt)||(We=function(gt,Zt){if(gt){if("string"==typeof gt)return M(gt,void 0);var _n=Object.prototype.toString.call(gt).slice(8,-1);return"Object"===_n&&gt.constructor&&(_n=gt.constructor.name),"Map"===_n||"Set"===_n?Array.from(gt):"Arguments"===_n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_n)?M(gt,void 0):void 0}}(pt))||Le&&pt&&"number"==typeof pt.length){We&&(pt=We);var $e=0;return function(){return $e>=pt.length?{done:!0}:{done:!1,value:pt[$e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U={},F={};function J(pt,Le,We){if(void 0===We&&(We=300),!(pt&&Le&&Le instanceof Function))throw new Error(pt?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");ue(pt),U[pt]=setTimeout(function(){Le(),delete U[pt]},We)}function ue(pt){U[pt]&&(clearTimeout(U[pt]),delete U[pt])}function ce(pt,Le){re(pt),F[pt]=Le}function re(pt){F&&F[pt]&&(F[pt]instanceof d.y?F[pt].unsubscribe():F[pt](),delete F[pt])}function be(pt,Le,We,$e,gt,Zt){if(void 0===$e&&($e="debug"),void 0===gt&&(gt=!1),void 0===Zt&&(Zt="SVG VIEWER"),window.debug||gt){var _n,ct,De=["color: #E91E63","color: #ffb300","color: default"];We?(_n=console)[$e].apply(_n,["%c["+Zt+"]%c["+pt+"] %c"+Le].concat(De,[We])):(ct=console)[$e].apply(ct,["%c["+Zt+"]%c["+pt+"] %c"+Le].concat(De))}}function j(pt){for(var Le,We=pt.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),$e=L(We);!(Le=$e()).done;){var gt=Le.value;We.splice(We.indexOf(gt),1,[gt.replace(/^\\/g,"")])}return We.join(" ")}function X(pt){return pt?pt instanceof MouseEvent?{x:pt.clientX,y:pt.clientY}:pt.touches&&pt.touches.length>0?{x:pt.touches[0].clientX,y:pt.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function W(pt,Le,We,$e){var gt,Zt;void 0===$e&&($e=1);var _n=null==(gt=pt.element)?void 0:gt.querySelector(".svg-viewer__svg-overlays");if(null!=(Zt=pt.element)&&Zt.querySelector("svg")&&_n){var ct=We||_n?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(Le.x-ct.left)/ct.width*$e)),y:Math.max(0,Math.min(1,(Le.y-ct.top)/ct.height*$e))}}return be("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function q(pt,Le){return Math.sqrt(Math.pow(pt.x-Le.x,2)+Math.pow(pt.y-Le.y,2))}function Ae(pt,Le,We){return{x:pt.x+(Le.x-pt.x)*We,y:pt.y+(Le.y-pt.y)*We}}function Xe(pt){if(!pt)return"";var Le=O({},pt);for(var We in Le)Le[We]instanceof Object&&(Le[We]=""+Le[We]);return Le}function yt(pt){return pt<26?pt+65:pt<52?pt+71:pt<62?pt-4:62===pt?43:63===pt?47:65}var Je={top:0,left:0,bottom:0,right:0,height:0,width:0},je=function(){function pt(Le){var We,$e,gt,Zt,_n,ct,De;if(this.id=Le.id||"map-"+Math.floor(999999*Math.random()),this.url=Le.url||"local-"+R.VV.hashAsciiStr(Le.svg_data||""),this.element=Le.element||null,this.labels=Le.labels||[],this.features=Le.features||[],this.actions=Le.actions||[],this.styles=Le.styles||{},this.svg_data=Le.svg_data||"",this.content_ratio=Le.content_ratio||{x:1,y:1},this.zoom=Le.zoom||1,this.center={x:null!=(We=null==($e=Le.center)?void 0:$e.x)?We:.5,y:null!=(gt=null==(Zt=Le.center)?void 0:Zt.y)?gt:.5},this.rotate=Le.rotate||0,this.ratio=Le.ratio||1,this.svg_ratio=Le.svg_ratio||1,this.max_resolution=Le.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=Le.focus||null,this.options=Le.options||{},this.mappings=Le.mappings||{},this.box={top:(Le.box||Je).top,left:(Le.box||Je).left,height:(Le.box||Je).height,width:(Le.box||Je).width},this.desired_zoom=Le.desired_zoom||Le.zoom||this.zoom,this.desired_center={x:(null==(_n=Le.desired_center)?void 0:_n.x)||this.center.x,y:(null==(ct=Le.desired_center)?void 0:ct.y)||this.center.y},this.updated_count=(Le.updated_count||0)+1,this.zoom!==this.desired_zoom){var st=this.desired_zoom-this.zoom>=0?1:-1,Fe=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),bt=Math.round(Fe/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===Fe?this.zoom+st*Fe:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*bt,y:this.center.y+(this.desired_center.y-this.center.y)*bt}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var Ft=this.desired_center.x-this.center.x>=0?1:-1,An=this.desired_center.y-this.center.y>=0?1:-1,Rn=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),ni=Rn/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+Ft*Rn,y:this.center.y+An*ni}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(De=Le?.use_gpu)||De}return pt.prototype.contains=function(Le){this.svg_data.includes('id="'+Le+'"')},pt}(),K=new A.t([]),oe=new w.B7,ge=oe.pipe((0,S.p)(function(pt){return"resize"===pt}));function ye(pt){return K.getValue().find(function(Le){return Le.id===pt})}function Be(pt,Le){var We=Ce();if(!((pt=We.find(function(gt){return gt.id===(pt instanceof je?pt.id:pt)}))instanceof je))return null;delete Le.url;var $e=new je(O({},pt,Le));return Pt($e),$e.needs_update&&J(pt.id+"_updating",function(){return Be($e,{})},16),$e}function Qe(pt){return K.pipe((0,S.p)(function(Le){return!!Le.find(function(We){return We.id===pt})}),(0,I.T)(function(Le){return Le.find(function(We){return We.id===pt})}),function y(pt,Le){return We=>We.lift(new x(pt,Le))}())}function Pt(pt){var Le=Ce().filter(function(We){return We.id!==pt.id});Le.push(pt),K.next(Le)}function Ce(){return K.getValue()}var Qt,Vt,Tt,Ot,ft,Oe,Ye,vt=new A.t({}),It={},at=!1,ot=!1,Nt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Ut=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],wt=!1;function ut(pt,Le,We){if(void 0===We&&(We=Qt),!at){ot=!0;var $e=ye(pt);if($e){var gt=X(Le),Zt={x:Math.max(0,Math.min(1,(gt.x-We.x)/$e.box.width/$e.desired_zoom/$e.svg_ratio+$e.center.x)),y:Math.max(0,Math.min(1,(gt.y-We.y)/$e.box.height/$e.desired_zoom/$e.svg_ratio+$e.center.y))};Qt=gt,Be($e,{center:Zt,desired_center:Zt})}}}function dt(){be("INPUT","Ending pinch/pan..."),ue("pan_start"),at=!1,ot=!1,Ot&&window.removeEventListener("mousemove",Ot),ft&&window.removeEventListener("mouseup",ft),Oe&&window.removeEventListener("touchmove",Oe),Ye&&window.removeEventListener("touchend",Ye),Ot=ft=Oe=Ye=Vt=null}window.addEventListener("blur",function(){return dt()});var Z=function(pt){try{return Promise.resolve(new Promise(function(Le){Ei[pt.id]||(Ei[pt.id]=[]),Ei[pt.id].push(Le),J("resize-"+pt.id,function(){var We=pt.element;if(!We)throw new Error("No element set on viewer");var $e=We.querySelector(".svg-viewer__view-container"),gt=We.querySelector(".svg-viewer__svg-overlays"),Zt=We.querySelector("#"+pt.id),_n=We.querySelector(".svg-viewer"),ct=We.querySelector(".svg-viewer__svg-output"),De=We.querySelector("iframe"),st=_n?.getBoundingClientRect()||{},Fe=$e?.getBoundingClientRect()||{};if(!(gt&&ct&&De&&$e))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var bt,Ft,An=st.height/st.width,Rn=(null==(bt=ct.firstElementChild)||null==(Ft=bt.viewBox)?void 0:Ft.baseVal)||{},ni=Rn.height/Rn.width;ct.firstElementChild&&(ct.firstElementChild.style.width="200%");var gi=(st.width-32)*Math.min(1,An/ni),Ui={width:gi,height:gi*ni};gt.style.width=Rn.width+"px",gt.style.height=Rn.height+"px",$e.style.width=Rn.width+"px",$e.style.height=Rn.height+"px",De.style.width=Rn.width+"px",De.style.height=Rn.height+"px",De.width=""+Rn.width,De.height=""+Rn.height;var Ti=Math.min(st.height/Rn.height,st.width/Rn.width),Hi=Zt?.getBoundingClientRect(),Zn=gt?.getBoundingClientRect(),Gi={x:1,y:1};Hi&&Zn&&(Gi={x:Zn.width*Ti*.975/Hi.width,y:Zn.height*Ti*.975/Hi.height}),Hn[pt.id]="";var lr=Be(pt,{ratio:Ui.height/Ui.width,svg_ratio:Ti,box:Fe,content_ratio:Gi});return lr?(pt=lr,Promise.resolve(nn(pt).catch(function(ir){return console.warn(ir),!1})).then(function(ir){ir&&(Ei[pt.id].forEach(function(Sr){return Sr()}),Ei[pt.id]=[])})):Promise.resolve()}catch(ir){return Promise.reject(ir)}})},100)}))}catch(Le){return Promise.reject(Le)}},Pe={},pe={},lt={},Gt={},rn={},Hn={},Ei={};function nn(pt){return Pe[pt.id]||(Pe[pt.id]=new Promise(function(Le){var We=requestAnimationFrame(function(){if(Pe[pt.id]){var $e=pt.element;if(!$e)throw new Error("No element set on viewer");var gt=$e.querySelector("style"),Zt="",_n=$e.querySelector(".svg-viewer__render-container"),ct="scale("+pt.zoom*pt.svg_ratio+")";if(!_n||!gt)throw new Error("Viewer is not setup yet.");var De=100*pt.zoom*pt.svg_ratio*(pt.center.x-.5),st=100*pt.zoom*pt.svg_ratio*(pt.center.y-.5);_n.style.transform=(pt.use_gpu?"translate3d("+De+"%, "+st+"%, 0)":"translate("+De+"%, "+st+"%)")+" "+ct+" rotate("+pt.rotate+"deg)",Zt+="#"+pt.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+pt.rotate+"deg) scale("+1/pt.zoom*(1/pt.svg_ratio)+"); }",gt.innerHTML=Zt+="#"+pt.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+pt.rotate+"deg); height: 100%; width: 100%; }",function Fe(bt){try{if((JSON.stringify(O({},bt.styles))||"").localeCompare(Hn[bt.id])){var Ft=bt.element;if(!Ft)throw new Error("No element set on viewer");var An=Ft.querySelector(".svg-viewer__iframe");if(!An)throw new Error("No iframe created for viewer");if(!An.contentWindow)return An.onload=function(){setTimeout(function(){return Fe(bt)},50),setTimeout(function(){return Fe(bt)},500)},Promise.resolve();var Rn={};Rn["[empty"+Math.floor(999999*Math.random())+"]"]={};var ni=zt(O({},bt.styles,Rn));An.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:ni}),"*")}return Promise.resolve()}catch(gi){return Promise.reject(gi)}}(pt),function(Fe){var bt=JSON.stringify(Fe.focus);if(Fe.focus&&bt!==It[Fe.id]){var Ft,An=Math.max(.5,Math.min(10,Fe.focus.zoom_level||1));Ft="string"==typeof Fe.focus.location?function se(pt,Le,We){var $e,gt,Zt=null==($e=pt.element)?void 0:$e.querySelector(".svg-viewer__svg-overlays"),_n=null==(gt=pt.element)?void 0:gt.querySelector("svg"),ct=_n?.querySelector("#"+j(Le));if(ct&&_n&&Zt){var De=We||Zt?.getBoundingClientRect()||{},st=ct?.getBoundingClientRect()||{};return{x:(st.left+st.width/2-De.left)/De.width,y:(st.top+st.height/2-De.top)/De.height}}return be("DOM","Unable to find element with ID "+Le,void 0,"warn"),{x:-1,y:-1}}(Fe,Fe.focus.location):Fe.focus.location,It[Fe.id]=bt;var Rn={x:1-Ft.x,y:1-Ft.y};Be(Fe,{center:Rn,desired_center:Rn,zoom:An,desired_zoom:An})}}(pt),xt(pt),delete Pe[pt.id],cancelAnimationFrame(We),Le()}})})),Pe[pt.id]}function xt(pt){var Le,We,$e=null==(Le=pt.element)?void 0:Le.querySelector("svg");if(Object.keys(pt.mappings||{}).length){var gt=null==(We=pt.element)?void 0:We.querySelector(".svg-viewer__svg-overlays");if(gt&&$e){if(!gt.getBoundingClientRect().width)return J(pt.id+"|render-overlays",function(){return xt(pt)},50);requestAnimationFrame(function(){(function(Zt){var _n=Zt.labels.filter(function(lr){return!lr.zoom_level||lr.zoom_level<=Zt.zoom}),ct=JSON.stringify(_n);if(ct!==lt[Zt.id]){var De,st=null==(De=Zt.element)?void 0:De.querySelector(".svg-viewer__svg-overlays");if(!st)return;Array.from(st.querySelectorAll("[label]")).filter(function(lr){return lr.parentNode}).forEach(function(lr){return st.removeChild(lr)});for(var Fe,bt=L(_n);!(Fe=bt()).done;){var Ft,An,Rn,ni=Fe.value,gi={x:0,y:0},Ui="~Nothing~";"string"==typeof ni.location?(gi=Zt.mappings[ni.location]||gi,Ui="#"+ni.location):(null!=(Ft=ni.location)&&Ft.y||null!=(An=ni.location)&&An.x)&&(Ui="loc-"+(gi=ni.location).x+"-"+gi.y);var Ti=document.createElement("div");Ti.setAttribute("label","true"),Ti.classList.add("svg-viewer__svg-overlay-item"),Ti.classList.add("label"),Ti.style.top=100*gi.y+"%",Ti.style.left=100*gi.x+"%";var Hi,Zn=document.createElement("div"),Gi=document.createElement("label");Gi.classList.add("svg-viewer__label"),Gi.setAttribute("for",Ui),null!=(Rn=ni.css_class)&&Rn.length&&(Hi=Gi.classList).add.apply(Hi,ni.css_class),ni.z_index&&(Ti.style.zIndex=""+ni.z_index),Gi.textContent=ni.content,Zn.appendChild(Gi),Ti.appendChild(Zn),st.appendChild(Ti)}be("RENDER","Added "+Zt.labels.length+" labels to view."),lt[Zt.id]=ct}})(pt),function(Zt){var _n=JSON.stringify(Zt.actions.map(function(ni){return O({},ni,{callback:""})}));if(_n!==rn[Zt.id]){var ct,De=null==(ct=Zt.element)?void 0:ct.querySelector(".svg-viewer__svg-overlays");if(!De)return;Array.from(De.querySelectorAll(".action-zone")).filter(function(ni){return ni.parentNode&&De.contains(ni.parentNode)}).forEach(function(ni){return De.removeChild(ni)});for(var st,Fe=L(Zt.actions);!(st=Fe()).done;){var bt=st.value;if(bt.action&&bt.id&&"*"!==bt.id&&!1!==bt.zone){var Ft=document.createElement("button");Ft.id=""+bt.id;var An=Zt.mappings[bt.id]||{x:0,y:0},Rn=Zt.mappings[bt.id]||{w:0,h:0};Ft.classList.add("svg-viewer__svg-overlay-item"),Ft.classList.add("action-zone"),Ft.style.top=100*An.y+"%",Ft.style.left=100*An.x+"%",(Rn.w||Rn.h)&&(Ft.style.width=100*Rn.w+"%",Ft.style.height=100*Rn.h+"%",Ft.style.transform="translate(-50%, -50%)"),De.appendChild(Ft)}}rn[Zt.id]=_n}}(pt),function(Zt){var _n=JSON.stringify(Zt.features.map(function(Hi){return O({},Hi,{content:"",data:Xe(Hi.data)})}));if(_n!==Gt[Zt.id]){var ct,De=null==(ct=Zt.element)?void 0:ct.querySelector(".svg-viewer__svg-overlays");if(!De)return console.log("Unable to get overlay element.");var st=De.querySelectorAll(".feature"),Fe=[];window.overlay_el=De,st.forEach(function(Hi){if(Hi.parentNode){var Zn=Hi.getAttribute("track-id");"none"!==Zn&&Zt.features.find(function(Gi){return Gi.track_id===Zn})?Fe.push(Hi):De.removeChild(Hi)}});for(var bt,Ft=L(Zt.features);!(bt=Ft()).done;){var An,Rn,ni=bt.value;if(ni.content&&!Fe.includes(ni.content)){var gi={x:0,y:0},Ui={w:0,h:0},Ti=document.createElement("button");"string"==typeof ni.location?(Ti.id=""+ni.location,gi=Zt.mappings[ni.location]||gi,(ni.hover||ni.full_size)&&(Ui=Zt.mappings[ni.location]||Ui)):(null!=(An=ni.location)&&An.y||null!=(Rn=ni.location)&&Rn.x)&&(gi=ni.location),(gi.x||gi.y)&&(Ti.classList.add("svg-viewer__svg-overlay-item"),Ti.setAttribute("feature","true"),Ti.setAttribute("track-id",""+(ni.track_id||"none")),Ti.classList.add("feature"),ni.z_index&&(Ti.style.zIndex=""+ni.z_index),ni.hover&&Ti.classList.add("svg-viewer__svg-overlay-item__hover"),Ti.style.top=100*gi.y+"%",Ti.style.left=100*gi.x+"%",Ui.w||Ui.h?(Ti.style.width=100*Ui.w+"%",Ti.style.height=100*Ui.h+"%"):(Ti.style.width="1%",Ti.style.height=1/Zt.ratio+"%"),Ti.style.transform="translate(-50%, -50%)",ni.content instanceof Node&&Ti.appendChild(ni.content),De.appendChild(Ti))}}be("RENDER","Added "+Zt.features.length+" features to view."),Gt[Zt.id]=_n}}(pt)})}}}function zt(pt){var Le="";for(var We in pt)if(pt[We]){var $e="";for(var gt in pt[We])pt[We][gt]&&($e+=gt+": "+pt[We][gt]+"; ");Le+="svg "+We.split(" ").map(function(Zt){return j(Zt)}).join(" ")+" { "+$e+" } "}return Le}ce("on_resize",ge.subscribe(function(){for(var pt,Le=function(){var $e=pt.value;try{J("resize-"+$e.id,function(){return Z($e)})}catch(gt){console.warn(gt)}},We=L(Ce());!(pt=We()).done;)Le()}));var $t=function(pt){try{var Le=function(gt){return ce((We=new je(O({},pt,{svg_data:gt}))).id+"-render",Qe(We.id).subscribe(function(Zt){return nn(Zt).catch(function(_n){return console.warn(_n)})})),Pt(We),Promise.resolve(function(Zt){try{var _n,ct,De=Zt.element;if(!De)throw new Error("No element set on viewer");var st=document.createElement("div"),Fe=document.createElement("style"),bt=document.createElement("div"),Ft=document.createElement("div"),An=document.createElement("div"),Rn=document.createElement("div"),ni=document.createElement("iframe");Ft.appendChild(An),Ft.appendChild(Rn),st.appendChild(Fe),st.appendChild(bt),bt.appendChild(Ft),st.classList.add("svg-viewer"),st.id=Zt.id,Fe.id=Zt.id,ni.id="svg-display",ni.classList.add("svg-viewer__iframe"),bt.classList.add("svg-viewer__view-container"),Ft.classList.add("svg-viewer__render-container"),Rn.classList.add("svg-viewer__svg-overlays"),An.classList.add("svg-viewer__svg-output"),An.id="svg-output",An.innerHTML=Zt.svg_data;var gi=(null==(_n=An.firstElementChild)||null==(ct=_n.viewBox)?void 0:ct.baseVal)||{};bt.style.width=gi.width+"px",bt.style.height=gi.height+"px",Rn.style.width=gi.width+"px",Rn.style.height=gi.height+"px",Rn.appendChild(ni),De.appendChild(st);var Ui=bt?.getBoundingClientRect()||{},Ti=Be(Zt,{box:Ui});return Ti?(Zt=Ti,Promise.resolve(function Hi(Zn){return new Promise(function(Gi){requestAnimationFrame(function(){var lr,ir=null==(lr=Zn.element)?void 0:lr.querySelector("svg");if(!ir||!ir.clientWidth)return J(Zn.id+"-setup",function(){return Hi(Zn).then(function(Hr){return Gi()})},100);var Sr=pe[Zn.url]||function(Hr){if(!Hr)return{};var vs={},Vr=Hr?.getBoundingClientRect()||{},bs=Hr.querySelectorAll("[id]");return Hr.id="svg-viewer-root",vs["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},bs.forEach(function(Ss){var ss=Ss?.getBoundingClientRect()||{};vs[Ss.id]={x:Math.floor((ss.left+ss.width/2-Vr.left)/Vr.width*1e5)/1e5,y:Math.floor((ss.top+ss.height/2-Vr.top)/Vr.height*1e5)/1e5,w:Math.floor(ss.width/Vr.width*1e5)/1e5,h:Math.floor(ss.height/Vr.height*1e5)/1e5}}),vs}(ir);pe[Zn.url]=Sr,Be(Zn,{mappings:Sr}),ir.style.display="none",function(Hr){try{var vs=JSON.stringify(O({},Hr.styles))||"";if(vs.localeCompare(Hn[Hr.id])){var Vr,bs,Ss=Hr.element;if(!Ss)throw new Error("No element set on viewer");var ss=Ss.querySelector(".svg-viewer__iframe"),Yi=Ss.querySelector(".svg-viewer__svg-output");if(!ss)throw new Error("No iframe created for viewer");var rr=(null==(Vr=Yi.firstElementChild)||null==(bs=Vr.viewBox)?void 0:bs.baseVal)||{},ar=""+Hr.svg_data;ar=/<svg[^>]*width="[^>]*>/.test(ar)?ar:ar.replace("<svg",'<svg width="'+rr.width+'" height="'+rr.height+'" ');var zi=function(si){for(var Ge=2,Mt="",ne=si.length,et=0,He=0;He<ne;He++)He>0&&4*He/3%76==0&&(Mt+="\r\n"),et|=si[He]<<(16>>>(Ge=He%3)&24),2!==Ge&&si.length-He!=1||(Mt+=String.fromCodePoint(yt(et>>>18&63),yt(et>>>12&63),yt(et>>>6&63),yt(63&et)),et=0);return Mt.substr(0,Mt.length-2+Ge)+(2===Ge?"":1===Ge?"=":"==")}(function(si){for(var Ge,Mt,ne=si.length,et=0,He=0;He<ne;He++){var kt;(Mt=null!=(kt=si.codePointAt(He))?kt:0)>65536&&He++,et+=Mt<128?1:Mt<2048?2:Mt<65536?3:Mt<2097152?4:Mt<67108864?5:6}Ge=new Uint8Array(et);for(var Bt=0,Jn=0;Bt<et;Jn++){var Pi;(Mt=null!=(Pi=si.codePointAt(Jn))?Pi:0)<128?Ge[Bt++]=Mt:Mt<2048?(Ge[Bt++]=192+(Mt>>>6),Ge[Bt++]=128+(63&Mt)):Mt<65536?(Ge[Bt++]=224+(Mt>>>12),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt)):Mt<2097152?(Ge[Bt++]=240+(Mt>>>18),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Jn++):Mt<67108864?(Ge[Bt++]=248+(Mt>>>24),Ge[Bt++]=128+(Mt>>>18&63),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Jn++):(Ge[Bt++]=252+(Mt>>>30),Ge[Bt++]=128+(Mt>>>24&63),Ge[Bt++]=128+(Mt>>>18&63),Ge[Bt++]=128+(Mt>>>12&63),Ge[Bt++]=128+(Mt>>>6&63),Ge[Bt++]=128+(63&Mt),Jn++)}return Ge}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+zt(O({},Hr.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+ar+"</body></html>"));ss.src="data:text/html;base64,"+zi,Hn[Hr.id]=vs}Promise.resolve()}catch(si){return Promise.reject(si)}}(Zn),xt(Zn),Gi()})})}(Zt)).then(function(){(function(Hi,Zn){void 0===Zn&&(Zn=Nt);var Gi=vt.getValue(),lr=Hi.element;Gi[Hi.id]&&Gi[Hi.id].unsubscribe();for(var ir,Sr=[],Hr=function(){var Vr=ir.value;Sr.push((0,D.R)(lr,Vr).pipe((0,I.T)(function(bs){return{id:Hi.id,type:Vr,event:bs}})))},vs=L(Zn);!(ir=vs()).done;)Hr();Gi[Hi.id]=C.h.apply(void 0,Sr).subscribe(function(Vr){var bs,ar,zi,Ss=Vr.id,ss=Vr.type,Yi=Vr.event;switch(Ut.includes(ss)&&Yi.preventDefault(),function(rr){var ar,zi=rr.type,si=rr.event,Ge=ye(rr.id);if(Ge&&null!=(ar=Ge.actions)&&ar.length){var Mt=Ge.actions.sort(function(ne,et){return(et.priority||0)-(ne.priority||0)}).find(function(ne){var et;return ne.action.includes(zi)&&("*"===ne.id||ne.id===(null==(et=si.target)?void 0:et.id))});Mt&&Mt.callback(si,W(Ge,X(si)))}}(Vr),ss){case"touchstart":case"mousedown":(null==(bs=Yi.touches)?void 0:bs.length)>=2?function(rr,ar){be("INPUT","Starting pinching..."),Oe&&window.removeEventListener("touchmove",Oe);var zi=ye(rr);if(at=!0,zi&&!zi.options.disable_zoom){var si=[{x:ar.touches[0].clientX,y:ar.touches[0].clientY},{x:ar.touches[1].clientX,y:ar.touches[1].clientY}],Ge=si.map(function(ne){return W(zi,ne)}),Mt={x:(Ge[0].x+Ge[1].x)/2,y:(Ge[0].y+Ge[1].y)/2};Vt={x:1-Mt.x,y:1-Mt.y},Tt=q(si[0],si[1]),ar instanceof MouseEvent||(Oe=function(ne){return ne.touches.length>=2?function(et,He,kt){void 0===kt&&(kt=Tt);var Bt=ye(et);if(Bt&&!Bt.options.disable_zoom){var Jn=[{x:He.touches[0].clientX,y:He.touches[0].clientY},{x:He.touches[1].clientX,y:He.touches[1].clientY}],Pi=q(Jn[0],Jn[1]),sr=Math.max(.5,Math.min(10,Bt.zoom*Pi/kt)),Dr=sr!=Bt.zoom?Ae(Bt.center,Vt,1-Bt.zoom/sr):Bt.center;Tt=Pi,Be(Bt,{zoom:sr,center:Dr,desired_zoom:sr,desired_center:Dr})}}(rr,ne,Tt):""},window.addEventListener("touchmove",Oe))}}(Ss,Yi):function(rr,ar){if(!at){be("INPUT","Starting panning...");var zi=ye(rr);Ot&&window.removeEventListener("mousemove",Ot),Ot&&window.removeEventListener("mouseup",ft),Oe&&window.removeEventListener("touchmove",Oe),Oe&&window.removeEventListener("touchend",Ye),zi&&!zi.options.disable_pan&&(Qt=X(ar),ar instanceof MouseEvent?(Ot=function(si){return ut(rr,si,Qt)},ft=function(){return dt()},window.addEventListener("mousemove",Ot),window.addEventListener("mouseup",ft)):(Oe=function(si){return ut(rr,si,Qt)},Ye=function(){return dt()},window.addEventListener("touchmove",Oe),window.addEventListener("touchend",Ye)),J("pan_start",function(){return ot=!0},200))}}(Ss,Yi);break;case"touchend":case"mouseup":ot||at||(ar=Yi,(zi=ye(Ss))&&be("INPUT","Clicked:",W(zi,X(ar)))),dt();break;case"mousewheel":case"wheel":!function(rr,ar){var zi=ye(rr);if(zi){var si=Math.min(10,Math.max(.5,zi.zoom*(1+(ar.deltaY>=0?-.02:.02)))),Ge=W(zi,X(ar));Vt={x:1-Ge.x,y:1-Ge.y},J("clear_action_start",function(){return Vt=null});var Mt=si!=zi.zoom?Ae(zi.center,Vt,1-zi.zoom/si):zi.center;Be(zi,{zoom:si,center:Mt,desired_zoom:si,desired_center:Mt})}}(Ss,Yi)}}),vt.next(Gi)})(Zt),wt||(window.addEventListener("resize",function(){oe.next("resize")}),window.addEventListener("blur",function(){return dt()}),wt=!0),Z(Zt)})):Promise.resolve()}catch(Hi){return Promise.reject(Hi)}}(We)).then(function(){return We.id})},We=Ce().find(function(gt){return gt.url===pt.url});if(We)return Promise.resolve(We.id);var $e=pt.svg_data;return Promise.resolve($e?Le($e):Promise.resolve(function(gt){void 0===gt&&(gt="");try{var Zt=new Headers;if(gt.startsWith(location.origin)||gt.startsWith("/"))for(var _n in Pn)Zt.append(_n,Pn[_n]);return bn[gt]?Promise.resolve(bn[gt]):Promise.resolve(fetch(gt,{headers:Zt}).catch(function(ct){return be("SVG VIEWER","Failed to load map",ct,"error"),{text:function(){return Promise.resolve("")}}})).then(function(ct){return Promise.resolve(ct.text()).then(function(De){return bn[gt]=De,De})})}catch(ct){return Promise.reject(ct)}}(pt.url)).then(Le))}catch(gt){return Promise.reject(gt)}},bn={},Pn={};function Ri(pt){for(var Le in pt)Pn[Le.toLowerCase()]=pt[Le]}function Dn(pt,Le){return Be(pt,Le)}function Kn(pt){var Le,We=ye(pt);if(We){var $e,gt,Zt,_n=null==(Le=We.element)?void 0:Le.querySelector(".svg-viewer");_n&&(We.element.removeChild(_n),$e=We,gt=Ce().filter(function(ct){return ct.id!==$e.id}),K.next(gt),Zt=""+pt,Object.keys(F).filter(function(ct){return ct.includes(Zt)}).forEach(function(ct){return re(ct)}))}}function xn(){var pt=document.getElementById("svg-viewer-global");pt||((pt=document.createElement("style")).id="svg-viewer-global",pt.innerHTML=Xn,document.head.appendChild(pt),be("Styles","Added global viewer styles to document"))}var Xn="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},6484:(hn,Re,_)=>{"use strict";function R(z,Q,Ue,tt){return new(Ue||(Ue=Promise))(function(mn,Yn){function zn(Li){try{qt(tt.next(Li))}catch(Yr){Yn(Yr)}}function mr(Li){try{qt(tt.throw(Li))}catch(Yr){Yn(Yr)}}function qt(Li){Li.done?mn(Li.value):function Jt(mn){return mn instanceof Ue?mn:new Ue(function(Yn){Yn(mn)})}(Li.value).then(zn,mr)}qt((tt=tt.apply(z,Q||[])).next())})}_.d(Re,{cor:()=>Ln,Pdm:()=>da,kMc:()=>Ac,Kz4:()=>ds,kup:()=>Mo,jv5:()=>Fe,L2z:()=>Dr,omv:()=>gt,yHY:()=>aa,JtY:()=>Ql,f_4:()=>Id,XTx:()=>va,vWy:()=>ya,TMs:()=>Fo,sc7:()=>Yo,WsZ:()=>Vi,rig:()=>hc,s_7:()=>gd,XYg:()=>Ya,F6F:()=>Qo,bEY:()=>Go,yJg:()=>Qs,smE:()=>qd,BbB:()=>Lt,Kfl:()=>un,n1$:()=>Po,smM:()=>Fl,Be_:()=>Jr,$gJ:()=>ws,bt6:()=>Tl,BCG:()=>Zr,mjH:()=>bl,bpY:()=>_t,V4n:()=>Gn,VLL:()=>to,ShT:()=>Er,D58:()=>an,TKu:()=>Is}),"function"==typeof SuppressedError&&SuppressedError;var ge=_(6651),ye=_(1536),lt=_(434),Gt=_(2672),rn=_(2677);
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
      
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
      
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */function Hn(z,Q={}){const{selector:Ue}=Q,tt=function Pt(z,Q){var Ue={};for(var tt in z)Object.prototype.hasOwnProperty.call(z,tt)&&Q.indexOf(tt)<0&&(Ue[tt]=z[tt]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Jt=0;for(tt=Object.getOwnPropertySymbols(z);Jt<tt.length;Jt++)Q.indexOf(tt[Jt])<0&&Object.prototype.propertyIsEnumerable.call(z,tt[Jt])&&(Ue[tt[Jt]]=z[tt[Jt]])}return Ue}(Q,["selector"]);return new lt.c(Jt=>{const mn=new AbortController,Yn=mn.signal;let zn=!0,mr=!1;const qt=new Gt.y;let Li;if(qt.add(()=>{mr=!0,zn&&mn.abort()}),tt){if(tt.signal)if(tt.signal.aborted)mn.abort();else{const Yr=tt.signal,Io=()=>{Yn.aborted||mn.abort()};Yr.addEventListener("abort",Io),qt.add(()=>Yr.removeEventListener("abort",Io))}Li=Object.assign({},tt,{signal:Yn})}else Li={signal:Yn};return fetch(z,Li).then(Yr=>{Ue?qt.add((0,rn.H)(Ue(Yr)).subscribe(Io=>Jt.next(Io),Io=>{zn=!1,mr||Jt.error(Io)},()=>{zn=!1,Jt.complete()})):(zn=!1,Jt.next(Yr),Jt.complete())}).catch(Yr=>{zn=!1,mr||Jt.error(Yr)}),qt})}var Ei=_(8627),on=_(3602),nn=_(1963),xt=_(3119),zt=_(3879);class bn{constructor(Q,Ue){this.notifier=Q,this.source=Ue}call(Q,Ue){return Ue.subscribe(new Pn(Q,this.notifier,this.source))}}class Pn extends zt.gn{constructor(Q,Ue,tt){super(Q),this.notifier=Ue,this.source=tt}error(Q){if(!this.isStopped){let Ue=this.errors,tt=this.retries,Jt=this.retriesSubscription;if(tt)this.errors=void 0,this.retriesSubscription=void 0;else{Ue=new xt.B7;try{const{notifier:mn}=this;tt=mn(Ue)}catch(mn){return super.error(mn)}Jt=(0,zt.tS)(tt,new zt.zA(this))}this._unsubscribeAndRecycle(),this.errors=Ue,this.retries=tt,this.retriesSubscription=Jt,Ue.next(Q)}}_unsubscribe(){const{errors:Q,retriesSubscription:Ue}=this;Q&&(Q.unsubscribe(),this.errors=void 0),Ue&&(Ue.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:Q}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=Q,this.source.subscribe(this)}}var Ri=_(3107),Dn=_(3398),Kn=_(5522),xn=_(521),Xn=_(5443),pt=_(3277);function Le(z,Q,Ue,tt="debug",Jt){if(window.debug){const Yn=["color: #0288D1",`color:${Jt||"#009688"}`,"color: default"];Ue?We()?console[tt](`%c[PlaceOS]%c[${z}] %c${Q}`,...Yn,Ue):console[tt](`[PlaceOS][${z}] ${Q}`,Ue):We()?console[tt](`%c[PlaceOS]%c[${z}] %c${Q}`,...Yn):console[tt](`[PlaceOS][${z}] ${Q}`)}}function We(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function $e(){var z,Q,Ue,tt,Jt,mn;const Yn=null!==(z=window.location)&&void 0!==z&&z.hash?null===(Q=window.location)||void 0===Q?void 0:Q.hash.slice(1):(null===(Ue=window.location)||void 0===Ue?void 0:Ue.href.split("#")[1])||"";let zn=null!==(tt=window.location)&&void 0!==tt&&tt.search?null===(Jt=window.location)||void 0===Jt?void 0:Jt.search.slice(1):(null===(mn=window.location)||void 0===mn?void 0:mn.href.split("?")[1])||"",mr={};if(Yn)if(Yn.indexOf("?")>=0){const Li=Yn.split("?");mr=gt(Li[0]),zn||(zn=Li[1])}else mr=gt(Yn);let qt={};return zn&&(qt=gt(zn)),Object.assign(Object.assign({},mr),qt)}function gt(z){const Q={},Ue=z.split("&");for(const tt of Ue){const Jt=tt.split("=");Jt[1]&&(Q[decodeURIComponent(Jt[0])]=decodeURIComponent(Jt[1]))}return Q}const Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function ct(z){var Q,Ue,tt,Jt,mn;const Yn=((null===(Q=window.location)||void 0===Q?void 0:Q.hash)||"").replace(new RegExp(`${z}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),zn=((null===(Ue=window.location)||void 0===Ue?void 0:Ue.search)||"").replace(new RegExp(`${z}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(tt=window.history)&&void 0!==tt&&tt.replaceState&&(null===(Jt=window.history)||void 0===Jt||Jt.replaceState(null,"",`${null===(mn=window.location)||void 0===mn?void 0:mn.pathname}${Yn}${zn}`))}function Fe(z,Q){for(const Ue in z)z.hasOwnProperty(Ue)&&Q.indexOf(z[Ue])>=0&&delete z[Ue];return z}class Rn{abort(){Le("Stub","Aborted")}}function ni(z){let Q="";if(z)for(const Ue in z)z.hasOwnProperty(Ue)&&null!=z[Ue]&&(Q+=`${Q?"&":""}${Ue}=${encodeURIComponent(z[Ue])}`);return Q}const gi={};function Zn(z,Q,Ue=300){if(!(z&&Q&&Q instanceof Function))throw new Error(z?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");Gi(z),gi[z]=setTimeout(()=>{Q(),delete gi[z]},Ue)}function Gi(z){gi[z]&&(clearTimeout(gi[z]),delete gi[z])}const vs={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var Vr=_(4938),bs=_(9533),Ss=_(5882),ss=_(5859);let rr,ar,Yi={};const zi={};let si="",Ge="";const Mt=new xn.t(""),ne=new xn.t("");let et="/api/engine/v2";const He=new xn.t(!1),kt=He.asObservable();let Bt=0;function Jn(){var z,Q;return`${Yi.secure||(null===(z=window.location)||void 0===z?void 0:z.protocol.indexOf("https"))>=0?"https:":"http:"}//${Yi.host||(null===(Q=window.location)||void 0===Q?void 0:Q.host)}${Pi()}`}function Pi(){return"ACA Engine"===Yi.version?"/control/api":et}function Dr(){return si}function Zr(z,Q=!0){rr.setItem(`${si}_x-api-key`,`${z}`),rr.setItem("trusted",`${Q}`),function Os(z,Q=(0,bs.L)(new Date,2).valueOf()){Yi.ignore_api_key&&"x-api-key"===z||(rr.setItem(`${si}_expires_at`,`${Q}`),rr.setItem(`${si}_access_token`,z))}("x-api-key",(0,Vr.e)(new Date,5).valueOf())}function ds(){return ra("x-api-key",!1)||""}function Er(z=!0){if(Yi.mock)return"mock-token";if(!rr)return"";if(ds()&&!Yi.ignore_api_key)return"x-api-key";const Q=rr.getItem(`${si}_expires_at`)||"",Ue=Mt.getValue();return(0,Ss.Y)(+Q,new Date)&&(Le("Auth","Token expired. Requesting new token..."),va(),zi.load_authority||(Bt+=1,Zn("re-authorise",()=>La().catch(tt=>Le("Auth",`Failed to get token: ${tt}`)),200*Math.min(20,Bt))),!z)?"":Ue||rr.getItem(`${si}_access_token`)||""}function Jr(){return ne.getValue()||rr.getItem(`${si}_refresh_token`)||""}function Ds(){var z;return Yi.host||(null===(z=window.location)||void 0===z?void 0:z.host)}function Mo(){return ar}function Yo(){return He.getValue()}function Fo(){return!!Yi.mock}function Ya(){return kt}function qa(){return"true"===ra("trust")||"true"===ra("trusted")}function ya(){return!!ds()&&!Yi.ignore_api_key||"true"===ra("fixed_device")}function ra(z,Q=!0){let tt=$e()[z];if(rr){const Jt=`${Dr()}_${z}`;tt=tt||rr.getItem(Jt)||rr.getItem(z)||"",Q&&rr.setItem(Jt,`${tt}`)}return tt}function bl(z){var Q;return Yi=z||Yi,Yi.token_header=null!==(Q=Yi.token_header)&&void 0!==Q?Q:function Ft(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=Rn),rr="session"===Yi.storage?sessionStorage:localStorage,si=pt.VV.hashStr(Yi.redirect_uri,!1),$a()}function Fa(){return Le("Auth","Refreshing authorty."),ar=void 0,$a()}function va(){Le("Auth","Invalidating tokens."),rr.removeItem(`${si}_access_token`),rr.removeItem(`${si}_expires_at`),Mt.getValue()&&Mt.next("")}function La(z,Q=ar){return zi.authorise||(zi.authorise=new Promise((Ue,tt)=>{if(!Q)return delete zi.authorise,tt("Authority is not loaded");Le("Auth","Authorising user...");const Jt=()=>{if(Er(!1))Le("Auth","Valid token found."),delete zi.authorise,Ue(Er());else{const mn=[()=>{Le("Auth","Successfully generated token."),Ue(Er()),delete zi.authorise},()=>{Le("Auth","Failed to generate token."),tt("Failed to generate token"),setTimeout(()=>delete zi.authorise,200)}];Yi&&"password"===Yi.auth_type?(Le("Auth","Logging in with credentials."),function Eo(z){return Ba(function Lo(z){return`${z.token_uri||"/auth/token"}?${ni({grant_type:"password",client_id:si,client_secret:z.client_secret,redirect_uri:z.redirect_uri,authority:ar?.id,scope:z.scope,username:z.username,password:z.password})}`}(z))}(Yi).then(...mn),Bt=0):Ge||Jr()?(Le("Auth","Generating token with "+(Ge?"code":"refresh token")),wo().then(...mn),Bt=0):Q.session?(Le("Auth","Users has session. Authorising application..."),function Bl(z){return R(this,void 0,void 0,function*(){var Q;const Ue=function sa(z){const Q=function Ol(){const z=function _n(z=40){let Q="";for(let Ue=0;Ue<z;Ue++)Q+=Zt.charAt(Math.floor(Math.random()*Zt.length));return Q}();return rr.setItem(`${si}_nonce`,z),z}();z=z?`${Q};${z}`:Q;const Ue=!!Yi&&(Yi.auth_uri||"").indexOf("?")>=0,tt=(Yi?Yi.auth_uri:null)||"/auth/oauth/authorize",Jt=qa()||"auth_code"===Yi.auth_type?"code":"token";let mn=`${tt}${Ue?"&":"?"}response_type=${encodeURIComponent(Jt)}&client_id=${encodeURIComponent(si)}&state=${encodeURIComponent(z)}&redirect_uri=${encodeURIComponent(Yi.redirect_uri)}&scope=${encodeURIComponent(Yi.scope)}`;if("auth_code"===Yi.auth_type){const{challenge:Yn,verify:zn}=function lo(z=43){const Q=new Array(z).fill(0).map(()=>Ks[Math.floor(Math.random()*Ks.length)]).join(""),Ue=Dn.Kp(Dn.Cw(Q));return{challenge:Q,verify:Dn.if(Kn.hash(Ue)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${si}_challenge`,Yn),mn+="&code_challenge_method=S256",mn+=`&code_challenge=${zn}`}return mn}(z);if(Yi.use_iframe)return function Lr(z){return zi.iframe_auth||(zi.iframe_auth=new Promise((Q,Ue)=>{Le("Auth","Authorizing in an iFrame...");const tt=document.createElement("iframe");tt.style.position="absolute",tt.style.top="0",tt.style.left="0",tt.style.height="1px",tt.style.width="1px",tt.style.zIndex="-1",tt.id="place-authorize",tt.src=`${z}`;const Jt=mn=>{var Yn;if(mn.origin===(null===(Yn=window.location)||void 0===Yn?void 0:Yn.origin)&&"place-os"===mn.data.type){const zn=mn.data;if(Le("Auth","Received credentials from iFrame..."),document.body.removeChild(tt),Gi("iframe_auth"),window.removeEventListener("message",Jt),delete zi.iframe_auth,zn.token)return Q(),qo(Object.assign({access_token:zn.token},zn));Ge=zn.code||"",wo().then(mr=>Q(mr),mr=>Ue(mr))}};Zn("iframe_auth",()=>{Le("Auth","Unable to resolve iFrame after 15 seconds..."),Ue()},15e3),window.addEventListener("message",Jt),tt.onerror=mn=>{Le("Auth","iFrame error.",mn),delete zi.iframe_auth,Ue()},document.body.appendChild(tt)})),zi.iframe_auth}(Ue);null===(Q=window.location)||void 0===Q||Q.assign(Ue)})}(z).then(...mn)):(Le("Auth","No user session"),ao(Q),tt("No user session"),setTimeout(()=>delete zi.authorise,200))}};(function Gs(){return zi.check_token||(zi.check_token=new Promise((z,Q)=>R(this,void 0,void 0,function*(){Er()?(Le("Auth","Valid token found."),z(Er())):(Le("Auth","No token. Checking URL for auth credentials..."),(yield function ql(){return zi.check_params||(zi.check_params=new Promise(z=>{Le("Auth","Checking for auth parameters...");let Q=$e();if((!Q||Object.keys(Q).length<=0)&&sessionStorage&&(Q=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),Q&&(Q.code||Q.access_token||Q.refresh_token)){Q.code&&(Ge=Q.code,ct("code")),Q.refresh_token&&(rr.setItem(`${si}_refresh_token`,Q.refresh_token),ct("refresh_token"));const Ue=rr.getItem(`${si}_nonce`)||"",tt=(Q.state||"").split(";");ct("state"),ct("token_type"),Ue===tt[0]?(qo(Q),z(!!Q.access_token)):z(!1)}else z(!1);Zn("check_params_promise",()=>delete zi.check_params,50)})),zi.check_params}())?z(!0):Q()),delete zi.check_token}))),zi.check_token})().then(Jt,Jt)})),zi.authorise}function hc(){const z=()=>{for(let Ue=0;Ue<rr.length;Ue++){const tt=rr.key(Ue);tt&&tt.indexOf(si)>=0&&rr.removeItem(tt)}const Q=ar?ar.logout_url:"/logout";setTimeout(()=>{var Ue;return null===(Ue=window.location)||void 0===Ue?void 0:Ue.assign(Q)},300),He.next(!1)};(function ol(){return zi.revoke_token||(zi.revoke_token=new Promise((z,Q)=>{Le("Auth","Revoking token...");const tt=Jt=>{Le("Auth","Error revoking token.",Jt),Q(Jt),delete zi.revoke_token};Hn(`${Yi.token_uri||"/auth/token"}?token=${Er()}`,{method:"POST"}).subscribe(Jt=>{if(!Jt.ok)return tt(Jt);Le("Auth","Successfully revoked token."),Mt.next(""),ne.next(""),rr.removeItem(`${si}_access_token`),rr.removeItem(`${si}_refresh_token`),z(),delete zi.revoke_token},tt)})),zi.revoke_token})().then(z,z)}function $a(z=0){return zi.load_authority||(zi.load_authority=new Promise(Q=>{var Ue;if(He.next(!1),Yi.mock)return ar=vs,Le("Auth","System in mock mode"),He.next(!0),void Q();Le("Auth",`Fixed: ${ya()} | Trusted: ${qa()}`),Le("Auth","Loading authority...");const tt=Yi.secure||(null===(Ue=window.location)||void 0===Ue?void 0:Ue.protocol.indexOf("https"))>=0,Jt=mn=>{Le("Auth",`Failed to load authority(${mn})`),He.next(!1),Zn("load_authority",()=>{delete zi.load_authority,$a(z).then(Yn=>Q())},300*Math.min(20,++z))};Hn(`${tt?"https:":"http:"}//${Ds()}/auth/authority`,{credentials:"same-origin"}).subscribe(mn=>R(this,void 0,void 0,function*(){if(!mn.ok)return Jt(yield mn.text().catch(zn=>zn));ar=yield mn.json(),et=/[2-9]\.[0-9]+\.[0-9]+/g.test(ar.version||"")?"/api/engine/v2":"/control/api",Le("Auth","Loaded authority.",[],"group"),ar&&(Le("Auth",`Name: ${ar.name}`),Le("Auth",`Version: ${ar.version}`),Le("Auth",`Domain: ${ar.domain}`),Le("Auth",`Session: ${ar.session}`),Le("Auth",`Production: ${ar.production}`),Le("Auth",`Config Keys: ${Object.keys(ar.config||{}).length}`)),Le("Auth","",[],"groupEnd");const Yn=()=>{He.next(!0),Le("Auth","Application set online."),Q()};delete zi.load_authority,La("").then(Yn,Yn)}),Jt)})),zi.load_authority}let Mr=!1;function ao(z){var Q,Ue;if(!1!==Yi.handle_login&&!Mr){Le("Auth","Redirecting to login page...");const tt=null===(Q=z.login_url)||void 0===Q?void 0:Q.replace("{{url}}",encodeURIComponent(null===(Ue=window.location)||void 0===Ue?void 0:Ue.href));throw setTimeout(()=>{var Jt;return null===(Jt=window.location)||void 0===Jt?void 0:Jt.assign(tt)},300),Mr=!0,new Error("Redirecting to login page...")}Le("Auth","Login being handled locally."),delete zi.authorise}const Ks="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function wo(){return Ba(...function ba(){let Q=(Yi.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(si)}`,Ue="";if(Q+=`&redirect_uri=${encodeURIComponent(Yi.redirect_uri)}`,Jr()){Q+=`&refresh_token=${encodeURIComponent(Jr())}`,Q+="&grant_type=refresh_token";const tt=Q.split("?");Q=tt[0],Ue=tt[1]}else{Q+=`&code=${encodeURIComponent(Ge)}`,Q+="&grant_type=authorization_code";const tt=sessionStorage.getItem(`${si}_challenge`);tt&&(Q+=`&code_verifier=${tt}`,sessionStorage.removeItem(`${si}_challenge`)),Ge=""}return[Q,Ue]}())}function Ba(z,Q=""){return zi.generate_tokens||(zi.generate_tokens=new Promise((Ue,tt)=>{Le("Auth","Generating new token...");const Jt=mn=>{Le("Auth","Error generating new tokens.",mn),rr.removeItem(`${si}_refresh_token`),ne.next(""),tt(),delete zi.generate_tokens};Hn(z,{method:"POST",body:Q,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(mn=>R(this,void 0,void 0,function*(){if(!mn.ok)return Jt(mn);qo(yield mn.json()),Ue(),delete zi.generate_tokens}),Jt)})),zi.generate_tokens}function qo(z){const Q=(0,ss.p)(new Date,Math.max(60,parseInt(z.expires_in,10)-300));Le("Auth","Tokens generated storing..."),qa()&&(z.access_token&&(rr.setItem(`${si}_access_token`,z.access_token),ct("access_token")),z.refresh_token&&(rr.setItem(`${si}_refresh_token`,z.refresh_token),ct("refresh_token"))),z.expires_in&&(rr.setItem(`${si}_expires_at`,`${Q.valueOf()}`),ct("expires_in")),He.next(!0),Mt.next(z.access_token||""),ne.next(z.refresh_token||"")}var wa=_(9277);const kr={};function ws(z,Q=kr){!function oa(z,Q,Ue=kr){const tt=`${z}|${Q}`;Ue[tt]&&(delete Ue[tt],Le("HTTP(M)",`- ${z} ${Q}`))}(z.method,z.path,Q);const Ue=`${z.method}|${z.path}`,tt=z.path.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("/"),Jt=Object.assign(Object.assign({},z),{path_parts:tt,path_structure:tt.map(mn=>":"===mn[0]?mn.replace(":",""):"")});Q[Ue]=Jt,Le("HTTP(M)",`+ ${z.method} ${z.path}`)}function Qa(z,Q,Ue,tt=kr){const Jt=function Za(z,Q,Ue=kr){const Jt=Q.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),mn=Object.keys(Ue).reduce((Yn,zn)=>(0===zn.indexOf(`${z}|`)&&Yn.push(Ue[zn]),Yn),[]);for(const Yn of mn)if(Yn.path_structure.length===Jt.length){let zn=!0;for(let mr=0;mr<Yn.path_structure.length;mr++)if(!Yn.path_structure[mr]&&Yn.path_parts[mr]!==Jt[mr]){zn=!1;break}if(zn)return Yn}return null}(z,Q,tt);if(Jt){const mn=function al(z,Q,Ue){const tt=z.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Jt=tt[0].replace(/^\//g,""),Yn=gt(tt[1]||""),zn=Jt.split("/"),mr={};for(const Li of Q.path_structure)Li&&(mr[Li]=zn[Q.path_structure.indexOf(Li)]);const qt={url:z,path:Q.path,method:Q.method,metadata:Q.metadata,route_params:mr,query_params:Yn,body:Ue};return Le("HTTP(M)",`MATCHED ${qt.method}:`,qt),qt}(Q,Jt,Ue);return function Oi(z,Q){const Ue=z.callback?z.callback(Q):z.metadata,tt=z.delay_variance||100,Jt=z.delay||300,mn=Math.floor(Math.random()*tt-tt/2)+Jt;return Le("HTTP(M)",`RESP ${Q.method}:`,[Q.url,Ue]),(0,rn.H)([Ue]).pipe((0,wa.c)(Math.max(200,mn)))}(Jt,mn)}return null}const _o={};function Ql(z,Q,Ue=Bo){return Q||(Q={response_type:"json"}),Ue("GET",z,Object.assign({response_type:"json"},Q))}function Go(z,Q,Ue,tt=Bo){return Ue||(Ue={response_type:"json"}),tt("POST",z,Object.assign({body:Q,response_type:"json"},Ue))}function Qs(z,Q,Ue,tt=Bo){return Ue||(Ue={response_type:"json"}),tt("PUT",z,Object.assign({body:Q,response_type:"json"},Ue))}function Qo(z,Q,Ue,tt=Bo){return Ue||(Ue={response_type:"json"}),tt("PATCH",z,Object.assign({body:Q,response_type:"json"},Ue))}function aa(z,Q,Ue=Bo){return Q||(Q={response_type:"void"}),Ue("DELETE",z,Object.assign({response_type:"void"},Q))}function Va(z,Q){return R(this,arguments,void 0,function*(Ue,tt,Jt=_o){if(Ue.headers){const mn={};Ue.headers.forEach?Ue.headers.forEach((Yn,zn)=>mn[zn.toLowerCase()]=Yn):Object.keys(Ue.headers).forEach(Yn=>mn[Yn.toLowerCase()]=Ue.headers[Yn]),Jt[Ue.url||""]=mn}switch(tt){case"json":return yield Ue.json().catch(()=>({}));case"text":return yield Ue.text()}})}const Ea=()=>{va(),Fa().then(()=>null,()=>setTimeout(()=>Ea(),1e3))};function Bo(z,Q,Ue,tt=Fo,Jt=Qa,mn=Va){if(tt()){const Yn=Jt(z,Q,Ue?.body);if(Yn)return Yn}return Ue.headers=Ue.headers||{},Ue.headers["Content-Type"]="application/json",function Br(){return Mt.pipe((0,Xn.T)(z=>!!function ia(){return!!Er()}()))}().pipe((0,Ei.p)(Yn=>Yn),(0,on.s)(1),(0,nn.n)(Yn=>("x-api-key"===Er()?Ue.headers["X-API-Key"]=ds():Ue.headers.Authorization=`Bearer ${Er()}`,Hn(Q,Object.assign(Object.assign({},Ue),{body:JSON.stringify(Ue.body),method:z,credentials:"same-origin"})))),(0,nn.n)(Yn=>Yn.ok?mn(Yn,Ue.response_type):(0,ge.$)(Yn)),function $t(z){return Q=>Q.lift(new bn(z,Q))}(Yn=>Yn.pipe((0,Ri.ZZ)((zn,mr)=>511===zn.status?(ao(Mo()),(0,ye.of)(zn)):mr+1>4||401!==zn.status?(0,ge.$)(zn||{}):(Le("HTTP","Auth error",zn),Ea(),(0,ye.of)(zn))))))}let cl={},la={},es="";const Ja=z=>z;function xa(z){const{query_params:Q,fn:Ue,path:tt,endpoint:Jt}=z,mn=ni(Q),Yn=`${Jt||Jn()}${tt?"/"+tt:""}${mn?"?"+mn:""}`;return Ql(Yn).pipe((0,Xn.T)(zn=>{const mr=function uo(z,Q,Ue){const tt=function $o(z,Q=_o){return Q[z]||{}}("/"===z[0]?`${location.origin}${z}`:z),Jt={total:0,next:null};if(tt&&tt["x-total-count"]){const mn=+(tt["x-total-count"]||0);(Q.length<2||Q.length<12&&Q.indexOf("offset=")>=0)&&(cl[Ue]=mn),la[Ue]=mn,Jt.total=mn}return tt&&tt.link&&(es=function st(z){if(0===z.length)throw new Error("Input must not be of zero length");const Q=z.split(","),Ue={};for(const tt of Q){const Jt=tt.split(";");if(2!==Jt.length)throw new Error("Section could not be split on ';'");const mn=Jt[0].replace(/<(.*)>/,"$1").trim();Ue[Jt[1].replace(/rel="(.*)"/,"$1").trim()]=mn}return Ue}(tt.link||"").next,Jt.next=gt(es.split("?")[1])),Jt}(Yn,mn,tt);return{total:mr.total||0,next:mr.next?()=>xa({query_params:mr.next,fn:Ue,endpoint:Jt,path:tt}):null,data:zn&&zn instanceof Array?zn.map(qt=>(Ue||Ja)(qt)):!zn||zn instanceof Array||!zn.results?[]:zn.results.map(qt=>qt)}}))}function Ca(z){const{query_params:Q,id:Ue,path:tt,fn:Jt}=z,mn=ni(Q);return Ql(`${Jn()}/${tt}/${Ue}${mn?"?"+mn:""}`).pipe((0,Xn.T)(zn=>(Jt||Ja)(zn)))}function hr(z){const{id:Q,query_params:Ue,form_data:tt,method:Jt,path:mn,fn:Yn}=z,zn=ni(Object.assign(Object.assign({},Ue),{version:tt.version||0}));return("put"===Jt?Qs:Qo)(`${Jn()}/${mn}/${Q}${zn?"?"+zn:""}`,tt).pipe((0,Xn.T)(qt=>(Yn||Ja)(qt)))}class Us{constructor(Q={}){this.id=Q.id||"",this.name=Q.name||"",this.created_at=Q.created_at||0,this.updated_at=Q.updated_at||0,this.version=Q.version||0}toJSON(){const Q=Object.assign({},this);return Q.version=this.version,delete Q.created_at,Fe(Q,[void 0,null,""])}}var Ln=function(z){return z[z.None=0]="None",z[z.Support=1]="Support",z[z.Admin=2]="Admin",z[z.NeverDisplay=3]="NeverDisplay",z}(Ln||{});class Qn extends Us{get value(){return this.settings_string}constructor(Q={}){super(Q),this.parent_id=Q.parent_id||"",this.updated_at=Q.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=Q.settings_string||"",this.encryption_level=Q.encryption_level||Ln.None,this.keys=Q.keys||[],this.modified_by_id=Q.modified_by_id||""}}var jn=function(z){return z[z.SSH=0]="SSH",z[z.Device=1]="Device",z[z.Service=2]="Service",z[z.Websocket=3]="Websocket",z[z.Logic=99]="Logic",z}(jn||{});class mi extends Us{constructor(Q={}){var Ue;super(Q),this.description=Q.description||"",this.module_name=Q.module_name||"",this.role=null!==(Ue=Q.role)&&void 0!==Ue?Ue:jn.Logic,this.default_uri=Q.default_uri||"",this.default_port=Q.default_port||1,this.ignore_connected=Q.ignore_connected||!1,this.class_name=Q.class_name||"",this.repository_id=Q.repository_id||"",this.file_name=Q.file_name||"",this.commit=Q.commit||"",this.update_available=Q.update_available||!1,this.update_info=Q.update_info,this.settings=Q.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const tt in Ln)!isNaN(Number(tt))&&!this.settings[tt]&&(this.settings[tt]=new Qn({parent_id:this.id,encryption_level:+tt}))}}class da{constructor(Q={}){this.id=Q.id||Q.parent_id||"",this.name=Q.name||"",this.description=Q.description||"";try{this.details=("string"==typeof Q.details?JSON.parse(Q.details):Q.details)||{}}catch{this.details=Q.details||{}}this.editors=Q.editors||[],this.schema=Q.schema||"",this.updated_at=1e3*(Q.updated_at||0)||Date.now(),this.modified_by_id=Q.modified_by_id||"",this.version=Q.version||0}}class Xd extends Us{get system_id(){return this.control_system_id}get actions(){const Q=this._actions;return{functions:(Q.functions||[]).map(Jt=>Object.assign(Object.assign({},Jt),{args:Object.assign({},Jt.args)})),mailers:(Q.mailers||[]).map(Jt=>Object.assign(Object.assign({},Jt),{emails:[...Jt.emails]}))}}get conditions(){const Q=this._conditions;return{comparisons:(Q.comparisons||[]).map(Jt=>Object.assign(Object.assign({},Jt),{left:"object"==typeof Jt.left?Object.assign({},Jt.left):Jt.left,right:"object"==typeof Jt.right?Object.assign({},Jt.right):Jt.right})),time_dependents:(Q.time_dependents||[]).map(Jt=>Object.assign({},Jt))}}constructor(Q={}){super(Q),this.description=Q.description||"",this._actions=Q.actions||{functions:[],mailers:[]},this._conditions=Q.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=Q.debounce_period||0,this.important=Q.important||!1,this.enabled=Q.enabled||!1,this.webhook_secret=Q.webhook_secret||"",this.control_system_id=Q.system_id||Q.control_system_id||"",this.zone_id=Q.zone_id||"",this.system_name=Q.system_name||(Q.control_system?Q.control_system.name:""),this.enable_webhook=Q.enable_webhook||!1,this.exec_enabled=Q.exec_enabled||!1,this.supported_methods=Q.supported_methods||["POST"],this.activated_count=Q.activated_count||Q.trigger_count||0}}class Ac extends Us{constructor(Q={}){super(Q),this.settings=[null,null,null,null],this.trigger_list=[],this.description=Q.description||"",this.tags=Q.tags||[],this.triggers=Q.triggers||[],this.settings=Q.settings||[null,null,null,null],this.parent_id=Q.parent_id||"",this.location=Q.location||"",this.display_name=Q.display_name||"",this.code=Q.code||"",this.type=Q.type||"",this.count=Q.count||0,this.capacity=Q.capacity||0,this.map_id=Q.map_id||"",this.timezone=Q.timezone||"",this.images=Q.images||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Ue in Ln)!isNaN(Number(Ue))&&!this.settings[Ue]&&(this.settings[Ue]=new Qn({parent_id:this.id,encryption_level:+Ue}));Q.trigger_data&&Q.trigger_data instanceof Array&&(this.trigger_list=Q.trigger_data.map(Ue=>new Xd(Ue)))}}class Mc{constructor(Q={}){this.zone=new Ac(Q.zone),this.keys=Q.keys||[],this.metadata={};const Ue=Q.metadata||{};for(const tt of this.keys)this.metadata[tt]=new da(Ue[tt])}}const Cl="metadata";function we(z){return new da(z)}function _t(z,Q,Ue={}){return Ca({id:z,query_params:Object.assign(Object.assign({},Ue),{name:Q}),fn:tt=>we(tt[Q]),path:Cl})}function an(z,Q,Ue="put"){return hr({id:z,form_data:Q,query_params:{},method:Ue,fn:we,path:Cl})}function Vi(z,Q){return function ul(z){const{id:Q,task_name:Ue,form_data:tt,method:Jt,path:mn,callback:Yn}=z,zn=ni(tt),mr=`${Jn()}/${mn}/${Q}/${Ue}`;return("post"!==Jt&&"put"!==Jt&&Jt?("del"===Jt?aa:Ql)(`${mr}${zn?"?"+zn:""}`,{response_type:"json"}):("put"===Jt?Qs:Go)(mr,tt)).pipe((0,Xn.T)(Li=>(Yn||(Yr=>Yr))(Li)))}({id:z,task_name:"children",form_data:Q,method:"get",callback:Ue=>Ue.map(tt=>new Mc(Object.assign(Object.assign({},tt),{keys:Object.keys(tt.metadata)}))),path:Cl})}class Fs extends Us{constructor(Q={}){var Ue;super(Q),this.settings=[null,null,null,null],this.module_list=[],this.display_name=Q.display_name||"",this.description=Q.description||"",this.email=Q.email||"",this.code=Q.code||"",this.capacity=Q.capacity||0,this.features=Q.features||[],this.bookable=Q.bookable||!1,this.public=null!==(Ue=Q.public)&&void 0!==Ue&&Ue,this.installed_ui_devices=Q.installed_ui_devices||0,this.support_url=Q.support_url||"",this.map_id=Q.map_id||"",this.modules=Q.modules||[],this.images=Q.images||[],this.zones=Q.zones||[],this.settings=Q.settings||[null,null,null,null],this.timezone=Q.timezone||"","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const tt in Ln)!isNaN(Number(tt))&&!this.settings[tt]&&(this.settings[tt]=new Qn({parent_id:this.id,encryption_level:+tt}));Q.module_data&&Q.module_data instanceof Array&&(this.module_list=Q.module_data.map(tt=>new qr(tt)))}}class qr extends Us{get system_id(){return this.control_system_id}constructor(Q={}){var Ue;super(Q),this.settings=[null,null,null,null],this.driver_id=Q.driver_id||Q.dependency_id||"",this.control_system_id=Q.control_system_id||"",this.edge_id=Q.edge_id||"",this.ip=Q.ip||"",this.tls=Q.tls||!1,this.udp=Q.udp||!1,this.port=Q.port||1,this.makebreak=Q.makebreak||!1,this.uri=Q.uri||"",this.custom_name=Q.custom_name||"",this.role=null!==(Ue=Q.role)&&void 0!==Ue?Ue:jn.Logic,this.notes=Q.notes||"",this.ignore_connected=Q.ignore_connected||!1,this.connected=Q.connected,this.running=Q.running||!1,this.updated_at=Q.updated_at||0,this.system=new Fs(Q.control_system||Q.system),this.has_runtime_error=Q.has_runtime_error||!1,this.error_timestamp=Q.error_timestamp||0,this.driver=new mi(Q.dependency||Q.driver),this.settings=Q.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const tt in Ln)!isNaN(Number(tt))&&!this.settings[tt]&&(this.settings[tt]=new Qn({parent_id:this.id,encryption_level:+tt}))}toJSON(Q=!1){const Ue=super.toJSON();return(Ue.role!==jn.Logic&&!Q||!Ue.control_system_id)&&delete Ue.control_system_id,delete Ue.driver,delete Ue.system,delete Ue.error_timestamp,delete Ue.has_runtime_error,Ue}}const ru="settings";function Gu(z){return new Qn(z)}function qd(z={}){return xa({query_params:z,fn:Gu,path:ru})}const Ie="systems";function ht(z){return new Fs(z)}function Lt(z={}){return xa({query_params:z,fn:ht,path:Ie})}function un(z={}){return xa({query_params:z,fn:ht,path:`${Ie}/with_emails`})}function Gn(z,Q={}){return Ca({id:z,query_params:Q,fn:ht,path:Ie})}class pn extends Us{constructor(Q={}){super(Q),this.password="",this.confirm_password="",this.authority_id=Q.authority_id||"",this.email=Q.email||"",this.email_digest=Q.email_digest||"",this.phone=Q.phone||"",this.country=Q.country||"",this.building=Q.building||"",this.image=Q.image||"",this.metadata=Q.metadata||"",this.login_name=Q.login_name||"",this.staff_id=Q.staff_id||"",this.first_name=Q.first_name||"",this.last_name=Q.last_name||"",this.support=!!Q.support,this.sys_admin=!!Q.sys_admin,this.ui_theme=Q.ui_theme||"",this.card_number=Q.card_number||"",this.groups=Q.groups||[],this.department=Q.department||"",this.work_preferences=Q.work_preferences||[],this.work_overrides=Q.work_overrides||{}}}const Ta="users";function yo(z){return new pn(z)}function Po(z={}){return xa({query_params:z,fn:yo,path:Ta})}function to(z,Q={}){return Ca({id:z,query_params:Q,fn:yo,path:Ta})}function Is(z,Q,Ue="patch"){return hr({id:z,form_data:Q,query_params:{},method:Ue,fn:yo,path:Ta})}const _c="zones";function au(z){return new Ac(z)}function Fl(z={}){return xa({query_params:z,fn:au,path:_c})}var Xc=_(1478),vc=function(z){return z[z.PARSE_ERROR=0]="PARSE_ERROR",z[z.BAD_REQUEST=1]="BAD_REQUEST",z[z.ACCESS_DENIED=2]="ACCESS_DENIED",z[z.REQUEST_FAILED=3]="REQUEST_FAILED",z[z.UNKNOWN_CMD=4]="UNKNOWN_CMD",z[z.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",z[z.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",z[z.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",z}(vc||{}),po=function(z){return z.Info="info",z.Debug="debug",z.Warning="warn",z.Error="error",z.Fatal="fatal",z.Trace="trace",z}(po||{});class Ia{constructor(Q,Ue){this._system=Q;const tt=Object.getOwnPropertyNames(Object.getPrototypeOf(Ue)).filter(Jt=>Jt.startsWith("$"));for(const Jt in Ue)Ue.hasOwnProperty(Jt)&&void 0!==Ue[Jt]&&(Ue[Jt]instanceof Function?this.addMethod(Jt,Ue[Jt]):this.addProperty(Jt,Ue[Jt]));for(const Jt of tt)Ue[Jt]instanceof Function&&this.addMethod(Jt,Ue[Jt])}call(Q,Ue=[]){return this[`$${Q}`]instanceof Function?this[`$${Q}`](...Ue):null}listen(Q){return!this[`_${Q}`]&&!(this[`_${Q}_obs`]instanceof lt.c)&&!this[Q]&&this.addProperty(Q,null),this[`_${Q}_obs`]}addMethod(Q,Ue){"$"!==Q[0]&&(Q=`$${Q}`),this[Q]=Ue}addProperty(Q,Ue){"$"===Q[0]&&(Q=Q.replace("$","")),this[`_${Q}`]=new xn.t(Ue),this[`_${Q}_obs`]=this[`_${Q}`].asObservable(),Object.defineProperty(this,Q,{get:()=>this[`_${Q}`].getValue(),set:tt=>this[`_${Q}`].next(tt)})}}class Zd{constructor(Q){for(const Ue in Q)Q.hasOwnProperty(Ue)&&Q[Ue]&&Q[Ue]instanceof Array&&Q[Ue].forEach(tt=>{this.addModule(Ue,tt)})}addModule(Q,Ue){this[Q]||(this[Q]=[]),this[Q].push(new Ia(this,Ue))}}const Aa={};function Tl(z,Q){return Aa[z]=new Zd(Q),Aa[z]}function gd(z){return Aa[z]}const Eu=15;let jo,ko=0,Jd=0;const Ma={},Yc={},kl={},Ys={},el=new xn.t(!1);kl._place_os_status=el.asObservable();const no=new xn.t([0,0]);kl._place_os_sync=no.asObservable();let _s,xp,Oa=Date.now(),bc=0,yd=null,W_=0;const Cp=1e4,Bb=new xt.B7;function Xm(){return Jn().indexOf("/control/")>=0?"/control/websocket":`${Pi()}/systems/control`}function H_(){return el.getValue()}function zb(z,Q=0,Ue=eh){return Ue(Object.assign({id:++ko,cmd:"bind"},z),Q)}function eh(z,Q=Cp,Ue=0){const tt=`${z.cmd}|${z.sys}|${z.mod}${z.index}|${z.name}|${z.args}|${function An(z=Date.now(),Q=6e4){return Math.floor(z/Q)}()}`;if(Ma[tt])Le("WS","Request already in progress. Waiting...",z);else{const Jt=Object.assign(Object.assign({},z),{key:tt});Jt.promise=new Promise((mn,Yn)=>{const zn=()=>{delete Ma[tt],Ma[tt]=null,eh(z,Q,Ue).then(mr=>mn(mr),mr=>Yn(mr))};if(jo&&H_()){Fo()&&function th(z,Q,Ue){const tt=`${z.sys}|${z.mod}_${z.index}|${z.name}`,Jt=gd(z.sys),mn=Jt&&Jt[z.mod]?Jt[z.mod][z.index-1||0]:null;if(mn){switch(z.cmd){case"bind":Ue[tt]=mn.listen(z.name).subscribe(Yn=>{setTimeout(()=>{Q.next({type:"notify",value:Yn,meta:z})},Math.floor(100*Math.random()+50))});break;case"unbind":Ue[tt]&&(Ue[tt].unsubscribe(),delete Ue[tt],Gi(`${tt}`))}Zn(`${z.id}-response`,()=>{const Yn={id:z.id,type:"success",value:"exec"===z.cmd?mn.call(z.name,z.args):null};Q.next(Yn)},10)}else Zn(`${z.id}-error`,()=>Q.next({id:z.id,type:"error",code:Jt?vc.SYS_NOT_FOUND:vc.MOD_NOT_FOUND}),10)}(z,jo,Ys),Jt.resolve=mn,Jt.reject=Yn;const mr=`${z.sys}, ${z.mod}_${z.index}, ${z.name}`;Le("WS",`[${z.cmd.toUpperCase()}](${z.id}) ${mr}`,z.args),jo.next(z),Q>0&&Zn(`${tt}`,()=>{Yn("Request timed out."),delete Ma[tt],Ma[tt]=null},Q)}else yd?setTimeout(()=>zn(),1e3):If().then(()=>zn())}),Ma[tt]=Jt}return Ma[tt].promise}function Sp(z){if("pong"!==z&&z instanceof Object){if("notify"===z.type&&z.meta)!function G_(z,Q,Ue=Yc,tt=kl){const Jt=`${z.sys}|${z.mod}_${z.index}|${z.name}`;Ue[Jt]||(Ue[Jt]=new xn.t(null),tt[Jt]=Ue[Jt].asObservable());Le("WS",`[NOTIFY] ${`${z.sys}, ${z.mod}_${z.index}, ${z.name}`} changed`,[Ue[Jt].getValue(),"\u2192",Q]),Ue[Jt].next(Q)}(z.meta,z.value);else if("success"===z.type)!function jb(z){const Q=Object.keys(Ma).map(Ue=>Ma[Ue]).find(Ue=>Ue?.id===z.id);Le("WS",`[SUCCESS](${z.id})`),Q&&Q.resolve&&(Q.resolve(z.value),delete Ma[Q.key])}(z);else if("debug"===z.type){Le("WS",`[DEBUG] ${z.mod}${z.klass||""} \u2192`,z.msg);const Q=z.meta||{mod:"",index:""};Bb.next({mod_id:z.mod||"<empty>",module:`${Q.mod}_${Q.index}`,class_name:z.klass||"<empty>",message:z.msg||"<empty>",level:z.level||po.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===z.type?function Dp(z){let Q="UNEXPECTED FAILURE";switch(z.code){case vc.ACCESS_DENIED:Q="ACCESS DENIED";break;case vc.BAD_REQUEST:Q="BAD REQUEST";break;case vc.MOD_NOT_FOUND:Q="MODULE NOT FOUND";break;case vc.SYS_NOT_FOUND:Q="SYSTEM NOT FOUND";break;case vc.PARSE_ERROR:Q="PARSE ERROR";break;case vc.REQUEST_FAILED:Q="REQUEST FAILED";break;case vc.UNKNOWN_CMD:Q="UNKNOWN COMMAND"}Le("WS",`[ERROR] ${Q}(${z.id}): ${z.msg}`,void 0,"error");const Ue=Object.keys(Ma).map(tt=>Ma[tt]).filter(tt=>tt).find(tt=>tt.id===z.id);Ue&&Ue.reject&&(Ue.reject(z),Gi(`${Ue.key}`),delete Ma[Ue.key])}(z):z.cmd||Le("WS","Invalid websocket message",z,"error");Gi(`${z.id}`)}else"pong"===z&&(W_=Date.now(),Le("WS","Pong!"))}function If(z=0){return null==yd&&(yd=new Promise(Q=>{if(z>40)return location.reload();bc++,Oa=Date.now(),jo=Fo()?function vo(){const z=new xt.B7;return z.subscribe(Q=>Sp(Q)),z}():function qm(){if(!Mo()||!Er())return null;const z=function Al(){return!!Yi.secure}()||location.protocol.indexOf("https")>=0;let Q=`ws${z?"s":""}://${Ds()}${Xm()}${ya()?"?fixed_device=true":""}`;const Ue=Er();let tt="x-api-key"===Ue?`api-key=${ds()}`:`bearer_token=${Ue}`;return function sr(){return!!Yi.token_header}()||function bt(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(Le("WS","Authenticating through URL query parameter..."),Q+=`${Q.indexOf("?")>=0?"&":"?"}${tt}`):(Le("WS","Authenticating through cookie..."),tt+=`;max-age=120;path=${Xm()};`,tt+=(z?"secure;":"")+"samesite=strict",document.cookie=tt,Le("WS","Cookies:",[document.cookie,tt])),Le("WS",`Creating websocket connection to ws${z?"s":""}://${Ds()}${Xm()}`),(0,Xc.K)({url:Q,serializer:Jt=>"object"==typeof Jt?JSON.stringify(Jt):Jt,deserializer:Jt=>{let mn=Jt.data;if("pong"===mn)return mn;try{return JSON.parse(Jt.data)}catch{return mn}}})}(),jo?(Le("WS(Debug)","Authority:",[Mo()]),Le("WS","Connecting to websocket..."),jo.subscribe(Ue=>{el.getValue()||(Le("WS","Connection established."),Q()),el.next(!0),bc=0,kp(),Sp(Ue)},Ue=>{jo=void 0,yd=null,Af(),kp(),function Tp(z){el.next(!1),Le("WS","Websocket error:",z,void 0,"error"),401===z.status&&va(),Fa(),qh()}(Ue)},()=>{jo=void 0,yd=null,Af(),Le("WS","Connection closed by browser."),el.next(!1),qh()}),_s&&clearInterval(_s),W_=Date.now(),Ku(),_s=setInterval(()=>Ku(),1e3*Eu),kp(),Jd+=1,xp=setTimeout(()=>{Le("WS","Unhealthy connection. Reconnecting..."),el.next(!1),yd=null,qh()},3e4)):(jo?Le("WS",`Waiting on auth(${z}). Retrying in ${1e3*Math.min(10,z+1)}ms...`,[!!Er(),!!Mo()],"info"):Le("WS",`Failed to create websocket(${z}). Retrying in ${1e3*Math.min(10,z+1)}ms...`,void 0,"error"),setTimeout(()=>{yd=null,If(z).then(Ue=>Q(Ue))},1e3*Math.min(10,++z)))})),yd}function qh(){no.next([Jd,Date.now()-Oa]),jo&&H_()&&(jo.complete(),_s&&(clearInterval(_s),_s=void 0)),Le("WS",`Reconnecting in ${Math.min(5e3,300*bc||1e3)}ms...`),Zn("reconnect",()=>If(),Math.min(5e3,300*(bc+1)||1e3))}function Ku(){if(Date.now()-W_>4*Eu*1e3)return qh();jo?.next("ping")}function kp(){xp&&(clearTimeout(xp),xp=void 0)}function Af(){for(const z in Ma)Ma[z]&&delete Ma[z]}kl._place_os_debug_events=Bb.asObservable();var lu=_(6109),vd=function(z){return z[z.NONE=0]="NONE",z[z.BIND=1]="BIND",z[z.UNBIND=2]="UNBIND",z}(vd||{});class Mf{constructor(Q,Ue){this._module=Q,this._pending=vd.NONE,this._binding_count=0,this._stale_bindings=0,this.name=Ue,function Ym(){return kl._place_os_status}().pipe((0,lu.F)()).subscribe(tt=>{tt&&(this._stale_bindings||this._pending===vd.BIND)?(Le("VAR","Re-binding to status variable",this.binding()),this.rebind()):tt||(Gi(`rebind:${JSON.stringify(this.binding())}`),Le("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function Ub(z,Q=Yc){const Ue=`${z.sys}|${z.mod}_${z.index}|${z.name}`;if(Q[Ue])return Q[Ue].getValue()}(this.binding())}listen(){return function Tf(z,Q=Yc,Ue=kl){const tt=`${z.sys}|${z.mod}_${z.index}|${z.name}`;return Q[tt]||(Q[tt]=new xn.t(void 0),Ue[tt]=Q[tt].asObservable()),Ue[tt]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===vd.UNBIND)&&(this._pending=vd.BIND,zb(this.binding()).then(()=>{this._binding_count++,this._pending=vd.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===vd.NONE?(this._pending=vd.UNBIND,function Wx(z,Q=0,Ue=eh){return Ue(Object.assign({id:++ko,cmd:"unbind"},z),Q)}(this.binding()).then(()=>{this._pending===vd.UNBIND&&(this._pending=vd.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return R(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==vd.BIND||Zn(`rebind:${JSON.stringify(this.binding())}`,()=>R(this,void 0,void 0,function*(){yield zb(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class fs{constructor(Q,Ue){this._system=Q,this._id=Ue,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const Ue=this._id.split("_").pop();return parseInt(Ue||"",10)||1}get name(){const Q=this._id.split("_");return Q.pop(),Q.join("_")}binding(Q){return this._bindings[Q]||(this._bindings[Q]=new Mf(this,Q)),this._bindings[Q]}execute(Q,Ue,tt=Cp){return function Yh(z,Q=Cp,Ue=eh){return Ue(Object.assign({id:++ko,cmd:"exec"},z),Q)}({sys:this._system.id,mod:this.name,index:this.index,name:Q,args:Ue},tt)}}class xu{constructor(Q){this._module_list={},this.id=Q}module(Q,Ue=1){if(!Q)throw new Error("Invalid module ID");const tt=Q.split("_");tt.length>1&&Number.isInteger(+tt[tt.length-1])&&(Ue=+tt[tt.length-1],tt.pop()),Ue<1&&(Ue=1);const Jt=tt.join("_");for(this._module_list[Jt]||(this._module_list[Jt]=[]);this._module_list[Jt].length<Ue;)this._module_list[Jt].push(new fs(this,`${Jt}_${this._module_list[Jt].length+1}`));return this._module_list[Jt][Ue-1]}}const Xi={};function Id(z,Q,Ue=1){return function Qm(z){return Xi[z]||(Xi[z]=new xu(z)),Xi[z]}(z).module(Q,Ue)}},1145:(hn,Re,_)=>{"use strict";_.d(Re,{TaL:()=>A,wgE:()=>Xi,xWs:()=>Wl,y4m:()=>zn,Slp:()=>id,ox:()=>jN,d_2:()=>Wr,jh6:()=>At,jbE:()=>dr,DZQ:()=>k});var d={};_.r(d),_.d(d,{CompositeArrayBuffer:()=>Is,browserFiles:()=>Zx,browserHTTPRequest:()=>J_,concatenateArrayBuffers:()=>ta,copyModel:()=>qm,decodeWeights:()=>pr,decodeWeightsStream:()=>cr,encodeWeights:()=>Un,fromMemory:()=>iC,fromMemorySync:()=>Jb,getLoadHandlers:()=>Tl,getModelArtifactsForJSON:()=>To,getModelArtifactsForJSONSync:()=>Kc,getModelArtifactsInfoForJSON:()=>ka,getSaveHandlers:()=>Aa,getWeightSpecs:()=>vr,http:()=>Qb,isHTTPScheme:()=>Rf,listModels:()=>jb,loadWeights:()=>Ha,moveModel:()=>Ku,registerLoadRouter:()=>Zd,registerSaveRouter:()=>Ia,removeModel:()=>G_,weightsLoaderFactory:()=>eC,withSaveHandler:()=>Wk,withSaveHandlerSync:()=>Op});var A={};_.r(A),_.d(A,{draw:()=>Xk,fromPixels:()=>ny,fromPixelsAsync:()=>t0,toPixels:()=>Kk});var w={};_.r(w),_.d(w,{assertParamsValid:()=>iy,computeFlatOffset:()=>oy,computeOutShape:()=>n0,getNormalizedAxes:()=>r0,isSliceContinous:()=>sy,maskToAxes:()=>rC,parseSliceParams:()=>ig,sliceInfo:()=>a0,startForAxis:()=>oC,startIndicesWithElidedDims:()=>s0,stopForAxis:()=>o0,stopIndicesWithElidedDims:()=>ng,stridesForAxis:()=>ry,stridesWithElidedDims:()=>Od});var D={};_.r(D),_.d(D,{conv2d:()=>sw,depthwiseConv2d:()=>SA,matMul:()=>Lg});var C={};_.r(C),_.d(C,{collectGatherOpShapeInfo:()=>Lw,computeOutShape:()=>e_,segOpComputeOptimalWindowSize:()=>gD});var S={};_.r(S),_.d(S,{ERF_A1:()=>iv,ERF_A2:()=>Tw,ERF_A3:()=>Zc,ERF_A4:()=>rv,ERF_A5:()=>Yg,ERF_P:()=>Dw,PARALLELIZE_THRESHOLD:()=>sD,RowPartitionType:()=>Fd,SELU_SCALE:()=>nv,SELU_SCALEALPHA:()=>hm,applyActivation:()=>Xy,assertAndGetBroadcastShape:()=>Ts,assertAxesAreInnerMostDims:()=>Sc,assertParamsConsistent:()=>ww,assignToTypedArray:()=>aD,axesAreInnerMostDims:()=>Ey,calculateShapes:()=>ep,checkEinsumDimSizes:()=>Qg,checkPadOnDimRoundingMode:()=>Cu,combineLocations:()=>AC,combineRaggedTensorToTensorShapes:()=>fu,complexWithEvenIndex:()=>oD,complexWithOddIndex:()=>Iw,computeConv2DInfo:()=>oo,computeConv3DInfo:()=>Lf,computeDefaultPad:()=>hy,computeDilation2DInfo:()=>dy,computeOptimalWindowSize:()=>ma,computeOutAndReduceShapes:()=>Cc,computeOutShape:()=>Lh,computePool2DInfo:()=>Yu,computePool3DInfo:()=>rh,convertConv2DDataFormat:()=>ef,decodeEinsumEquation:()=>Ow,eitherStridesOrDilationsAreOne:()=>xc,expandShapeToKeepDim:()=>gl,exponent:()=>sv,exponents:()=>qg,fromStringArrayToUint8:()=>$w,fromUint8ToStringArray:()=>$h,getAxesPermutation:()=>_l,getBroadcastDims:()=>ic,getComplexWithIndex:()=>Aw,getEinsumComputePath:()=>av,getEinsumPermutation:()=>Rw,getFusedBiasGradient:()=>Ky,getFusedDyActivation:()=>Rg,getImageCenter:()=>Sw,getInnerMostAxes:()=>Ga,getPermuted:()=>Gg,getRaggedRank:()=>xw,getReductionAxes:()=>fa,getReshaped:()=>sp,getReshapedPermuted:()=>Kg,getRowPartitionTypesHelper:()=>Ew,getSliceBeginCoords:()=>Xg,getSliceSize:()=>ev,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Jg,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Nw,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Pw,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>uD,getSparseReshapeInputOutputMismatchErrorMessage:()=>hD,getSparseReshapeInputOutputMultipleErrorMessage:()=>dD,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>cD,getSparseReshapeNegativeOutputDimErrorMessage:()=>pm,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>mD,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Fw,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>fD,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>pD,getUndoAxesPermutation:()=>rf,isIdentityPermutation:()=>ch,log:()=>Wn,mergeRealAndImagArrays:()=>ah,prepareAndValidate:()=>tv,prepareSplitSize:()=>lD,segment_util:()=>C,shouldFuse:()=>Ng,slice_util:()=>w,splitRealAndImagArrays:()=>kw,stridesOrDilationsArePositive:()=>Lp,tupleValuesAreOne:()=>Jh,upcastType:()=>Mn,validateDefaultValueShape:()=>Cw,validateInput:()=>X0,validateUpdateShape:()=>jy,warn:()=>an});var I={};_.r(I),_.d(I,{json:()=>OL});var E={};_.r(E),_.d(E,{json:()=>R1});var y={};_.r(y),_.d(y,{json:()=>ub});var x={};_.r(x),_.d(x,{json:()=>wN});var $={};_.r($),_.d($,{json:()=>EN});var R={};_.r(R),_.d(R,{json:()=>N1});var O={};_.r(O),_.d(O,{json:()=>gp});var M={};_.r(M),_.d(M,{json:()=>P1});var L={};_.r(L),_.d(L,{json:()=>fx});var U={};_.r(U),_.d(U,{json:()=>px});var F={};_.r(F),_.d(F,{json:()=>xN});var J={};_.r(J),_.d(J,{json:()=>mx});var ue={};_.r(ue),_.d(ue,{json:()=>gx});var ce={};_.r(ce),_.d(ce,{json:()=>db});var re={};_.r(re),_.d(re,{json:()=>RL});var be={};_.r(be),_.d(be,{json:()=>NL});var j={};_.r(j),_.d(j,{json:()=>PL});var X={};_.r(X),_.d(X,{json:()=>F1});var se={};_.r(se),_.d(se,{json:()=>CN});var W={};_.r(W),_.d(W,{OP_SCOPE_SUFFIX:()=>Pl,abs:()=>jl,acos:()=>l0,acosh:()=>Ff,add:()=>tt,addN:()=>qk,all:()=>rg,any:()=>sg,argMax:()=>Fp,argMin:()=>cy,asin:()=>c0,asinh:()=>uC,atan:()=>u0,atan2:()=>d0,atanh:()=>dC,avgPool:()=>kh,avgPool3d:()=>h0,basicLSTMCell:()=>my,batchNorm:()=>$p,batchNorm2d:()=>pC,batchNorm3d:()=>_y,batchNorm4d:()=>dg,batchToSpaceND:()=>gy,bincount:()=>cI,bitwiseAnd:()=>Bp,booleanMaskAsync:()=>tw,broadcastArgs:()=>_C,broadcastTo:()=>Bf,buffer:()=>fs,cast:()=>Xi,ceil:()=>p0,clipByValue:()=>Su,clone:()=>Id,complex:()=>yo,concat:()=>Wl,concat1d:()=>yC,concat2d:()=>vC,concat3d:()=>m0,concat4d:()=>hg,conv1d:()=>yy,conv2d:()=>Ih,conv2dTranspose:()=>_0,conv3d:()=>_I,conv3dTranspose:()=>vI,cos:()=>fg,cosh:()=>v0,cosineWindow:()=>Gy,cumprod:()=>Vf,cumsum:()=>vy,denseBincount:()=>TC,depthToSpace:()=>kC,depthwiseConv2d:()=>pg,diag:()=>HP,dilation2d:()=>IC,div:()=>zn,divNoNan:()=>Up,dot:()=>Uf,dropout:()=>RS,einsum:()=>Ah,elu:()=>zf,enclosingPowerOfTwo:()=>NS,ensureShape:()=>C0,equal:()=>Qu,erf:()=>S0,euclideanNorm:()=>RC,exp:()=>hu,expandDims:()=>Hl,expm1:()=>yg,eye:()=>zp,fft:()=>Ig,fill:()=>cu,floor:()=>jp,floorDiv:()=>mn,fused:()=>D,gather:()=>Wf,gatherND:()=>vA,greater:()=>Pu,greaterEqual:()=>Hf,ifft:()=>Ag,imag:()=>Hp,image:()=>id,inTopKAsync:()=>xA,irfft:()=>K0,isFinite:()=>T0,isInf:()=>sf,isNaN:()=>UC,leakyRelu:()=>Dy,less:()=>Ju,lessEqual:()=>Gf,linalg:()=>nD,linspace:()=>AI,localResponseNormalization:()=>zC,log:()=>ed,log1p:()=>Ty,logSigmoid:()=>Kp,logSoftmax:()=>ky,logSumExp:()=>k0,logicalAnd:()=>Rh,logicalNot:()=>Xp,logicalOr:()=>GC,logicalXor:()=>XC,losses:()=>iD,lowerBound:()=>FI,matMul:()=>Es,max:()=>Nu,maxPool:()=>vg,maxPool3d:()=>qC,maxPoolWithArgmax:()=>Ay,maximum:()=>qc,mean:()=>tl,meshgrid:()=>JC,min:()=>xy,minimum:()=>Nh,mirrorPad:()=>tS,mod:()=>nS,moments:()=>bg,movingAverage:()=>tp,mul:()=>qt,multiRNNCell:()=>QP,multinomial:()=>UI,neg:()=>Ka,norm:()=>jf,notEqual:()=>Yp,oneHot:()=>M0,ones:()=>oc,onesLike:()=>td,op:()=>pn,outerProduct:()=>HI,pad:()=>sh,pad1d:()=>JP,pad2d:()=>e2,pad3d:()=>n2,pad4d:()=>s2,pool:()=>R0,pow:()=>ih,prelu:()=>Eg,print:()=>z,prod:()=>Xf,raggedGather:()=>Fu,raggedRange:()=>o2,raggedTensorToTensor:()=>a2,rand:()=>cS,randomGamma:()=>YI,randomNormal:()=>Ny,randomStandardNormal:()=>ZI,randomUniform:()=>Ph,randomUniformInt:()=>Py,range:()=>lf,real:()=>Cg,reciprocal:()=>$0,relu:()=>Rd,relu6:()=>B0,reshape:()=>Tn,reverse:()=>Du,reverse1d:()=>mS,reverse2d:()=>_S,reverse3d:()=>yS,reverse4d:()=>qp,rfft:()=>Vy,round:()=>Sg,rsqrt:()=>Ly,scalar:()=>Wr,scatterND:()=>nw,searchSorted:()=>A0,selu:()=>Qp,separableConv2d:()=>$y,setdiff1dAsync:()=>iA,sigmoid:()=>qu,sign:()=>j0,signal:()=>dM,sin:()=>By,sinh:()=>cf,slice:()=>mo,slice1d:()=>Tg,slice2d:()=>Zp,slice3d:()=>Jp,slice4d:()=>em,softmax:()=>tm,softplus:()=>Mh,spaceToBatchND:()=>Kf,sparse:()=>_2,sparseToDense:()=>OS,spectral:()=>tD,split:()=>Lu,sqrt:()=>Yr,square:()=>Pr,squaredDifference:()=>Uy,squeeze:()=>Zf,stack:()=>pa,step:()=>nm,stridedSlice:()=>zy,string:()=>hM,sub:()=>dr,sum:()=>gr,tan:()=>DS,tanh:()=>tf,tensor:()=>to,tensor1d:()=>Qc,tensor2d:()=>Jf,tensor3d:()=>Rp,tensor4d:()=>TS,tensor5d:()=>uA,tensor6d:()=>dA,tensorScatterUpdate:()=>fA,tile:()=>Zu,topk:()=>Nd,transpose:()=>Bs,truncatedNormal:()=>q0,unique:()=>Q0,unsortedSegmentSum:()=>im,unstack:()=>Pd,upperBound:()=>IS,variable:()=>J0,where:()=>rc,whereAsync:()=>oh,zeros:()=>sc,zerosLike:()=>ps});var xe={};_.r(xe),_.d(xe,{mx:()=>v$,XI:()=>cP,Nk:()=>S$,f6:()=>D$,ct:()=>y$,YG:()=>T$,hH:()=>k$,z3:()=>M$,sG:()=>R$,uM:()=>P$,vS:()=>$$,qB:()=>B$,GG:()=>V$,lg:()=>z$,rq:()=>U$,cu:()=>W$,WR:()=>j$,GE:()=>H$,px:()=>G$,jC:()=>K$,He:()=>Y$,hE:()=>q$,BF:()=>uP,Dk:()=>Z$,cl:()=>J$,_B:()=>iB,ub:()=>sB,_f:()=>aB,Ku:()=>uB,qy:()=>dB,Zy:()=>hB,bu:()=>F_,zv:()=>$U,dH:()=>w$,HS:()=>C$,yH:()=>pB,l3:()=>mB,z9:()=>gP,x6:()=>hH,_m:()=>gB,eW:()=>_B,GK:()=>yB,SP:()=>vB,yr:()=>bB,dl:()=>F$,Dw:()=>wB,xT:()=>xB,_X:()=>aP,wz:()=>SB});var q=_(9204);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yt{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class Je{refCount(t){return je("refCount")}incRef(t){return je("incRef")}timerAvailable(){return!0}time(t){return je("time")}read(t){return je("read")}readSync(t){return je("readSync")}readToGPU(t,e){return je("readToGPU")}numDataIds(){return je("numDataIds")}disposeData(t,e){return je("disposeData")}write(t,e,i){return je("write")}move(t,e,i,r,a){return je("move")}createTensorFromGPUData(t,e,i){return je("createTensorFromGPUData")}memory(){return je("memory")}floatPrecision(){return je("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return je("dispose")}}function je(n){throw new Error(`'${n}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function K(n){let t=n.length,e=0;for(;t>0;)e=Math.random()*t|0,t--,Ne(n,t,e)}function ge(n,t,e){return Math.max(n,Math.min(t,e))}function ye(n){return n%2==0?n:n+1}function Ne(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}function Ce(n,t){if(!n)throw new Error("string"==typeof t?t:t())}function Qt(n,t,e=""){Ce(Oe(n,t),()=>e+` Shapes ${n} and ${t} must match`)}function Vt(n){Ce(null!=n,()=>"The input to the tensor constructor must be a non-null value.")}function Tt(n){if(0===n.length)return 1;let t=n[0];for(let e=1;e<n.length;e++)t*=n[e];return t}function Oe(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function Ye(n){return n%1==0}function It(n){const t=Math.ceil(Math.sqrt(n));return[t,Math.ceil(n/t)]}function ot(n,t){return t<=n.length?n:n+" ".repeat(t-n.length)}function Nt(n,t=(r=>0),e,i){return new Promise((r,a)=>{let c=0;const u=()=>{if(n())return void r();c++;const f=t(c);null!=e&&c>=e?a():null!=i?i(u,f):setTimeout(u,f)};u()})}function Ut(n,t){let e=1,i=-1;for(let a=0;a<n.length;++a)if(n[a]>=0)e*=n[a];else if(-1===n[a]){if(-1!==i)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${i} and dim ${a}`);i=a}else if(n[a]<0)throw Error(`Shapes can not be < 0. Found ${n[a]} at dim ${a}`);if(-1===i){if(t>0&&t!==e)throw Error(`Size(${t}) must match the product of shape ${n}`);return n}if(0===e)throw Error(`Cannot infer the missing size in [${n}] when there are 0 elements`);if(t%e!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${e}`);const r=n.slice();return r[i]=t/e,r}function wt(n,t){const e=t.length;return Ce((n=null==n?t.map((i,r)=>r):[].concat(n)).every(i=>i>=-e&&i<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${n}`),Ce(n.every(i=>Ye(i)),()=>`All values in axis param must be integers but got axis ${n}`),n.map(i=>i<0?e+i:i)}function ut(n,t){const e=[],i=[],r=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||r?null:wt(t,n).sort();let c=0;for(let u=0;u<n.length;++u){if(null!=a){if(a[c]===u&&1!==n[u])throw new Error(`Can't squeeze axis ${u} since its dim '${n[u]}' is not 1`);(null==a[c]||a[c]>u)&&1===n[u]&&(e.push(n[u]),i.push(u)),a[c]<=u&&c++}1!==n[u]&&(e.push(n[u]),i.push(u))}return{newShape:e,keptDims:i}}function dt(n,t){return Z(n,t)}function Z(n,t){let e=null;if(null==n||"float32"===n)e=new Float32Array(t);else if("int32"===n)e=new Int32Array(t);else if("bool"===n)e=new Uint8Array(t);else{if("string"!==n)throw new Error(`Unknown data type ${n}`);e=new Array(t)}return e}function lt(n,t){return!("complex64"===t||"float32"===t&&"complex64"!==n||"int32"===t&&"float32"!==n&&"complex64"!==n||"bool"===t&&"bool"===n)}function Gt(n){if("float32"===n||"int32"===n)return 4;if("complex64"===n)return 8;if("bool"===n)return 1;throw new Error(`Unknown dtype ${n}`)}function Hn(n){return"string"==typeof n||n instanceof String}function on(n){return"number"==typeof n}function nn(n){return Array.isArray(n)?nn(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray?"int32":on(n)?"float32":Hn(n)?"string":function Ei(n){return"boolean"==typeof n}(n)?"bool":"float32"}function xt(n){return!!(n&&n.constructor&&n.call&&n.apply)}function zt(n,t){for(let e=t;e<n;++e)if(n%e==0)return e;return n}function $t(n){const t=n.length;if(t<2)return[];const e=new Array(t-1);e[t-2]=n[t-1];for(let i=t-3;i>=0;--i)e[i]=e[i+1]*n[i+1];return e}function bn(n,t,e,i=!1){const r=new Array;if(1===t.length){const a=t[0]*(i?2:1);for(let c=0;c<a;c++)r[c]=e[n+c]}else{const a=t[0],c=t.slice(1),u=c.reduce((f,p)=>f*p)*(i?2:1);for(let f=0;f<a;f++)r[f]=bn(n+f*u,c,e,i)}return r}function Pn(n,t,e=!1){if(0===n.length)return t[0];const i=n.reduce((r,a)=>r*a)*(e?2:1);if(0===i)return[];if(i!==t.length)throw new Error(`[${n}] does not match the input size ${t.length}${e?" for a complex tensor":""}.`);return bn(0,n,t,e)}function Dn(n,t){const e=Kn(n,t);for(let i=0;i<e.length;i++)e[i]=1;return e}function Kn(n,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t)return new Uint8Array(n);throw new Error(`Unknown data type ${t}`)}function xn(n,t){const e=n.reduce((i,r)=>i*r,1);if(null==t||"float32"===t)return Pn(n,new Float32Array(e));if("int32"===t)return Pn(n,new Int32Array(e));if("bool"===t)return Pn(n,new Uint8Array(e));throw new Error(`Unknown data type ${t}`)}function Xn(n){n.forEach(t=>{Ce(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${n}].`)})}function pt(n,t,e){if(0===t)return 0;if(1===t)return n[0];let i=n[n.length-1];for(let r=0;r<n.length-1;++r)i+=e[r]*n[r];return i}function Le(n,t,e){if(0===t)return[];if(1===t)return[n];const i=new Array(t);for(let r=0;r<i.length-1;++r)i[r]=Math.floor(n/e[r]),n-=i[r]*e[r];return i[i.length-1]=n,i}function We(n){return n&&n.then&&"function"==typeof n.then}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const $e="tfjsflags";class gt{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Zt,this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&(De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=e}registerFlag(t,e,i){if(this.flagRegistry[t]={evaluationFn:e,setHook:i},null!=this.urlFlags[t]){const r=this.urlFlags[t];De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${r}.`),this.set(t,r)}}getAsync(t){var e=this;return(0,q.A)(function*(){return t in e.flags||(e.flags[t]=yield e.evaluateFlag(t)),e.flags[t]})()}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if(We(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);$e in t&&t[$e].split(",").forEach(i=>{const[r,a]=i.split(":");this.urlFlags[r]=function ct(n,t){const e=t.toLowerCase();return"true"===e||"false"===e?"true"===e:""+ +e===e?+e:t}(0,a)})}}function Zt(n){const t={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...i)=>(function _n(n,t,e){n[decodeURIComponent(t)]=decodeURIComponent(e||"")}(t,i[0],i[1]),i.join("="))),t}function De(){return st}let bt,st=null;function Ft(){if(null==bt){let n;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(!(typeof self<"u"))throw new Error("Could not find a global object");n=self}bt=n}return bt}function Rn(n,t){const e=function An(){const n=Ft();return null==n._tfGlobals&&(n._tfGlobals=new Map),n._tfGlobals}();if(e.has(n))return e.get(n);{const i=t();return e.set(n,i),e.get(n)}}const ni="Abs",gi="Acos",Ui="Acosh",Ti="Add",Hi="AddN",lr="ArgMax",ir="ArgMin",Sr="Asin",Hr="Asinh",vs="Atan",Vr="Atanh",bs="Atan2",Ss="AvgPool",ss="AvgPoolGrad",Yi="AvgPool3D",rr="AvgPool3DGrad",ar="BatchMatMul",zi="BatchToSpaceND",si="Bincount",Ge="BitwiseAnd",ne="BroadcastArgs",et="Cast",He="Ceil",kt="ClipByValue",Bt="Complex",Jn="ComplexAbs",Pi="Concat",sr="Conv2D",Dr="Conv2DBackpropFilter",Fr="Conv2DBackpropInput",Zr="Conv3D",ds="Conv3DBackpropFilterV2",Os="Conv3DBackpropInputV2",Er="Cos",Jr="Cosh",Ds="Cumprod",ia="Cumsum",Br="CropAndResize",Mo="DenseBincount",Yo="DepthToSpace",Fo="DepthwiseConv2dNative",Al="DepthwiseConv2dNativeBackpropFilter",Ya="DepthwiseConv2dNativeBackpropInput",qa="Diag",ya="Dilation2D",ra="Dilation2DBackpropInput",bl="Dilation2DBackpropFilter",Ml="Draw",Fa="RealDiv",va="Einsum",La="Elu",hc="EluGrad",$a="Erf",Bl="Equal",Lr="Exp",Mr="ExpandDims",ao="Expm1",ql="Fill",sa="FlipLeftRight",Ks="Floor",lo="FloorDiv",ba="FusedBatchNorm",Lo="GatherV2",ol="GatherNd",wo="Greater",Eo="GreaterEqual",Ba="Identity",qo="IFFT",Ol="Imag",wa="IsFinite",kr="IsInf",ws="IsNan",oa="LeakyRelu",go="Less",Qa="LessEqual",Za="LinSpace",al="Log",Oi="Log1p",Oo="LogicalAnd",_o="LogicalNot",$o="LogicalOr",Qo="LRN",aa="LRNGrad",Ea="Max",Bo="Maximum",Ua="MaxPool",ll="MaxPoolGrad",wl="MaxPool3D",Rs="MaxPool3DGrad",cl="MaxPoolWithArgmax",la="Mean",es="Min",Ja="Minimum",co="MirrorPad",xa="Mod",Ca="Multinomial",Zo="Multiply",ul="Neg",hr="NotEqual",ks="NonMaxSuppressionV3",uo="NonMaxSuppressionV4",za="NonMaxSuppressionV5",Us="OnesLike",jt="OneHot",de="Pack",Se="PadV2",le="Pow",ie="Prelu",ze="Prod",Ct="RaggedGather",En="RaggedRange",Fn="RaggedTensorToTensor",ki="Range",Nn="Real",fr="Reciprocal",Ur="Relu",ur="Reshape",Or="ResizeNearestNeighbor",Zs="ResizeNearestNeighborGrad",Cr="ResizeBilinear",zs="ResizeBilinearGrad",Ns="Relu6",Xs="Reverse",Sa="Round",ca="Rsqrt",P="ScatterNd",Et="TensorScatterUpdate",Kt="SearchSorted",cn="Select",tn="Selu",kn="Slice",ln="Sin",Ln="Sinh",Qn="Sign",jn="Sigmoid",mi="Softplus",ti="Sqrt",Ii="Sum",Ji="SpaceToBatchND",$r="SplitV",os="Softmax",js="SparseFillEmptyRows",Gr="SparseReshape",ns="SparseSegmentMean",Zl="SparseSegmentSum",Ro="SparseToDense",Jo="SquaredDifference",Js="Square",El="StaticRegexReplace",ua="StridedSlice",_r="StringNGrams",as="StringSplit",Ps="StringToHashBucketFast",Ic="Sub",yu="Tan",hs="Tanh",ja="Tile",vu="TopK",ms="Transform",xl="Transpose",Ko="Unique",ho="Unpack",da="UnsortedSegmentSum",Ac="ZerosLike",Mc="Step",Cl="FromPixels",we="RotateWithOffset",Dt="_FusedMatMul",Ve="FusedConv2D",_t="FusedDepthwiseConv2D";
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function an(...n){De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(...n)}function Wn(...n){De().getBool("IS_TEST")||De().getBool("PROD")||console.log(...n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const ui=Rn("kernelRegistry",()=>new Map),Vi=Rn("gradRegistry",()=>new Map);function Fs(n,t){const e=Sl(n,t);return ui.get(e)}function qr(n){return Vi.get(n)}function ts(n){const t=ui.entries(),e=[];for(;;){const{done:i,value:r}=t.next();if(i)break;const[a,c]=r,[u]=a.split("_");u===n&&e.push(c)}return e}function Si(n){const{kernelName:t,backendName:e}=n,i=Sl(t,e);ui.has(i)&&an(`The kernel '${t}' for backend '${e}' is already registered`),ui.set(i,n)}function ro(n){const{kernelName:t}=n;Vi.has(t)&&De().getBool("DEBUG")&&an(`Overriding the gradient for '${t}'`),Vi.set(t,n)}function Sl(n,t){return`${t}_${n}`}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Oc(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint8ClampedArray}var fc=_(9990);
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Uo=_.n(fc)()||fc;function dl(n){return Uo.fromString(n,!0,16)}const eu=dl("c3a5c85c97cb3127"),Jl=dl("b492b66fbe98f273"),Dl=dl("9ae16a3b2f90404f");function hl(n){return n.xor(n.shru(47))}function pc(n,t,e){const i=n.slice(t,t+e);return Uo.fromBytes(Array.from(i),!0,!0)}function eo(n,t){return pc(n,t,8)}function Wu(n,t){return pc(n,t,4)}function zo(n,t){return 0===t?n:n.shru(t).or(n.shl(64-t))}function ec(n,t,e=dl("9ddfea08eb382d69")){let i=n.xor(t).mul(e);i=i.xor(i.shru(47));let r=t.xor(i).mul(e);return r=r.xor(r.shru(47)),r=r.mul(e),r}function bu(n,t,e,i){return function Xh(n,t,e,i,r,a){r=r.add(n),a=zo(a.add(r).add(i),21);const c=r;return r=(r=r.add(t)).add(e),a=a.add(zo(r,44)),[r.add(i),a.add(c)]}(eo(n,t),eo(n,t+8),eo(n,t+16),eo(n,t+24),e,i)}function tu(n,t=n.length){const e=Uo.fromNumber(81,!0);if(t<=32)return t<=16?function Rc(n,t=n.length){if(t>=8){const e=Dl.add(2*t),i=eo(n,0).add(Dl),r=eo(n,t-8);return ec(zo(r,37).mul(e).add(i),zo(i,25).add(r).mul(e),e)}if(t>=4){const e=Dl.add(2*t);return ec(Wu(n,0).shl(3).add(t),Wu(n,t-4),e)}if(t>0){const c=t+(n[t-1]<<2);return hl(Dl.mul(n[0]+(n[t>>1]<<8)).xor(eu.mul(c))).mul(Dl)}return Dl}(n,t):function fl(n,t=n.length){const e=Dl.add(2*t),i=eo(n,0).mul(Jl),r=eo(n,8),a=eo(n,t-8).mul(e),c=eo(n,t-16).mul(Dl);return ec(zo(i.add(r),43).add(zo(a,30)).add(c),i.add(zo(r.add(Dl),18)).add(a),e)}(n,t);if(t<=64)return function Da(n,t=n.length){const e=Dl.add(2*t),i=eo(n,0).mul(Dl),r=eo(n,8),a=eo(n,t-8).mul(e),c=eo(n,t-16).mul(Dl),u=zo(i.add(r),43).add(zo(a,30)).add(c),f=ec(u,i.add(zo(r.add(Dl),18)).add(a),e),p=eo(n,16).mul(e),g=eo(n,24),v=u.add(eo(n,t-32)).mul(e),T=f.add(eo(n,t-24)).mul(e);return ec(zo(p.add(g),43).add(zo(v,30)).add(T),p.add(zo(g.add(i),18)).add(v),e)}(n,t);let i=e,r=e.mul(Jl).add(113),a=hl(r.mul(Dl).add(113)).mul(Dl),c=[Uo.UZERO,Uo.UZERO],u=[Uo.UZERO,Uo.UZERO];i=i.mul(Dl).add(eo(n,0));let f=0;const p=64*(t-1>>6),g=p+(t-1&63)-63;do{i=zo(i.add(r).add(c[0]).add(eo(n,f+8)),37).mul(Jl),r=zo(r.add(c[1]).add(eo(n,f+48)),42).mul(Jl),i=i.xor(u[1]),r=r.add(c[0]).add(eo(n,f+40)),a=zo(a.add(u[0]),33).mul(Jl),c=bu(n,f,c[1].mul(Jl),i.add(u[0])),u=bu(n,f+32,a.add(u[1]),r.add(eo(n,f+16))),[a,i]=[i,a],f+=64}while(f!==p);const v=Jl.add(a.and(255).shl(1));return f=g,u[0]=u[0].add(t-1&63),c[0]=c[0].add(u[0]),u[0]=u[0].add(c[0]),i=zo(i.add(r).add(c[0]).add(eo(n,f+8)),37).mul(v),r=zo(r.add(c[1]).add(eo(n,f+48)),42).mul(v),i=i.xor(u[1].mul(9)),r=r.add(c[0].mul(9).add(eo(n,f+40))),a=zo(a.add(u[0]),33).mul(v),c=bu(n,f,c[1].mul(v),i.add(u[0])),u=bu(n,f+32,a.add(u[1]),r.add(eo(n,f+16))),[a,i]=[i,a],ec(ec(c[0],u[0],v).add(hl(r).mul(eu)).add(a),ec(c[1],u[1],v).add(i),v)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function nu(n,t){return"string"===t?tc(n):Wa([n],t)}function Wa(n,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=nc(n)),De().getBool("DEBUG")&&function Pe(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(isNaN(i)||!isFinite(i))throw Error(`A tensor of type ${t} being uploaded contains ${i}.`)}}(n,t),function Yd(n,t){return n instanceof Float32Array&&"float32"===t||n instanceof Int32Array&&"int32"===t||n instanceof Uint8Array&&"bool"===t}(n,t))return n;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t){const e=new Uint8Array(n.length);for(let i=0;i<e.length;++i)0!==Math.round(n[i])&&(e[i]=1);return e}throw new Error(`Unknown data type ${t}`)}function zr(){return De().platform.now()}function tc(n,t="utf-8"){return t=t||"utf-8",De().platform.encode(n,t)}function zc(n,t="utf-8"){return t=t||"utf-8",De().platform.decode(n,t)}function xo(n){return null!=De().platform.isTypedArray?De().platform.isTypedArray(n):Oc(n)}function nc(n,t=[],e=!1){if(null==t&&(t=[]),"boolean"==typeof n||"number"==typeof n||"string"==typeof n||We(n)||null==n||xo(n)&&e)t.push(n);else if(Array.isArray(n)||xo(n))for(let i=0;i<n.length;++i)nc(n[i],t,e);else{let i=-1;for(const r of Object.keys(n))/^([1-9]+[0-9]*|0)$/.test(r)&&(i=Math.max(i,Number(r)));for(let r=0;r<=i;r++)nc(n[r],t,e)}return t}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class wu{constructor(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new Mu)}profileKernel(t,e,i){let r;const a=()=>{r=i()};let c;const u=zr();if(this.backendTimer.timerAvailable())c=this.backendTimer.time(a);else{a();for(const p of r)p.dataSync();c=Promise.resolve({kernelMs:zr()-u})}if(De().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let p=0;p<r.length;p++){const g=r[p];g.data().then(v=>{Nc(v,g.dtype,t)})}return{kernelName:t,outputs:r,inputs:e,timeMs:c.then(p=>p.kernelMs),extraInfo:c.then(p=>null!=p.getExtraProfileInfo?p.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:e,outputs:i,timeMs:r,inputs:a,extraInfo:c}=t;i.forEach(u=>{Promise.all([u.data(),r,c]).then(f=>{this.logger.logKernelProfile(e,u,f[0],f[1],a,f[2])})})}}function Nc(n,t,e){if("float32"!==t)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${e}'`),!0}return!1}class Mu{logKernelProfile(t,e,i,r,a,c){const u="number"==typeof r?ot(`${r}ms`,9):r.error,f=ot(t,25),p=e.rank,g=e.size,v=ot(e.shape.toString(),14);let T="";for(const V in a){const Y=a[V];if(null!=Y){const ae=Y.shape||e.shape,te=ae.length;T+=`${V}: ${te}D ${te>0?ae:""} `}}console.log(`%c${f}\t%c${u}\t%c${p}D ${v}\t%c${g}\t%c${T}\t%c${c}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const vh=20,jc=3,Ou=7;function bh(n,t,e,i){const r=$t(t),a=function wh(n,t,e,i){const r=Tt(t),a=i[i.length-1],c=new Array(a).fill(0),u=t.length,f="complex64"===e?pl(n):n;if(u>1)for(let p=0;p<r/a;p++){const g=p*a;for(let v=0;v<a;v++)c[v]=Math.max(c[v],Rl(f[g+v],0,e).length)}return c}(n,t,e,r),c=t.length,u=Wc(n,t,e,r,a),f=["Tensor"];return i&&(f.push(`  dtype: ${e}`),f.push(`  rank: ${c}`),f.push(`  shape: [${t}]`),f.push("  values:")),f.push(u.map(p=>"    "+p).join("\n")),f.join("\n")}function Rl(n,t,e){let i;return i=Array.isArray(n)?`${parseFloat(n[0].toFixed(Ou))} + ${parseFloat(n[1].toFixed(Ou))}j`:Hn(n)?`'${n}'`:"bool"===e?Hu(n):parseFloat(n.toFixed(Ou)).toString(),ot(i,t)}function Hu(n){return 0===n?"false":"true"}function Wc(n,t,e,i,r,a=!0){const c="complex64"===e?2:1,u=t[0],f=t.length;if(0===f)return"complex64"===e?[Rl(pl(n)[0],0,e)]:"bool"===e?[Hu(n[0])]:[n[0].toString()];if(1===f){if(u>vh){let _e=Array.from(n.slice(0,jc*c)),Te=Array.from(n.slice((u-jc)*c,u*c));return"complex64"===e&&(_e=pl(_e),Te=pl(Te)),["["+_e.map((nt,it)=>Rl(nt,r[it],e)).join(", ")+", ..., "+Te.map((nt,it)=>Rl(nt,r[u-jc+it],e)).join(", ")+"]"]}return["["+("complex64"===e?pl(n):Array.from(n)).map((te,_e)=>Rl(te,r[_e],e)).join(", ")+"]"]}const p=t.slice(1),g=i.slice(1),v=i[0]*c,T=[];if(u>vh){for(let ae=0;ae<jc;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,!1))}T.push("...");for(let ae=u-jc;ae<u;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,ae===u-1))}}else for(let ae=0;ae<u;ae++){const te=ae*v;T.push(...Wc(n.slice(te,te+v),p,e,g,r,ae===u-1))}const V=2===f?",":"";T[0]="["+(u>0?T[0]+V:"");for(let ae=1;ae<T.length-1;ae++)T[ae]=" "+T[ae]+V;let Y=",\n";for(let ae=2;ae<f;ae++)Y+="\n";return T[T.length-1]=" "+T[T.length-1]+"]"+(a?"":Y),T}function pl(n){const t=[];for(let e=0;e<n.length;e+=2)t.push([n[e],n[e+1]]);return t}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class So{constructor(t,e,i){if(this.dtype=e,this.shape=t.slice(),this.size=Tt(t),null!=i){const r=i.length;Ce(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||Z(e,this.size),this.strides=$t(t)}set(t,...e){0===e.length&&(e=[0]),Ce(e.length===this.rank,()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`);const i=this.locToIndex(e);this.values[i]=t}get(...t){0===t.length&&(t=[0]);let e=0;for(const r of t){if(r<0||r>=this.shape[e])throw new Error(`Requested out of range element at ${t}.   Buffer shape=${this.shape}`);e++}let i=t[t.length-1];for(let r=0;r<t.length-1;++r)i+=this.strides[r]*t[r];return this.values[i]}locToIndex(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];let e=t[t.length-1];for(let i=0;i<t.length-1;++i)e+=this.strides[i]*t[i];return e}indexToLoc(t){if(0===this.rank)return[];if(1===this.rank)return[t];const e=new Array(this.shape.length);for(let i=0;i<e.length-1;++i)e[i]=Math.floor(t/this.strides[i]),t-=e[i]*this.strides[i];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return gc().makeTensor(this.values,this.shape,this.dtype)}}let gc=null,iu=null,ru=null;class so{constructor(t,e,i,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=Tt(t),this.strides=$t(t),this.dataId=i,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){var t=this;return(0,q.A)(function*(){const e=yield t.data();return iu.buffer(t.shape,t.dtype,e)})()}bufferSync(){return iu.buffer(this.shape,this.dtype,this.dataSync())}array(){var t=this;return(0,q.A)(function*(){const e=yield t.data();return Pn(t.shape,e,"complex64"===t.dtype)})()}arraySync(){return Pn(this.shape,this.dataSync(),"complex64"===this.dtype)}data(){var t=this;return(0,q.A)(function*(){t.throwIfDisposed();const e=gc().read(t.dataId);if("string"===t.dtype){const i=yield e;try{return i.map(r=>zc(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e})()}dataToGPU(t){return this.throwIfDisposed(),gc().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=gc().readSync(this.dataId);if("string"===this.dtype)try{return t.map(e=>zc(e))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}bytes(){var t=this;return(0,q.A)(function*(){t.throwIfDisposed();const e=yield gc().read(t.dataId);return"string"===t.dtype?e:new Uint8Array(e.buffer)})()}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),gc().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return iu.print(this,t)}clone(){return this.throwIfDisposed(),iu.clone(this)}toString(t=!1){return bh(this.dataSync(),this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),iu.cast(this,t)}variable(t=!0,e,i){return this.throwIfDisposed(),gc().makeVariable(this,t,e,i)}}function G(){return Rn("Tensor",()=>so)}Object.defineProperty(so,Symbol.hasInstance,{value:n=>!!n&&null!=n.data&&null!=n.dataSync&&null!=n.throwIfDisposed}),G();class ke extends so{constructor(t,e,i,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=i}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Oe(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);gc().disposeTensor(this),this.dataId=t.dataId,gc().incRef(this,null)}dispose(){gc().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(ke,Symbol.hasInstance,{value:n=>n instanceof so&&null!=n.assign&&n.assign instanceof Function});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
var Ie=function(n){return n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64",n}(Ie||{}),ht=function(n){return n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64",n}(ht||{}),Lt=function(n){return n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64",n}(Lt||{}),un=function(n){return n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64",n}(un||{});const Gn={float32:Lt,int32:Ie,bool:ht,complex64:un};function Mn(n,t){if("string"===n||"string"===t){if("string"===n&&"string"===t)return"string";throw new Error(`Can not upcast ${n} with ${t}`)}return Gn[n][t]}function di(n){return Mn(n,"int32")}function tr(n){return null!=n&&"object"==typeof n&&"texture"in n&&n.texture instanceof WebGLTexture}function yr(n){return typeof GPUBuffer<"u"&&null!=n&&"object"==typeof n&&"buffer"in n&&n.buffer instanceof GPUBuffer}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Rr(n,t){if(n.dtype===t.dtype)return[n,t];const e=Mn(n.dtype,t.dtype);return[n.cast(e),t.cast(e)]}function Nl(n){const t=[];return Ul(n,t,new Set),t}function Ul(n,t,e){if(null==n)return;if(n instanceof so)return void t.push(n);if(!function kd(n){return Array.isArray(n)||"object"==typeof n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n))return;const i=n;for(const r in i){const a=i[r];e.has(a)||(e.add(a),Ul(a,t,e))}}function xh(n){return null!=n.kernelName}class su{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}let Ee=(()=>{class n{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new su}ready(){var e=this;return(0,q.A)(function*(){if(null!=e.pendingBackendInit)return e.pendingBackendInit.then(()=>{});if(null!=e.backendInstance)return;const i=e.getSortedBackends();for(let r=0;r<i.length;r++){const a=i[r];if(yield e.initializeBackend(a).success)return void(yield e.setBackend(a))}throw new Error("Could not initialize any backends, all backend initializations failed.")})()}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:i}=this.initializeBackendsAndReturnBest();if(i)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:i}=this.initializeBackend(e);if(i)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,i,r=1){return e in this.registryFactory?(an(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:i,priority:r},!0)}setBackend(e){var i=this;return(0,q.A)(function*(){if(null==i.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(i.backendName=e,null==i.registry[e]){i.backendInstance=null;const{success:r,asyncInit:a}=i.initializeBackend(e);if(!(a?yield r:r))return!1}return i.backendInstance=i.registry[e],i.setupRegisteredKernels(),i.profiler=new wu(i.backendInstance),!0})()}setupRegisteredKernels(){ts(this.backendName).forEach(i=>{null!=i.setupFunc&&i.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){ts(e).forEach(r=>{null!=r.disposeFunc&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const i=this.registryFactory[e];if(null==i)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=i.factory();if(!r||r instanceof Je||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{const a=++this.pendingBackendInitId,c=r.then(u=>!(a<this.pendingBackendInitId||(this.registry[e]=u,this.pendingBackendInit=null,0))).catch(u=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,an(`Initialization of backend ${e} failed`),an(u.stack||u.message)),!1));return this.pendingBackendInit=c,{success:c,asyncInit:!0}}}catch(r){return an(`Initialization of backend ${e} failed`),an(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,i)=>this.registryFactory[i].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let i=0;i<e.length;i++){const r=e[i],{success:a,asyncInit:c}=this.initializeBackend(r);if(c||a)return{name:r,asyncInit:c}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,i){const r=this.state.tensorInfo.get(i),a=r.backend,c=this.readSync(i),u=a.refCount(i);a.disposeData(i,!0),r.backend=e,e.move(i,c,r.shape,r.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,i){let a,r=null;if(null==i){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");i=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof i)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=i(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,i,r){e();try{const a=r();return i(),a}catch(a){throw i(),a}}nextTensorId(){return n.nextTensorId++}nextVariableId(){return n.nextVariableId++}clone(e){const i=Me.runKernel(Ba,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[i],u=>({x:()=>Me.runKernel(et,{x:u},{dtype:"float32"})}),[],{}),i}runKernel(e,i,r){if(null==Fs(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:i,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,i,r){const a=this.backend.numDataIds();let c=0;r.forEach(p=>{c+="complex64"===p.dtype?3:1});const f=a-i-c-this.state.numDataMovesStack[this.state.numDataMovesStack.length-1];if(f>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${f} data ids) after running '${e}'`)}runKernelFunc(e){let i,r=[];const a=this.isTapeOn(),c=this.state.numBytes,u=this.state.numTensors;let f,p;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const g=xh(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(xh(e)){const{kernelName:ae,inputs:te,attrs:_e}=e,Te=Fs(ae,this.backendName);Ce(null!=Te,()=>`Cannot find registered kernel '${ae}' for backend '${this.backendName}'`),f=()=>{const nt=this.backend.numDataIds();p=Te.kernelFunc({inputs:te,attrs:_e,backend:this.backend});const it=Array.isArray(p)?p:[p];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(ae,nt,it);const St=it.map(Xt=>null!=Xt.rank?Xt:this.makeTensorFromTensorInfo(Xt));if(a){const Xt=this.getTensorsForGradient(ae,te,St);r=this.saveTensorsForBackwardMode(Xt)}return St}}else{const{forwardFunc:ae}=e,te=_e=>{a&&(r=_e.map(Te=>this.keep(this.clone(Te))))};f=()=>{const _e=this.backend.numDataIds();p=this.tidy(()=>ae(this.backend,te));const Te=Array.isArray(p)?p:[p];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(g,_e,Te),Te}}const{inputs:v,attrs:T}=e,V=xh(e)?null:e.backwardsFunc;let Y;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(Y=this.profiler.profileKernel(g,v,()=>f()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(Y),i=Y.outputs):i=f()}),a&&this.addTapeNode(g,v,i,V,r,T),this.state.profiling&&this.state.activeProfile.kernels.push({name:g,bytesAdded:this.state.numBytes-c,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(v).map(ae=>null!=v[ae]?v[ae].shape:null),outputShapes:i.map(ae=>ae.shape),kernelTimeMs:Y.timeMs,extraInfo:Y.extraInfo}),Array.isArray(p)?i:i[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,i,r){const a=qr(e);if(null!=a){const c=a.inputsToSave||[],u=a.outputsToSave||[];let f;a.saveAllInputs?(Ce(Array.isArray(i),()=>"saveAllInputs is true, expected inputs to be an array."),f=Object.keys(i).map(g=>i[g])):f=c.map(g=>i[g]);const p=r.filter((g,v)=>u[v]);return f.concat(p)}return[]}makeTensor(e,i,r,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");a=a||this.backend;let c=e;"string"===(r=r||"float32")&&Hn(e[0])&&(c=e.map(p=>tc(p)));const u=a.write(c,i,r),f=new so(i,r,u,this.nextTensorId());if(this.trackTensor(f,a),"string"===r){const p=this.state.tensorInfo.get(u),g=function rn(n){if(null==n)return 0;let t=0;return n.forEach(e=>t+=e.length),t}(c);this.state.numBytes+=g-p.bytes,p.bytes=g}return f}makeTensorFromDataId(e,i,r,a){return this.makeTensorFromTensorInfo({dataId:e,shape:i,dtype:r=r||"float32"},a)}makeTensorFromTensorInfo(e,i){const{dataId:r,shape:a,dtype:c}=e,u=new so(a,c,r,this.nextTensorId());return this.trackTensor(u,i),u}makeVariable(e,i=!0,r,a){r=r||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const c=new ke(e,i,r,this.nextTensorId());if(null!=this.state.registeredVariables[c.name])throw new Error(`Variable with name ${c.name} was already registered`);return this.state.registeredVariables[c.name]=c,this.incRef(c,this.backend),c}trackTensor(e,i){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*Gt(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:i||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof ke||this.track(e)}incRef(e,i){this.trackTensor(e,i),this.backend.incRef(e.dataId)}removeDataId(e,i){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===i&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const i=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=i.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const r=e.size*Gt(e.dtype);this.state.numBytes-=r}i.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,i.backend)}disposeVariables(){for(const e in this.state.registeredVariables)this.disposeVariable(this.state.registeredVariables[e])}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){var i=this;return(0,q.A)(function*(){i.state.profiling=!0;const r=i.state.numBytes,a=i.state.numTensors;i.state.activeProfile.kernels=[],i.state.activeProfile.result=yield e(),i.state.profiling=!1,i.state.activeProfile.peakBytes=Math.max(...i.state.activeProfile.kernels.map(c=>c.totalBytesSnapshot)),i.state.activeProfile.newBytes=i.state.numBytes-r,i.state.activeProfile.newTensors=i.state.numTensors-a;for(const c of i.state.activeProfile.kernels)c.kernelTimeMs=yield c.kernelTimeMs,c.extraInfo=yield c.extraInfo;return i.state.activeProfile})()}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,i,r,a,c,u){const f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:i,outputs:r,saved:c},p=qr(e);null!=p&&(a=p.gradFunc),null!=a&&(f.gradient=g=>(g=g.map((v,T)=>{if(null==v){const V=r[T],Y=Kn(V.size,V.dtype);return this.makeTensor(Y,V.shape,V.dtype)}return v}),a(g.length>1?g:g[0],c,u))),this.state.activeTape.push(f)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const i={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(i.name=e),this.state.scopeStack.push(i),this.state.activeScope=i}endScope(e){const i=Nl(e),r=new Set(i.map(c=>c.id));for(let c=0;c<this.state.activeScope.track.length;c++){const u=this.state.activeScope.track[c];!u.kept&&!r.has(u.id)&&u.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],i.forEach(c=>{!c.kept&&c.scopeId===a.id&&this.track(c)})}gradients(e,i,r,a=!1){if(Ce(i.length>0,()=>"gradients() received an empty list of xs."),null!=r&&"float32"!==r.dtype)throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const c=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Ce(c instanceof so,()=>"The result y returned by f() must be a tensor.");const u=function pd(n,t,e){const i={},r={};for(let f=0;f<t.length;f++)i[t[f].id]=!0;for(let f=0;f<n.length;f++){const p=n[f],g=p.inputs;for(const v in g){const T=g[v];let V=!1;for(let Y=0;Y<t.length;Y++)if(i[T.id]){p.outputs.forEach(ae=>i[ae.id]=!0),V=!0,r[p.id]=!0;break}if(V)break}}const a={};a[e.id]=!0;const c={};for(let f=n.length-1;f>=0;f--){const p=n[f],g=p.inputs;for(let v=0;v<p.outputs.length;v++)if(a[p.outputs[v].id]){for(const T in g)a[g[T].id]=!0,c[p.id]=!0;break}}const u=[];for(let f=0;f<n.length;f++){const p=n[f];if(r[p.id]&&c[p.id]){const g={};for(const T in p.inputs){const V=p.inputs[T];i[V.id]&&(g[T]=V)}const v=Object.assign({},p);v.inputs=g,v.outputs=p.outputs,u.push(v)}}return u}(this.state.activeTape,i,c);if(!a&&0===u.length&&i.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const f={};f[c.id]=r??function me(n){const t=Dn(Tt(n),"float32");return Me.makeTensor(t,n,"float32")}(c.shape),function Td(n,t,e,i){for(let r=t.length-1;r>=0;r--){const a=t[r],c=[];if(a.outputs.forEach(f=>{const p=n[f.id];c.push(null!=p?p:null)}),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const u=a.gradient(c);for(const f in a.inputs){if(!(f in u))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(u)}.`);const p=e(()=>u[f]());if("float32"!==p.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${p.dtype}'`);const g=a.inputs[f];if(!Oe(p.shape,g.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${f}' has shape '${p.shape}', which does not match the shape of the input '${g.shape}'`);if(null==n[g.id])n[g.id]=p;else{const v=n[g.id];n[g.id]=i(v,p),v.dispose()}}}}(f,u,g=>this.tidy(g),Wt);const p=i.map(g=>f[g.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(g=>{for(const v of g.saved)v.dispose()}),this.state.activeTape=null),{value:c,grads:p}})}customGrad(e){return Ce(xt(e),()=>"The f passed in customGrad(f) must be a function."),(...i)=>{let r;Ce(i.every(f=>f instanceof so),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const a={};return i.forEach((f,p)=>{a[p]=f}),this.runKernelFunc({forwardFunc:(f,p)=>(r=e(...i,p),Ce(r.value instanceof so,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Ce(xt(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),backwardsFunc:(f,p)=>{const g=r.gradFunc(f,p),v=Array.isArray(g)?g:[g];Ce(v.length===i.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Ce(v.every(V=>V instanceof so),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const T={};return v.forEach((V,Y)=>{T[Y]=()=>V}),T},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,i){return this.state.tensorInfo.get(e).backend.readToGPU(e,i)}time(e){var i=this;return(0,q.A)(function*(){const r=zr(),a=yield i.backend.time(e);return a.wallMs=zr()-r,a})()}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new su;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return n.nextTensorId=0,n.nextVariableId=0,n})();function Ke(){const n=Ft();if(null==n._tfengine){const t=new gt(n);n._tfengine=new Ee(t)}return function Fe(n){st=n}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n._tfengine.ENV),function Gu(n){gc=n}(()=>n._tfengine),n._tfengine}const Me=Ke();function Wt(n,t){return Me.runKernel(Ti,{a:n,b:t})}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function fi(n){if(n||function en(){return typeof navigator<"u"&&null!=navigator}()){if(n||(n=navigator),"ReactNative"===n.product)return!0;const t=n.userAgent||n.vendor||(typeof window<"u"?window.opera:"");return t?/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)):n.userAgentData&&n.userAgentData.mobile}return!1}function Ai(){return typeof window<"u"&&null!=window.document||typeof WorkerGlobalScope<"u"}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Di=De();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bi(n,t){let e=n;if(xo(n))return"string"===t?[]:[n.length];if(tr(n))return[n.height,n.width*(n.channels||"RGBA").length];if(yr(n))return[n.buffer.size/(null==t?4:Gt(t))];if(!Array.isArray(n))return[];const i=[];for(;Array.isArray(e)||xo(e)&&"string"!==t;)i.push(e.length),e=e[0];return Array.isArray(n)&&De().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Kr(n,i,[]),i}function Kr(n,t,e){if(e=e||[],!Array.isArray(n)&&!xo(n))return void Ce(0===t.length,()=>`Element arr[${e.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);Ce(t.length>0,()=>`Element arr[${e.join("][")}] should be a primitive, but is an array of ${n.length} elements`),Ce(n.length===t[0],()=>`Element arr[${e.join("][")}] should have ${t[0]} elements, but has ${n.length} elements`);const i=t.slice(1);for(let r=0;r<n.length;++r)Kr(n[r],i,e.concat(r))}function gs(n,t,e,i){if("string_or_numeric"!==n){if(null==n)throw new Error("Expected dtype cannot be null.");if("numeric"!==n&&n!==t||"numeric"===n&&"string"===t)throw new Error(`Argument '${e}' passed to '${i}' must be ${n} tensor, but got ${t} tensor`)}}function Rt(n,t,e,i="numeric"){if(n instanceof G())return gs(i,n.dtype,t,e),n;let r=nn(n);if("string"!==r&&["bool","int32","float32"].indexOf(i)>=0&&(r=i),gs(i,r,t,e),null==n||!xo(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error(`Argument '${t}' passed to '${e}' must be a Tensor or TensorLike, but got '${null==n?"null":n.constructor.name}'`);const a=Bi(n,r);!xo(n)&&!Array.isArray(n)&&(n=[n]);const u="string"!==r?Wa(n,r):nc(n,[],!0);return Me.makeTensor(u,a,r)}function Cs(n,t,e,i="numeric"){if(!Array.isArray(n))throw new Error(`Argument ${t} passed to ${e} must be a \`Tensor[]\` or \`TensorLike[]\``);return n.map((a,c)=>Rt(a,`${t}[${c}]`,e,i))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */Di.registerFlag("DEBUG",()=>!1,n=>{n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Di.registerFlag("IS_BROWSER",()=>Ai()),Di.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Di.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Di.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Di.registerFlag("PROD",()=>!1),Di.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Di.getBool("DEBUG")),Di.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Di.registerFlag("IS_TEST",()=>!1),Di.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Di.getBool("DEBUG")),Di.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Di.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Di.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);const Pl="__op";function pn(n){const t=Object.keys(n);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let e=t[0];const i=n[e];e.endsWith("_")&&(e=e.substring(0,e.length-1)),e+=Pl;const r=(...a)=>{Me.startScope(e);try{const c=i(...a);return We(c)&&console.error("Cannot return a Promise inside of tidy."),Me.endScope(c),c}catch(c){throw Me.endScope(null),c}};return Object.defineProperty(r,"name",{value:e,configurable:!0}),r
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const yo=pn({complex_:function Ta(n,t){const e=Rt(n,"real","complex"),i=Rt(t,"imag","complex");return Qt(e.shape,i.shape,`real and imag shapes, ${e.shape} and ${i.shape}, must match in call to tf.complex().`),Me.runKernel(Bt,{real:e,imag:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Po(n,t,e,i){if(null==i)i=nn(n);else if("complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(yr(n)||tr(n)){if("float32"!==i&&"int32"!==i)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${i}.`);return Me.backend.createTensorFromGPUData(n,t||e,i)}if(!xo(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Xn(t);const r=Tt(t),a=Tt(e);Ce(r===a,()=>`Based on the provided shape, [${t}], the tensor should have ${r} values but has ${a}`);for(let c=0;c<e.length;++c){const f=c!==e.length-1||e[c]!==Tt(t.slice(c));Ce(e[c]===t[c]||!f,()=>`Error creating a new Tensor. Inferred shape (${e}) does not match the provided shape (${t}). `)}}return!xo(n)&&!Array.isArray(n)&&(n=[n]),t=t||e,n="string"!==i?Wa(n,i):nc(n,[],!0),Me.makeTensor(n,t,i)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function to(n,t,e){return Po(n,t,Bi(n,e),e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Ir={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Is{static join(t){return new Is(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,null==t||(t instanceof Array||(t=[t]),0===(t=t.map(i=>xo(i)?i.buffer:i)).length))return;this.bufferUniformSize=t[0].byteLength;let e=0;for(let i=0;i<t.length;i++){const r=t[i];i!==t.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=e+r.byteLength;this.shards.push({buffer:r,start:e,end:a}),e=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,e=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,e=isNaN(Number(e))?0:e,t=Math.max(0,t),(e=Math.min(this.byteLength,e))<=t)return new ArrayBuffer(0);const i=this.findShardForByte(t);if(-1===i)throw new Error(`Could not find start shard for byte ${t}`);const a=new ArrayBuffer(e-t),c=new Uint8Array(a);let u=0;for(let f=i;f<this.shards.length;f++){const p=this.shards[f],v=t+u-p.start,T=u,Y=Math.min(e,p.end)-p.start,ae=new Uint8Array(p.buffer,v,Y-v);if(c.set(ae,T),u+=ae.length,e<p.end)break}return a}findShardForByte(t){if(0===this.shards.length||t<0||t>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function e(r){return t<r.start?-1:t>=r.end?1:0}if(0===e(this.shards[this.previousShardIndex]))return this.previousShardIndex;const i=function ou(n,t){let e=0,i=n.length;for(;e<=i;){const r=Math.floor((i-e)/2)+e,a=t(n[r]);if(0===a)return r;a<0?i=r:e=r+1}return-1}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.shards,e);return-1===i?-1:(this.previousShardIndex=i,this.previousShardIndex)}}function zl(){return Me}function Gc(){return Me.memory()}function k(n,t){return Me.tidy(n,t)}function B(n){Nl(n).forEach(e=>e.dispose())}function he(n){return Me.keep(n)}function At(n){return Me.setBackend(n)}function bi(n,t,e=1){return Me.registerBackend(n,t,e)}function pi(){return Me.backend}!function Eh(n){ru=n}(function Fl(n){De().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const Ci=4;function Un(n,t){return yi.apply(this,arguments)}function yi(){return yi=(0,q.A)(function*(n,t){const e=[],i=[],r=Array.isArray(n)?n.map(c=>c.name):Object.keys(n);for(let c=0;c<r.length;++c){const u=r[c],f=Array.isArray(n)?n[c].tensor:n[u];if("float32"!==f.dtype&&"int32"!==f.dtype&&"bool"!==f.dtype&&"string"!==f.dtype&&"complex64"!==f.dtype)throw new Error(`Unsupported dtype in weight '${u}': ${f.dtype}`);const p={name:u,shape:f.shape,dtype:f.dtype};if("string"===f.dtype){const g=new Promise(function(){var v=(0,q.A)(function*(T){const V=yield f.bytes(),Y=V.reduce((_e,Te)=>_e+Te.length,0)+Ci*V.length,ae=new Uint8Array(Y);let te=0;for(let _e=0;_e<V.length;_e++){const Te=V[_e],nt=new Uint8Array(new Uint32Array([Te.length]).buffer);ae.set(nt,te),te+=Ci,ae.set(Te,te),te+=Te.length}T(ae)});return function(T){return v.apply(this,arguments)}}());i.push(g)}else i.push(f.data());null!=t&&(p.group=t),e.push(p)}return{data:Do(yield Promise.all(i)),specs:e}}),yi.apply(this,arguments)}function pr(n,t){const e=new Is(n),i={};let r=0;for(const a of t){const c=or(a,(u,f)=>e.slice(r+u,r+f));i[a.name]=Ls(a,e.slice(r,r+c)),r+=c}return i}function or(n,t){const e=Tt(n.shape);let i;if("quantization"in n)i=Ir[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=Ci+new Uint32Array(t(r,r+Ci))[0];return r}i=Ir[n.dtype]}return e*i}function jr(n,t){return is.apply(this,arguments)}function is(){return(is=(0,q.A)(function*(n,t){const e=Tt(n.shape);let i;if("quantization"in n)i=Ir[n.quantization.dtype];else{if("string"===n.dtype){let r=0;for(let a=0;a<e;a++)r+=Ci+new Uint32Array(yield t(r,r+Ci))[0];return r}i=Ir[n.dtype]}return e*i})).apply(this,arguments)}function Ls(n,t){const e=n.name,i=n.dtype,r=n.shape,a=Tt(r);let c,u=0;if("quantization"in n){const f=n.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error(`Weight ${n.name} with quantization ${f.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==f.dtype)throw new Error(`Weight ${n.name} has unknown quantization dtype ${f.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==i)throw new Error(`Weight ${n.name} is quantized with ${f.dtype} which only supports weights of type float32 not ${i}.`)}const p=Ir[f.dtype],g="uint8"===f.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===i)if("uint8"===f.dtype||"uint16"===f.dtype){c=new Float32Array(g.length);for(let v=0;v<g.length;v++)c[v]=g[v]*f.scale+f.min}else{if("float16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type float32.`);c=function vc(){const n=function Ep(){const n=e=>{let i=e<<13,r=0;for(;!(8388608&i);)r-=8388608,i<<=1;return i&=-8388609,r+=947912704,i|r},t=new Uint32Array(2048);t[0]=0;for(let e=1;e<1024;e++)t[e]=n(e);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function Qd(){const n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(let t=1;t<31;t++)n[t]=t<<23;for(let t=33;t<63;t++)n[t]=2147483648+(t-32<<23);return n}(),e=function Xc(){const n=new Uint32Array(64);for(let t=0;t<64;t++)n[t]=1024;return n[0]=n[32]=0,n}();return i=>{const r=new ArrayBuffer(4*i.length),a=new Uint32Array(r);for(let c=0;c<i.length;c++){const u=i[c];a[c]=n[e[u>>10]+(1023&u)]+t[u>>10]}return new Float32Array(r)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */()(g)}else{if("int32"!==i)throw new Error(`Unsupported dtype in weight '${e}': ${i}`);if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error(`Unsupported quantization type ${f.dtype} for weight type int32.`);c=new Int32Array(g.length);for(let v=0;v<g.length;v++)c[v]=Math.round(g[v]*f.scale+f.min)}u+=a*p}else if("string"===i){const f=Tt(n.shape);c=[];for(let p=0;p<f;p++){const g=new Uint32Array(t.slice(u,u+Ci))[0];u+=Ci;const v=new Uint8Array(t.slice(u,u+g));c.push(v),u+=g}}else{const f=Ir[i];if("float32"===i)c=new Float32Array(t);else if("int32"===i)c=new Int32Array(t);else{if("bool"!==i){if("complex64"===i){c=new Float32Array(t);const p=new Float32Array(c.length/2),g=new Float32Array(c.length/2);for(let Y=0;Y<p.length;Y++)p[Y]=c[2*Y],g[Y]=c[2*Y+1];const v=to(p,r,"float32"),T=to(g,r,"float32"),V=yo(v,T);return v.dispose(),T.dispose(),V}throw new Error(`Unsupported dtype in weight '${e}': ${i}`)}c=new Uint8Array(t)}u+=a*f}return to(c,r,i)}function Qr(n,t,e){return xr.apply(this,arguments)}function xr(){return(xr=(0,q.A)(function*(n,t,e){let i=new Uint8Array(t);for(;i.byteLength<e;){const{done:r,value:a}=yield n.read();if(r&&null==a)throw new Error(`Reader is done but ${e-i.byteLength} bytes are still expected`);const c=new Uint8Array(i.length+a.byteLength);c.set(i,0),c.set(new Uint8Array(a),i.length),i=c}return i.buffer})).apply(this,arguments)}function cr(n,t){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,q.A)(function*(n,t){const e={},i=n.getReader();let r=new ArrayBuffer(0);for(const a of t){const c=yield jr(a,function(){var p=(0,q.A)(function*(g,v){return r=yield Qr(i,r,v),r.slice(g,v)});return function(g,v){return p.apply(this,arguments)}}());r=yield Qr(i,r,c);const u=r.slice(0,c);r=r.slice(c);const f=Ls(a,u);if(e[a.name]=f,"webgpu"===Me.backendName){const p=pi();"uploadToGPU"in p&&Tt(f.shape)>=De().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&p.uploadToGPU(f.dataId)}}return e}),Ki.apply(this,arguments)}function Do(n){if(null===n)throw new Error(`Invalid input value: ${JSON.stringify(n)}`);let t=0;const e=[];n.forEach(a=>{if(t+=a.byteLength,e.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});const i=new Uint8Array(t);let r=0;return e.forEach(a=>{i.set(new Uint8Array(a.buffer),r),r+=a.byteLength}),i.buffer}const Nr=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function ls(n){return Nr?Buffer.byteLength(n,"utf8"):new Blob([n]).size}function ta(n){return Is.join(n)}function Xo(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);const e=n.split("/");return e[e.length-1]}function $s(n,t){const e={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:t};return null!=n.signature&&(e.signature=n.signature),null!=n.userDefinedMetadata&&(e.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(e.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(e.initializerSignature=n.initializerSignature),null!=n.trainingConfig&&(e.trainingConfig=n.trainingConfig),e}function Kc(n,t,e){const i={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy};if(null!=n.trainingConfig&&(i.trainingConfig=n.trainingConfig),null!=n.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!e)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=t,i.weightData=e}return null!=n.signature&&(i.signature=n.signature),null!=n.userDefinedMetadata&&(i.userDefinedMetadata=n.userDefinedMetadata),null!=n.modelInitializer&&(i.modelInitializer=n.modelInitializer),null!=n.initializerSignature&&(i.initializerSignature=n.initializerSignature),i}function To(n,t){return yc.apply(this,arguments)}function yc(){return(yc=(0,q.A)(function*(n,t){let e,i;return null!=n.weightsManifest&&([e,i]=yield t(n.weightsManifest)),Kc(n,e,i)})).apply(this,arguments)}function ka(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==n.modelTopology?0:ls(JSON.stringify(n.modelTopology)),weightSpecsBytes:null==n.weightSpecs?0:ls(JSON.stringify(n.weightSpecs)),weightDataBytes:null==n.weightData?0:new Is(n.weightData).byteLength}}function vr(n){const t=[];for(const e of n)t.push(...e.weights);return t}class po{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==po.instance&&(po.instance=new po),po.instance}static registerSaveRouter(t){po.getInstance().saveRouters.push(t)}static registerLoadRouter(t){po.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return po.getHandlers(t,"save")}static getLoadHandlers(t,e){return po.getHandlers(t,"load",e)}static getHandlers(t,e,i){const r=[];return("load"===e?po.getInstance().loadRouters:po.getInstance().saveRouters).forEach(c=>{const u=c(t,i);null!==u&&r.push(u)}),r}}const Ia=n=>po.registerSaveRouter(n),Zd=n=>po.registerLoadRouter(n),Aa=n=>po.getSaveHandlers(n),Tl=(n,t)=>po.getLoadHandlers(n,t)
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,gd="tensorflowjs",Eu="models_store",ko="model_info_store";function Ma(){if(!De().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const n=typeof window>"u"?self:window,t=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Yc(n){const t=n.result;t.createObjectStore(Eu,{keyPath:"modelPath"}),t.createObjectStore(ko,{keyPath:"modelPath"})}let kl=(()=>{class n{constructor(e){if(this.indexedDB=Ma(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){var i=this;return(0,q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return i.databaseAction(i.modelPath,e)})()}load(){var e=this;return(0,q.A)(function*(){return e.databaseAction(e.modelPath)})()}databaseAction(e,i){return new Promise((r,a)=>{const c=this.indexedDB.open(gd,1);c.onupgradeneeded=()=>Yc(c),c.onsuccess=()=>{const u=c.result;if(null==i){const f=u.transaction(Eu,"readonly"),g=f.objectStore(Eu).get(this.modelPath);g.onsuccess=()=>{if(null==g.result)return u.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(g.result.modelArtifacts)},g.onerror=v=>(u.close(),a(g.error)),f.oncomplete=()=>u.close()}else{i.weightData=Is.join(i.weightData);const f=ka(i),p=u.transaction(ko,"readwrite");let v,T,g=p.objectStore(ko);try{v=g.put({modelPath:this.modelPath,modelArtifactsInfo:f})}catch(V){return a(V)}v.onsuccess=()=>{T=u.transaction(Eu,"readwrite");const V=T.objectStore(Eu);let Y;try{Y=V.put({modelPath:this.modelPath,modelArtifacts:i,modelArtifactsInfo:f})}catch(ae){return a(ae)}Y.onsuccess=()=>r({modelArtifactsInfo:f}),Y.onerror=ae=>{g=p.objectStore(ko);const te=g.delete(this.modelPath);te.onsuccess=()=>(u.close(),a(Y.error)),te.onerror=_e=>(u.close(),a(Y.error))}},v.onerror=V=>(u.close(),a(v.error)),p.oncomplete=()=>{null==T?u.close():T.oncomplete=()=>u.close()}}},c.onerror=u=>a(c.error)})}}return n.URL_SCHEME="indexeddb://",n})();const Ys=n=>De().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(kl.URL_SCHEME)?function el(n){return new kl(n)}(n.slice(kl.URL_SCHEME.length)):null;po.registerSaveRouter(Ys),po.registerLoadRouter(Ys);class Oa{constructor(){this.indexedDB=Ma()}listModels(){var t=this;return(0,q.A)(function*(){return new Promise((e,i)=>{const r=t.indexedDB.open(gd,1);r.onupgradeneeded=()=>Yc(r),r.onsuccess=()=>{const a=r.result,c=a.transaction(ko,"readonly"),f=c.objectStore(ko).getAll();f.onsuccess=()=>{const p={};for(const g of f.result)p[g.modelPath]=g.modelArtifactsInfo;e(p)},f.onerror=p=>(a.close(),i(f.error)),c.oncomplete=()=>a.close()},r.onerror=a=>i(r.error)})})()}removeModel(t){var e=this;return(0,q.A)(function*(){return t=function no(n){return n.startsWith(kl.URL_SCHEME)?n.slice(kl.URL_SCHEME.length):n}(t),new Promise((i,r)=>{const a=e.indexedDB.open(gd,1);a.onupgradeneeded=()=>Yc(a),a.onsuccess=()=>{const c=a.result,u=c.transaction(ko,"readwrite"),f=u.objectStore(ko),p=f.get(t);let g;p.onsuccess=()=>{if(null==p.result)return c.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const v=f.delete(t),T=()=>{g=c.transaction(Eu,"readwrite");const Y=g.objectStore(Eu).delete(t);Y.onsuccess=()=>i(p.result.modelArtifactsInfo),Y.onerror=ae=>r(p.error)};v.onsuccess=T,v.onerror=V=>(T(),c.close(),r(p.error))}},p.onerror=v=>(c.close(),r(p.error)),u.oncomplete=()=>{null==g?c.close():g.oncomplete=()=>c.close()}},a.onerror=c=>r(a.error)})})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const _s="/",bc="tensorflowjs_models",yd="info",xp="model_topology",W_="weight_specs",Cp="weight_data",Bb="model_metadata";function Xm(n){return{info:[bc,n,yd].join(_s),topology:[bc,n,xp].join(_s),weightSpecs:[bc,n,W_].join(_s),weightData:[bc,n,Cp].join(_s),modelMetadata:[bc,n,Bb].join(_s)}}function H_(n){for(const t of Object.values(n))window.localStorage.removeItem(t)}function Ym(n){const t=n.split(_s);if(t.length<3)throw new Error(`Invalid key format: ${n}`);return t.slice(1,t.length-1).join(_s)}let Tf=(()=>{class n{constructor(e){if(!De().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Xm(this.modelPath)}save(e){var i=this;return(0,q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const r=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),c=ka(e),u=Is.join(e.weightData);try{return i.LS.setItem(i.keys.info,JSON.stringify(c)),i.LS.setItem(i.keys.topology,r),i.LS.setItem(i.keys.weightSpecs,a),i.LS.setItem(i.keys.weightData,function cs(n){if(Nr)return Buffer.from(n).toString("base64");const t=new Uint8Array(n);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(u)),i.LS.setItem(i.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0})),{modelArtifactsInfo:c}}catch{throw H_(i.keys),new Error(`Failed to save model '${i.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${c.modelTopologyBytes}, weightSpecsBytes=${c.weightSpecsBytes}, weightDataBytes=${c.weightDataBytes}.`)}}})()}load(){var e=this;return(0,q.A)(function*(){const i=JSON.parse(e.LS.getItem(e.keys.info));if(null==i)throw new Error(`In local storage, there is no model with name '${e.modelPath}'`);if("JSON"!==i.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const r={},a=JSON.parse(e.LS.getItem(e.keys.topology));if(null==a)throw new Error(`In local storage, the topology of model '${e.modelPath}' is missing.`);r.modelTopology=a;const c=JSON.parse(e.LS.getItem(e.keys.weightSpecs));if(null==c)throw new Error(`In local storage, the weight specs of model '${e.modelPath}' are missing.`);r.weightSpecs=c;const u=e.LS.getItem(e.keys.modelMetadata);if(null!=u){const p=JSON.parse(u);r.format=p.format,r.generatedBy=p.generatedBy,r.convertedBy=p.convertedBy,null!=p.signature&&(r.signature=p.signature),null!=p.userDefinedMetadata&&(r.userDefinedMetadata=p.userDefinedMetadata),null!=p.modelInitializer&&(r.modelInitializer=p.modelInitializer),null!=p.initializerSignature&&(r.initializerSignature=p.initializerSignature),null!=p.trainingConfig&&(r.trainingConfig=p.trainingConfig)}const f=e.LS.getItem(e.keys.weightData);if(null==f)throw new Error(`In local storage, the binary weight values of model '${e.modelPath}' are missing.`);return r.weightData=function ea(n){if(Nr){const i=Buffer.from(n,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const t=atob(n),e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e.set([t.charCodeAt(i)],i);return e.buffer}(f),r})()}}return n.URL_SCHEME="localstorage://",n})();const Ub=n=>De().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Tf.URL_SCHEME)?function zb(n){return new Tf(n)}(n.slice(Tf.URL_SCHEME.length)):null;po.registerSaveRouter(Ub),po.registerLoadRouter(Ub);class Wx{constructor(){Ce(De().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Ce(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){var t=this;return(0,q.A)(function*(){const e={},i=bc+_s,r=_s+yd;for(let a=0;a<t.LS.length;++a){const c=t.LS.key(a);c.startsWith(i)&&c.endsWith(r)&&(e[Ym(c)]=JSON.parse(t.LS.getItem(c)))}return e})()}removeModel(t){var e=this;return(0,q.A)(function*(){const i=Xm(t=function Vb(n){return n.startsWith(Tf.URL_SCHEME)?n.slice(Tf.URL_SCHEME.length):n}(t));if(null==e.LS.getItem(i.info))throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(e.LS.getItem(i.info));return H_(i),r})()}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Yh="://";class Pc{constructor(){this.managers={}}static getInstance(){return null==Pc.instance&&(Pc.instance=new Pc),Pc.instance}static registerManager(t,e){Ce(null!=t,()=>"scheme must not be undefined or null."),t.endsWith(Yh)&&(t=t.slice(0,t.indexOf(Yh))),Ce(t.length>0,()=>"scheme must not be an empty string.");const i=Pc.getInstance();Ce(null==i.managers[t],()=>`A model store manager is already registered for scheme '${t}'.`),i.managers[t]=e}static getManager(t){const e=Pc.getInstance().managers[t];if(null==e)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(Pc.getInstance().managers)}}function kf(n){if(-1===n.indexOf(Yh))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Pc.getSchemes().join(",")}`);return{scheme:n.split(Yh)[0],path:n.split(Yh)[1]}}function eh(n,t){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,q.A)(function*(n,t,e=!1){Ce(n!==t,()=>`Old path and new path are the same: '${n}'`);const i=po.getLoadHandlers(n);Ce(i.length>0,()=>`Copying failed because no load handler is found for source URL ${n}.`),Ce(i.length<2,()=>`Copying failed because more than one (${i.length}) load handlers for source URL ${n}.`);const r=i[0],a=po.getSaveHandlers(t);Ce(a.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),Ce(a.length<2,()=>`Copying failed because more than one (${i.length}) save handlers for destination URL ${t}.`);const c=a[0],u=kf(n).scheme,f=kf(n).path,p=u===kf(n).scheme,g=yield r.load();e&&p&&(yield Pc.getManager(u).removeModel(f));const v=yield c.save(g);return e&&!p&&(yield Pc.getManager(u).removeModel(f)),v.modelArtifactsInfo})).apply(this,arguments)}function jb(){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,q.A)(function*(){const n=Pc.getSchemes(),t={};for(const e of n){const i=yield Pc.getManager(e).listModels();for(const r in i)t[e+Yh+r]=i[r]}return t})).apply(this,arguments)}function G_(n){return If.apply(this,arguments)}function If(){return(If=(0,q.A)(function*(n){const t=kf(n);return Pc.getManager(t.scheme).removeModel(t.path)})).apply(this,arguments)}function qm(n,t){return qh.apply(this,arguments)}function qh(){return(qh=(0,q.A)(function*(n,t){return eh(n,t,!1)})).apply(this,arguments)}function Ku(n,t){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,q.A)(function*(n,t){return eh(n,t,!0)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class kp{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Browser's encoder only supports utf-8, but got ${e}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}setTimeoutCustom(t,e){typeof window>"u"||!De().getBool("USE_SETTIMEOUTCUSTOM")?setTimeout(t,e):(this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},e),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{i.source===window&&i.data.name===this.messageName&&(i.stopPropagation(),(0,this.functionRefs[i.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))},!0)))}isTypedArray(t){return Oc(t)}}if(De().get("IS_BROWSER")){De().setPlatform("browser",new kp);try{Pc.registerManager(Tf.URL_SCHEME,new Wx)}catch{}try{Pc.registerManager(kl.URL_SCHEME,new Oa)}catch{}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let th;
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fs(n,t="float32",e){return t=t||"float32",Xn(n),new So(n,t,e)
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}De().get("IS_NODE")&&!De().get("IS_BROWSER")&&De().setPlatform("node",new class Mf{constructor(){this.util=_(8590),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return null!=De().global.fetch?De().global.fetch(t,e):(null==th&&(th=_(5817)),th(t,e))}now(){const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}encode(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error(`Node built-in encoder only supports utf-8, but got ${e}`);return this.textEncoder.encode(t)}decode(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}});const Xi=pn({cast_:function xu(n,t){const e=Rt(n,"x","cast");if(!function pe(n){return"bool"===n||"complex64"===n||"float32"===n||"int32"===n||"string"===n}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==e.dtype||"string"!==t&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");return Me.runKernel(et,{x:e},{dtype:t})}}),Id=pn({clone_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qm(n){const e={x:Rt(n,"x","clone","string_or_numeric")};return Me.runKernel(Ba,e)}});
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function z(n,t=!1){console.log(n.toString(t))}
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */Ke(),function qd(n){iu=n}({buffer:fs,cast:Xi,clone:Id,print:z});const tt=pn({add_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ue(n,t){let e=Rt(n,"a","add"),i=Rt(t,"b","add");return[e,i]=Rr(e,i),Me.runKernel(Ti,{a:e,b:i})}}),mn=pn({floorDiv_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jt(n,t){let e=Rt(n,"a","floorDiv"),i=Rt(t,"b","floorDiv");return[e,i]=Rr(e,i),Me.runKernel(lo,{a:e,b:i})}}),zn=pn({div_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yn(n,t){let e=Rt(n,"a","div"),i=Rt(t,"b","div");return[e,i]=Rr(e,i),"int32"===e.dtype&&"int32"===i.dtype?mn(e,i):Me.runKernel(Fa,{a:e,b:i},{})}}),qt=pn({mul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mr(n,t){let e=Rt(n,"a","mul"),i=Rt(t,"b","mul");return[e,i]=Rr(e,i),Me.runKernel(Zo,{a:e,b:i})}}),Yr=pn({sqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Li(n){const e={x:Rt(n,"x","sqrt","float32")};return Me.runKernel(ti,e)}}),Pr=pn({square_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Io(n){const t=Rt(n,"x","square");return Me.runKernel("Square",{x:t},{})}}),ps=pn({zerosLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fc(n){const e={x:Rt(n,"x","zerosLike")};return Me.runKernel(Ac,e)}});function Sh(n){return Me.customGrad(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Wr(n,t){if((xo(n)&&"string"!==t||Array.isArray(n))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&xo(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Po(n,[],[],t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Uk=new Map,li=new Map;class As{getClassName(){return this.constructor.className}static fromConfig(t,e){return new t(e)}}class Xu{constructor(){this.classNameMap={}}static getMap(){return null==Xu.instance&&(Xu.instance=new Xu),Xu.instance}static register(t){Xu.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function Mi(n,t,e){Ce(null!=n.className,()=>"Class being registered does not have the static className property defined."),Ce("string"==typeof n.className,()=>"className is required to be a string, but got type "+typeof n.className),Ce(n.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof e>"u"&&(e=n.className);const r=t+">"+e;return Xu.register(n),Uk.set(r,n),li.set(n,r),n}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Dh extends As{minimize(t,e=!1,i){const{value:r,grads:a}=this.computeGradients(t,i);if(null!=i){const c=i.map(u=>({name:u.name,tensor:a[u.name]}));this.applyGradients(c)}else this.applyGradients(a);return B(a),e?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,e){return function Vk(n,t){Ce(xt(n),()=>"The f passed in variableGrads(f) must be a function"),Ce(null==t||Array.isArray(t)&&t.every(p=>p instanceof ke),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const e=null!=t;if(!e){t=[];for(const p in Me.registeredVariables)t.push(Me.registeredVariables[p])}const i=e?t.filter(p=>!p.trainable):null,r=t.length;Ce((t=t.filter(p=>p.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const{value:c,grads:u}=Me.gradients(n,t,null,!0);Ce(u.some(p=>null!=p),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Ce(0===c.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`);const f={};return t.forEach((p,g)=>{null!=u[g]&&(f[p.name]=u[g])}),i?.forEach(p=>f[p.name]=null),{value:c,grads:f}}(t,e)}dispose(){null!=this.iterations_&&B(this.iterations_)}saveIterations(){var t=this;return(0,q.A)(function*(){return null==t.iterations_&&(t.iterations_=0),{name:"iter",tensor:Wr(t.iterations_,"int32")}})()}getWeights(){return(0,q.A)(function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})()}setWeights(t){var e=this;return(0,q.A)(function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${e.getClassName()}`)})()}extractIterations(t){var e=this;return(0,q.A)(function*(){return e.iterations_=(yield t[0].tensor.data())[0],t.slice(1)})()}}Object.defineProperty(Dh,Symbol.hasInstance,{value:n=>null!=n.minimize&&null!=n.computeGradients&&null!=n.applyGradients});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Ap extends Dh{static get className(){return"Adadelta"}constructor(t,e,i=null){super(),this.learningRate=t,this.rho=e,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==i&&(this.epsilon=Me.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Me.registeredVariables[i],c=!1;null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accum_grad`,variable:k(()=>ps(a).variable(c))}),null==this.accumulatedUpdates[r]&&(this.accumulatedUpdates[r]={originalName:`${i}/accum_var`,variable:k(()=>ps(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedGrads[r].variable,p=this.accumulatedUpdates[r].variable;k(()=>{const g=tt(qt(f,this.rho),qt(Pr(u),1-this.rho)),v=qt(zn(Yr(tt(p,this.epsilon)),Yr(tt(f,this.epsilon))),u),T=tt(qt(p,this.rho),qt(Pr(v),1-this.rho));f.assign(g),p.assign(T);const V=tt(qt(v,-this.learningRate),a);a.assign(V)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(B(this.accumulatedGrads.map(t=>t.variable)),B(this.accumulatedUpdates.map(t=>t.variable)))}getWeights(){var t=this;return(0,q.A)(function*(){const e=[...t.accumulatedGrads,...t.accumulatedUpdates];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,q.A)(function*(){const i=(t=yield e.extractIterations(t)).length/2,r=!1;e.accumulatedGrads=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedUpdates=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.rho,e.epsilon)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function cu(n,t,e){return Xn(n),e=e||nn(t),Me.runKernel(ql,{},{shape:n,value:t,dtype:e})}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class X_ extends Dh{static get className(){return"Adagrad"}constructor(t,e=.1){super(),this.learningRate=t,this.initialAccumulatorValue=e,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Me.registeredVariables[i];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${i}/accumulator`,variable:k(()=>cu(a.shape,this.initialAccumulatorValue).variable(!1))});const c=Array.isArray(t)?t[r].tensor:t[i];if(null==c)return;const u=this.accumulatedGrads[r].variable;k(()=>{const f=tt(u,Pr(c));u.assign(f);const p=tt(qt(zn(c,Yr(tt(f,Me.backend.epsilon()))),-this.learningRate),a);a.assign(p)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&B(this.accumulatedGrads.map(t=>t.variable))}getWeights(){var t=this;return(0,q.A)(function*(){return[yield t.saveIterations()].concat(t.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,q.A)(function*(){t=yield e.extractIterations(t),e.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,e){return new t(e.learningRate,e.initialAccumulatorValue)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const ih=pn({pow_:function Wb(n,t){let e=Rt(n,"base","pow"),i=Rt(t,"exp","pow");return[e,i]=Rr(e,i),Me.runKernel(le,{a:e,b:i})}}),dr=pn({sub_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LP(n,t){let e=Rt(n,"a","sub"),i=Rt(t,"b","sub");return[e,i]=Rr(e,i),Me.runKernel(Ic,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Hb extends Dh{static get className(){return"Adam"}constructor(t,e,i,r=null){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],k(()=>{this.accBeta1=Wr(e).variable(),this.accBeta2=Wr(i).variable()}),null==r&&(this.epsilon=Me.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);k(()=>{const i=dr(1,this.accBeta1),r=dr(1,this.accBeta2);e.forEach((a,c)=>{const u=Me.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:k(()=>ps(u).variable(f))}),null==this.accumulatedSecondMoment[c]&&(this.accumulatedSecondMoment[c]={originalName:`${a}/v`,variable:k(()=>ps(u).variable(f))});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,v=this.accumulatedSecondMoment[c].variable,T=tt(qt(g,this.beta1),qt(p,1-this.beta1)),V=tt(qt(v,this.beta2),qt(Pr(p),1-this.beta2)),Y=zn(T,i),ae=zn(V,r);g.assign(T),v.assign(V);const te=tt(qt(zn(Y,tt(Yr(ae),this.epsilon)),-this.learningRate),u);u.assign(te)}),this.accBeta1.assign(qt(this.accBeta1,this.beta1)),this.accBeta2.assign(qt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&B(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedSecondMoment&&B(this.accumulatedSecondMoment.map(t=>t.variable))}getWeights(){var t=this;return(0,q.A)(function*(){const e=[...t.accumulatedFirstMoment,...t.accumulatedSecondMoment];return[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,q.A)(function*(){t=yield e.extractIterations(t),k(()=>{e.accBeta1.assign(ih(e.beta1,e.iterations_+1)),e.accBeta2.assign(ih(e.beta2,e.iterations_+1))});const i=t.length/2,r=!1;e.accumulatedFirstMoment=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedSecondMoment=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const jl=pn({abs_:function Hx(n){const t=Rt(n,"x","abs");return Me.runKernel("complex64"===t.dtype?Jn:ni,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ic(n,t){const e=n.length,i=[];for(let r=0;r<e;r++){const a=e-1-r;(t[t.length-1-r]||1)>1&&1===(n[a]||1)&&i.unshift(a)}return i}function fa(n,t){const e=[];for(let i=0;i<t.length;i++){const r=n[n.length-i-1],a=t.length-i-1;(null==r||1===r&&t[a]>1)&&e.unshift(a)}return e}function Ts(n,t){const e=Math.max(n.length,t.length),i=new Array(e);for(let r=0;r<e;r++){let a=n[n.length-r-1];null==a&&(a=1);let c=t[t.length-r-1];if(null==c&&(c=1),1===a)i[e-r-1]=c;else if(1===c)i[e-r-1]=a;else{if(a!==c)throw Error(`Operands could not be broadcast together with shapes ${n} and ${t}.`);i[e-r-1]=a}}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const qc=pn({maximum_:function Ad(n,t){let e=Rt(n,"a","maximum"),i=Rt(t,"b","maximum");return[e,i]=Rr(e,i),"bool"===e.dtype&&(e=Xi(e,"int32"),i=Xi(i,"int32")),Ts(e.shape,i.shape),Me.runKernel(Bo,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Gx extends Dh{static get className(){return"Adamax"}constructor(t,e,i,r=null,a=0){super(),this.learningRate=t,this.beta1=e,this.beta2=i,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],k(()=>{this.iteration=Wr(0).variable(),this.accBeta1=Wr(e).variable()}),null==r&&(this.epsilon=Me.backend.epsilon())}applyGradients(t){const e=Array.isArray(t)?t.map(i=>i.name):Object.keys(t);k(()=>{const i=dr(1,this.accBeta1),r=zn(-this.learningRate,tt(qt(this.iteration,this.decay),1));e.forEach((a,c)=>{const u=Me.registeredVariables[a],f=!1;null==this.accumulatedFirstMoment[c]&&(this.accumulatedFirstMoment[c]={originalName:`${a}/m`,variable:ps(u).variable(f)}),null==this.accumulatedWeightedInfNorm[c]&&(this.accumulatedWeightedInfNorm[c]={originalName:`${a}/v`,variable:ps(u).variable(f)});const p=Array.isArray(t)?t[c].tensor:t[a];if(null==p)return;const g=this.accumulatedFirstMoment[c].variable,v=this.accumulatedWeightedInfNorm[c].variable,T=tt(qt(g,this.beta1),qt(p,1-this.beta1)),V=qt(v,this.beta2),Y=jl(p),ae=qc(V,Y);g.assign(T),v.assign(ae);const te=tt(qt(zn(r,i),zn(T,tt(ae,this.epsilon))),u);u.assign(te)}),this.iteration.assign(tt(this.iteration,1)),this.accBeta1.assign(qt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&B(this.accumulatedFirstMoment.map(t=>t.variable)),null!=this.accumulatedWeightedInfNorm&&B(this.accumulatedWeightedInfNorm.map(t=>t.variable))}getWeights(){return(0,q.A)(function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})()}setWeights(t){return(0,q.A)(function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})()}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Y_ extends Dh{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Array.isArray(t)?t[r].tensor:t[i];if(null==a)return;const c=Me.registeredVariables[i];k(()=>{const u=tt(qt(this.c,a),c);c.assign(u)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=he(Wr(-t))}dispose(){this.c.dispose()}getWeights(){var t=this;return(0,q.A)(function*(){return[yield t.saveIterations()]})()}setWeights(t){var e=this;return(0,q.A)(function*(){if(0!==(t=yield e.extractIterations(t)).length)throw new Error("SGD optimizer does not have settable weights.")})()}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,e){return new t(e.learningRate)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Kx extends Y_{static get className(){return"Momentum"}constructor(t,e,i=!1){super(t),this.learningRate=t,this.momentum=e,this.useNesterov=i,this.accumulations=[],this.m=Wr(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Me.registeredVariables[i];null==this.accumulations[r]&&(this.accumulations[r]={originalName:`${i}/momentum`,variable:k(()=>ps(a).variable(!1))});const c=this.accumulations[r].variable,u=Array.isArray(t)?t[r].tensor:t[i];null!=u&&k(()=>{let f;const p=tt(qt(this.m,c),u);f=tt(qt(this.c,this.useNesterov?tt(u,qt(p,this.m)):p),a),c.assign(p),a.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&B(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}getWeights(){var t=this;return(0,q.A)(function*(){return[yield t.saveIterations()].concat(t.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))})()}setWeights(t){var e=this;return(0,q.A)(function*(){t=yield e.extractIterations(t),e.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(!1)}))})()}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Xx extends Dh{static get className(){return"RMSProp"}constructor(t,e=.9,i=0,r=null,a=!1){if(super(),this.learningRate=t,this.decay=e,this.momentum=i,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=Me.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(i=>i.name):Object.keys(t)).forEach((i,r)=>{const a=Me.registeredVariables[i],c=!1;null==this.accumulatedMeanSquares[r]&&(this.accumulatedMeanSquares[r]={originalName:`${i}/rms`,variable:k(()=>ps(a).variable(c))}),null==this.accumulatedMoments[r]&&(this.accumulatedMoments[r]={originalName:`${i}/momentum`,variable:k(()=>ps(a).variable(c))}),null==this.accumulatedMeanGrads[r]&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${i}/mg`,variable:k(()=>ps(a).variable(c))});const u=Array.isArray(t)?t[r].tensor:t[i];if(null==u)return;const f=this.accumulatedMeanSquares[r].variable,p=this.accumulatedMoments[r].variable;k(()=>{const g=tt(qt(f,this.decay),qt(Pr(u),1-this.decay));if(this.centered){const v=this.accumulatedMeanGrads[r].variable,T=tt(qt(v,this.decay),qt(u,1-this.decay)),V=zn(qt(u,this.learningRate),Yr(dr(g,tt(Pr(T),this.epsilon)))),Y=tt(qt(p,this.momentum),V);f.assign(g),v.assign(T),p.assign(Y);const ae=dr(a,Y);a.assign(ae)}else{const v=tt(qt(f,this.decay),qt(Pr(u),1-this.decay)),T=tt(qt(p,this.momentum),zn(qt(u,this.learningRate),Yr(tt(v,this.epsilon))));f.assign(v),p.assign(T);const V=dr(a,T);a.assign(V)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&B(this.accumulatedMeanSquares.map(t=>t.variable)),null!=this.accumulatedMeanGrads&&this.centered&&B(this.accumulatedMeanGrads.map(t=>t.variable)),null!=this.accumulatedMoments&&B(this.accumulatedMoments.map(t=>t.variable))}getWeights(){var t=this;return(0,q.A)(function*(){const e=[...t.accumulatedMeanSquares,...t.accumulatedMoments];return t.centered&&e.push(...t.accumulatedMeanGrads),[yield t.saveIterations()].concat(e.map(i=>({name:i.originalName,tensor:i.variable})))})()}setWeights(t){var e=this;return(0,q.A)(function*(){t=yield e.extractIterations(t);const i=e.centered?t.length/3:t.length/2,r=!1;e.accumulatedMeanSquares=t.slice(0,i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.accumulatedMoments=t.slice(i,2*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),e.centered&&(e.accumulatedMeanGrads=t.slice(2*i,3*i).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))})()}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)}}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Gb=[Ap,X_,Hb,Gx,Kx,Xx,Y_];function Yb(n){return new Promise(t=>setTimeout(t)).then(n)}let Zm=(()=>{class n{constructor(e){if(!De().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(n.URL_SCHEME)&&(e=e.slice(n.URL_SCHEME.length)),(null==e||0===e.length)&&(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}save(e){var i=this;return(0,q.A)(function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const r=Is.join(e.weightData),a=window.URL.createObjectURL(new Blob([r],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const u=$s(e,[{paths:["./"+i.weightDataFileName],weights:e.weightSpecs}]),f=window.URL.createObjectURL(new Blob([JSON.stringify(u)],{type:"application/json"})),p=null==i.modelJsonAnchor?document.createElement("a"):i.modelJsonAnchor;if(p.download=i.modelJsonFileName,p.href=f,yield Yb(()=>p.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const g=null==i.weightDataAnchor?document.createElement("a"):i.weightDataAnchor;g.download=i.weightDataFileName,g.href=a,yield Yb(()=>g.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:ka(e)}}})()}}return n.URL_SCHEME="downloads://",n})();class Yx{constructor(t){if(null==t||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}load(){var t=this;return(0,q.A)(function*(){return new Promise((e,i)=>{const r=new FileReader;r.onload=a=>{const c=JSON.parse(a.target.result),u=c.modelTopology;if(null==u)return void i(new Error(`modelTopology field is missing from file ${t.jsonFile.name}`));if(null==c.weightsManifest)return void i(new Error(`weightManifest field is missing from file ${t.jsonFile.name}`));if(0===t.weightsFiles.length)return void e({modelTopology:u});const p=To(c,g=>t.loadWeights(g));e(p)},r.onerror=a=>i(`Failed to read model topology and weights manifest JSON from file '${t.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(t.jsonFile)})})()}loadWeights(t){const e=[],i=[];for(const c of t)e.push(...c.weights),i.push(...c.paths);const r=this.checkManifestAndWeightFiles(t),a=i.map(c=>this.loadWeightsFile(c,r[c]));return Promise.all(a).then(c=>[e,c])}loadWeightsFile(t,e){return new Promise((i,r)=>{const a=new FileReader;a.onload=c=>{i(c.target.result)},a.onerror=c=>r(`Failed to weights data from file of path '${t}'.`),a.readAsArrayBuffer(e)})}checkManifestAndWeightFiles(t){const e=[],i=this.weightsFiles.map(a=>Xo(a.name)),r={};for(const a of t)a.paths.forEach(c=>{const u=Xo(c);if(-1!==e.indexOf(u))throw new Error(`Duplicate file basename found in weights manifest: '${u}'`);if(e.push(u),-1===i.indexOf(u))throw new Error(`Weight file with basename '${u}' is not provided.`);r[c]=this.weightsFiles[i.indexOf(u)]});if(e.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${e.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function Zx(n){return new Yx(n)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Q_(n,t,e,i){(function c(f){Ce(null!=f&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")})(n),function u(f,p){Ce(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),Ce(p>=0&&p<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${p}`),Ce(p>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${p}`)}(e=e??0,i=i??1);let r=0;return Promise.all(n.map(f=>(f.then(p=>{const g=e+ ++r/n.length*(i-e);return t(g),p}),f)))}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jx(n,t){return wc.apply(this,arguments)}function wc(){return(wc=(0,q.A)(function*(n,t){null==t&&(t={});const e=null==t.fetchFunc?De().platform.fetch:t.fetchFunc,i=n.map(v=>e(v,t.requestInit,{isBinary:!0})),u=(null==t.onProgress?yield Promise.all(i):yield Q_(i,t.onProgress,0,.5)).map(v=>v.arrayBuffer());return null==t.onProgress?yield Promise.all(u):yield Q_(u,t.onProgress,.5,1)})).apply(this,arguments)}function Ha(n){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,q.A)(function*(n,t="",e,i){return eC(c=>Jx(c,{requestInit:i}))(n,t,e)})).apply(this,arguments)}function eC(n){return function(){var t=(0,q.A)(function*(e,i="",r){const a=e.map(()=>!1),c={},u=null!=r?r.map(()=>!1):[],f=[];if(e.forEach((Y,ae)=>{let te=0;Y.weights.forEach(_e=>{const nt=Ir["quantization"in _e?_e.quantization.dtype:_e.dtype]*Tt(_e.shape),it=()=>{a[ae]=!0,null==c[ae]&&(c[ae]=[]),c[ae].push({manifestEntry:_e,groupOffset:te,sizeBytes:nt})};null!=r?r.forEach((St,Xt)=>{St===_e.name&&(it(),u[Xt]=!0)}):it(),f.push(_e.name),te+=nt})}),!u.every(Y=>Y)){const Y=r.filter((ae,te)=>!u[te]);throw new Error(`Could not find weights in manifest with names: ${Y.join(", ")}. \nManifest JSON has weights with names: ${f.join(", ")}.`)}const p=a.reduce((Y,ae,te)=>(ae&&Y.push(te),Y),[]),g=[];p.forEach(Y=>{e[Y].paths.forEach(ae=>{const te=i+(i.endsWith("/")?"":"/")+ae;g.push(te)})});const v=yield n(g),T={};let V=0;return p.forEach(Y=>{const ae=e[Y].paths.length,te=new Is(v.slice(V,V+ae));c[Y].forEach(Te=>{const it=pr(te.slice(Te.groupOffset,Te.groupOffset+Te.sizeBytes),[Te.manifestEntry]);for(const St in it)T[St]=it[St]}),V+=ae}),T});return function(e){return t.apply(this,arguments)}}()}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */po.registerSaveRouter(n=>De().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Zm.URL_SCHEME)?function Qx(n="model"){return new Zm(n)}(n.slice(Zm.URL_SCHEME.length)):null);let qb=(()=>{class n{constructor(e,i){if(this.DEFAULT_METHOD="POST",null==i&&(i={}),this.weightPathPrefix=i.weightPathPrefix,this.weightUrlConverter=i.weightUrlConverter,null!=i.fetchFunc?(Ce("function"==typeof i.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=i.fetchFunc):this.fetch=De().platform.fetch,Ce(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Ce(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=i.requestInit&&null!=i.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=i.requestInit||{},this.loadOptions=i}save(e){var i=this;return(0,q.A)(function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const r=Object.assign({method:i.DEFAULT_METHOD},i.requestInit);r.body=new FormData;const c=$s(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(r.body.append("model.json",new Blob([JSON.stringify(c)],{type:"application/json"}),"model.json"),null!=e.weightData){const f=Is.join(e.weightData);r.body.append("model.weights.bin",new Blob([f],{type:"application/octet-stream"}),"model.weights.bin")}const u=yield i.fetch(i.path,r);if(u.ok)return{modelArtifactsInfo:ka(e),responses:[u]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${u.status}.`)})()}loadModelJSON(){var e=this;return(0,q.A)(function*(){const i=yield e.fetch(e.path,e.requestInit);if(!i.ok)throw new Error(`Request to ${e.path} failed with status code ${i.status}. Please verify this URL points to the model JSON of the model to load.`);let r;try{r=yield i.json()}catch{let f=`Failed to parse model JSON of response from ${e.path}.`;throw e.path.endsWith(".pb")?f+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":f+=" Please make sure the server is serving valid JSON for this request.",new Error(f)}if(null==r.modelTopology&&null==r.weightsManifest)throw new Error(`The JSON from HTTP path ${e.path} contains neither model topology or manifest for weights.`);return r})()}load(){var e=this;return(0,q.A)(function*(){return e.loadOptions.streamWeights?e.loadStream():To(yield e.loadModelJSON(),r=>e.loadWeights(r))})()}loadStream(){var e=this;return(0,q.A)(function*(){const i=yield e.loadModelJSON(),r=yield e.getWeightUrls(i.weightsManifest),a=vr(i.weightsManifest);return Object.assign(Object.assign({},i),{weightSpecs:a,getWeightStream:()=>function Of(n,t){var e;const i=null==t.fetchFunc?De().platform.fetch:t.fetchFunc;let a,r=0;return null===(e=t.onProgress)||void 0===e||e.call(t,0),new ReadableStream({pull:(c=(0,q.A)(function*(u){for(var f;r<n.length;){a||(a=(yield i(n[r],t.requestInit,{isBinary:!0})).body.getReader());const{done:p,value:g}=yield a.read();if(!p)return void u.enqueue(g);r++,a=void 0,null===(f=t.onProgress)||void 0===f||f.call(t,r/n.length)}u.close()}),function(f){return c.apply(this,arguments)})});var c}(r,e.loadOptions)})})()}getWeightUrls(e){var i=this;return(0,q.A)(function*(){const r=Array.isArray(i.path)?i.path[1]:i.path,[a,c]=function nC(n){const t=n.lastIndexOf("/"),e=n.lastIndexOf("?");return[n.substring(0,t)+"/",e>t?n.substring(e):""]}(r),u=i.weightPathPrefix||a,f=[],p=[];for(const g of e)for(const v of g.paths)null!=i.weightUrlConverter?p.push(i.weightUrlConverter(v)):f.push(u+v+c);return i.weightUrlConverter&&f.push(...yield Promise.all(p)),f})()}loadWeights(e){var i=this;return(0,q.A)(function*(){const r=yield i.getWeightUrls(e);return[vr(e),yield Jx(r,i.loadOptions)]})()}}return n.URL_SCHEME_REGEX=/^https?:\/\//,n})();function Rf(n){return null!=n.match(qb.URL_SCHEME_REGEX)}const Md=(n,t)=>{if(typeof fetch>"u"&&(null==t||null==t.fetchFunc))return null;{let e=!0;if(e=Array.isArray(n)?n.every(i=>Rf(i)):Rf(n),e)return Qb(n,t)}return null};function Qb(n,t){return new qb(n,t)}function J_(n,t){return Qb(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */po.registerSaveRouter(Md),po.registerLoadRouter(Md);class Mp{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class Jm{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class Zb{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=e=>Promise.resolve(t.save(e)))}}function iC(n,t,e,i){return new Zb(Jb(...arguments))}function Jb(n,t,e,i){return 1===arguments.length?null!=n.modelTopology||null!=n.weightSpecs?new Mp(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mp({modelTopology:n})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mp({modelTopology:n,weightSpecs:t,weightData:e,trainingConfig:i}))}function Wk(n){return new Jm(n)}function Op(n){return new Jm(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Rp(n,t,e){if(Vt(n),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const i=Bi(n,e);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Po(n,t,i,e)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */let Nf,ey=!1;function e0(n,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==n)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,i=!1,r=!1,a=!1,c=!1,u=!1;if(n.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&n instanceof ImageData)i=!0;else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement)a=!0;else if(null!=n.getContext)c=!0;else{if(!(typeof ImageBitmap<"u"&&n instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${n.constructor.name}`);u=!0}if(null!=Fs(Cl,Me.backendName))return Me.runKernel(Cl,{pixels:n},{numChannels:t});const[p,g]=r?[n.videoWidth,n.videoHeight]:[n.width,n.height];let v,T;if(c)v=n.getContext("2d").getImageData(0,0,p,g).data;else if(i||e)v=n.data;else if(a||r||u){if(null==Nf)if(typeof document>"u"){if(!(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u"))throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Nf=new OffscreenCanvas(1,1).getContext("2d")}else Nf=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Nf.canvas.width=p,Nf.canvas.height=g,Nf.drawImage(n,0,0,p,g),v=Nf.getImageData(0,0,p,g).data}if(4===t)T=new Int32Array(v);else{const Y=p*g;T=new Int32Array(Y*t);for(let ae=0;ae<Y;ae++)for(let te=0;te<t;++te)T[ae*t+te]=v[4*ae+te]}return Rp(T,[g,p,t],"int32")}function t0(n){return Th.apply(this,arguments)}function Th(){return(Th=(0,q.A)(function*(n,t=3){let e=null;if(De().getBool("WRAP_TO_IMAGEBITMAP")&&function BP(n){return function Gk(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}()&&!(n instanceof ImageBitmap)&&function $P(n){return null!=n&&0!==n.width&&0!==n.height}(n)&&!function Hk(n){return null!=n&&n.data instanceof Uint8Array}(n)}(n)){let i;try{i=yield createImageBitmap(n,{premultiplyAlpha:"none"})}catch{i=null}e=null!=i&&i.width===n.width&&i.height===n.height?i:n}else e=n;return e0(e,t)})).apply(this,arguments)}function ty(n){if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const t=2===n.rank?1:n.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`)}function Kk(n,t){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,q.A)(function*(n,t){let e=Rt(n,"img","toPixels");if(!(n instanceof so)){const p=e;e=Xi(p,"int32"),p.dispose()}ty(e);const[i,r]=e.shape.slice(0,2),a=2===e.rank?1:e.shape[2],c=yield e.data(),u="float32"===e.dtype?255:1,f=new Uint8ClampedArray(r*i*4);for(let p=0;p<i*r;++p){const g=[0,0,0,255];for(let T=0;T<a;T++){const V=c[p*a+T];if("float32"===e.dtype){if(V<0||V>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${V}.`)}else if("int32"===e.dtype&&(V<0||V>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${V}.`);1===a?(g[0]=V*u,g[1]=V*u,g[2]=V*u):g[T]=V*u}const v=4*p;f[v+0]=Math.round(g[0]),f[v+1]=Math.round(g[1]),f[v+2]=Math.round(g[2]),f[v+3]=Math.round(g[3])}if(null!=t){ey||null!=Fs(Ml,Me.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),ey=!0),t.width=r,t.height=i;const p=t.getContext("2d"),g=new ImageData(f,r,i);p.putImageData(g,0,0)}return e!==n&&e.dispose(),f})).apply(this,arguments)}function Xk(n,t,e){let i=Rt(n,"img","draw");if(!(n instanceof so)){const c=i;i=Xi(c,"int32"),c.dispose()}ty(i),function eg(n){const t=n?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}(e?.imageOptions),Me.runKernel(Ml,{image:i},{canvas:t,options:e})}const ny=pn({fromPixels_:e0}),Np=-2,VP=-1;
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function iy(n,t,e){const i=n.shape.length;Ce(i===t.length,()=>`Error in slice${i}D: Length of begin ${t} must match the rank of the array (${i}).`),Ce(i===e.length,()=>`Error in slice${i}D: Length of size ${e} must match the rank of the array (${i}).`);for(let r=0;r<i;++r)Ce(t[r]+e[r]<=n.shape[r],()=>`Error in slice${i}D: begin[${r}] + size[${r}] (${t[r]+e[r]}) would overflow input.shape[${r}] (${n.shape[r]})`)}function rC(n){const t=[];let e=0;for(;n>0;)1&n&&t.push(e),n/=2,e++;return t}function n0(n,t,e){const i=[];for(let r=0;r<n.length;r++)i[r]=Math.ceil((t[r]-n[r])/e[r]);return i}function Od(n,t,e,i){const r=[...n];for(let a=r.length;a<i.length;a++)r.push(1);for(let a=0;a<e;a++)0===a?r[t]=1:(r.splice(t,0,1),r.pop());return r}function sC(n,t,e){return e<=n?e:e-(t-1)}function tg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t+i);return e}function r0(n,t,e,i,r,a,c,u,f){const p=n.length;let g=new Array(p),v=new Array(p),T=new Array(p);if(t.length&&e>0){const V=t[0],Y=e+1;g=s0(c,V,Y,i,n),v=ng(u,V,Y,r,n),T=Od(a,V,Y,n)}else for(let V=0;V<p;V++)g[V]=oC(c,i,a,n,V,f),v[V]=o0(u,r,a,n,V,f),T[V]=ry(a,V,f);return{begin:g,end:v,strides:T}}function s0(n,t,e,i,r){const a=[...r],c=tg(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=0;else{const f=sC(t,e,u);let p=i[f];n&1<<f&&(p=0),a[u]=p}return a}function ng(n,t,e,i,r){const a=[...r],c=tg(e,t);for(let u=0;u<a.length;u++)if(c.indexOf(u)>-1)a[u]=Number.MAX_SAFE_INTEGER;else{const f=sC(t,e,u);let p=i[f];n&1<<f&&(p=Number.MAX_SAFE_INTEGER),a[u]=p}for(let u=0;u<a.length;u++)a[u]<0&&(a[u]+=r[u]),a[u]=ge(0,a[u],r[u]);return a}function ry(n,t,e){let i=n[t];return(e&1<<t||null==i)&&(i=1),i}function oC(n,t,e,i,r,a){let c=t[r];(n&1<<r||a&1<<r||null==c)&&(c=(e[r]||1)>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=ge(0,c,f-1),c}function o0(n,t,e,i,r,a){let c=t[r];const u=e[r]||1;(n&1<<r||a&1<<r||null==c)&&(c=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const f=i[r];return c<0&&(c+=f),c=u>0?ge(0,c,f):ge(-1,c,f-1),c}function sy(n,t,e){let i=e.length;for(let r=0;r<e.length;r++)if(e[r]>1){i=r;break}for(let r=i+1;r<e.length;r++)if(t[r]>0||e[r]!==n[r])return!1;return!0}function oy(n,t){let e=n.length>0?n[n.length-1]:1;for(let i=0;i<n.length-1;i++)e+=n[i]*t[i];return e}function ig(n,t,e){let i;const r=n.shape.length;let a;return i="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),i.forEach(c=>{Ce(-1!==c,()=>"slice() does not support negative begin indexing.")}),a=null==e?new Array(r).fill(-1):"number"==typeof e?[e,...new Array(r-1).fill(-1)]:e.length<r?e.concat(new Array(r-e.length).fill(-1)):e,a=a.map((c,u)=>c>=0?c:(Ce(-1===c,()=>`Negative size values should be exactly -1 but got ${c} for the slice() size at index ${u}.`),n.shape[u]-i[u])),[i,a]}function a0(n,t,e,i,r,a,c,u,f){let p;if(null==i?(p=new Array(t.length),p.fill(1)):p=i,null!=c&&c&c-1)throw new Error("Multiple ellipses in slice is not allowed.");let g=!1;const v={dims:p.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:e.slice(),strides:p.slice(),beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f};for(let nt=0;nt<v.dims;nt++)g&&1<<nt&u&&v.numAddAxisAfterEllipsis++,1<<nt&c&&(g=!0);g||(v.ellipsisMask|=1<<v.dims,v.dims++);const T={dims:n.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function ay(n,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let e=0;t.beginValid=null!=n.begin,t.endValid=null!=n.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let i=0;i<n.dims;i++)if(1<<i&n.ellipsisMask){const r=Math.min(t.dims-(n.dims-i)+1+n.numAddAxisAfterEllipsis,t.dims);for(;e<r;e++)t.begin[e]=0,t.end[e]=0,t.strides[e]=1,t.beginMask|=1<<e,t.endMask|=1<<e,t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[e]=i}else if(1<<i&n.newAxisMask)t.finalShapeGatherIndices.push(Np),t.finalShapeGatherIndicesSparse.push(-1);else{if(e===t.begin.length)throw Error(`Index out of range using input dim ${e}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=n.begin&&(t.begin[e]=n.begin[i]),null!=n.end&&(t.end[e]=n.end[i]),t.strides[e]=n.strides[i],n.beginMask&1<<i&&(t.beginMask|=1<<e),n.endMask&1<<i&&(t.endMask|=1<<e),n.shrinkAxisMask&1<<i?(t.finalShapeGatherIndices.push(VP),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<e):(t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(i)),t.inputShapeGatherIndicesSparse[e]=i,e++}}(v,T);let V=!0,Y=!0,ae=!0;const te=[],_e=[];for(let nt=0;nt<n.length;++nt){if(0===T.strides[nt])throw Error(`strides[${nt}] must be non-zero`);const it=!!(T.shrinkAxisMask&1<<nt),St=n[nt];if(-1===St){te.push(it?1:-1);continue}const Xt=[T.beginMask&1<<nt,T.endMask&1<<nt],sn=[T.strides[nt]>0?0:-1,T.strides[nt]>0?St:St-1];if(it&&T.strides[nt]<=0)throw Error("only stride 1 allowed on non-range indexing.");ae=ae&&1===T.strides[nt];const dn=!!(T.beginMask&1<<nt&&T.endMask&1<<nt);if(T.beginValid&&T.endValid){if(it){const qn=T.begin[nt]<0?St+T.begin[nt]:T.begin[nt];if(T.begin[nt]=qn,T.end[nt]=T.begin[nt]+1,qn<0||qn>=St)throw Error(`slice index ${T.begin[nt]} of dimension ${nt} out of bounds.`)}else T.begin[nt]=Zh(T.begin[nt],0,T.strides[nt],St,Xt,sn),T.end[nt]=Zh(T.end[nt],1,T.strides[nt],St,Xt,sn);const Vn=1===T.strides[nt]&&0===T.begin[nt]&&T.end[nt]===St;V=V&&Vn,Y=Y&&(0===nt&&1===T.strides[nt]||Vn)}else V=V&&1===T.strides[nt]&&dn,Y=Y&&(0===nt&&1===T.strides[nt]||dn);let wn,Cn=!1;if(T.beginValid&&T.endValid?(wn=T.end[nt]-T.begin[nt],Cn=!0):it?(wn=1,Cn=!0):dn&&St>=0&&(wn=T.strides[nt]<0?-St:St,Cn=!0),Cn){let Vn;Vn=0===wn||wn<0!=T.strides[nt]<0?0:Math.trunc(wn/T.strides[nt])+(wn%T.strides[nt]!=0?1:0),te.push(Vn)}else te.push(-1)}for(let nt=0;nt<T.finalShapeGatherIndices.length;++nt){const it=T.finalShapeGatherIndices[nt];it>=0?_e.push(te[it]):it===Np&&_e.push(1)}return{finalShapeSparse:_e.filter((nt,it)=>T.finalShapeGatherIndices[it]!==Np),finalShape:_e,isIdentity:V,sliceDim0:Y,isSimpleSlice:ae,begin:T.begin,end:T.end,strides:T.strides}}function Zh(n,t,e,i,r,a){if(r[t])return e>0?a[t]:a[t+1&1];{const c=n<0?i+n:n;return c<a[0]?a[0]:c>a[1]?a[1]:c}}
/** @license See the LICENSE file. */const l0=pn({acos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aC(n){const e={x:Rt(n,"x","acos")};return Me.runKernel(gi,e)}}),Ff=pn({acosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pp(n){const e={x:Rt(n,"x","acosh")};return Me.runKernel(Ui,e)}}),qk=pn({addN_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ec(n){Ce(Array.isArray(n),()=>"The argument passed to tf.addN() must be a list of tensors"),Ce(n.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${n.length}`);const t=n.map((r,a)=>Rt(r,`tensors${a}`,"addN")),e=t[0];return t.forEach(r=>{if(r.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(r=>{if(!Oe(r.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),Me.runKernel(Hi,t)}}),rg=pn({all_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lC(n,t=null,e=!1){const r={x:Rt(n,"x","all","bool")};return Me.runKernel("All",r,{axis:t,keepDims:e})}}),sg=pn({any_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qk(n,t=null,e=!1){const r={x:Rt(n,"x","any","bool")};return Me.runKernel("Any",r,{axis:t,keepDims:e})}}),Fp=pn({argMax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ly(n,t=0){const i={x:Rt(n,"x","argMax")};return Me.runKernel(lr,i,{axis:t})}}),cy=pn({argMin_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cC(n,t=0){const i={x:Rt(n,"x","argMin")};return Me.runKernel(ir,i,{axis:t})}}),c0=pn({asin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uy(n){const e={x:Rt(n,"x","asin")};return Me.runKernel(Sr,e)}}),uC=pn({asinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zk(n){const e={x:Rt(n,"x","asinh")};return Me.runKernel(Hr,e)}}),u0=pn({atan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jk(n){const e={x:Rt(n,"x","atan")};return Me.runKernel(vs,e)}}),d0=pn({atan2_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eI(n,t){let e=Rt(n,"a","atan2"),i=Rt(t,"b","atan2");return[e,i]=Rr(e,i),Me.runKernel(bs,{a:e,b:i})}}),dC=pn({atanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tI(n){const e={x:Rt(n,"x","atanh")};return Me.runKernel(Vr,e)}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dy(n,t,e,i,r="NHWC",a){return oo(n,[...t,n[3]],e,a,i,null,null,ef(r))}function Yu(n,t,e,i,r,a,c="channelsLast"){const[u,f]=fy(t);let p;if("channelsLast"===c)p=[u,f,n[3],n[3]];else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);p=[u,f,n[1],n[1]]}return oo(n,p,e,i,r,a,!1,c)}function rh(n,t,e,i,r,a,c="NDHWC"){const[u,f,p]=og(t);let g,v;if("NDHWC"===c)v="channelsLast",g=[u,f,p,n[4],n[4]];else{if("NCDHW"!==c)throw new Error(`Unknown dataFormat ${c}`);v="channelsFirst",g=[u,f,p,n[1],n[1]]}return Lf(n,g,e,i,r,!1,v,a)}function oo(n,t,e,i,r,a,c=!1,u="channelsLast"){let[f,p,g,v]=[-1,-1,-1,-1];if("channelsLast"===u)[f,p,g,v]=n;else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);[f,v,p,g]=n}const[T,V,,Y]=t,[ae,te]=fy(e),[_e,Te]=fy(i),nt=uu(T,_e),it=uu(V,Te),{padInfo:St,outHeight:Xt,outWidth:sn}=function hC(n,t,e,i,r,a,c,u,f){let p,g,v;if("number"==typeof n){p={top:n,bottom:n,left:n,right:n,type:0===n?"VALID":"NUMBER"};const V=function nI(n,t,e,i,r){null==i&&(i=hy(n,t,e));const c=n[1];return[lg((n[0]-t+2*i)/e+1,r),lg((c-t+2*i)/e+1,r)]}([t,e],a,i,n,u);g=V[0],v=V[1]}else if("same"===n){g=Math.ceil(t/i),v=Math.ceil(e/r);const T=Math.max(0,(g-1)*i+a-t),V=Math.max(0,(v-1)*r+c-e),Y=Math.floor(T/2),ae=T-Y,te=Math.floor(V/2);p={top:Y,bottom:ae,left:te,right:V-te,type:"SAME"}}else if("valid"===n)p={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((t-a+1)/i),v=Math.ceil((e-c+1)/r);else{if("object"!=typeof n)throw Error(`Unknown padding parameter: ${n}`);{const T="channelsLast"===f?n[1][0]:n[2][0],V="channelsLast"===f?n[1][1]:n[2][1],Y="channelsLast"===f?n[2][0]:n[3][0],ae="channelsLast"===f?n[2][1]:n[3][1];p={top:T,bottom:V,left:Y,right:ae,type:0===T&&0===V&&0===Y&&0===ae?"VALID":"EXPLICIT"},g=lg((t-a+T+V)/i+1,u),v=lg((e-c+Y+ae)/r+1,u)}}return{padInfo:p,outHeight:g,outWidth:v}}(r,p,g,ae,te,nt,it,a,u),dn=c?Y*v:Y;let wn;return"channelsFirst"===u?wn=[f,dn,Xt,sn]:"channelsLast"===u&&(wn=[f,Xt,sn,dn]),{batchSize:f,dataFormat:u,inHeight:p,inWidth:g,inChannels:v,outHeight:Xt,outWidth:sn,outChannels:dn,padInfo:St,strideHeight:ae,strideWidth:te,filterHeight:T,filterWidth:V,effectiveFilterHeight:nt,effectiveFilterWidth:it,dilationHeight:_e,dilationWidth:Te,inShape:n,outShape:wn,filterShape:t}}function Lf(n,t,e,i,r,a=!1,c="channelsLast",u){let[f,p,g,v,T]=[-1,-1,-1,-1,-1];if("channelsLast"===c)[f,p,g,v,T]=n;else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);[f,T,p,g,v]=n}const[V,Y,ae,,te]=t,[_e,Te,nt]=og(e),[it,St,Xt]=og(i),sn=uu(V,it),dn=uu(Y,St),wn=uu(ae,Xt),{padInfo:Cn,outDepth:Vn,outHeight:qn,outWidth:ii}=function ag(n,t,e,i,r,a,c,u,f,p,g){let v,T,V,Y;if("valid"===n&&(n=0),"number"==typeof n){v={top:n,bottom:n,left:n,right:n,front:n,back:n,type:0===n?"VALID":"NUMBER"};const te=function UP(n,t,e,i,r,a){null==r&&(r=hy(n,t[0],i[0]));const c=[0,0,0,e];for(let u=0;u<3;u++)n[u]+2*r>=t[u]&&(c[u]=lg((n[u]-t[u]+2*r)/i[u]+1,a));return c}([t,e,i,1],[u,f,p],1,[r,a,c],n,g);T=te[0],V=te[1],Y=te[2]}else{if("same"!==n)throw Error(`Unknown padding parameter: ${n}`);{T=Math.ceil(t/r),V=Math.ceil(e/a),Y=Math.ceil(i/c);const ae=(T-1)*r+u-t,te=(V-1)*a+f-e,_e=(Y-1)*c+p-i,Te=Math.floor(ae/2),nt=ae-Te,it=Math.floor(te/2),St=te-it,Xt=Math.floor(_e/2);v={top:it,bottom:St,left:Xt,right:_e-Xt,front:Te,back:nt,type:"SAME"}}}return{padInfo:v,outDepth:T,outHeight:V,outWidth:Y}}(r,p,g,v,_e,Te,nt,sn,dn,wn,u),ri=a?te*T:te;let oi;return"channelsFirst"===c?oi=[f,ri,Vn,qn,ii]:"channelsLast"===c&&(oi=[f,Vn,qn,ii,ri]),{batchSize:f,dataFormat:c,inDepth:p,inHeight:g,inWidth:v,inChannels:T,outDepth:Vn,outHeight:qn,outWidth:ii,outChannels:ri,padInfo:Cn,strideDepth:_e,strideHeight:Te,strideWidth:nt,filterDepth:V,filterHeight:Y,filterWidth:ae,effectiveFilterDepth:sn,effectiveFilterHeight:dn,effectiveFilterWidth:wn,dilationDepth:it,dilationHeight:St,dilationWidth:Xt,inShape:n,outShape:oi,filterShape:t}}function hy(n,t,e,i=1){const r=uu(t,i);return Math.floor((n[0]*(e-1)-e+r)/2)}function fy(n){return"number"==typeof n?[n,n,n]:2===n.length?[n[0],n[1],1]:n}function og(n){return"number"==typeof n?[n,n,n]:n}function uu(n,t){return t<=1?n:n+(n-1)*(t-1)}function lg(n,t){if(!t)return Math.trunc(n);switch(t){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error(`Unknown roundingMode ${t}`)}}function Jh(n){const[t,e,i]=fy(n);return 1===t&&1===e&&1===i}function xc(n,t){return Jh(n)||Jh(t)}function Lp(n){return fy(n).every(t=>t>0)}function ef(n){if("NHWC"===n)return"channelsLast";if("NCHW"===n)return"channelsFirst";throw new Error(`Unknown dataFormat ${n}`)}function Cu(n,t,e){if(null!=e){if("string"==typeof t)throw Error(`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);if("number"==typeof t)Ce(Ye(t),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);else{if("object"!=typeof t)throw Error(`Error in ${n}: Unknown padding parameter: ${t}`);t.forEach(i=>{i.forEach(r=>{Ce(Ye(r),()=>`Error in ${n}: pad must be an integer when using dimRoundingMode ${e} but got pad ${r}.`)})})}}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Tn=pn({reshape_:function zP(n,t){const i={x:Rt(n,"x","reshape","string_or_numeric")};return Me.runKernel(ur,i,{shape:t})}}),kh=pn({avgPool_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iI(n,t,e,i,r){const a=Rt(n,"x","avgPool","float32");Ce(xc(e,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`);let u=a,f=!1;3===a.rank&&(f=!0,u=Tn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Ce(4===u.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${u.rank}.`),Cu("avgPool",i,r);let v=Me.runKernel(Ss,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return v=Xi(v,a.dtype),f?Tn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),h0=pn({avgPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cg(n,t,e,i,r,a="NDHWC"){const c=Rt(n,"x","avgPool3d","float32");let u=c,f=!1;4===c.rank&&(f=!0,u=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Ce(5===u.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${u.rank}.`),Ce("NDHWC"===a,()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Ce("number"==typeof e&&e>0||Array.isArray(e)&&e[0]>0&&e[1]>0&&e[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${e}'`),Cu("avgPool3d",i,r);let v=Me.runKernel(Yi,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return v=Xi(v,u.dtype),f?Tn(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),Wl=pn({concat_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $f(n,t=0){Ce(n.length>=1,()=>"Pass at least one tensor to concat");const e=Cs(n,"tensors","concat","string_or_numeric");return"complex64"===e[0].dtype&&e.forEach(a=>{if("complex64"!==a.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${a.dtype}. `)}),1===e.length?Id(e[0]):Me.runKernel(Pi,e,{axis:t})}}),Es=pn({matMul_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rI(n,t,e=!1,i=!1){let r=Rt(n,"a","matMul"),a=Rt(t,"b","matMul");return[r,a]=Rr(r,a),Me.runKernel(ar,{a:r,b:a},{transposeA:e,transposeB:i})}}),qu=pn({sigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sI(n){const e={x:Rt(n,"x","sigmoid","float32")};return Me.runKernel(jn,e)}}),mo=pn({slice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ug(n,t,e){const i=Rt(n,"x","slice","string_or_numeric");if(0===i.rank)throw new Error("Slicing scalar is not possible");return Me.runKernel(kn,{x:i},{begin:t,size:e})}}),tf=pn({tanh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fC(n){const e={x:Rt(n,"x","tanh","float32")};return Me.runKernel(hs,e)}}),my=pn({basicLSTMCell_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function py(n,t,e,i,r,a){const c=Rt(n,"forgetBias","basicLSTMCell"),u=Rt(t,"lstmKernel","basicLSTMCell"),f=Rt(e,"lstmBias","basicLSTMCell"),p=Rt(i,"data","basicLSTMCell"),g=Rt(r,"c","basicLSTMCell"),v=Rt(a,"h","basicLSTMCell"),T=Wl([p,v],1),V=Es(T,u),Y=tt(V,f),te=Y.shape[1]/4,_e=[Y.shape[0],te],Te=mo(Y,[0,0],_e),nt=mo(Y,[0,te],_e),it=mo(Y,[0,2*te],_e),St=mo(Y,[0,3*te],_e),Xt=tt(qt(qu(Te),tf(nt)),qt(g,qu(tt(c,it))));return[Xt,qt(tf(Xt),qu(St))]}}),gy=pn({batchToSpaceND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function f0(n,t,e){const i=Rt(n,"x","batchToSpaceND"),r=t.reduce((u,f)=>u*f);return Ce(i.rank>=1+t.length,()=>`input rank is ${i.rank} but should be > than blockShape.length ${t.length}`),Ce(e.length===t.length,()=>`crops.length is ${e.length} but should be equal to blockShape.length  ${t.length}`),Ce(i.shape[0]%r==0,()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`),Me.runKernel(zi,{x:i},{blockShape:t,crops:e})}});function oI(n){let t;return t=0===n.rank||1===n.rank?Tn(n,[1,1,1,n.size]):2===n.rank?Tn(n,[1,1,n.shape[0],n.shape[1]]):3===n.rank?Tn(n,[1,n.shape[0],n.shape[1],n.shape[2]]):n,t
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const $p=pn({batchNorm_:function aI(n,t,e,i,r,a){null==a&&(a=.001);const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Ce(u.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Ce(null==g||u.rank===g.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Ce(null==p||u.rank===p.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const T={x:oI(c),scale:p,offset:g,mean:u,variance:f},Y=Me.runKernel(ba,T,{varianceEpsilon:a});return Tn(Y,c.shape)}}),pC=pn({batchNorm2d_:function lI(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Ce(2===c.rank,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`),Ce(2===u.rank||1===u.rank,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${u.rank}.`),Ce(2===f.rank||1===f.rank,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),null!=p&&Ce(2===p.rank||1===p.rank,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`),null!=g&&Ce(2===g.rank||1===g.rank,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${g.rank}.`),$p(c,u,f,g,p,a)}}),_y=pn({batchNorm3d_:function Ru(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Ce(3===c.rank,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`),Ce(3===u.rank||1===u.rank,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${u.rank}.`),Ce(3===f.rank||1===f.rank,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),null!=p&&Ce(3===p.rank||1===p.rank,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`),null!=g&&Ce(3===g.rank||1===g.rank,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${g.rank}.`),$p(c,u,f,g,p,a)}}),dg=pn({batchNorm4d_:function mC(n,t,e,i,r,a){const c=Rt(n,"x","batchNorm"),u=Rt(t,"mean","batchNorm"),f=Rt(e,"variance","batchNorm");let p,g;return null!=r&&(p=Rt(r,"scale","batchNorm")),null!=i&&(g=Rt(i,"offset","batchNorm")),Ce(4===c.rank,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`),Ce(4===u.rank||1===u.rank,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${u.rank}.`),Ce(4===f.rank||1===f.rank,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),null!=p&&Ce(4===p.rank||1===p.rank,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`),null!=g&&Ce(4===g.rank||1===g.rank,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${g.rank}.`),$p(c,u,f,g,p,a)}}),cI=pn({bincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jP(n,t,e){const i=Rt(n,"x","bincount"),r=Rt(t,"weights","bincount");return Ce("int32"===i.dtype,()=>`Error in bincount: input dtype must be int32, but got ${i.dtype}`),Ce(e>=0,()=>`size must be non-negative, but got ${e}.`),Ce(r.size===i.size||0===r.size,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${i.shape}, weights shape: ${r.shape}.`),Me.runKernel(si,{x:i,weights:r},{size:e})}}),Bp=pn({bitwiseAnd_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function du(n,t){const e=Rt(n,"x","bitwiseAnd"),i=Rt(t,"y","bitwiseAnd");if(!Oe(e.shape,i.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${e.shape}, y: ${i.shape}`);if("int32"!==e.dtype||"int32"!==i.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${e.dtype} and type of y: ${i.dtype}`);return Me.runKernel(Ge,{a:e,b:i})}}),_C=pn({broadcastArgs_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gC(n,t){const e=Rt(n,"s0","broadcastArgs","int32"),i=Rt(t,"s1","broadcastArgs","int32");if(1!==e.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${e.rank}`);if(1!==i.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${i.rank}`);return Me.runKernel(ne,{s0:e,s1:i})}}),Bf=pn({broadcastTo_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uI(n,t){let e=Rt(n,"broadcastTo","x");const i=e.shape;if(Xn(t),t.length<e.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${e.rank}.`);if(t.length>e.rank){const p=e.shape.slice();for(;p.length<t.length;)p.unshift(1);e=Tn(e,p)}const r=e.shape,a=Array.from(t);for(let p=t.length-1;p>=0;p--)if(r[p]===t[p])a[p]=1;else if(1!==e.shape[p])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);return 0===a.map((p,g)=>p>1?g:-1).filter(p=>p>=0).length?Id(e):Me.runKernel(ja,{x:e},{reps:a})}}),p0=pn({ceil_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dI(n){const e={x:Rt(n,"x","ceil","float32")};return Me.runKernel(He,e)}}),Su=pn({clipByValue_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hI(n,t,e){const i=Rt(n,"x","clipByValue");return Ce(t<=e,()=>`Error in clip: min (${t}) must be less than or equal to max (${e}).`),t===e?cu(i.shape,t,i.dtype):Me.runKernel(kt,{x:i},{clipValueMin:t,clipValueMax:e})}}),yC=pn({concat1d_:function fI(n){return Wl(n,0)}}),vC=pn({concat2d_:function pI(n,t){return Wl(n,t)}}),m0=pn({concat3d_:function bC(n,t){return Wl(n,t)}}),hg=pn({concat4d_:function wC(n,t){return Wl(n,t)}}),Ih=pn({conv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EC(n,t,e,i,r="NHWC",a=[1,1],c){const u=Rt(n,"x","conv2d","float32"),f=Rt(t,"filter","conv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Ce(4===p.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),Ce(4===f.rank,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),Cu("conv2d",i,c);const v="NHWC"===r?p.shape[3]:p.shape[1];Ce(v===f.shape[2],()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${f.shape[2]}.`),Ce(xc(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Ce(Lp(a),()=>"Error in conv2D: Dilated rates should be larger than 0."),Ce(Lp(e),()=>"Error in conv2D: Strides should be larger than 0.");const Y=Me.runKernel(sr,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Tn(Y,[Y.shape[1],Y.shape[2],Y.shape[3]]):Y}}),yy=pn({conv1d_:function xC(n,t,e,i,r="NWC",a=1,c){const u=Rt(n,"x","conv1d"),f=Rt(t,"filter","conv1d");let p=u,g=!1;2===u.rank&&(g=!0,p=Tn(u,[1,u.shape[0],u.shape[1]])),Ce(3===p.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),Ce(3===f.rank,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),Cu("conv1d",i,c),Ce(p.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${f.shape[1]}.`),Ce(xc(e,a),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${e} and dilation '${a}'`),Ce(Lp(a),()=>"Error in conv1D: Dilated rates should be larger than 0."),Ce(Lp(e),()=>"Error in conv1D: Stride should be larger than 0."),Ce("NWC"===r,()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const v=Tn(f,[1,f.shape[0],f.shape[1],f.shape[2]]),T=Tn(p,[p.shape[0],1,p.shape[1],p.shape[2]]),te=Ih(T,v,[1,e],i,"NHWC",[1,a],c);return Tn(te,g?[te.shape[2],te.shape[3]]:[te.shape[0],te.shape[2],te.shape[3]])}}),g0=pn({conv2DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mI(n,t,e,i,r,a="NHWC",c){Ce(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let u=n,f=t,p=!1;3===t.rank&&(p=!0,f=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2]]),u=[1,n[0],n[1],n[2]]),Ce(4===u.length,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${u.length}.`),Ce(4===f.rank,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),Ce(4===e.rank,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${e.rank}`);const g="NHWC"===a?u[3]:u[1],v="NHWC"===a?f.shape[3]:f.shape[1];Ce(g===e.shape[2],()=>`Error in conv2dDerInput: depth of input (${g}) must match input depth for filter ${e.shape[2]}.`),Ce(v===e.shape[3],()=>`Error in conv2dDerInput: depth of output (${v}) must match output depth for filter ${e.shape[3]}.`),Cu("conv2dDerInput",r,c);const Y=Me.runKernel(Fr,{dy:f,filter:e},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,inputShape:u});return p?Tn(Y,[Y.shape[1],Y.shape[2],Y.shape[3]]):Y}}),_0=pn({conv2dTranspose_:function gI(n,t,e,i,r,a){const c=Rt(n,"x","conv2dTranspose"),u=Rt(t,"filter","conv2dTranspose");return g0(e,c,u,i,r,"NHWC",a)}}),_I=pn({conv3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CC(n,t,e,i,r="NDHWC",a=[1,1,1]){const c=Rt(n,"x","conv3d"),u=Rt(t,"filter","conv3d");let f=c,p=!1;4===c.rank&&(p=!0,f=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Ce(5===f.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),Ce(5===u.rank,()=>`Error in conv3d: filter must be rank 5, but got rank ${u.rank}.`),Ce(f.shape[4]===u.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${u.shape[3]}.`),Ce(xc(e,a),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Ce("NDHWC"===r,()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),Ce(Lp(a),()=>"Error in conv3D: Dilated rates should be larger than 0."),Ce(Lp(e),()=>"Error in conv3D: Strides should be larger than 0.");const T=Me.runKernel(Zr,{x:f,filter:u},{strides:e,pad:i,dataFormat:r,dilations:a});return p?Tn(T,[T.shape[1],T.shape[2],T.shape[3],T.shape[4]]):T}}),DC=pn({conv3DBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SC(n,t,e,i,r){Ce(n.length===t.rank,()=>`Length of inShape (${n.length}) and rank of dy (${t.rank}) must match`);let a=n,c=t,u=!1;4===t.rank&&(u=!0,c=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,n[0],n[1],n[2],n[3]]);const f=a[4],p=c.shape[4];Ce(5===a.length,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`),Ce(5===c.rank,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`),Ce(5===e.rank,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${e.rank}`),Ce(f===e.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${e.shape[3]}.`),Ce(p===e.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${e.shape[4]}.`);const T=Me.runKernel(Os,{dy:c,filter:e},{pad:r,strides:i,inputShape:a});return u?Tn(T,[T.shape[1],T.shape[2],T.shape[3],T.shape[4]]):T}}),vI=pn({conv3dTranspose_:function yI(n,t,e,i,r){const a=Rt(n,"x","conv3dTranspose"),c=Rt(t,"filter","conv3dTranspose");return DC(e,a,c,i,r)}}),fg=pn({cos_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bI(n){const e={x:Rt(n,"x","cos","float32")};return Me.runKernel(Er,e)}}),v0=pn({cosh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function y0(n){const e={x:Rt(n,"x","cosh","float32")};return Me.runKernel(Jr,e)}}),Vf=pn({cumprod_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nf(n,t=0,e=!1,i=!1){const a={x:Rt(n,"x","cumprod")};return Me.runKernel(Ds,a,{axis:t,exclusive:e,reverse:i})}}),vy=pn({cumsum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wI(n,t=0,e=!1,i=!1){const a={x:Rt(n,"x","cumsum")};return Me.runKernel(ia,a,{axis:t,exclusive:e,reverse:i})}}),TC=pn({denseBincount_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function b0(n,t,e,i=!1){const r=Rt(n,"x","denseBincount"),a=Rt(t,"weights","denseBincount");return Ce("int32"===r.dtype,()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),Ce(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),Ce(e>=0,()=>`size must be non-negative, but got ${e}.`),Ce(a.size===r.size||0===a.size,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`),Me.runKernel(Mo,{x:r,weights:a},{size:e,binaryOutput:i})}}),kC=pn({depthToSpace_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EI(n,t,e="NHWC"){const i=Rt(n,"x","depthToSpace","float32"),r="NHWC"===e?i.shape[1]:i.shape[2],a="NHWC"===e?i.shape[2]:i.shape[3],c="NHWC"===e?i.shape[3]:i.shape[1];return Ce(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),Ce(r*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${r} and ${t}  for depthToSpace with input shape\n    ${i.shape}`),Ce(a*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${i.shape}`),Ce(c%(t*t)==0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${c} for depthToSpace with input shape ${i.shape}`),Me.runKernel(Yo,{x:i},{blockSize:t,dataFormat:e})}}),pg=pn({depthwiseConv2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xI(n,t,e,i,r="NHWC",a=[1,1],c){const u=Rt(n,"x","depthwiseConv2d","float32"),f=Rt(t,"filter","depthwiseConv2d","float32");let p=u,g=!1;3===u.rank&&(g=!0,p=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Ce(4===p.rank,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),Ce(4===f.rank,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`);const v="NHWC"===r?p.shape[3]:p.shape[1];Ce(v===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${v}) must match the inChannels dimension in filter ${f.shape[2]}.`),Cu("depthwiseConv2d",i,c);const Y=Me.runKernel(Fo,{x:p,filter:f},{strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c});return g?Tn(Y,[Y.shape[1],Y.shape[2],Y.shape[3]]):Y}}),HP=pn({diag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WP(n){const e={x:Rt(n,"x","diag")};return Me.runKernel(qa,e)}}),IC=pn({dilation2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function by(n,t,e,i,r=[1,1],a="NHWC"){const c=Rt(n,"x","dilation2d"),u=Rt(t,"filter","dilation2d");Ce(3===c.rank||4===c.rank,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`),Ce(3===u.rank,()=>`Error in dilation2d: filter must be rank 3, but got rank ${u.rank}.`),Ce("NHWC"===a,()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`);let f=c,p=!1;3===c.rank&&(f=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),p=!0),Ce(f.shape[3]===u.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${f.shape[3]} vs ${u.shape[2]}`);const T=Me.runKernel(ya,{x:f,filter:u},{strides:e,pad:i,dilations:r});return p?Tn(T,[T.shape[1],T.shape[2],T.shape[3]]):T}}),Qu=pn({equal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function w0(n,t){let e=Rt(n,"a","equal","string_or_numeric"),i=Rt(t,"b","equal","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(Bl,{a:e,b:i})}}),rc=pn({where_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vp(n,t,e){const i=Rt(t,"a","where"),r=Rt(e,"b","where"),a=Rt(n,"condition","where","bool"),c=Ts(Ts(a.shape,i.shape),r.shape),u=Bf(a,c),f=Bf(i,c),p=Bf(r,c);return Me.runKernel(cn,{condition:u,t:f,e:p})}}),Up=pn({divNoNan_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function E0(n,t){let e=Rt(n,"a","div"),i=Rt(t,"b","div");[e,i]=Rr(e,i);const r=zn(e,i),a=ps(r),c=Qu(i,a);return rc(c,a,r)}}),Uf=pn({dot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wy(n,t){const e=Rt(n,"t1","dot"),i=Rt(t,"t2","dot");Ce(!(1!==e.rank&&2!==e.rank||1!==i.rank&&2!==i.rank),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${e.rank} and ${i.rank}.`);const r=1===e.rank?e.size:e.shape[1],a=1===i.rank?i.size:i.shape[0];if(Ce(r===a,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`),1===e.rank&&1===i.rank){const c=Tn(e,[1,-1]),u=Tn(i,[-1,1]),f=Es(c,u);return Tn(f,[])}if(1===e.rank&&2===i.rank){const c=Tn(e,[1,-1]),u=Tn(i,[i.shape[0],i.shape[1]]),f=Es(c,u);return Tn(f,[f.size])}if(2===e.rank&&1===i.rank){const c=Tn(i,[-1,1]),u=Es(e,c);return Tn(u,[u.size])}{const c=Tn(i,[i.shape[0],i.shape[1]]);return Es(e,c)}}}),Ah=pn({einsum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function x0(n,...t){const e=t.map((r,a)=>Rt(r,`tensors${a}`,"einsum"));return Me.runKernel(va,e,{equation:n})}}),zf=pn({elu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mg(n){const e={x:Rt(n,"x","elu","float32")};return Me.runKernel(La,e)}}),C0=pn({ensureShape_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GP(n,t){const e=Rt(n,"x","ensureShape","string_or_numeric");if(!function ft(n,t){if(n===t)return!0;if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(null!==n[e]&&null!==t[e]&&n[e]!==t[e])return!1;return!0}(e.shape,t))throw new Error(`EnsureShape: Shape of tensor ${e.shape} is not compatible with expected shape ${t}`);return n}}),S0=pn({erf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gg(n){let t=Rt(n,"x","erf");return Ce("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=Xi(t,"float32")),Me.runKernel($a,{x:t})}});
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ey(n,t){for(let e=0;e<n.length;++e)if(n[n.length-e-1]!==t-1-e)return!1;return!0}function AC(n,t,e){const i=n.length+t.length,r=[];let a=0,c=0;for(let u=0;u<i;u++)-1===e.indexOf(u)?r.push(n[a++]):r.push(t[c++]);return r}function Cc(n,t){const e=[],i=n.length;for(let a=0;a<i;a++)-1===t.indexOf(a)&&e.push(n[a]);return[e,t.map(a=>n[a])]}function gl(n,t){return AC(n,t.map(i=>1),t)}function Sc(n,t,e){Ce(Ey(t,e),()=>`${n} supports only inner-most axes for now. Got axes ${t} and rank-${e} input.`)}function _l(n,t){if(Ey(n,t))return null;const e=[];for(let i=0;i<t;++i)-1===n.indexOf(i)&&e.push(i);return n.forEach(i=>e.push(i)),e}function rf(n){return n.map((t,e)=>[e,t]).sort((t,e)=>t[1]-e[1]).map(t=>t[0])}function Ga(n,t){const e=[];for(let i=t-n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Nu=pn({max_:function MC(n,t=null,e=!1){const r={x:Rt(n,"x","max")};return Me.runKernel(Ea,r,{reductionIndices:t,keepDims:e})}}),xy=pn({min_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CI(n,t=null,e=!1){const r={x:Rt(n,"x","min")};return Me.runKernel(es,r,{axis:t,keepDims:e})}}),gr=pn({sum_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KP(n,t=null,e=!1){let i=Rt(n,"x","sum");return"bool"===i.dtype&&(i=Xi(i,"int32")),Me.runKernel(Ii,{x:i},{axis:t,keepDims:e})}});function _g(n,t,e=null){if(0===n.rank)return jl(n);if(1!==n.rank&&null===e)return _g(Tn(n,[-1]),t,e);if(1===n.rank||"number"==typeof e||Array.isArray(e)&&1===e.length){if(1===t)return gr(jl(n),e);if(t===1/0)return Nu(jl(n),e);if(t===-1/0)return xy(jl(n),e);if("euclidean"===t||2===t)return Yr(gr(ih(jl(n),Wr(2,"int32")),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(e)&&2===e.length){if(1===t)return Nu(gr(jl(n),e[0]),e[1]-1);if(t===1/0)return Nu(gr(jl(n),e[1]),e[0]);if(t===-1/0)return xy(gr(jl(n),e[1]),e[0]);if("fro"===t||"euclidean"===t)return Yr(gr(Pr(n),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${e}`)}const jf=pn({norm_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SI(n,t="euclidean",e=null,i=!1){const r=_g(n=Rt(n,"x","norm"),t,e);let a=r.shape;if(i){const c=wt(e,n.shape);a=gl(r.shape,c)}return Tn(r,a)}}),RC=pn({euclideanNorm_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OC(n,t=null,e=!1){return jf(n,"euclidean",t,e)}}),hu=pn({exp_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NC(n){const e={x:Rt(n,"x","exp")};return Me.runKernel(Lr,e)}}),Hl=pn({expandDims_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PC(n,t=0){const e=Rt(n,"x","expandDims","string_or_numeric");return Ce(t<=e.rank,()=>"Axis must be <= rank of the tensor"),Me.runKernel(Mr,{input:e},{dim:t})}}),yg=pn({expm1_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FC(n){const e={x:Rt(n,"x","expm1")};return Me.runKernel(ao,e)}}),Zu=pn({tile_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LC(n,t){const e=Rt(n,"x","tile","string_or_numeric");return Ce(e.rank===t.length,()=>`Error in transpose: rank of input ${e.rank} must match length of reps ${t}.`),Me.runKernel(ja,{x:e},{reps:t})}}),zp=pn({eye_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $C(n,t,e,i="float32"){null==t&&(t=n);const r=fs([n,t],i),a=n<=t?n:t;for(let u=0;u<a;++u)r.set(1,u,u);const c=Tn(r.toTensor(),[n,t]);if(null==e)return c;if(1===e.length)return Zu(Hl(c,0),[e[0],1,1]);if(2===e.length)return Zu(Hl(Hl(c,0),0),[e[0],e[1],1,1]);if(3===e.length)return Zu(Hl(Hl(Hl(c,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${e.length}D.`)}}),jp=pn({floor_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D0(n){const e={x:Rt(n,"x","floor","float32")};return Me.runKernel(Ks,e)}}),Wf=pn({gather_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cy(n,t,e=0,i=0){const r=Rt(n,"x","gather"),a=Rt(t,"indices","gather","int32");return Me.runKernel(Lo,{x:r,indices:a},{axis:e,batchDims:i})}}),Pu=pn({greater_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Wp(n,t){let e=Rt(n,"a","greater","string_or_numeric"),i=Rt(t,"b","greater","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(wo,{a:e,b:i})}}),Hf=pn({greaterEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DI(n,t){let e=Rt(n,"a","greaterEqual","string_or_numeric"),i=Rt(t,"b","greaterEqual","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(Eo,{a:e,b:i})}}),Hp=pn({imag_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sy(n){const e={input:Rt(n,"input","imag")};return Me.runKernel(Ol,e)}}),T0=pn({isFinite_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BC(n){const e={x:Rt(n,"x","isFinite")};return Me.runKernel(wa,e)}}),sf=pn({isInf_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VC(n){const e={x:Rt(n,"x","isInf")};return Me.runKernel(kr,e)}}),UC=pn({isNaN_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TI(n){const e={x:Rt(n,"x","isNaN")};return Me.runKernel(ws,e)}}),Dy=pn({leakyRelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kI(n,t=.2){const i={x:Rt(n,"x","leakyRelu")};return Me.runKernel(oa,i,{alpha:t})}}),Ju=pn({less_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function II(n,t){let e=Rt(n,"a","less","string_or_numeric"),i=Rt(t,"b","less","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(go,{a:e,b:i})}}),Gf=pn({lessEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Gp(n,t){let e=Rt(n,"a","lessEqual","string_or_numeric"),i=Rt(t,"b","lessEqual","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(Qa,{a:e,b:i})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AI(n,t,e){if(e<=0)throw new Error("The number of values should be positive.");return Me.runKernel(Za,{},{start:n,stop:t,num:e})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zC=pn({localResponseNormalization_:function MI(n,t=5,e=1,i=1,r=.5){const a=Rt(n,"x","localResponseNormalization");Ce(4===a.rank||3===a.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`),Ce(Ye(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let c=a,u=!1;3===a.rank&&(u=!0,c=Tn(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const g=Me.runKernel(Qo,{x:c},{depthRadius:t,bias:e,alpha:i,beta:r});return u?Tn(g,[g.shape[1],g.shape[2],g.shape[3]]):g}}),ed=pn({log_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OI(n){const e={x:Rt(n,"x","log","float32")};return Me.runKernel(al,e)}}),Ty=pn({log1p_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jC(n){const e={x:Rt(n,"x","log1p")};return Me.runKernel(Oi,e)}}),Ka=pn({neg_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RI(n){const e={x:Rt(n,"x","neg")};return Me.runKernel(ul,e)}}),Mh=pn({softplus_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NI(n){const e={x:Rt(n,"x","softplus")};return Me.runKernel(mi,e)}}),Kp=pn({logSigmoid_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Oh(n){const t=Rt(n,"x","logSigmoid");return Sh(i=>({value:Ka(Mh(Ka(i))),gradFunc:c=>qt(c,qu(Ka(i)))}))(t)}}),ky=pn({logSoftmax_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WC(n,t=-1){const e=Rt(n,"logits","logSoftmax");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and axis was ${t}`);return Sh((r,a)=>{const u=Nu(r,t,!0),f=dr(r,u),p=dr(Xi(f,"float32"),ed(gr(hu(f),t,!0)));return a([p]),{value:p,gradFunc:(v,T)=>{const[V]=T,ae=hu(V);return dr(v,qt(gr(v,t,!0),ae))}}})(e)}}),k0=pn({logSumExp_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HC(n,t=null,e=!1){const i=Rt(n,"x","logSumExp"),r=wt(t,i.shape),a=Nu(i,r,!0),c=dr(i,a),u=hu(c),f=gr(u,r),p=ed(f),g=tt(Tn(a,p.shape),p);if(e){const v=gl(g.shape,r);return Tn(g,v)}return g}}),Rh=pn({logicalAnd_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XP(n,t){const e=Rt(n,"a","logicalAnd","bool"),i=Rt(t,"b","logicalAnd","bool");return Ts(e.shape,i.shape),Me.runKernel(Oo,{a:e,b:i})}}),Xp=pn({logicalNot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function I0(n){const e={x:Rt(n,"x","logicalNot","bool")};return Me.runKernel(_o,e)}}),GC=pn({logicalOr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YP(n,t){const e=Rt(n,"a","logicalOr","bool"),i=Rt(t,"b","logicalOr","bool");return Ts(e.shape,i.shape),Me.runKernel($o,{a:e,b:i})}}),XC=pn({logicalXor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KC(n,t){const e=Rt(n,"a","logicalXor","bool"),i=Rt(t,"b","logicalXor","bool");return Ts(e.shape,i.shape),Rh(GC(n,t),Xp(Rh(n,t)))}}),Iy=2147483648,A0=pn({searchSorted_:function PI(n,t,e="left"){const i=Rt(n,"sortedSequence","searchSorted"),r=Rt(t,"values","searchSorted"),c=r.shape[r.shape.length-1],u=Tn(i,[-1,i.shape[i.shape.length-1]]),f=Tn(r,[-1,c]);if(u.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(u.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Tt(f.shape)>=Iy)throw new Error(`values tensor size must less than ${Iy}`);if(u.shape[1]>=Iy)throw new Error(`trailing dim_size must less than ${Iy} for int32 output type, was ${u.shape[1]}`);return Me.runKernel(Kt,{sortedSequence:u,values:f},{side:e})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FI(n,t){return A0(n,t,"left")}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const vg=pn({maxPool_:function YC(n,t,e,i,r){const a=Rt(n,"x","maxPool");let u=a,f=!1;3===a.rank&&(f=!0,u=Tn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Ce(4===u.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${u.rank}.`),Ce(xc(e,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`),Cu("maxPool",i,r);const v=Me.runKernel(Ua,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r});return f?Tn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),qC=pn({maxPool3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LI(n,t=[1,1,1],e,i,r,a="NDHWC"){const c=Rt(n,"x","maxPool3d");let u=c,f=!1;4===c.rank&&(f=!0,u=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),Ce(5===u.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${u.rank}.`),Ce("NDHWC"===a,()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Cu("maxPool3d",i,r);const v=Me.runKernel(wl,{x:u},{filterSize:t,strides:e,pad:i,dimRoundingMode:r,dataFormat:a});return f?Tn(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),Ay=pn({maxPoolWithArgmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QC(n,t,e,i,r=!1){const c={x:Rt(n,"x","maxPoolWithArgmax")},f=Me.runKernel(cl,c,{filterSize:t,strides:e,pad:i,includeBatchInIndex:r});return{result:f[0],indexes:f[1]}}}),tl=pn({mean_:
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZC(n,t=null,e=!1){const r={x:Rt(n,"x","mean")};return Me.runKernel(la,r,{axis:t,keepDims:e})}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sc(n,t="float32"){if(Xn(n),"complex64"===t){const i=sc(n,"float32"),r=sc(n,"float32");return yo(i,r)}const e=Kn(Tt(n),t);return Me.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function oc(n,t="float32"){if(Xn(n),"complex64"===t){const i=oc(n,"float32"),r=sc(n,"float32");return yo(i,r)}const e=Dn(Tt(n),t);return Me.makeTensor(e,n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function JC(n,t,{indexing:e="xy"}={}){if("xy"!==e&&"ij"!==e)throw new TypeError(`${e} is not a valid third argument to meshgrid`);if(void 0===n)return[];let i=Rt(n,"x","meshgrid",n instanceof so?n.dtype:"float32");if(void 0===t)return[i];let r=Rt(t,"y","meshgrid",t instanceof so?t.dtype:"float32");const a=Tt(i.shape),c=Tt(r.shape);return"xy"===e?(i=Tn(i,[1,-1]),r=Tn(r,[-1,1]),[Es(oc([c,1],i.dtype),i),Es(r,oc([1,a],r.dtype))]):(i=Tn(i,[-1,1]),r=Tn(r,[1,-1]),[Es(i,oc([1,c],i.dtype)),Es(oc([a,1],r.dtype),r)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */)}const Nh=pn({minimum_:function $I(n,t){let e=Rt(n,"a","minimum"),i=Rt(t,"b","minimum");return[e,i]=Rr(e,i),"bool"===e.dtype&&(e=Xi(e,"int32"),i=Xi(i,"int32")),Ts(e.shape,i.shape),Me.runKernel(Ja,{a:e,b:i})}}),tS=pn({mirrorPad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eS(n,t,e){Ce("reflect"===e||"symmetric"===e,()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${e}.`);const i=Rt(n,"x","mirrorPad");if(0===i.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Ce(t.length===i.rank,()=>`Padding doesn't match input. Must be ${i.rank}. Got ${t.length}.`);const r="reflect"===e?1:0;for(let u=0;u<i.rank;u++)Ce(2===t[u].length,()=>"Invalid number of paddings. Must be length of 2 each."),Ce(t[u][0]>=0&&t[u][0]<=i.shape[u]-r&&t[u][1]>=0&&t[u][1]<=i.shape[u]-r,()=>`Padding in dimension ${u} cannot be greater than or equal to ${i.shape[u]-r} or less than 0 for input of shape ${i.shape}`);return Me.runKernel(co,{x:i},{paddings:t,mode:e})}}),nS=pn({mod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function BI(n,t){let e=Rt(n,"a","mod"),i=Rt(t,"b","mod");return[e,i]=Rr(e,i),Me.runKernel(xa,{a:e,b:i})}}),bg=pn({moments_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VI(n,t=null,e=!1){const i=wt(t,(n=Rt(n,"x","moments")).shape),r=tl(n,i,e);let a=r.shape;e||(a=gl(r.shape,i));const c=Pr(dr(Xi(n,"float32"),Tn(r,a)));return{mean:r,variance:tl(c,i,e)}}}),QP=pn({multiRNNCell_:function qP(n,t,e,i){const r=Rt(t,"data","multiRNNCell"),a=Cs(e,"c","multiRNNCell"),c=Cs(i,"h","multiRNNCell");let u=r;const f=[];for(let v=0;v<n.length;v++){const T=n[v](u,a[v],c[v]);f.push(T[0]),f.push(T[1]),u=T[1]}const p=[],g=[];for(let v=0;v<f.length;v+=2)p.push(f[v]),g.push(f[v+1]);return[p,g]}}),UI=pn({multinomial_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wg(n,t,e,i=!1){const r=Rt(n,"logits","multinomial"),a=r.size,c=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);e=e||Math.random();const f={logits:1===c?Tn(r,[1,-1]):r},g=Me.runKernel(Ca,f,{numSamples:t,seed:e,normalized:i});return 1===c?Tn(g,[g.size]):g}}),Yp=pn({notEqual_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zI(n,t){let e=Rt(n,"a","notEqual","string_or_numeric"),i=Rt(t,"b","notEqual","string_or_numeric");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(hr,{a:e,b:i})}}),M0=pn({oneHot_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iS(n,t,e=1,i=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const c={indices:Rt(n,"indices","oneHot","int32")};return Me.runKernel(jt,c,{dtype:r,depth:t,onValue:e,offValue:i})}}),td=pn({onesLike_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jI(n){const e={x:Rt(n,"x","onesLike")};return Me.runKernel(Us,e)}}),HI=pn({outerProduct_:function WI(n,t){const e=Rt(n,"v1","outerProduct"),i=Rt(t,"v2","outerProduct");Ce(1===e.rank&&1===i.rank,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${e.rank} and ${i.rank}.`);const r=Tn(e,[-1,1]),a=Tn(i,[1,-1]);return Es(r,a)}}),sh=pn({pad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GI(n,t,e=0){const i=Rt(n,"x","pad");if(0===i.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");return Me.runKernel(Se,{x:i},{paddings:t,constantValue:e})}}),JP=pn({pad1d_:function ZP(n,t,e=0){return Ce(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),sh(n,[t],e)}}),e2=pn({pad2d_:function O0(n,t,e=0){return Ce(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),sh(n,t,e)}}),n2=pn({pad3d_:function t2(n,t,e=0){return Ce(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),sh(n,t,e)}}),s2=pn({pad4d_:function r2(n,t,e=0){return Ce(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),sh(n,t,e)}}),Kf=pn({spaceToBatchND_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KI(n,t,e){const i=Rt(n,"x","spaceToBatchND");return Ce(i.rank>=1+t.length,()=>`input rank ${i.rank} should be > than [blockShape] ${t.length}`),Ce(e.length===t.length,()=>`paddings.shape[0] ${e.length} must be equal to [blockShape] ${t.length}`),Ce(i.shape.reduce((c,u,f)=>f>0&&f<=t.length?c&&(u+e[f-1][0]+e[f-1][1])%t[f-1]==0:c,!0),()=>`input spatial dimensions ${i.shape.slice(1)} with paddings ${e.toString()} must be divisible by blockShapes ${t.toString()}`),Me.runKernel(Ji,{x:i},{blockShape:t,paddings:e})}}),R0=pn({pool_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function My(n,t,e,i,r,a,c){null==r&&(r=[1,1]),null==a&&(a=1),0===i&&(i="valid");const u=Rt(n,"x","maxPool");let f=u,p=!1;3===u.rank&&(p=!0,f=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),Ce(xc(a,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`);const g=Yu(f.shape,t,a,r,i),v=[g.dilationHeight,g.dilationWidth];let T;T="same"===i?function sS(n,t){const i=n.map((c,u)=>c+(c-1)*(t[u]-1)).map(c=>c-1),r=i.map(c=>Math.floor(c/2)),a=i.map((c,u)=>c-r[u]);return i.map((c,u)=>[r[u],a[u]])}([g.filterHeight,g.filterWidth],v):[[0,0],[0,0]];const V=1===v[0]&&1===v[1],[Y,ae]=function rS(n,t,e){const i=e.map(g=>g[0]),r=e.map(g=>g[1]),a=n.concat(i,r),c=t.map((g,v)=>(g-a[v]%g)%g),u=r.map((g,v)=>g+c[v]),f=t.map((g,v)=>[i[v],u[v]]),p=t.map((g,v)=>[0,c[v]]);return[f,p]}([g.inHeight,g.inWidth],v,T),te=V?i:"valid",_e=V?f:Kf(f,v,Y),nt=("avg"===e?()=>kh(_e,t,a,te,c):()=>vg(_e,t,a,te,c))(),it=V?nt:gy(nt,v,ae);return p?Tn(it,[it.shape[1],it.shape[2],it.shape[3]]):it}}),Eg=pn({prelu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oS(n,t){const e=Rt(n,"x","prelu"),i=Rt(t,"alpha","prelu");return Me.runKernel(ie,{x:e,alpha:i})}}),Xf=pn({prod_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aS(n,t=null,e=!1){let i=Rt(n,"x","prod");return"bool"===i.dtype&&(i=Xi(i,"int32")),Me.runKernel(ze,{x:i},{axis:t,keepDims:e})}}),Fu=pn({raggedGather_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nd(n,t,e,i){const r=n.map((g,v)=>Rt(g,`tensors${v}`,"raggedGather","int32")),a=Rt(t,"paramsDenseValues","raggedGather"),c=Rt(e,"indices","raggedGather","int32"),p=Me.runKernel(Ct,{paramsNestedSplits:r,paramsDenseValues:a,indices:c},{outputRaggedRank:i});return{outputNestedSplits:p.slice(0,p.length-1),outputDenseValues:p[p.length-1]}}}),o2=pn({raggedRange_:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lS(n,t,e){const i=Rt(n,"starts","raggedRange"),r=Rt(t,"limits","raggedRange",i.dtype),a=Rt(e,"deltas","raggedRange",i.dtype),u=Me.runKernel(En,{starts:i,limits:r,deltas:a});return{rtNestedSplits:u[0],rtDenseValues:u[1]}}}),a2=pn({raggedTensorToTensor_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XI(n,t,e,i,r){const a=Rt(n,"shape","raggedTensorToTensor","int32"),c=Rt(t,"values","raggedTensorToTensor"),u=Rt(e,"defaultValue","raggedTensorToTensor",c.dtype),f=i.map((v,T)=>Rt(v,`tensors${T}`,"raggedTensorToTensor","int32"));return Me.runKernel(Fn,{shape:a,values:c,defaultValue:u,rowPartitionTensors:f},{rowPartitionTypes:r})}}),cS=pn({rand_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function l2(n,t,e){Xn(n);const i=Tt(n);let r=null;if(null==e||"float32"===e)r=new Float32Array(i);else if("int32"===e)r=new Int32Array(i);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);r=new Uint8Array(i)}for(let a=0;a<i;a++)r[a]=t();return Me.makeTensor(r,n,e)}});var Yf=_(2667);
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class uS{constructor(t,e,i,r,a){this.mean=t,this.stdDev=e,this.dtype=i,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const c=a||Math.random();this.random=Yf.alea(c.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let t,e,i=!1;for(;!i;){let r,a,c;do{r=2*this.random()-1,a=2*this.random()-1,c=r*r+a*a}while(c>=1||0===c);const u=Math.sqrt(-2*Math.log(c)/c);t=this.mean+this.stdDev*r*u,e=this.mean+this.stdDev*a*u,(!this.truncated||this.isValidTruncated(t))&&(i=!0)}return(!this.truncated||this.isValidTruncated(e))&&(this.nextVal=this.convertValue(e)),this.convertValue(t)}convertValue(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class Oy{constructor(t,e,i,r){this.alpha=t,this.beta=1/e,this.dtype=i;const a=r||Math.random();this.randu=Yf.alea(a.toString()),this.randn=new uS(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,e,i,r,a,c;for(;;){do{r=this.randn.nextValue(),c=1+this.c*r}while(c<=0);if(c*=c*c,t=r*r,e=1-.331*t*t,i=.5*t+this.d*(1-c+Math.log(c)),a=this.randu(),a<e||Math.log(a)<i)break}return c*=1/this.beta*this.d,this.alpha<1&&(c*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(c)}convertValue(t){return"float32"===this.dtype?t:Math.round(t)}}class N0{constructor(t=0,e=1,i,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=t,this.range=e-t,this.dtype=i,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${e} <= 1 and dtype is not float`);this.random=Yf.alea(r)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const YI=pn({randomGamma_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ry(n,t,e=1,i="float32",r){if(Xn(n),null==e&&(e=1),null==i&&(i="float32"),"float32"!==i&&"int32"!==i)throw new Error(`Unsupported data type ${i}`);const a=new Oy(t,e,i,r),c=fs(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),Ny=pn({randomNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qI(n,t=0,e=1,i,r){if(Xn(n),null!=i&&"bool"===i)throw new Error(`Unsupported data type ${i}`);const a=new uS(t,e,i,!1,r),c=fs(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),ZI=pn({randomStandardNormal_:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QI(n,t,e){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Ny(n,0,1,t,e)}}),Ph=pn({randomUniform_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fS(n,t=0,e=1,i="float32",r){Xn(n);const a=fs(n,i),c=new N0(t,e,null,r);for(let u=0;u<a.values.length;u++)a.values[u]=c.nextValue();return a.toTensor()}}),Py=pn({randomUniformInt_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xg(n,t,e,i){return Ph(n,t,e,"int32",i)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lf(n,t,e=1,i="float32"){if(0===e)throw new Error("Cannot have a step of zero");return Me.runKernel(ki,{},{start:n,stop:t,step:e,dtype:i})}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Cg=pn({real_:function JI(n){const e={input:Rt(n,"input","real")};return Me.runKernel(Nn,e)}}),$0=pn({reciprocal_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function L0(n){const e={x:Rt(n,"x","reciprocal")};return Me.runKernel(fr,e)}}),Rd=pn({relu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qf(n){const e={x:Rt(n,"x","relu")};return Me.runKernel(Ur,e)}}),B0=pn({relu6_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pS(n){const e={x:Rt(n,"x","relu6")};return Me.runKernel(Ns,e)}}),Du=pn({reverse_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function u2(n,t){const i={x:Rt(n,"x","reverse")};return Me.runKernel(Xs,i,{dims:t})}}),mS=pn({reverse1d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eA(n){const t=Rt(n,"x","reverse");return Ce(1===t.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Du(t,0)}}),_S=pn({reverse2d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gS(n,t){const e=Rt(n,"x","reverse");return Ce(2===e.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${e.rank}.`),Du(e,t)}}),yS=pn({reverse3d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V0(n,t){const e=Rt(n,"x","reverse");return Ce(3===e.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${e.rank}.`),Du(e,t)}}),qp=pn({reverse4d_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fy(n,t){const e=Rt(n,"x","reverse");return Ce(4===e.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${e.rank}.`),Du(e,t)}}),Sg=pn({round_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vS(n){const e={x:Rt(n,"x","round")};return Me.runKernel(Sa,e)}}),Ly=pn({rsqrt_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Dg(n){const e={x:Rt(n,"x","rsqrt","float32")};return Me.runKernel(ca,e)}}),Qp=pn({selu_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function U0(n){const e={x:Rt(n,"x","selu")};return Me.runKernel(tn,e)}}),$y=pn({separableConv2d_:function tA(n,t,e,i,r,a=[1,1],c="NHWC"){const u=Rt(n,"x","separableConv2d"),f=Rt(t,"depthwiseFilter","separableConv2d"),p=Rt(e,"pointwiseFilter","separableConv2d");let g=u,v=!1;if(3===u.rank&&(v=!0,g=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2]])),"NCHW"===c)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Ce(4===g.rank,()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`),Ce(4===f.rank,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),Ce(4===p.rank,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),Ce(1===p.shape[0],()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),Ce(1===p.shape[1],()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);const T=f.shape[2],V=f.shape[3];Ce(p.shape[2]===T*V,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${T*V}, but got ${p.shape[2]}.`);const Y=pg(g,f,i,r,c,a),te=Ih(Y,p,1,"valid",c);return v?Tn(te,[te.shape[1],te.shape[2],te.shape[3]]):te}});function z0(){return(z0=(0,q.A)(function*(n,t){const e=Rt(n,"x","setdiff1d"),i=Rt(t,"y","setdiff1d");Ce(e.dtype===i.dtype,()=>`x and y should have the same dtype, but got x (${e.dtype}) and y (${i.dtype}).`),Ce(1===e.rank,()=>`x should be 1D tensor, but got x (${e.shape}).`),Ce(1===i.rank,()=>`y should be 1D tensor, but got y (${i.shape}).`);const r=yield e.data(),a=yield i.data(),c=new Set(a);let u=0;for(let g=0;g<r.length;g++)c.has(r[g])||u++;const f=new So([u],e.dtype),p=new So([u],"int32");for(let g=0,v=0;g<r.length;g++)c.has(r[g])||(f.values[v]=r[g],p.values[v]=g,v++);return[f.toTensor(),p.toTensor()]})).apply(this,arguments)}const iA=
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nA(n,t){return z0.apply(this,arguments)},j0=pn({sign_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bS(n){const e={x:Rt(n,"x","sign")};return Me.runKernel(Qn,e)}}),By=pn({sin_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ms(n){const e={x:Rt(n,"x","sin","float32")};return Me.runKernel(ln,e)}}),cf=pn({sinh_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wS(n){const e={x:Rt(n,"x","sinh")};return Me.runKernel(Ln,e)}}),Tg=pn({slice1d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ES(n,t,e){const i=Rt(n,"x","slice1d");return Ce(1===i.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${i.rank} tensor`),mo(i,[t],[e])}}),Zp=pn({slice2d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rA(n,t,e){const i=Rt(n,"x","slice2d");return Ce(2===i.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${i.rank} tensor`),mo(i,t,e)}}),Jp=pn({slice3d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qf(n,t,e){const i=Rt(n,"x","slice3d");return Ce(3===i.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${i.rank} tensor`),mo(i,t,e)}}),em=pn({slice4d_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kg(n,t,e){const i=Rt(n,"x","slice4d");return Ce(4===i.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${i.rank} tensor`),mo(i,t,e)}}),tm=pn({softmax_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function W0(n,t=-1){const e=Rt(n,"logits","softmax","float32");if(-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and dim was ${t}`);return Me.runKernel(os,{logits:e},{dim:t})}}),Ig=pn({fft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H0(n){return Ce("complex64"===n.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${n.dtype}.`),Me.runKernel("FFT",{input:n})}}),Ag=pn({ifft_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function G0(n){return Ce("complex64"===n.dtype,()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${n.dtype}.`),Me.runKernel(qo,{input:n})}}),K0=pn({irfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sA(n){const t=n.shape[n.shape.length-1],e=n.size/t;let i;if(t<=2){const r=Tn(n,[e,t]);i=Ag(r)}else{const r=[e,2*(t-1)],a=Tn(Cg(n),[e,t]),c=Tn(Hp(n),[e,t]),u=Du(mo(a,[0,1],[e,t-2]),1),f=qt(Du(mo(c,[0,1],[e,t-2]),1),Wr(-1)),p=Wl([a,u],1),g=Wl([c,f],1),v=Tn(yo(p,g),[r[0],r[1]]);i=Ag(v)}if(i=Cg(i),3===n.rank&&0!==n.shape[0]){const r=i,a=n.shape[0];i=Tn(i,[a,i.shape[0]/a,i.shape[1]]),r.dispose()}return i}}),Lu=pn({split_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xS(n,t,e=0){const r={x:Rt(n,"x","split")};return Me.runKernel($r,r,{numOrSizeSplits:t,axis:e})}}),Vy=pn({rfft_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oA(n,t){Ce("float32"===n.dtype,()=>`The dtype for rfft() must be real value but got ${n.dtype}`);let e=n.shape[n.shape.length-1];const i=n.size/e;let r;if(null!=t&&t<e){const Y=n.shape.map(te=>0),ae=n.shape.map(te=>te);ae[n.shape.length-1]=t,r=mo(n,Y,ae),e=t}else if(null!=t&&t>e){const Y=n.shape.map(ae=>ae);Y[n.shape.length-1]=t-e,r=Wl([n,sc(Y)],n.shape.length-1),e=t}else r=n;const a=ps(r),c=Tn(yo(r,a),[i,e]),u=Ig(c),f=Math.floor(e/2)+1,p=Cg(u),g=Hp(u),v=Lu(p,[f,e-f],p.shape.length-1),T=Lu(g,[f,e-f],g.shape.length-1),V=r.shape.slice();return V[r.shape.length-1]=f,Tn(yo(v[0],T[0]),V)}}),Uy=pn({squaredDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aA(n,t){let e=Rt(n,"a","squaredDifference"),i=Rt(t,"b","squaredDifference");return[e,i]=Rr(e,i),Ts(e.shape,i.shape),Me.runKernel(Jo,{a:e,b:i},{})}}),Zf=pn({squeeze_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CS(n,t){const e=Rt(n,"x","squeeze","string_or_numeric");return Tn(e,ut(e.shape,t).newShape)}}),pa=pn({stack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lA(n,t=0){const e=Cs(n,"tensors","stack","string_or_numeric");return Ce(e.length>=1,()=>"Pass at least one tensor to tf.stack"),e.length>0&&Ce(t<=e[0].rank,()=>"Axis must be <= rank of the tensor"),Me.runKernel(de,e,{axis:t})}}),nm=pn({step_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cA(n,t=0){const i={x:Rt(n,"x","step")};return Me.runKernel(Mc,i,{alpha:t})}}),zy=pn({stridedSlice_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function d2(n,t,e,i,r=0,a=0,c=0,u=0,f=0){const g={x:Rt(n,"x","stridedSlice","string_or_numeric")};return Me.runKernel(ua,g,{begin:t,end:e,strides:i,beginMask:r,endMask:a,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:f})}}),DS=pn({tan_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SS(n){const e={x:Rt(n,"x","tan","float32")};return Me.runKernel(yu,e)}});
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Qc(n,t){Vt(n);const e=Bi(n,t);if(1!==e.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Po(n,null,e,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jf(n,t,e){if(Vt(n),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const i=Bi(n,e);if(2!==i.length&&1!==i.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Po(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function TS(n,t,e){if(Vt(n),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const i=Bi(n,e);if(4!==i.length&&1!==i.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Po(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function uA(n,t,e){if(Vt(n),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const i=Bi(n,e);if(5!==i.length&&1!==i.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Po(n,t,i,e)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dA(n,t,e){if(Vt(n),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const i=Bi(n,e);if(6!==i.length&&1!==i.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Po(n,t=t||i,i,e)}function jy(n,t,e){const i=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${e.shape}, indices.shape: ${t.shape}, shape: ${n}, sliceDim: ${i}, and batchDim: ${r}.`;if(e.rank<r)throw new Error(a+` update.rank < ${r}. `);if(n.length<i+(e.rank-r))throw new Error(a+` Output shape length < ${i+(e.rank-r)}`);if(e.rank!==r+n.length-i)throw new Error(a+" update.rank != "+(r+n.length-i));for(let c=0;c<r;++c)if(e.shape[c]!==t.shape[c])throw new Error(a+` updates.shape[${c}] (${e.shape[c]}) != indices.shape[${c}] (${t.shape[c]}).`);for(let c=0;c<e.rank-r;++c)if(e.shape[c+r]!==n[c+i])throw new Error(a+` updates.shape[${c+r}] (${e.shape[c+r]}) != shape[${c+r}] (${n[c+r]})`)}function X0(n,t,e){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(n.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${n.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(e.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${e}`);if(0===e.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===n.size)throw new Error(`Updates specified for empty output. updates shape: ${n.shape}`)}jy(e,t,n)}function ep(n,t,e){const i=t.shape.length,r=i>1?t.shape[i-1]:1,a=e.length;let c=1;for(let v=r;v<a;++v)c*=e[v];const u=r<1?1:r;return{sliceRank:r,numUpdates:Tt(t.shape)/u,sliceSize:c,strides:[...$t(e.slice(0,r)),1],outputSize:Tt(e)}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fA=pn({tensorScatterUpdate_:function hA(n,t,e){const i=Rt(n,"tensor","tensorScatterupdate"),r=Rt(t,"indices","tensorScatterupdate","int32"),a=Rt(e,"updates","tensorScatterupdate");if(X0(a,r,i.shape),i.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${i.dtype} and ${a.dtype}.`);return Me.runKernel(Et,{tensor:i,indices:r,updates:a},{})}}),Nd=pn({topk_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pA(n,t=1,e=!0){const i=Rt(n,"x","topk");if(0===i.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=i.shape[i.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);const a={x:i},c={k:t,sorted:e},[u,f]=Me.runKernel(vu,a,c);return{values:u,indices:f}}}),q0=pn({truncatedNormal_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Y0(n,t=0,e=1,i,r){if(Xn(n),null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const a=new uS(t,e,i,!0,r),c=fs(n,i);for(let u=0;u<c.values.length;u++)c.values[u]=a.nextValue();return c.toTensor()}}),Q0=pn({unique_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mA(n,t=0){const e=Rt(n,"x","unique","string_or_numeric");Ce(e.rank>0,()=>"The input tensor must be at least 1D");const i={x:e},r={axis:t},[a,c]=Me.runKernel(Ko,i,r);return{values:a,indices:c}}}),im=pn({unsortedSegmentSum_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kS(n,t,e){const i=Rt(n,"x","unsortedSegmentSum"),r=Rt(t,"segmentIds","unsortedSegmentSum","int32");return Ce(Ye(e),()=>"numSegments must be of dtype int"),Me.runKernel(da,{x:i,segmentIds:r},{numSegments:e})}}),Pd=pn({unstack_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z0(n,t=0){const e=Rt(n,"x","unstack","string_or_numeric");return Ce(t>=-e.shape.length&&t<e.shape.length,()=>`Axis = ${t} is not in [-${e.shape.length}, ${e.shape.length})`),Me.runKernel(ho,{value:e},{axis:t})}});
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function IS(n,t){return A0(n,t,"right")}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function J0(n,t=!0,e,i){return Me.makeVariable(n,t,e,i)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Wy(n,t){const e=[];for(let a=0;a<t.length;a++)t[a]&&e.push(a);const i=fs(n,"int32"),r=fs([e.length,n.length],"int32");for(let a=0;a<e.length;a++){const c=i.indexToLoc(e[a]);r.values.set(c,a*n.length)}return r.toTensor()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Mg(){return(Mg=(0,q.A)(function*(n){const t=Rt(n,"condition","whereAsync","bool"),e=yield t.data(),i=Wy(t.shape,e);return n!==t&&t.dispose(),i})).apply(this,arguments)}const oh=function Hy(n){return Mg.apply(this,arguments)};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ew(){return(ew=(0,q.A)(function*(n,t,e){const i=Rt(n,"tensor","boolMask"),r=Rt(t,"mask","boolMask","bool"),a=e??0,c=r.rank,u=i.shape;Ce(c>0,()=>"mask cannot be scalar"),Qt(u.slice(a,a+c),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let ae=a;ae<a+c;ae++)f*=u[ae];const p=u.slice(0,a).concat([f],u.slice(a+c)),g=Tn(i,p),v=Tn(r,[-1]),T=yield oh(v),V=Zf(T,[1]),Y=Wf(g,V,a);return n!==i&&i.dispose(),t!==r&&r.dispose(),V.dispose(),g.dispose(),v.dispose(),T.dispose(),Y})).apply(this,arguments)}const tw=function gA(n,t,e){return ew.apply(this,arguments)},Bs=pn({transpose_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _A(n,t,e){const i=Rt(n,"x","transpose");if(null==t&&(t=i.shape.map((c,u)=>u).reverse()),Ce(i.rank===t.length,()=>`Error in transpose: rank of input ${i.rank} must match length of perm ${t}.`),t.forEach(c=>{Ce(c>=0&&c<i.rank,()=>`All entries in 'perm' must be between 0 and ${i.rank-1} but got ${t}`)}),i.rank<=1)return i.clone();const r={x:i},a={perm:t};return"complex64"===i.dtype?k(()=>{let c=Cg(i),u=Hp(i);return c=Me.runKernel(xl,{x:c},a),u=Me.runKernel(xl,{x:u},a),e&&(u=Ka(u)),yo(c,u)}):Me.runKernel(xl,r,a)}}),tp=pn({movingAverage_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AS(n,t,e,i,r=!0){const a=Rt(n,"v","movingAverage"),c=Rt(t,"x","movingAverage"),u=Rt(e,"decay","movingAverage");(function No(n,t){Ce(n.dtype===t.dtype,()=>`The dtypes of the first(${n.dtype}) and second(${t.dtype}) input must match`)})(a,c),Ce(Oe(a.shape,c.shape),()=>"Shape mismatch in v and x");const f=Wr(1),p=dr(f,u);let g=qt(dr(c,a),p);if(r){Ce(null!=i,()=>"When using zeroDebias: true, step is required.");const v=Rt(i,"step","movingAverage");g=zn(g,dr(f,ih(u,v)))}return tt(a,g)}}),nw=pn({scatterND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rm(n,t,e){Xn(e);const i=Rt(n,"indices","scatterND","int32"),r=Rt(t,"updates","scatterND");return X0(r,i,e),Me.runKernel(P,{indices:i,updates:r},{shape:e})}}),OS=pn({sparseToDense_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MS(n,t,e,i=0){Xn(e);const r=Rt(n,"sparseIndices","sparseToDense","int32"),a=Rt(t,"sparseValues","sparseToDense","string_or_numeric"),c=Rt(i,"defaultValue","sparseToDense",a.dtype);return function Og(n,t,e,i){if("int32"!==n.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${n.dtype}.`);if(n.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${n.shape}.`);const r=n.rank>0?n.shape[0]:1,a=n.rank>1?n.shape[1]:1;if(e.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${e.length}, should be: ${a}.`);if(0!==t.rank&&(1!==t.rank||t.size!==r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,a,e,c),Me.runKernel(Ro,{sparseIndices:r,sparseValues:a,defaultValue:c},{outputShape:e})}}),vA=pn({gatherND_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yA(n,t){const e=Rt(t,"indices","gatherND","int32"),r={params:Rt(n,"x","gatherND","string_or_numeric"),indices:e};return Me.runKernel(ol,r)}}),RS=pn({dropout_:
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wA(n,t,e,i){const r=Rt(n,"x","dropout");if(Ce("float32"===r.dtype,()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),Ce(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return n instanceof so?r.clone():r;const a=
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bA(n,t){if(null==t)return n.shape.slice();if(Oe(n.shape,t))return t;if(n.shape.length===t.length){const e=[];for(let i=0;i<n.shape.length;i++)e.push(null==t[i]&&null!=n.shape[i]?n.shape[i]:t[i]);return e}return t}(r,e),c=1-t,u=zn(jp(tt(Ph(a,0,1,"float32",i),c)),c);return qt(r,u)}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NS(n){return Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2))))}function Gy(n,t,e){const i=1-n%2,r=new Float32Array(n);for(let a=0;a<n;++a){const c=2*Math.PI*a/(n+i-1);r[a]=t-e*Math.cos(c)}return Qc(r,"float32")}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function sm(){return(sm=(0,q.A)(function*(n,t,e=1){const i=Rt(n,"predictions","inTopK"),r=Rt(t,"targets","inTopK");Ce(i.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${i.rank}`),Ce(i.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${i.rank} and targets rank ${r.rank}`),Qt(i.shape.slice(0,i.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=i.shape[i.shape.length-1];Ce(e>0&&e<=a,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${e}`);const c=yield i.data(),u=yield r.data(),[f,p]=[c.length/a,a],g=dt("bool",f);for(let v=0;v<f;v++){const T=v*p,V=c.subarray(T,T+p),Y=[];for(let ae=0;ae<V.length;ae++)Y.push({value:V[ae],index:ae});Y.sort((ae,te)=>te.value-ae.value),g[v]=0;for(let ae=0;ae<e;ae++)if(Y[ae].index===u[v]){g[v]=1;break}}return n!==i&&i.dispose(),t!==r&&r.dispose(),to(g,r.shape,"bool")})).apply(this,arguments)}const xA=function EA(n,t){return sm.apply(this,arguments)},iw=pn({conv2DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PS(n,t,e,i,r,a="NHWC",c){let u=n;3===n.rank&&(u=Tn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;3===f.rank&&(f=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Ce(4===u.rank,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`),Ce(4===f.rank,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),Ce(4===e.length,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${e}.`);const p="NHWC"===a?u.shape[3]:u.shape[1],g="NHWC"===a?f.shape[3]:f.shape[1];return Ce(p===e[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${e[2]}.`),Ce(g===e[3],()=>`Error in conv2dDerFilter: depth of dy (${g}) must match output depth for filter (${e[3]}).`),Cu("conv2dDerFilter",r,c),Me.runKernel(Dr,{x:u,dy:f},{strides:i,pad:r,dataFormat:a,dimRoundingMode:c,filterShape:e})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Rg(n,t,e){if(null==e||"linear"===e)return n;if("relu"===e)return qt(n,nm(t));throw new Error(`Cannot compute gradient for fused activation ${e}.`)}function Ky(n,t){let e=t;const i=fa(n.shape,t.shape);return i.length>0&&(e=gr(e,i)),Tn(e,n.shape)}function Xy(n,t,e,i){if("linear"===t)return n;if("relu"===t)return Rd(n);if("elu"===t)return zf(n);if("relu6"===t)return B0(n);if("prelu"===t)return Eg(n,e);if("leakyrelu"===t)return Dy(n,i);if("sigmoid"===t)return qu(n);throw new Error(`Unknown fused activation ${t}.`)}const Ng=(n,t)=>!(n>0)||"linear"===t
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,sw=pn({fusedConv2d_:function rw({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===Ng(Me.state.gradientDepth,f=f||"linear")){Ce("NHWC"===r,()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let Xt=Ih(n,t,e,i,r,a,c);return null!=u&&(Xt=tt(Xt,u)),Xy(Xt,f,p,g)}const v=Rt(n,"x","conv2d","float32"),T=Rt(t,"filter","conv2d","float32");let V=v,Y=!1;3===v.rank&&(Y=!0,V=Tn(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Ce(4===V.rank,()=>`Error in fused conv2d: input must be rank 4, but got rank ${V.rank}.`),Ce(4===T.rank,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${T.rank}.`),Cu("fused conv2d",i,c);const ae="NHWC"===r?V.shape[3]:V.shape[1];Ce(T.shape[2]===ae,()=>`Error in conv2d: depth of input (${ae}) must match input depth for filter ${T.shape[2]}.`),Ce(xc(e,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`);const te=oo(V.shape,T.shape,e,a,i,c);let _e,Te;if(null!=u&&(_e=Rt(u,"bias","fused conv2d"),[_e]=Rr(_e,v),"NHWC"===r?Ts(te.outShape,_e.shape):(Ce(_e.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${_e.shape.length}.`),Ce(0===_e.shape.length||_e.shape[0]===te.outChannels||1===_e.shape[0],()=>`Error in fused conv2d: bias shape (${_e.shape}) is not compatible with the number of output channels (${te.outChannels})`))),null!=p){const Xt=p.shape;if(Ce(Xt.length<=1||3===Xt.length,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${Xt.length}.`),1===Xt.length)Ce(1===Xt[0]||Xt[0]===te.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${Xt}) is not compatible with the number of output channels (${te.outChannels}).`);else if(3===Xt.length)try{Ts(Xt,te.outShape)}catch{throw Error(`Error in fused conv2d: PReLU activation weights (${Xt}) is not compatible with the output shape of the conv2d (${te.outShape}).`)}Te=Rt(p,"prelu weights","fused conv2d")}const nt=(Xt,sn)=>{Ce("NHWC"===r,()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[dn,wn,Cn,Vn]=sn,qn=Rg(Xt,Cn,f);Ce(Jh(a),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const oi=[g0(wn.shape,qn,dn,e,i),iw(wn,qn,dn.shape,e,i)];if(null!=Vn){const hi=Ky(Vn,qn);oi.push(hi)}return oi},it={x:V,filter:T,bias:_e,preluActivationWeights:Te},St={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?Sh((sn,dn,wn)=>{let Cn=Me.runKernel(Ve,it,St);return wn([dn,sn,Cn]),Y&&(Cn=Tn(Cn,[Cn.shape[1],Cn.shape[2],Cn.shape[3]])),{value:Cn,gradFunc:nt}})(V,T):Sh((sn,dn,wn,Cn)=>{let Vn=Me.runKernel(Ve,it,St);return Cn([dn,sn,Vn,wn]),Y&&(Vn=Tn(Vn,[Vn.shape[1],Vn.shape[2],Vn.shape[3]])),{value:Vn,gradFunc:nt}})(V,T,_e)}}),om=pn({depthwiseConv2dNativeBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pg(n,t,e,i,r,a=[1,1],c){let u=n;3===n.rank&&(u=Tn(n,[1,n.shape[0],n.shape[1],n.shape[2]]));let f=t;return 3===f.rank&&(f=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Me.runKernel(Al,{x:u,dy:f},{strides:i,pad:r,dimRoundingMode:c,dilations:a,filterShape:e})}}),FS=pn({depthwiseConv2dNativeBackpropInput_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Fg(n,t,e,i,r,a=[1,1],c){let u=t,f=!1;3===t.rank&&(f=!0,u=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const v=Me.runKernel(Ya,{dy:u,filter:e},{strides:i,pad:r,dimRoundingMode:c,dilations:a,inputShape:n});return f?Tn(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),SA=pn({fusedDepthwiseConv2d_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CA({x:n,filter:t,strides:e,pad:i,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:c,bias:u,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:g}){if(!1===Ng(Me.state.gradientDepth,f)){let St=pg(n,t,e,i,r,a,c);return null!=u&&(St=tt(St,u)),Xy(St,f,p,g)}const v=Rt(n,"x","depthwiseConv2d","float32"),T=Rt(t,"filter","depthwiseConv2d","float32");let V=v,Y=!1;3===v.rank&&(Y=!0,V=Tn(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Ce(4===V.rank,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${V.rank}.`),Ce(4===T.rank,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${T.rank}.`),Ce(V.shape[3]===T.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${V.shape[3]}) must match the inChannels dimension in filter ${T.shape[2]}.`),null==a&&(a=[1,1]),Ce(xc(e,a),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${e} and dilations '${a}'`),Cu("fused depthwiseConv2d",i,c);const ae=oo(V.shape,T.shape,e,a,i,c,!0);let te,_e;null!=u&&(te=Rt(u,"bias","fused conv2d"),[te]=Rr(te,v),Ts(ae.outShape,te.shape)),null!=p&&(_e=Rt(p,"prelu weights","fused depthwiseConv2d"));const Te=(St,Xt)=>{Ce(Jh(a),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[sn,dn,wn,Cn]=Xt,Vn=Rg(St,wn,f),qn=FS(dn.shape,Vn,sn,e,i,a,c),ii=om(dn,Vn,sn.shape,e,i,a,c);return null!=Cn?[qn,ii,Ky(te,Vn)]:[qn,ii]},nt={x:V,filter:T,bias:te,preluActivationWeights:_e},it={strides:e,pad:i,dataFormat:r,dilations:a,dimRoundingMode:c,activation:f,leakyreluAlpha:g};return null==u?Sh((Xt,sn,dn)=>{let wn=Me.runKernel(_t,nt,it);return dn([sn,Xt,wn]),Y&&(wn=Tn(wn,[wn.shape[1],wn.shape[2],wn.shape[3]])),{value:wn,gradFunc:Te}})(V,T):Sh((Xt,sn,dn,wn)=>{let Cn=Me.runKernel(_t,nt,it);return wn([sn,Xt,Cn,dn]),Y&&(Cn=Tn(Cn,[Cn.shape[1],Cn.shape[2],Cn.shape[3]])),{value:Cn,gradFunc:Te}})(V,T,te)}}),Lg=pn({fusedMatMul_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Yy({a:n,b:t,transposeA:e=!1,transposeB:i=!1,bias:r,activation:a="linear",preluActivationWeights:c,leakyreluAlpha:u=.2}){if(!1===Ng(Me.state.gradientDepth,a)){let Vn=Es(n,t,e,i);return null!=r&&(Vn=tt(Vn,r)),Xy(Vn,a,c,u)}let f=Rt(n,"a","fused matMul"),p=Rt(t,"b","fused matMul");[f,p]=Rr(f,p);const g=e?f.shape[f.rank-2]:f.shape[f.rank-1],v=i?p.shape[p.rank-1]:p.shape[p.rank-2],T=e?f.shape[f.rank-1]:f.shape[f.rank-2],V=i?p.shape[p.rank-2]:p.shape[p.rank-1],Y=f.shape.slice(0,-2),ae=p.shape.slice(0,-2),te=Tt(Y),_e=Tt(ae);Ce(g===v,()=>`Error in fused matMul: inner shapes (${g}) and (${v}) of Tensors with shapes ${f.shape} and ${p.shape} and transposeA=${e} and transposeB=${i} must match.`);const nt=Ts(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([T,V]),it=Tn(f,e?[te,g,T]:[te,T,g]),St=Tn(p,i?[_e,V,v]:[_e,v,V]);let Xt,sn;null!=r&&(Xt=Rt(r,"bias","fused matMul"),[Xt]=Rr(Xt,f),Ts(nt,Xt.shape)),null!=c&&(sn=Rt(c,"prelu weights","fused matMul"));const dn=(Vn,qn)=>{const[ii,ri,oi,hi]=qn,_i=Rg(Tn(Vn,oi.shape),oi,a);let ai,vi;return e||i?!e&&i?(ai=Es(_i,ri,!1,!1),vi=Es(_i,ii,!0,!1)):e&&!i?(ai=Es(ri,_i,!1,!0),vi=Es(ii,_i,!1,!1)):(ai=Es(ri,_i,!0,!0),vi=Es(_i,ii,!0,!0)):(ai=Es(_i,ri,!1,!0),vi=Es(ii,_i,!0,!1)),null!=r?[ai,vi,Ky(hi,_i)]:[ai,vi]},wn={a:it,b:St,bias:Xt,preluActivationWeights:sn},Cn={transposeA:e,transposeB:i,activation:a,leakyreluAlpha:u};return null==r?Sh((qn,ii,ri)=>{const oi=Me.runKernel(Dt,wn,Cn);return ri([qn,ii,oi]),{value:Tn(oi,nt),gradFunc:dn}})(it,St):Sh((qn,ii,ri,oi)=>{const hi=Me.runKernel(Dt,wn,Cn);return oi([qn,ii,hi,ri]),{value:Tn(hi,nt),gradFunc:dn}})(it,St,Xt)}}),h2=pn({hammingWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DA(n){return Gy(n,.54,.46)}}),LS=pn({hannWindow_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function f2(n){return Gy(n,.5,.5)}}),kA=pn({frame_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TA(n,t,e,i=!1,r=0){let a=0;const c=[];for(;a+t<=n.size;)c.push(mo(n,a,t)),a+=e;if(i)for(;a<n.size;){const u=a+t-n.size,f=Wl([mo(n,a,t-u),cu([u],r)]);c.push(f),a+=e}return 0===c.length?Jf([],[0,t]):Tn(Wl(c),[c.length,t])}}),p2=pn({stft_:
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function IA(n,t,e,i,r=LS){null==i&&(i=NS(t));const a=kA(n,t,e),c=qt(a,r(t));return Vy(c,i)}}),MA=pn({cropAndResize_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AA(n,t,e,i,r="bilinear",a=0){const c=Rt(n,"image","cropAndResize"),u=Rt(t,"boxes","cropAndResize","float32"),f=Rt(e,"boxInd","cropAndResize","int32"),p=u.shape[0];return Ce(4===c.rank,()=>`Error in cropAndResize: image must be rank 4,but got rank ${c.rank}.`),Ce(2===u.rank&&4===u.shape[1],()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${u.shape}.`),Ce(1===f.rank&&f.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${u.shape}.`),Ce(2===i.length,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${i.length}.`),Ce(i[0]>=1&&i[1]>=1,()=>`cropSize must be atleast [1,1], but was ${i}`),Ce("bilinear"===r||"nearest"===r,()=>`method must be bilinear or nearest, but was ${r}`),Me.runKernel(Br,{image:c,boxes:u,boxInd:f},{method:r,extrapolationValue:a,cropSize:i})}}),ow=pn({flipLeftRight_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OA(n){const t=Rt(n,"image","flipLeftRight","float32");return Ce(4===t.rank,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`),Me.runKernel(sa,{image:t},{})}}),aw=pn({grayscaleToRGB_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $g(n){const t=Rt(n,"image","grayscaleToRGB"),e=t.rank-1,i=t.shape[e];Ce(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),Ce(1===i,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${i}.`);const r=new Array(t.rank);return r.fill(1,0,e),r[e]=3,Zu(t,r)}}),$S=pn({rgbToGrayscale_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function qy(n){const t=Rt(n,"image","RGBToGrayscale"),i=t.shape[t.rank-1];Ce(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),Ce(3===i,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${i}.`);const r=t.dtype,a=Xi(t,"float32"),c=Qc([.2989,.587,.114]);let u;switch(t.rank){case 2:u=Ah("ij,j->i",a,c);break;case 3:u=Ah("ijk,k->ij",a,c);break;case 4:u=Ah("ijkl,l->ijk",a,c);break;case 5:u=Ah("ijklm,m->ijkl",a,c);break;case 6:u=Ah("ijklmn,n->ijklm",a,c);break;default:throw new Error("Not a valid tensor rank.")}return u=Hl(u,-1),Xi(u,r)}}),BS=pn({rotateWithOffset_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Bg(n,t,e=0,i=.5){const r=Rt(n,"image","rotateWithOffset","float32");return Ce(4===r.rank,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`),Me.runKernel(we,{image:r},{radians:t,fillValue:e,center:i})}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function am(n,t,e,i,r,a){null==i&&(i=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==a&&(a=0);const c=n.shape[0];return e=Math.min(e,c),Ce(0<=i&&i<=1,()=>`iouThreshold must be in [0, 1], but was '${i}'`),Ce(2===n.rank,()=>`boxes must be a 2D tensor, but was of rank '${n.rank}'`),Ce(4===n.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${n.shape[1]}`),Ce(1===t.rank,()=>"scores must be a 1D tensor"),Ce(t.shape[0]===c,()=>`scores has incompatible shape with boxes. Expected ${c}, but was ${t.shape[0]}`),Ce(0<=a&&a<=1,()=>`softNmsSigma must be in [0, 1], but was '${a}'`),{maxOutputSize:e,iouThreshold:i,scoreThreshold:r,softNmsSigma:a}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const VS=pn({nonMaxSuppression_:function Vg(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=Rt(n,"boxes","nonMaxSuppression","float32"),c=Rt(t,"scores","nonMaxSuppression","float32"),u=am(a,c,e,i,r);return Me.runKernel(ks,{boxes:a,scores:c},{maxOutputSize:e=u.maxOutputSize,iouThreshold:i=u.iouThreshold,scoreThreshold:r=u.scoreThreshold})}});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function US(n,t,e){const i=function zS(n,t,e){return function RA(n,t,e){let i=0,r=n.length,a=0,c=!1;for(;i<r;){a=i+(r-i>>>1);const u=e(t,n[a]);u>0?i=a+1:(r=a,c=!u)}return c?i:-i-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,t,e||jS)}(n,t,e);n.splice(i<0?-(i+1):i,0,t)}function jS(n,t){return n>t?1:n<t?-1:0}function lw(n,t,e,i,r){return uw(n,t,e,i,r,0)}function cw(n,t,e,i,r,a){return uw(n,t,e,i,r,0,!1,a,!0)}function np(n,t,e,i,r,a){return uw(n,t,e,i,r,a,!0)}function uw(n,t,e,i,r,a,c=!1,u=!1,f=!1){const p=[];for(let te=0;te<t.length;te++)t[te]>r&&p.push({score:t[te],boxIndex:te,suppressBeginIndex:0});p.sort(Ug);const g=a>0?-.5/a:0,v=[],T=[];for(;v.length<e&&p.length>0;){const te=p.pop(),{score:_e,boxIndex:Te,suppressBeginIndex:nt}=te;if(_e<r)break;let it=!1;for(let St=v.length-1;St>=nt;--St){const Xt=NA(n,Te,v[St]);if(Xt>=i){it=!0;break}if(te.score=te.score*PA(i,g,Xt),te.score<=r)break}te.suppressBeginIndex=v.length,it||(te.score===_e?(v.push(Te),T.push(te.score)):te.score>r&&US(p,te,Ug))}const V=v.length,Y=e-V;u&&Y>0&&(v.push(...new Array(Y).fill(0)),T.push(...new Array(Y).fill(0)));const ae={selectedIndices:v};return c&&(ae.selectedScores=T),f&&(ae.validOutputs=V),ae}function NA(n,t,e){const i=n.subarray(4*t,4*t+4),r=n.subarray(4*e,4*e+4),a=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),u=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),p=Math.min(r[0],r[2]),g=Math.min(r[1],r[3]),v=Math.max(r[0],r[2]),T=Math.max(r[1],r[3]),V=(u-a)*(f-c),Y=(v-p)*(T-g);if(V<=0||Y<=0)return 0;const ae=Math.max(a,p),te=Math.max(c,g),_e=Math.min(u,v),Te=Math.min(f,T),nt=Math.max(_e-ae,0)*Math.max(Te-te,0);return nt/(V+Y-nt)}function PA(n,t,e){const i=Math.exp(t*e*e);return e<=n?i:0}function Ug(n,t){return n.score-t.score||n.score===t.score&&t.boxIndex-n.boxIndex}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Qy(){return(Qy=(0,q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY){const a=Rt(n,"boxes","nonMaxSuppressionAsync"),c=Rt(t,"scores","nonMaxSuppressionAsync"),u=am(a,c,e,i,r);e=u.maxOutputSize,i=u.iouThreshold,r=u.scoreThreshold;const f=yield Promise.all([a.data(),c.data()]),p=f[0],g=f[1],{selectedIndices:v}=lw(p,g,e,i,r);return a!==n&&a.dispose(),c!==t&&c.dispose(),Qc(v,"int32")})).apply(this,arguments)}const GS=pn({nonMaxSuppressionWithScore_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FA(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=Rt(n,"boxes","nonMaxSuppression"),u=Rt(t,"scores","nonMaxSuppression"),f=am(c,u,e,i,r,a),v=Me.runKernel(za,{boxes:c,scores:u},{maxOutputSize:e=f.maxOutputSize,iouThreshold:i=f.iouThreshold,scoreThreshold:r=f.scoreThreshold,softNmsSigma:a=f.softNmsSigma});return{selectedIndices:v[0],selectedScores:v[1]}}});function lm(){return(lm=(0,q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=0){const c=Rt(n,"boxes","nonMaxSuppressionAsync"),u=Rt(t,"scores","nonMaxSuppressionAsync"),f=am(c,u,e,i,r,a);e=f.maxOutputSize,i=f.iouThreshold,r=f.scoreThreshold,a=f.softNmsSigma;const p=yield Promise.all([c.data(),u.data()]),g=p[0],v=p[1],{selectedIndices:T,selectedScores:V}=np(g,v,e,i,r,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:Qc(T,"int32"),selectedScores:Qc(V)}})).apply(this,arguments)}const BA=pn({nonMaxSuppressionPadded_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $A(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=Rt(n,"boxes","nonMaxSuppression"),u=Rt(t,"scores","nonMaxSuppression"),f=am(c,u,e,i,r,null),Y=Me.runKernel(uo,{boxes:c,scores:u},{maxOutputSize:f.maxOutputSize,iouThreshold:f.iouThreshold,scoreThreshold:f.scoreThreshold,padToMaxOutputSize:a});return{selectedIndices:Y[0],validOutputs:Y[1]}}});function hw(){return(hw=(0,q.A)(function*(n,t,e,i=.5,r=Number.NEGATIVE_INFINITY,a=!1){const c=Rt(n,"boxes","nonMaxSuppressionAsync"),u=Rt(t,"scores","nonMaxSuppressionAsync"),f=am(c,u,e,i,r,null),p=f.maxOutputSize,g=f.iouThreshold,v=f.scoreThreshold,[T,V]=yield Promise.all([c.data(),u.data()]),{selectedIndices:Y,validOutputs:ae}=cw(T,V,p,g,v,a);return c!==n&&c.dispose(),u!==t&&u.dispose(),{selectedIndices:Qc(Y,"int32"),validOutputs:Wr(ae,"int32")}})).apply(this,arguments)}const cm=pn({resizeBilinear_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fw(n,t,e=!1,i=!1){const r=Rt(n,"images","resizeBilinear");Ce(3===r.rank||4===r.rank,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),Ce(2===t.length,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),Ce(!1===i||!1===e,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Tn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Me.runKernel(Cr,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Tn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),pw=pn({resizeNearestNeighbor_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KS(n,t,e=!1,i=!1){const r=Rt(n,"images","resizeNearestNeighbor");Ce(3===r.rank||4===r.rank,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),Ce(2===t.length,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),Ce("float32"===r.dtype||"int32"===r.dtype,()=>"`images` must have `int32` or `float32` as dtype"),Ce(!1===i||!1===e,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let a=r,c=!1;3===r.rank&&(c=!0,a=Tn(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,p=Me.runKernel(Or,{images:a},{alignCorners:e,halfPixelCenters:i,size:t});return c?Tn(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),Zy=pn({threshold_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * https://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zA(n,t="binary",e=!1,i=.5){const r=Rt(n,"image","threshold"),f=r.shape[0]*r.shape[1];let g,v,T,V,p=qt(Qc([i]),255);if(Ce(3===r.rank,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),Ce(3===r.shape[2]||1===r.shape[2],()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),Ce("int32"===r.dtype||"float32"===r.dtype,()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),Ce("otsu"===t||"binary"===t,()=>`Method must be binary or otsu, but was ${t}`),3===r.shape[2]){[g,v,T]=Lu(r,[1,1,1],-1);const te=qt(g,.2989),_e=qt(v,.587),Te=qt(T,.114);V=tt(tt(te,_e),Te)}else V=n;"otsu"===t&&(p=function zg(n,t){let a,c,u,f,p,g,e=Qc([-1]),i=Qc([0]),r=Qc([0]);for(let v=0;v<n.size-1;v++){a=mo(n,0,v+1),c=mo(n,v+1),p=zn(gr(a),t),g=zn(gr(c),t);const T=gr(qt(a,lf(0,a.size)));u=zn(T,gr(a));const V=cu(c.shape,a.size),Y=tt(lf(0,c.size),V),ae=qt(c,Y);f=zn(gr(ae),gr(c));const te=dr(u,f),_e=dr(u,f),Te=qt(p,g);r=qt(qt(Te,te),_e);const nt=Pu(r,i);i=rc(nt,r,i),e=rc(nt,Qc([v]),e)}return e}(cI(Xi(Sg(V),"int32"),to([]),256),f));const Y=e?Gf(V,p):Pu(V,p);return Xi(qt(Y,255),"int32")}}),jA=pn({transform_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m2(n,t,e="nearest",i="constant",r=0,a){const c=Rt(n,"image","transform","float32"),u=Rt(t,"transforms","transform","float32");return Ce(4===c.rank,()=>`Error in transform: image must be rank 4,but got rank ${c.rank}.`),Ce(2===u.rank&&(u.shape[0]===c.shape[0]||1===u.shape[0])&&8===u.shape[1],()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Ce(null==a||2===a.length,()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`),Me.runKernel(ms,{image:c,transforms:u},{interpolation:e,fillMode:i,fillValue:r,outputShape:a})}}),mw=pn({bandPart_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XS(n,t,e){const i=Rt(n,"a","bandPart");Ce(i.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${i.rank}.`);const r=i.shape,[a,c]=i.shape.slice(-2);let u,f;"number"==typeof t?(Ce(t%1==0,()=>`bandPart(): numLower must be an integer, got ${t}.`),Ce(t<=a,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`),u=Rt(t<0?a:t,"numLower","bandPart")):(Ce("int32"===t.dtype,()=>"bandPart(): numLower's dtype must be an int32."),u=rc(Ju(t,0),a,Nh(t,a))),"number"==typeof e?(Ce(e%1==0,()=>`bandPart(): numUpper must be an integer, got ${e}.`),Ce(e<=c,()=>`bandPart(): numUpper (${e}) must not be greater than the number of columns (${c}).`),f=Rt(e<0?c:e,"numUpper","bandPart")):(Ce("int32"===e.dtype,()=>"bandPart(): numUpper's dtype must be an int32."),f=rc(Ju(e,0),c,Nh(e,c)));const p=Tn(lf(0,a,1,"int32"),[-1,1]),g=lf(0,c,1,"int32"),v=dr(p,g),T=Rh(Gf(v,u),Hf(v,Ka(f))),V=sc([a,c],i.dtype);return Tn(pa(Pd(Tn(i,[-1,a,c])).map(Y=>rc(T,Y,V))),r)}}),YS=pn({gramSchmidt_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WA(n){let t;if(Array.isArray(n)){t=!1,Ce(null!=n&&n.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=n[0].shape[0];for(let a=1;a<n.length;++a)Ce(n[a].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${n[a].shape[0]} vs. ${r})`)}else t=!0,n=Lu(n,n.shape[0],0).map(r=>Zf(r,[0]));Ce(n.length<=n[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${n.length}) exceeds number of dimensions (${n[0].shape[0]}).`);const e=[],i=n;for(let r=0;r<n.length;++r)e.push(Me.tidy(()=>{let a=i[r];if(r>0)for(let c=0;c<r;++c){const u=qt(gr(qt(e[c],a)),e[c]);a=dr(a,u)}return zn(a,jf(a,"euclidean"))}));return t?pa(e,0):e}});function gw(n,t=!1){return Me.tidy(()=>{Ce(2===n.shape.length,()=>`qr2d() requires a 2D Tensor, but got a ${n.shape.length}D Tensor.`);const e=n.shape[0],i=n.shape[1];let r=zp(e),a=Id(n);const c=Jf([[1]],[1,1]);let u=Id(c);const f=e>=i?i:e;for(let p=0;p<f;++p){const g=a,v=u,T=r;[u,a,r]=Me.tidy(()=>{const V=mo(a,[p,p],[e-p,1]),Y=jf(V),ae=mo(a,[p,p],[1,1]),te=rc(Pu(ae,0),Jf([[-1]]),Jf([[1]])),_e=dr(ae,qt(te,Y)),Te=zn(V,_e);u=1===Te.shape[0]?Id(c):Wl([c,mo(Te,[1,0],[Te.shape[0]-1,Te.shape[1]])],0);const nt=Ka(zn(Es(te,_e),Y)),it=mo(a,[p,0],[e-p,i]),St=qt(nt,u),Xt=Bs(u);if(0===p)a=dr(it,Es(St,Es(Xt,it)));else{const wn=dr(it,Es(St,Es(Xt,it)));a=Wl([mo(a,[0,0],[p,i]),wn],0)}const sn=Bs(St),dn=mo(r,[0,p],[e,r.shape[1]-p]);if(0===p)r=dr(dn,Es(Es(dn,u),sn));else{const wn=dr(dn,Es(Es(dn,u),sn));r=Wl([mo(r,[0,0],[e,p]),wn],1)}return[u,a,r]}),B([g,v,T])}return!t&&e>i&&(r=mo(r,[0,0],[e,i]),a=mo(a,[0,0],[i,i])),[r,a]})}const qS=pn({qr_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HA(n,t=!1){if(Ce(n.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${n.rank}`),2===n.rank)return gw(n,t);{const e=n.shape.slice(0,n.shape.length-2).reduce((f,p)=>f*p),i=Pd(Tn(n,[e,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),r=[],a=[];return i.forEach(f=>{const[p,g]=gw(f,t);r.push(p),a.push(g)}),[Tn(pa(r,0),n.shape),Tn(pa(a,0),n.shape)]}}});
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Tu=function(n){return n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",n}(Tu||{});const Fh=pn({computeWeightedLoss_:function _w(n,t,e=Tu.SUM_BY_NONZERO_WEIGHTS){const i=Rt(n,"losses","computeWeightedLoss");let r=null;null!=t&&(r=Rt(t,"weights","computeWeightedLoss"));const a=null==r?i:qt(i,r);if(e===Tu.NONE)return a;if(e===Tu.SUM)return gr(a);if(e===Tu.MEAN){if(null==r)return tl(a);{const c=i.size/r.size,u=zn(gr(a),gr(r));return c>1?zn(u,Wr(c)):u}}if(e===Tu.SUM_BY_NONZERO_WEIGHTS){if(null==r)return zn(gr(a),Wr(i.size));{const c=qt(r,oc(i.shape)),u=Xi(gr(Yp(c,Wr(0))),"float32");return zn(gr(a),u)}}throw Error(`Unknown reduction: ${e}`)}}),KA=pn({absoluteDifference_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GA(n,t,e,i=Tu.SUM_BY_NONZERO_WEIGHTS){const r=Rt(n,"labels","absoluteDifference"),a=Rt(t,"predictions","absoluteDifference");let c=null;null!=e&&(c=Rt(e,"weights","absoluteDifference")),Qt(r.shape,a.shape,"Error in absoluteDifference: ");const u=jl(dr(r,a));return Fh(u,c,i)}}),YA=pn({cosineDistance_:function XA(n,t,e,i,r=Tu.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","cosineDistance"),c=Rt(t,"predictions","cosineDistance");let u=null;null!=i&&(u=Rt(i,"weights","cosineDistance")),Qt(a.shape,c.shape,"Error in cosineDistance: ");const f=Wr(1),p=dr(f,gr(qt(a,c),e,!0));return Fh(p,u,r)}}),yw=pn({hingeLoss_:function qA(n,t,e,i=Tu.SUM_BY_NONZERO_WEIGHTS){let r=Rt(n,"labels","hingeLoss");const a=Rt(t,"predictions","hingeLoss");let c=null;null!=e&&(c=Rt(e,"weights","hingeLoss")),Qt(r.shape,a.shape,"Error in hingeLoss: ");const u=Wr(1);r=dr(qt(Wr(2),r),u);const f=Rd(dr(u,qt(r,a)));return Fh(f,c,i)}}),ZA=pn({huberLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QA(n,t,e,i=1,r=Tu.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","huberLoss"),c=Rt(t,"predictions","huberLoss");let u=null;null!=e&&(u=Rt(e,"weights","huberLoss")),Qt(a.shape,c.shape,"Error in huberLoss: ");const f=Wr(i),p=jl(dr(c,a)),g=Nh(p,f),v=dr(p,g),T=tt(qt(Wr(.5),Pr(g)),qt(f,v));return Fh(T,u,r)}}),ip=pn({logLoss_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function JA(n,t,e,i=1e-7,r=Tu.SUM_BY_NONZERO_WEIGHTS){const a=Rt(n,"labels","logLoss"),c=Rt(t,"predictions","logLoss");let u=null;null!=e&&(u=Rt(e,"weights","logLoss")),Qt(a.shape,c.shape,"Error in logLoss: ");const f=Wr(1),p=Wr(i),g=Ka(qt(a,ed(tt(c,p)))),v=qt(dr(f,a),ed(tt(dr(f,c),p))),T=dr(g,v);return Fh(T,u,r)}}),vw=pn({meanSquaredError_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jg(n,t,e,i=Tu.SUM_BY_NONZERO_WEIGHTS){const r=Rt(n,"labels","meanSquaredError"),a=Rt(t,"predictions","meanSquaredError");let c=null;null!=e&&(c=Rt(e,"weights","meanSquaredError")),Qt(r.shape,a.shape,"Error in meanSquaredError: ");const u=Uy(r,a);return Fh(u,c,i)}}),um=pn({sigmoidCrossEntropy_:function eM(n,t,e,i=0,r=Tu.SUM_BY_NONZERO_WEIGHTS){let a=Rt(n,"multiClassLabels","sigmoidCrossEntropy");const c=Rt(t,"logits","sigmoidCrossEntropy");let u=null;if(null!=e&&(u=Rt(e,"weights","sigmoidCrossEntropy")),Qt(a.shape,c.shape,"Error in sigmoidCrossEntropy: "),i>0){const p=Wr(i),g=Wr(1),v=Wr(.5);a=tt(qt(a,dr(g,p)),qt(v,p))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bw(n,t){const e=Rt(n,"labels","sigmoidCrossEntropyWithLogits"),i=Rt(t,"logits","sigmoidCrossEntropyWithLogits");Qt(e.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=Rd(i),a=qt(i,e),c=Ty(hu(Ka(jl(i))));return tt(dr(r,a),c)}(a,c);return Fh(f,u,r)}}),nM=pn({softmaxCrossEntropy_:function tM(n,t,e,i=0,r=Tu.SUM_BY_NONZERO_WEIGHTS){let a=Rt(n,"onehotLabels","softmaxCrossEntropy");const c=Rt(t,"logits","softmaxCrossEntropy");let u=null;if(null!=e&&(u=Rt(e,"weights","softmaxCrossEntropy")),Qt(a.shape,c.shape,"Error in softmaxCrossEntropy: "),i>0){const p=Wr(i),g=Wr(1),v=Wr(a.shape[1]);a=tt(qt(a,dr(g,p)),zn(p,v))}const f=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function QS(n,t,e=-1){if(-1===e&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${e}`);return Sh((r,a,c)=>{const f=k0(a,[e],!0),p=dr(Xi(a,"float32"),f);c([r,p]);const g=Ka(qt(p,r));return{value:gr(g,[e]),gradFunc:(V,Y)=>{const[ae,te]=Y,_e=gl(V.shape,[e]);return[qt(Tn(V,_e),dr(Xi(ae,"float32"),hu(te))),qt(Tn(V,_e),dr(hu(te),Xi(ae,"float32")))]}}})(n,t)}(a,c);return Fh(f,u,r)}}),tD={fft:Ig,ifft:Ag,rfft:Vy,irfft:K0},dM={hammingWindow:h2,hannWindow:LS,frame:kA,stft:p2},id={flipLeftRight:ow,grayscaleToRGB:aw,resizeNearestNeighbor:pw,resizeBilinear:cm,rgbToGrayscale:$S,rotateWithOffset:BS,cropAndResize:MA,nonMaxSuppression:VS,nonMaxSuppressionAsync:function WS(n,t,e){return Qy.apply(this,arguments)},nonMaxSuppressionWithScore:GS,nonMaxSuppressionWithScoreAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function dw(n,t,e){return lm.apply(this,arguments)},nonMaxSuppressionPadded:BA,nonMaxSuppressionPaddedAsync:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VA(n,t,e){return hw.apply(this,arguments)},threshold:Zy,transform:jA},nD={bandPart:mw,gramSchmidt:YS,qr:qS},iD={absoluteDifference:KA,computeWeightedLoss:Fh,cosineDistance:YA,hingeLoss:yw,huberLoss:ZA,logLoss:ip,meanSquaredError:vw,sigmoidCrossEntropy:um,softmaxCrossEntropy:nM},_2={sparseFillEmptyRows:pn({sparseFillEmptyRows_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iM(n,t,e,i){const r=Rt(n,"indices","sparseFillEmptyRows","int32"),a=Rt(t,"values","sparseFillEmptyRows"),c=Rt(e,"denseShape","sparseFillEmptyRows","int32"),u=Rt(i,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==r.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==c.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${c.shape}`);if(0!==u.rank)throw new Error(`Default value should be a scalar but received shape ${u.shape}`);const p=Me.runKernel(js,{indices:r,values:a,denseShape:c,defaultValue:u});return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}}),sparseReshape:pn({sparseReshape_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sM(n,t,e){const i=Rt(n,"inputIndices","sparseReshape","int32"),r=Rt(t,"inputShape","sparseReshape","int32"),a=Rt(e,"newShape","sparseReshape","int32");if(2!==i.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==r.rank)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const u=Me.runKernel(Gr,{inputIndices:i,inputShape:r,newShape:a});return{outputIndices:u[0],outputShape:u[1]}}}),sparseSegmentMean:pn({sparseSegmentMean_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oM(n,t,e){const i=Rt(n,"data","sparseSegmentMean"),r=Rt(t,"indices","sparseSegmentMean","int32"),a=Rt(e,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);return Me.runKernel(ns,{data:i,indices:r,segmentIds:a})}}),sparseSegmentSum:pn({sparseSegmentSum_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jy(n,t,e){const i=Rt(n,"data","sparseSegmentSum"),r=Rt(t,"indices","sparseSegmentSum","int32"),a=Rt(e,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${r.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);return Me.runKernel(Zl,{data:i,indices:r,segmentIds:a})}})},hM={stringNGrams:pn({stringNGrams_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lM(n,t,e,i,r,a,c,u){const f=Rt(n,"data","stringNGrams","string");if("string"!==f.dtype)throw new Error("Data must be of datatype string");if(1!==f.shape.length)throw new Error(`Data must be a vector, saw: ${f.shape}`);const p=Rt(t,"dataSplits","stringNGrams");if("int32"!==p.dtype)throw new Error("Data splits must be of datatype int32");const T=Me.runKernel(_r,{data:f,dataSplits:p},{separator:e,nGramWidths:i,leftPad:r,rightPad:a,padWidth:c,preserveShortSequences:u});return{nGrams:T[0],nGramsSplits:T[1]}}}),stringSplit:pn({stringSplit_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cM(n,t,e=!0){const i=Rt(n,"input","stringSplit","string"),r=Rt(t,"delimiter","stringSplit","string");if(1!==i.rank)throw new Error(`Input should be Tensor1D but received shape ${i.shape}`);if(0!==r.rank)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const u=Me.runKernel(as,{input:i,delimiter:r},{skipEmpty:e});return{indices:u[0],values:u[1],shape:u[2]}}}),stringToHashBucketFast:pn({stringToHashBucketFast_:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rp(n,t){const e=Rt(n,"input","stringToHashBucketFast","string"),i={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");return Me.runKernel(Ps,{input:e},i)}}),staticRegexReplace:pn({staticRegexReplace_:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Wg(n,t,e,i=!0){const r=Rt(n,"input","staticRegexReplace","string");return Me.runKernel(El,{x:r},{pattern:t,rewrite:e,replaceGlobal:i})}})},uf=
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Hg{static sgd(t){return new Y_(t)}static momentum(t,e,i=!1){return new Kx(t,e,i)}static rmsprop(t,e=.9,i=0,r=null,a=!1){return new Xx(t,e,i,r,a)}static adam(t=.001,e=.9,i=.999,r=null){return new Hb(t,e,i,r)}static adadelta(t=.001,e=.95,i=null){return new Ap(t,e,i)}static adamax(t=.002,e=.9,i=.999,r=null,a=0){return new Gx(t,e,i,r,a)}static adagrad(t,e=.1){return new X_(t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */,fM=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:n=>n();function rD(){return new Promise(n=>fM(()=>n()))}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ww(n,t){const e=n[0].length;n.forEach((r,a)=>{Ce(r.length===e,()=>`Error in concat${e}D: rank of tensors[${a}] must be the same as the rank of the rest (${e})`)}),Ce(t>=0&&t<e,()=>`Error in concat${e}D: axis must be between 0 and ${e-1}.`);const i=n[0];n.forEach((r,a)=>{for(let c=0;c<e;c++)Ce(c===t||r[c]===i[c],()=>`Error in concat${e}D: Shape of tensors[${a}] (${r}) does not match the shape of the rest (${i}) along the non-concatenated axis ${a}.`)})}function Lh(n,t){const e=n[0].slice();for(let i=1;i<n.length;i++)e[t]+=n[i][t];return e}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var Fd=function(n){return n[n.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",n[n.VALUE_ROWIDS=1]="VALUE_ROWIDS",n[n.ROW_LENGTHS=2]="ROW_LENGTHS",n[n.ROW_SPLITS=3]="ROW_SPLITS",n[n.ROW_LIMITS=4]="ROW_LIMITS",n[n.ROW_STARTS=5]="ROW_STARTS",n}(Fd||{});function fu(n,t,e){let i=new Array;if(null==e&&null==t)return i;if(null==t)for(;i.length<n+e.length;)i.push(-1);else i=t.slice();if(null==e)return i;if(n+e.length!==i.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${n+e.length}, but shape.rank = ${i.length}`);for(let r=1;r<e.length;++r){const a=e[r],c=i[i.length-e.length+r],u=i[c];if(a>=0)if(u>=0){if(u!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+n}] = ${a} but shape[${r+n}] = ${u}`)}else i[c]=a}return i}function Ew(n){const t={FIRST_DIM_SIZE:Fd.FIRST_DIM_SIZE,VALUE_ROWIDS:Fd.VALUE_ROWIDS,ROW_LENGTHS:Fd.ROW_LENGTHS,ROW_SPLITS:Fd.ROW_SPLITS,ROW_LIMITS:Fd.ROW_LIMITS,ROW_STARTS:Fd.ROW_STARTS},e=[];for(const i of n){if(!(i in t))break;e.push(t[i])}return e}function xw(n){return 0===n.length?0:n[0]===Fd.FIRST_DIM_SIZE?n.length-1:n.length}function Cw(n,t){if(null==n||null==t)return;const e=n.length,i=t.length;if(e>=i)throw new Error(`defaultValue.shape=${n} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${e} must be less than ragged tensor input flatValues.rank = ${i})`);for(let r=0;r<Math.min(e,i-1);++r){const a=n[r],c=t[r+1];if(a>=0&&c>=0&&1!==a&&a!==c)throw new Error(`defaultValue.shape=${n}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-n.length}] = ${a} but ragged tensor input.flatValues.shape[${r-n.length}] = ${c}`)}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const sD=30;function ma(n){return n<=sD?n:zt(n,Math.floor(Math.sqrt(n)))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sw(n,t,e){return[e*("number"==typeof n?n:n[0]),t*("number"==typeof n?n:n[1])]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function sp(n,t,e,i=!0){let r=[];if(i)r=r.concat(t.slice(0)),r.push(n[0]/e),r=r.concat(n.slice(1));else{r=r.concat(n[0]);const a=t.length;for(let c=0;c<a;++c)r=r.concat([n[c+1]/t[c],t[c]]);r=r.concat(n.slice(a+1))}return r}function Gg(n,t,e=!0){const i=[];if(e){i.push(t);for(let r=t+1;r<n;++r)r<=2*t?(i.push(r),i.push(r-(t+1))):i.push(r)}else{const r=[],a=[];for(let c=1;c<n;++c)c>=2*t+1||c%2==1?a.push(c):r.push(c);i.push(...r),i.push(0),i.push(...a)}return i}function Kg(n,t,e,i=!0){const r=[];r.push(i?n[0]/e:n[0]*e);for(let a=1;a<n.length;++a)r.push(a<=t.length?i?t[a-1]*n[a]:n[a]/t[a-1]:n[a]);return r}function Xg(n,t){const e=[0];for(let i=0;i<t;++i)e.push(n[i][0]);return e}function ev(n,t,e){const i=n.slice(0,1);for(let r=0;r<e;++r)i.push(n[r+1]-t[r][0]-t[r][1]);return i}function tv(n,t){const e=n.shape.length,i=t.shape.length;if(e<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${e}.`);if(i<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${i}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[i-1]>e)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[i-1]} vs. ${e}`);if(0===Tt(n.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${n.shape}.`);const r=t.shape,a=r[r.length-1];let c=1;for(let v=0;v<r.length-1;++v)c*=r[v];const u=n.shape,f=r.slice();f.pop();let p=1;for(let v=a;v<e;++v)p*=u[v],f.push(u[v]);const g=[...$t(n.shape).map(v=>v/p),1].slice(0,a);return[f,c,p,g]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const hm=1.7580993408473768,nv=1.0507009873554805,Dw=.3275911,iv=.254829592,Tw=-.284496736,Zc=1.421413741,rv=-1.453152027,Yg=1.061405429;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ah(n,t){if(n.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${n.length}, imag: ${t.length}.`);const e=new Float32Array(2*n.length);for(let i=0;i<e.length;i+=2)e[i]=n[i/2],e[i+1]=t[i/2];return e}function kw(n){const t=new Float32Array(n.length/2),e=new Float32Array(n.length/2);for(let i=0;i<n.length;i+=2)t[i/2]=n[i],e[i/2]=n[i+1];return{real:t,imag:e}}function oD(n){const t=Math.ceil(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=0;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function Iw(n){const t=Math.floor(n.length/4),e=new Float32Array(t),i=new Float32Array(t);for(let r=2;r<n.length;r+=4)e[Math.floor(r/4)]=n[r],i[Math.floor(r/4)]=n[r+1];return{real:e,imag:i}}function Aw(n,t){return{real:n[2*t],imag:n[2*t+1]}}function aD(n,t,e,i){n[2*i]=t,n[2*i+1]=e}function qg(n,t){const e=new Float32Array(n/2),i=new Float32Array(n/2);for(let r=0;r<Math.ceil(n/2);r++){const a=(t?2:-2)*Math.PI*(r/n);e[r]=Math.cos(a),i[r]=Math.sin(a)}return{real:e,imag:i}}function sv(n,t,e){const i=(e?2:-2)*Math.PI*(n/t);return{real:Math.cos(i),imag:Math.sin(i)}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const lh="->",ov=/->/g,Mw=",",fm="...";function Ow(n,t){const e=((n=n.replace(/\s/g,"")).length-n.replace(ov,"").length)/lh.length;if(e<1)throw new Error("Equations without an arrow are not supported.");if(e>1)throw new Error(`Equation must contain exactly one arrow ("${lh}").`);const[i,r]=n.split(lh);Ce(-1===i.indexOf(fm),()=>`The ellipsis notation ("${fm}") is not supported yet.`);const a=i.split(Mw),c=a.length;if(t!==c)throw new Error(`Expected ${c} input tensors, received ${t}`);if(c>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const u=[];for(let T=0;T<r.length;++T){const V=r[T];if(!a.some(Y=>-1!==Y.indexOf(V)))throw new Error(`Output subscripts contain the label ${V} not present in the input subscripts.`);-1===u.indexOf(V)&&u.push(V)}for(let T=0;T<i.length;++T){const V=i[T];-1===u.indexOf(V)&&V!==Mw&&u.push(V)}const f=new Array(a.length);for(let T=0;T<c;++T){if(new Set(a[T].split("")).size!==a[T].length)throw new Error(`Found duplicate axes in input component ${a[T]}. Support for duplicate axes in input is not implemented yet.`);f[T]=[];for(let V=0;V<a[T].length;++V)f[T].push(u.indexOf(a[T][V]))}const p=u.length,v=[];for(let T=r.length;T<p;++T)v.push(T);return{allDims:u,summedDims:v,idDims:f}}function Rw(n,t){let e=new Array(n);e.fill(-1);for(let r=0;r<t.length;++r)e[t[r]]=r;const i=[];for(let r=0;r<n;++r)-1===e[r]&&i.push(r);return e=e.filter(r=>-1!==r),{permutationIndices:e,expandDims:i}}function Qg(n,t,e){const i=new Array(n);for(let r=0;r<e.length;++r){const a=e[r].shape;for(let c=0;c<t[r].length;++c)void 0===i[t[r][c]]?i[t[r][c]]=a[c]:Ce(i[t[r][c]]===a[c],()=>`Expected dimension ${i[t[r][c]]} at axis ${c} of input shaped ${JSON.stringify(a)}, but got dimension ${a[c]}`)}}function av(n,t){const e=n,i=[];let r=0;0===n.length&&e.push(-1),r=n.length+1;for(let c=0;c<r;++c)i.push([]);const a=[];for(let c=0;c<e.length;++c){const f=Zg(t,e[c]);for(const p of f)-1===a.indexOf(p)&&(i[c].push(p),a.push(p))}return{path:e,steps:i}}function ch(n){return n.every((t,e)=>t===e)}function Zg(n,t){const e=[];for(let i=0;i<n.length;++i)(0===n[i].length||-1!==n[i].indexOf(t)||-1===t)&&e.push(i);return e}function lD(n,t,e=0){let i=[];if("number"==typeof t)Ce(n.shape[e]%t==0,()=>"Number of splits must evenly divide the axis."),i=new Array(t).fill(n.shape[e]/t);else{Ce(t.reduce((c,u)=>(-1===u&&(c+=1),c),0)<=1,()=>"There should be only one negative value in split array.");const a=t.indexOf(-1);if(-1!==a){const c=t.reduce((u,f)=>f>0?u+f:u);t[a]=n.shape[e]-c}Ce(n.shape[e]===t.reduce((c,u)=>c+u),()=>"The sum of sizes must match the size of the axis dimension."),i=t}return i}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Jg(n){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${n}`}function Nw(n,t){return`indices(${n}, 0) is invalid: ${t} < 0`}function Pw(n,t,e){return`indices(${n}, 0) is invalid: ${t} >= ${e}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function cD(n,t){return`only one output dimension may be -1, not both ${n} and ${t}`}function pm(n,t){return`size ${n} must be non-negative, not ${t}`}function uD(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function dD(n,t){return`Input to reshape is a SparseTensor with ${Tt(n)}\n  dense values, but the requested shape requires a multiple of ${Tt(t)}. inputShape=${n} outputShape= ${t}`}function hD(n,t){return`Input to reshape is a tensor with ${Tt(n)} dense values, but the requested shape has ${Tt(t)}. inputShape=${n} outputShape=${t}`}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Fw(){return"segment ids must be >= 0"}function fD(){return"segment ids are not increasing"}function pD(n,t){return`Segment id ${n} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function mD(n,t,e){return`Bad: indices[${n}] == ${t} out of range [0, ${e})`}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function gD(n,t){let i,e=!1;for(n<=sD?(i=n,e=!0):i=zt(n,Math.floor(Math.sqrt(n)));!e;)i>t||i===n?e=!0:i=zt(n,i+1);return i}function e_(n,t,e){const i=[],r=n.length;for(let a=0;a<r;a++)i.push(a!==t?n[a]:e);return i}function Lw(n,t,e,i){const r=t.shape.length,a=n.shape.length;if(0!==i&&(i<-r||i>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${i}`);if(i<0&&(i+=r),i>a)throw new Error(`batchDims (${i}) must be less than rank(x) (\n    ${a}).`);if(e<i)throw new Error(`batchDims (${i}) must be less than or equal to axis (${e}).`);for(let v=0;v<i;++v)if(n.shape[v]!==t.shape[v])throw new Error(`x.shape[${v}]: ${n.shape[v]} should be equal to indices.shape[${v}]: ${t.shape[v]}.`);const c=n.shape[e],u=[];let f=1,p=1,g=1;for(let v=0;v<i;++v)u.push(n.shape[v]),f*=n.shape[v];for(let v=i;v<e;v++)u.push(n.shape[v]),p*=n.shape[v];for(let v=i;v<r;v++)u.push(t.shape[v]);for(let v=e+1;v<a;v++)u.push(n.shape[v]),g*=n.shape[v];return{batchSize:f,sliceSize:g,outerSize:p,dimSize:c,outputShape:u}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function $h(n){try{return n.map(t=>zc(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function $w(n){return n.map(t=>tc(t))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */!function Kb(){for(const n of Gb)Mi(n)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */();
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const Bw={kernelName:ni,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,nm(Xi(e,"float32"),-1))}}},Vw={kernelName:gi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Pr(Xi(e,"float32")),r=Yr(dr(Wr(1),i));return Ka(zn(n,r))}}}},_D={kernelName:Ui,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Yr(dr(Pr(Xi(e,"float32")),1));return zn(n,i)}}}},pM={kernelName:Ti,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{let u=n;const f=fa(e.shape,r);return f.length>0&&(u=gr(u,f)),Tn(u,e.shape)},b:()=>{let u=n;const f=fa(i.shape,r);return f.length>0&&(u=gr(u,f)),Tn(u,i.shape)}}}},yD={kernelName:Hi,saveAllInputs:!0,gradFunc:(n,t)=>{const e={};return t.forEach((i,r)=>{e[r]=()=>n.clone()}),e}},Uw={kernelName:lr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ps(e)}}},vD={kernelName:ir,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>ps(e)}}},bD={kernelName:Sr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,Yr(dr(Wr(1),Pr(Xi(e,"float32")))))}}},mM={kernelName:Hr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Yr(tt(Wr(1),Pr(Xi(e,"float32"))));return zn(n,i)}}}},gM={kernelName:bs,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=tt(Pr(e),Pr(i));let f=qt(n,zn(i,u));const p=fa(e.shape,r);return p.length>0&&(f=gr(f,p)),Tn(f,e.shape)},b:()=>{const u=tt(Pr(e),Pr(i));let f=Ka(qt(n,zn(e,u)));const p=fa(i.shape,r);return p.length>0&&(f=gr(f,p)),Tn(f,i.shape)}}}},_M={kernelName:vs,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,tt(Pr(Xi(e,"float32")),1))}}},zw={kernelName:Vr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,dr(Wr(1),Pr(Xi(e,"float32"))))}}},wD=pn({avgPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jw(n,t,e,i,r,a){const c=Rt(n,"dy","avgPool3dGrad"),u=Rt(t,"input","avgPool3dGrad");let f=c,p=u,g=!1;4===u.rank&&(g=!0,f=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),p=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Ce(5===f.rank,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`),Ce(5===p.rank,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${p.rank}.`),Cu("avgPool3dGrad",r,a);const V=Me.runKernel(rr,{dy:f,input:p},{filterSize:e,strides:i,pad:r,dimRoundingMode:a});return g?Tn(V,[V.shape[1],V.shape[2],V.shape[3],V.shape[4]]):V}}),Ww={kernelName:Yi,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c,dimRoundingMode:u}=e;return{x:()=>wD(n,i,r,a,c,u)}}},yM=pn({avgPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Hw(n,t,e,i,r){const a=Rt(n,"dy","avgPoolGrad"),c=Rt(t,"input","avgPoolGrad");Ce(c.rank===a.rank,()=>`Rank of input (${c.rank}) does not match rank of dy (${a.rank})`);let u=c,f=a,p=!1;3===c.rank&&(p=!0,u=Tn(c,[1,c.shape[0],c.shape[1],c.shape[2]]),f=Tn(a,[1,a.shape[0],a.shape[1],a.shape[2]])),Ce(4===f.rank,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`),Ce(4===u.rank,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${u.rank}.`);const T=Me.runKernel(ss,{dy:f,input:u},{filterSize:e,strides:i,pad:r});return p?Tn(T,[T.shape[1],T.shape[2],T.shape[3]]):T}}),vM={kernelName:Ss,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{filterSize:r,strides:a,pad:c}=e;return{x:()=>yM(n,i,r,a,c)}}},bM={kernelName:ar,inputsToSave:["a","b"],gradFunc:(n,t,e)=>{const[i,r]=t,{transposeA:a,transposeB:c}=e;return a||c?!a&&c?{a:()=>Es(n,r,!1,!1),b:()=>Es(n,i,!0,!1)}:a&&!c?{a:()=>Es(r,n,!1,!0),b:()=>Es(i,n,!1,!1)}:{a:()=>Es(r,n,!0,!0),b:()=>Es(n,i,!0,!0)}:{a:()=>Es(n,r,!1,!0),b:()=>Es(i,n,!0,!1)}}},wM={kernelName:zi,gradFunc:(n,t,e)=>{const{blockShape:i,crops:r}=e;return{x:()=>Kf(n,i,r)}}},ED={kernelName:"BroadcastTo",gradFunc:(n,t,e)=>{const r=e.inputShape,a=e.shape,c=Array.from(a);for(let f=r.length-1;f>=0;f--)if(r[f]===a[f])c[f]=1;else if(1!==r[f])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${a}].`);const u=[];for(let f=0;f<c.length;f++)c[f]>1&&u.push(f);return{x:()=>gr(n,u,!0)}}},Gw={kernelName:et,gradFunc:n=>({x:()=>n.clone()})},Kw={kernelName:He,gradFunc:n=>({x:()=>ps(n)})},xD={kernelName:kt,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{clipValueMin:r,clipValueMax:a}=e;return{x:()=>rc(Rh(Hf(i,r),Gf(i,a)),n,ps(n))}}},CD={kernelName:Jn,inputsToSave:["x"],gradFunc:Bw.gradFunc},SD={kernelName:Pi,saveAllInputs:!0,gradFunc:(n,t,e)=>{const i=t.map(f=>f.shape),{axis:r}=e,a=wt(r,t[0].shape)[0],c=i.map(f=>f[a]);return Lu(n,c,a).map(f=>()=>f)}},EM={kernelName:sr,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{dilations:a,strides:c,pad:u,dataFormat:f}=e;return Ce(Jh(a),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`),{x:()=>g0(i.shape,n,r,c,u,f),filter:()=>iw(i,n,r.shape,c,u,f)}}},DD={kernelName:Fr,inputsToSave:["dy","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,{strides:a,pad:c,dataFormat:u,dimRoundingMode:f}=e;return{dy:()=>Ih(n,r,a,c,u,1,f),filter:()=>iw(n,i,r.shape,a,c,u,f)}}},Xw=pn({conv3DBackpropFilter_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xM(n,t,e,i,r){let a=n;4===n.rank&&(a=Tn(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]));let c=t;return 4===c.rank&&(c=Tn(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),Ce(5===a.rank,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`),Ce(5===c.rank,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${c.shape}.`),Ce(5===e.length,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${e}.`),Ce(a.shape[4]===e[3],()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${e[3]}.`),Ce(c.shape[4]===e[4],()=>`Error in conv3dDerFilter: depth of dy (${c.shape[4]}) must match output depth for filter (${e[4]}).`),Me.runKernel(ds,{x:a,dy:c},{strides:i,pad:r,filterShape:e})}}),TD={kernelName:Zr,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a}=e;Ce(Jh(i),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const[c,u]=t;return{x:()=>DC(c.shape,n,u,r,a),filter:()=>Xw(c,n,u.shape,r,a)}}},Yw={kernelName:Er,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(Ka(By(Xi(e,"float32"))),n)}}},y2={kernelName:Jr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(cf(Xi(e,"float32")),n)}}},v2={kernelName:ia,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r,exclusive:a,reverse:c}=e;return{x:()=>{const u=_l([r],i.rank);let f=vy(n,r,a,!c);return null!=u&&(f=Bs(f,u)),f}}}},kD={kernelName:Fo,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const{dilations:i,strides:r,pad:a,dimRoundingMode:c}=e,u=i??[1,1];Ce(Jh(u),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${u}'`);const[f,p]=t;return Ce(4===f.rank,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${f.rank}.`),Ce(4===p.rank,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${p.rank}.`),Ce(f.shape[3]===p.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${p.shape[2]}.`),Ce(xc(r,u),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${u}'.`),Cu("depthwiseConv2d",a,c),{x:()=>FS(f.shape,n,p,r,a,u,c),filter:()=>om(f,n,p.shape,r,a,u,c)}}},ID={kernelName:ya,inputsToSave:["x","filter"],gradFunc:(n,t,e)=>{const[i,r]=t,a={x:i,filter:r,dy:n},c={x:i,filter:r,dy:n};return{x:()=>Me.runKernel(ra,a,e),filter:()=>Me.runKernel(bl,c,e)}}},AD={kernelName:La,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t,i={dy:n,y:e};return{x:()=>Me.runKernel(hc,i)}}},qw={kernelName:$a,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=qt(hu(Ka(Pr(e))),2/Math.sqrt(Math.PI));return{x:()=>qt(n,i)}}},MD={kernelName:Lr,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,e)}}},OD={kernelName:Mr,inputsToSave:["input"],gradFunc:(n,t)=>{const[e]=t;return{input:()=>Tn(n,e.shape)}}},RD={kernelName:ao,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,hu(e))}}},ND={kernelName:Ks,gradFunc:n=>({x:()=>ps(n)})},CM={kernelName:lo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=zn(n,Xi(i,"float32")),f=fa(e.shape,r);return f.length>0?Tn(gr(u,f),e.shape):u},b:()=>{let u=qt(n,Xi(e,"float32"));const f=fa(i.shape,r);f.length>0&&(u=Tn(gr(u,f),i.shape));const p=Pr(i);return Ka(zn(u,Xi(p,"float32")))}}}},b2={kernelName:ba,inputsToSave:["x","mean","variance","scale"],gradFunc:(n,t,e)=>{const{varianceEpsilon:i}=e,[r,a,c,u]=t,f=u??Wr(1),p=fa(a.shape,r.shape),g=[];if(1===a.rank){for(let it=0;it<r.shape.length-1;++it)g.push(r.shape[it]);g.push(1)}const v=dr(r,a),T=qt(n,f),V=Ly(tt(c,Wr(i))),Y=qt(qt(qt(V,V),V),Wr(-.5));return{x:()=>Tn(qt(qt(n,1===a.rank?Zu(Tn(V,[1,1,1,a.shape[0]]),g):V),f),r.shape),mean:()=>{let it=qt(qt(V,Wr(-1)),T);return 1===a.rank&&(it=gr(it,p)),Tn(it,a.shape)},variance:()=>{let it=qt(qt(Y,v),T);return 1===a.rank&&(it=gr(it,p)),Tn(it,a.shape)},scale:()=>{const it=qt(v,V);let St=qt(n,it);return 1===a.rank&&(St=gr(St,p)),Tn(St,a.shape)},offset:()=>{let it=n;return 1===a.rank&&(it=gr(it,p)),Tn(it,a.shape)}}}},w2={kernelName:Lo,inputsToSave:["x","indices"],gradFunc:(n,t,e)=>{const[i,r]=t,{axis:a,batchDims:c}=e,u=wt(a,i.shape)[0],f=(p,g,v)=>()=>{const T=p.shape,V=g.size,Y=T.slice(0,u),ae=Y.length,te=T.slice(a,T.length).slice(1),_e=te.length,Te=SM(0,ae),nt=SM(ae+1,ae+1+_e),it=DM([Y,[V],te]),St=Tn(v,it),Xt=Tn(g,[V]),sn=DM([[ae],Te,nt]),dn=Bs(St,sn);let wn=im(dn,Xt,p.shape[u]);const Cn=rf(sn);return wn=Bs(wn,Cn),wn};if(1===c){const g=i.split(i.shape[0],0);return{x:()=>pa(g.map((V,Y)=>f(V,r.slice(Y,1),n.slice(Y,1))())).reshape(i.shape),indices:()=>r}}return{x:f(i,r,n),indices:()=>r}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function SM(n,t){const e=[];for(let i=n;i<t;++i)e.push(i);return e}function DM(n){const t=[];for(let e=0;e<n.length;++e)for(let i=0;i<n[e].length;++i)t.push(n[e][i]);return t}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const PD={kernelName:Eo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>ps(e),b:()=>ps(i)}}},TM={kernelName:Ba,gradFunc:n=>({x:()=>Xi(n,"float32")})},kM={kernelName:wa,gradFunc:n=>({x:()=>ps(n)})},E2={kernelName:kr,gradFunc:n=>({x:()=>ps(n)})},FD={kernelName:ws,gradFunc:n=>({x:()=>ps(n)})},LD={kernelName:oa,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{alpha:r}=e,a=Pu(i,0);return{x:()=>rc(a,n,qt(n,r))}}},x2={kernelName:Oi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,tt(e,1))}}},C2={kernelName:al,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,Xi(e,"float32"))}}},S2={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;return{logits:()=>{const c=hu(i);return dr(n,qt(gr(n,r,!0),c))}}}},T2=pn({localResponseNormalizationBackprop_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D2(n,t,e,i=5,r=1,a=1,c=.5){return Me.runKernel(aa,{x:n,y:t,dy:e},{depthRadius:i,bias:r,alpha:a,beta:c})}}),k2={kernelName:Qo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{depthRadius:a,bias:c,alpha:u,beta:f}=e;return{x:()=>T2(i,r,n,a,c,u,f)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function IM(n,t,e,i){return t.rank<e.rank&&(t=Tn(t,gl(t.shape,i))),n.rank<e.rank&&(n=Tn(n,gl(n.shape,i))),{x:()=>qt(n,Xi(Qu(e,t),n.dtype))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const AM={kernelName:Ea,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{reductionIndices:r}=i,a=t[0],f=IM(n,t[1],a,wt(r,a.shape));return{x:()=>f.x()}}},I2={kernelName:Bo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>qt(n,Xi(Hf(e,i),"float32")),b:()=>qt(n,Xi(Ju(e,i),"float32"))}}},mm=pn({maxPool3dGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MM(n,t,e,i,r,a,c){const u=Rt(n,"dy","maxPool3dGrad"),f=Rt(t,"input","maxPool3dGrad"),p=Rt(e,"output","maxPool3dGrad");let g=u,v=f,T=p,V=!1;4===f.rank&&(V=!0,g=Tn(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),v=Tn(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),T=Tn(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),Ce(5===g.rank,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${g.rank}.`),Ce(5===v.rank,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${v.rank}.`),Ce(5===T.rank,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${T.rank}.`),Cu("maxPool3dGrad",a,c);const te=Me.runKernel(Rs,{dy:g,input:v,output:T},{filterSize:i,strides:r,pad:a,dimRoundingMode:c});return V?Tn(te,[te.shape[1],te.shape[2],te.shape[3],te.shape[4]]):te}}),t_={kernelName:wl,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=e;return{x:()=>mm(n,i,r,a,c,u,f)}}},A2=pn({maxPoolGrad_:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function OM(n,t,e,i,r,a,c){const u=Rt(n,"dy","maxPoolGrad"),f=Rt(t,"input","maxPoolGrad"),p=Rt(e,"output","maxPoolGrad");return Ce(f.rank===u.rank,()=>`Rank of input (${f.rank}) does not match rank of dy (${u.rank})`),Ce(4===u.rank,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),Ce(4===f.rank,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${f.rank}.`),Cu("maxPoolGrad",a,c),Me.runKernel(ll,{dy:u,input:f,output:p},{filterSize:i,strides:r,pad:a,dimRoundingMode:c})}}),Qw={kernelName:Se,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>mo(n,a,i.shape)}}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const uv={kernelName:Ji,gradFunc:(n,t,e)=>{const{blockShape:i,paddings:r}=e;return{x:()=>gy(n,i,r)}}},dv={kernelName:$r,gradFunc:(n,t,e)=>{const{axis:i}=e;return{x:()=>Wl(n,i)}}},fv=[Bw,Vw,_D,pM,yD,Uw,vD,bD,mM,gM,_M,zw,Ww,vM,bM,wM,ED,Gw,Kw,xD,CD,SD,DD,EM,TD,Yw,y2,v2,kD,ID,{kernelName:Fa,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=zn(n,Xi(i,"float32")),f=fa(e.shape,r);return f.length>0?Tn(gr(u,f),e.shape):u},b:()=>{let u=qt(n,Xi(e,"float32"));const f=fa(i.shape,r);f.length>0&&(u=Tn(gr(u,f),i.shape));const p=Pr(i);return Ka(zn(u,Xi(p,"float32")))}}}},AD,qw,MD,OD,RD,CM,ND,b2,w2,PD,TM,kM,E2,FD,LD,x2,C2,S2,k2,AM,AM,I2,t_,{kernelName:Ua,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i,r]=t,{filterSize:a,strides:c,pad:u}=e;return{x:()=>A2(n,i,r,a,c,u)}}},{kernelName:la,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e,a=wt(r,i.shape),f=Tt(Cc(i.shape,a)[1]);return{x:()=>{const g=i.shape.slice();a.forEach(V=>{g[V]=1});const v=Tn(n,g);return zn(qt(v,oc(i.shape,"float32")),f)}}}},{kernelName:es,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(n,t,e)=>{const i=e,{axis:r}=i,[a,c]=t,f=IM(n,c,a,wt(r,a.shape));return{x:()=>f.x()}}},{kernelName:Ja,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t;return{a:()=>qt(n,Xi(Gf(e,i),"float32")),b:()=>qt(n,Xi(Pu(e,i),"float32"))}}},{kernelName:co,inputsToSave:["x"],gradFunc:(n,t,e)=>{const i=t[0],{paddings:r}=e,a=r.map(c=>c[0]);return{x:()=>mo(n,a,i.shape)}}},{kernelName:xa,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=fa(e.shape,r);return u.length>0?Tn(gr(n,u),e.shape):n},b:()=>{const u=qt(n,Ka(jp(zn(e,i)))),f=fa(i.shape,r);return f.length>0?Tn(gr(u,f),i.shape):u}}}},{kernelName:Zo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{const u=qt(n,Xi(i,"float32")),f=fa(e.shape,r);return f.length>0?Tn(gr(u,f),e.shape):u},b:()=>{const u=qt(n,Xi(e,"float32")),f=fa(i.shape,r);return f.length>0?Tn(gr(u,f),i.shape):u}}}},{kernelName:ul,gradFunc:n=>({x:()=>Ka(n)})},{kernelName:jt,inputsToSave:["indices"],gradFunc:(n,t)=>{const e=t[0];return{indices:()=>sc(e.shape,"float32")}}},{kernelName:Us,gradFunc:n=>({x:()=>ps(n)})},{kernelName:de,saveAllInputs:!0,gradFunc:(n,t,e)=>{const{axis:i}=e;return Pd(n,i).map(a=>()=>a)}},Qw,Qw,{kernelName:le,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(n,t)=>{const[e,i,r]=t,a=e,c=i,u=Ts(a.shape,c.shape);return{a:()=>{const g=Xi(c,"float32");let v=qt(n,qt(g,ih(a,dr(g,Wr(1)))));const T=fa(a.shape,u);return T.length>0&&(v=gr(v,T)),Tn(v,a.shape)},b:()=>{const g=Pu(a,0),v=rc(g,ed(a),ps(a));let T=qt(n,qt(r,v));const V=fa(c.shape,u);return V.length>0&&(T=gr(T,V)),Tn(T,c.shape)}}}},{kernelName:ie,inputsToSave:["x","alpha"],gradFunc:(n,t)=>{const[e,i]=t,r=Pu(e,0);return{x:()=>rc(r,n,qt(n,i)),alpha:()=>{let a=rc(r,ps(n),qt(n,e));const c=fa(i.shape,n.shape);return c.length>0&&(a=gr(a,c)),Tn(a,i.shape)}}}},{kernelName:ze,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{axis:r}=e;let a=[];return a=null==r?i.shape.map((c,u)=>u):"number"==typeof r?[r]:r,{x:()=>function Zw(n,t,e){const i=n.shape.length,r=i-e.length,a=_l(e,i);let c=n;null!=a&&(c=Bs(n,a));const u=c.shape.slice(),p=u.splice(i-e.length,e.length).reduce((T,V)=>T*V,1);u.push(p);let v=
/**
       * @license
       * Copyright 2022 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function UD(n,t,e){const i=n.shape.slice();i[e]=1;const r=Tn(t,i),a=Vf(n,e,!0,!1),c=Vf(n,e,!0,!0),u=qt(a,c);return qt(r,u)}(c.reshape(u),t,r);if(v=v.reshape(c.shape),null!=a){const T=rf(a);v=Bs(v,T)}return v}(i,n,a)}}},{kernelName:fr,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,Ka(Pr(e)))}}},{kernelName:Ns,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t,i=qt(Gf(e,6),nm(e));return{x:()=>qt(n,Xi(i,"float32"))}}},{kernelName:Ur,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,Xi(nm(e),"float32"))}}},{kernelName:ur,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Tn(n,e.shape)}}},{kernelName:Cr,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Me.runKernel(zs,r,e)}}},{kernelName:Or,inputsToSave:["images"],gradFunc:(n,t,e)=>{const[i]=t,r={dy:n,images:i};return{images:()=>Me.runKernel(Zs,r,e)}}},{kernelName:Xs,gradFunc:(n,t,e)=>{const{dims:i}=e,r=wt(i,n.shape);return{x:()=>Du(n,r)}}},{kernelName:Sa,gradFunc:n=>({x:()=>ps(n)})},{kernelName:ca,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>Ka(zn(n,qt(ih(e,1.5),2)))}}},{kernelName:cn,inputsToSave:["condition"],gradFunc:(n,t)=>{const[e]=t;return{condition:()=>Xi(ps(e),"float32"),t:()=>qt(n,Xi(e,n.dtype)),e:()=>qt(n,Xi(Xp(e),n.dtype))}}},{kernelName:tn,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>{const i=Pu(e,Wr(0)),r=Wr(hm),a=Wr(nv),c=qt(n,a),u=qt(qt(n,r),hu(Xi(e,"float32")));return rc(i,c,u)}}}},{kernelName:jn,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,qt(e,dr(Wr(1),e)))}}},{kernelName:Qn,gradFunc:n=>({x:()=>ps(n)})},{kernelName:ln,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(fg(Xi(e,"float32")),n)}}},{kernelName:Ln,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(v0(Xi(e,"float32")),n)}}},{kernelName:kn,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{begin:r,size:a}=e,c=i.shape,[u,f]=ig(i,r,a),p=[];for(let g=0;g<n.rank;g++)p.push([u[g],c[g]-u[g]-f[g]]);return{x:()=>sh(n,p)}}},{kernelName:os,outputsToSave:[!0],gradFunc:(n,t,e)=>{const[i]=t,{dim:r}=e,c=qt(n,i);return{logits:()=>dr(c,qt(gr(c,[r],!0),i))}}},{kernelName:mi,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,qu(e))}}},uv,uv,dv,dv,{kernelName:ti,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,qt(Yr(Xi(e,"float32")),2))}}},{kernelName:Jo,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Wr(2);return{a:()=>qt(n,qt(r,dr(e,i))),b:()=>qt(n,qt(r,dr(i,e)))}}},{kernelName:Js,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(n,qt(Xi(e,"float32"),2))}}},{kernelName:Mc,gradFunc:n=>({x:()=>ps(n)})},{kernelName:Ic,inputsToSave:["a","b"],gradFunc:(n,t)=>{const[e,i]=t,r=Ts(e.shape,i.shape);return{a:()=>{let u=n;const f=fa(e.shape,r);return f.length>0&&(u=gr(u,f)),Tn(u,e.shape)},b:()=>{let u=n;const f=fa(i.shape,r);return f.length>0&&(u=gr(u,f)),Tn(Ka(u),i.shape)}}}},{kernelName:Ii,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,r=i.shape.slice(),{axis:a}=e;wt(a,i.shape).forEach(p=>{r[p]=1});const u=Tn(n,r),f=qt(u,oc(i.shape,"float32"));return{x:()=>f}}},{kernelName:yu,inputsToSave:["x"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>zn(n,Pr(fg(e)))}}},{kernelName:hs,outputsToSave:[!0],gradFunc:(n,t)=>{const[e]=t;return{x:()=>qt(dr(Wr(1),Pr(e)),n)}}},{kernelName:ja,inputsToSave:["x"],gradFunc:(n,t,e)=>{const[i]=t,{reps:r}=e;return{x:()=>{let c=ps(i);if(1===i.rank)for(let u=0;u<r[0];++u)c=tt(c,mo(n,[u*i.shape[0]],[i.shape[0]]));else if(2===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)c=tt(c,mo(n,[u*i.shape[0],f*i.shape[1]],[i.shape[0],i.shape[1]]));else if(3===i.rank)for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)c=tt(c,mo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else{if(4!==i.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${i.rank} tensors yet.`);for(let u=0;u<r[0];++u)for(let f=0;f<r[1];++f)for(let p=0;p<r[2];++p)for(let g=0;g<r[3];++g)c=tt(c,mo(n,[u*i.shape[0],f*i.shape[1],p*i.shape[2],g*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]))}return c}}}},{kernelName:xl,gradFunc:(n,t,e)=>{const i=e,{perm:r}=i,a=rf(r);return{x:()=>Bs(n,a)}}},{kernelName:ho,gradFunc:(n,t,e)=>{const i=e,{axis:r}=i;return{value:()=>pa(n,r)}}},{kernelName:da,inputsToSave:["segmentIds"],gradFunc:(n,t)=>{const[e]=t;return{x:()=>function Gl(n,t){const e=qc(t,ps(t)),i=Wf(n,e);let r=Hf(t,Wr(0,"int32"));const a=i.rank-r.rank;for(let u=0;u<a;++u)r=Hl(r,u+1);r=Rh(r,oc(i.shape,"bool"));const c=ps(i);return rc(r,i,c)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(n,e)}}},{kernelName:Ac,gradFunc:n=>({x:()=>ps(n)})}];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of fv)ro(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */G().prototype.abs=function(){return this.throwIfDisposed(),jl(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.acos=function(){return this.throwIfDisposed(),l0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.acosh=function(){return this.throwIfDisposed(),Ff(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.add=function(n){return this.throwIfDisposed(),tt(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.all=function(n,t){return this.throwIfDisposed(),rg(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.any=function(n,t){return this.throwIfDisposed(),sg(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.argMax=function(n){return this.throwIfDisposed(),Fp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.argMin=function(n){return this.throwIfDisposed(),cy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.asScalar=function(){return this.throwIfDisposed(),Ce(1===this.size,()=>"The array must have only 1 element."),Tn(this,[])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.asType=function(n){return this.throwIfDisposed(),Xi(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.as1D=function(){return this.throwIfDisposed(),Tn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.as2D=function(n,t){return this.throwIfDisposed(),Tn(this,[n,t])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.as3D=function(n,t,e){return this.throwIfDisposed(),Tn(this,[n,t,e])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.as4D=function(n,t,e,i){return this.throwIfDisposed(),Tn(this,[n,t,e,i])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.as5D=function(n,t,e,i,r){return this.throwIfDisposed(),Tn(this,[n,t,e,i,r])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.asin=function(){return this.throwIfDisposed(),c0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.asinh=function(){return this.throwIfDisposed(),uC(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.atan=function(){return this.throwIfDisposed(),u0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.atan2=function(n){return this.throwIfDisposed(),d0(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.atanh=function(){return this.throwIfDisposed(),dC(this)},G().prototype.avgPool=function(n,t,e,i){return this.throwIfDisposed(),kh(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.batchToSpaceND=function(n,t){return this.throwIfDisposed(),gy(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.batchNorm=function(n,t,e,i,r){return this.throwIfDisposed(),$p(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.broadcastTo=function(n){return this.throwIfDisposed(),Bf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.cast=function(n){return this.throwIfDisposed(),Xi(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.ceil=function(){return this.throwIfDisposed(),p0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.clipByValue=function(n,t){return this.throwIfDisposed(),Su(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.concat=function(n,t){return this.throwIfDisposed(),n instanceof so&&(n=[n]),Wl([this,...n],t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.conv1d=function(n,t,e,i,r,a){return this.throwIfDisposed(),yy(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.conv2dTranspose=function(n,t,e,i,r){return this.throwIfDisposed(),_0(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.conv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),Ih(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.cos=function(){return this.throwIfDisposed(),fg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.cosh=function(){return this.throwIfDisposed(),v0(this)},
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the 'License');
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an 'AS IS' BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.cumprod=function(n,t,e){return this.throwIfDisposed(),Vf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.cumsum=function(n,t,e){return this.throwIfDisposed(),vy(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.depthToSpace=function(n,t){return this.throwIfDisposed(),kC(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.depthwiseConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),pg(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.dilation2d=function(n,t,e,i,r){return this.throwIfDisposed(),IC(this,n,t,e,i,r)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.divNoNan=function(n){return this.throwIfDisposed(),Up(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.div=function(n){return this.throwIfDisposed(),zn(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.dot=function(n){return this.throwIfDisposed(),Uf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.elu=function(){return this.throwIfDisposed(),zf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.equal=function(n){return this.throwIfDisposed(),Qu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.erf=function(){return this.throwIfDisposed(),S0(this)},
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.euclideanNorm=function(n,t){return this.throwIfDisposed(),RC(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.exp=function(){return this.throwIfDisposed(),hu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.expandDims=function(n){return this.throwIfDisposed(),Hl(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.expm1=function(){return this.throwIfDisposed(),yg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.fft=function(){return this.throwIfDisposed(),Ig(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.flatten=function(){return this.throwIfDisposed(),Tn(this,[this.size])},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.floor=function(){return this.throwIfDisposed(),jp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.floorDiv=function(n){return this.throwIfDisposed(),mn(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.gather=function(n,t,e){return this.throwIfDisposed(),Wf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.greaterEqual=function(n){return this.throwIfDisposed(),Hf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.greater=function(n){return this.throwIfDisposed(),Pu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.ifft=function(){return this.throwIfDisposed(),Ag(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.irfft=function(){return this.throwIfDisposed(),K0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.isFinite=function(){return this.throwIfDisposed(),T0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.isInf=function(){return this.throwIfDisposed(),sf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.isNaN=function(){return this.throwIfDisposed(),UC(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.leakyRelu=function(n){return this.throwIfDisposed(),Dy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.lessEqual=function(n){return this.throwIfDisposed(),Gf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.less=function(n){return this.throwIfDisposed(),Ju(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.localResponseNormalization=function(n,t,e,i){return this.throwIfDisposed(),zC(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logSigmoid=function(){return this.throwIfDisposed(),Kp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logSoftmax=function(n){return this.throwIfDisposed(),ky(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logSumExp=function(n,t){return this.throwIfDisposed(),k0(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.log=function(){return this.throwIfDisposed(),ed(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.log1p=function(){return this.throwIfDisposed(),Ty(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logicalAnd=function(n){return this.throwIfDisposed(),Rh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logicalNot=function(){return this.throwIfDisposed(),Xp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logicalOr=function(n){return this.throwIfDisposed(),GC(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.logicalXor=function(n){return this.throwIfDisposed(),XC(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.matMul=function(n,t,e){return this.throwIfDisposed(),Es(this,n,t,e)},G().prototype.maxPool=function(n,t,e,i){return this.throwIfDisposed(),vg(this,n,t,e,i)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.max=function(n,t){return this.throwIfDisposed(),Nu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.maximum=function(n){return this.throwIfDisposed(),qc(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.mean=function(n,t){return this.throwIfDisposed(),tl(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.min=function(n,t){return this.throwIfDisposed(),xy(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.minimum=function(n){return this.throwIfDisposed(),Nh(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.mirrorPad=function(n,t){return this.throwIfDisposed(),tS(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.mod=function(n){return this.throwIfDisposed(),nS(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.mul=function(n){return this.throwIfDisposed(),qt(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.neg=function(){return this.throwIfDisposed(),Ka(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.norm=function(n,t,e){return this.throwIfDisposed(),jf(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.notEqual=function(n){return this.throwIfDisposed(),Yp(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.oneHot=function(n,t=1,e=0){return this.throwIfDisposed(),M0(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.onesLike=function(){return this.throwIfDisposed(),td(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.pad=function(n,t){return this.throwIfDisposed(),sh(this,n,t)},G().prototype.pool=function(n,t,e,i,r,a){return this.throwIfDisposed(),R0(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.pow=function(n){return this.throwIfDisposed(),ih(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.prelu=function(n){return this.throwIfDisposed(),Eg(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.prod=function(n,t){return this.throwIfDisposed(),Xf(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.reciprocal=function(){return this.throwIfDisposed(),$0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.relu=function(){return this.throwIfDisposed(),Rd(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.relu6=function(){return this.throwIfDisposed(),B0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.reshapeAs=function(n){return this.throwIfDisposed(),Tn(this,n.shape)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.reshape=function(n){return this.throwIfDisposed(),Tn(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.resizeBilinear=function(n,t,e){return this.throwIfDisposed(),cm(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.resizeNearestNeighbor=function(n,t,e){return this.throwIfDisposed(),pw(this,n,t,e)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.reverse=function(n){return this.throwIfDisposed(),Du(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.rfft=function(){return this.throwIfDisposed(),Vy(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.round=function(){return this.throwIfDisposed(),Sg(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.rsqrt=function(){return this.throwIfDisposed(),Ly(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.selu=function(){return this.throwIfDisposed(),Qp(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.separableConv2d=function(n,t,e,i,r,a){return this.throwIfDisposed(),$y(this,n,t,e,i,r,a)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sigmoid=function(){return this.throwIfDisposed(),qu(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sign=function(){return this.throwIfDisposed(),j0(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sin=function(){return this.throwIfDisposed(),By(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sinh=function(){return this.throwIfDisposed(),cf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.slice=function(n,t){return this.throwIfDisposed(),mo(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.softmax=function(n){return this.throwIfDisposed(),tm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.softplus=function(){return this.throwIfDisposed(),Mh(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.spaceToBatchND=function(n,t){return this.throwIfDisposed(),Kf(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.split=function(n,t){return this.throwIfDisposed(),Lu(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sqrt=function(){return this.throwIfDisposed(),Yr(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.square=function(){return this.throwIfDisposed(),Pr(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.squaredDifference=function(n){return this.throwIfDisposed(),Uy(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.squeeze=function(n){return this.throwIfDisposed(),Zf(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.stack=function(n,t){this.throwIfDisposed();const e=n instanceof so?[this,n]:[this,...n];return pa(e,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.step=function(n){return this.throwIfDisposed(),nm(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.stridedSlice=function(n,t,e,i,r,a,c,u){return this.throwIfDisposed(),zy(this,n,t,e,i,r,a,c,u)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sub=function(n){return this.throwIfDisposed(),dr(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.sum=function(n,t){return this.throwIfDisposed(),gr(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.tan=function(){return this.throwIfDisposed(),DS(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.tanh=function(){return this.throwIfDisposed(),tf(this)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.tile=function(n){return this.throwIfDisposed(),Zu(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.toBool=function(){return this.throwIfDisposed(),Xi(this,"bool")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.toFloat=function(){return this.throwIfDisposed(),Xi(this,"float32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.toInt=function(){return this.throwIfDisposed(),Xi(this,"int32")},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.topk=function(n,t){return this.throwIfDisposed(),Nd(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.transpose=function(n){return this.throwIfDisposed(),Bs(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.unique=function(n){return this.throwIfDisposed(),Q0(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.unsortedSegmentSum=function(n,t){return this.throwIfDisposed(),im(this,n,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.unstack=function(n){return this.throwIfDisposed(),Pd(this,n)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.where=function(n,t){return this.throwIfDisposed(),rc(n,this,t)},
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
G().prototype.zerosLike=function(){return this.throwIfDisposed(),ps(this)};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Kl extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Kl.prototype)}}class Jc extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Jc.prototype)}}class In extends Error{constructor(t){super(t),Object.setPrototypeOf(this,In.prototype)}}class xs extends Error{constructor(t){super(t),Object.setPrototypeOf(this,xs.prototype)}}class i_ extends Error{constructor(t){super(t),Object.setPrototypeOf(this,i_.prototype)}}Error;
/**
       * @license
       * Copyright 2022 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class nE{constructor(t){this.maxEntries=t||100,this.cache=new Map}get(t){let e;return this.cache.has(t)&&(e=this.cache.get(t),this.cache.delete(t),this.cache.set(t,e)),e}put(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,e)}getMaxEntries(){return this.maxEntries}setMaxEntries(t){if(t<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${t}.`);if(this.maxEntries>t)for(let e=0;e<this.maxEntries-t;e++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function lp(n,t){if(Array.isArray(n)){let e=[];for(let i=0;i<t;i++)e=e.concat(n);return e}{const e=new Array(t);return e.fill(n),e}}function rd(n,t){if(!n)throw new i_(t)}function Ll(n,t){let e=0;for(const i of n)i===t&&e++;return e}function pu(n){return 1===n.length?n[0]:n}function Wo(n){return Array.isArray(n)?n:[n]}function sd(n){const e=n.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function bd(n){return n.length<=1||-1===n.indexOf("_")?n:n.replace(/[_]+(\w|$)/g,(t,e)=>e.toUpperCase())}let ku={};function cp(n){if(null==n)return null;const t={};return t.className=n.getClassName(),t.config=n.getConfig(),t}function gm(n){if(null!=n&&"object"==typeof n)if(Array.isArray(n))n.forEach(t=>gm(t));else{const t=Object.keys(n);for(const e of t){const i=n[e];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?gm(i):n[e]=i.value)}}}function _m(n,t={},e={},i="object",r=!1){if("string"==typeof n){let c;if(n in e)c=e[n];else if(n in ku)c=ku[n];else if(c=t[n],null==c)throw new In(`Unknown ${i}: ${n}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return c}{const a=n;if(null==a.className||null==a.config)throw new In(`${i}: Improper config format: ${JSON.stringify(a)}.\n'className' and 'config' must set.`);const c=a.className;let u,f;if(c in e?[u,f]=e[c]:c in ku?[u,f]=ku.className:c in t&&([u,f]=t[c]),null==u)throw new In(`Unknown ${i}: ${c}. This may be due to one of the following reasons:\n1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=f){const p={};for(const V of Object.keys(ku))p[V]=ku[V];for(const V of Object.keys(e))p[V]=e[V];a.config.customObjects=p;const v=Object.assign({},ku);for(const V of Object.keys(e))ku[V]=e[V];gm(a.config);const T=f(u,a.config,e,r);return ku=Object.assign({},v),T}{const p=Object.assign({},ku);for(const v of Object.keys(e))ku[v]=e[v];const g=new u(a.config);return ku=Object.assign({},p),g}}}function r_(n,t){return-1*function YD(n,t){return n<t?-1:n>t?1:0}(n,t)}function Bh(n){if(null==n)return n;const t=[];for(const e of n)-1===t.indexOf(e)&&t.push(e);return t}function pv(n){if(null==n)throw new In(`Invalid value in obj: ${JSON.stringify(n)}`);for(const t in n)if(n.hasOwnProperty(t))return!1;return!0}function od(n,t,e){if(null!=e&&n.indexOf(e)<0)throw new In(`${e} is not a valid ${t}.  Valid values are ${n} or null/undefined.`)}function rE(n,t,e=0,i=1/0){return rd(e>=0),rd(i>=e),Array.isArray(n)&&n.length>=e&&n.length<=i&&n.every(r=>typeof r===t)}function Ho(n,t){Array.isArray(n)?(Ce(n.length>0,()=>`${t} is unexpectedly an empty array.`),n.forEach((e,i)=>Ho(e,`element ${i+1} of ${t}`))):Ce(Number.isInteger(n)&&n>0,()=>`Expected ${t} to be a positive integer, but got ${QD(n)}.`)}function QD(n){return null===n?"null":Array.isArray(n)?"["+n.map(t=>QD(t)).join(",")+"]":"string"==typeof n?`"${n}"`:`${n}`}function mv(n){return"relu"===n?"relu":"linear"===n?"linear":"elu"===n?"elu":null}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let ZD=0;function JD(){return ZD++}const sE={};function gv(n=""){return n in sE||(sE[n]=0),sE[n]+=1,n+sE[n].toString()
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}const _v=["channelsFirst","channelsLast"],oE=["nearest","bilinear"],aE=["valid","same","causal"],ym=["max","avg"],eT=["sum","mul","concat","ave"],Ld=new Map;
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function yl(n){od(_v,"DataFormat",n)}function $u(n){od(aE,"PaddingMode",n)}function cE(n){od(ym,"PoolMode",n)}const vm=[];function up(n,t){vm.push(n);try{const e=t();return vm.pop(),e}catch(e){throw vm.pop(),e}}function uE(n){if(!iT(n))throw new Error("Not a valid tensor name: '"+n+"'");return function bm(){return 0===vm.length?"":vm.join("/")+"/"}()+n}function nT(n){if(!iT(n))throw new Error("Not a valid tensor name: '"+n+"'");Ld.has(n)||Ld.set(n,0);const t=Ld.get(n);if(Ld.set(n,Ld.get(n)+1),t>0){const e=`${n}_${t}`;return Ld.set(e,1),e}return n}const iO=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function iT(n){return!!n.match(iO)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function rT(n){return n===parseInt(n.toString(),10)}function Vh(n,t,e){null==t&&(t=0),null==e&&(e=n.length);let i=1;for(let r=t;r<e;++r)i*=n[r];return i}function wm(n){if(0===n.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i<t&&(t=i)}return t}function dp(n){if(0===n.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let e=0;e<n.length;e++){const i=n[e];i>t&&(t=i)}return t}function $d(n,t){if(t<n)throw new In(`end (${t}) < begin (${n}) is forbidden.`);const e=[];for(let i=n;i<t;++i)e.push(i);return e}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */let yv;function lc(){return null==yv&&(yv=pi().epsilon()),yv}function dh(n,t){return Xi(n,t)}function s_(n,t=-1){const e=n.shape.slice();return t<0&&(t=e.length+t+1),e.splice(t,0,1),Tn(n,e)}function df(n,t,e){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:return Zp(n,[t,0],[e,n.shape[1]]);case 3:return Jp(n,[t,0,0],[e,n.shape[1],n.shape[2]]);case 4:return em(n,[t,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3]]);case 5:return mo(n,[t,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4]]);case 6:return mo(n,[t,0,0,0,0,0],[e,n.shape[1],n.shape[2],n.shape[3],n.shape[4],n.shape[5]]);default:throw new In(`sliceAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}})}function vv(n,t,e){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:return Zp(n,[0,t],[n.shape[0],e]);case 3:return Jp(n,[0,0,t],[n.shape[0],n.shape[1],e]);case 4:return em(n,[0,0,0,t],[n.shape[0],n.shape[1],n.shape[2],e]);default:throw new In(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function Vd(n,t,e,i){return k(()=>{switch(n.rank){case 1:return Tg(n,t,e);case 2:switch(i){case 1:return df(n,t,e);case 2:return vv(n,t,e);default:throw new In(`The axis is not within the rank of the tensor ${i}`)}case 3:switch(i){case 1:return df(n,t,e);case 2:return Jp(n,[0,t,0],[n.shape[0],e,n.shape[2]]);case 3:return vv(n,t,e);default:throw new In(`The axis is not within the rank of the tensor ${i}`)}case 4:switch(i){case 1:return df(n,t,e);case 2:return em(n,[0,t,0,0],[n.shape[0],e,n.shape[2],n.shape[3]]);case 3:return em(n,[0,0,t,0],[n.shape[0],n.shape[1],e,n.shape[3]]);case 4:return vv(n,t,e);default:throw new In(`The axis is not within the rank of the tensor ${i}`)}default:throw new In(`sliceAlongLastAxis() received an unsupported tensor rank: ${n.rank}`)}})}function o_(n,t=-1){let e;return t<0&&(e=n[0].rank,t=0!==e?e:0),t===n[0].rank&&(t=-1),Wl(n,t)}function aT(n,t){switch(n.rank){case 1:return yC([n,t]);case 2:return vC([n,t],0);case 3:return m0([n,t],0);case 4:return hg([n,t],0);default:throw new In(`concatAlongFirstAxis() received an unsupported tensor rank: ${n.rank}`)}}function bv(n,t){if(Array.isArray(t)||(t=[t]),n.rank!==t.length)throw new In(`The length of input n (${t.length}) does not match the number of dimensions in input x (${n.rank})`);return Zu(n,t)}function wv(n,t=0,e=1,i,r){return Ny(n,t,e,i,r)}function Ud(n,t,e,i){if(n.rank<2||t.rank<2)throw new xs(`dot requires both inputs to be rank >= 2 but got x shape = ${n.shape} and y shape = ${t.shape}`);if(t.rank>=3&&n.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new xs(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${n.shape} and  y shape = ${t.shape}`);if(2===n.rank&&2===t.rank)return Lg({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?hf(n.rank,i,"channelsLast"):null,activation:e});{const r=n.shape.slice(),a=r.pop();n=Tn(n,[-1,a]);const c=t.shape.slice(),u=c.pop(),f=c.pop(),p=[...c,u],g=Array.from({length:t.rank},(Y,ae)=>0===ae?t.rank-2:ae<=t.rank-2?ae-1:ae);t=Tn(Bs(t,g),[f,-1]);const v=[...r,...p];return Tn(Lg({a:n,b:t,transposeA:!1,transposeB:!1,bias:i?hf(n.rank,i,"channelsLast"):null,activation:e}),v)}}function xv(n,t,e){return k(()=>(t=Array.isArray(t)?Qc(t,"int32"):Xi(t,"int32"),Wf(n,t,e)))}function hh(n){return qt(n,n)}function hf(n,t,e){const i=t.shape;if(1!==t.rank&&t.rank!==n)throw new In(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${n}`);if(5===n){if("channelsFirst"===e)return Tn(t,1===i.length?[1,i[0],1,1,1]:[1,i[3],i[0],i[1],i[2]]);if("channelsLast"===e)return Tn(t,1===i.length?[1,1,1,1,i[0]]:[1].concat(i))}else if(4===n){if("channelsFirst"===e)return Tn(t,1===i.length?[1,i[0],1,1]:[1,i[2],i[0],i[1]]);if("channelsLast"===e)return Tn(t,1===i.length?[1,1,1,i[0]]:[1].concat(i))}else if(3===n){if("channelsFirst"===e)return Tn(t,1===i.length?[1,i[0],1]:[1,i[1],i[0]]);if("channelsLast"===e)return Tn(t,1===i.length?[1,1,i[0]]:[1].concat(i))}else if(n<3)return t;throw new In(`Unsupported input rank by biasAdd: ${t.rank}`)}function ad(n,t,e){return k(()=>(null==e&&(e="channelsLast"),yl(e),tt(n,hf(n.rank,t,e))))}function hp(n,t,e,i){return k(()=>RS(n,t,e,i))}function fh(n,t,e=!1){return e?n():t()}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const Sm=["fanIn","fanOut","fanAvg"],Dm=["normal","uniform","truncatedNormal"];
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class ld extends As{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}Mi((()=>{class n extends ld{apply(e,i){return sc(e,i)}}return n.className="Zeros",n})());let hE=(()=>{class n extends ld{apply(e,i){return oc(e,i)}}return n.className="Ones",n})();Mi(hE),Mi((()=>{class n extends ld{constructor(e){if(super(),"object"!=typeof e)throw new In(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new In(`config must have value set but got ${e}`);this.value=e.value}apply(e,i){return k(()=>qt(Wr(this.value),oc(e,i)))}getConfig(){return{value:this.value}}}return n.className="Constant",n})()),Mi((()=>{class n extends ld{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,i){return Ph(e,this.minval,this.maxval,i,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}return n.className="RandomUniform",n})()),Mi((()=>{class n extends ld{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new xs(`randomNormal does not support dType ${i}.`);return wv(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="RandomNormal",n})()),Mi((()=>{class n extends ld{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,i){if("float32"!==(i=i||"float32")&&"int32"!==i)throw new xs(`truncatedNormal does not support dType ${i}.`);return q0(e,this.mean,this.stddev,i,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}return n.className="TruncatedNormal",n})()),Mi((()=>{class n extends ld{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,i){return k(()=>{if(2!==e.length||e[0]!==e[1])throw new In("Identity matrix initializer can only be used for 2D square matrices.");return qt(this.gain,zp(e[0]))})}getConfig(){return{gain:this.gain}}}return n.className="Identity",n})());let cc=(()=>{class n extends ld{constructor(e){if(super(),e.scale<0)throw new In(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function Tm(n){od(Sm,"FanMode",n)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function lT(n){od(Dm,"Distribution",n)}(this.distribution),this.seed=e.seed}apply(e,i){const r=function Cv(n,t="channelsLast"){let e,i;if(yl(t),2===n.length)e=n[0],i=n[1];else if(-1!==[3,4,5].indexOf(n.length)){if("channelsFirst"===t){const r=Vh(n,2);e=n[1]*r,i=n[0]*r}else if("channelsLast"===t){const r=Vh(n,0,n.length-2);e=n[n.length-2]*r,i=n[n.length-1]*r}}else{const r=Vh(n);e=Math.sqrt(r),i=Math.sqrt(r)}return[e,i]}(e),a=r[0],c=r[1];let u=this.scale;if(u/="fanIn"===this.mode?Math.max(1,a):"fanOut"===this.mode?Math.max(1,c):Math.max(1,(a+c)/2),"normal"===this.distribution){const f=Math.sqrt(u);if("float32"!==(i=i||"float32")&&"int32"!==i)throw new xs(`${this.getClassName()} does not support dType ${i}.`);return q0(e,0,f,i,this.seed)}{const f=Math.sqrt(3*u);return Ph(e,-f,f,i,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}return n.className="VarianceScaling",n})();Mi(cc);let cT=(()=>{class n extends cc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="GlorotUniform",n})();Mi(cT);let uT=(()=>{class n extends cc{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="GlorotNormal",n})();Mi(uT);let Sv=(()=>{class n extends cc{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="HeNormal",n})();Mi(Sv);let ff=(()=>{class n extends cc{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="HeUniform",n})();Mi(ff);let Dv=(()=>{class n extends cc{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="LeCunNormal",n})();Mi(Dv);let dT=(()=>{class n extends cc{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return cc.className}}return n.className="LeCunUniform",n})();Mi(dT),Mi((()=>{class n extends ld{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,i){return k(()=>{if(e.length<2)throw new xs("Shape must be at least 2D.");if("int32"!==i&&"float32"!==i&&void 0!==i)throw new TypeError(`Unsupported data type ${i}.`);const r=Tt(e.slice(0,-1)),a=e[e.length-1],c=r*a;c>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${c}) elements: Slowness may result.`);const f=wv([Math.max(a,r),Math.min(a,r)],0,1,i,this.seed),p=nD.qr(f,!1);let g=p[0];const T=p[1].flatten().stridedSlice([0],[Math.min(a,r)*Math.min(a,r)],[Math.min(a,r)+1]);return g=qt(g,T.sign()),r<a&&(g=g.transpose()),qt(Wr(this.gain),g.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}return n.className="Orthogonal",n})());const gO={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function _O(n,t={}){return _m(n,Xu.getMap().classNameMap,t,"initializer")}function vl(n){return cp(n)}function nl(n){if("string"==typeof n){const t=n in gO?gO[n]:n;if("GlorotNormal"===t)return new uT;if("GlorotUniform"===t)return new cT;if("HeNormal"===t)return new Sv;if("HeUniform"===t)return new ff;if("LeCunNormal"===t)return new Dv;if("LeCunUniform"===t)return new dT;{const e={};return e.className=t,e.config={},_O(e)}}return n instanceof ld?n:_O(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Tv(n){return Array.isArray(n)&&Array.isArray(n[0])}function kv(n){return 0===n.length?[]:Array.isArray(n[0])?n:[n]}function br(n){let t;if(Array.isArray(n)){if(1!==n.length)throw new In(`Expected Tensor length to be 1; got ${n.length}`);t=n[0]}else t=n;return t}function bo(n){if(Array.isArray(n)&&Array.isArray(n[0])){if(1===n.length)return n[0];throw new In(`Expected exactly 1 Shape; got ${n.length}`)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function Iv(n){let t=0;for(const e of n)t+=0===e.shape.length?1:e.shape.reduce((i,r)=>i*r);return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */const fT="Variable";class zd{constructor(t,e="float32",i=fT,r=!0,a=null){this.dtype=e??"float32",this.shape=t.shape,this.id=JD(),this.originalName=uE(i=i??fT),this.name=nT(this.originalName),this.trainable_=r,this.constraint=a,this.val=J0(t,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(t){return this.assertNotDisposed(),function yO(n,t){if(n.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(n.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(t){this.trainable_=t,this.val.trainable=t}}function c_(n){return n.map(t=>t.read())}function cd(n){n.forEach(t=>{t[0].write(t[1])})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Xl{constructor(t){this.dtype=t.dtype,this.shape=t.shape,this.ndim=null!=t.shape?t.shape.length:t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}}}class Dc{constructor(t,e,i,r,a,c,u){this.dtype=t,this.shape=e,this.sourceLayer=i,this.inputs=r,this.callArgs=a,this.outputTensorIndex=u,this.id=JD(),null!=c&&(this.originalName=uE(c),this.name=nT(this.originalName)),this.rank=e.length}}let jd=0;class Bu{constructor(t,e){this.callArgs=e,this.id=jd++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(const i of t.inboundLayers)i?.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}getConfig(){const t=[];for(const e of this.inboundLayers)t.push(null!=e?e.name:null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let _T=0;class Vs extends As{constructor(t={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=_T++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let e=t.name;if(!e){const i=this.getClassName();e=sd(i)+"_"+gv(i)}if(this.name=e,this.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){let i;if(null!=t.batchInputShape)i=t.batchInputShape;else if(null!=t.inputShape){let a=null;null!=t.batchSize&&(a=t.batchSize),i=[a].concat(t.inputShape)}this.batchInputShape=i;let r=t.dtype;null==r&&(r=t.inputDType),null==r&&(r="float32"),this.dtype=r}this.initialWeights=null!=t.weights?t.weights:null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(t,e){return t.name+"_ib-"+e.toString()}getNodeAtIndex(t,e){if(0===this.inboundNodes.length)throw new Jc(`The layer has never been called and thus has no defined ${e}.`);if(this.inboundNodes.length<=t)throw new In(`Asked to get ${e} at node ${t}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[t]}getInputAt(t){return pu(this.getNodeAtIndex(t,"input").inputTensors)}getOutputAt(t){return pu(this.getNodeAtIndex(t,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new Kl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new Kl(`Layer ${this.name} is not connected, no input to return.`);return pu(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new Kl(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Kl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return pu(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(t=>t())}get updates(){return this._updates}get built(){return this._built}set built(t){this._built=t}get trainable(){return this.trainable_}set trainable(t){this._trainableWeights.forEach(e=>e.trainable=t),this.trainable_=t}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(t=>t.trainable):[]}set trainableWeights(t){this._trainableWeights=t}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(t=>!t.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(t){this._nonTrainableWeights=t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(t){const e=Wo(t);if(null==this.inputSpec||0===this.inputSpec.length)return;const i=Wo(this.inputSpec);if(e.length!==i.length)throw new In(`Layer ${this.name} expects ${i.length} inputs, but it received ${e.length} input tensors. Input received: ${t}`);for(let r=0;r<e.length;r++){const a=e[r],c=i[r];if(null==c)continue;const u=a.rank;if(null!=c.ndim&&u!==c.ndim)throw new In(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${c.ndim}, found ndim=${u}`);if(null!=c.maxNDim&&u>c.maxNDim)throw new In(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${c.maxNDim}, found ndim=${u}`);if(null!=c.minNDim&&u<c.minNDim)throw new In(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${c.minNDim}, found ndim=${u}.`);if(null!=c.dtype&&a.dtype!==c.dtype)throw new In(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${c.dtype}, found dtype=${a.dtype}.`);if(c.axes){const f=a.shape;for(const p in c.axes){const g=Number(p),v=c.axes[p];if(null!=v&&-1===[v,null].indexOf(g>=0?f[g]:f[f.length+g]))throw new In(`Input ${r} is incompatible with layer ${this.name}: expected axis ${g} of input shape to have value ${v} but got shape ${f}.`)}}if(null!=c.shape)for(let f=0;f<c.shape.length;++f){const p=c.shape[f],g=a.shape[f];if(null!=p&&null!=g&&p!==g)throw new In(`Input ${r} is incompatible with layer ${this.name}: expected shape=${c.shape}, found shape=${a.shape}.`)}}}call(t,e){return t}invokeCallHook(t,e){null!=this._callHook&&this._callHook(t,e)}setCallHook(t){this._callHook=t}clearCallHook(){this._callHook=null}apply(t,e){e=e||{},this.assertNotDisposed();const i=Wo(t),r=function SO(n){let t=!0;for(const e of Wo(n))if(!(e instanceof Dc)){t=!1;break}return t}(t),a=function fE(n){let t=!0;for(const e of Wo(n))if(e instanceof Dc){t=!1;break}return t}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(t);if(r===a)throw new In("Arguments to apply() must be all SymbolicTensors or all Tensors");return up(this.name,()=>{if(!this.built){this.assertInputCompatibility(t);const c=[];for(const u of Wo(t))c.push(u.shape);this.build(pu(c)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(t),a){let c=this.call(t,e);this.supportsMasking&&this.setMaskMetadata(t,c);const u=Wo(c),f=[];for(let p of u)-1!==i.indexOf(p)&&(p=p.clone()),f.push(p);if(c=pu(f),null!=this.activityRegularizer)throw new xs("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return c}{const c=function xO(n){n=Wo(n);const t=[];for(const e of n)t.push(e.shape);return pu(t)}(t),u=this.computeOutputShape(c);let f;const p="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(t)?c[0]:c),f=null!=u&&u.length>0&&Array.isArray(u[0])?u.map((g,v)=>new Dc(p,g,this,Wo(t),e,this.name,v)):new Dc(p,u,this,Wo(t),e,this.name),this.addInboundNode(t,f,null,null,c,u,e),this._refCount++,null!=this.activityRegularizer)throw new xs("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}})}warnOnIncompatibleInputShape(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(t)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let e=!1;this.batchInputShape.forEach((i,r)=>{null!=i&&null!=t[r]&&t[r]!==i&&(e=!0)}),e&&console.warn(`The shape of the input tensor (${JSON.stringify(t)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Kl(`The layer ${this.name} has never been called and thus has no defined output shape.`);const t=[];for(const e of this.inboundNodes){const i=JSON.stringify(e.outputShapes);-1===t.indexOf(i)&&t.push(i)}if(1===t.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new Kl(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Jc(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Iv(this.weights)}build(t){this.built=!0}getWeights(t=!1){return c_(t?this.trainableWeights:this.weights)}setWeights(t){k(()=>{const e=this.weights;if(e.length!==t.length)throw new In(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${t.length}, but the layer was expecting ${e.length} weights. Provided weights: ${t}...`);if(0===e.length)return;const i=[],r=c_(e);for(let a=0;a<r.length;++a){const c=r[a],u=e[a],f=t[a];if(!Oe(c.shape,f.shape))throw new In(`Layer weight shape ${c.shape} not compatible with provided weight shape ${f.shape}`);i.push([u,f])}cd(i)})}addWeight(t,e,i,r,a,c,u,f){if(-1!==this._addedWeightNames.indexOf(t))throw new In(`Duplicate weight name ${t} for layer ${this.name}`);this._addedWeightNames.push(t),null==i&&(i="float32"),this.fastWeightInitDuringBuild&&(r=null!=f?f():nl("zeros"));const p=r.apply(e,i),g=new zd(p,i,t,c,u);return p.dispose(),null!=a&&this.addLoss(()=>a.apply(g.read())),null==c&&(c=!0),c?this._trainableWeights.push(g):this._nonTrainableWeights.push(g),g}setFastWeightInitDuringBuild(t){this.fastWeightInitDuringBuild=t}addLoss(t){null==t||Array.isArray(t)&&0===t.length||(t=Wo(t),null!=this._losses&&this.losses.push(...t))}computeOutputShape(t){return t}computeMask(t,e){if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);e.forEach(i=>{if(null!=i)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)})}return null}return e}setMaskMetadata(t,e,i){if(!this.supportsMasking)return;const r=this.computeMask(t,i),a=Wo(e),c=Wo(r);if(a.length!==c.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let u=0;u<a.length;u++)a[u].kerasMask=c[u]}addInboundNode(t,e,i,r,a,c,u=null){const f=Wo(t);e=Wo(e),i=Wo(i),r=Wo(r),a=kv(a),c=kv(c);const p=[],g=[],v=[];for(const T of f)p.push(T.sourceLayer),g.push(T.nodeIndex),v.push(T.tensorIndex);new Bu({outboundLayer:this,inboundLayers:p,nodeIndices:g,tensorIndices:v,inputTensors:f,outputTensors:e,inputMasks:i,outputMasks:r,inputShapes:a,outputShapes:c},u);for(let T=0;T<e.length;T++)e[T].sourceLayer=this,e[T].nodeIndex=this.inboundNodes.length-1,e[T].tensorIndex=T}getConfig(){const t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t}disposeWeights(){return this.weights.forEach(t=>t.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let t=0;return 0==--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}}function yT(n,t,e){if((null==t||null!=e&&e>0)&&(t=n.sourceLayer,e=n.nodeIndex),0===t.inboundNodes.length)return[n];{const i=t.inboundNodes[e];if(0===i.inboundLayers.length)return i.inputTensors;{const r=[];for(let a=0;a<i.inboundLayers.length;a++){const p=yT(i.inputTensors[a],i.inboundLayers[a],i.nodeIndices[a]);for(const g of p)-1===r.indexOf(g)&&r.push(g)}return r}}}let pf=(()=>{class n extends Vs{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:gv("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new In("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let i=e.batchInputShape;if(null==i){if(null==e.inputShape)throw new In("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");i=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new In("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=i,this.dtype=r,this.inputSpec=[{shape:i}];const a=new Dc(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[i],outputShapes:[i]})}apply(e,i){throw new In(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}return n.className="InputLayer",n})();Mi(pf);class mf{constructor(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof mf)for(const e in t.id2Value)this.id2Value[e]=t.id2Value[e],e in t.id2Mask&&(this.id2Mask[e]=t.id2Mask[e]);else{if(null==t)return;for(const e of t)this.add(e.key,e.value)}}add(t,e,i){if(null!=this.id2Value[t.id])throw new In(`Duplicate key: name=${t.name}, id=${t.id}`);return this.id2Value[t.id]=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function vT(n,t){if(null==n.dtype||n.dtype===t.dtype)return t;try{return Xi(t,n.dtype)}catch{throw new In(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${n.name}' (${n.dtype}).`)}}(t,e),this.name2Id[t.name]=t.id,null!=i&&(this.id2Mask[t.id]=i),this}addFeed(t){this.add(t.key,t.value)}hasKey(t){return null!=this.id2Value[t.id]}names(){return Object.keys(this.name2Id)}getValue(t){if(t instanceof Dc){if(null==this.id2Value[t.id])throw new In(`Nonexistent key: ${t.name}`);return this.id2Value[t.id]}{const e=this.name2Id[t];if(null==e)throw new In(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Value[e]}}getMask(t){if(t instanceof Dc){if(null==this.id2Value[t.id])throw new In(`Nonexistent key: ${t.name}`);return this.id2Mask[t.id]}{const e=this.name2Id[t];if(null==e)throw new In(`Feed dict has no SymbolicTensor name: ${t}`);return this.id2Mask[e]}}disposeMasks(){null!=this.id2Mask&&B(this.id2Mask)}}const Av=new nE,u_=new nE;function gf(n,t,e,i){const r=null!=e&&e.training,a=Array.isArray(n),c=a?n:[n],u=c.map(Y=>Y.name),f=[],p=t.names();for(const Y of u)-1!==p.indexOf(Y)?f.push(t.getValue(Y)):f.push(null);null!=i&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);const g=u.join(",")+"|"+t.names().sort().join(",");let T,v=Av.get(g);if(null==v){const Y=function TO(n,t){Ce(null!=n&&n.length>0,()=>"Expected at least one fetch, got none");let e=[],i={};if(1===n.length){const r=pE(n[0],t);e=r.sorted,i=r.recipientMap}else{const r=new Set;for(const a of n){const{sorted:c,recipientMap:u}=pE(a,t);for(const f of c)r.has(f.name)||(e.push(f),r.add(f.name));for(const f in u)null==i[f]&&(i[f]=new Set),u[f].forEach(p=>i[f].add(p))}}return{sorted:e,recipientCounts:wT(i)}}(c,t);v=Y.sorted,T=Y.recipientCounts,Av.put(g,v),u_.put(g,T)}T={},r||Object.assign(T,u_.get(g));const V=new mf(t);for(let Y=0;Y<v.length;++Y){if(null!=i){const wn=Gc().numTensors;wn>i.maxNumTensors&&(i.maxNumTensors=wn),wn<i.minNumTensors&&(i.minNumTensors=wn)}const ae=v[Y],te=ae.sourceLayer;if(te instanceof pf)continue;const _e=[],Te=[],nt=[];let it=!1;for(const wn of ae.inputs){const Cn=V.getValue(wn),Vn=V.getMask(wn);_e.push(Cn),Te.push(Vn),null!=Vn&&(it=!0),r||(T[wn.name]--,0===T[wn.name]&&!t.hasKey(wn)&&-1===u.indexOf(wn.name)&&!Cn.isDisposed&&!0!==wn.sourceLayer.stateful&&nt.push(Cn))}it&&((e=e||{}).mask=Te[0]);const St=Wo(te.apply(_e,e));let Xt=null;te.supportsMasking&&(Xt=te.computeMask(_e,Te));const sn=kO(ae),dn=Array.isArray(sn)?sn:[sn];for(let wn=0;wn<dn.length;++wn){V.hasKey(dn[wn])||V.add(dn[wn],St[wn],Array.isArray(Xt)?Xt[0]:Xt);const Cn=u.indexOf(dn[wn].name);-1!==Cn&&(f[Cn]=St[wn])}r||B(nt)}return V.disposeMasks(),a?f:f[0]}function wT(n){const t={};for(const e in n)t[e]=n[e].size;return t}function pE(n,t){const e=new Set,i=[],r={};for(const u of t.names())e.add(u);const a=[],c=[];for(a.push(n);a.length>0;){const u=a[a.length-1];if(e.has(u.name)){a.pop();continue}const f=c[c.length-1]===a.length-1;if(0===u.inputs.length||f)a.pop(),i.push(u),e.add(u.name),f&&c.pop();else{c.push(a.length-1);for(const p of u.inputs)null==r[p.name]&&(r[p.name]=new Set),r[p.name].add(u.name),!e.has(p.name)&&a.push(p)}}return{sorted:i,recipientMap:r}}function kO(n){let t;if(1===n.sourceLayer.inboundNodes.length)t=n.sourceLayer.output;else{let e=null;for(let i=0;i<n.sourceLayer.inboundNodes.length;++i)for(const r of n.sourceLayer.inboundNodes[i].outputTensors)if(r.id===n.id){e=i;break}t=n.sourceLayer.getOutputAt(e)}return t}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function mE(n,t){return k(()=>Yr(gr(qt(n,n),t,!0)))}De().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,function bT(n){Av?.setMaxEntries(n),u_?.setMaxEntries(n)});class d_ extends As{getConfig(){return{}}}Mi((()=>{class n extends d_{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>{const i=mE(e,this.axis),r=Su(i,0,this.maxValue);return qt(e,zn(r,tt(lc(),i)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}return n.className="MaxNorm",n})()),Mi((()=>{class n extends d_{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>zn(e,tt(lc(),mE(e,this.axis))))}getConfig(){return{axis:this.axis}}}return n.className="UnitNorm",n})()),Mi((()=>{class n extends d_{apply(e){return Rd(e)}}return n.className="NonNeg",n})()),Mi((()=>{class n extends d_{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return k(()=>{const i=mE(e,this.axis),r=tt(qt(this.rate,Su(i,this.minValue,this.maxValue)),qt(1-this.rate,i));return qt(e,zn(r,tt(lc(),i)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}return n.className="MinMaxNorm",n})());const ET={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function uc(n){return cp(n)}function Mv(n,t={}){return _m(n,Xu.getMap().classNameMap,t,"constraint")}function Tc(n){return null==n?null:"string"==typeof n?Mv({className:n in ET?ET[n]:n,config:{}}):n instanceof d_?n:Mv(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function _f(n){return km.apply(this,arguments)}function km(){return(km=(0,q.A)(function*(n){if(null==n)return;const t=[],e=[],i=[];for(const r in n){const a=n[r];if("number"!=typeof a){const c=a;t.push(c.data()),e.push(r),i.push(c)}}if(t.length>0){const r=yield Promise.all(t);for(let a=0;a<r.length;++a)n[e[a]]=r[a][0];B(i)}})).apply(this,arguments)}function h_(n){if(null!=n)for(const t in n){const e=n[t];"number"!=typeof e&&e.dispose()}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */class Im{constructor(){this.validationData=null}setParams(t){this.params=t}onEpochBegin(t,e){return(0,q.A)(function*(){})()}onEpochEnd(t,e){return(0,q.A)(function*(){})()}onBatchBegin(t,e){return(0,q.A)(function*(){})()}onBatchEnd(t,e){return(0,q.A)(function*(){})()}onTrainBegin(t){return(0,q.A)(function*(){})()}onTrainEnd(t){return(0,q.A)(function*(){})()}setModel(t){}}class LO{constructor(t,e=10){null==t&&(t=[]),this.callbacks=t,this.queueLength=e}append(t){this.callbacks.push(t)}setParams(t){for(const e of this.callbacks)e.setParams(t)}setModel(t){for(const e of this.callbacks)e.setModel(t)}onEpochBegin(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochBegin(t,e)})()}onEpochEnd(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onEpochEnd(t,e)})()}onBatchBegin(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchBegin(t,e)})()}onBatchEnd(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={});for(const r of i.callbacks)yield r.onBatchEnd(t,e)})()}onTrainBegin(t){var e=this;return(0,q.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainBegin(t)})()}onTrainEnd(t){var e=this;return(0,q.A)(function*(){null==t&&(t={});for(const i of e.callbacks)yield i.onTrainEnd(t)})()}}class $O extends Im{constructor(){super()}onEpochBegin(t){var e=this;return(0,q.A)(function*(){e.seen=0,e.totals={}})()}onBatchEnd(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={});const r=null==e.size?0:e.size;i.seen+=r;for(const a in e){const c=e[a];if("number"==typeof c)i.totals.hasOwnProperty(a)||(i.totals[a]=0),i.totals[a]=i.totals[a]+c*r;else{let u;a in i.totals?u=i.totals[a]:i.totals[a]=0;const f=k(()=>tt(i.totals[a],qt(c,r)));i.totals[a]=f,u?.dispose()}}})()}onEpochEnd(t,e){var i=this;return(0,q.A)(function*(){if(null!=e)for(const r of i.params.metrics)null!=i.totals[r]&&("number"==typeof i.totals[r]?e[r]=i.totals[r]/i.seen:k(()=>{const a=qt(zn(1,i.seen),i.totals[r]);e[r]=a,i.totals[r].dispose(),he(e[r])}))})()}}class Ov extends Im{onTrainBegin(t){var e=this;return(0,q.A)(function*(){e.epoch=[],e.history={}})()}onEpochEnd(t,e){var i=this;return(0,q.A)(function*(){null==e&&(e={}),i.epoch.push(t);for(const r in e)null==i.history[r]&&(i.history[r]=[]),i.history[r].push(e[r])})()}syncData(){var t=this;return(0,q.A)(function*(){const e=[],i=[],r=[];for(const c in t.history){const u=t.history[c];for(let f=0;f<u.length;++f)"number"!=typeof u[f]&&(e.push(u[f].data()),i.push(c),r.push(f))}const a=yield Promise.all(e);for(let c=0;c<a.length;++c)t.history[i[c]][r[c]].dispose(),t.history[i[c]][r[c]]=a[c][0]})()}}class Rv extends Im{constructor(t,e){if(super(),this.currentEpoch=0,this.nowFunc=t.nowFunc,this.nextFrameFunc=t.nextFrameFunc||rD,this.yieldEvery=e||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");on(this.yieldEvery)&&(this.maybeWait=function eO(n,t,e){let r,i=null!=e?e():zr();return(...c)=>{const u=null!=e?e():zr();return u-i<t||(i=u,r=n(...c)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=t.onTrainBegin,this.trainEnd=t.onTrainEnd,this.epochBegin=t.onEpochBegin,this.epochEnd=t.onEpochEnd,this.batchBegin=t.onBatchBegin,this.batchEnd=t.onBatchEnd,this.yield=t.onYield}maybeWait(t,e,i){var r=this;return(0,q.A)(function*(){const a=[];null!=r.yield&&(yield _f(i),a.push(r.yield(t,e,i))),a.push(r.nextFrameFunc()),yield Promise.all(a)})()}onEpochBegin(t,e){var i=this;return(0,q.A)(function*(){i.currentEpoch=t,null!=i.epochBegin&&(yield _f(e),yield i.epochBegin(t,e))})()}onEpochEnd(t,e){var i=this;return(0,q.A)(function*(){const r=[];null!=i.epochEnd&&(yield _f(e),r.push(i.epochEnd(t,e))),"epoch"===i.yieldEvery&&r.push(i.nextFrameFunc()),yield Promise.all(r)})()}onBatchBegin(t,e){var i=this;return(0,q.A)(function*(){null!=i.batchBegin&&(yield _f(e),yield i.batchBegin(t,e))})()}onBatchEnd(t,e){var i=this;return(0,q.A)(function*(){const r=[];null!=i.batchEnd&&(yield _f(e),r.push(i.batchEnd(t,e))),"batch"===i.yieldEvery?r.push(i.nextFrameFunc()):on(i.yieldEvery)&&r.push(i.maybeWait(i.currentEpoch,t,e)),yield Promise.all(r)})()}onTrainBegin(t){var e=this;return(0,q.A)(function*(){null!=e.trainBegin&&(yield _f(t),yield e.trainBegin(t))})()}onTrainEnd(t){var e=this;return(0,q.A)(function*(){null!=e.trainEnd&&(yield _f(t),yield e.trainEnd(t))})()}}function Nv(n,t){return null==n&&(n={}),n instanceof Im?[n]:Array.isArray(n)&&n[0]instanceof Im?n:Wo(n).map(i=>new Rv(i,t))}let DT=(()=>{class n{constructor(){}static registerCallbackConstructor(e,i){Ce(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),n.checkForDuplicate(i),null==n.constructors[e]&&(n.constructors[e]=[]),n.constructors[e].push(i)}static checkForDuplicate(e){for(const i in n.constructors)n.constructors[+i].forEach(a=>{if(a===e)throw new In("Duplicate callback constructor.")})}static clear(){n.constructors={}}static createCallbacks(e){const i=[];for(const r in n.constructors){const a=+r;e>=a&&i.push(...n.constructors[a])}return i.map(r=>new r)}}return n.constructors={},n})();function TT(n,t,e,i,r,a,c,u,f){const p=new Ov,g=[new $O,...DT.createCallbacks(t)];null!=n&&g.push(...n),g.push(p);const v=new LO(g);return v.setParams({epochs:e,initialEpoch:i,samples:r,steps:a,batchSize:c,verbose:t,doValidation:u,metrics:f}),{callbackList:v,history:p}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */}function Uh(n,t={},e=!1){return _m(n,Xu.getMap().classNameMap,t,"layer",e)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function f_(n,t){return k(()=>{"float32"!==n.dtype&&(n=Xi(n,"float32"));const e=gr(hh(n),t,!0),i=cu(e.shape,lc()),r=Yr(qc(e,i));return zn(n,r)})}function Am(n,t){return k(()=>tl(hh(dr(t,n)),-1))}function p_(n,t){return k(()=>tl(jl(dr(t,n)),-1))}function zh(n,t){return k(()=>{const e=dr(n,t),i=Su(jl(n),lc(),Number.MAX_VALUE),r=jl(zn(e,i));return qt(100,tl(r,-1))})}function Pv(n,t,e=!1){return k(()=>{if(e)t=tm(t);else{const i=gr(t,t.shape.length-1,!0);t=zn(t,i)}return t=Su(t,lc(),1-lc()),Ka(gr(qt(Xi(n,"float32"),ed(t)),t.shape.length-1))})}function m_(n,t,e=!1){return k(()=>{const i=Xi(jp(function oO(n){const t=[Vh(n.shape)];return Tn(n,t)}(n)),"int32"),r=(t=Su(t,lc(),1-lc())).shape;return Pv(Tn(M0(i,r[r.length-1]),r),t,e)})}function vE(n,t){return k(()=>{let e;return e=Su(t,lc(),1-lc()),e=ed(zn(e,dr(1,e))),tl(function kT(n,t){if(!Oe(n.shape,t.shape))throw new In(`logits and labels must have the same shape, but got shapes ${JSON.stringify(n.shape)} and ${JSON.stringify(t.shape)}`);return k(()=>{const e=Rd(t),i=Ka(jl(t));return tt(dr(e,qt(t,n)),Ty(hu(i)))})}(n,e),-1)})}function IT(n,t){return k(()=>{const e=f_(n,-1),i=f_(t,-1),r=qt(e,i);return Ka(gr(r,-1))})}const $v={meanSquaredError:Am,meanAbsoluteError:p_,meanAbsolutePercentageError:zh,meanSquaredLogarithmicError:function BO(n,t){return k(()=>{const e=Su(t,lc(),Number.MAX_VALUE),i=ed(tt(1,e)),r=Su(n,lc(),Number.MAX_VALUE),a=ed(tt(1,r));return tl(hh(dr(i,a)),-1)})},squaredHinge:function VO(n,t){return k(()=>{const e=qc(0,dr(1,qt(n,t)));return tl(hh(e),-1)})},hinge:function Mm(n,t){return k(()=>{const e=qc(0,dr(1,qt(n,t)));return tl(e,-1)})},categoricalHinge:function rF(n,t){return k(()=>{const e=gr(qt(n,t),-1),i=Nu(qt(dr(1,n),t),-1);return qc(0,tt(1,dr(i,e)))})},logcosh:function yE(n,t){return k(()=>{const e=Math.log(2),i=dr(t,n),r=dr(tt(i,Mh(qt(-2,i))),e);return tl(r,-1)})},categoricalCrossentropy:Pv,sparseCategoricalCrossentropy:m_,binaryCrossentropy:vE,kullbackLeiblerDivergence:function Om(n,t){return k(()=>{const e=Su(n,lc(),1),i=Su(t,lc(),1);return gr(qt(n,ed(zn(e,i))),-1)})},poisson:function UO(n,t){return k(()=>{const e=ed(tt(lc(),t));return tl(dr(t,qt(n,e)),-1)})},cosineProximity:IT};function EE(n){if("string"==typeof n){if(n in $v)return $v[n];let t=`Unknown loss ${n}`;throw n.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${n}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new In(t)}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function xE(n,t){return k(()=>{const e=qt(.5,td(t)),i=dh(Pu(t,e),n.dtype);return tl(Qu(n,i),-1)})}function Rm(n,t){return k(()=>dh(Qu(Fp(n,-1),Fp(t,-1)),"float32"))}function OT(n,t){return vE(n,t)}function KO(n,t){return n.rank===t.rank&&(n=Zf(n,[n.rank-1])),(t=Fp(t,-1)).dtype!==n.dtype&&(t=Xi(t,n.dtype)),Xi(Qu(n,t),"float32")}const NT=Pv,CE=m_,yf={binaryAccuracy:xE,categoricalAccuracy:Rm,precision:function MT(n,t){return k(()=>{const e=function AT(n,t){return k(()=>Xi(gr(Rh(Qu(n,1),Qu(t,1))),"float32"))}(n,t),i=function HO(n,t){return k(()=>Xi(gr(Rh(Qu(n,0),Qu(t,1))),"float32"))}(n,t),r=tt(e,i);return Xi(rc(Pu(r,0),zn(e,r),0),"float32")})},categoricalCrossentropy:NT,sparseCategoricalCrossentropy:CE,mse:Am,MSE:Am,mae:p_,MAE:p_,mape:zh,MAPE:zh,cosine:IT};function qO(n){if("string"==typeof n&&n in yf)return yf[n];if("string"!=typeof n&&null!=n)return n;throw new In(`Unknown metric ${n}`)}function Vv(n){if(rd(null!==n,`Unknown LossOrMetricFn ${n}`),"string"==typeof n)return n;{let t;for(const e of Object.keys($v))if($v[e]===n){t=e;break}if(void 0!==t)return t;for(const e of Object.keys(yf))if(yf[e]===n){t=e;break}return void 0!==t?t:n.name}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function ZO(n,t,e=!1){if(null==n||"object"!=typeof n||Object.getPrototypeOf(n)!==Object.prototype||!SE(n))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(e){const i=JSON.stringify(n);i.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${i.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function SE(n){if(null===n)return!0;if("object"==typeof n){if(Object.getPrototypeOf(n)===Object.prototype){const t=Object.keys(n);for(const e of t)if("string"!=typeof e||!SE(n[e]))return!1;return!0}if(Array.isArray(n)){for(const t of n)if(!SE(t))return!1;return!0}return!1}{const t=typeof n;return"string"===t||"number"===t||"boolean"===t}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function vf(n,t,e=console.log){let i="";for(let r=0;r<n.length;++r)r>0&&(i=i.slice(0,i.length-1)+" "),i+=n[r],i=i.slice(0,t[r]),i+=" ".repeat(t[r]-i.length);e(i)}function tR(n,t,e){let i,r;try{r=n.inboundNodes.map(f=>JSON.stringify(f.inputShapes)).join(",")}catch{r="multiple"}try{i=JSON.stringify(n.outputShape)}catch{i="multiple"}vf([`${n.name} (${n.getClassName()})`,r,i,n.countParams().toString()],t,e)}function LT(n,t,e,i){let r,a;try{a=n.inboundNodes.map(v=>JSON.stringify(v.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(n.outputShape)}catch{r="multiple"}const c=[];for(const v of n.inboundNodes)if(!(null!=e&&e.length>0&&-1===e.indexOf(v)))for(let T=0;T<v.inboundLayers.length;++T)c.push(`${v.inboundLayers[T].name}[${v.nodeIndices[T]}][${v.tensorIndices[T]}]`);const u=n.name,f=n.getClassName(),p=0===c.length?"":c[0];vf([`${u} (${f})`,a,r,n.countParams().toString(),p],t,i);for(let v=1;v<c.length;++v)vf(["","","","",c[v]],t,i)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function DE(n,t,e){return("inboundNodes"===n||"outputLayers"===n||"inputLayers"===n)&&0===t&&"string"==typeof e}function TE(n,t){if(null===n)return null;if("string"==typeof n)return bd(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];DE(t,r,a)?e.push(a):e.push(TE(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];if("name"===i&&"string"==typeof r)e[i]=r;else{const a=bd(i);e[a]=TE(r,a)}}return e}}function Uv(n,t){if(null==n)return null;if("string"==typeof n)return sd(n);if("number"==typeof n||"boolean"==typeof n)return n;if(n instanceof Array){const e=[],i=n.length;for(let r=0;r<i;++r){const a=n[r];DE(t,r,a)?e.push(a):e.push(Uv(a,t))}return e}{const e={};for(const i of Object.keys(n)){const r=n[i];e[sd(i)]="name"!==i&&"className"!==i||"string"!=typeof r?Uv(r,i):r}return e}}
/** @license See the LICENSE file. */class Wd extends Vs{constructor(t){if(super({}),this.containerNodes=new Set,this.name=t.name,null==this.name){const Te=this.getClassName().toLowerCase();this.name=gv(Te)}if(this.supportsMasking=!1,this.trainable_=!0,this.inputs=Array.isArray(t.inputs)?t.inputs.slice():[t.inputs],this.outputs=Array.isArray(t.outputs)?t.outputs.slice():[t.outputs],Bh(this.inputs).length!==this.inputs.length)throw new In(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(Te=>Te.name)}`);Bh(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(Te=>Te.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const Te of this.outputs){const it=Te.nodeIndex,St=Te.tensorIndex;this.outputLayers.push(Te.sourceLayer),this.outputLayersNodeIndices.push(it),this.outputLayersTensorIndices.push(St)}for(const Te of this.inputs){const nt=Te.sourceLayer,it=Te.nodeIndex,St=Te.tensorIndex;rd(0===it,"input layer has >1 nodes"),rd(0===St,"input layer has >1 tensors"),this.inputLayers.push(nt),this.inputLayersNodeIndices.push(it),this.inputLayersTensorIndices.push(St)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let Te=0;Te<this.inputLayers.length;Te++){const nt=this.inputLayers[Te];if(!(nt instanceof pf))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${t.inputs}. Input ${Te} (0-based) originates from layer type ${nt.getClassName()}.`);this.inputNames.push(nt.name),this.feedInputShapes.push(nt.batchInputShape),this.feedInputNames.push(nt.name)}for(const Te of this.outputLayers)this.outputNames.push(Te.name);this.internalInputShapes=this.inputs.map(Te=>Te.shape),this.internalOutputShapes=this.outputs.map(Te=>Te.shape);const e={},i={},r={},a={},c={},u=[],f=(Te,nt,it,St,Xt,sn)=>{(null==St||null==Xt||null==sn)&&(St=Te.sourceLayer,Xt=Te.nodeIndex,sn=Te.tensorIndex);const dn=St.inboundNodes[Xt];if(-1!==it.indexOf(dn))throw new Jc(`The tensor ${Te.name} at layer "${St.name}" is part of a cycle.`);if(-1!==nt.indexOf(dn))return;this.containerNodes.add(Wd.nodeKey(St,Xt)),St.id in c||(c[St.id]=Object.keys(c).length),-1===it.indexOf(dn)&&it.push(dn);const wn=dn.inboundLayers.length;for(let Cn=0;Cn<wn;Cn++)f(dn.inputTensors[Cn],nt,it,dn.inboundLayers[Cn],dn.nodeIndices[Cn],dn.tensorIndices[Cn]);for(nt.push(dn);it.indexOf(dn)>=0;)it.splice(it.indexOf(dn),1);u.push(dn)},p=[],g=[];for(const Te of this.outputs)f(Te,p,g);const v=u.slice().reverse();for(const Te of v){i[Te.id]=Te,Te.id in e||(e[Te.id]=0);let nt=e[Te.id];nt=Math.max(nt,null==r[Te.outboundLayer.id]?0:r[Te.outboundLayer.id]),r[Te.outboundLayer.id]=nt,a[Te.outboundLayer.id]=Te.outboundLayer,e[Te.id]=nt;for(let St=0;St<Te.inboundLayers.length;St++){const dn=Te.inboundLayers[St].inboundNodes[Te.nodeIndices[St]];e[dn.id]=Math.max(nt+1,null==e[dn.id]?0:e[dn.id]),i[dn.id]=dn}}const T={};for(const Te in e){const nt=e[Te];nt in T||(T[nt]=[]),T[nt].push(i[Te])}const V={};for(const Te in r){const nt=r[Te];nt in V||(V[nt]=[]),V[nt].push(a[Te])}let Y=Object.keys(V).map(Te=>parseInt(Te,10)).sort(r_);this.layers=[];for(const Te of Y){const nt=V[Te];nt.sort((it,St)=>{const Xt=c[it.id],sn=c[St.id];return Xt<sn?-1:Xt>sn?1:0});for(const it of nt)it instanceof Wd&&this.internalContainerRefs.push(it),this.layers.push(it)}this.layersByDepth=V,Y=Object.keys(T).map(Te=>parseInt(Te,10)).sort(r_);const ae=this.inputs.slice(),te=[];for(const Te of Y)for(const nt of T[Te]){const it=nt.outboundLayer;if(null!=it){for(const St of nt.inputTensors)if(-1===ae.indexOf(St))throw new Jc(`Graph disconnected: cannot obtain value for tensor ${St} at layer "${it.name}". The following previous layers were accessed without issue: ${te}`);for(const St of nt.outputTensors)ae.push(St);te.push(it.name)}}this.nodesByDepth=T;const _e=this.layers.map(Te=>Te.name);for(const Te of _e){const nt=_e.filter(it=>it===Te).length;if(1!==nt)throw new Jc(`The name "${Te}" is used ${nt} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(_e))}this.outboundNodes=[],this.inboundNodes=[],new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(Te=>null),outputMasks:this.outputs.map(Te=>null),inputShapes:this.inputs.map(Te=>Te.shape),outputShapes:this.outputs.map(Te=>Te.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const t={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const e of this.layers)t.numDisposedVariables+=e.dispose().numDisposedVariables;for(const e of this.internalContainerRefs)t.numDisposedVariables+=e.dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t}get trainable(){return this.trainable_}set trainable(t){this.layers.forEach(e=>{e._trainableWeights.forEach(i=>i.trainable=t)}),this.trainable_=t}get trainableWeights(){if(this._trainableWeights.length>0)throw new In("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let t=[];for(const e of this.layers)t=t.concat(e.trainableWeights);return t}get nonTrainableWeights(){const t=[];for(const e of this.layers)t.push(...e.nonTrainableWeights);if(!this.trainable){const e=[];for(const i of this.layers)e.push(...i.trainableWeights);return e.concat(t)}return t}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(t,e=!0){const i={};let r=0;const a=(n=>{const t=Object.keys(n);if(0===t.length)return!1;const e=t[0].split("/");return!isNaN(parseInt(e[e.length-1],10))})(t);a&&this.parseWeights(t);for(const u of this.layers)for(const[f,p]of u.weights.entries()){const g=a?`${p.name.split("/").slice(0,-1).join("/")+"/"}${f}`:p.originalName;if(null!=i[g])throw new In(`Duplicate weight name: ${g}`);i[g]=p,r++}const c=[];for(const u in t){let f=u;if(null==i[u]){const p=u.split("/");f=p.slice(0,-2).concat([p[p.length-1]]).join("/")}if(null!=i[f])c.push([i[f],t[u]]);else if(e)throw new In(`Provided weight data has no target variable: ${u}`);delete i[f]}if(e){const u=[];for(const f in i)u.push(f);if(u.length>0)throw new In(`${u.length} of ${r} weights are not set: ${u}`)}cd(c)}parseWeights(t){for(const e in Object.keys(t)){const i=e.split("/"),r=["vars","layer_checkpoint_dependencies"],a=i.map(c=>c.startsWith("_")?c.slice(1):c).filter(c=>!r.includes(c)).join("/");a!==e&&(t[a]=t[e],delete t[e])}}updatedConfig(){const t=this.getConfig(),e={};return e.className=this.getClassName(),e.config=t,e.kerasVersion="tfjs-layers 4.20.0",e.backend="TensorFlow.js",e}toJSON(t,e=!0){const i=Uv(this.updatedConfig());return e?JSON.stringify(i):i}call(t,e){return k(()=>{t=Wo(t);const i=new mf;for(let r=0;r<this.inputs.length;++r)i.add(this.inputs[r],t[r]);return gf(this.outputs,i,e)})}computeMask(t,e){return k(()=>{let i;return t=Wo(t),i=null==e?lp(null,t.length):Wo(e),this.runInternalGraph(t,i)[1]})}computeOutputShape(t){const e=kv(t);if(e.length!==this.inputLayers.length)throw new In(`Invalid inputShape argument ${t}: model has ${this.inputLayers.length} tensor inputs.`);const i={};for(let u=0;u<e.length;u++)i[this.inputLayers[u].name+"_0_0"]=e[u];const r=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(r_);if(r.length>1)for(const u of r){const f=this.nodesByDepth[u];for(const p of f){const g=p.outboundLayer;if(-1!==this.inputLayers.map(ae=>ae.id).indexOf(g.id))continue;const v=[];for(let ae=0;ae<p.inboundLayers.length;ae++)v.push(i[`${p.inboundLayers[ae].name}_${p.nodeIndices[ae]}_${p.tensorIndices[ae]}`]);const V=kv(g.computeOutputShape(pu(v))),Y=g.inboundNodes.indexOf(p);for(let ae=0;ae<V.length;ae++)i[`${g.name}_${Y}_${ae}`]=V[ae]}}const a=[],c=[];for(let u=0;u<this.outputLayers.length;u++)c.push(`${this.outputLayers[u].name}_${this.outputLayersNodeIndices[u]}_${this.outputLayersTensorIndices[u]}`);for(let u=0;u<c.length;u++){const f=c[u];rd(f in i),a.push(i[f])}return pu(a)}runInternalGraph(t,e){null==e&&(e=lp(null,t.length));const i={};for(let f=0;f<this.inputs.length;++f)i[this.inputs[f].id]=[t[f],e[f]];const r=Object.keys(this.nodesByDepth).map(f=>parseInt(f,10)).sort(r_);for(const f of r){const p=this.nodesByDepth[f];for(const g of p){const v=g.outboundLayer,T=g.inputTensors,V=g.outputTensors,Y=new Array;for(const ae of T)ae.id in i&&Y.push(i[ae.id]);if(Y.length===T.length){let te,_e,Te,nt,ae={};if(null!=g.callArgs&&(ae=g.callArgs),1===Y.length){const[it,St]=Y[0];null==ae.mask&&(ae.mask=St),Te=Wo(v.call(it,ae)),nt=Wo(v.computeMask(it,St)),te=[it],_e=[St]}else te=Y.map(it=>it[0]),_e=Y.map(it=>it[1]),null==ae.mask&&(ae.mask=_e),Te=Wo(v.call(te,ae)),nt=Wo(v.computeMask(te,_e));if(v.activityRegularizer)throw new xs("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let it=0;it<V.length;++it)i[V[it].id]=[Te[it],nt[it]]}}}const a=[],c=[],u=[];for(const f of this.outputs){rd(f.id in i,`Could not compute output ${f.name} : ${f.id}`);const[p,g]=i[f.id];u.push(p.shape),a.push(p),c.push(g)}return[a,c,u]}buildNodeConversionMap(t){const e={};let i;for(const r of this.layers){i=r instanceof Wd?1:0;for(let a=0;a<r.inboundNodes.length;a++){const c=Wd.nodeKey(r,a);this.containerNodes.has(c)&&(e[c]=i,i+=1)}}return e}getLayer(t,e){if(null!=e)return this.findLayer(e);if(null==t)throw new In("Provide either a layer name or layer index");if("number"==typeof t)return this.findLayer(t);for(const i of this.layers)if(i.name===t)return i;throw new In(`No such layer: ${t}`)}findLayer(t){if(this.layers.length<=t)throw new In(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}calculateLosses(){return k(()=>{const t=[];for(const e of this.layers)for(let i=0;i<e.inboundNodes.length;++i){const r=Wd.nodeKey(e,i);this.containerNodes.has(r)&&t.push(...e.calculateLosses())}return t})}getConfig(){const t={name:this.name},e=this.buildNodeConversionMap(this.layers),i=[];for(const c of this.layers){const u=c.getClassName(),f=c.getConfig(),p=[];for(let v=0;v<c.inboundNodes.length;v++){const T=c.inboundNodes[v],V=Wd.nodeKey(c,v);let Y={};if(this.containerNodes.has(V)){if(T.callArgs)try{JSON.stringify(T.callArgs),Y=T.callArgs}catch{console.warn(`Layer ${c.name} was passed non-serializable keyword arguments: ${T.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),Y={}}if(T.inboundLayers.length>0){const ae=[];for(let te=0;te<T.inboundLayers.length;te++){const _e=T.inboundLayers[te],nt=T.tensorIndices[te];let St=e[Wd.nodeKey(_e,T.nodeIndices[te])];null==St&&(St=0),ae.push([_e.name,St,nt,Y])}p.push(ae)}}}const g={};g.name=c.name,g.className=u,g.config=f,g.inboundNodes=p,i.push(g)}t.layers=i;const r=[];for(let c=0;c<this.inputLayers.length;c++){const u=this.inputLayers[c],p=Wd.nodeKey(u,this.inputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),r.push([u.name,g,this.inputLayersTensorIndices[c]])}t.inputLayers=r;const a=[];for(let c=0;c<this.outputLayers.length;c++){const u=this.outputLayers[c],p=Wd.nodeKey(u,this.outputLayersNodeIndices[c]);if(!this.containerNodes.has(p))continue;let g=e[p];null==g&&(g=0),a.push([u.name,g,this.outputLayersTensorIndices[c]])}return t.outputLayers=a,t}static fromConfig(t,e,i={},r=!1){const a={},c={};function u(te,_e){te.name in c?c[te.name].push(_e):c[te.name]=[_e]}function f(te,_e){const Te=[];let nt;for(const it of _e){const St=it[0],Xt=it[1],sn=it[2];if(nt=null==it[3]?{}:it[3],!(St in a))return void u(te,_e);const dn=a[St];if(dn.inboundNodes.length<=Xt)return void u(te,_e);Te.push(dn.inboundNodes[Xt].outputTensors[sn])}Te.length>0&&te.apply(pu(Te),nt)}function p(te){const _e=te.name,Te=Uh(te,null!=e.customObjects?e.customObjects:{});Te.setFastWeightInitDuringBuild(r),a[_e]=Te,te.inboundNodes.forEach(it=>{if(!(it instanceof Array))throw new In(`Corrupted configuration, expected array for nodeData: ${it}`);u(Te,it)})}const g=e.name,v=e.layers;for(const te of v)p(te);for(;!pv(c);)for(const te of v){const _e=a[te.name];if(_e.name in c){const Te=c[_e.name];delete c[_e.name];for(const nt of Te)f(_e,nt)}}const T=[],V=[],Y=e.inputLayers;for(const te of Y){const _e=te[0],Te=te[1],nt=te[2];rd(_e in a),T.push(a[_e].inboundNodes[Te].outputTensors[nt])}const ae=e.outputLayers;for(const te of ae){const _e=te[0],Te=te[1],nt=te[2];rd(_e in a),V.push(a[_e].inboundNodes[Te].outputTensors[nt])}return new t({inputs:T,outputs:V,name:g})}get stateful(){if(this._stateful)throw new In("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const t of this.layers)if(t.stateful)return!0;return!1}resetStates(){k(()=>{this.layers.forEach(t=>{t.stateful&&t.resetStates()})})}}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function ME(n,t){return function AE(n,t,e){const i=t.length;if(null==n||Array.isArray(n)&&0===n.length)return t.map(r=>null);if(1===i)return Array.isArray(n)&&1===n.length?n:"object"==typeof n&&t[0]in n?[n[t[0]]]:[n];if(Array.isArray(n)){if(n.length!==i)throw new Error(`Provided ${e} is an array of ${n.length} element(s), but the model has ${i} outputs. Make sure a set of weights is provided for each model output.`);return n}if("object"==typeof n&&Object.keys(n).length>0&&"object"==typeof n[Object.keys(n)[0]]){const r=[];return t.forEach(a=>{r.push(a in n?n[a]:null)}),r}throw new Error(`The model has multiple (${i}) outputs, so ${e} must be either an array with ${i} elements or an object with ${t} keys. Provided ${e} not understood: ${JSON.stringify(n)}`)}(n,t,"classWeight")}function $T(n,t,e,i){return OE.apply(this,arguments)}function OE(){return(OE=(0,q.A)(function*(n,t,e,i){if(null!=t||null!=i)throw new Error("Support sampleWeight is not implemented yet");if(null!=e){const r=k(()=>{if(1===n.shape.length)return Id(n);if(2===n.shape.length){if(n.shape[1]>1)return Fp(n,1);if(1===n.shape[1])return Tn(n,[n.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${n.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${n.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),a=Array.from(yield r.data());B(r);const c=[];return a.forEach(u=>{if(null==e[u])throw new Error(`classWeight must contain all classes in the training data. The class ${u} exists in the data but not in classWeight`);c.push(e[u])}),Qc(c,"float32")}return null})).apply(this,arguments)}function RE(n,t){return qt(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function NE(n,t){let e,i;e=t.xs,i=t.ys,Ce(null!=e&&null!=i,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`);const a=BT("input",n.inputNames,e),c=BT("output",n.outputNames,i),u=a[0].shape[0];Ce(a.length===n.inputs.length,()=>`LayersModel has ${n.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(n.inputNames)})`),Ce(c.length===n.outputs.length,()=>`LayersModel has ${n.outputs.length} outputs, but the dataset provides ${c.length} outputs.  (Expected output keys: ${JSON.stringify(n.outputNames)})`);for(let f=0;f<a.length;f++)Ce(a[f].shape[0]===u,()=>`Batch size mismatch: input ${n.inputNames[f]} has ${a[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);for(let f=0;f<c.length;f++)Ce(c[f].shape[0]===u,()=>`Batch size mismatch: output ${n.outputNames[f]} has ${c[f].shape[0]}; expected  ${u} based on input ${n.inputNames[0]}.`);return{xs:a,ys:c}}function BT(n,t,e){if(e instanceof so)return[e];if(Array.isArray(e))return Ce(e.length===t.length,()=>`Received an array of ${e.length} Tensors, but expected ${t.length} to match the ${n} keys ${t}.`),e;{const i=[];for(const r of t){if(null==e[r])throw new In(`The feature data generated by the dataset lacks the required ${n} key '${r}'.`);i.push(e[r])}return i}}function PE(){return(PE=(0,q.A)(function*(n,t,e){const i=null!=e.batchesPerEpoch;if(Ce(null!=n.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Ce(null!=e,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Ce(null!=e.epochs&&e.epochs>0&&Number.isInteger(e.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${e.epochs}`),Ce(!i||e.batchesPerEpoch>0&&Number.isInteger(e.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${e.batchesPerEpoch}`),Ce(null==e.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),n.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");n.isTraining=!0;try{const r=null!=e.validationData;let a,c;if(r)if(VT(e.validationData))Ce(null==e.validationBatches||e.validationBatches>0&&Number.isInteger(e.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${e.validationBatches}`);else{const te=function iR(n){if(3===n.length)throw new xs("Validation with sample weights is not implemented yet.");return{xs:n[0],ys:n[1]}}(e.validationData);a=te.xs,c=te.ys}const u=n.makeTrainFunction(),f=n.getDedupedMetricsNames();let p;p=r?f.slice().concat(f.map(te=>"val_"+te)):f.slice();const g=Nv(e.callbacks,e.yieldEvery),v=null==e.verbose?1:e.verbose,{callbackList:T,history:V}=TT(g,v,e.epochs,null,null,function sR(n,t){let e=null;return null!=t.batchesPerEpoch?e=t.batchesPerEpoch:Number.isFinite(n.size)&&(e=n.size),e}(t,e),null,r,p);T.setModel(n),n.history=V,yield T.onTrainBegin(),n.stopTraining_=!1;let Y=null==e.initialEpoch?0:e.initialEpoch,ae=yield t.iterator();for(;Y<e.epochs;){const te={};yield T.onEpochBegin(Y);let _e=0,Te=0;for(i||(ae=yield t.iterator());!i||_e<e.batchesPerEpoch;){const nt=yield ae.next();if(i&&nt.done){console.warn(`You provided \`batchesPerEpoch\` as ${e.batchesPerEpoch}, but your dataset iterator ran out of data after ${_e} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${e.batchesPerEpoch*e.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(null!=nt.value){const{xs:it,ys:St}=NE(n,nt.value),Xt={};Xt.batch=Te,Xt.size=it[0].shape[0],yield T.onBatchBegin(Te,Xt);const sn=[];if(null!=e.classWeight){const Cn=ME(e.classWeight,n.outputNames);for(let Vn=0;Vn<Cn.length;++Vn)sn.push(yield $T(St[Vn],null,Cn[Vn]))}const dn=it.concat(St).concat(sn),wn=u(dn);B(dn);for(let Cn=0;Cn<f.length;++Cn){const qn=wn[Cn];Xt[f[Cn]]=qn,he(qn)}yield T.onBatchEnd(Te,Xt),h_(Xt),Te++,_e++}if(i?_e>=e.batchesPerEpoch:nt.done){if(r){let it;it=VT(e.validationData)?Wo(yield n.evaluateDataset(e.validationData,{batches:e.validationBatches})):Wo(n.evaluate(a,c,{batchSize:null==e.validationBatchSize?32:e.validationBatchSize,verbose:0}));for(let St=0;St<n.metricsNames.length;++St)te[`val_${n.metricsNames[St]}`]=it[St]}break}if(n.stopTraining_)break}if(yield T.onEpochEnd(Y,te),Y++,n.stopTraining_)break}return yield T.onTrainEnd(),yield n.history.syncData(),n.history}finally{n.isTraining=!1}})).apply(this,arguments)}function VT(n){return"function"==typeof n.iterator}function __(){return(__=(0,q.A)(function*(n,t,e){const i=null!=(e=e||{}).batches,r=n.testFunction;let a=[];if(e.verbose>0)throw new xs("Verbose mode is not implemented yet.");Ce(!i||e.batches>0&&Number.isInteger(e.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(e.batches)}`);const c=function oR(n){return"function"==typeof n.next}(t)?t:yield t.iterator();let u=0,f=0;for(;!i||f<e.batches;){const p=yield c.next();if(a=k(()=>{if(p.value){const{xs:g,ys:v}=NE(n,p.value),T=g.concat(v),V=k(()=>r(T));if(B(T),0===f)for(let ae=0;ae<V.length;++ae)a.push(Wr(0));const Y=T[0].shape[0];for(let ae=0;ae<V.length;++ae){const te=V[ae],_e=a[ae];a[ae]=k(()=>tt(a[ae],qt(Y,te))),f>0&&B(_e)}B(V),u+=Y,++f}return a}),p.done){i&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${e.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let p=0;p<a.length;++p){const g=a[p];a[p]=zn(a[p],u),B(g)}return pu(a)})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function y_(n){Ce(n>0&&Number.isInteger(n),()=>`batchSize is required to be a positive integer, but got ${n}`)}function Nm(n,t,e){return null==n?[null]:Array.isArray(n)?n.map(i=>df(i,t,e-t)):df(n,t,e-t)}function FE(n,t){return k(()=>null==n?null:Array.isArray(n)?n.map(e=>FE(e,t)):xv(n,"int32"===t.dtype?t:Xi(t,"int32")))}function v_(n,t){const e=[];let i=0,r=null;for(;i<n;)r=i+t,r>=n&&(r=n),e.push([i,r]),i=r;return e}function LE(n){const t=[];n instanceof so&&(n=[n]);for(let e=0;e<n.length;++e){const i=n[e];if(1===i.rank)t.push(s_(i,1));else{if(0===i.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(i)}}return t}function wd(n,t){if(null==n)return;const e=[];if(t instanceof so)e.push(t.id);else if(Array.isArray(t))t.forEach(r=>e.push(r.id));else if(null!=t)for(const r in t)e.push(t[r].id);const i=[];if(n instanceof so)-1===e.indexOf(n.id)&&i.push(n);else if(Array.isArray(n))n.forEach(r=>{-1===e.indexOf(r.id)&&i.push(r)});else if(null!=n)for(const r in n){const a=n[r];-1===e.indexOf(a.id)&&i.push(a)}i.forEach(r=>{r.isDisposed||r.dispose()})}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function zv(n){return Array.isArray(n)}function jv(n){return!function UT(n){return n instanceof so}(n)&&!zv(n)}function Wv(n,t,e,i=!0,r=""){if(null==t||0===t.length){if(null!=n){let c=!1;if(zv(n)&&n.length>0)c=!0;else if(jv(n)){for(const u in n)if(n.hasOwnProperty(u)){c=!0;break}}else c=!0;if(c)throw new In(`Error when checking model ${r} expected no data, but got ${n}`)}return[]}if(null==n)return t.map(c=>null);let a;if(jv(n)){a=[];for(const c of t){if(null==n[c])throw new In(`No data provided for "${c}". Need data for each key in: ${t}`);a.push(n[c])}}else if(zv(n)){if(n.length!==t.length)throw new In(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${n}`);a=n}else{if(t.length>1)throw new In(`The model ${r} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${n.shape}`);a=[n]}if(a=LE(a),null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new In(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s). but got array with shape ${u.shape}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g>=0&&u.shape[f]!==g)throw new In(`${r} expected a batch of elements where each example has shape [${e[c].slice(1,e[c].length)}] (i.e.,tensor shape [*,${e[c].slice(1,e[c].length)}]) but the ${r} received an input with ${u.shape[0]} examples, each with shape [${u.shape.slice(1,u.shape.length)}] (tensor shape [${u.shape}])`)}}return a}function BE(n,t,e,i=!0,r=""){let a;if(Array.isArray(n)){if(n.length!==t.length)throw new In(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${n.length} Tensors(s).`);a=n}else{if(t.length>1)throw new In(`The model expects ${t.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(n.shape)}.`);a=[n]}if(null!=e)for(let c=0;c<t.length;++c){if(null==e[c])continue;const u=a[c];if(u.shape.length!==e[c].length)throw new In(`Error when checking ${r}: expected ${t[c]} to have ${e[c].length} dimension(s), but got array with shape ${JSON.stringify(u.shape)}`);for(let f=0;f<e[c].length;++f){if(0===f&&!i)continue;const g=e[c][f];if(null!=g&&g!==u.shape[f])throw new In(`Error when checking ${r}: expected ${t[c]} to have shape ${JSON.stringify(e[c])} but got array with shape ${JSON.stringify(u.shape)}.`)}}}let fp=(()=>{class n extends Wd{constructor(e){super(e),this.isTraining=!1}summary(e,i,r=console.log){if(!this.built)throw new In("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function FT(n,t,e,i=console.log){const r=function eR(n){let t=!0;const e=[],i=[];for(const r in n.nodesByDepth)e.push(n.nodesByDepth[r]);for(const r of e){if(r.length>1||1===r.length&&r[0].inboundLayers.length>1){t=!1;break}i.push(...r)}if(t)for(const r of n.layers){let a=!1;for(const c of r.inboundNodes)if(-1!==i.indexOf(c)){if(a){t=!1;break}a=!0}if(!t)break}return t}(n),a=["Layer (type)","Input Shape","Output shape","Param #"];let c;if(r?(t=t||90,e=e||[.32,.61,.89,1]):(t=t||115,e=e||[.24,.48,.7,.8,1]),e[e.length-1]<=1&&(e=e.map(g=>Math.floor(t*g))),!r){a.push("Receives inputs"),c=[];for(const g in n.nodesByDepth)c.push(...n.nodesByDepth[g])}i("_".repeat(t)),vf(a,e,i),i("=".repeat(t));const u=n.layers;for(let g=0;g<u.length;++g)r?tR(u[g],e,i):LT(u[g],e,c,i),i((g===u.length-1?"=":"_").repeat(t));n.checkTrainableWeightsConsistency();const f=function JO(n){let t;return t=Iv(null!=n.collectedTrainableWeights?n.collectedTrainableWeights:n.trainableWeights),t}(n),p=Iv(n.nonTrainableWeights);i(`Total params: ${f+p}`),i(`Trainable params: ${f}`),i(`Non-trainable params: ${p}`),i("_".repeat(t))}(this,e,i,r)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function QO(n){const t={Adagrad:()=>uf.adagrad(.01),Adadelta:()=>uf.adadelta(1,.95,lc()),Adam:()=>uf.adam(.001,.9,.999,lc()),Adamax:()=>uf.adamax(.002,.9,.999,lc(),0),RMSProp:()=>uf.rmsprop(.001,.9,0,lc()),SGD:()=>uf.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,n in t)return t[n]();throw new In(`Unknown Optimizer ${n}`)}
/**
       * @license
       * Copyright 2019 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Dh))throw new In("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let i=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new In(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);i=e.loss.map(f=>EE(f))}else{const u=EE(e.loss);this.outputs.forEach(f=>{i.push(u)})}else{e.loss=e.loss;for(const u in e.loss)if(-1===this.outputNames.indexOf(u))throw new In(`Unknown entry in loss dictionary: "${u}". Only expected the following keys: ${this.outputNames}`);for(const u of this.outputNames)null==e.loss[u]&&console.warn(`Output "${u}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${u} during training`),i.push(EE(e.loss[u]))}this.lossFunctions=i,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let u=0;u<this.outputs.length;++u){const f=this.internalOutputShapes[u];this.feedOutputNames.push(this.outputNames[u]),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[u])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],up("loss",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&this.outputs.length>1&&(this.metricsTensors.push([this.lossFunctions[u],u]),this.metricsNames.push(this.outputNames[u]+"_loss"))});const a=function zT(n,t){if(null==n||Array.isArray(n)&&0===n.length)return t.map(i=>[]);let e;if("string"==typeof n||"function"==typeof n)e=[n];else{if(!Array.isArray(n)&&"object"!=typeof n)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${n}`);e=n}if(Array.isArray(e))return t.map(i=>e);{const i=[];for(const r of t){let a=e.hasOwnProperty(r)?e[r]:[];Array.isArray(a)||(a=[a]),i.push(a)}return i}}(e.metrics,this.outputNames),c=(u,f,p)=>{this.outputNames.length>1&&(f=this.outputNames[u]+"_"+f),this.metricsNames.push(f),this.metricsTensors.push([p,u])};up("metric",()=>{for(let u=0;u<this.outputs.length;++u)-1===r.indexOf(u)&&(g=>{let T,V,Y;for(const ae of g){if("string"==typeof ae&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(ae)){const _e=this.internalOutputShapes[u];let Te;1===_e[_e.length-1]||this.lossFunctions[u]===vE?-1!==["accuracy","acc"].indexOf(ae)?V=xE:-1!==["crossentropy","ce"].indexOf(ae)&&(V=OT):this.lossFunctions[u]===m_?-1!==["accuracy","acc"].indexOf(ae)?V=KO:-1!==["crossentropy","ce"].indexOf(ae)&&(V=CE):-1!==["accuracy","acc"].indexOf(ae)?V=Rm:-1!==["crossentropy","ce"].indexOf(ae)&&(V=NT),-1!==["accuracy","acc"].indexOf(ae)?Te="acc":-1!==["crossentropy","ce"].indexOf(ae)&&(Te="ce"),Y=V,T=""+Te}else Y=qO(ae),T=""+Vv(ae);let te;up(T,()=>{te=Y}),c(u,T,te)}})(a[u])}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,i,r={}){const a=null==r.batchSize?32:r.batchSize;y_(a);const u=this.standardizeUserDataXY(e,i,!0,a);try{const f=u[0].concat(u[1]);return this.makeTestFunction(),pu(this.testLoop(this.testFunction,f,a,r.verbose,r.steps))}finally{wd(u[0],e),wd(u[1],i)}}evaluateDataset(e,i){var r=this;return(0,q.A)(function*(){return r.makeTestFunction(),function aR(n,t,e){return __.apply(this,arguments)}(r,e,i)})()}checkNumSamples(e,i,r,a="steps"){let c;if(null!=r){if(c=null,null!=i)throw new In(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${i}`)}else{if(null==e)throw new In(`Either the input data should have a defined shape, or ${a} shoud be specified.`);c=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return c}execute(e,i){if(Array.isArray(i)&&0===i.length)throw new In("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(i),c=this.retrieveSymbolicTensors(r?i:[i]),u=new mf;if(e instanceof so&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new In(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let p=0;p<this.inputs.length;++p)u.add(this.inputs[p],e[p])}else for(const p of this.inputs){const g=e[p.name];if(null==g)throw new In(`No value is provided for the model's input ${p.name}`);u.add(p,g)}const f=gf(c,u);return r?f:f[0]}retrieveSymbolicTensors(e){const i=lp(null,e.length);let r=e.length;for(const a of this.layers){const c=Array.isArray(a.output)?a.output:[a.output],u=c.map(f=>f.name);for(let f=0;f<e.length;++f){const p=u.indexOf(e[f]);if(-1!==p&&(i[f]=c[p],r--),0===r)break}if(0===r)break}if(r>0){const a=[];throw i.forEach((c,u)=>{null==c&&a.push(e[u])}),new In(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return i}predictLoop(e,i=32,r=!1){return k(()=>{const a=this.checkNumSamples(e);if(r)throw new xs("Verbose predictLoop() is not implemented yet.");const c=v_(a,i),u=this.outputs.map(f=>[]);for(let f=0;f<c.length;++f)k(()=>{const T=Nm(e,c[f][0],c[f][1]),V=[];if(Array.isArray(T))for(let ae=0;ae<T.length;++ae)V.push({key:this.inputs[ae],value:T[ae]});else V.push({key:this.inputs[0],value:T});const Y=new mf(V);return gf(this.outputs,Y)}).forEach((g,v)=>u[v].push(g));return pu(u.map(f=>Wl(f,0)))})}predict(e,i={}){const r=LE(e);BE(r,this.inputNames,this.feedInputShapes,!1);try{const a=null==i.batchSize?32:i.batchSize;return y_(a),this.predictLoop(r,a)}finally{wd(r,e)}}predictOnBatch(e){BE(e,this.inputNames,this.feedInputShapes,!0);const i=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,i)}standardizeUserDataXY(e,i,r=!0,a){if(null==this.optimizer_)throw new Jc("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const c=[];for(let u=0;u<this.feedOutputShapes.length;++u){const f=this.feedOutputShapes[u];c.push(this.feedLossFns[u]===m_?f.slice(0,f.length-1).concat([1]):f)}if(function lR(n,t,e){const i=Bh(n.map(a=>a.shape[0]));i.sort();const r=Bh(t.map(a=>a.shape[0]));if(r.sort(),i.length>1)throw new In(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map(a=>a.shape))}`);if(r.length>1)throw new In(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(a=>a.shape))}`);if(i.length>0&&r.length>0&&!Oe(i,r))throw new In(`Input Tensors should have the same number of samples as target Tensors. Found ${i[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=Wv(e,this.feedInputNames,this.feedInputShapes,!1,"input"),i=Wv(i,this.feedOutputNames,c,!1,"target")),function $E(n,t,e){const i=[Am,vE,Pv];for(let r=0;r<n.length;++r){const a=n[r],c=t[r],u=e[r];if(null!=c){if(c===Pv&&1===a.shape[a.shape.length-1])throw new In(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==i.indexOf(c)){const f=a.shape.slice(1),p=u.slice(1);for(let g=0;g<f.length;++g){const T=p[g];if(null!=T&&f[g]!==T)throw new In(`A target Tensor with shape ${a.shape} was passed for an output of shape ${u}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(i,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=a&&a>0&&e[0].shape[0]%a!=0)throw new In(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,i]}standardizeUserData(e,i,r,a,c=!0,u){var f=this;return(0,q.A)(function*(){const[p,g]=f.standardizeUserDataXY(e,i,c,u);if(null!=r)throw new Error("sample weight is not supported yet.");let v=null;if(null!=a){const T=ME(a,f.outputNames);v=[];for(let V=0;V<T.length;++V)v.push(yield $T(g[V],null,T[V]))}return[p,g,v]})()}testLoop(e,i,r,a=0,c){return k(()=>{const u=this.checkNumSamples(i,r,c,"steps"),f=[];if(a>0)throw new xs("Verbose mode is not implemented yet.");if(null!=c)throw new xs("steps mode in testLoop() is not implemented yet");{const p=v_(u,r),g=Qc($d(0,u));for(let v=0;v<p.length;++v){const T=p[v][0],V=p[v][1],Y=df(g,T,V-T),ae=FE(i,Y),te=e(ae);if(0===v)for(let _e=0;_e<te.length;++_e)f.push(Wr(0));for(let _e=0;_e<te.length;++_e)f[_e]=tt(f[_e],qt(V-T,te[_e]))}for(let v=0;v<f.length;++v)f[v]=zn(f[v],u)}return f})}getDedupedMetricsNames(){const e=this.metricsNames,i=[];for(let r=0;r<e.length;++r){const a=e[r];let c=a;Ll(e,a)>1&&(c+=`_${Ll(e.slice(0,r),a)}`),i.push(c)}return i}makeTrainFunction(){return e=>{const i=[],r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),c=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),u=[],p=this.collectedTrainableWeights.map(T=>T.read());return[this.optimizer_.minimize(()=>{const T=[];for(let te=0;te<this.inputs.length;++te)T.push({key:this.inputs[te],value:r[te]});const V=new mf(T),Y=gf(this.outputs,V,{training:!0});let ae;for(let te=0;te<this.lossFunctions.length;++te){let Te=(0,this.lossFunctions[te])(a[te],Y[te]);null!=c[te]&&(Te=RE(Te,c[te]));const nt=tl(Te);i.push(nt),ae=0===te?Te:tt(ae,Te)}for(let te=0;te<this.metricsTensors.length;++te){let _e;if(this.outputs.length>1&&te<this.outputs.length)_e=i[te];else{const nt=this.metricsTensors[te][1];_e=tl((0,this.metricsTensors[te][0])(a[nt],Y[nt]))}he(_e),u.push(_e)}return ae=tl(ae),this.calculateLosses().forEach(te=>{ae=tt(ae,te)}),ae},!0,p)].concat(u)}}makeTestFunction(){this.testFunction=e=>k(()=>{const i=[];let r;const a=e.slice(0,this.inputs.length),c=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),u=[];for(let g=0;g<this.inputs.length;++g)u.push({key:this.inputs[g],value:a[g]});const f=new mf(u),p=gf(this.outputs,f);for(let g=0;g<this.lossFunctions.length;++g){const T=tl((0,this.lossFunctions[g])(c[g],p[g]));r=0===g?T:tt(r,T),i.push(r)}for(let g=0;g<this.metricsTensors.length;++g){const T=this.metricsTensors[g][1],V=tl((0,this.metricsTensors[g][0])(c[T],p[T]));i.push(V)}return i})}fit(e,i,r={}){var a=this;return(0,q.A)(function*(){if(a.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let c,u,f,p,g,v,T,V,Y;a.isTraining=!0;try{const ae=null==r.batchSize?32:r.batchSize;y_(ae);const _e=yield a.standardizeUserData(e,i,r.sampleWeight,r.classWeight,!1,ae);c=_e[0],u=_e[1],Y=_e[2];let nt,Te=!1;if(null!=r.validationData&&r.validationData.length>0){if(Te=!0,2!==r.validationData.length)throw 3===r.validationData.length?new xs("validationData including sample weights is not supported yet."):new In(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);g=r.validationData[0],v=r.validationData[1];const qn=yield a.standardizeUserData(g,v,null,null,!0,ae);T=qn[0],V=qn[1],nt=T.concat(V)}else if(null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1){Te=!0;const Vn=Math.floor(c[0].shape[0]*(1-r.validationSplit)),qn=c[0].shape[0];T=Nm(c,Vn,qn),f=c,c=Nm(c,0,Vn),V=Nm(u,Vn,qn),p=u,u=Nm(u,0,Vn),nt=T.concat(V)}else null!=r.validationSteps&&(Te=!0);const it=c.concat(u).concat(Y);a.checkTrainableWeightsConsistency();const St=a.makeTrainFunction(),Xt=a.getDedupedMetricsNames();let sn,dn;Te?(a.makeTestFunction(),sn=a.testFunction,dn=Xt.slice().concat(Xt.map(Vn=>"val_"+Vn))):(sn=null,nt=[],dn=Xt.slice());const wn=Nv(r.callbacks,r.yieldEvery);return yield a.fitLoop(St,it,Xt,ae,r.epochs,r.verbose,wn,sn,nt,r.shuffle,dn,r.initialEpoch,null,null)}finally{a.isTraining=!1,wd(c,e),wd(u,i),wd(f,e),wd(p,i),wd(T,g),wd(V,v),null!=Y&&B(Y)}})()}fitLoop(e,i,r,a,c,u,f,p,g,v,T,V,Y,ae){var te=this;return(0,q.A)(function*(){null==a&&(a=32),null==c&&(c=1),null==v&&(v=!0),null==V&&(V=0);let _e=!1;if(null!=p&&null!=g&&(_e=!0),null!=ae&&(_e=!0,null==Y))throw new In("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const Te=te.checkNumSamples(i,a,Y,"steps_per_epoch");let nt;null!=Te&&(nt=$d(0,Te)),null==u&&(u=1);const{callbackList:it,history:St}=TT(f,u,c,V,Te,Y,a,_e,T);it.setModel(te),te.history=St,yield it.onTrainBegin(),te.stopTraining_=!1;for(let Xt=V;Xt<c;++Xt){yield it.onEpochBegin(Xt);const sn={};if(null!=Y)throw new xs("stepsPerEpoch mode is not implemented yet.");{if("batch"===v)throw new xs("batch shuffling is not implemneted yet");v&&K(nt);const dn=Qc(nt),wn=v_(Te,a);for(let Cn=0;Cn<wn.length;++Cn){const Vn={};if(yield it.onBatchBegin(Cn,Vn),k(()=>{const qn=wn[Cn][0],ii=wn[Cn][1],ri=df(dn,qn,ii-qn);Vn.batch=Cn,Vn.size=ii-qn;const oi=FE(i,ri),hi=e(oi);for(let _i=0;_i<r.length;++_i){const vi=hi[_i];Vn[r[_i]]=vi,he(vi)}if(Cn===wn.length-1&&_e){const _i=te.testLoop(p,g,a);for(let ai=0;ai<r.length;++ai){const vi=r[ai],Ni=_i[ai];he(Ni),sn["val_"+vi]=Ni}}}),yield it.onBatchEnd(Cn,Vn),h_(Vn),te.stopTraining_)break}dn.dispose()}if(yield it.onEpochEnd(Xt,sn),te.stopTraining_)break}return yield it.onTrainEnd(),yield te.history.syncData(),te.history})()}fitDataset(e,i){var r=this;return(0,q.A)(function*(){return function rR(n,t,e){return PE.apply(this,arguments)}(r,e,i)})()}trainOnBatch(e,i){var r=this;return(0,q.A)(function*(){const a=yield r.standardizeUserData(e,i),c=a[0],u=a[1],p=r.makeTrainFunction()(c.concat(u)),g=[];for(const v of p){const T=yield v.data();g.push(T[0])}return B(p),wd(a[0],e),wd(a[1],i),pu(g)})()}getNamedWeights(e){const i=[],r=null!=e&&e.trainableOnly,a=r?this.trainableWeights:this.weights,c=this.getWeights(r);for(let u=0;u<a.length;++u)r&&!a[u].trainable||i.push({name:a[u].originalName,tensor:c[u]});return i}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const i=Gc().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=i-Gc().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=sd(this.loss);else if(Array.isArray(this.loss)){for(const i of this.loss)if("string"!=typeof i)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(i=>sd(i))}else{const i=Object.keys(this.loss);e={};const r=this.loss;for(const a of i){if("string"!=typeof r[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=sd(r[a])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[sd(Vv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>sd(Vv(e)));{const e={};for(const i in this.metrics)e[i]=sd(Vv(this.metrics[i]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const r=Uh(TE(e.optimizer_config));let a,c;if("string"==typeof e.loss)a=bd(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(u=>bd(u));else if(null!=e.loss){a={};for(const u in e.loss)a[u]=bd(e.loss[u])}if(Array.isArray(e.metrics))c=e.metrics.map(u=>bd(u));else if(null!=e.metrics){c={};for(const u in e.metrics)c[u]=bd(e.metrics[u])}this.compile({loss:a,metrics:c,optimizer:r})}save(e,i){var r=this;return(0,q.A)(function*(){if("string"==typeof e){const v=Aa(e);if(0===v.length)throw new In(`Cannot find any save handlers for URL '${e}'`);if(v.length>1)throw new In(`Found more than one (${v.length}) save handlers for URL '${e}'`);e=v[0]}if(null==e.save)throw new In("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const a=yield Un(r.getNamedWeights(i)),p={modelTopology:r.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v4.20.0",convertedBy:null};if(null!=i&&i.includeOptimizer&&null!=r.optimizer){p.trainingConfig=r.getTrainingConfig();const v="optimizer",{data:T,specs:V}=yield Un(yield r.optimizer.getWeights(),v);a.specs.push(...V),a.data=ta([a.data,T])}return null!=r.userDefinedMetadata&&(ZO(r.userDefinedMetadata,r.name,!0),p.userDefinedMetadata=r.userDefinedMetadata),p.weightData=a.data,p.weightSpecs=a.specs,e.save(p)})()}setUserDefinedMetadata(e){ZO(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}return n.className="Model",n})();Mi(fp),Mi((()=>{class n extends fp{}return n.className="Functional",n})()),Mi((()=>{class n extends fp{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:gv("sequential_"),null!=e.layers)for(const i of e.layers)this.add(i)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new In(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const i=e instanceof n||e instanceof fp;let r;if(i){if(r=e,1!==r.outputs.length)throw new In("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==r.inputs.length)throw new In("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new In("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=function DO(n){if(null==n.batchShape&&null==n.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=n.batchShape&&null!=n.shape)throw new In("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=n.batchShape;null!=n.shape&&null==t&&(t=[null].concat(n.shape));let e=n.dtype;return null==e&&(e="float32"),new pf({batchInputShape:t,name:n.name,dtype:e,sparse:n.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(i)this.outputs=r.outputs,this.inputs=r.inputs;else{if(1!==e.inboundNodes.length)throw new In(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new In("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=yT(this.outputs[0])}this.inboundNodes=[],new Bu({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:lp(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,i){return null==this.model&&this.build(),this.model.call(e,i)}build(e){if(bo(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new fp({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,i,r=console.log){this.built||this.build(),super.summary(e,i,r)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,i,r={}){if(!this.built)throw new Jc("The model needs to be compiled before being used.");return this.model.evaluate(e,i,r)}evaluateDataset(e,i){var r=this;return(0,q.A)(function*(){if(!r.built)throw new Jc("The model needs to be compiled before being used.");return r.model.evaluateDataset(e,i)})()}predict(e,i={}){return null==this.model&&this.build(),this.model.predict(e,i)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}fit(e,i,r={}){var a=this;return(0,q.A)(function*(){if(!a.built)throw new Jc("The model needs to be compiled before being used.");return a.model.fit(e,i,r)})()}fitDataset(e,i){var r=this;return(0,q.A)(function*(){if(!r.built)throw new Jc("The model needs to be compiled before being used.");return r.model.fitDataset(e,i)})()}trainOnBatch(e,i){var r=this;return(0,q.A)(function*(){return r.model.trainOnBatch(e,i)})()}static fromConfig(e,i,r={},a=!1){let c,u={};if(i instanceof Array){if(null==i[0].className||"Merge"===i[0].className)throw new In("Legacy serialization format not supported yet.");c=i}else Ce(null!=i.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),c=i.layers,delete i.layers,u=i;const f=new e(u);if(!(f instanceof n))throw new xs(`Sequential.fromConfig called on non-Sequential input: ${f}`);for(const p of c){const v=Uh(p,void 0,a);a&&v.setFastWeightInitDuringBuild(!0),f.add(v)}return f}set stopTraining(e){if(null==this.model)throw new In("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new In("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const i of this.layers){const r={};r.className=i.getClassName(),r.config=i.getConfig(),e.push(r)}return{name:this.name,layers:e}}}return n.className="Sequential",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class Lc extends As{getConfig(){return{}}}Mi((()=>{class n extends Lc{apply(e,i=1){return function Em(n,t=1){if(1!==t)throw new xs(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return zf(n)}(e,i)}}return n.className="elu",n})()),Mi((()=>{class n extends Lc{apply(e){return Qp(e)}}return n.className="selu",n})()),Mi((()=>{class n extends Lc{apply(e){return Rd(e)}}return n.className="relu",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>Nh(6,Rd(e)))}}return n.className="relu6",n})()),Mi((()=>{class n extends Lc{apply(e){return e}}return n.className="linear",n})()),Mi((()=>{class n extends Lc{apply(e){return qu(e)}}return n.className="sigmoid",n})()),Mi((()=>{class n extends Lc{apply(e){return function Cm(n){return k(()=>{const t=tt(.5,qt(.2,n));return Su(t,0,1)})}(e)}}return n.className="hardSigmoid",n})()),Mi((()=>{class n extends Lc{apply(e){return Mh(e)}}return n.className="softplus",n})()),Mi((()=>{class n extends Lc{apply(e){return function xm(n){return k(()=>zn(n,tt(jl(n),1)))}(e)}}return n.className="softsign",n})()),Mi((()=>{class n extends Lc{apply(e){return tf(e)}}return n.className="tanh",n})());let HT=(()=>{class n extends Lc{apply(e,i=-1){return tm(e,i)}}return n.className="softmax",n})();function bf(n){return n.getClassName()}function UE(n,t={}){return _m(n,Xu.getMap().classNameMap,t,"activation")}function jh(n){if(null==n){return UE({className:"linear",config:{}})}if("string"==typeof n){const t={};return t.className=n,t.config={},UE(t)}return n instanceof Lc?n:UE(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */Mi(HT),Mi((()=>{class n extends Lc{apply(e,i=-1){return ky(e,i)}}return n.className="logSoftmax",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>k(()=>{const i=Math.sqrt(2),r=qt(.5,tt(1,S0(zn(e,i))));return qt(e,r)}))}}return n.className="gelu",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>qt(.5,qt(e,tt(1,tf(qt(Yr(zn(2,Math.PI)),tt(e,qt(.044715,ih(e,3)))))))))}}return n.className="gelu_new",n})()),Mi((()=>{class n extends Lc{apply(e){return k(()=>qt(e,tf(Mh(e))))}}return n.className="mish",n})()),Mi((()=>{class n extends Lc{apply(e,i=1){return k(()=>qt(qu(qt(e,i)),e))}}return n.className="swish",n})());class zE extends As{}Mi((()=>{class n extends zE{constructor(e){super(),function Xv(n){if(null!=n&&"object"!=typeof n)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${n}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return k(()=>{let i=sc([1]);return this.hasL1&&(i=tt(i,gr(qt(this.l1,jl(e))))),this.hasL2&&(i=tt(i,gr(qt(this.l2,hh(e))))),Tn(i,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,i){return new e({l1:i.l1,l2:i.l2})}}return n.className="L1L2",n})());const jE={l1l2:"L1L2"};function na(n){return cp(n)}function WE(n,t={}){return _m(n,Xu.getMap().classNameMap,t,"regularizer")}function Xa(n){return null==n?null:"string"==typeof n?WE({className:n in jE?jE[n]:n,config:{}}):n instanceof zE?n:WE(n)}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function wf(n,t,e){if("number"==typeof n)return lp(n,t);if(n.length!==t)throw new In(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${n.length} elements.`);for(let i=0;i<t;++i){const r=n[i];if(!rT(r))throw new In(`The ${e} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(n)} including a non-integer number ${r}`)}return n}function Ed(n,t,e,i,r=1){if(null==n)return n;let c;return c="same"===e?n:n-(t+(t-1)*(r-1))+1,Math.floor((c+i-1)/i)}function Hd(n,t,e,i){if(null==n)return null;if("valid"===i)n=n*t+dp([e-t,0]);else{if("same"!==i)throw new In(`Unsupport padding mode: ${i}.`);n*=t}return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */function qv(n,t){return k(()=>(yl(t),"channelsFirst"===t?Bs(n,[0,2,3,1]):n))}function GE(n,t){return k(()=>(yl(t),"channelsFirst"===t?Bs(n,[0,2,3,4,1]):n))}function Qv(n,t,e,i=[1,1],r="valid",a,c,u=null){return k(()=>{if(null==a&&(a="channelsLast"),yl(a),3!==n.rank&&4!==n.rank)throw new In(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${n.rank}.`);if(3!==t.rank&&4!==t.rank)throw new In(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${n.rank}.`);let f=qv(n,a);if("causal"===r)throw new xs("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return f=sw({x:f,filter:t,strides:i,pad:"same"===r?"same":"valid",dilations:c,dataFormat:"NHWC",bias:e,activation:u}),"channelsFirst"===a&&(f=Bs(f,[0,3,1,2])),f})}Mi((()=>{class n extends Vs{constructor(e){super(e??{}),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,i){e=br(e);let r=Rd(e);return null!=this.maxValue&&(r=Su(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ReLU",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=br(e);return Dy(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LeakyReLU",n})()),Mi((()=>{class n extends Vs{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=nl(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Xa(e.alphaRegularizer),this.alphaConstraint=Tc(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new In(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const i=(e=bo(e)).slice(1);if(null!=this.sharedAxes)for(const a of this.sharedAxes)i[a-1]=1;this.alpha=this.addWeight("alpha",i,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(null!=this.sharedAxes)for(let a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new Xl({ndim:e.length,axes:r})],this.built=!0}call(e,i){return e=br(e),Eg(e,this.alpha.read())}getConfig(){const e={alphaInitializer:vl(this.alphaInitializer),alphaRegularizer:na(this.alphaRegularizer),alphaConstraint:uc(this.alphaConstraint),sharedAxes:this.sharedAxes},i=super.getConfig();return Object.assign(e,i),e}}return n.className="PReLU",n})()),Mi((()=>{class n extends Vs{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new xs(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,i){const r=br(e);return zf(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ELU",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e??{}),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,i){const r=br(e);return qt(r,Xi(Pu(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ThresholdedReLU",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new HT).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,i){return k(()=>{let r=br(e);const a=i.mask;if(null!=a){const c=qt(dr(oc(r.shape),Xi(a,r.dtype)),Wr(-1e9));r=tt(r,c)}return this.axis instanceof Array?this.axis.length>1?hu(dr(r,k0(r,this.axis,!0))):this.softmax(r,this.axis[0]):this.softmax(r,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Softmax",n})());class b_ extends Vs{constructor(t,e){if(super(e),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",b_.verifyArgs(e),this.rank=t,Ho(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new xs(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=wf(e.kernelSize,t,"kernelSize"),this.strides=wf(null==e.strides?1:e.strides,t,"strides"),this.padding=null==e.padding?"valid":e.padding,$u(this.padding),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,yl(this.dataFormat),this.activation=jh(e.activation),this.useBias=null==e.useBias||e.useBias,this.biasInitializer=nl(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Tc(e.biasConstraint),this.biasRegularizer=Xa(e.biasRegularizer),this.activityRegularizer=Xa(e.activityRegularizer),this.dilationRate=wf(null==e.dilationRate?1:e.dilationRate,t,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new In(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new In(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new In(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(t){if(rd("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!rE(t.kernelSize,"number",1,3))throw new In(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(t.kernelSize)}.`)}getConfig(){const t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:bf(this.activation),useBias:this.useBias,biasInitializer:vl(this.biasInitializer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),biasConstraint:uc(this.biasConstraint)},e=super.getConfig();return Object.assign(t,e),t}}class Pm extends b_{constructor(t,e){super(t,e),this.kernel=null,Pm.verifyArgs(e),this.filters=e.filters,Ho(this.filters,"filters"),this.kernelInitializer=nl(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Tc(e.kernelConstraint),this.kernelRegularizer=Xa(e.kernelRegularizer)}build(t){t=bo(t);const e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new In(`The channel dimension of the input should be defined. Found ${t[e]}`);const i=t[e],r=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[e]:i}}],this.built=!0}call(t,e){return k(()=>{let i;t=br(t);const r=null==this.bias?null:this.bias.read(),a=mv(this.activation.getClassName());if(null!=a&&2===this.rank)i=Qv(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)i=function KE(n,t,e,i=1,r="valid",a,c=1){return k(()=>{if(null==a&&(a="channelsLast"),yl(a),3!==n.shape.length)throw new In(`The input of a conv1dWithBias operation should be 3, but is ${n.shape.length} instead.`);if(3!==t.shape.length)throw new In(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=e&&1!==e.shape.length)throw new In(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if("channelsFirst"===a&&(n=Bs(n,[0,2,1])),"causal"===r)throw new xs("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let u=yy(n,t,i,"same"===r?"same":"valid","NWC",c);return null!=e&&(u=ad(u,e)),u})}(t,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)i=Qv(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new xs("convolutions greater than 3D are not implemented yet.");i=function XE(n,t,e,i=[1,1,1],r="valid",a,c){return k(()=>{if(null==a&&(a="channelsLast"),yl(a),4!==n.rank&&5!==n.rank)throw new In(`conv3dWithBias expects input to be of rank 4 or 5, but received ${n.rank}.`);if(4!==t.rank&&5!==t.rank)throw new In(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${n.rank}.`);let u=GE(n,a);if("causal"===r)throw new xs("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=_I(u,t,i,"same"===r?"same":"valid","NDHWC",c),null!=e&&(u=ad(u,e)),"channelsFirst"===a&&(u=Bs(u,[0,4,1,2,3])),u})}(t,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(i=this.activation.apply(i))}return i})}computeOutputShape(t){t=bo(t);const e=[],i="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2);for(let a=0;a<i.length;++a){const c=Ed(i[a],this.kernelSize[a],this.padding,this.strides[a],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);e.push(c)}let r=[t[0]];return"channelsLast"===this.dataFormat?(r=r.concat(e),r.push(this.filters)):(r.push(this.filters),r=r.concat(e)),r}getConfig(){const t={filters:this.filters,kernelInitializer:vl(this.kernelInitializer),kernelRegularizer:na(this.kernelRegularizer),kernelConstraint:uc(this.kernelConstraint)},e=super.getConfig();return Object.assign(t,e),t}static verifyArgs(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new In(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(t.filters)}`)}}let qT=(()=>{class n extends Pm{constructor(e){super(2,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!rE(e.kernelSize,"number",1,2))throw new In(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv2D",n})();Mi(qT);let QT=(()=>{class n extends Pm{constructor(e){super(3,e),n.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new In(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv3D",n})();Mi(QT),Mi((()=>{class n extends qT{constructor(e){if(super(e),this.inputSpec=[new Xl({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new In(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=bo(e)).length)throw new In("Input should have rank 4; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new In("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Xl({ndim:4,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r=br(e);if(4!==r.shape.length)throw new In(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f;"channelsFirst"===this.dataFormat?(u=2,f=3):(u=1,f=2);const g=a[f],T=this.kernelSize[1],Y=this.strides[1],_e=[a[0],Hd(a[u],this.strides[0],this.kernelSize[0],this.padding),Hd(g,Y,T,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=Bs(r,[0,2,3,1]));let Te=_0(r,this.kernel.read(),_e,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(Te=Bs(Te,[0,3,1,2])),null!=this.bias&&(Te=ad(Te,this.bias.read(),this.dataFormat)),null!=this.activation&&(Te=this.activation.apply(Te)),Te})}computeOutputShape(e){const i=(e=bo(e)).slice();let r,a,c;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3):(r=3,a=1,c=2);const u=this.kernelSize[0],f=this.kernelSize[1],p=this.strides[0],g=this.strides[1];return i[r]=this.filters,i[a]=Hd(i[a],p,u,this.padding),i[c]=Hd(i[c],g,f,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv2DTranspose",n})()),Mi((()=>{class n extends QT{constructor(e){if(super(e),this.inputSpec=[new Xl({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new In(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=bo(e)).length)throw new In("Input should have rank 5; Received input shape: "+JSON.stringify(e));const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i])throw new In("The channel dimension of the inputs should be defined. Found `None`.");const r=e[i],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Xl({ndim:5,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r=br(e);if(5!==r.shape.length)throw new In(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape;let u,f,p;"channelsFirst"===this.dataFormat?(p=2,u=3,f=4):(p=1,u=2,f=3);const v=a[u],T=a[f],Y=this.kernelSize[1],ae=this.kernelSize[2],_e=this.strides[1],Te=this.strides[2],Xt=[a[0],Hd(a[p],this.strides[0],this.kernelSize[0],this.padding),Hd(v,_e,Y,this.padding),Hd(T,Te,ae,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(r=Bs(r,[0,2,3,4,1]));let sn=vI(r,this.kernel.read(),Xt,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(sn=Bs(sn,[0,4,1,2,3])),null!==this.bias&&(sn=ad(sn,this.bias.read(),this.dataFormat)),null!==this.activation&&(sn=this.activation.apply(sn)),sn})}computeOutputShape(e){const i=(e=bo(e)).slice();let r,a,c,u;"channelsFirst"===this.dataFormat?(r=1,a=2,c=3,u=4):(r=4,a=1,c=2,u=3);const f=this.kernelSize[0],p=this.kernelSize[1],g=this.kernelSize[2],v=this.strides[0],T=this.strides[1],V=this.strides[2];return i[r]=this.filters,i[a]=Hd(i[a],v,f,this.padding),i[c]=Hd(i[c],T,p,this.padding),i[u]=Hd(i[u],V,g,this.padding),i}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}return n.className="Conv3DTranspose",n})());let e1=(()=>{class n extends Pm{constructor(e,i){if(super(e,i),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==i.filters)throw new In("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=i.kernelInitializer||null!=i.kernelRegularizer||null!=i.kernelConstraint)throw new In("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=i.padding&&"same"!==i.padding&&"valid"!==i.padding)throw new In(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(i.padding)}`);this.depthMultiplier=null==i.depthMultiplier?1:i.depthMultiplier,this.depthwiseInitializer=nl(i.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Xa(i.depthwiseRegularizer),this.depthwiseConstraint=Tc(i.depthwiseConstraint),this.pointwiseInitializer=nl(i.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Xa(i.pointwiseRegularizer),this.pointwiseConstraint=Tc(i.pointwiseConstraint)}build(e){if((e=bo(e)).length<this.rank+2)throw new In(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const i="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[i]||e[i]<0)throw new In(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[i])}`);const r=e[i],a=this.kernelSize.concat([r,this.depthMultiplier]),c=[];for(let f=0;f<this.rank;++f)c.push(1);c.push(r*this.depthMultiplier,this.filters);const u=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,u,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",c,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,u,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,u,this.biasConstraint):null,this.inputSpec=[new Xl({ndim:this.rank+2,axes:{[i]:r}})],this.built=!0}call(e,i){return k(()=>{let r;if(e=br(e),1===this.rank)throw new xs("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=Bs(e,[0,2,3,1])),r=$y(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=ad(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),"channelsFirst"===this.dataFormat&&(r=Bs(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=vl(this.depthwiseInitializer),e.pointwiseInitializer=vl(this.pointwiseInitializer),e.depthwiseRegularizer=na(this.depthwiseRegularizer),e.pointwiseRegularizer=na(this.pointwiseRegularizer),e.depthwiseConstraint=uc(this.depthwiseConstraint),e.pointwiseConstraint=uc(this.pointwiseConstraint),e}}return n.className="SeparableConv",n})();
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function r1(n,t,e,i){if(Array.isArray(n)){if(null!=t||null!=e)throw new In("When inputs is an array, neither initialState or constants should be provided");null!=i&&(e=n.slice(n.length-i,n.length),n=n.slice(0,n.length-i)),n.length>1&&(t=n.slice(1,n.length)),n=n[0]}function r(a){return null==a||Array.isArray(a)?a:[a]}return{inputs:n,initialState:t=r(t),constants:e=r(e)}}function YE(n,t,e,i=!1,r,a,c=!1,u=!1){return k(()=>{const f=t.shape.length;if(f<3)throw new In(`Input should be at least 3D, but is ${f}D.`);const p=[1,0].concat($d(2,f));if(t=Bs(t,p),null!=a)throw new xs("The rnn() functoin of the deeplearn.js backend does not support constants yet.");c&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=r&&((r=Xi(Xi(r,"bool"),"float32")).rank===f-1&&(r=Hl(r,-1)),r=Bs(r,p)),i&&(t=Du(t,0),null!=r&&(r=Du(r,0)));const g=[];let v,T=e;const V=t.shape[0],Y=Pd(t);let ae,te;null!=r&&(ae=Pd(r));for(let _e=0;_e<V;++_e){const Te=Y[_e],nt=k(()=>n(Te,T));if(null==r)v=nt[0],T=nt[1];else{const it=k(()=>{const St=ae[_e],Xt=dr(td(St),St);return{output:tt(qt(nt[0],St),qt(T[0],Xt)),newStates:T.map((wn,Cn)=>tt(qt(nt[1][Cn],St),qt(wn,Xt)))}});v=it.output,T=it.newStates}u&&g.push(v)}return u&&(te=pa(g,1)),[v,te,T]})}Mi((()=>{class n extends e1{constructor(e){super(2,e)}}return n.className="SeparableConv2D",n})()),Mi((()=>{class n extends Pm{constructor(e){super(1,e),n.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!rE(e.kernelSize,"number",1,1))throw new In(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}return n.className="Conv1D",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.cropping="number"==typeof e.cropping?[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,i){return k(()=>{if(e=br(e),"channelsLast"===this.dataFormat){const r=Vd(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Vd(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const r=Vd(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Vd(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Cropping2D",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,yl(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function lE(n){od(oE,"InterpolationFormat",n)}(this.interpolation)}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],null==e[2]?null:this.size[0]*e[2],null==e[3]?null:this.size[1]*e[3]]:[e[0],null==e[1]?null:this.size[0]*e[1],null==e[2]?null:this.size[1]*e[2],e[3]]}call(e,i){return k(()=>{let r=br(e);const a=r.shape;if("channelsFirst"===this.dataFormat){r=Bs(r,[0,2,3,1]);const c=this.size[0]*a[2],u=this.size[1]*a[3],f="nearest"===this.interpolation?id.resizeNearestNeighbor(r,[c,u]):id.resizeBilinear(r,[c,u]);return Bs(f,[0,3,1,2])}{const c=this.size[0]*a[1],u=this.size[1]*a[2];return"nearest"===this.interpolation?id.resizeNearestNeighbor(r,[c,u]):id.resizeBilinear(r,[c,u])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}}return n.className="UpSampling2D",n})()),Mi((()=>{class n extends b_{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=nl(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Tc(e.depthwiseConstraint),this.depthwiseRegularizer=Xa(e.depthwiseRegularizer)}build(e){if((e=bo(e)).length<4)throw new In(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const i="channelsFirst"===this.dataFormat?1:3;if(null==e[i]||e[i]<0)throw new In(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[i]}).`);const r=e[i];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{let r=
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function DR(n,t,e=[1,1],i="valid",r,a){return k(()=>{null==r&&(r="channelsLast"),yl(r);let c=qv(n,r);if(4!==n.rank)throw new In(`Input for depthwiseConv2d is required to be 4-D, but is instead ${n.rank}-D`);if(4!==t.rank)throw new In(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return c=pg(c,t,e,"same"===i?"same":"valid","NHWC",a),"channelsFirst"===r&&(c=Bs(c,[0,3,1,2])),c})}(e=br(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=ad(r,this.bias.read(),this.dataFormat)),null!=this.activation&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=bo(e);const r="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,c=Ed("channelsFirst"===this.dataFormat?e[2]:e[1],this.kernelSize[0],this.padding,this.strides[0]),u=Ed(r,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,c,u]:[e[0],c,u,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=vl(this.depthwiseInitializer),e.depthwiseRegularizer=na(this.depthwiseRegularizer),e.depthwiseConstraint=uc(this.depthwiseRegularizer),e}}return n.className="DepthwiseConv2D",n})());let Fm=(()=>{class n extends Vs{constructor(e){let i;if(super(e),null==e.cell)throw new In("cell property is missing for the constructor of RNN.");if(i=Array.isArray(e.cell)?new QE({cells:e.cell}):e.cell,null==i.stateSize)throw new In("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=i,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Xl({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?$d(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(i=>null):this.states_}setStates(e){this.states_=e}computeOutputShape(e){Tv(e)&&(e=e[0]);let i=this.cell.stateSize;Array.isArray(i)||(i=[i]);const r=i[0];let a;if(a=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){const c=[];for(const u of i)c.push([e[0],u]);return[a].concat(c)}return a}computeMask(e,i){return k(()=>{Array.isArray(i)&&(i=i[0]);const r=this.returnSequences?i:null;if(this.returnState){const a=this.states.map(c=>null);return[r].concat(a)}return r})}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,i=[];for(let r=0;r<e;++r)i.push(null);return i}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new xs("Constants support is not implemented in RNN yet.");Tv(e)&&(e=e[0]);const r=this.stateful?e[0]:null,a=e.slice(2);this.inputSpec[0]=new Xl({shape:[r,null,...a]});const c=[e[0]].concat(e.slice(2));let u;if(this.cell.build(c),u=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Oe(this.stateSpec.map(f=>f.shape[f.shape.length-1]),u))throw new In(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=u.map(f=>new Xl({shape:[null,f]}));this.stateful&&this.resetStates()}resetStates(e,i=!1){k(()=>{if(!this.stateful)throw new Kl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(null==r)throw new In("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(a=>sc([r,a])):[sc([r,this.cell.stateSize])];else if(null==e)B(this.states_),null!=this.keptStates&&(B(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>sc([r,a])):this.states_[0]=sc([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new In(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===i?this.keptStates.push(this.states_.slice()):B(this.states_);for(let a=0;a<this.states_.length;++a){const c=e[a],u=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,f=[r,u];if(!Oe(c.shape,f))throw new In(`State ${a} is incompatible with layer ${this.name}: expected shape=${f}, received shape=${c.shape}`);this.states_[a]=c}}this.states_=this.states_.map(a=>he(a.clone()))})}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=r1(e,r,a,this.numConstants);e=c.inputs,r=c.initialState,a=c.constants;let u=[],f=[];if(null!=r){i.initialState=r,u=u.concat(r),this.stateSpec=[];for(const g of r)this.stateSpec.push(new Xl({shape:g.shape}));f=f.concat(this.stateSpec)}if(null!=a&&(i.constants=a,u=u.concat(a),this.numConstants=a.length),u[0]instanceof Dc){const g=[e].concat(u),v=this.inputSpec.concat(f),T=this.inputSpec;this.inputSpec=v;const V=super.apply(g,i);return this.inputSpec=T,V}return super.apply(e,i)}call(e,i){return k(()=>{const r=null==i?null:i.mask,a=null==i?null:i.training;let c=null==i?null:i.initialState;e=br(e),null==c&&(c=this.stateful?this.states_:this.getInitialState(e));const u=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(c.length!==u)throw new In(`RNN Layer has ${u} state(s) but was passed ${c.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const f={training:a},g=YE((ae,te)=>{const _e=this.cell.call([ae].concat(te),f);return[_e[0],_e.slice(1)]},e,c,this.goBackwards,r,null,this.unroll,this.returnSequences),v=g[0],T=g[1],V=g[2];this.stateful&&this.resetStates(V,a);const Y=this.returnSequences?T:v;return this.returnState?[Y].concat(V):Y})}getInitialState(e){return k(()=>{let i=sc(e.shape);return i=gr(i,[1,2]),i=s_(i),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?bv(i,[1,r]):i):this.cell.stateSize>1?[bv(i,[1,this.cell.stateSize])]:[i]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),i={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(i.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===n.className&&(i.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),i)}static fromConfig(e,i,r={}){const c=Uh(i.cell,r);return new e(Object.assign(i,{cell:c}))}}return n.className="RNN",n})();Mi(Fm);class Zv extends Vs{}let w_=(()=>{class n extends Zv{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ho(this.units,"units"),this.activation=jh(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=nl(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=nl(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=nl(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Xa(e.kernelRegularizer),this.recurrentRegularizer=Xa(e.recurrentRegularizer),this.biasRegularizer=Xa(e.biasRegularizer),this.kernelConstraint=Tc(e.kernelConstraint),this.recurrentConstraint=Tc(e.recurrentConstraint),this.biasConstraint=Tc(e.biasConstraint),this.dropout=wm([1,dp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=wm([1,dp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=bo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{if(2!==e.length)throw new In(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const a=null!=i.training&&i.training;let c;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Wh({ones:()=>td(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Wh({ones:()=>td(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));const u=this.dropoutMask,f=this.recurrentDropoutMask;c=Ud(null!=u?qt(e,u):e,this.kernel.read()),null!=this.bias&&(c=ad(c,this.bias.read())),null!=f&&(r=qt(r,f));let p=tt(c,Ud(r,this.recurrentKernel.read()));return null!=this.activation&&(p=this.activation.apply(p)),[p,p]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:bf(this.activation),useBias:this.useBias,kernelInitializer:vl(this.kernelInitializer),recurrentInitializer:vl(this.recurrentInitializer),biasInitializer:vl(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:uc(this.kernelConstraint),recurrentConstraint:uc(this.recurrentConstraint),biasConstraint:uc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),i)}}return n.className="SimpleRNNCell",n})();Mi(w_),Mi((()=>{class n extends Fm{constructor(e){e.cell=new w_(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(B(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(B(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return new e(i)}}return n.className="SimpleRNN",n})());let E_=(()=>{class n extends Zv{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new In("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Ho(this.units,"units"),this.activation=jh(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=jh(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=nl(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=nl(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=nl(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Xa(e.kernelRegularizer),this.recurrentRegularizer=Xa(e.recurrentRegularizer),this.biasRegularizer=Xa(e.biasRegularizer),this.kernelConstraint=Tc(e.kernelConstraint),this.recurrentConstraint=Tc(e.recurrentConstraint),this.biasConstraint=Tc(e.biasConstraint),this.dropout=wm([1,dp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=wm([1,dp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=bo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0}call(e,i){return k(()=>{if(2!==e.length)throw new In(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=null!=i.training&&i.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Wh({ones:()=>td(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Wh({ones:()=>td(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const u=this.recurrentDropoutMask;let f,p,g;0<this.dropout&&this.dropout<1&&(e=qt(e,this.dropoutMask[0]));let v=Ud(e,this.kernel.read());this.useBias&&(v=ad(v,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=qt(a,u[0]));const T=this.recurrentKernel.read(),[V,Y]=Lu(T,[2*this.units,this.units],T.rank-1),ae=Ud(a,V),[te,_e,Te]=Lu(v,3,v.rank-1),[nt,it]=Lu(ae,2,ae.rank-1);f=this.recurrentActivation.apply(tt(te,nt)),p=this.recurrentActivation.apply(tt(_e,it));const St=Ud(qt(p,a),Y);g=this.activation.apply(tt(Te,St));const Xt=tt(qt(f,a),qt(tt(1,Ka(f)),g));return[Xt,Xt]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:bf(this.activation),recurrentActivation:bf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:vl(this.kernelInitializer),recurrentInitializer:vl(this.recurrentInitializer),biasInitializer:vl(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:uc(this.kernelConstraint),recurrentConstraint:uc(this.recurrentConstraint),biasConstraint:uc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),i)}}return n.className="GRUCell",n})();Mi(E_),Mi((()=>{class n extends Fm{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new E_(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(B(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(B(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="GRU",n})());let qE=(()=>{class n extends Zv{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Ho(this.units,"units"),this.activation=jh(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=jh(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=nl(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=nl(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=nl(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Xa(e.kernelRegularizer),this.recurrentRegularizer=Xa(e.recurrentRegularizer),this.biasRegularizer=Xa(e.biasRegularizer),this.kernelConstraint=Tc(e.kernelConstraint),this.recurrentConstraint=Tc(e.recurrentConstraint),this.biasConstraint=Tc(e.biasConstraint),this.dropout=wm([1,dp([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=wm([1,dp([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var i;let a;if(e=bo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const c=this.biasInitializer,u=this.units;a=new((i=class extends ld{apply(p,g){const v=c.apply([u]),T=(new hE).apply([u]),V=c.apply([2*u]);return aT(aT(v,T),V)}}).className="CustomInit",i)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,i){return k(()=>{const r=null!=i.training&&i.training;if(3!==e.length)throw new In(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const c=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Wh({ones:()=>td(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Wh({ones:()=>td(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let p,g,v,T;0<this.dropout&&this.dropout<1&&(e=qt(e,this.dropoutMask[0]));let V=Ud(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=qt(a,f[0])),V=tt(V,Ud(a,this.recurrentKernel.read())),this.useBias&&(V=ad(V,this.bias.read()));const[Y,ae,te,_e]=Lu(V,4,V.rank-1);p=this.recurrentActivation.apply(Y),g=this.recurrentActivation.apply(ae),v=tt(qt(g,c),qt(p,this.activation.apply(te))),T=this.recurrentActivation.apply(_e);const Te=qt(T,this.activation.apply(v));return[Te,Te,v]})}getConfig(){const e=super.getConfig(),i={units:this.units,activation:bf(this.activation),recurrentActivation:bf(this.recurrentActivation),useBias:this.useBias,kernelInitializer:vl(this.kernelInitializer),recurrentInitializer:vl(this.recurrentInitializer),biasInitializer:vl(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:na(this.kernelRegularizer),recurrentRegularizer:na(this.recurrentRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:uc(this.kernelConstraint),recurrentConstraint:uc(this.recurrentConstraint),biasConstraint:uc(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),i)}}return n.className="LSTMCell",n})();Mi(qE),Mi((()=>{class n extends Fm{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new qE(e),super(e)}call(e,i){return k(()=>(null!=this.cell.dropoutMask&&(B(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(B(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})))}static fromConfig(e,i){return 0===i.implmentation&&(i.implementation=1),new e(i)}}return n.className="LSTM",n})());let QE=(()=>{class n extends Zv{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const i of this.cells.slice().reverse())Array.isArray(i.stateSize)?e.push(...i.stateSize):e.push(i.stateSize);return e}call(e,i){return k(()=>{let r=e.slice(1);const a=[];for(const f of this.cells.slice().reverse())Array.isArray(f.stateSize)?a.push(r.splice(0,f.stateSize.length)):a.push(r.splice(0,1));a.reverse();const c=[];let u;for(let f=0;f<this.cells.length;++f){const p=this.cells[f];r=a[f],u=0===f?[e[0]].concat(r):[u[0]].concat(r),u=p.call(u,i),c.push(u.slice(1))}r=[];for(const f of c.slice().reverse())r.push(...f);return[u[0]].concat(r)})}build(e){let i;Tv(e)&&(e=e[0]),this.cells.forEach((r,a)=>{up(`RNNCell_${a}`,()=>{r.build(e),i=Array.isArray(r.stateSize)?r.stateSize[0]:r.stateSize,e=[e[0],i]})}),this.built=!0}getConfig(){const e=super.getConfig(),a={cells:this.cells.map(c=>({className:c.getClassName(),config:c.getConfig()}))};return Object.assign(Object.assign({},e),a)}static fromConfig(e,i,r={}){const a=[];for(const c of i.cells)a.push(Uh(c,r));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const i of this.cells)e.push(...i.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const i of this.cells)e.push(...i.nonTrainableWeights);if(!this.trainable){const i=[];for(const r of this.cells)i.push(...r.trainableWeights);return i.concat(e)}return e}getWeights(){const e=[];for(const i of this.cells)e.push(...i.weights);return c_(e)}setWeights(e){const i=[];for(const r of this.cells){const c=e.splice(r.weights.length);for(let u=0;u<r.weights.length;++u)i.push([r.weights[u],c[u]])}cd(i)}}return n.className="StackedRNNCells",n})();function Wh(n){const{ones:t,rate:e,training:i=!1,count:r=1,dropoutFunc:a}=n,c=()=>null!=a?a(t(),e):hp(t(),e),u=()=>fh(c,t,i);return!r||r<=1?he(u().clone()):Array(r).fill(void 0).map(u).map(p=>he(p.clone()))}
/**
       * @license
       * Copyright 2020 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */Mi(QE);let o1=(()=>{class n extends Fm{constructor(e){if(e.unroll)throw new xs("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new xs("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Xl({ndim:5})]}call(e,i){return k(()=>{if(null!=this.cell.dropoutMask&&(B(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(B(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),i&&i.constants)throw new In("ConvRNN2D cell does not support constants");return super.call(e,{mask:null==i?null:i.mask,training:null==i?null:i.training,initialState:null==i?null:i.initialState})})}computeOutputShape(e){let i=this.computeSingleOutputShape(e);return this.returnSequences||(i=[i[0],...i.slice(2)]),this.returnState&&(i=[i,...Array(2).fill([e[0],...i.slice(-3)])]),i}getInitialState(e){return k(()=>{const{stateSize:i}=this.cell,a=this.computeSingleOutputShape(e.shape),u=sc([a[0],...a.slice(2)]);return Array.isArray(i)?Array(i.length).fill(u):[u]})}resetStates(e,i=!1){k(()=>{if(!this.stateful)throw new Kl("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),c=[a[0],...a.slice(2)];if(null==r[0])throw new In("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())this.states_=Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(()=>sc(c)):[sc(c)];else if(null==e)B(this.states_),null!=this.keptStates&&(B(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>sc(c)):this.states_[0]=sc(c);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new In(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);i?this.keptStates.push(this.states_.slice()):B(this.states_);for(let f=0;f<this.states_.length;++f){const p=e[f],g=c;if(!Oe(p.shape,g))throw new In(`State ${f} is incompatible with layer ${this.name}: expected shape=${g}, received shape=${p.shape}`);this.states_[f]=p}}this.states_=this.states_.map(f=>he(f.clone()))})}computeSingleOutputShape(e){const{dataFormat:i,filters:r,kernelSize:a,padding:c,strides:u,dilationRate:f}=this.cell,p="channelsFirst"===i,v=e[p?4:3],T=Ed(e[p?3:2],a[0],c,u[0],f[0]),V=Ed(v,a[1],c,u[1],f[1]);return[...e.slice(0,2),...p?[r,T,V]:[T,V,r]]}}return n.className="ConvRNN2D",n})(),a1=(()=>{class n extends qE{constructor(e){const{filters:i,kernelSize:r,strides:a,padding:c,dataFormat:u,dilationRate:f}=e;super(Object.assign(Object.assign({},e),{units:i})),this.filters=i,Ho(this.filters,"filters"),this.kernelSize=wf(r,2,"kernelSize"),this.kernelSize.forEach(p=>Ho(p,"kernelSize")),this.strides=wf(a||1,2,"strides"),this.strides.forEach(p=>Ho(p,"strides")),this.padding=c||"valid",$u(this.padding),this.dataFormat=u||"channelsLast",yl(this.dataFormat),this.dilationRate=wf(f||1,2,"dilationRate"),this.dilationRate.forEach(p=>Ho(p,"dilationRate"))}build(e){var i;e=bo(e);const r="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[r])throw new In(`The channel dimension of the input should be defined. Found ${e[r]}`);const u=this.kernelSize.concat([e[r],4*this.filters]);this.kernel=this.addWeight("kernel",u,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const f=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",f,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let p;if(this.unitForgetBias){const g=this.biasInitializer,v=this.filters;p=new((i=class extends ld{apply(V,Y){return o_([g.apply([v]),oc([v]),g.apply([2*v])])}}).className="CustomInit",i)}else p=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,p,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,i){return k(()=>{if(3!==e.length)throw new In(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=i.training||!1,a=e[0],c=e[1],u=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Wh({ones:()=>td(a),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const p=this.dropoutMask,g=($i,qi,ji)=>qi&&qi[ji]?qt(qi[ji],$i):$i;let v=g(a,p,0),T=g(a,p,1),V=g(a,p,2),Y=g(a,p,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Wh({ones:()=>td(c),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const ae=this.recurrentDropoutMask;let te=g(c,ae,0),_e=g(c,ae,1),Te=g(c,ae,2),nt=g(c,ae,3);const[St,Xt,sn,dn]=Lu(this.kernel.read(),4,3),[wn,Cn,Vn,qn]=this.useBias?Lu(this.bias.read(),4):[null,null,null,null];v=this.inputConv(v,St,wn,this.padding),T=this.inputConv(T,Xt,Cn,this.padding),V=this.inputConv(V,sn,Vn,this.padding),Y=this.inputConv(Y,dn,qn,this.padding);const[ii,ri,oi,hi]=Lu(this.recurrentKernel.read(),4,3);te=this.recurrentConv(te,ii),_e=this.recurrentConv(_e,ri),Te=this.recurrentConv(Te,oi),nt=this.recurrentConv(nt,hi);const _i=this.recurrentActivation.apply(tt(v,te)),ai=this.recurrentActivation.apply(tt(T,_e)),vi=tt(qt(ai,u),qt(_i,this.activation.apply(tt(V,Te)))),Ni=qt(this.recurrentActivation.apply(tt(Y,nt)),this.activation.apply(vi));return[Ni,Ni,vi]})}getConfig(){const r=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(super.getConfig(),["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},r),a)}inputConv(e,i,r,a){const c=Ih(e,i,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return r?ad(c,r,this.dataFormat):c}recurrentConv(e,i){return Ih(e,i,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}return n.className="ConvLSTM2DCell",n})();Mi(a1),Mi((()=>{class n extends o1{constructor(e){const i=new a1(e);super(Object.assign(Object.assign({},e),{cell:i}))}static fromConfig(e,i){return new e(i)}}return n.className="ConvLSTM2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let ZE=(()=>{class n extends Vs{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const i=e.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(null==this.noiseShape[a]?i[a]:this.noiseShape[a]);return r}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);if(0<this.rate&&this.rate<1){const a=null!=i.training&&i.training,c=this.getNoiseShape(r);return fh(()=>hp(r,this.rate,c,this.seed),()=>r,a)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},i=super.getConfig();return Object.assign(e,i),e}dispose(){return super.dispose()}}return n.className="Dropout",n})();Mi(ZE),Mi((()=>{class n extends ZE{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const i=e.shape;return[i[0],1,i[2]]}}return n.className="SpatialDropout1D",n})()),Mi((()=>{class n extends Vs{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=[i,e.inputDim]}this.units=e.units,Ho(this.units,"units"),this.activation=jh(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=nl(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=nl(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Tc(e.kernelConstraint),this.biasConstraint=Tc(e.biasConstraint),this.kernelRegularizer=Xa(e.kernelRegularizer),this.biasRegularizer=Xa(e.biasRegularizer),this.activityRegularizer=Xa(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const i=(e=bo(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[i,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:i}}],this.built=!0}computeOutputShape(e){const i=(e=bo(e)).slice();return i[i.length-1]=this.units,i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),a=mv(this.activation.getClassName());let c;return null!=a?c=Ud(r,this.kernel.read(),a,this.bias?this.bias.read():null):(c=Ud(r,this.kernel.read()),null!=this.bias&&(c=ad(c,this.bias.read())),null!=this.activation&&(c=this.activation.apply(c))),c})}getConfig(){const e={units:this.units,activation:bf(this.activation),useBias:this.useBias,kernelInitializer:vl(this.kernelInitializer),biasInitializer:vl(this.biasInitializer),kernelRegularizer:na(this.kernelRegularizer),biasRegularizer:na(this.biasRegularizer),activityRegularizer:na(this.activityRegularizer),kernelConstraint:uc(this.kernelConstraint),biasConstraint:uc(this.biasConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dense",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=bo(e);for(const i of e.slice(1))if(null==i)throw new In(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Vh(e,1)]}call(e,i){return k(()=>{this.invokeCallHook(e,i);let r=br(e);if("channelsFirst"===this.dataFormat&&r.rank>1){const a=[0];for(let c=2;c<r.rank;++c)a.push(c);a.push(1),r=Bs(r,a)}return function aO(n){if(n.rank<=1)throw new In(`batchFlatten requires a minimum rank of 2. Got rank: ${n.rank}.`);const t=[n.shape[0],Vh(n.shape,1)];return Tn(n,t)}(r)})}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const i=super.getConfig();return Object.assign(e,i),e}}return n.className="Flatten",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.supportsMasking=!0,this.activation=jh(e.activation)}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return this.activation.apply(r)})}getConfig(){const e={activation:bf(this.activation)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Activation",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,i){return k(()=>function sO(n,t){return k(()=>{if(2!==n.shape.length)throw new In(`repeat() expects a rank-2 tensor, but received a rank-${n.shape.length} tensor.`);return bv(s_(n,1),[1,t,1])})}(e=br(e),this.n))}getConfig(){const e={n:this.n},i=super.getConfig();return Object.assign(e,i),e}}return n.className="RepeatVector",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.targetShape=e.targetShape;for(let i=0;i<this.targetShape.length;++i)this.isUnknown(this.targetShape[i])&&(this.targetShape[i]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,i){const r="Total size of new array must be unchanged.",a=i.slice();let c=1,u=null;for(let p=0;p<a.length;++p){const g=a[p];if(this.isUnknown(g)){if(null!==u)throw new In("Can only specifiy one unknown dimension.");u=p}else c*=g}const f=Vh(e);if(null!==u){if(0===c||f%c!=0)throw new In(r);a[u]=f/c}else if(f!==c)throw new In(r);return a}computeOutputShape(e){let i=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){i=!0;break}return i?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),a=r.shape,c=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return Tn(r,c)})}getConfig(){const e={targetShape:this.targetShape},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Reshape",n})()),Mi((()=>{class n extends Vs{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const i=$d(1,e.dims.length+1);if(!Oe(e.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Xl({ndim:this.dims.length+1})]}computeOutputShape(e){const i=(e=bo(e)).slice();return this.dims.forEach((r,a)=>{i[a+1]=e[r]}),i}call(e,i){return Bs(br(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Permute",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e??{}),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={maskValue:this.maskValue};return Object.assign(i,e),i}computeMask(e,i){const r=br(e);return sg(Yp(r,this.maskValue),-1)}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e),u=sg(Yp(r,this.maskValue),-1,!0);return qt(r,Xi(u,r.dtype))})}}return n.className="Masking",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Vs{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let i=null;null!=e.batchSize&&(i=e.batchSize),this.batchInputShape=null==e.inputLength?[i,null]:[i].concat(Wo(e.inputLength))}this.inputDim=e.inputDim,Ho(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Ho(this.outputDim,"outputDim"),this.embeddingsInitializer=nl(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Xa(e.embeddingsRegularizer),this.activityRegularizer=Xa(e.activityRegularizer),this.embeddingsConstraint=Tc(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,i){return k(()=>this.maskZero?(e=br(e),Yp(e,ps(e))):null)}computeOutputShape(e){if(e=bo(e),null==this.inputLength)return[...e,this.outputDim];const i=Wo(this.inputLength);if(i.length!==e.length-1)throw new In(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let a=0;a<i.length;++a){const c=i[a],u=e[a+1];if(null!=c&&null!=u&&c!==u)throw new In(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==c&&(i[r]=u),r++}}return[e[0],...i,this.outputDim]}call(e,i){return k(()=>{this.invokeCallHook(e,i);let r=br(e);"int32"!==r.dtype&&(r=dh(r,"int32"));const a=xv(this.embeddings.read(),Tn(r,[r.size]));return Tn(a,bo(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:vl(this.embeddingsInitializer),embeddingsRegularizer:na(this.embeddingsRegularizer),activityRegularizer:na(this.activityRegularizer),embeddingsConstraint:uc(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Embedding",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class pp extends Vs{constructor(t){super(t||{}),this.supportsMasking=!0}mergeFunction(t){throw new xs}computeElementwiseOpOutputShape(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;const i=t.slice(0,t.length-e.length);for(let r=0;r<e.length;++r){const a=t[t.length-e.length+r],c=e[r];if(null==a||null==c||a<0||c<0)i.push(null);else if(1===a)i.push(c);else if(1===c)i.push(a);else{if(a!==c)throw new In("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));i.push(a)}}return i}build(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[bo(t)]),t.length<2)throw new In(`A merge layer should be called on an Array of at least 2 inputs. Got ${t.length} input(s).`);let e=[];for(const a of t)null!=a&&null!==a[0]&&e.push(a[0]);if(e=Bh(e),e.length>1)throw new In(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(t)}.`);let i=null==t[0]?null:t[0].slice(1);for(let a=1;a<t.length;++a){const c=null==t[a]?null:t[a].slice(1);i=this.computeElementwiseOpOutputShape(i,c)}const r=t.map(a=>a.length);this.reshapeRequired=-1!==t.indexOf(null)||1!==Bh(r).length}call(t,e){return k(()=>{if(this.reshapeRequired){const i=[],r=t.map(a=>a.rank);if(-1===r.indexOf(null)){const a=dp(r);for(let c of t){const u=c.rank;for(let f=0;f<a-u;++f)c=s_(c,1);i.push(c)}return this.mergeFunction(i)}{let a=!1;for(const f of t){const p=f.rank;if(null==p){const g=f.shape,v=g[0],T=g.slice(1).concat([v]);let V=Tn(f,[v].concat(Vh(g.slice(1))));V=Bs(V,[1,0]),V=Tn(V,T),i.push(V),a=!0}else if(p>1){const g=$d(1,p).concat([0]);i.push(Bs(f,g)),a=!0}else i.push(f)}let c=this.mergeFunction(i);const u=c.rank;if(a)if(null==u){const f=c.shape,g=f[f.length-1],v=[g].concat(f.slice(0,f.length-1));c=Tn(Bs(Tn(c,[-1,g]),[1,0]),v)}else if(u>1){const f=[u-1].concat($d(0,u-1));c=Bs(c,f)}return c}}return this.mergeFunction(t)})}computeOutputShape(t){let e;e=null==t[0]?null:t[0].slice(1);for(let r=1;r<t.length;++r){const a=null==t[r]?null:t[r].slice(1);e=this.computeElementwiseOpOutputShape(e,a)}let i=[];for(const r of t)null!=r&&null!==r[0]&&i.push(r[0]);return i=Bh(i),e=1===i.length?i.concat(e):[null].concat(e),e}computeMask(t,e){return k(()=>{if(null==e)return null;if(!Array.isArray(e))throw new In("`mask` should be an Array");if(!Array.isArray(t))throw new In("`inputs` should be an Array");if(e.length!==t.length)throw new In(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${t.length} vs ${e.length})`);if(e.every(r=>null==r))return null;let i=(e=e.map(r=>null==r?r:Hl(r,0)))[0];for(let r=1;r<e.length-1;++r)i=Rh(i,e[r]);return i})}}function ph(n,t){for(;n<0;)n+=t;return n}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function x_(n,t,e,i,r,a=.001){let c;if(2===n.rank)c=pC(n,t,e,i,r,a);else if(3===n.rank)c=_y(n,t,e,i,r,a);else{if(4!==n.rank)throw new xs(`batchNormalization is not implemented for array of rank ${n.rank} yet`);c=dg(n,t,e,i,r,a)}return c}
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
function sb(n,t,e,i,r,a){return k(()=>{let c;yl(r),cE(a),$u(i),null==e&&(e=[1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=qv(n,r);const u="same"===i?"same":"valid";return c="max"===a?vg(n,t,e,u):kh(n,t,e,u),"channelsFirst"===r&&(c=Bs(c,[0,3,1,2])),c})}function C_(n,t,e,i,r,a){return k(()=>{let c;yl(r),cE(a),$u(i),null==e&&(e=[1,1,1]),null==i&&(i="valid"),null==r&&(r="channelsLast"),null==a&&(a="max"),n=GE(n,r);const u="same"===i?"same":"valid";return c="max"===a?qC(n,t,e,u):h0(n,t,e,u),"channelsFirst"===r&&(c=Bs(c,[0,4,1,2,3])),c})}Mi((()=>{class n extends pp{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=tt(i,e[r]);return i})}}return n.className="Add",n})()),Mi((()=>{class n extends pp{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=qt(i,e[r]);return i})}}return n.className="Multiply",n})()),Mi((()=>{class n extends pp{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0].clone();for(let r=1;r<e.length;++r)i=tt(i,e[r]);return qt(1/e.length,i)})}}return n.className="Average",n})()),Mi((()=>{class n extends pp{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=qc(i,e[r]);return i})}}return n.className="Maximum",n})()),Mi((()=>{class n extends pp{constructor(e){super(e)}mergeFunction(e){return k(()=>{let i=e[0];for(let r=1;r<e.length;++r)i=Nh(i,e[r]);return i})}}return n.className="Minimum",n})()),Mi((()=>{class n extends pp{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new In("A `Concatenate` layer should be called on a list of at least 2 inputs");let i=!0;for(const a of e)if(null!=a){i=!1;break}if(i)return;const r=[];for(let a=0;a<e.length;++a){const c=e[a].slice();c.splice(this.axis,1);let u=!1;for(const f of r)if(Oe(f,c)){u=!0;break}u||r.push(c)}if(r.length>1)throw new In("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return k(()=>o_(e,this.axis))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new In("A `Concatenate` layer should be called on a list of inputs.");const i=e,r=i[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const c of i.slice(1)){if(null==r[a]||null==c[a]){r[a]=null;break}r[a]+=c[a]}return r}computeMask(e,i){if(null==i)return null;if(!Array.isArray(i))throw new In("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new In("`inputs` should be an array for Concatenate");if(i.length!==e.length)throw new In(`Mismatch in the length of mask (${i.length}) and the legnth of inputs (${e.length})`);return k(()=>{let r=!0;if(i.forEach(u=>{null==u||(r=!1)}),r)return null;const a=[];for(let u=0;u<e.length;++u)a.push(null==i[u]?Xi(td(e[u]),"bool"):i[u].rank<e[u].rank?Hl(i[u],-1):i[u]);const c=Wl(a,this.axis);return rg(c,-1,!1)})}getConfig(){const e={axis:this.axis},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Concatenate",n})()),Mi((()=>{class n extends pp{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Ce(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0],r=e[1];if(i.length>3||r.length>3)throw new xs("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);if(i[a[0]]!==r[a[1]])throw new In(`Dimension incompatibility: ${i[a[0]]} !== ${r[a[1]]}`)}mergeFunction(e){if(2!==e.length)throw new In(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let a,i=e[0],r=e[1];return a=Array.isArray(this.axes)?this.axes.map((c,u)=>ph(c,e[u].shape.length)):[ph(this.axes,i.shape.length),ph(this.axes,r.shape.length)],this.normalize&&(i=f_(i,a[0]),r=f_(r,a[1])),function $R(n,t,e){if(n.shape.length>3||t.shape.length>3)throw new xs("batchDot is not implemented for tensors of 4D or higher rank yet");if(Ce(n.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${n.shape.length}`),Ce(n.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`),"number"==typeof e&&(e=[e,e]),"complex64"===n.dtype||"complex64"===t.dtype)throw new xs("batchDot is not implemented for complex64-type Tensors yet.");const i=n.shape.length,r=t.shape.length;null==e&&(e=[i-1,r-2]);const a=e;return k(()=>{let c,u;if(i>r){c=i-r;const f=[];for(let p=0;p<c;++p)f.push(1);t=Tn(t,t.shape.concat(f))}else if(r>i){c=r-i;const f=[];for(let p=0;p<c;++p)f.push(1);n=Tn(n,n.shape.concat(f))}else c=0;if(u=2===n.shape.length&&2===t.shape.length?a[0]===a[1]?gr(qt(n,t),a[0]):gr(qt(Bs(n,[1,0]),t),a[1]):Es(n,t,a[0]!==n.shape.length-1,a[1]===t.shape.length-1),c>0){let f;f=i>r?i+r-3:i-1;const p=[];for(let g=f;g<f+c;++g)p.push(g);u=Zf(u,p)}return 1===u.shape.length&&(u=Hl(u,1)),u})}(i,r,a)}interpretAxes(e,i){let r;return r=Array.isArray(this.axes)?this.axes:[ph(this.axes,e.length),ph(this.axes,i.length)],r}computeOutputShape(e){Ce(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const i=e[0].slice(),r=e[1].slice();if(i.length>3||r.length>3)throw new xs("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(i,r);i.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const c=i.concat(r);return 1===c.length&&c.push(1),c}computeMask(e,i){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},i=super.getConfig();return Object.assign(e,i),e}}return n.className="Dot",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Vs{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={stddev:this.stddev};return Object.assign(i,e),i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return fh(()=>tt(wv(r.shape,0,this.stddev),r),()=>r,i.training||!1)})}}return n.className="GaussianNoise",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return k(()=>{this.invokeCallHook(e,i);const r=br(e);return this.rate>0&&this.rate<1?fh(()=>{const c=Math.sqrt(this.rate/(1-this.rate));return qt(r,wv(r.shape,1,c))},()=>r,i.training||!1):r})}}return n.className="GaussianDropout",n})()),Mi((()=>{class n extends Vs{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||br(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),i={rate:this.rate};return Object.assign(i,e),i}call(e,i){return k(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return fh(()=>{const c=br(e),p=-1.7580993408473766;let g=Hf(Ph(r),this.rate);g=dh(g,"float32");const v=((1-this.rate)*(1+this.rate*p**2))**-.5,T=-v*p*this.rate,V=tt(qt(c,g),qt(tt(g,-1),p));return tt(qt(V,v),T)},()=>br(e),i.training||!1)}return e})}}return n.className="AlphaDropout",n})()),Mi((()=>{class n extends Vs{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=nl(e.betaInitializer||"zeros"),this.gammaInitializer=nl(e.gammaInitializer||"ones"),this.movingMeanInitializer=nl(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=nl(e.movingVarianceInitializer||"ones"),this.betaConstraint=Tc(e.betaConstraint),this.gammaConstraint=Tc(e.gammaConstraint),this.betaRegularizer=Xa(e.betaRegularizer),this.gammaRegularizer=Xa(e.gammaRegularizer)}build(e){e=bo(e);const i=this.axis>=0?this.axis:this.axis+e.length,r=e[i];if(null==r)throw new In(`Axis ${i} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Xl({ndim:e.length,axes:{[i]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,i){return k(()=>{const r=null!=i.training&&i.training,a=br(e),c=a.shape,u=c.length,f=$d(0,u),p=this.axis>=0?this.axis:this.axis+u;f.splice(p,1);const g=lp(1,u);g[p]=c[p];const v=f.slice();v.sort();const T=!Oe(v,$d(0,u).slice(0,u-1));if(!r)return(()=>{if(T){const nt=Tn(this.movingMean.read(),g),it=Tn(this.movingVariance.read(),g),St=this.center?Tn(this.beta.read(),g):null,Xt=this.scale?Tn(this.gamma.read(),g):null;return x_(a,nt,it,St,Xt,this.epsilon)}return x_(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[Y,ae,te]=function c1(n,t,e,i,r=.001){return Oe(i.slice().sort(),$d(0,n.rank-1))?function tx(n,t,e,i,r=.001){return k(()=>{const a=bg(n,i),c=a.mean,u=a.variance;return[x_(n,c,u,e,t,r),c,u]})}(n,t,e,i,r):function BR(n,t,e,i,r=.001){return k(()=>{const a=bg(n,i),c=a.mean,u=a.variance,f=[];for(const Y of $d(0,n.rank))-1!==i.indexOf(Y)?f.push(1):f.push(n.shape[Y]);const p=Tn(c,f),g=Tn(u,f),v=null==t?null:Tn(t,f),T=null==e?null:Tn(e,f);return[x_(n,p,g,T,v,r),c,u]})}(n,t,e,i,r)}(a,this.gamma.read(),this.beta.read(),f,this.epsilon),_e=(nt,it,St)=>{k(()=>{const Xt=1-St,sn=nt.read(),dn=qt(dr(sn,it),Xt);nt.write(dr(sn,dn))})};return(()=>{_e(this.movingMean,ae,this.momentum),_e(this.movingVariance,te,this.momentum)})(),Y})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:vl(this.betaInitializer),gammaInitializer:vl(this.gammaInitializer),movingMeanInitializer:vl(this.movingMeanInitializer),movingVarianceInitializer:vl(this.movingVarianceInitializer),betaRegularizer:na(this.betaRegularizer),gammaRegularizer:na(this.gammaRegularizer),betaConstraint:uc(this.betaConstraint),gammaConstraint:uc(this.gammaConstraint)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BatchNormalization",n})()),Mi((()=>{class n extends Vs{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const i of this.axis)if(!Number.isInteger(i))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=nl(e.betaInitializer||"zeros"),this.gammaInitializer=nl(e.gammaInitializer||"ones"),this.betaRegularizer=Xa(e.betaRegularizer),this.gammaRegularizer=Xa(e.gammaRegularizer),this.supportsMasking=!0}build(e){const i=(e=bo(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let c=0;c<this.axis.length;++c)this.axis[c]<0&&(this.axis[c]+=i);for(const c of this.axis)if(c<0||c>=i)throw new Error(`Invalid axis: ${c}`);if(this.axis.length!==Bh(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(c=>e[c]),a=!0;this.gamma=this.scale?this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):null,this.beta=this.center?this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):null,this.built=!0}call(e,i){const r=br(e),a=r.shape,c=a.length;return k(()=>{let{mean:f,variance:p}=bg(r,this.axis,!0);const g=lp(1,c);for(const te of this.axis)g[te]=a[te];const v=te=>null!=te&&te.shape.length!==c?Tn(te,g):te;let T=this.scale?v(this.gamma.read()):null,V=this.center?v(this.beta.read()):null;const Y=[],ae=[];for(let te=0;te<c;++te)-1!==this.axis.indexOf(te)?(Y.push(a[te]),ae.push(1)):(Y.push(1),ae.push(a[te]));return f=Zu(f,Y),p=Zu(p,Y),null!=T&&(T=Zu(T,ae)),null!=V&&(V=Zu(V,ae)),x_(r,f,p,V,T,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:vl(this.betaInitializer),gammaInitializer:vl(this.gammaInitializer),betaRegularizer:na(this.betaRegularizer),gammaRegularizer:na(this.gammaRegularizer)},i=super.getConfig();return Object.assign(e,i),e}}return n.className="LayerNormalization",n})()),Mi((()=>{class n extends Vs{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new In(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let i,r;if("number"==typeof e.padding[0])i=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new In(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(i=e.padding[0],2!==e.padding[1].length)throw new In(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[i,r]}this.inputSpec=[new Xl({ndim:4})]}computeOutputShape(e){let i,r;return e=bo(e),"channelsFirst"===this.dataFormat?(i=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],i,r]):(i=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],i,r,e[3]])}call(e,i){return k(()=>function nx(n,t,e){return k(()=>{if(4!==n.rank)throw new In(`temporalPadding expects input tensor to be 4-D, but received a ${n.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new In("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==e&&(e="channelsLast"),"channelsLast"!==e&&"channelsFirst"!==e)throw new In(`Unknown data format: ${e}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let i;return i="channelsFirst"===e?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],sh(n,i)})}(br(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},i=super.getConfig();return Object.assign(e,i),e}}return n.className="ZeroPadding2D",n})());class ob extends Vs{constructor(t){if(null==t.poolSize&&(t.poolSize=2),super(t),"number"==typeof t.poolSize)this.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new In(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.poolSize)}`);this.poolSize=t.poolSize}if(Ho(this.poolSize,"poolSize"),null==t.strides)this.strides=this.poolSize;else if("number"==typeof t.strides)this.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new In(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(t.strides)}`);this.strides=t.strides}Ho(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,$u(this.padding),this.inputSpec=[new Xl({ndim:3})]}computeOutputShape(t){const e=Ed((t=bo(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]}call(t,e){return k(()=>{this.invokeCallHook(t,e),t=s_(br(t),2);const i=this.poolingFunction(br(t),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Zf(i,[2])})}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends ob{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),sb(e,i,r,a,c,"max")}}return n.className="MaxPooling1D",n})()),Mi((()=>{class n extends ob{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),sb(e,i,r,a,c,"avg")}}return n.className="AveragePooling1D",n})());class u1 extends Vs{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new In(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides];Ho(this.poolSize,"poolSize"),Ho(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,yl(this.dataFormat),$u(this.padding),this.inputSpec=[new Xl({ndim:4})]}computeOutputShape(t){t=bo(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2];return e=Ed(e,this.poolSize[0],this.padding,this.strides[0]),i=Ed(i,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i]:[t[0],e,i,t[3]]}call(t,e){return k(()=>(this.invokeCallHook(t,e),this.poolingFunction(br(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends u1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),sb(e,i,r,a,c,"max")}}return n.className="MaxPooling2D",n})()),Mi((()=>{class n extends u1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),sb(e,i,r,a,c,"avg")}}return n.className="AveragePooling2D",n})());class d1 extends Vs{constructor(t){if(null==t.poolSize&&(t.poolSize=[2,2,2]),super(t),this.poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)this.strides=this.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new In(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${t.strides.length}.`);this.strides=t.strides}else this.strides=[t.strides,t.strides,t.strides];Ho(this.poolSize,"poolSize"),Ho(this.strides,"strides"),this.padding=null==t.padding?"valid":t.padding,this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,yl(this.dataFormat),$u(this.padding),this.inputSpec=[new Xl({ndim:5})]}computeOutputShape(t){t=bo(t);let e="channelsFirst"===this.dataFormat?t[2]:t[1],i="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[4]:t[3];return e=Ed(e,this.poolSize[0],this.padding,this.strides[0]),i=Ed(i,this.poolSize[1],this.padding,this.strides[1]),r=Ed(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,i,r]:[t[0],e,i,r,t[4]]}call(t,e){return k(()=>(this.invokeCallHook(t,e),this.poolingFunction(br(t),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends d1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),C_(e,i,r,a,c,"max")}}return n.className="MaxPooling3D",n})()),Mi((()=>{class n extends d1{constructor(e){super(e)}poolingFunction(e,i,r,a,c){return yl(c),$u(a),C_(e,i,r,a,c,"avg")}}return n.className="AveragePooling3D",n})());class WR extends Vs{constructor(t){super(t),this.inputSpec=[new Xl({ndim:3})]}computeOutputShape(t){return[t[0],t[2]]}call(t,e){throw new xs}}Mi((()=>{class n extends WR{constructor(e){super(e||{})}call(e,i){return k(()=>{const r=br(e);return tl(r,1)})}}return n.className="GlobalAveragePooling1D",n})()),Mi((()=>{class n extends WR{constructor(e){super(e||{})}call(e,i){return k(()=>{const r=br(e);return Nu(r,1)})}}return n.className="GlobalMaxPooling1D",n})());class f1 extends Vs{constructor(t){super(t),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,yl(this.dataFormat),this.inputSpec=[new Xl({ndim:4})]}computeOutputShape(t){return"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]}call(t,e){throw new xs}getConfig(){const t={dataFormat:this.dataFormat},e=super.getConfig();return Object.assign(t,e),t}}Mi((()=>{class n extends f1{call(e,i){return k(()=>{const r=br(e);return tl(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalAveragePooling2D",n})()),Mi((()=>{class n extends f1{call(e,i){return k(()=>{const r=br(e);return Nu(r,"channelsLast"===this.dataFormat?[1,2]:[2,3])})}}return n.className="GlobalMaxPooling2D",n})());
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
class p1 extends Vs{constructor(t){super(t),this.layer=t.layer}build(t){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(t){null!=this.layer&&(this.layer.trainable=t)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(t){this.layer.setWeights(t)}getConfig(){const t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},e=super.getConfig();return Object.assign(t,e),t}setFastWeightInitDuringBuild(t){super.setFastWeightInitDuringBuild(t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)}static fromConfig(t,e,i={}){const a=Uh(e.layer,i);delete e.layer;const c={layer:a};return Object.assign(c,e),new t(c)}}Mi((()=>{class n extends p1{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=bo(e)).length<3)throw new In(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const i=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(i),this.layer.built=!0),super.build(e)}computeOutputShape(e){const i=[(e=bo(e))[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(i);return[r[0],e[1]].concat(r.slice(1))}call(e,i){return k(()=>YE((u,f)=>[br(this.layer.call(u,i)),[]],e=br(e),[],!1,null,null,!1,!0)[1])}}return n.className="TimeDistributed",n})()),Mi((()=>{class n extends p1{constructor(e){super(e);const i=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=i,this.forwardLayer=Uh(r),i.goBackwards=!0!==i.goBackwards;const a={};if(a.className=e.layer.getClassName(),a.config=i,this.backwardLayer=Uh(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function m1(n){od(eT,"BidirectionalMergeMode",n)}(this.mergeMode),e.weights)throw new xs("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const r=Math.floor(e.length/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let r,a,c,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState&&(c=i.slice(1)),r=i[0],"concat"===this.mergeMode?(r[r.length-1]*=2,a=[r]):a=null==this.mergeMode?[r,r.slice()]:[r],this.returnState?null==this.mergeMode?a.concat(c).concat(c.slice()):[r].concat(c).concat(c.slice()):pu(a)}apply(e,i){let r=null==i?null:i.initialState,a=null==i?null:i.constants;null==i&&(i={});const c=r1(e,r,a,this.numConstants);if(e=c.inputs,r=c.initialState,a=c.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return super.apply(e,i);const u=[],f=[];if(null!=r){const g=r.length;if(g%2>0)throw new In("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");i.initialState=r,u.push(...r);const v=r.map(T=>new Xl({shape:T.shape}));this.forwardLayer.stateSpec=v.slice(0,g/2),this.backwardLayer.stateSpec=v.slice(g/2),f.push(...v)}if(null!=a)throw new xs("Support for constants in Bidirectional layers is not implemented yet.");const p=u[0]instanceof Dc;for(const g of u)if(g instanceof Dc!==p)throw new In("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(p){const g=[e].concat(u),v=this.inputSpec.concat(f),T=this.inputSpec;this.inputSpec=v;const V=super.apply(g,i);return this.inputSpec=T,V}return super.apply(e,i)}call(e,i){return k(()=>{const r=i.initialState;let a,c,u,f;if(null==r)a=this.forwardLayer.call(e,i),c=this.backwardLayer.call(e,i);else{const p=r.slice(0,r.length/2),g=r.slice(r.length/2);a=this.forwardLayer.call(e,Object.assign(i,{initialState:p})),c=this.backwardLayer.call(e,Object.assign(i,{initialState:g}))}return this.returnState&&(Array.isArray(a)&&(u=a.slice(1).concat(c.slice(1))),a=a[0],c=c[0]),this.returnSequences&&(c=Du(c,1)),"concat"===this.mergeMode?f=o_([a,c]):"sum"===this.mergeMode?f=tt(a,c):"ave"===this.mergeMode?f=qt(.5,tt(a,c)):"mul"===this.mergeMode?f=qt(a,c):null==this.mergeMode&&(f=[a,c]),this.returnState?null==this.mergeMode?f.concat(u):[f].concat(u):f})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){up(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),up(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,i){let r;if(Array.isArray(i)&&(i=i[0]),r=this.returnSequences?null==this.mergeMode?[i,i]:i:null==this.mergeMode?[null,null]:null,this.returnState){const c=this.forwardLayer.states.map(u=>null);return Array.isArray(r)?r.concat(c).concat(c):[r].concat(c).concat(c)}return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},i=super.getConfig();return Object.assign(e,i),e}static fromConfig(e,i){const r=Uh(i.layer);if(delete i.layer,null!=i.numConstants)throw new xs("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=i;return a.layer=r,new e(a)}}return n.className="Bidirectional",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Vs{constructor(e){super(e),this.scale=e.scale,this.offset=e.offset?e.offset:0}getConfig(){const e={scale:this.scale,offset:this.offset},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return k(()=>("float32"!==(e=br(e)).dtype&&(e=dh(e,"float32")),tt(qt(e,this.scale),this.offset)))}}return n.className="Rescaling",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const{resizeBilinear:qR,cropAndResize:g1}=id;Mi((()=>{class n extends Vs{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,i,r,a,c,u,f,p){return k(()=>{let g,v=!1;const te=[i/u,r/f,(a+i)/u,(c+r)/f],_e=[];3===e.rank?(v=!0,g=pa([e])):g=e;for(let Xt=0;Xt<g.shape[0];Xt++)_e.push(te);const Te=to(_e,[_e.length,4]),nt=lf(0,_e.length,1,"int32"),St=g1(g,Te,nt,[a,c],"nearest");return dh(v?br(Pd(St)):St,p)})}upsize(e,i,r,a){return k(()=>dh(qR(e,[i,r]),a))}call(e,i){return k(()=>{const r=br(e),a=r.dtype,c=r.shape,u=c[c.length-3],f=c[c.length-2];let p=0;u!==this.height&&(p=Math.floor((u-this.height)/2));let g=0;return f!==this.width&&(g=Math.floor((f-this.width)/2),0===g&&(g=1)),p>=0&&g>=0?this.centerCrop(r,p,g,this.height,this.width,u,f,a):this.upsize(e,this.height,this.width,a)})}getConfig(){const e={height:this.height,width:this.width},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){const r=(e=bo(e)).length-2;return e[e.length-3]=this.height,e[r]=this.width,e}}return n.className="CenterCrop",n})()),
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
Mi((()=>{class n extends Vs{constructor(e){super(e),this.numTokens=e.numTokens,this.outputMode=e.outputMode?e.outputMode:"multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return null==(e=bo(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,i){return k(()=>{let r;if("int32"!==(e=br(e)).dtype&&(e=dh(e,"int32")),typeof i.countWeights<"u"){if("count"!==this.outputMode)throw new In(`countWeights is not used when outputMode !== count.\n              Received countWeights=${i.countWeights}`);r=br(i.countWeights)}const a=Nu(e),c=xy(e),u=Pu(this.numTokens,a).bufferSync().get(0),f=Hf(c,0).bufferSync().get(0);if(!u||!f)throw new In(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
return function _1(n,t,e,i){let r=br(n);if("int32"!==r.dtype&&(r=dh(r,"int32")),"int"===t)return r;const a=r.shape;if(0===r.rank&&(r=Hl(r,-1)),"oneHot"===t&&1!==r.shape[r.shape.length-1]&&(r=Hl(r,-1)),r.rank>2)throw new In(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${a} which would result in output rank ${r.rank}.`);const c=["multiHot","oneHot"].includes(t);let f;if(f=TC(r,typeof i<"u"&&"count"===t?i:[],e,c),"tfIdf"!==t)return f;if(i)return qt(f,i);throw new In("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,r)})}}return n.className="CategoryEncoding",n})());
/**
       * @license
       * Copyright 2022 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const y1=new Set(["bilinear","nearest"]);Mi((()=>{class n extends Vs{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!y1.has(e.interpolation))throw new In(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){return e=bo(e),[this.height,this.width,e[2]]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},i=super.getConfig();return Object.assign(e,i),e}call(e,i){return k(()=>{const r=[this.height,this.width];if("bilinear"===this.interpolation)return id.resizeBilinear(e,r,!this.cropToAspectRatio);if("nearest"===this.interpolation)return id.resizeNearestNeighbor(e,r,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...y1]} are supported`)})}}return n.className="Resizing",n})());
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
let v1=(()=>{class n{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}return n.className="RandomSeed",n})(),VF=(()=>{class n extends Vs{constructor(e){super(e),this.randomGenerator=new v1(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},i=super.getConfig();return Object.assign(e,i),e}}return n.className="BaseRandomLayer",n})();
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2023 CodeSmith LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
const eN=new Set(["bilinear","nearest"]);Mi((()=>{class n extends VF{constructor(e){super(e);const{factor:i,interpolation:r="bilinear"}=e;if(this.factor=i,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new In(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new In(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new In(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(r){if(!eN.has(r))throw new In(`Invalid interpolation parameter: ${r} is not implemented`);this.interpolation=r}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},i=super.getConfig();return Object.assign(e,i),e}computeOutputShape(e){return e=bo(e),[this.imgHeight,-1,e[2]]}call(e,i){return k(()=>{const r=br(e);this.imgHeight=r.shape[r.shape.length-3];const a=r.shape[r.shape.length-2];this.widthFactor=Ph([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let c=this.widthFactor.dataSync()[0]*a;c=Math.round(c);const u=[this.imgHeight,c];switch(this.interpolation){case"bilinear":return id.resizeBilinear(e,u);case"nearest":return id.resizeNearestNeighbor(e,u);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...eN]} are supported`)}})}}return n.className="RandomWidth",n})()),
/**
       * @license
       * Copyright 2018 Google LLC
       *
       * Use of this source code is governed by an MIT-style
       * license that can be found in the LICENSE file or at
       * https://opensource.org/licenses/MIT.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
De().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,n=>{n&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       *
       * =============================================================================
       */
var bN,xd=function(n){return n[n.DT_INVALID=0]="DT_INVALID",n[n.DT_FLOAT=1]="DT_FLOAT",n[n.DT_DOUBLE=2]="DT_DOUBLE",n[n.DT_INT32=3]="DT_INT32",n[n.DT_UINT8=4]="DT_UINT8",n[n.DT_INT16=5]="DT_INT16",n[n.DT_INT8=6]="DT_INT8",n[n.DT_STRING=7]="DT_STRING",n[n.DT_COMPLEX64=8]="DT_COMPLEX64",n[n.DT_INT64=9]="DT_INT64",n[n.DT_BOOL=10]="DT_BOOL",n[n.DT_QINT8=11]="DT_QINT8",n[n.DT_QUINT8=12]="DT_QUINT8",n[n.DT_QINT32=13]="DT_QINT32",n[n.DT_BFLOAT16=14]="DT_BFLOAT16",n[n.DT_QINT16=15]="DT_QINT16",n[n.DT_QUINT16=16]="DT_QUINT16",n[n.DT_UINT16=17]="DT_UINT16",n[n.DT_COMPLEX128=18]="DT_COMPLEX128",n[n.DT_HALF=19]="DT_HALF",n[n.DT_RESOURCE=20]="DT_RESOURCE",n[n.DT_VARIANT=21]="DT_VARIANT",n[n.DT_UINT32=22]="DT_UINT32",n[n.DT_UINT64=23]="DT_UINT64",n[n.DT_FLOAT_REF=101]="DT_FLOAT_REF",n[n.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",n[n.DT_INT32_REF=103]="DT_INT32_REF",n[n.DT_UINT8_REF=104]="DT_UINT8_REF",n[n.DT_INT16_REF=105]="DT_INT16_REF",n[n.DT_INT8_REF=106]="DT_INT8_REF",n[n.DT_STRING_REF=107]="DT_STRING_REF",n[n.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",n[n.DT_INT64_REF=109]="DT_INT64_REF",n[n.DT_BOOL_REF=110]="DT_BOOL_REF",n[n.DT_QINT8_REF=111]="DT_QINT8_REF",n[n.DT_QUINT8_REF=112]="DT_QUINT8_REF",n[n.DT_QINT32_REF=113]="DT_QINT32_REF",n[n.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",n[n.DT_QINT16_REF=115]="DT_QINT16_REF",n[n.DT_QUINT16_REF=116]="DT_QUINT16_REF",n[n.DT_UINT16_REF=117]="DT_UINT16_REF",n[n.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",n[n.DT_HALF_REF=119]="DT_HALF_REF",n[n.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",n[n.DT_VARIANT_REF=121]="DT_VARIANT_REF",n[n.DT_UINT32_REF=122]="DT_UINT32_REF",n[n.DT_UINT64_REF=123]="DT_UINT64_REF",n}(xd||{});!function(n){let t;var e;(e=t=n.CheckpointFormatVersion||(n.CheckpointFormatVersion={}))[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(bN||(bN={}));
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const M1={};function O1(n){return M1[n]}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rt(n,t,e,i,r){const a=t.inputParams[n];if(a&&void 0!==a.inputIndexStart){const u=a.inputIndexStart,f=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?u+1:a.inputIndexEnd,p=u<0?t.inputNames.length+u:u;if("tensor"===a.type)return kc(t.inputNames[p],e,i,r);if("tensors"===a.type){const T=t.inputs.slice(u,f);return t.inputNames.slice(u,f).filter((Y,ae)=>{var te;return"NoOp"!==(null===(te=T[ae])||void 0===te?void 0:te.op)}).map(Y=>kc(Y,e,i,r))}const g=kc(t.inputNames[p],e,i,r),v=g.dataSync();return"number"===a.type?v[0]:Pn(g.shape,v)}const c=t.attrParams[n];return c&&c.value}function kc(n,t,e,i){const[r,a]=dd(n,e);if(null!=i){const u=i.getHashTableHandleByName(r);if(null!=u)return u}const c=e.currentContextIds.find(u=>!!t[cb(r,u)]);return void 0!==c?t[cb(r,c)][a]:void 0}function dx(n,t,e){return t[cb(n,e.currentContextId)]}function Hh(n,t){const[e,i,r]=dd(n,t);return[cb(e,t&&t.currentContextId),i,r]}function cb(n,t){return t?`${n}-${t}`:n}function dd(n,t){if(""===n)return["",0,void 0];const e=null!=t&&null!=t.parseNodeNameCache;if(e){const a=t.parseNodeNameCache.get(n);if(null!=a)return a}const i=n.split(":");let r;if(1===i.length)r=[n,0,void 0];else{const c=3===i.length?i[1]:void 0;r=[i[0],Number(i[i.length-1]),c]}return e&&t.parseNodeNameCache.set(n,r),r}function hx(n,t,e){let i=rt("pad",n,t,e);if("explicit"===i){i=rt("explicitPaddings",n,t,e);const r=[[0,0],[0,0],[0,0],[0,0]];for(let a=0;a<4;a++)r[a][0]=i[2*a],r[a][1]=i[2*a+1];return r}return i}function Ef(n){return n.kept?n:Id(n)}
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OL=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],R1=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ub=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],wN=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],EN=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],N1=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],gp=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],P1=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],fx=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],px=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],xN=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],mx=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],gx=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],db=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],RL=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],NL=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],PL=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],F1=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],CN=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];
/**
       * @license
       * Copyright 2023 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class L1{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[I,E,y,x,$,R,O,M,L,U,F,J,ue,ce,re,be,j,X,se].map(i=>i.json));this.opMappers=e.reduce((i,r)=>(i[r.tfOpName]=r,i),{})}transformGraph(t,e={}){const r=[],a=[],c=[],u=t.node.reduce((ae,te)=>(ae[te.name]=this.mapNode(te),te.op.startsWith("Placeholder")?r.push(ae[te.name]):"Const"===te.op?a.push(ae[te.name]):(null==te.input||0===te.input.length)&&c.push(ae[te.name]),ae),{});let f=[];const p=[];let g={},v={};null!=e&&(g=this.mapSignatureEntries(e.inputs),v=this.mapSignatureEntries(e.outputs));const T=Object.keys(u);T.forEach(ae=>{const te=u[ae];te.inputNames.forEach((_e,Te)=>{const[nt,,it]=Hh(_e),St=u[nt];if(null!=St.outputs){const Xt=St.outputs.indexOf(it);-1!==Xt&&(te.inputNames[Te]=`${nt}:${Xt}`)}te.inputs.push(St),St.children.push(te)})}),0===Object.keys(v).length?T.forEach(ae=>{const te=u[ae];0===te.children.length&&p.push(te)}):Object.keys(v).forEach(ae=>{const[te]=Hh(ae),_e=u[te];null!=_e&&(_e.signatureKey=v[ae],p.push(_e))}),Object.keys(g).length>0?Object.keys(g).forEach(ae=>{const[te]=Hh(ae),_e=u[te];_e&&(_e.signatureKey=g[ae],f.push(_e))}):f=r;let V={};null!=t.library&&null!=t.library.function&&(V=t.library.function.reduce((ae,te)=>(ae[te.signature.name]=this.mapFunction(te),ae),{}));const Y={nodes:u,inputs:f,outputs:p,weights:a,placeholders:r,signature:e,functions:V};return c.length>0&&(Y.initNodes=c),Y}mapSignatureEntries(t){return Object.keys(t||{}).reduce((e,i)=>(e[t[i].name]=i,e),{})}mapNode(t){const e=O1(t.op)||this.opMappers[t.op]||{};null==t.attr&&(t.attr={});const i={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:e.outputs};return null!=e.inputs&&(i.inputParams=e.inputs.reduce((r,a)=>(r[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},r),{})),null!=e.attrs&&(i.attrParams=e.attrs.reduce((r,a)=>{const c=a.type;let u;switch(a.type){case"string":u=hb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=hb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":u=yx(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=yx(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":u=pb(t.attr,a.tfName,a.defaultValue||0),void 0===u&&a.tfDeprecatedName&&(u=pb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":u=k_(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=k_(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":u=fb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=fb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":u=V1(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=V1(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":u=gb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=gb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":u=vx(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=vx(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":u=mb(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=mb(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":u=T_(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=T_(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":u=B1(t.attr,a.tfName,a.defaultValue),void 0===u&&a.tfDeprecatedName&&(u=B1(t.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${t.op}`)}return r[a.name]={value:u,type:c},r},{})),i}mapFunction(t){const e=t.nodeDef,r=[];let a={};null!=e&&(a=e.reduce((v,T)=>(v[T.name]=this.mapNode(T),"Const"===T.op&&r.push(v[T.name]),v),{}));const c=[],u=[];t.signature.inputArg.forEach(v=>{const[T]=Hh(v.name),V={name:T,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:_x(v.type),type:"dtype"}},children:[]};V.signatureKey=v.name,c.push(V),a[T]=V}),Object.keys(a).forEach(v=>{const T=a[v];T.inputNames.forEach((V,Y)=>{const[ae,,te]=Hh(V),_e=a[ae];if(null!=_e.outputs){const Te=_e.outputs.indexOf(te);-1!==Te&&(T.inputNames[Y]=`${ae}:${Te}`)}T.inputs.push(_e),_e.children.push(T)})});const p=t.ret;t.signature.outputArg.forEach(v=>{const[T,V]=Hh(p[v.name]),Y=a[T];null!=Y&&(Y.defaultOutput=V,u.push(Y))});const g=this.mapArgsToSignature(t);return{nodes:a,inputs:c,outputs:u,weights:r,placeholders:[],signature:g}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i),e),{}),outputs:t.signature.outputArg.reduce((e,i)=>(e[i.name]=this.mapArgToTensorInfo(i,t.ret),e),{})}}mapArgToTensorInfo(t,e){let i=t.name;return null!=e&&(i=e[i]),{name:i,dtype:t.type}}}function $1(n,t){const e=Array.isArray(n)?String.fromCharCode.apply(null,n):function SN(n){const t=De().global;if(typeof t.atob<"u")return t.atob(n);if(typeof Buffer<"u")return new Buffer(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(n);return t?e:e.toLowerCase()}function hb(n,t,e,i=!1){const r=n[t];return null!=r?$1(r.s,i):e}function fb(n,t,e){const i=n[t];return i?i.b:e}function pb(n,t,e){const i=n[t]||{},r=null!=i.i?i.i:null!=i.f?i.f:e;return"number"==typeof r?r:parseInt(r,10)}function _x(n){switch("string"==typeof n&&(n=xd[n]),n){case xd.DT_FLOAT:case xd.DT_HALF:return"float32";case xd.DT_INT32:case xd.DT_INT64:case xd.DT_INT8:case xd.DT_UINT8:return"int32";case xd.DT_BOOL:return"bool";case xd.DT_DOUBLE:return"float32";case xd.DT_STRING:return"string";case xd.DT_COMPLEX64:case xd.DT_COMPLEX128:return"complex64";default:return null}}function B1(n,t,e){const i=n[t];return i&&i.func?i.func.name:e}function mb(n,t,e){const i=n[t];return i&&i.type?_x(i.type):e}function T_(n,t,e){const i=n[t];return i&&i.list&&i.list.type?i.list.type.map(r=>_x(r)):e}function DN(n){if(!n.unknownRank)return null!=n.dim?n.dim.map(t=>"number"==typeof t.size?t.size:parseInt(t.size,10)):[]}function gb(n,t,e){const i=n[t];return i&&i.shape?DN(i.shape):e}function k_(n,t,e){const i=n[t];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(r=>"number"==typeof r?r:parseInt(r,10)):e}function yx(n,t,e,i=!1){const r=n[t];return r&&r.list&&r.list.s?r.list.s.map(a=>$1(a,i)):e}function vx(n,t,e){const i=n[t];return i&&i.list&&i.list.shape?i.list.shape.map(r=>DN(r)):e}function V1(n,t,e){const i=n[t];return i&&i.list&&i.list.b?i.list.b:e}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class FL{constructor(t,e,i){this.node=t,this.tensorMap=e,this.context=i,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(r=>this.getInput(r)),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((r,a)=>(r[a]=this.getAttr(a),r),{}))}getInput(t){return kc(t,this.tensorMap,this.context)}getAttr(t,e){const i=this.node.rawAttrs[t];if(null!=i.tensor)return kc(t,this.tensorMap,this.context);if(null!=i.i||null!=i.f)return pb(this.node.rawAttrs,t,e);if(null!=i.s)return hb(this.node.rawAttrs,t,e);if(null!=i.b)return fb(this.node.rawAttrs,t,e);if(null!=i.shape)return gb(this.node.rawAttrs,t,e);if(null!=i.type)return mb(this.node.rawAttrs,t,e);if(null!=i.list){if(null!=i.list.i||null!=i.list.f)return k_(this.node.rawAttrs,t,e);if(null!=i.list.s)return yx(this.node.rawAttrs,t,e);if(null!=i.list.shape)return vx(this.node.rawAttrs,t,e);if(null!=i.list.b)return V1(this.node.rawAttrs,t,e);if(null!=i.list.type)return T_(this.node.rawAttrs,t,e)}return e}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function mu(n,t,e=""){if("number"!=typeof n&&"number"!=typeof t){Ce(n.length===t.length,()=>e+` Shapes ${n} and ${t} must match`);for(let i=0;i<n.length;i++){const r=n[i],a=t[i];Ce(r<0||a<0||r===a,()=>e+` Shapes ${n} and ${t} must match`)}}}function I_(n){return!("number"==typeof n||n.some(t=>t<0))}function xf(n,t,e){let i=_b(n,e);const r=!I_(i);if(r&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${i}`);if(r&&t.forEach(a=>{i=_b(a.shape,i)}),!I_(i))throw new Error(`Non-fully-defined elementShape: ${i}`);return i}function _b(n,t){if("number"==typeof n)return t;if("number"==typeof t)return n;if(n.length!==t.length)throw new Error(`Incompatible ranks during merge: ${n} vs. ${t}`);const e=[];for(let i=0;i<n.length;++i){const r=n[i],a=t[i];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${n} vs. ${t}`);e[i]=r>=0?r:a}return e}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class BL{constructor(t,e,i,r,a,c,u){this.name=t,this.dtype=e,this.maxSize=i,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=c,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.idTensor=Wr(0),he(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.tensor.id))&&e.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);const e=this.tensors[t];if(e.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor}readMany(t){return t.map(e=>this.read(e))}write(t,e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);const i=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},\n          because the value dtype is ${e.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0===this.size()&&(null==this.elementShape||0===this.elementShape.length)&&(this.elementShape=e.shape),mu(this.elementShape,e.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),i.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(i.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);i.tensor=e,he(e),i.written=!0,this.tensors[t]=i}writeMany(t,e){if(t.length!==e.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${e.length}.`);t.forEach((i,r)=>this.write(i,e[r]))}gather(t,e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${e}`);if(t)t=t.slice(0,this.size());else{t=[];for(let r=0;r<this.size();r++)t.push(r)}if(0===t.length)return to([],[0].concat(this.elementShape));const i=this.readMany(t);return mu(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),pa(i,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(0===this.size())return to([],[0].concat(this.elementShape));const e=[];for(let r=0;r<this.size();r++)e.push(r);const i=this.readMany(e);return mu(this.elementShape,i[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${i[0].shape})`),Wl(i,0)}scatter(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(!this.dynamicSize&&i>=this.maxSize)throw new Error(`Max index must be < array size (${i}  vs. ${this.maxSize})`);this.writeMany(t,Pd(e,0))}split(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);let i=0;const r=t.map(f=>(i+=f,i));if(i!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${e.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===i?0:e.size/i,c=[];k(()=>{e=Tn(e,[1,i,a]);for(let f=0;f<t.length;++f)c[f]=Tn(mo(e,[0,0===f?0:r[f-1],0],[1,t[f],a]),this.elementShape);return c});const u=[];for(let f=0;f<t.length;f++)u[f]=f;this.writeMany(u,c)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class _p{get id(){return this.idTensor.id}constructor(t,e,i,r=-1){this.tensors=t,this.elementShape=e,this.elementDtype=i,t?.forEach(a=>{if(i!==a.dtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${a.dtype}`);mu(e,a.shape,"TensorList shape mismatch: "),he(a)}),this.idTensor=Wr(0),this.maxNumElements=r,he(this.idTensor)}copy(){return new _p([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(e=>{(null==t||!t.has(e.id))&&e.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,e,i=-1){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(-1!==i&&this.tensors.length!==i)throw new Error(`Operation expected a list with ${i} elements but got a list with ${this.tensors.length} elements.`);mu(t,this.elementShape,"TensorList shape mismatch: ");const r=xf(this.elementShape,this.tensors,t);return k(()=>{const a=this.tensors.map(c=>Tn(c,r));return pa(a,0)})}popBack(t,e){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const i=xf(this.elementShape,this.tensors,t),r=this.tensors.pop();return r.kept=!1,mu(r.shape,t,"TensorList shape mismatch: "),Tn(r,i)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(mu(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");he(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);const e=new _p([],this.elementShape,this.elementDtype,this.maxNumElements);e.tensors.length=t;for(let i=0;i<Math.min(this.tensors.length,t);++i)e.tensors[i]=this.tensors[i];return e}getItem(t,e,i){if(i!==this.elementDtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[t])throw new Error(`element at index ${t} is null.`);mu(this.tensors[t].shape,e,"TensorList shape mismatch: ");const r=xf(this.elementShape,this.tensors,e);return Tn(this.tensors[t],r)}setItem(t,e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(t<0||-1!==this.maxNumElements&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);mu(this.elementShape,e.shape,"TensorList shape mismatch: "),he(e),null!=this.tensors[t]&&(this.tensors[t].kept=!1),this.tensors[t]=e}gather(t,e,i){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);mu(this.elementShape,i,"TensorList shape mismatch: "),t=t.slice(0,this.size());const r=xf(this.elementShape,this.tensors,i);return 0===t.length?to([],[0].concat(r)):k(()=>{const a=t.map(c=>Tn(this.tensors[c],r));return pa(a,0)})}concat(t,e){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);mu(this.elementShape,e,"TensorList shape mismatch: ");const i=xf(this.elementShape,this.tensors,e);return 0===this.size()?to([],[0].concat(i)):k(()=>{const r=this.tensors.map(a=>Tn(a,i));return Wl(r,0)})}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
const U1=function(){var n=(0,q.A)(function*(t,e,i){switch(t.op){case"If":case"StatelessIf":{const r=rt("thenBranch",t,e,i),a=rt("elseBranch",t,e,i),c=rt("cond",t,e,i),u=rt("args",t,e,i);return(yield c.data())[0]?i.functionMap[r].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap):i.functionMap[a].executeFunctionAsync(u,i.tensorArrayMap,i.tensorListMap)}case"While":case"StatelessWhile":{const r=rt("body",t,e,i),a=rt("cond",t,e,i),c=rt("args",t,e,i),u=yield i.functionMap[a].executeFunctionAsync(c,i.tensorArrayMap,i.tensorListMap),f=c.map(v=>v.id);let p=yield u[0].data();u.forEach(v=>{!v.kept&&-1===f.indexOf(v.id)&&v.dispose()});let g=c;for(;p[0];){const v=g;g=yield i.functionMap[r].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);const T=g.map(Y=>Y.id);v.forEach(Y=>{!Y.kept&&-1===f.indexOf(Y.id)&&-1===T.indexOf(Y.id)&&Y.dispose()});const V=yield i.functionMap[a].executeFunctionAsync(g,i.tensorArrayMap,i.tensorListMap);p=yield V[0].data(),V.forEach(Y=>{!Y.kept&&-1===f.indexOf(Y.id)&&-1===T.indexOf(Y.id)&&Y.dispose()})}return g}case"LoopCond":return[Ef(rt("pred",t,e,i))];case"Switch":{const r=rt("pred",t,e,i);let a=rt("data",t,e,i);return a.kept||(a=Ef(a)),(yield r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>void 0!==kc(a,e,i));return r?[Ef(kc(r,e,i))]:void 0}case"Enter":{const r=rt("frameName",t,e,i),a=rt("tensor",t,e,i);return i.enterFrame(r),[Ef(a)]}case"Exit":{const r=rt("tensor",t,e,i);return i.exitFrame(),[Ef(r)]}case"NextIteration":{const r=rt("tensor",t,e,i);return i.nextIteration(),[Ef(r)]}case"TensorArrayV3":{const r=rt("size",t,e,i),a=rt("dtype",t,e,i),c=rt("elementShape",t,e,i),u=rt("dynamicSize",t,e,i),f=rt("clearAfterRead",t,e,i),p=rt("identicalElementShapes",t,e,i),g=rt("name",t,e,i),v=new BL(g,a,r,c,p,u,f);return i.addTensorArray(v),[v.idTensor,Wr(1)]}case"TensorArrayWriteV3":{const r=rt("tensorArrayId",t,e,i),a=rt("index",t,e,i),c=rt("tensor",t,e,i),u=i.getTensorArray(r.id);return u.write(a,c),[u.idTensor]}case"TensorArrayReadV3":{const r=rt("tensorArrayId",t,e,i),a=rt("index",t,e,i);return[i.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=rt("tensorArrayId",t,e,i),a=rt("indices",t,e,i),c=rt("dtype",t,e,i);return[i.getTensorArray(r.id).gather(a,c)]}case"TensorArrayScatterV3":{const r=rt("tensorArrayId",t,e,i),a=rt("indices",t,e,i),c=rt("tensor",t,e,i),u=i.getTensorArray(r.id);return u.scatter(a,c),[u.idTensor]}case"TensorArrayConcatV3":{const r=rt("tensorArrayId",t,e,i),a=i.getTensorArray(r.id),c=rt("dtype",t,e,i);return[a.concat(c)]}case"TensorArraySplitV3":{const r=rt("tensorArrayId",t,e,i),a=rt("tensor",t,e,i),c=rt("lengths",t,e,i),u=i.getTensorArray(r.id);return u.split(c,a),[u.idTensor]}case"TensorArraySizeV3":{const r=rt("tensorArrayId",t,e,i);return[Wr(i.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=rt("tensorArrayId",t,e,i),a=i.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=rt("tensorListId",t,e,i),a=rt("index",t,e,i),c=rt("tensor",t,e,i),u=i.getTensorList(r.id);return u.setItem(a,c),[u.idTensor]}case"TensorListGetItem":{const r=rt("tensorListId",t,e,i),a=rt("index",t,e,i),c=rt("elementShape",t,e,i),u=rt("elementDType",t,e,i);return[i.getTensorList(r.id).getItem(a,c,u)]}case"TensorListScatterV2":case"TensorListScatter":{const r=rt("indices",t,e,i),f=function bx(n,t,e,i){if(t.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${n.shape[0]}`);const r=Math.max(...t);if(null!=i&&-1!==i&&r>=i)throw new Error(`Max index must be < array size (${r}  vs. ${i})`);const a=new _p([],e,n.dtype,i),c=Pd(n,0);return t.forEach((u,f)=>{a.setItem(u,c[f])}),a}(rt("tensor",t,e,i),r,rt("elementShape",t,e,i),rt("numElements",t,e,i));return i.addTensorList(f),[f.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=rt("elementShape",t,e,i),a=rt("elementDType",t,e,i);let c;c="TensorListReserve"===t.op?"numElements":"maxNumElements";const u=rt(c,t,e,i),p=function UL(n,t,e,i){return new _p([],n,t,i)}(r,a,0,"TensorListReserve"===t.op?-1:u);return i.addTensorList(p),[p.idTensor]}case"TensorListGather":{const r=rt("tensorListId",t,e,i),a=rt("indices",t,e,i),c=rt("elementShape",t,e,i),u=rt("elementDType",t,e,i);return[i.getTensorList(r.id).gather(a,u,c)]}case"TensorListStack":{const r=rt("tensorListId",t,e,i),a=rt("elementShape",t,e,i),c=rt("elementDType",t,e,i),u=rt("numElements",t,e,i);return[i.getTensorList(r.id).stack(a,c,u)]}case"TensorListFromTensor":{const u=function VL(n,t,e){const i=n.dtype;if(n.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${n.shape}`);if(n.dtype!==e)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${e}`);mu(n.shape.slice(1),t,"TensorList shape mismatch: ");const a=Pd(n);return new _p(a,t,i)}(rt("tensor",t,e,i),rt("elementShape",t,e,i),rt("elementDType",t,e,i));return i.addTensorList(u),[u.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=rt("tensorListId",t,e,i),a=i.getTensorList(r.id),c=rt("dtype",t,e,i),u=rt("elementShape",t,e,i);return[a.concat(c,u)]}case"TensorListPushBack":{const r=rt("tensorListId",t,e,i),a=rt("tensor",t,e,i),c=i.getTensorList(r.id);return c.pushBack(a),[c.idTensor]}case"TensorListPopBack":{const r=rt("tensorListId",t,e,i),a=rt("elementShape",t,e,i),c=rt("elementDType",t,e,i);return[i.getTensorList(r.id).popBack(a,c)]}case"TensorListSplit":{const r=rt("tensor",t,e,i),a=rt("elementShape",t,e,i),u=function kN(n,t,e){let i=0;const r=t.map(g=>(i+=g,i));if(i!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${i}, and tensor's shape is: ${n.shape}`);const c=_b(n.shape.slice(1),e),u=0===i?0:n.size/i,f=k(()=>{const g=[];n=Tn(n,[1,i,u]);for(let v=0;v<t.length;++v)g[v]=Tn(mo(n,[0,0===v?0:r[v-1],0],[1,t[v],u]),c);return n.dispose(),g}),p=new _p([],e,n.dtype,t.length);for(let g=0;g<f.length;g++)p.setItem(g,f[g]);return p}(r,rt("lengths",t,e,i),a);return i.addTensorList(u),[u.idTensor]}case"TensorListLength":{const r=rt("tensorListId",t,e,i);return[Wr(i.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=rt("tensorListId",t,e,i),a=rt("size",t,e,i),u=i.getTensorList(r.id).resize(a);return i.addTensorList(u),[u.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function wx(n,t,e){const[i,r]=rt("fusedOps",n,t,e),a="biasadd"===i,c=!a,u="prelu"===r,f="fusedbatchnorm"===i,p=rt("numArgs",n,t,e);if(a){if(u&&2!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&a&&1!==p)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const g=rt("strides",n,t,e),v=hx(n,t,e),T=rt("dataFormat",n,t,e).toUpperCase(),V=rt("dilations",n,t,e);let[Y,ae]=rt("args",n,t,e);return c&&(ae=Y,Y=void 0),{stride:g,pad:v,dataFormat:T,dilations:V,biasArg:Y,preluArg:ae,activationFunc:r,leakyreluAlpha:rt("leakyreluAlpha",n,t,e)}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ex(n,t,e){return{boxes:rt("boxes",n,t,e),scores:rt("scores",n,t,e),maxOutputSize:rt("maxOutputSize",n,t,e),iouThreshold:rt("iouThreshold",n,t,e),scoreThreshold:rt("scoreThreshold",n,t,e),softNmsSigma:rt("softNmsSigma",n,t,e)}}const j1=function(){var n=(0,q.A)(function*(t,e,i,r,a=W){switch(t.op){case"NonMaxSuppressionV5":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g,softNmsSigma:v}=Ex(t,e,i),T=yield a.image.nonMaxSuppressionWithScoreAsync(c,u,f,p,g,v);return[T.selectedIndices,T.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=Ex(t,e,i),v=rt("padToMaxOutputSize",t,e,i),T=yield a.image.nonMaxSuppressionPaddedAsync(c,u,f,p,g,v);return[T.selectedIndices,T.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:c,scores:u,maxOutputSize:f,iouThreshold:p,scoreThreshold:g}=Ex(t,e,i);return[yield a.image.nonMaxSuppressionAsync(c,u,f,p,g)]}case"Where":{const c=a.cast(rt("condition",t,e,i),"bool"),u=[yield a.whereAsync(c)];return c.dispose(),u}case"ListDiff":return a.setdiff1dAsync(rt("x",t,e,i),rt("y",t,e,i));default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class jL{get id(){return this.handle.id}constructor(t,e){this.keyDType=t,this.valueDType=e,this.handle=Wr(0),this.tensorMap=new Map,he(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Wr(this.size(),"int32")}import(t,e){var i=this;return(0,q.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return i.tensorMap.forEach(a=>a.dispose()),i.tensorMap.clear(),k(()=>{const a=Pd(e),c=r.length,u=a.length;Ce(c===u,()=>`The number of elements doesn't match, keys has ${c} elements, the values has ${u} elements.`);for(let f=0;f<c;f++){const p=r[f],g=a[f];he(g),i.tensorMap.set(p,g)}return i.handle})})()}find(t,e){var i=this;return(0,q.A)(function*(){i.checkKeyAndValueTensor(t,e);const r=yield t.data();return k(()=>{const a=[];for(let c=0;c<r.length;c++){const f=i.findWithDefault(r[c],e);a.push(f)}return pa(a)})})()}findWithDefault(t,e){return this.tensorMap.get(t)??e}checkKeyAndValueTensor(t,e){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(e.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${e.dtype}`)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const WL=function(){var n=(0,q.A)(function*(t,e,i,r){switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(null!=a)return[a];{const c=rt("keyDType",t,e,i),u=rt("valueDType",t,e,i),f=new jL(c,u);return r.addHashTable(t.name,f),[f.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=rt("tableHandle",t,e,i,r),c=rt("keys",t,e,i),u=rt("values",t,e,i);return[yield r.getHashTableById(a.id).import(c,u)]}case"LookupTableFind":case"LookupTableFindV2":{const a=rt("tableHandle",t,e,i,r),c=rt("keys",t,e,i),u=rt("defaultValue",t,e,i);return[yield r.getHashTableById(a.id).find(c,u)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=rt("tableHandle",t,e,i,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}});return function(e,i,r,a){return n.apply(this,arguments)}}();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function X1(n,t,e,i,r=k){const a=((c,u,f)=>{switch(c.category){case"arithmetic":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"BiasAdd":case"AddV2":case"Add":return[i.add(rt("a",n,t,e),rt("b",n,t,e))];case"AddN":return[i.addN(rt("tensors",n,t,e))];case"FloorMod":case"Mod":return[i.mod(rt("a",n,t,e),rt("b",n,t,e))];case"Mul":return[i.mul(rt("a",n,t,e),rt("b",n,t,e))];case"RealDiv":case"Div":return[i.div(rt("a",n,t,e),rt("b",n,t,e))];case"DivNoNan":return[i.divNoNan(rt("a",n,t,e),rt("b",n,t,e))];case"FloorDiv":return[i.floorDiv(rt("a",n,t,e),rt("b",n,t,e))];case"Sub":return[i.sub(rt("a",n,t,e),rt("b",n,t,e))];case"Minimum":return[i.minimum(rt("a",n,t,e),rt("b",n,t,e))];case"Maximum":return[i.maximum(rt("a",n,t,e),rt("b",n,t,e))];case"Pow":return[i.pow(rt("a",n,t,e),rt("b",n,t,e))];case"SquaredDifference":return[i.squaredDifference(rt("a",n,t,e),rt("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"basic_math":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Abs":case"ComplexAbs":return[i.abs(rt("x",n,t,e))];case"Acos":return[i.acos(rt("x",n,t,e))];case"Acosh":return[i.acosh(rt("x",n,t,e))];case"Asin":return[i.asin(rt("x",n,t,e))];case"Asinh":return[i.asinh(rt("x",n,t,e))];case"Atan":return[i.atan(rt("x",n,t,e))];case"Atan2":return[i.atan2(rt("x",n,t,e),rt("y",n,t,e))];case"Atanh":return[i.atanh(rt("x",n,t,e))];case"Ceil":return[i.ceil(rt("x",n,t,e))];case"Complex":return[i.complex(rt("real",n,t,e),rt("imag",n,t,e))];case"Cos":return[i.cos(rt("x",n,t,e))];case"Cosh":return[i.cosh(rt("x",n,t,e))];case"Elu":return[i.elu(rt("x",n,t,e))];case"Erf":return[i.erf(rt("x",n,t,e))];case"Exp":return[i.exp(rt("x",n,t,e))];case"Expm1":return[i.expm1(rt("x",n,t,e))];case"Floor":return[i.floor(rt("x",n,t,e))];case"Log":return[i.log(rt("x",n,t,e))];case"Log1p":return[i.log1p(rt("x",n,t,e))];case"Imag":return[i.imag(rt("x",n,t,e))];case"Neg":return[i.neg(rt("x",n,t,e))];case"Reciprocal":return[i.reciprocal(rt("x",n,t,e))];case"Real":return[i.real(rt("x",n,t,e))];case"Relu":return[i.relu(rt("x",n,t,e))];case"Round":return[i.round(rt("x",n,t,e))];case"Selu":return[i.selu(rt("x",n,t,e))];case"Sigmoid":return[i.sigmoid(rt("x",n,t,e))];case"Sin":return[i.sin(rt("x",n,t,e))];case"Sign":return[i.sign(rt("x",n,t,e))];case"Sinh":return[i.sinh(rt("x",n,t,e))];case"Softplus":return[i.softplus(rt("x",n,t,e))];case"Sqrt":return[i.sqrt(rt("x",n,t,e))];case"Square":return[i.square(rt("x",n,t,e))];case"Tanh":return[i.tanh(rt("x",n,t,e))];case"Tan":return[i.tan(rt("x",n,t,e))];case"ClipByValue":return[i.clipByValue(rt("x",n,t,e),rt("clipValueMin",n,t,e),rt("clipValueMax",n,t,e))];case"Relu6":return[i.relu6(rt("x",n,t,e))];case"Rsqrt":return[i.rsqrt(kc(n.inputNames[0],t,e))];case"LeakyRelu":return[i.leakyRelu(rt("x",n,t,e),rt("alpha",n,t,e))];case"Prelu":return[i.prelu(rt("x",n,t,e),rt("alpha",n,t,e))];case"IsNan":return[i.isNaN(kc(n.inputNames[0],t,e))];case"IsInf":return[i.isInf(kc(n.inputNames[0],t,e))];case"IsFinite":return[i.isFinite(kc(n.inputNames[0],t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"control":return U1(c,u,f);case"convolution":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Conv1D":{const r=rt("stride",n,t,e),a=rt("pad",n,t,e),c=rt("dataFormat",n,t,e).toUpperCase(),u=rt("dilation",n,t,e);return[i.conv1d(rt("x",n,t,e),rt("filter",n,t,e),r,a,c,u)]}case"Conv2D":{const r=rt("strides",n,t,e),a=hx(n,t,e),c=rt("dataFormat",n,t,e).toUpperCase(),u=rt("dilations",n,t,e);return[i.conv2d(rt("x",n,t,e),rt("filter",n,t,e),[r[1],r[2]],a,c,[u[1],u[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:v}=wx(n,t,e);return[i.fused.conv2d({x:rt("x",n,t,e),filter:rt("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:v})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:c,dilations:u,biasArg:f,preluArg:p,activationFunc:g,leakyreluAlpha:v}=wx(n,t,e);return[i.fused.depthwiseConv2d({x:rt("x",n,t,e),filter:rt("filter",n,t,e),strides:[r[1],r[2]],pad:a,dataFormat:c,dilations:[u[1],u[2]],bias:f,activation:g,preluActivationWeights:p,leakyreluAlpha:v})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=rt("outputShape",n,t,e),a=rt("strides",n,t,e),c=hx(n,t,e);return[i.conv2dTranspose(rt("x",n,t,e),rt("filter",n,t,e),r,[a[1],a[2]],c)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=rt("strides",n,t,e),a=hx(n,t,e),c=rt("dilations",n,t,e),u=rt("dataFormat",n,t,e).toUpperCase();return[i.depthwiseConv2d(rt("input",n,t,e),rt("filter",n,t,e),[r[1],r[2]],a,u,[c[1],c[2]])]}case"Conv3D":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("dataFormat",n,t,e).toUpperCase(),u=rt("dilations",n,t,e);return[i.conv3d(rt("x",n,t,e),rt("filter",n,t,e),[r[1],r[2],r[3]],a,c,[u[1],u[2],u[3]])]}case"AvgPool":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("kernelSize",n,t,e);return[i.avgPool(rt("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("kernelSize",n,t,e);return[i.maxPool(rt("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("kernelSize",n,t,e),u=rt("includeBatchInIndex",n,t,e),{result:f,indexes:p}=i.maxPoolWithArgmax(rt("x",n,t,e),[c[1],c[2]],[r[1],r[2]],a,u);return[f,p]}case"AvgPool3D":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("kernelSize",n,t,e);return[i.avgPool3d(rt("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("kernelSize",n,t,e);return[i.maxPool3d(rt("x",n,t,e),[c[1],c[2],c[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=rt("strides",n,t,e),a=rt("pad",n,t,e),c=rt("dilations",n,t,e),u=r[1],f=r[2],p=c[1],g=c[2];return[i.dilation2d(rt("x",n,t,e),rt("filter",n,t,e),[u,f],a,[p,g],"NHWC")]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"creation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Fill":{const r=rt("shape",n,t,e),a=rt("dtype",n,t,e),c=rt("value",n,t,e);return[i.fill(r,c,a)]}case"LinSpace":{const r=rt("start",n,t,e),a=rt("stop",n,t,e),c=rt("num",n,t,e);return[i.linspace(r,a,c)]}case"Multinomial":{const r=rt("logits",n,t,e),a=rt("numSamples",n,t,e),c=rt("seed",n,t,e);return[i.multinomial(r,a,c)]}case"OneHot":{const r=rt("indices",n,t,e),a=rt("depth",n,t,e),c=rt("onValue",n,t,e),u=rt("offValue",n,t,e),f=rt("dtype",n,t,e);return[i.oneHot(r,a,c,u,f)]}case"Ones":return[i.ones(rt("shape",n,t,e),rt("dtype",n,t,e))];case"OnesLike":return[i.onesLike(rt("x",n,t,e))];case"RandomStandardNormal":return[i.randomStandardNormal(rt("shape",n,t,e),rt("dtype",n,t,e),rt("seed",n,t,e))];case"RandomUniform":return[i.randomUniform(rt("shape",n,t,e),rt("minval",n,t,e),rt("maxval",n,t,e),rt("dtype",n,t,e))];case"RandomUniformInt":return[i.randomUniformInt(rt("shape",n,t,e),rt("minval",n,t,e),rt("maxval",n,t,e),rt("seed",n,t,e))];case"Range":{const r=rt("start",n,t,e),a=rt("stop",n,t,e),c=rt("step",n,t,e);return[i.range(r,a,c,rt("dtype",n,t,e))]}case"TruncatedNormal":{const r=rt("shape",n,t,e),a=rt("mean",n,t,e),c=rt("stdDev",n,t,e),u=rt("seed",n,t,e);return[i.truncatedNormal(r,a,c,rt("dtype",n,t,e),u)]}case"Zeros":return[i.zeros(rt("shape",n,t,e),rt("dtype",n,t,e))];case"ZerosLike":return[i.zerosLike(rt("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"dynamic":return j1(c,u,f);case"evaluation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"LowerBound":{const r=rt("sortedSequence",n,t,e),a=rt("values",n,t,e);return[i.lowerBound(r,a)]}case"TopKV2":{const r=rt("x",n,t,e),a=rt("k",n,t,e),c=rt("sorted",n,t,e),u=i.topk(r,a,c);return[u.values,u.indices]}case"UpperBound":{const r=rt("sortedSequence",n,t,e),a=rt("values",n,t,e);return[i.upperBound(r,a)]}case"Unique":{const r=rt("x",n,t,e),a=i.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=rt("x",n,t,e),a=rt("axis",n,t,e),c=i.unique(r,a);return[c.values,c.indices]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"image":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"ResizeBilinear":{const r=rt("images",n,t,e),a=rt("size",n,t,e),c=rt("alignCorners",n,t,e),u=rt("halfPixelCenters",n,t,e);return[i.image.resizeBilinear(r,[a[0],a[1]],c,u)]}case"ResizeNearestNeighbor":{const r=rt("images",n,t,e),a=rt("size",n,t,e),c=rt("alignCorners",n,t,e),u=rt("halfPixelCenters",n,t,e);return[i.image.resizeNearestNeighbor(r,[a[0],a[1]],c,u)]}case"CropAndResize":{const r=rt("image",n,t,e),a=rt("boxes",n,t,e),c=rt("boxInd",n,t,e),u=rt("cropSize",n,t,e),f=rt("method",n,t,e),p=rt("extrapolationValue",n,t,e);return[i.image.cropAndResize(r,a,c,u,f,p)]}case"ImageProjectiveTransformV3":{const r=rt("images",n,t,e),a=rt("transforms",n,t,e),c=rt("outputShape",n,t,e),u=rt("fillValue",n,t,e),f=rt("interpolation",n,t,e),p=rt("fillMode",n,t,e);return[i.image.transform(r,a,f.toLowerCase(),p.toLowerCase(),u,c)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"graph":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Const":return t[n.name];case"PlaceholderWithDefault":const r=rt("default",n,t,e);return[kc(n.name,t,e)||r];case"Placeholder":return[kc(n.name,t,e)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[Ef(rt("x",n,t,e))];case"IdentityN":return rt("x",n,t,e).map(g=>Ef(g));case"Shape":return[i.tensor1d(rt("x",n,t,e).shape,"int32")];case"ShapeN":return rt("x",n,t,e).map(g=>i.tensor1d(g.shape));case"Size":return[i.scalar(rt("x",n,t,e).size,"int32")];case"Rank":return[i.scalar(rt("x",n,t,e).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const c=rt("x",n,t,e),u=rt("data",n,t,e),f=rt("message",n,t,e),p=rt("summarize",n,t,e);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(f);for(let g=0;g<u.length;g++)console.log(Array.prototype.slice.call(u[g].dataSync()).slice(0,p));return[c];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"logical":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Equal":return[i.equal(rt("a",n,t,e),rt("b",n,t,e))];case"NotEqual":return[i.notEqual(rt("a",n,t,e),rt("b",n,t,e))];case"Greater":return[i.greater(rt("a",n,t,e),rt("b",n,t,e))];case"GreaterEqual":return[i.greaterEqual(rt("a",n,t,e),rt("b",n,t,e))];case"Less":return[i.less(rt("a",n,t,e),rt("b",n,t,e))];case"LessEqual":return[i.lessEqual(rt("a",n,t,e),rt("b",n,t,e))];case"LogicalAnd":return[i.logicalAnd(rt("a",n,t,e),rt("b",n,t,e))];case"LogicalNot":return[i.logicalNot(rt("a",n,t,e))];case"LogicalOr":return[i.logicalOr(rt("a",n,t,e),rt("b",n,t,e))];case"Select":case"SelectV2":return[i.where(rt("condition",n,t,e),rt("a",n,t,e),rt("b",n,t,e))];case"BitwiseAnd":return[i.bitwiseAnd(rt("a",n,t,e),rt("b",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"matrices":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul(rt("a",n,t,e),rt("b",n,t,e),rt("transposeA",n,t,e),rt("transposeB",n,t,e))];case"Einsum":return[i.einsum(rt("equation",n,t,e),...rt("tensors",n,t,e))];case"Transpose":return[i.transpose(rt("x",n,t,e),rt("perm",n,t,e))];case"_FusedMatMul":const[r,a]=rt("fusedOps",n,t,e),c="biasadd"===r,u="prelu"===a,f=rt("numArgs",n,t,e),p=rt("leakyreluAlpha",n,t,e);if(c){if(u&&2!==f)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==f)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[g,v]=rt("args",n,t,e);return[i.fused.matMul({a:rt("a",n,t,e),b:rt("b",n,t,e),transposeA:rt("transposeA",n,t,e),transposeB:rt("transposeB",n,t,e),bias:g,activation:a,preluActivationWeights:v,leakyreluAlpha:p})];case"MatrixBandPart":return[i.linalg.bandPart(rt("a",n,t,e),rt("numLower",n,t,e),rt("numUpper",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"normalization":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"EuclideanNorm":return[i.euclideanNorm(rt("x",n,t,e),rt("axis",n,t,e),rt("keepDims",n,t,e))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[i.batchNorm(rt("x",n,t,e),rt("mean",n,t,e),rt("variance",n,t,e),rt("offset",n,t,e),rt("scale",n,t,e),rt("epsilon",n,t,e))];case"LRN":return[i.localResponseNormalization(rt("x",n,t,e),rt("radius",n,t,e),rt("bias",n,t,e),rt("alpha",n,t,e),rt("beta",n,t,e))];case"Softmax":return[i.softmax(rt("x",n,t,e))];case"LogSoftmax":return[i.logSoftmax(rt("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"ragged":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=i.raggedGather(rt("paramsNestedSplits",n,t,e),rt("paramsDenseValues",n,t,e),rt("indices",n,t,e),rt("outputRaggedRank",n,t,e));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=i.raggedRange(rt("starts",n,t,e),rt("limits",n,t,e),rt("splits",n,t,e));return[r,a]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor(rt("shape",n,t,e),rt("values",n,t,e),rt("defaultValue",n,t,e),rt("rowPartitionTensors",n,t,e),rt("rowPartitionTypes",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"reduction":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Max":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.max(rt("x",n,t,e),u,f)]}case"Mean":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.mean(rt("x",n,t,e),u,f)]}case"Min":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.min(rt("x",n,t,e),u,f)]}case"Sum":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.sum(rt("x",n,t,e),u,f)]}case"All":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.all(rt("x",n,t,e),u,f)]}case"Any":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.any(rt("x",n,t,e),u,f)]}case"ArgMax":{const u=rt("axis",n,t,e);return[i.argMax(rt("x",n,t,e),u)]}case"ArgMin":{const u=rt("axis",n,t,e);return[i.argMin(rt("x",n,t,e),u)]}case"Prod":{const u=rt("axis",n,t,e),f=rt("keepDims",n,t,e);return[i.prod(rt("x",n,t,e),u,f)]}case"Cumprod":{const u=rt("axis",n,t,e),f=rt("exclusive",n,t,e),p=rt("reverse",n,t,e);return[i.cumprod(rt("x",n,t,e),u,f,p)]}case"Cumsum":{const u=rt("axis",n,t,e),f=rt("exclusive",n,t,e),p=rt("reverse",n,t,e);return[i.cumsum(rt("x",n,t,e),u,f,p)]}case"Bincount":const r=rt("x",n,t,e),a=rt("weights",n,t,e),c=rt("size",n,t,e);return[i.bincount(r,a,c)];case"DenseBincount":{const u=rt("x",n,t,e),f=rt("weights",n,t,e),p=rt("size",n,t,e),g=rt("binaryOutput",n,t,e);return[i.denseBincount(u,f,p,g)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"slice_join":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"ConcatV2":case"Concat":{const r=rt("n",n,t,e),a=rt("axis",n,t,e);let c=rt("tensors",n,t,e);return c=c.slice(0,r),[i.concat(c,a)]}case"Gather":{const r=rt("x",n,t,e),a=rt("indices",n,t,e);return[i.gather(r,i.cast(a,"int32"),0)]}case"GatherV2":{const r=rt("axis",n,t,e),a=rt("batchDims",n,t,e),c=rt("x",n,t,e),u=rt("indices",n,t,e);return[i.gather(c,i.cast(u,"int32"),r,a)]}case"Reverse":{const r=rt("dims",n,t,e),a=[];for(let u=0;u<r.length;u++)r[u]&&a.push(u);const c=rt("x",n,t,e);return[i.reverse(c,a)]}case"ReverseV2":{const r=rt("axis",n,t,e),a=rt("x",n,t,e);return[i.reverse(a,r)]}case"Slice":{const r=rt("begin",n,t,e),a=rt("size",n,t,e);return[i.slice(rt("x",n,t,e),r,a)]}case"StridedSlice":{const r=rt("begin",n,t,e),a=rt("end",n,t,e),c=rt("strides",n,t,e),u=rt("beginMask",n,t,e),f=rt("endMask",n,t,e),p=rt("ellipsisMask",n,t,e),g=rt("newAxisMask",n,t,e),v=rt("shrinkAxisMask",n,t,e),T=rt("x",n,t,e);return[i.stridedSlice(T,r,a,c,u,f,p,g,v)]}case"Pack":return k(()=>{const r=rt("axis",n,t,e),a=rt("tensors",n,t,e),c=a[0].shape,u=i.squeeze(a[0]).shape,f=a.map(p=>{const g=Oe(p.shape,c);if(!g&&!Oe(i.squeeze(p).shape,u))throw new Error("the input tensors shape does not match");return g?p:i.reshape(p,c)});return[i.stack(f,r)]});case"Unpack":{const r=rt("axis",n,t,e),a=rt("tensor",n,t,e);return i.unstack(a,r)}case"Tile":{const r=rt("reps",n,t,e);return[i.tile(rt("x",n,t,e),r)]}case"Split":case"SplitV":{const r=rt("axis",n,t,e),a=rt("numOrSizeSplits",n,t,e),c=rt("x",n,t,e);return i.split(c,a,r)}case"ScatterNd":{const r=rt("indices",n,t,e),a=rt("values",n,t,e),c=rt("shape",n,t,e);return[i.scatterND(r,a,c)]}case"GatherNd":{const r=rt("x",n,t,e),a=rt("indices",n,t,e);return[i.gatherND(r,a)]}case"SparseToDense":{const r=rt("sparseIndices",n,t,e),a=rt("outputShape",n,t,e),c=rt("sparseValues",n,t,e),u=rt("defaultValue",n,t,e);return[i.sparseToDense(r,c,a,c.dtype===u.dtype?u:i.cast(u,c.dtype))]}case"TensorScatterUpdate":{const r=rt("indices",n,t,e),a=rt("values",n,t,e),c=rt("tensor",n,t,e);return[i.tensorScatterUpdate(c,r,a)]}default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"sparse":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:c,reverseIndexMap:u}=i.sparse.sparseFillEmptyRows(rt("indices",n,t,e),rt("values",n,t,e),rt("denseShape",n,t,e),rt("defaultValue",n,t,e));return[r,a,c,u]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=i.sparse.sparseReshape(rt("inputIndices",n,t,e),rt("inputShape",n,t,e),rt("newShape",n,t,e));return[r,a]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean(rt("data",n,t,e),rt("indices",n,t,e),rt("segmentIds",n,t,e))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum(rt("data",n,t,e),rt("indices",n,t,e),rt("segmentIds",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"spectral":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"FFT":return[i.fft(rt("x",n,t,e))];case"IFFT":return[i.ifft(rt("x",n,t,e))];case"RFFT":return[i.rfft(rt("x",n,t,e))];case"IRFFT":return[i.irfft(rt("x",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"string":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"StaticRegexReplace":return[i.string.staticRegexReplace(rt("input",n,t,e),rt("pattern",n,t,e),rt("rewrite",n,t,e),rt("replaceGlobal",n,t,e))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=i.string.stringNGrams(rt("data",n,t,e),rt("dataSplits",n,t,e),rt("separator",n,t,e),rt("nGramWidths",n,t,e),rt("leftPad",n,t,e),rt("rightPad",n,t,e),rt("padWidth",n,t,e),rt("preserveShortSequences",n,t,e));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:c}=i.string.stringSplit(rt("input",n,t,e),rt("delimiter",n,t,e),rt("skipEmpty",n,t,e));return[r,a,c]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast(rt("input",n,t,e),rt("numBuckets",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"transformation":return r(()=>((n,t,e,i=W)=>{switch(n.op){case"Cast":return[i.cast(rt("x",n,t,e),rt("dtype",n,t,e))];case"ExpandDims":{const r=rt("axis",n,t,e);return[i.expandDims(rt("x",n,t,e),r)]}case"Squeeze":{const r=rt("axis",n,t,e);return[i.squeeze(rt("x",n,t,e),r)]}case"Reshape":return[i.reshape(rt("x",n,t,e),rt("shape",n,t,e))];case"EnsureShape":return[i.ensureShape(rt("x",n,t,e),rt("shape",n,t,e))];case"MirrorPad":return[i.mirrorPad(rt("x",n,t,e),rt("padding",n,t,e),rt("mode",n,t,e))];case"PadV2":case"Pad":return[i.pad(rt("x",n,t,e),rt("padding",n,t,e),rt("constantValue",n,t,e))];case"SpaceToBatchND":{const r=rt("blockShape",n,t,e),a=rt("paddings",n,t,e);return[i.spaceToBatchND(rt("x",n,t,e),r,a)]}case"BatchToSpaceND":{const r=rt("blockShape",n,t,e),a=rt("crops",n,t,e);return[i.batchToSpaceND(rt("x",n,t,e),r,a)]}case"DepthToSpace":{const r=rt("blockSize",n,t,e),a=rt("dataFormat",n,t,e).toUpperCase();return[i.depthToSpace(rt("x",n,t,e),r,a)]}case"BroadcastTo":return[i.broadcastTo(rt("x",n,t,e),rt("shape",n,t,e))];case"BroadcastArgs":return[i.broadcastArgs(rt("s0",n,t,e),rt("s1",n,t,e))];default:throw TypeError(`Node type ${n.op} is not implemented`)}})(c,u,f));case"hash_table":return WL(c,u,f,i);case"custom":const p=O1(c.op);if(p&&p.customExecutor)return p.customExecutor(new FL(c,u,f));throw TypeError(`Custom op ${c.op} is not registered.`);default:throw TypeError(`Unknown op '${c.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(n,t,e);return We(a)?a.then(c=>[].concat(c)):[].concat(a)}class Y1{constructor(t={},e={},i={},r={},a){this.weightMap=t,this.tensorArrayMap=e,this.tensorListMap=i,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,e){return{id:t,frameName:e,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const t=[];for(let e=0;e<this.contexts.length-1;e++){const i=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(i))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(const e in this.tensorArrayMap)this.tensorArrayMap[e].clearAndClose(t);for(const e in this.tensorListMap)this.tensorListMap[e].clearAndClose(t)}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function LN(n,t,e,i){const r=new Set,a=[];let c=null,u=null;const f=new Set,p=new Set(Object.keys(n).map(T=>dd(T)[0]));i=i||[];const g=new Set(i.map(T=>dd(T.name)[0])),v=[...t];for(;v.length>0;){const T=v.pop();if((yp(T)||ek(T)||VN(T))&&null==c&&(c=T,u=c.children.map(V=>V.name).filter(V=>r.has(V))),r.add(T.name),null==e[T.name]&&!p.has(T.name)&&!g.has(T.name)){if(0===T.inputs.length){a.push(T.name);continue}T.inputs.forEach(V=>{f.has(V.name)||(f.add(V.name),v.push(V))})}}return{inputs:n,outputs:t,usedNodes:r,missingInputs:a,dynamicNode:c,syncInputs:u}}class vb extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}}const Sx=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),J1=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),BN=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function yp(n){return Sx.has(n.op)}function ek(n){return J1.has(n.op)}function VN(n){return BN.has(n.op)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class M_{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){const e=Object.keys(t).map(i=>t[i].map(r=>r.id));this._weightIds=[].concat(...e),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{const e=t.signatureKey||t.name;return t.defaultOutput?`${e}:${t.defaultOutput}`:e})}get functions(){return Object.keys(this._functions).reduce((t,e)=>(t[e]=this._functions[e].signature,t),{})}constructor(t,e){this.graph=t,this.parent=e,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach(i=>{this._functionExecutorMap[i]=new M_(t.functions[i],this)})}getCompilationKey(t,e){const i=t.map(a=>a.name).sort(),r=e.map(a=>a.name).sort();return i.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(t,e){const i=LN(t,e,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:c}=i;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${c}]`);if(r.length>0){const p=e.map(v=>v.name),g=Object.keys(t);throw new Error(`Cannot compute the outputs [${p}] from the provided inputs [${g}]. Missing the following inputs: [${r}]`)}const u=function q1(n,t){const{usedNodes:e,inputs:i}=t,c=te=>e.has("string"==typeof te?te:te.name);function u(te){return[...new Map(te.map(_e=>[_e.name,_e])).values()]}const f=u([...Object.keys(i).map(te=>dd(te)[0]).map(te=>n.nodes[te]),...n.weights,...n.initNodes||[]]).filter(c),p=u([...f,...Object.values(n.nodes)]).filter(c),g=new Map(p.map(te=>[te.name,te])),v={};for(const te of p){v[te.name]=v[te.name]||0;for(const _e of te.children)c(_e)||(v[_e.name]=Number.POSITIVE_INFINITY),v[_e.name]=(v[_e.name]||0)+1}const T=Object.entries(v).filter(([,te])=>0===te).map(([te])=>te),V=[...T];for(;T.length>0;){const te=T.pop(),_e=g.get(te);for(const Te of _e.children.filter(c))0==--v[Te.name]&&(V.push(Te.name),T.push(Te.name))}const ae=function Q1(n,t){const e=new Map(n.map(c=>[c.name,c])),i=t.map(c=>c.name),r=new Set(i);for(;i.length>0;){const c=i.pop(),u=e.get(c);for(const f of u.children)!e.has(f.name)||r.has(f.name)||(r.add(f.name),i.push(f.name))}return n.filter(c=>r.has(c.name))}(V.map(te=>g.get(te)),f);return function Z1(n,t){const e=new Map(n.map((u,f)=>[u.name,f])),i=new Set(t.map(u=>u.name)),r=u=>i.has("string"==typeof u?u:u.name),a=new Set(n.map(u=>u.name)),c=u=>a.has("string"==typeof u?u:u.name);for(const u of n){for(const f of u.children.filter(c)){if(!e.has(f.name))throw new vb(`Child ${f.name} of node ${u.name} is unreachable.`);if(e.get(u.name)>e.get(f.name))throw new vb(`Node ${u.name} is scheduled to run after its child ${f.name}.`)}if(!r(u))for(const f of u.inputs){if(!e.has(f.name))throw new vb(`Input ${f.name} of node ${u.name} is unreachable.`);if(e.get(f.name)>e.get(u.name))throw new vb(`Node ${u.name} is scheduled to run before its input ${f.name}.`)}}}(ae,f),ae}(this.graph,i),f=function $N(n){const t=new Map(n.map((u,f)=>[u.name,f])),e=Number.MAX_SAFE_INTEGER,i=n.map((u,f)=>yp(u)?e:f),r=u=>i[t.get(u.name)]??-1,a=n.map((u,f)=>u.children.map(r).reduce((p,g)=>Math.max(p,g),i[f])),c=new Map;for(let u=0;u<n.length;++u){const f=a[u];if(f===e)continue;const p=n[u],g=n[f];c.has(g.name)||c.set(g.name,[]),c.get(g.name).push(p)}return c}(u);return{orderedNodes:u,nodeLiveUntilMap:f}}cloneAndKeepTensor(t){if(null==t)return null;const e=t.clone();return he(e),e}cloneTensorList(t){return t?t.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([e,i])=>[e,this.cloneTensorList(i)]))}execute(t,e){this.disposeIntermediateTensors(),t=this.mapInputs(t);const i=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),e=this.mapOutputs(e),this.checkOutputs(e);const r=i.map(T=>this.graph.nodes[dd(T)[0]]),a=e.map(T=>dd(T)[0]),c=new Set(a);let u=a.map(T=>this.graph.nodes[T]);0===u.length&&(u=this._outputs);const f=this.getCompilationKey(r,u);let p=this.compiledMap.get(f);null==p&&(p=this.compile(t,u),this.compiledMap.set(f,p));try{this.keepIntermediateTensors=De().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(T){this.keepIntermediateTensors=!1,console.warn(T.message)}const g={},v={};return k(()=>{const T=new Y1(this.weightMap,g,v,this.functionExecutorMap,this.parseNodeNameCache),V=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(_e=>{const[Te,nt]=dd(_e,T),it=[];it[nt]=t[_e],V[Te]=it,this.keepIntermediateTensors&&(this.clonedTensorsMap[Te]=this.cloneTensorList(it))});const Y=this.getFrozenTensorIds(V),{orderedNodes:ae,nodeLiveUntilMap:te}=p;for(const _e of ae){if(V[_e.name])continue;const Te=X1(_e,V,T,this._resourceManager);if(We(Te))throw new Error(`The execution of the op '${_e.op}' returned a promise. Please use model.executeAsync() instead.`);V[_e.name]=Te,this.keepIntermediateTensors&&(this.clonedTensorsMap[_e.name]=this.cloneTensorList(Te)),this.checkTensorForDisposalWithNodeLiveUntilInfo(_e,V,T,Y,c,te.get(_e.name))}return null==this.parent&&T.dispose(Y),e.map(_e=>kc(_e,V,T))})}getFrozenTensorIds(t){const e=[].concat.apply([],Object.keys(t).map(i=>t[i]).map(i=>i.map(r=>r.id)));return new Set(e)}checkTensorForDisposal(t,e,i,r,a,c,u){if(!yp(e)&&!c.has(t)){for(const f of i[t])null!=f&&(u[f.id]=(u[f.id]||0)+e.children.length);for(const f of e.inputs){if(yp(f))continue;const p=dx(f.name,i,r);if(null!=p)for(const g of p){if(!g||g.kept||a.has(g.id))continue;const v=u[g.id];1===v?(g.dispose(),delete u[g.id]):null!=v&&u[g.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,e,i,r,a,c){function u(f){return yp(f)||a.has(f.name)}if(!yp(t)&&null!=c)for(const f of c){if(u(f))continue;const p=dx(f.name,e,i);for(const g of p)!g||g.kept||r.has(g.id)||g.dispose()}}executeAsync(t,e){var i=this;return(0,q.A)(function*(){return i._executeAsync(t,e)})()}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(const e of t)e&&!e.isDisposed&&e.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(t,e,i=!1,r={},a={}){var c=this;return(0,q.A)(function*(){c.disposeIntermediateTensors(),i||(t=c.mapInputs(t),c.checkInputs(t),c.checkInputShapeAndType(t),e=c.mapOutputs(e),c.checkOutputs(e));try{c.keepIntermediateTensors=De().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(V){c.keepIntermediateTensors=!1,console.warn(V.message)}const u=new Y1(c.weightMap,r,a,c.functionExecutorMap,c.parseNodeNameCache);c.keepIntermediateTensors&&(c.clonedTensorsMap=c.cloneTensorMap(c.weightMap));const f=yield c.executeWithControlFlow(t,u,e,i),p=e.map(V=>kc(V,f,u)),g=p.map(V=>V.id),v=Object.keys(t).map(V=>t[V].id),T=new Set([...g,...v,...c.weightIds]);return Object.values(f).forEach(V=>{V.forEach(Y=>{Y&&!Y.isDisposed&&!T.has(Y.id)&&Y.dispose()})}),null==c.parent&&u.dispose(T),p})()}executeFunctionAsync(t,e,i){var r=this;return(0,q.A)(function*(){const a=t.reduce((c,u,f)=>(c[r.inputs[f].name]=u,c),{});return r._executeAsync(a,r.outputNodes,!0,e,i)})()}executeWithControlFlow(t,e,i,r){var a=this;return(0,q.A)(function*(){const c=Object.keys(t),u=c.map(St=>a.graph.nodes[dd(St)[0]]),f=i.map(St=>dd(St)[0]),p=new Set(f);let g=f.map(St=>a.graph.nodes[St]);0===g.length&&(g=a._outputs);const{usedNodes:v,missingInputs:T,dynamicNode:V,syncInputs:Y}=LN(t,g,a.weightMap,a._initNodes),ae=[...u,...a.graph.weights,...a._initNodes||[]].map(St=>({node:St,contexts:e.currentContext})),te=Object.assign({},a.weightMap);Object.keys(t).forEach(St=>{const[Xt,sn]=dd(St),dn=[];dn[sn]=t[St],te[Xt]=dn});const _e={},Te=a.getFrozenTensorIds(te),nt={};for(;ae.length>0;){const St=a.processStack(u,ae,e,te,nt,Te,p,_e,v);yield Promise.all(St)}null==V&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const it=g.filter(St=>!yp(St)&&!kc(St.name,te,e)).map(St=>St.name);if(it.length>0){let St="";throw null!=V&&(St=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${Y}]`),new Error(`Cannot compute the outputs [${it}] from the provided inputs [${c}]. Consider providing the following inputs: [${T}]. ${St}`)}return te})()}processStack(t,e,i,r,a,c,u,f,p){const g=[];for(;e.length>0;){const v=e.pop();i.currentContext=v.contexts;let T="";if("Enter"===v.node.op&&rt("isConstant",v.node,r,i)&&([T]=Hh(v.node.name,i)),null==r[v.node.name]){const V=X1(v.node,r,i,this._resourceManager);T||([T]=Hh(v.node.name,i));const Y=i.currentContext;We(V)?g.push(V.then(ae=>(r[T]=ae,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(ae)),i.currentContext=Y,this.checkTensorForDisposal(T,v.node,r,i,c,u,f),this.processChildNodes(v.node,e,i,r,a,p),ae))):(r[T]=V,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(V)),this.checkTensorForDisposal(T,v.node,r,i,c,u,f),this.processChildNodes(v.node,e,i,r,a,p))}else this.processChildNodes(v.node,e,i,r,a,p)}return g}processChildNodes(t,e,i,r,a,c){t.children.forEach(u=>{const[f]=Hh(u.name,i);a[f]||!c.has(u.name)||("Merge"===u.op?u.inputNames.some(p=>!!kc(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})):u.inputNames.every(p=>!!kc(p,r,i))&&(a[f]=!0,e.push({contexts:i.currentContext,node:u})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(e=>e.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(e=>{const i=t[e],[r]=dd(e),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const c=a.attrParams.shape.value;Ce(c.length===i.shape.length&&i.shape.every((f,p)=>-1===c[p]||c[p]===f),()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${c}], but was [${i.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&Ce(i.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${i.dtype}`)})}mapInputs(t){var e,i;const r={};for(const a in t){const c=null===(i=null===(e=this._signature)||void 0===e?void 0:e.inputs)||void 0===i?void 0:i[a];null!=c?r[c.name]=t[a]:r[a]=t[a]}return r}checkInputs(t){const e=Object.keys(t).filter(i=>{const[r]=dd(i);return null==this.graph.nodes[r]});if(e.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${e}] that are not part of graph`)}mapOutputs(t){return t.map(e=>{var i,r;const a=null===(r=null===(i=this._signature)||void 0===i?void 0:i.outputs)||void 0===r?void 0:r[e];return null!=a?a.name:e},{})}checkOutputs(t){t.forEach(e=>{const[i]=dd(e);if(!this.graph.nodes[i])throw new Error(`The output '${e}' is not found in the graph`)})}}class JL{constructor(t={},e={}){this.hashTableNameToHandle=t,this.hashTableMap=e}addHashTable(t,e){this.hashTableNameToHandle[t]=e.handle,this.hashTableMap[e.id]=e}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(const t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(const t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const UN="?tfjs-format=file",zN="model.json";class tk{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,e={},i=d){this.modelUrl=t,this.loadOptions=e,this.version="n/a",this.io=i,null==e&&(this.loadOptions={}),this.resourceManager=new JL}findIOHandler(){const t=this.modelUrl;if(null!=t.load)this.handler=t;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{const e=this.io.getLoadHandlers(t,this.loadOptions);if(0===e.length)e.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(e.length>1)throw new Error(`Found more than one (${e.length}) load handlers for URL '${[t]}'`);this.handler=e[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const t=this.handler.load();return We(t)?t.then(e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e)):this.loadSync(t)}loadSync(t){const e=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,e)}loadStreaming(t){var e=this;return(0,q.A)(function*(){if(null==t.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const i=yield cr(t.getWeightStream(),t.weightSpecs);return e.loadWithWeightMap(t,i)})()}loadWithWeightMap(t,e){this.artifacts=t;const i=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const a=this.artifacts.userDefinedMetadata;null!=a.signature&&(r=a.signature),null!=a.structuredOutputKeys&&(this.structuredOutputKeys=a.structuredOutputKeys)}if(this.signature=r,this.version=`${i.versions.producer}.${i.versions.minConsumer}`,this.executor=new M_(L1.Instance.transformGraph(i,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(e),this.executor.resourceManager=this.resourceManager,null!=t.modelInitializer&&null!=t.modelInitializer.node){const a=L1.Instance.transformGraph(t.modelInitializer);this.initializer=new M_(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}save(t,e){var i=this;return(0,q.A)(function*(){if("string"==typeof t){const r=i.io.getSaveHandlers(t);if(0===r.length)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${t}'`);t=r[0]}if(null==t.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(i.artifacts)})()}addStructuredOutputNames(t){if(this.structuredOutputKeys){const i={};return(t instanceof so?[t]:t).forEach((r,a)=>i[this.structuredOutputKeys[a]]=r),i}return t}predict(t,e){const i=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(i)}predictAsync(t,e){var i=this;return(0,q.A)(function*(){const r=yield i.executeAsync(t,i.outputNodes);return i.addStructuredOutputNames(r)})()}normalizeInputs(t){var e;if(!(t instanceof so||Array.isArray(t))){const a=null===(e=this.signature)||void 0===e?void 0:e.inputs;if(null!=a)for(const c in a){const u=a[c];null!=u.resourceId&&(t[c]=this.resourceIdToCapturedInput[u.resourceId])}return t}t=Array.isArray(t)?t:[t];const i=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+i!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-i} non-resource placeholders, while there are ${t.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((a,c)=>{var u,f,p;const g=null===(p=null===(f=null===(u=this.signature)||void 0===u?void 0:u.inputs)||void 0===f?void 0:f[c])||void 0===p?void 0:p.resourceId;return a[c]=null!=g?this.resourceIdToCapturedInput[g]:t[r++],a},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return null==this.initializer?[]:this.initializer.execute({},null==this.initializerSignature?[]:Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){var t=this;return(0,q.A)(function*(){return null==t.initializer?[]:t.initializer.executeAsync({},null==t.initializerSignature?[]:Object.keys(t.initializerSignature.outputs))})()}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){const e=this.initializerSignature.outputs,i=Object.keys(e);for(let r=0;r<i.length;r++)this.resourceIdToCapturedInput[e[i[r]].resourceId]=t[r]}}execute(t,e){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),e=this.normalizeOutputs(e);const i=this.executor.execute(t,e);return i.length>1?i:i[0]}executeAsync(t,e){var i=this;return(0,q.A)(function*(){null==i.resourceIdToCapturedInput&&i.setResourceIdToCapturedInput(yield i.executeInitializerGraphAsync()),t=i.normalizeInputs(t),e=i.normalizeOutputs(e);const r=yield i.executor.executeAsync(t,e);return r.length>1?r:r[0]})()}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((e,i)=>(e[i]=[t[i]],e),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&B(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}function jN(n){return bb.apply(this,arguments)}function bb(){return(bb=(0,q.A)(function*(n,t={},e=d){if(null==n)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"==typeof n&&(n=function HN(n){return n.endsWith("/")||(n+="/"),`${n}${zN}${UN}`
/** @license See the LICENSE file. */}(n));const i=new tk(n,t,e);return yield i.load(),i})).apply(this,arguments)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Tr(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Ce("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");const kU=Wy;let IU=(()=>{class n extends Je{nextDataId(){return n.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new yt(this,zl())}write(e,i,r){this.firstUse&&(this.firstUse=!1,De().get("IS_NODE")&&an("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&Hn(r[0])){const c=r.map(u=>tc(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return{dataId:a,shape:e,dtype:i}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){this.data.get(e).refCount++}decRef(e){this.data.has(e)&&this.data.get(e).refCount--}move(e,i,r,a,c){this.data.set(e,{values:i,dtype:a,refCount:c})}numDataIds(){return this.data.numDataIds()}read(e){var i=this;return(0,q.A)(function*(){return i.readSync(e)})()}readSync(e){const{dtype:i,complexTensorInfos:r}=this.data.get(e);return"complex64"===i?ah(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):function Ri(n,t){if(Array.isArray(n))return n;if("float32"===t)return n instanceof Float32Array?n:new Float32Array(n);if("int32"===t)return n instanceof Int32Array?n:new Int32Array(n);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(n));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,i)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>zc(a));return fs(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return fs(e.shape,e.dtype,i)}makeOutput(e,i,r){return zl().makeTensorFromTensorInfo(this.makeTensorInfo(i,r,e),this)}disposeData(e,i=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!i&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}time(e){return(0,q.A)(function*(){const i=zr();return e(),{kernelMs:zr()-i}})()}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Tr([e],"where");const i=this.readSync(e.dataId);return kU(e.shape,i)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}return n.nextDataId=0,n})();
/** @license See the LICENSE file. */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Cf(n){return(t,e,i)=>{const r=Z(e,t.length);for(let a=0;a<t.length;++a)r[a]=n(t[a],i);return r}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ga(n,t,e){return $m(n,Cf(t),e)}function $m(n,t,e){return({inputs:i,attrs:r,backend:a})=>{const{x:c}=i;Tr(c,n);const u=a,f=u.data.get(c.dataId).values;let p;if("string"===c.dtype){if(!Array.isArray(f))throw new Error("String tensor's value was not an instance of Array");p=$h(f)}else p=f;const g=e||c.dtype,v=t(p,g,r);return u.makeTensorInfo(c.shape,g,v)}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
bi("cpu",()=>new IU,1);const h$=ga(La,n=>n>=0?n:Math.exp(n)-1),MU={kernelName:La,backendName:"cpu",kernelFunc:h$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sf(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const OU={kernelName:Ba,backendName:"cpu",kernelFunc:Sf};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function f$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i;Tr([r],"leakyRelu");const c=Tt(r.shape),u=e.data.get(r.dataId).values,f=dt("float32",c);for(let p=0;p<u.length;p++)f[p]=u[p]<0?a*u[p]:u[p];return e.makeTensorInfo(r.shape,"float32",f)}const RU={kernelName:oa,backendName:"cpu",kernelFunc:f$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dc(n){return(t,e,i,r,a)=>{const c=Ts(t,e),u=c.length,f=$t(c),g=dt(a,Tt(c)),v=t.length,T=e.length,V=$t(t),Y=$t(e),ae=ic(t,c),te=ic(e,c);if(ae.length+te.length===0)for(let _e=0;_e<g.length;++_e)g[_e]=n(i[_e%i.length],r[_e%r.length]);else for(let _e=0;_e<g.length;++_e){const Te=Le(_e,u,f),nt=Te.slice(-v);ae.forEach(sn=>nt[sn]=0);const it=pt(nt,v,V),St=Te.slice(-T);te.forEach(sn=>St[sn]=0);const Xt=pt(St,T,Y);g[_e]=n(i[it],r[Xt])}return[g,c]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const NU=dc((n,t)=>n<0?t*n:n);function p$(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t;Tr([i,r],"prelu");const a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,[u,f]=NU(i.shape,r.shape,a,c,"float32");return e.makeTensorInfo(f,"float32",u)}const PU={kernelName:ie,backendName:"cpu",kernelFunc:p$},m$=ga(Ur,n=>Math.max(0,n)),FU={kernelName:Ur,backendName:"cpu",kernelFunc:m$},g$=ga(Ns,n=>Math.min(Math.max(0,n),6)),LU={kernelName:Ns,backendName:"cpu",kernelFunc:g$},$U=Cf(n=>1/(1+Math.exp(-n))),_$=ga(jn,n=>1/(1+Math.exp(-n))),BU={kernelName:jn,backendName:"cpu",kernelFunc:_$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uk(n,t,e,i,r){if("linear"===e)return Sf({inputs:{x:t},backend:n});if("relu"===e)return m$({inputs:{x:t},backend:n});if("elu"===e)return h$({inputs:{x:t},backend:n});if("relu6"===e)return g$({inputs:{x:t},backend:n});if("prelu"===e)return p$({inputs:{x:t,alpha:i},backend:n});if("leakyrelu"===e)return f$({inputs:{x:t},backend:n,attrs:{alpha:r}});if("sigmoid"===e)return _$({inputs:{x:t},backend:n});throw new Error(`Activation ${e} has not been implemented for the CPU backend.`)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Sd(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=e.makeTensorInfo(i.shape,"complex64");return e.data.get(u.dataId).complexTensorInfos={real:e.makeTensorInfo(i.shape,"float32",a),imag:e.makeTensorInfo(r.shape,"float32",c)},u}const VU={kernelName:Bt,backendName:"cpu",kernelFunc:Sd};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dk(n,t,e="float32"){if("complex64"===e)return Sd({inputs:{real:dk(n,t,"float32"),imag:dk(n,t,"float32")},backend:n});const i=Kn(Tt(t),e);return n.makeTensorInfo(t,e,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function N_(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.real,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const UU={kernelName:Nn,backendName:"cpu",kernelFunc:N_};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function y$(n,t,e,i){if("int32"===i)return[t,"int32",Int32Array.from(n)];if("bool"===i){const r=Wa([0],e),[a,c]=dc((u,f)=>u!==f?1:0)(t,[],n,r,"bool");return[c,"bool",a]}throw new Error(`Error in Cast: failed to cast ${e} to ${i}`)}function Bm(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return Sf({inputs:{x:r},backend:e});const g=dk(e,r.shape,r.dtype),v=Bm({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),T=Sd({inputs:{real:v,imag:g},backend:e});return e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),T}if("complex64"===r.dtype){const g=N_({inputs:{input:r},backend:e}),v=Bm({inputs:{x:g},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(g),v}if(!lt(r.dtype,a)){const g=Sf({inputs:{x:r},backend:e});return{dataId:g.dataId,shape:g.shape,dtype:a}}const c=e.data.get(r.dataId).values,[u,f,p]=y$(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}const zU={kernelName:et,backendName:"cpu",kernelFunc:Bm};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Uc(n,t,e,i){return null==e?({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;Tr([c,u],n);const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,v="string"===c.dtype?$h(p):p,T="string"===c.dtype?$h(g):g,V=i||c.dtype,[Y,ae]=t(c.shape,u.shape,v,T,V);return f.makeTensorInfo(ae,V,Y)}:({inputs:r,backend:a})=>{const{a:c,b:u}=r,f=a;if("complex64"===c.dtype||"complex64"===u.dtype){const p=Bm({inputs:{x:c},backend:f,attrs:{dtype:"complex64"}}),g=f.data.get(p.dataId),T=g.complexTensorInfos.imag,V=f.data.get(g.complexTensorInfos.real.dataId).values,Y=f.data.get(T.dataId).values,ae=Bm({inputs:{x:u},backend:f,attrs:{dtype:"complex64"}}),te=f.data.get(ae.dataId),Te=te.complexTensorInfos.imag,nt=f.data.get(te.complexTensorInfos.real.dataId).values,it=f.data.get(Te.dataId).values,[St,Xt,sn]=e(c.shape,u.shape,V,Y,nt,it),dn=f.makeTensorInfo(sn,"float32",St),wn=f.makeTensorInfo(sn,"float32",Xt),Cn=Sd({inputs:{real:dn,imag:wn},backend:f});return f.disposeIntermediateTensorInfo(p),f.disposeIntermediateTensorInfo(ae),f.disposeIntermediateTensorInfo(dn),f.disposeIntermediateTensorInfo(wn),Cn}{const p=f.data.get(c.dataId).values,g=f.data.get(u.dataId).values,v=i||c.dtype,[T,V]=t(c.shape,u.shape,p,g,v);return f.makeTensorInfo(V,v,T)}}}function oP(n){return(t,e,i,r,a,c)=>{const u=Ts(t,e),f=Tt(u),p=u.length,g=$t(u),v=dt("float32",f),T=dt("float32",f),V=ic(t,u),Y=ic(e,u),ae=ah(i,r),te=ah(a,c),_e=t.length,Te=$t(t),nt=e.length,it=$t(e);if(V.length+Y.length===0)for(let St=0;St<v.length;St++){const Xt=St%ae.length,sn=St%te.length,dn=n(ae[2*Xt],ae[2*Xt+1],te[2*sn],te[2*sn+1]);v[St]=dn.real,T[St]=dn.imag}else for(let St=0;St<v.length;St++){const Xt=Le(St,p,g),sn=Xt.slice(-_e);V.forEach(qn=>sn[qn]=0);const dn=pt(sn,_e,Te),wn=Xt.slice(-nt);Y.forEach(qn=>wn[qn]=0);const Cn=pt(wn,nt,it),Vn=n(ae[2*dn],ae[2*dn+1],te[2*Cn],te[2*Cn+1]);v[St]=Vn.real,T[St]=Vn.imag}return[v,T,u]}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const v$=dc((n,t)=>n+t),jU=oP((n,t,e,i)=>({real:n+e,imag:t+i})),Sb=Uc(Ti,v$,jU),WU={kernelName:Ti,backendName:"cpu",kernelFunc:Sb};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function il(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=Tt(r.shape),u=Ut(a,c),f=Tt(u);Ce(c===f,()=>`The new shape (${u}) has ${f} elements and the old shape (${r.shape}) has ${c} elements. The new shape and old shape must have the same number of elements.`),e.incRef(r.dataId);const p=e.data.get(r.dataId);if(null!=p.complexTensorInfos){const v=p.complexTensorInfos.imag;p.complexTensorInfos.real.shape=u,v.shape=u}return{dataId:r.dataId,shape:u,dtype:r.dtype}}const HU={kernelName:ur,backendName:"cpu",kernelFunc:il};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function b$(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;Tr([r,a],"matMul");const f=r.shape.length,p=a.shape.length,g=c?r.shape[f-2]:r.shape[f-1],v=u?a.shape[p-1]:a.shape[p-2],T=c?r.shape[f-1]:r.shape[f-2],V=u?a.shape[p-2]:a.shape[p-1],Y=r.shape.slice(0,-2),ae=a.shape.slice(0,-2),te=Tt(Y),_e=Tt(ae),nt=Ts(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([T,V]);Ce(g===v,()=>`Error in matMul: inner shapes (${g}) and (${v}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${c} and transposeB=${u} must match.`);const St=u?[_e,V,v]:[_e,v,V],Xt=il({inputs:{x:r},backend:e,attrs:{shape:c?[te,g,T]:[te,T,g]}}),sn=il({inputs:{x:a},backend:e,attrs:{shape:St}}),dn=c?Xt.shape[1]:Xt.shape[2],wn=c?Xt.shape[2]:Xt.shape[1],Cn=u?sn.shape[1]:sn.shape[2],Vn=Math.max(te,_e),qn=e.data.get(Xt.dataId).values,ii=e.data.get(sn.dataId).values,ri=$t(Xt.shape),oi=$t(sn.shape),[hi,_i,ai]=c?[ri[0],1,ri[1]]:[ri[0],ri[1],1],[vi,Ni,$i]=u?[1,oi[1],oi[0]]:[oi[1],1,oi[0]],qi=wn*Cn,ji=fs([Vn,wn,Cn],Xt.dtype),nr=ji.values,Qi=e.blockSize;for(let wr=0;wr<Vn;wr++){const Xr=wr%te,ys=wr%_e;for(let us=0;us<wn;us+=Qi){const Hs=Math.min(us+Qi,wn);for(let qs=0;qs<Cn;qs+=Qi){const _a=Math.min(qs+Qi,Cn);for(let rl=0;rl<dn;rl+=Qi){const Yl=Math.min(rl+Qi,dn);for(let sl=us;sl<Hs;sl++)for(let Pa=qs;Pa<_a;Pa++){let $l=0;for(let Il=rl;Il<Yl;Il++)$l+=qn[Xr*hi+sl*_i+Il*ai]*ii[Il*vi+Pa*Ni+ys*$i];nr[wr*qi+(sl*Cn+Pa)]+=$l}}}}}return e.disposeIntermediateTensorInfo(Xt),e.disposeIntermediateTensorInfo(sn),e.makeTensorInfo(nt,ji.dtype,ji.values)}const GU={kernelName:ar,backendName:"cpu",kernelFunc:b$},XU={kernelName:Dt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KU(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:v}=i;let T,V,Y;const ae=[];T=b$({inputs:{a:r,b:a},attrs:{transposeA:f,transposeB:p},backend:e}),c&&(V=Sb({inputs:{a:T,b:c},backend:e}),ae.push(T),T=V),g&&(Y=uk(e,T,g,u,v),ae.push(T),T=Y);for(const _e of ae)e.disposeIntermediateTensorInfo(_e);return T}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function w$(n){const t=new Float32Array(n.length);for(let e=0;e<n.length;++e)t[e]=Math.abs(n[e]);return t}const YU={kernelName:ni,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend;Tr(t,"abs");let i=new Float32Array(Tt(t.shape));return i=w$(e.data.get(t.dataId).values),e.makeOutput(i,t.shape,t.dtype)}},qU=ga(gi,n=>Math.acos(n)),QU={kernelName:gi,backendName:"cpu",kernelFunc:qU},ZU=ga(Ui,n=>Math.acosh(n)),JU={kernelName:Ui,backendName:"cpu",kernelFunc:ZU},t3={kernelName:Hi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function e3(n){const{inputs:t,backend:e}=n,i=t;Tr(t,"addN");const r=i.map(u=>e.data.get(u.dataId).values),a=fs(i[0].shape,i[0].dtype),c=a.values;for(let u=0;u<i.length;u++){const f=r[u];for(let p=0;p<c.length;p++)c[p]+=f[p]}return e.makeTensorInfo(a.shape,a.dtype,a.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aP(n,t,e,i,r){const a=t.length,c=Tt(t),u=$t(t),f=$t(r),p=dt(e,Tt(r));for(let g=0;g<c;++g){const v=Le(g,a,u),T=new Array(v.length);for(let Y=0;Y<T.length;Y++)T[Y]=v[i[Y]];p[pt(T,a,f)]=n[g]}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function fd(n){const{inputs:t,attrs:e,backend:i}=n,{x:r}=t,{perm:a}=e;Tr(r,"transpose");const u=new Array(r.shape.length);for(let v=0;v<u.length;v++)u[v]=r.shape[a[v]];const p=aP(i.data.get(r.dataId).values,r.shape,r.dtype,a,u);return{dataId:i.write(p,u,r.dtype),shape:u,dtype:r.dtype}}const n3={kernelName:xl,backendName:"cpu",kernelFunc:fd},r3={kernelName:"All",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function i3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Tr(r,"all");const u=wt(a,r.shape);let f=u;const p=_l(f,r.shape.length);let g=r;null!=p&&(g=fd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=Ga(f.length,r.shape.length)),Sc("all",f,g.shape.length);const[v,T]=Cc(g.shape,f),V=Tt(T),Y=Kn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let _e=0;_e<Y.length;++_e){const Te=_e*V;let nt=ae[Te];for(let it=0;it<V;++it)nt=nt&&ae[Te+it];Y[_e]=nt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,Y);if(c){const Te=il({inputs:{x:te},backend:e,attrs:{shape:gl(v,u)}});return e.disposeIntermediateTensorInfo(te),Te}return te}},o3={kernelName:"Any",backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function s3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Tr(r,"any");const u=wt(a,r.shape);let f=u;const p=_l(f,r.shape.length);let g=r;null!=p&&(g=fd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=Ga(f.length,r.shape.length)),Sc("any",f,g.shape.length);const[v,T]=Cc(g.shape,f),V=Tt(T),Y=Kn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let _e=0;_e<Y.length;++_e){const Te=_e*V;let nt=ae[Te];for(let it=0;it<V;++it)nt=nt||ae[Te+it];Y[_e]=nt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,Y);if(c){const Te=il({inputs:{x:te},backend:e,attrs:{shape:gl(v,u)}});return e.disposeIntermediateTensorInfo(te),Te}return te}},l3={kernelName:lr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;Tr(r,"argMax");let c=wt(a,r.shape);const u=_l(c,r.shape.length);let f=r;const p=[];null!=u&&(f=fd({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=Ga(c.length,f.shape.length)),c=[c[0]],Sc("argMax",c,f.shape.length);const[g,v]=Cc(f.shape,c),V=Kn(Tt(g),"int32"),Y=Tt(v),ae=e.data.get(f.dataId).values;for(let te=0;te<V.length;++te){const _e=te*Y;let Te=ae[_e],nt=0;for(let it=0;it<Y;++it){const St=ae[_e+it];St>Te&&(Te=St,nt=it)}V[te]=nt}return p.forEach(te=>e.disposeIntermediateTensorInfo(te)),e.makeTensorInfo(g,"int32",V)}},u3={kernelName:ir,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function c3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;Tr(r,"argMin");let c=wt(a,r.shape);const u=_l(c,r.shape.length);let f=r;const p=[];null!=u&&(f=fd({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=Ga(c.length,f.shape.length)),c=[c[0]],Sc("argMin",c,f.shape.length);const[g,v]=Cc(f.shape,c),V=Kn(Tt(g),"int32"),Y=Tt(v),ae=e.data.get(f.dataId).values;for(let te=0;te<V.length;++te){const _e=te*Y;let Te=ae[_e],nt=0;for(let it=0;it<Y;++it){const St=ae[_e+it];St<Te&&(Te=St,nt=it)}V[te]=nt}return p.forEach(te=>e.disposeIntermediateTensorInfo(te)),e.makeTensorInfo(g,"int32",V)}},d3=ga(Sr,n=>Math.asin(n)),h3={kernelName:Sr,backendName:"cpu",kernelFunc:d3},f3=ga(Hr,n=>Math.asinh(n)),p3={kernelName:Hr,backendName:"cpu",kernelFunc:f3},m3=ga(vs,n=>Math.atan(n)),g3={kernelName:vs,backendName:"cpu",kernelFunc:m3},_3=dc((n,t)=>Math.atan2(n,t)),y3=Uc(bs,_3),v3={kernelName:bs,backendName:"cpu",kernelFunc:y3},b3=ga(Vr,n=>Math.atanh(n)),w3={kernelName:Vr,backendName:"cpu",kernelFunc:b3};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lP(n,t,e,i,r,a){const c=r.strideHeight,u=r.strideWidth,f=r.dilationHeight,p=r.dilationWidth,g=r.effectiveFilterHeight,v=r.effectiveFilterWidth,T=r.padInfo.top,V=r.padInfo.left,Y="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,ae=fs(r.outShape,e),te=ae.values,_e=r.outShape[1]*r.outShape[2]*r.outShape[3],Te=r.outShape[2]*r.outShape[3],nt=r.outShape[3];for(let it=0;it<r.batchSize;++it){const St=it*_e,Xt=it*i[0];for(let sn=0;sn<r.inChannels;++sn)for(let dn=0;dn<r.outHeight;++dn){const wn=dn*c-T,Cn=Math.max(0,wn),Vn=Math.min(r.inHeight,g+wn),qn=St+dn*Te;for(let ii=0;ii<r.outWidth;++ii){const ri=ii*u-V,oi=Math.max(0,ri),hi=Math.min(r.inWidth,v+ri);let _i=Y,ai=0,vi=0;for(let $i=Cn;$i<Vn;$i+=f){const qi=Xt+$i*i[1];for(let ji=oi;ji<hi;ji+=p){const Qi=n[qi+ji*i[2]+sn];"max"===a&&Qi>_i?_i=Qi:"avg"===a&&(ai+=Qi,vi++)}if(isNaN(_i))break}te[qn+ii*nt+sn]="avg"===a?ai/vi:_i}}}return ae}function E$(n,t,e,i,r=!1,a=!1){const c=fs(i.outShape,"int32"),u=i.strideHeight,f=i.strideWidth,p=i.dilationHeight,g=i.dilationWidth,v=i.effectiveFilterHeight,T=i.effectiveFilterWidth,V=i.padInfo.top,Y=i.padInfo.left,ae=fs(t,e,n);for(let te=0;te<i.batchSize;++te)for(let _e=0;_e<i.inChannels;++_e)for(let Te=0;Te<i.outHeight;++Te){const nt=Te*u-V;let it=nt;for(;it<0;)it+=p;const St=Math.min(i.inHeight,v+nt);for(let Xt=0;Xt<i.outWidth;++Xt){const sn=Xt*f-Y;let dn=sn;for(;dn<0;)dn+=g;const wn=Math.min(i.inWidth,T+sn);let Cn=Number.NEGATIVE_INFINITY,Vn=-1;for(let qn=it;qn<St;qn+=p){const ii=qn-nt;for(let ri=dn;ri<wn;ri+=g){const oi=ri-sn,hi=ae.get(te,qn,ri,_e);hi>Cn&&(Cn=hi,Vn=r?a?((te*i.inHeight+qn)*i.inWidth+ri)*i.inChannels+_e:(qn*i.inWidth+ri)*i.inChannels+_e:ii*T+oi)}}c.set(Vn,te,Te,Xt,_e)}}return c}function x$(n,t,e,i,r,a){const c=r.strideDepth,u=r.strideHeight,f=r.strideWidth,p=r.dilationDepth,g=r.dilationHeight,v=r.dilationWidth,T=r.effectiveFilterDepth,V=r.effectiveFilterHeight,Y=r.effectiveFilterWidth,ae=r.padInfo.front,te=r.padInfo.top,_e=r.padInfo.left,Te="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,nt=fs(r.outShape,e),it=nt.values,St=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],Xt=r.outShape[2]*r.outShape[3]*r.outShape[4],sn=r.outShape[3]*r.outShape[4],dn=r.outShape[4];for(let wn=0;wn<r.batchSize;++wn){const Cn=wn*St,Vn=wn*i[0];for(let qn=0;qn<r.inChannels;++qn)for(let ii=0;ii<r.outDepth;++ii){const ri=ii*c-ae;let oi=ri;for(;oi<0;)oi+=p;const hi=Math.min(r.inDepth,T+ri),_i=Cn+ii*Xt;for(let ai=0;ai<r.outHeight;++ai){const vi=ai*u-te;let Ni=vi;for(;Ni<0;)Ni+=g;const $i=Math.min(r.inHeight,V+vi),qi=_i+ai*sn;for(let ji=0;ji<r.outWidth;++ji){const nr=ji*f-_e;let Qi=nr;for(;Qi<0;)Qi+=v;const wr=Math.min(r.inWidth,Y+nr),Xr=qi+ji*dn;let ys=Te,us=0,Hs=0;for(let _a=oi;_a<hi;_a+=p){const rl=Vn+_a*i[1];for(let Yl=Ni;Yl<$i;Yl+=g){const sl=rl+Yl*i[2];for(let Pa=Qi;Pa<wr;Pa+=v){const Il=n[sl+Pa*i[3]+qn];if("max"===a&&Il>ys?ys=Il:"avg"===a&&(us+=Il,Hs++),isNaN(ys))break}if(isNaN(ys))break}if(isNaN(ys))break}it[Xr+qn]="avg"===a?us/Math.max(Hs,1):ys}}}}return nt}const C3={kernelName:Ss,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function x3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Tr(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Ce(xc(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Yu(r.shape,a,c,1,u,f);let v;if(1===g.filterWidth&&1===g.filterHeight&&Oe(g.inShape,g.outShape))v=Sf({inputs:{x:r},backend:e});else{const T=e.data.get(r.dataId).values,V=$t(r.shape),Y=lP(T,0,r.dtype,V,g,"avg");v=e.makeTensorInfo(g.outShape,r.dtype,Y.values)}return v}},D3={kernelName:Yi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function S3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;Tr(r,"avgPool3d");const g=rh(r.shape,a,c,1,u,f,p),T=x$(e.data.get(r.dataId).values,0,r.dtype,$t(r.shape),g,"avg");return e.makeTensorInfo(T.shape,"float32",T.values)}},k3={kernelName:rr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;Tr([r,a],"avgPool3DGrad");const g=rh(a.shape,c,u,1,f,p),v=g.strideDepth,T=g.strideHeight,V=g.strideWidth,Y=g.filterDepth,ae=g.filterHeight,te=g.filterWidth,_e=g.dilationDepth,Te=g.dilationHeight,nt=g.dilationWidth,it=g.effectiveFilterDepth,St=g.effectiveFilterHeight,Xt=g.effectiveFilterWidth,sn=it-1-g.padInfo.front,dn=Xt-1-g.padInfo.left,wn=St-1-g.padInfo.top,Cn=fs(a.shape,"float32"),Vn=1/(Y*ae*te),qn=e.bufferSync(r);for(let ii=0;ii<g.batchSize;++ii)for(let ri=0;ri<g.inChannels;++ri)for(let oi=0;oi<g.inDepth;++oi)for(let hi=0;hi<g.inHeight;++hi)for(let _i=0;_i<g.inWidth;++_i){const ai=oi-sn,vi=hi-wn,Ni=_i-dn;let $i=0;for(let qi=0;qi<it;qi+=_e){const ji=(ai+qi)/v;if(!(ji<0||ji>=g.outDepth||Math.floor(ji)!==ji))for(let nr=0;nr<St;nr+=Te){const Qi=(vi+nr)/T;if(!(Qi<0||Qi>=g.outHeight||Math.floor(Qi)!==Qi))for(let wr=0;wr<Xt;wr+=nt){const Xr=(Ni+wr)/V;Xr<0||Xr>=g.outWidth||Math.floor(Xr)!==Xr||($i+=qn.get(ii,ji,Qi,Xr,ri))}}}Cn.set($i*Vn,ii,oi,hi,_i,ri)}return e.makeTensorInfo(Cn.shape,Cn.dtype,Cn.values)}},A3={kernelName:ss,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function I3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;Tr([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Yu(c.shape,u,f,1,p),v=g.strideHeight,T=g.strideWidth,V=g.filterHeight,Y=g.filterWidth,ae=g.dilationHeight,te=g.dilationWidth,_e=g.effectiveFilterHeight,Te=g.effectiveFilterWidth,nt=Te-1-g.padInfo.left,it=_e-1-g.padInfo.top,St=fs(c.shape,"float32"),Xt=1/(V*Y),sn=e.data.get(r.dataId).values,dn=fs(r.shape,"float32",sn);for(let wn=0;wn<g.batchSize;++wn)for(let Cn=0;Cn<g.inChannels;++Cn)for(let Vn=0;Vn<g.inHeight;++Vn)for(let qn=0;qn<g.inWidth;++qn){const ii=Vn-it,ri=qn-nt;let oi=0;for(let hi=0;hi<_e;hi+=ae){const _i=(ii+hi)/v;if(!(_i<0||_i>=g.outHeight||Math.floor(_i)!==_i))for(let ai=0;ai<Te;ai+=te){const vi=(ri+ai)/T;vi<0||vi>=g.outWidth||Math.floor(vi)!==vi||(oi+=dn.get(wn,_i,vi,Cn))}}St.set(oi*Xt,wn,Vn,qn,Cn)}return e.makeTensorInfo(St.shape,St.dtype,St.values)}},O3={kernelName:ba,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function M3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,scale:a,offset:c,mean:u,variance:f}=t;Ce(u.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Ce(null==c||u.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Ce(null==a||u.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Tr([r,u,f,a,c],"batchNorm");let{varianceEpsilon:p}=i;null==p&&(p=.001);const g=e.data.get(r.dataId).values,v=e.data.get(u.dataId).values,T=e.data.get(f.dataId).values,V=a?e.data.get(a.dataId).values:new Float32Array([1]),Y=c?e.data.get(c.dataId).values:new Float32Array([0]),ae=new Float32Array(g.length),te=Y.length,_e=V.length,Te=T.length,nt=v.length;let it=0,St=0,Xt=0,sn=0;for(let dn=0;dn<g.length;++dn)ae[dn]=Y[it++]+(g[dn]-v[St++])*V[Xt++]/Math.sqrt(T[sn++]+p),it>=te&&(it=0),St>=nt&&(St=0),Xt>=_e&&(Xt=0),sn>=Te&&(sn=0);return e.makeTensorInfo(r.shape,r.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function C$(n,t,e,i,r){const a=sy(i,t,e),c=Tt(e),u=$t(i);if(a){const v=oy(t,u);return"string"===r?n.slice(v,v+c):n.subarray(v,v+c)}const p=fs(i,r,"string"===r?$h(n):n),g=fs(e,r);for(let v=0;v<g.size;++v){const T=g.indexToLoc(v),V=T.map((Y,ae)=>Y+t[ae]);g.set(p.get(...V),...T)}return"string"===r?$w(g.values):g.values}function P_(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i;Tr(r,"slice");const[u,f]=ig(r,a,c);iy(r,u,f);const g=C$(e.data.get(r.dataId).values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,g)}const R3={kernelName:kn,backendName:"cpu",kernelFunc:P_},P3={kernelName:zi,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function N3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;Tr([r],"batchToSpaceND");const u=a.reduce((_e,Te)=>_e*Te),f=sp(r.shape,a,u),p=Gg(f.length,a.length),g=Kg(r.shape,a,u),v=Xg(c,a.length),T=ev(g,c,a.length),V=il({inputs:{x:r},backend:e,attrs:{shape:f}}),Y=fd({inputs:{x:V},backend:e,attrs:{perm:p}}),ae=il({inputs:{x:Y},backend:e,attrs:{shape:g}}),te=P_({inputs:{x:ae},backend:e,attrs:{begin:v,size:T}});return e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),e.disposeIntermediateTensorInfo(ae),te}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cP(n,t,e,i,r){const a=Tt(i),c=Kn(r,e);for(let u=0;u<n.length;u++){const f=n[u];if(f<0)throw new Error("Input x must be non-negative!");f>=r||(c[f]+=a>0?t[u]:1)}return c}function S$(n,t,e,i=!1){const r=n.shape[0],a=n.shape[1],c=fs([r,e],t.dtype);for(let u=0;u<r;u++)for(let f=0;f<a;f++){const p=n.get(u,f);if(p<0)throw new Error("Input x must be non-negative!");p>=e||c.set(i?1:t.size>0?c.get(u,p)+t.get(u,f):c.get(u,p)+1,u,p)}return c}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const L3={kernelName:si,backendName:"cpu",kernelFunc:function F3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,p=cP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},D$=dc((n,t)=>n&t),$3=Uc(Ge,D$),B3={kernelName:Ge,backendName:"cpu",kernelFunc:$3},U3={kernelName:ne,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V3(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.data.get(i.dataId).values,c=e.data.get(r.dataId).values,u=Ts(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},T$=Cf(n=>Math.ceil(n)),z3=$m(He,T$),j3={kernelName:He,backendName:"cpu",kernelFunc:z3},W3=ga(kt,(n,t)=>n>t.clipValueMax?t.clipValueMax:n<t.clipValueMin?t.clipValueMin:n),H3={kernelName:kt,backendName:"cpu",kernelFunc:W3},G3={kernelName:Jn,backendName:"cpu",kernelFunc:n=>{const{x:t}=n.inputs,e=n.backend,i=new Float32Array(Tt(t.shape)),r=e.data.get(t.dataId),c=r.complexTensorInfos.imag,u=e.data.get(r.complexTensorInfos.real.dataId).values,f=e.data.get(c.dataId).values;for(let p=0;p<u.length;p++)i[p]=Math.hypot(u[p],f[p]);return e.makeOutput(i,t.shape,"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function k$(n,t,e,i){const r=Z(e,Tt(t));if(i&&"string"!==e){let a=0;n.forEach(c=>{const u=Tt(c.shape);r.set(c.vals,a),a+=u})}else{let a=0;n.forEach(c=>{const u="string"===e?$h(c.vals):c.vals;let f=0;for(let p=0;p<c.shape[0];++p){const g=p*t[1]+a;for(let v=0;v<c.shape[1];++v)r[g+v]=u[f++]}a+=c.shape[1]})}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Db(n){const{inputs:t,backend:e}=n,{input:i}=t,r=e.data.get(i.dataId).complexTensorInfos.imag,a=e.data.get(r.dataId).values;return e.makeTensorInfo(r.shape,r.dtype,a)}const K3={kernelName:Ol,backendName:"cpu",kernelFunc:Db};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Tb(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wt(r,t[0].shape)[0];ww(t.map(ae=>ae.shape),a);let u=Lh(t.map(ae=>ae.shape),a);if(0===Tt(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(ae=>Tt(ae.shape)>0);if(1===f.length)return Sf({inputs:{x:f[0]},backend:e});if("complex64"===f[0].dtype){const ae=f.map(it=>N_({inputs:{input:it},backend:e})),te=f.map(it=>Db({inputs:{input:it},backend:e})),_e=Tb({inputs:ae,backend:e,attrs:{axis:a}}),Te=Tb({inputs:te,backend:e,attrs:{axis:a}}),nt=Sd({inputs:{real:_e,imag:Te},backend:e});return ae.forEach(it=>e.disposeIntermediateTensorInfo(it)),te.forEach(it=>e.disposeIntermediateTensorInfo(it)),e.disposeIntermediateTensorInfo(_e),e.disposeIntermediateTensorInfo(Te),nt}const p=f.map(ae=>{const _e=[-1,Tt(ae.shape.slice(a))];return il({inputs:{x:ae},backend:e,attrs:{shape:_e}})}),g=p.map(ae=>({vals:e.data.get(ae.dataId).values,shape:ae.shape}));u=Lh(p.map(ae=>ae.shape),1);const T=k$(g,u,t[0].dtype,1===p[0].shape[0]),V=Lh(f.map(ae=>ae.shape),a),Y=e.makeTensorInfo(V,t[0].dtype,T);return p.forEach(ae=>e.disposeIntermediateTensorInfo(ae)),Y}const X3={kernelName:Pi,backendName:"cpu",kernelFunc:Tb};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function I$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i;Tr([r,a],"conv2d");const v=ef(f),T=oo(r.shape,a.shape,c,p,u,g,!1,v),V=T.filterHeight,Y=T.filterWidth,ae=T.dilationHeight,te=T.dilationWidth,_e=T.padInfo.left,Te=T.padInfo.top,nt="channelsLast"===T.dataFormat,it=new So(T.outShape,r.dtype),St=$t(r.shape),Xt=$t(a.shape),sn=St[0],dn=nt?St[1]:St[2],wn=nt?St[2]:1,Cn=nt?1:St[1],Vn=it.strides[0],qn=nt?it.strides[1]:it.strides[2],ii=nt?it.strides[2]:1,ri=nt?1:it.strides[1],oi=e.data.get(r.dataId).values,hi=e.data.get(a.dataId).values,_i=it.values;for(let ai=0;ai<T.batchSize;++ai){const vi=ai*sn,Ni=ai*Vn;for(let $i=0;$i<T.outHeight;++$i){const qi=Ni+$i*qn,ji=$i*T.strideHeight-Te;for(let nr=0;nr<V;++nr){const Qi=ji+nr*ae;if(Qi<0||Qi>=T.inHeight)continue;const wr=nr*Xt[0],Xr=vi+Qi*dn;for(let ys=0;ys<T.outWidth;++ys){const us=qi+ys*ii,Hs=ys*T.strideWidth-_e;for(let qs=0;qs<Y;++qs){const _a=Hs+qs*te;if(_a<0||_a>=T.inWidth)continue;const Yl=Xr+_a*wn;let sl=wr+qs*Xt[1];for(let Pa=0;Pa<T.inChannels;++Pa){const $l=oi[Yl+Pa*Cn];for(let Il=0;Il<T.outChannels;++Il)_i[us+Il*ri]+=$l*hi[sl+Il];sl+=T.outChannels}}}}}}return e.makeTensorInfo(it.shape,it.dtype,_i)}const Y3={kernelName:sr,backendName:"cpu",kernelFunc:I$},Q3={kernelName:Dr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function q3(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i;Tr([r,a],"conv2dBackpropFilter");const v=ef(f),T=oo(r.shape,g,c,1,u,p,!1,v),{strideHeight:V,strideWidth:Y,filterHeight:ae,filterWidth:te}=T,_e="channelsLast"===T.dataFormat,Te=new So(T.filterShape,"float32"),nt=T.padInfo.left,it=T.padInfo.top,St=e.data.get(r.dataId).values,Xt=e.data.get(a.dataId).values,sn=new So(r.shape,r.dtype,St),dn=new So(a.shape,a.dtype,Xt);for(let wn=0;wn<ae;++wn){const Cn=Math.max(0,Math.ceil((it-wn)/V)),Vn=Math.min(T.outHeight,(T.inHeight+it-wn)/V);for(let qn=0;qn<te;++qn){const ii=Math.max(0,Math.ceil((nt-qn)/Y)),ri=Math.min(T.outWidth,(T.inWidth+nt-qn)/Y);for(let oi=0;oi<T.inChannels;++oi)for(let hi=0;hi<T.outChannels;++hi){let _i=0;for(let ai=0;ai<T.batchSize;++ai)for(let vi=Cn;vi<Vn;++vi){const Ni=wn+vi*V-it;for(let $i=ii;$i<ri;++$i){const qi=qn+$i*Y-nt;_i+=_e?sn.get(ai,Ni,qi,oi)*dn.get(ai,vi,$i,hi):sn.get(ai,oi,Ni,qi)*dn.get(ai,hi,vi,$i)}}Te.set(_i,wn,qn,oi,hi)}}}return e.makeTensorInfo(Te.shape,Te.dtype,Te.values)}},J3={kernelName:Fr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z3(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i;Tr([r,a],"conv2dBackpropInput");const v=$t(a.shape),T=$t(r.shape);let V=ef(p);const Y=oo(c,a.shape,u,1,f,g,!1,V),ae=new So(Y.inShape,"float32"),te=ae.values,_e=e.data.get(r.dataId).values,Te=e.data.get(a.dataId).values,[nt,it,St]=v,{batchSize:Xt,filterHeight:sn,filterWidth:dn,inChannels:wn,inHeight:Cn,inWidth:Vn,outChannels:qn,outHeight:ii,outWidth:ri,strideHeight:oi,strideWidth:hi}=Y;V=Y.dataFormat;const _i=sn-1-Y.padInfo.top,ai=dn-1-Y.padInfo.left,vi="channelsLast"===V,Ni=ae.strides[0],$i=vi?ae.strides[1]:ae.strides[2],qi=vi?ae.strides[2]:1,ji=vi?1:ae.strides[1],nr=T[0],Qi=vi?T[1]:T[2],wr=vi?T[2]:1,Xr=vi?1:T[1];for(let ys=0;ys<Xt;++ys)for(let us=0;us<wn;++us)for(let Hs=0;Hs<Cn;++Hs){const qs=Hs-_i,_a=Math.max(0,Math.ceil(qs/oi)),rl=Math.min(ii,(sn+qs)/oi);for(let Yl=0;Yl<Vn;++Yl){const sl=Yl-ai,Pa=Math.max(0,Math.ceil(sl/hi)),$l=Math.min(ri,(dn+sl)/hi);let Il=0;for(let _u=_a;_u<rl;++_u){const Wm=_u*oi-qs;for(let Kd=Pa;Kd<$l;++Kd){const Kh=nr*ys+Qi*_u+wr*Kd,wp=nt*(sn-1-Wm)+it*(dn-1-(Kd*hi-sl))+St*us;for(let Hm=0;Hm<qn;++Hm)Il+=_e[Kh+Xr*Hm]*Te[wp+Hm]}}te[Ni*ys+$i*Hs+qi*Yl+ji*us]=Il}}return e.makeTensorInfo(ae.shape,ae.dtype,ae.values)}},tz={kernelName:Zr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ez(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i;Tr([r,a],"conv3d");const p=Lf(r.shape,a.shape,c,f,u),{filterDepth:g,filterHeight:v,filterWidth:T,dilationDepth:V,dilationHeight:Y,dilationWidth:ae,padInfo:te}=p,_e=te.front,Te=te.left,nt=te.top,it=new So(p.outShape,r.dtype),St=e.data.get(r.dataId).values,Xt=e.data.get(a.dataId).values,sn=it.values,dn=$t(r.shape),wn=$t(a.shape);for(let Cn=0;Cn<p.batchSize;++Cn){const Vn=Cn*dn[0],qn=Cn*it.strides[0];for(let ii=0;ii<p.outDepth;++ii){const ri=qn+ii*it.strides[1],oi=ii*p.strideDepth-_e;for(let hi=0;hi<g;++hi){const _i=oi+hi*V;if(_i<0||_i>=p.inDepth)continue;const ai=hi*wn[0],vi=Vn+_i*dn[1];for(let Ni=0;Ni<p.outHeight;++Ni){const $i=ri+Ni*it.strides[2],qi=Ni*p.strideHeight-nt;for(let ji=0;ji<v;++ji){const nr=qi+ji*Y;if(nr<0||nr>=p.inHeight)continue;const Qi=ai+ji*wn[1],wr=vi+nr*dn[2];for(let Xr=0;Xr<p.outWidth;++Xr){const ys=$i+Xr*p.outChannels,us=Xr*p.strideWidth-Te;for(let Hs=0;Hs<T;++Hs){const qs=us+Hs*ae;if(qs<0||qs>=p.inWidth)continue;const rl=wr+qs*p.inChannels;let Yl=Qi+Hs*wn[2];for(let sl=0;sl<p.inChannels;++sl){const Pa=St[rl+sl];for(let $l=0;$l<p.outChannels;++$l)sn[ys+$l]+=Pa*Xt[Yl+$l];Yl+=p.outChannels}}}}}}}}return e.makeTensorInfo(it.shape,it.dtype,it.values)}},iz={kernelName:ds,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function nz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i;Tr([r,a],"conv3dBackpropFilterV2");const p=$t(r.shape),g=$t(a.shape),v=Lf(r.shape,f,c,1,u),T=v.strideDepth,V=v.strideHeight,Y=v.strideWidth,ae=v.filterDepth,te=v.filterHeight,_e=v.filterWidth,Te=new So(v.filterShape,"float32"),nt=Te.values,[it,St,Xt,sn]=Te.strides,dn=e.data.get(a.dataId).values,[wn,Cn,Vn,qn]=g,ii=e.data.get(r.dataId).values,[ri,oi,hi,_i]=p,ai=v.padInfo.front,vi=v.padInfo.left,Ni=v.padInfo.top;for(let $i=0;$i<ae;++$i){const qi=Math.max(0,Math.ceil((ai-$i)/T)),ji=Math.min(v.outDepth,(v.inDepth+ai-$i)/T),nr=$i*it;for(let Qi=0;Qi<te;++Qi){const wr=Math.max(0,Math.ceil((Ni-Qi)/V)),Xr=Math.min(v.outHeight,(v.inHeight+Ni-Qi)/V),ys=Qi*St+nr;for(let us=0;us<_e;++us){const Hs=Math.max(0,Math.ceil((vi-us)/Y)),qs=Math.min(v.outWidth,(v.inWidth+vi-us)/Y),_a=us*Xt+ys;for(let rl=0;rl<v.inChannels;++rl){const Yl=rl*sn+_a;for(let sl=0;sl<v.outChannels;++sl){let Pa=0;for(let $l=0;$l<v.batchSize;++$l){const Il=$l*ri,bp=$l*wn;for(let _u=qi;_u<ji;++_u){const Kd=($i+_u*T-ai)*oi+Il,j_=_u*Cn+bp;for(let Kh=wr;Kh<Xr;++Kh){const Hm=(Qi+Kh*V-Ni)*hi+Kd,Gm=Kh*Vn+j_;for(let Km=Hs;Km<qs;++Km)Pa+=ii[(us+Km*Y-vi)*_i+Hm+rl]*dn[Km*qn+Gm+sl]}}}nt[Yl+sl]=Pa}}}}}return e.makeTensorInfo(Te.shape,Te.dtype,Te.values)}},sz={kernelName:Os,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function rz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i;Tr([r],"conv3dBackpropInputV2");const p=$t(r.shape),g=$t(a.shape),v=Lf(f,a.shape,u,1,c),T=new So(v.inShape,"float32"),V=T.values,[Y,ae,te,_e]=T.strides,Te=e.data.get(r.dataId).values,[nt,it,St,Xt]=p,sn=e.data.get(a.dataId).values,[dn,wn,Cn,Vn]=g,{batchSize:qn,filterDepth:ii,filterHeight:ri,filterWidth:oi,inChannels:hi,inDepth:_i,inHeight:ai,inWidth:vi,outChannels:Ni,outDepth:$i,outHeight:qi,outWidth:ji,strideDepth:nr,strideHeight:Qi,strideWidth:wr}=v,Xr=ii-1-v.padInfo.front,ys=ri-1-v.padInfo.top,us=oi-1-v.padInfo.left;for(let Hs=0;Hs<qn;++Hs)for(let qs=0;qs<hi;++qs)for(let _a=0;_a<_i;++_a){const rl=_a-Xr,Yl=Math.max(0,Math.ceil(rl/nr)),sl=Math.min($i,(ii+rl)/nr);for(let Pa=0;Pa<ai;++Pa){const $l=Pa-ys,Il=Math.max(0,Math.ceil($l/Qi)),bp=Math.min(qi,(ri+$l)/Qi);for(let _u=0;_u<vi;++_u){const Wm=_u-us,Kd=Math.max(0,Math.ceil(Wm/wr)),j_=Math.min(ji,(oi+Wm)/wr);let Kh=0;for(let wp=Yl;wp<sl;++wp){const Hm=wp*nr-rl;for(let Gm=Il;Gm<bp;++Gm){const Km=Gm*Qi-$l;for(let jx=Kd;jx<j_;++jx){const PP=nt*Hs+it*wp+St*Gm+Xt*jx,tZ=dn*(ii-1-Hm)+wn*(ri-1-Km)+Cn*(oi-1-(jx*wr-Wm))+Vn*qs;for(let $k=0;$k<Ni;++$k)Kh+=Te[PP+$k]*sn[tZ+$k]}}}V[Y*Hs+ae*_a+te*Pa+_e*_u+qs]=Kh}}}return e.makeTensorInfo(T.shape,T.dtype,T.values)}},oz=ga(Er,n=>Math.cos(n)),az={kernelName:Er,backendName:"cpu",kernelFunc:oz},lz=ga(Jr,n=>Math.cosh(n)),cz={kernelName:Jr,backendName:"cpu",kernelFunc:lz},dz={kernelName:Br,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uz(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,[g,v,T,V]=r.shape,Y=a.shape[0],[ae,te]=u,_e=fs([Y,ae,te,V],"float32"),Te=e.data.get(a.dataId).values,nt=e.data.get(c.dataId).values,it=e.data.get(r.dataId).values,St=$t(r.shape),Xt=$t(_e.shape);for(let sn=0;sn<Y;sn++){const dn=4*sn,wn=Te[dn],Cn=Te[dn+1],Vn=Te[dn+2],qn=Te[dn+3],ii=nt[sn];if(ii>=g)continue;const ri=ae>1?(Vn-wn)*(v-1)/(ae-1):0,oi=te>1?(qn-Cn)*(T-1)/(te-1):0;for(let hi=0;hi<ae;hi++){const _i=ae>1?wn*(v-1)+hi*ri:.5*(wn+Vn)*(v-1);if(_i<0||_i>v-1)for(let ai=0;ai<te;ai++)for(let vi=0;vi<V;vi++)_e.values[vi+ai*Xt[2]+hi*Xt[1]+sn*Xt[0]]=p;else if("bilinear"===f){const ai=Math.floor(_i),vi=Math.ceil(_i),Ni=_i-ai;for(let $i=0;$i<te;$i++){const qi=te>1?Cn*(T-1)+$i*oi:.5*(Cn+qn)*(T-1);if(qi<0||qi>T-1){for(let wr=0;wr<V;wr++)_e.values[wr+$i*Xt[2]+hi*Xt[1]+sn*Xt[0]]=p;continue}const ji=Math.floor(qi),nr=Math.ceil(qi),Qi=qi-ji;for(let wr=0;wr<V;wr++){let Xr=wr+ji*St[2]+ai*St[1]+ii*St[0];const ys=it[Xr];Xr=wr+nr*St[2]+ai*St[1]+ii*St[0];const us=it[Xr];Xr=wr+ji*St[2]+vi*St[1]+ii*St[0];const Hs=it[Xr];Xr=wr+nr*St[2]+vi*St[1]+ii*St[0];const qs=it[Xr],_a=ys+(us-ys)*Qi;Xr=wr+$i*Xt[2]+hi*Xt[1]+sn*Xt[0],_e.values[Xr]=_a+(Hs+(qs-Hs)*Qi-_a)*Ni}}}else for(let ai=0;ai<te;++ai){const vi=te>1?Cn*(T-1)+ai*oi:.5*(Cn+qn)*(T-1);if(vi<0||vi>T-1){for(let qi=0;qi<V;qi++)_e.values[qi+ai*Xt[2]+hi*Xt[1]+sn*Xt[0]]=p;continue}const Ni=Math.round(vi),$i=Math.round(_i);for(let qi=0;qi<V;qi++)_e.values[qi+ai*Xt[2]+hi*Xt[1]+sn*Xt[0]]=it[qi+Ni*St[2]+$i*St[1]+ii*St[0]]}}}return e.makeTensorInfo(_e.shape,_e.dtype,_e.values)}},fz={kernelName:Ds,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;Tr(r,"cumprod");const f=_l([a],r.shape.length);let p=r;null!=f&&(p=fd({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=Ga(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const v=Mn(p.dtype,"int32"),T=Dn(Tt(p.shape),v),V=e.data.get(p.dataId).values,Y=p.shape[p.shape.length-1],ae=u?(_e,Te)=>_e+Y-Te-1:(_e,Te)=>_e+Te;for(let _e=0;_e<V.length;_e+=Y)for(let Te=0;Te<Y;Te++){const nt=ae(_e,Te);if(0===Te)T[nt]=c?1:V[nt];else{const it=ae(_e,Te-1);T[nt]=c?V[it]*T[it]:V[nt]*T[it]}}const te=e.makeTensorInfo(p.shape,v,T);if(null!=f){const Te=fd({inputs:{x:te},backend:e,attrs:{perm:rf(f)}});return e.disposeIntermediateTensorInfo(te),e.disposeIntermediateTensorInfo(p),Te}return te}},mz={kernelName:ia,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;Tr(r,"cumsum");const f=_l([a],r.shape.length);let p=r;null!=f&&(p=fd({inputs:{x:r},backend:e,attrs:{perm:f}}));const g=Ga(1,r.shape.length)[0];if(g!==p.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${g}`);const v=Mn(p.dtype,"int32"),T=Kn(Tt(p.shape),v),V=e.data.get(p.dataId).values,Y=p.shape[p.shape.length-1],ae=u?(_e,Te)=>_e+Y-Te-1:(_e,Te)=>_e+Te;for(let _e=0;_e<V.length;_e+=Y)for(let Te=0;Te<Y;Te++){const nt=ae(_e,Te);if(0===Te)T[nt]=c?0:V[nt];else{const it=ae(_e,Te-1);T[nt]=c?V[it]+T[it]:V[nt]+T[it]}}const te=e.makeTensorInfo(p.shape,v,T);if(null!=f){const Te=fd({inputs:{x:te},backend:e,attrs:{perm:rf(f)}});return e.disposeIntermediateTensorInfo(te),e.disposeIntermediateTensorInfo(p),Te}return te}},_z={kernelName:Mo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const g=cP(e.data.get(r.dataId).values,e.data.get(a.dataId).values,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const g=S$(e.bufferSync(r),e.bufferSync(a),c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}},vz={kernelName:Yo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i;Ce("NHWC"===c,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${c}`);const u=r.shape[0],f=r.shape[1],p=r.shape[2],g=r.shape[3],v=f*a,T=p*a,V=g/(a*a),Y=e.data.get(r.dataId).values,ae=new Float32Array(u*v*T*V);let te=0;for(let _e=0;_e<u;++_e)for(let Te=0;Te<v;++Te){const nt=Math.floor(Te/a),it=Te%a;for(let St=0;St<T;++St){const Xt=Math.floor(St/a),dn=(it*a+St%a)*V;for(let wn=0;wn<V;++wn)ae[te++]=Y[wn+dn+g*(Xt+p*(nt+f*_e))]}}return e.makeTensorInfo([u,v,T,V],r.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function A$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;Tr([r,a],"depthwiseConv2DNative");const g=$t(r.shape),v=$t(a.shape);let T=f;null==T&&(T=[1,1]),Ce(xc(c,T),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${T}'`);const V=oo(r.shape,a.shape,c,T,u,p,!0),{filterHeight:Y,filterWidth:ae,dilationHeight:te,dilationWidth:_e,padInfo:Te}=V,nt=Te.left,it=Te.top,St=V.outChannels/V.inChannels,Xt=new So(V.outShape,r.dtype),sn=e.data.get(r.dataId).values,dn=e.data.get(a.dataId).values,wn=Xt.values;for(let Cn=0;Cn<V.batchSize;++Cn){const Vn=Cn*g[0],qn=Cn*Xt.strides[0];for(let ii=0;ii<V.outHeight;++ii){const ri=qn+ii*Xt.strides[1],oi=ii*V.strideHeight-it;for(let hi=0;hi<Y;++hi){const _i=oi+hi*te;if(_i<0||_i>=V.inHeight)continue;const ai=hi*v[0],vi=Vn+_i*g[1];for(let Ni=0;Ni<V.outWidth;++Ni){const $i=ri+Ni*Xt.strides[2],qi=Ni*V.strideWidth-nt;for(let ji=0;ji<ae;++ji){const nr=qi+ji*_e;if(nr<0||nr>=V.inWidth)continue;const wr=vi+nr*V.inChannels;let Xr=$i,ys=ai+ji*v[1];for(let us=0;us<V.inChannels;++us){const Hs=sn[wr+us];for(let qs=0;qs<St;++qs)wn[Xr+qs]+=Hs*dn[ys+qs];Xr+=St,ys+=St}}}}}}return e.makeTensorInfo(Xt.shape,Xt.dtype,Xt.values)}const bz={kernelName:Fo,backendName:"cpu",kernelFunc:A$},Ez={kernelName:Al,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wz(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i;Tr([r,a],"depthwiseConv2dNativeBackpropFilter");const v=oo(r.shape,g,c,u,f,p,!0),{strideHeight:T,strideWidth:V,filterHeight:Y,filterWidth:ae}=v,te=new So(v.filterShape,"float32"),_e=v.padInfo.left,Te=v.padInfo.top,nt=v.outChannels/v.inChannels,it=e.data.get(r.dataId).values,St=new So(r.shape,r.dtype,it),Xt=e.data.get(a.dataId).values,sn=new So(a.shape,a.dtype,Xt);for(let dn=0;dn<Y;++dn){const wn=Math.max(0,Math.ceil((Te-dn)/T)),Cn=Math.min(v.outHeight,(v.inHeight+Te-dn)/T);for(let Vn=0;Vn<ae;++Vn){const qn=Math.max(0,Math.ceil((_e-Vn)/V)),ii=Math.min(v.outWidth,(v.inWidth+_e-Vn)/V);for(let ri=0;ri<v.outChannels;++ri){const oi=Math.trunc(ri/nt),hi=ri%nt;let _i=0;for(let ai=0;ai<v.batchSize;++ai)for(let vi=wn;vi<Cn;++vi){const Ni=dn+vi*T-Te;for(let $i=qn;$i<ii;++$i)_i+=St.get(ai,Ni,Vn+$i*V-_e,oi)*sn.get(ai,vi,$i,ri)}te.set(_i,dn,Vn,oi,hi)}}}return e.makeTensorInfo(te.shape,te.dtype,te.values)}},Cz={kernelName:Ya,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function xz(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i;Tr([r,a],"depthwiseConv2DNativeBackpropInput");const v=$t(r.shape),T=$t(a.shape),V=oo(g,a.shape,c,u,f,p,!0),Y=new So(V.inShape,"float32"),ae=Y.values,[te,_e,Te]=Y.strides,nt=e.data.get(r.dataId).values,[it,St,Xt]=v,sn=e.data.get(a.dataId).values,[dn,wn,Cn]=T,{batchSize:Vn,filterHeight:qn,filterWidth:ii,inChannels:ri,inHeight:oi,inWidth:hi,outChannels:_i,outHeight:ai,outWidth:vi,strideHeight:Ni,strideWidth:$i}=V,qi=qn-1-V.padInfo.top,ji=ii-1-V.padInfo.left,nr=_i/ri;for(let Qi=0;Qi<Vn;++Qi)for(let wr=0;wr<ri;++wr)for(let Xr=0;Xr<oi;++Xr){const ys=Xr-qi,us=Math.max(0,Math.ceil(ys/Ni)),Hs=Math.min(ai,(qn+ys)/Ni);for(let qs=0;qs<hi;++qs){const _a=qs-ji,rl=Math.max(0,Math.ceil(_a/$i)),Yl=Math.min(vi,(ii+_a)/$i);let sl=0;for(let Pa=us;Pa<Hs;++Pa){const $l=Pa*Ni-ys;for(let Il=rl;Il<Yl;++Il){const _u=it*Qi+St*Pa+Xt*Il,Wm=dn*(qn-1-$l)+wn*(ii-1-(Il*$i-_a))+Cn*wr;for(let Kd=0;Kd<nr;++Kd)sl+=nt[_u+(wr*nr+Kd)]*sn[Wm+Kd]}}ae[te*Qi+_e*Xr+Te*qs+wr]=sl}}return e.makeTensorInfo(Y.shape,Y.dtype,Y.values)}},Dz={kernelName:qa,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Sz(n){const{inputs:t,backend:e}=n,{x:i}=t,r=Tt(i.shape),a=e.data.get(i.dataId).values,c=fs([r,r],i.dtype),u=c.values;for(let p=0;p<a.length;p++)u[p*r+p]=a[p];const f=[...i.shape,...i.shape];return e.makeTensorInfo(f,c.dtype,c.values)}},Tz={kernelName:ya,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r}=n,{strides:a,pad:c,dilations:u}=e,f=t,p=f.data.get(i.dataId).values,g=i.shape.length,v=f.data.get(r.dataId).values,T=r.shape.length,{batchSize:V,inHeight:Y,inWidth:ae,inChannels:te,outHeight:_e,outWidth:Te,padInfo:nt,strideHeight:it,strideWidth:St,filterHeight:Xt,filterWidth:sn,dilationHeight:dn,dilationWidth:wn,outShape:Cn}=dy(i.shape,r.shape,a,c,"NHWC",u),Vn=Tt(Cn),qn=Cn.length,ii=Z(i.dtype,Vn);for(let oi=0;oi<V;++oi)for(let hi=0;hi<_e;++hi){const _i=hi*it-nt.top;for(let ai=0;ai<Te;++ai){const vi=ai*St-nt.left;for(let Ni=0;Ni<te;++Ni){let $i=Number.MIN_SAFE_INTEGER;for(let ji=0;ji<Xt;++ji){const nr=_i+ji*dn;if(nr>=0&&nr<Y)for(let Qi=0;Qi<sn;++Qi){const wr=vi+Qi*wn;if(wr>=0&&wr<ae){const Xr=pt([oi,nr,wr,Ni],g,$t(i.shape)),ys=pt([ji,Qi,Ni],T,$t(r.shape)),us=p[Xr]+v[ys];us>$i&&($i=us)}}}ii[pt([oi,hi,ai,Ni],qn,$t(Cn))]=$i}}}return{dataId:f.write(Wa(ii,i.dtype),Cn,i.dtype),shape:Cn,dtype:i.dtype}}},kz={kernelName:bl,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Pn(i.shape,p.data.get(i.dataId).values),v=Pn(r.shape,p.data.get(r.dataId).values),{batchSize:T,inHeight:V,inWidth:Y,inChannels:ae,outHeight:te,outWidth:_e,padInfo:Te,strideHeight:nt,strideWidth:it,filterHeight:St,filterWidth:Xt,dilationHeight:sn,dilationWidth:dn,outShape:wn}=dy(i.shape,r.shape,c,u,"NHWC",f);Ce(a.rank===wn.length,()=>`Error in ${bl}, dy must have the same rank as output ${wn.length}, but got ${a.rank}`);const Cn=Pn(wn,p.data.get(a.dataId).values),Vn=xn(r.shape,r.dtype);for(let ii=0;ii<T;++ii)for(let ri=0;ri<te;++ri){const oi=ri*nt-Te.top;for(let hi=0;hi<_e;++hi){const _i=hi*it-Te.left;for(let ai=0;ai<ae;++ai){let vi=Number.MIN_SAFE_INTEGER,Ni=0,$i=0;for(let qi=0;qi<St;++qi){const ji=oi+qi*sn;if(ji>=0&&ji<V)for(let nr=0;nr<Xt;++nr){const Qi=_i+nr*dn;if(Qi>=0&&Qi<Y){const wr=g[ii][ji][Qi][ai]+v[qi][nr][ai];wr>vi&&(vi=wr,Ni=qi,$i=nr)}}}Vn[Ni][$i][ai]+=Cn[ii][ri][hi][ai]}}}return{dataId:p.write(Wa(Vn,i.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Iz={kernelName:ra,backendName:"cpu",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,filter:r,dy:a}=n,{strides:c,pad:u,dilations:f}=e,p=t,g=Pn(i.shape,p.data.get(i.dataId).values),v=Pn(r.shape,p.data.get(r.dataId).values),{batchSize:T,inHeight:V,inWidth:Y,inChannels:ae,outHeight:te,outWidth:_e,padInfo:Te,strideHeight:nt,strideWidth:it,filterHeight:St,filterWidth:Xt,dilationHeight:sn,dilationWidth:dn,outShape:wn}=dy(i.shape,r.shape,c,u,"NHWC",f);Ce(a.rank===wn.length,()=>`Error in ${ra}, dy must have the same rank as output ${wn.length}, but got ${a.rank}`);const Cn=Pn(wn,p.data.get(a.dataId).values),Vn=xn(i.shape,i.dtype);for(let ii=0;ii<T;++ii)for(let ri=0;ri<te;++ri){const oi=ri*nt-Te.top;for(let hi=0;hi<_e;++hi){const _i=hi*it-Te.left;for(let ai=0;ai<ae;++ai){let vi=Number.MIN_SAFE_INTEGER,Ni=oi<0?0:oi,$i=_i<0?0:_i;for(let qi=0;qi<St;++qi){const ji=oi+qi*sn;if(ji>=0&&ji<V)for(let nr=0;nr<Xt;++nr){const Qi=_i+nr*dn;if(Qi>=0&&Qi<Y){const wr=g[ii][ji][Qi][ai]+v[qi][nr][ai];wr>vi&&(vi=wr,Ni=ji,$i=Qi)}}}Vn[ii][Ni][$i][ai]+=Cn[ii][ri][hi][ai]}}}return{dataId:p.write(Wa(Vn,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Mz={kernelName:Ml,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Az(n){const{inputs:t,backend:e,attrs:i}=n,{image:r}=t,{canvas:a,options:c}=i,{contextOptions:u,imageOptions:f}=c||{},p=f?.alpha||1,g=u?.contextType||"2d";if("2d"!==g)throw new Error(`Context type ${u.contextType} is not supported by the CPU backend.`);const v=a.getContext(g,u?.contextAttributes||{});if(null==v)throw new Error(`Could not get the context with ${g} type.`);const[T,V]=r.shape.slice(0,2),Y=2===r.shape.length?1:r.shape[2],ae=e.data.get(r.dataId).values,te="float32"===r.dtype?255:1,_e=new Uint8ClampedArray(V*T*4);for(let nt=0;nt<T*V;++nt){const it=[0,0,0,255*p];for(let Xt=0;Xt<Y;Xt++){const sn=ae[nt*Y+Xt];if("float32"===r.dtype){if(sn<0||sn>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${sn}.`)}else if("int32"===r.dtype&&(sn<0||sn>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${sn}.`);1===Y?(it[0]=sn*te,it[1]=sn*te,it[2]=sn*te):it[Xt]=sn*te}const St=4*nt;_e[St+0]=Math.round(it[0]),_e[St+1]=Math.round(it[1]),_e[St+2]=Math.round(it[2]),_e[St+3]=Math.round(it[3])}a.width=V,a.height=T;const Te=new ImageData(_e,V,T);return v.putImageData(Te,0,0),r}},uP=dc((n,t)=>n*t),Oz=oP((n,t,e,i)=>({real:n*e-t*i,imag:n*i+t*e})),hk=Uc(Zo,uP,Oz),Rz={kernelName:Zo,backendName:"cpu",kernelFunc:hk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ox(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;let u;Tr(r,"sum"),u="bool"===r.dtype?Bm({inputs:{x:r},backend:e,attrs:{dtype:"int32"}}):Sf({inputs:{x:r},backend:e});const f=u.shape.length,p=wt(a,u.shape),g=_l(p,f);let v=p,T=u;null!=g&&(T=fd({inputs:{x:u},backend:e,attrs:{perm:g}}),v=Ga(v.length,f)),Sc("sum",v,T.shape.length);const[V,Y]=Cc(T.shape,v);let te=dk(e,V,Mn(T.dtype,"int32"));const _e=Tt(Y),Te=e.data.get(te.dataId).values,nt=e.data.get(T.dataId).values;for(let it=0;it<Te.length;++it){const St=it*_e;let Xt=0;for(let sn=0;sn<_e;++sn)Xt+=nt[St+sn];Te[it]=Xt}if(c){const St=te;te=il({inputs:{x:te},backend:e,attrs:{shape:gl(te.shape,p)}}),e.disposeIntermediateTensorInfo(St)}return e.disposeIntermediateTensorInfo(u),null!=g&&e.disposeIntermediateTensorInfo(T),te}const Nz={kernelName:Ii,backendName:"cpu",kernelFunc:Ox},Fz={kernelName:va,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Pz(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=Ow(r,a.length);Qg(c.length,f,a);const{path:p,steps:g}=av(u,f),v=g.length;let T=null,V=c.length;const Y=[];for(let ae=0;ae<v;++ae){for(const te of g[ae]){const{permutationIndices:_e,expandDims:Te}=Rw(V,f[te]);let nt;ch(_e)?nt=a[te]:(nt=fd({inputs:{x:a[te]},backend:e,attrs:{perm:_e}}),Y.push(nt));const it=nt.shape.slice();for(let St=0;St<Te.length;++St)it.splice(Te[St],0,1);Oe(nt.shape,it)||(nt=il({inputs:{x:nt},backend:e,attrs:{shape:it}}),Y.push(nt)),null===T?T=nt:(T=hk({inputs:{a:nt,b:T},backend:e}),Y.push(T))}ae<v-1&&(p[ae]>=0&&(T=Ox({inputs:{x:T},backend:e,attrs:{axis:p[ae]-(c.length-V),keepDims:!1}}),Y.push(T)),V--)}for(const ae of Y)ae!==T&&e.disposeIntermediateTensorInfo(ae);return T}},$z={kernelName:hc,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Lz(n){const{inputs:t,backend:e}=n,{dy:i,y:r}=t;Tr([i,r],"eluGrad");const a=new Float32Array(Tt(r.shape)),c=e.data.get(r.dataId).values,u=e.data.get(i.dataId).values;for(let f=0;f<c.length;++f){const p=c[f];a[f]=p>=0?u[f]:u[f]*(p+1)}return e.makeTensorInfo(r.shape,"float32",a)}},M$=dc((n,t)=>n===t?1:0),O$=Uc(Bl,M$,null,"bool"),Bz={kernelName:Bl,backendName:"cpu",kernelFunc:O$},Vz=Dw,Uz=iv,zz=Tw,jz=Zc,Wz=rv,Hz=Yg,Gz=ga($a,n=>{const t=Math.sign(n),e=Math.abs(n),i=1/(1+Vz*e);return t*(1-((((Hz*i+Wz)*i+jz)*i+zz)*i+Uz)*i*Math.exp(-e*e))}),Kz={kernelName:$a,backendName:"cpu",kernelFunc:Gz},R$=Cf(n=>Math.exp(n)),N$=$m(Lr,R$,"float32"),Xz={kernelName:Lr,backendName:"cpu",kernelFunc:N$};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function fk(n){const{inputs:t,backend:e,attrs:i}=n,{input:r}=t,{dim:a}=i,c=r.shape.length,u=r.shape.slice();let f=a;return a<0&&(Ce(-(c+1)<=a,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+a+1),u.splice(f,0,1),il({inputs:{x:r},backend:e,attrs:{shape:u}})}const Yz={kernelName:Mr,backendName:"cpu",kernelFunc:fk},P$=Cf(n=>Math.expm1(n)),qz=$m(ao,P$),Qz={kernelName:ao,backendName:"cpu",kernelFunc:qz},Zz=dc((n,t)=>n/t),dP=Uc(Fa,Zz),hP={kernelName:Fa,backendName:"cpu",kernelFunc:dP},F$=dc((n,t)=>n-t),Jz=oP((n,t,e,i)=>({real:n-e,imag:t-i})),fP=Uc(Ic,F$,Jz),e4={kernelName:Ic,backendName:"cpu",kernelFunc:fP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function L$(n,t,e){const i=n.shape,r=i[0],a=i[1],c=e.data.get(n.dataId),u=c.complexTensorInfos.real,f=c.complexTensorInfos.imag,p=[r,a],g=Tt(p),v=dt("float32",g),T=dt("float32",g);for(let te=0;te<r;te++){const _e=P_({inputs:{x:u},backend:e,attrs:{begin:[te,0],size:[1,a]}}),Te=P_({inputs:{x:f},backend:e,attrs:{begin:[te,0],size:[1,a]}}),nt=Sd({inputs:{real:_e,imag:Te},backend:e}),{real:it,imag:St}=t4(nt,t,e),Xt=ah(it,St);for(let sn=0;sn<a;sn++){const dn=Aw(Xt,sn);v[te*a+sn]=dn.real,T[te*a+sn]=dn.imag}e.disposeIntermediateTensorInfo(_e),e.disposeIntermediateTensorInfo(Te),e.disposeIntermediateTensorInfo(nt)}const V=e.makeTensorInfo(p,"float32",v),Y=e.makeTensorInfo(p,"float32",T),ae=Sd({inputs:{real:V,imag:Y},backend:e});return e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),ae}function t4(n,t,e){const i=Tt(n.shape),r=e.data.get(n.dataId),a=e.data.get(r.complexTensorInfos.real.dataId).values,c=e.data.get(r.complexTensorInfos.imag.dataId).values;if(function n4(n){return!(n&n-1)}(i)){const u=pP(a,c,i,t,e),f=[n.shape[0],n.shape[1]];if(t){const p=e.makeTensorInfo(f,"float32",u.real),g=e.makeTensorInfo(f,"float32",u.imag),v=e.makeTensorInfo([],"float32",nu(i,"float32")),T=Sf({inputs:{x:v},backend:e}),V=hP.kernelFunc({inputs:{a:p,b:v},backend:e}),Y=hP.kernelFunc({inputs:{a:g,b:T},backend:e}),ae=e.data.get(V.dataId).values,te=e.data.get(Y.dataId).values;return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),{real:ae,imag:te}}return u}{const f=function r4(n,t,e){const i=new Float32Array(2*t);for(let r=0;r<t;r++){let a=0,c=0;for(let u=0;u<t;u++){const f=sv(r*u,t,e),p=Aw(n,u);a+=p.real*f.real-p.imag*f.imag,c+=p.real*f.imag+p.imag*f.real}e&&(a/=t,c/=t),aD(i,a,c,r)}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(ah(a,c),i,t);return kw(f)}}function pP(n,t,e,i,r){if(1===e)return{real:n,imag:t};const a=ah(n,t),c=e/2,u=oD(a),f=u.real,p=u.imag,g=[f.length],v=r.makeTensorInfo(g,"float32",f),T=r.makeTensorInfo(g,"float32",p),V=Sd({inputs:{real:v,imag:T},backend:r}),Y=Iw(a),ae=Y.real,te=Y.imag,_e=[ae.length],Te=r.makeTensorInfo(_e,"float32",ae),nt=r.makeTensorInfo(_e,"float32",te),it=Sd({inputs:{real:Te,imag:nt},backend:r}),St=pP(f,p,c,i,r),Xt=St.real,sn=St.imag,dn=[Xt.length],wn=r.makeTensorInfo(dn,"float32",Xt),Cn=r.makeTensorInfo(dn,"float32",sn),Vn=Sd({inputs:{real:wn,imag:Cn},backend:r}),qn=pP(ae,te,c,i,r),ii=qn.real,ri=qn.imag,oi=[ii.length],hi=r.makeTensorInfo(oi,"float32",ii),_i=r.makeTensorInfo(oi,"float32",ri),ai=Sd({inputs:{real:hi,imag:_i},backend:r}),vi=qg(e,i),Ni=[vi.real.length],$i=r.makeTensorInfo(Ni,"float32",vi.real),qi=r.makeTensorInfo(Ni,"float32",vi.imag),ji=Sd({inputs:{real:$i,imag:qi},backend:r}),nr=hk({inputs:{a:ji,b:ai},backend:r}),Qi=Sb({inputs:{a:Vn,b:nr},backend:r}),wr=fP({inputs:{a:Vn,b:nr},backend:r}),Xr=N_({inputs:{input:Qi},backend:r}),ys=N_({inputs:{input:wr},backend:r}),us=Db({inputs:{input:Qi},backend:r}),Hs=Db({inputs:{input:wr},backend:r}),qs=Tb({inputs:[Xr,ys],backend:r,attrs:{axis:0}}),_a=Tb({inputs:[us,Hs],backend:r,attrs:{axis:0}}),rl=r.data.get(qs.dataId).values,Yl=r.data.get(_a.dataId).values;return r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(Te),r.disposeIntermediateTensorInfo(nt),r.disposeIntermediateTensorInfo(it),r.disposeIntermediateTensorInfo(wn),r.disposeIntermediateTensorInfo(Cn),r.disposeIntermediateTensorInfo(Vn),r.disposeIntermediateTensorInfo(hi),r.disposeIntermediateTensorInfo(_i),r.disposeIntermediateTensorInfo(ai),r.disposeIntermediateTensorInfo($i),r.disposeIntermediateTensorInfo(qi),r.disposeIntermediateTensorInfo(ji),r.disposeIntermediateTensorInfo(nr),r.disposeIntermediateTensorInfo(Qi),r.disposeIntermediateTensorInfo(wr),r.disposeIntermediateTensorInfo(Xr),r.disposeIntermediateTensorInfo(us),r.disposeIntermediateTensorInfo(ys),r.disposeIntermediateTensorInfo(Hs),r.disposeIntermediateTensorInfo(qs),r.disposeIntermediateTensorInfo(_a),{real:rl,imag:Yl}}const o4={kernelName:"FFT",backendName:"cpu",kernelFunc:function s4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Tt(i.shape),a=i.shape[i.shape.length-1],u=il({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=L$(u,!1,e),p=il({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function mP(n){const{backend:t,attrs:e}=n,{shape:i,value:r,dtype:a}=e,c=a||nn(r),u=Z(c,Tt(i));return function l4(n,t,e){n.fill(t)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(u,r),t.makeTensorInfo(i,c,u)}const a4={kernelName:ql,backendName:"cpu",kernelFunc:mP},c4={kernelName:sa,backendName:"cpu",kernelFunc:({inputs:n,backend:e})=>{const{image:i}=n,r=e,a=dt(i.dtype,Tt(i.shape)),[c,u,f,p]=i.shape,g=r.data.get(i.dataId).values;for(let T=0;T<c;T++){const V=T*f*u*p;for(let Y=0;Y<u;Y++){const ae=Y*(f*p);for(let te=0;te<f;te++){const _e=te*p;for(let Te=0;Te<p;Te++){const nt=Math.round(f-te-1),it=V+ae+_e+Te;let St=g[it];nt>=0&&nt<f&&(St=g[V+ae+nt*p+Te]),a[it]=St}}}}return{dataId:r.write(a,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},$$=Cf(n=>Math.floor(n)),u4=$m(Ks,$$),d4={kernelName:Ks,backendName:"cpu",kernelFunc:u4},h4=dc((n,t)=>Math.floor(n/t)),f4=Uc(lo,h4,null,"int32"),p4={kernelName:lo,backendName:"cpu",kernelFunc:f4},g4={kernelName:Ve,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function m4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:V,leakyreluAlpha:Y}=i;let ae=I$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T}});if(c){const te=ae;if("NCHW"===g&&1===c.shape.length&&1!==c.shape[0]){const _e=il({inputs:{x:c},backend:e,attrs:{shape:[c.shape[0],1,1]}});ae=Sb({inputs:{a:ae,b:_e},backend:e}),e.disposeIntermediateTensorInfo(_e)}else ae=Sb({inputs:{a:ae,b:c},backend:e});e.disposeIntermediateTensorInfo(te)}if(V){const te=ae;if("NCHW"===g&&"prelu"===V&&1===u.shape.length&&1!==u.shape[0]){const _e=il({inputs:{x:u},backend:e,attrs:{shape:[u.shape[0],1,1]}});ae=uk(e,ae,V,_e,Y),e.disposeIntermediateTensorInfo(_e)}else ae=uk(e,ae,V,u,Y);e.disposeIntermediateTensorInfo(te)}return ae}},y4={kernelName:_t,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:V,leakyreluAlpha:Y}=i;let ae=A$({inputs:{x:r,filter:a},backend:e,attrs:{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T}});if(c){const te=ae;ae=Sb({inputs:{a:ae,b:c},backend:e}),e.disposeIntermediateTensorInfo(te)}if(V){const te=ae;ae=uk(e,ae,V,u,Y),e.disposeIntermediateTensorInfo(te)}return ae}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function B$(n,t,e,i,r,a,c,u,f){const p=fs([i,a],e);for(let g=0;g<i;g++){const v=[];let T=0;for(let V=0;V<r;V++){const Y=n[g*r+V];T+=Y*c[V],v.push(Y)}if(T<0||T>=f/a)throw new Error(`Invalid indices: ${v} does not index into ${u}`);for(let V=0;V<a;V++)p.values[g*a+V]=t.get(...t.indexToLoc(T*a+V))}return p}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const b4={kernelName:ol,backendName:"cpu",kernelFunc:function v4(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=Tt(i.shape),c=r.shape,u=c[c.length-1],[f,p,g,v]=tv(i,r);if(0===p)return e.makeTensorInfo(f,i.dtype,[]);const Y=B$(e.data.get(r.dataId).values,e.bufferSync(i),i.dtype,p,u,g,v,i.shape,a);return e.makeTensorInfo(f,i.dtype,Y.values)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function V$(n,t,e){const i=fs(e,n.dtype);for(let r=0;r<i.size;++r){const c=i.indexToLoc(r).slice(),p=t.locToIndex([c[0],c[2]]);c[2]=t.values[p];const g=n.locToIndex(c);0<=g&&g<n.values.length&&(i.values[r]=n.values[g])}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const E4={kernelName:Lo,backendName:"cpu",kernelFunc:function w4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i;Tr([r,a],"gatherV2");const f=wt(c,r.shape)[0],p=e.data.get(a.dataId).values,g=r.shape[f];for(let it=0;it<p.length;++it){const St=p[it];Ce(St<=g-1&&St>=0,()=>`GatherV2: the index value ${St} is not in [0, ${g-1}]`)}let v=u;null==u&&(v=0);const T=Tt(a.shape),V=Lw(r,a,f,v),Y=il({inputs:{x:r},backend:e,attrs:{shape:[V.batchSize,V.outerSize,V.dimSize,V.sliceSize]}}),ae=il({inputs:{x:a},backend:e,attrs:{shape:[V.batchSize,T/V.batchSize]}}),te=[V.batchSize,V.outerSize,T/V.batchSize,V.sliceSize],_e=e.bufferSync(ae),nt=V$(e.bufferSync(Y),_e,te);return e.disposeIntermediateTensorInfo(Y),e.disposeIntermediateTensorInfo(ae),e.makeTensorInfo(V.outputShape,nt.dtype,nt.values)}},U$=dc((n,t)=>n>t?1:0),x4=Uc(wo,U$,null,"bool"),C4={kernelName:wo,backendName:"cpu",kernelFunc:x4},z$=dc((n,t)=>n>=t?1:0),S4=Uc(Eo,z$,null,"bool"),D4={kernelName:Eo,backendName:"cpu",kernelFunc:S4},k4={kernelName:qo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function T4(n){const{inputs:t,backend:e}=n,{input:i}=t,r=Tt(i.shape),a=i.shape[i.shape.length-1],u=il({inputs:{x:i},backend:e,attrs:{shape:[r/a,a]}}),f=L$(u,!0,e),p=il({inputs:{x:f},backend:e,attrs:{shape:i.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(f),p}},I4=ga(wa,n=>Number.isFinite(n)?1:0,"bool"),A4={kernelName:wa,backendName:"cpu",kernelFunc:I4},M4=ga(kr,n=>Math.abs(n)===1/0?1:0,"bool"),O4={kernelName:kr,backendName:"cpu",kernelFunc:M4},R4=ga(ws,n=>Number.isNaN(n)?1:0,"bool"),N4={kernelName:ws,backendName:"cpu",kernelFunc:R4},j$=dc((n,t)=>n<t?1:0),P4=Uc(go,j$,null,"bool"),F4={kernelName:go,backendName:"cpu",kernelFunc:P4},W$=dc((n,t)=>n<=t?1:0),L4=Uc(Qa,W$,null,"bool"),$4={kernelName:Qa,backendName:"cpu",kernelFunc:L4};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H$(n,t,e){const i=(t-n)/(e-1),r=Kn(e,"float32");r[0]=n;for(let a=1;a<r.length;a++)r[a]=r[a-1]+i;return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const V4={kernelName:Za,backendName:"cpu",kernelFunc:function B4(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=H$(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},G$=Cf(n=>Math.log(n)),U4=$m(al,G$),z4={kernelName:al,backendName:"cpu",kernelFunc:U4},j4=ga(Oi,n=>Math.log1p(n)),W4={kernelName:Oi,backendName:"cpu",kernelFunc:j4},H4=dc((n,t)=>n&&t),G4=Uc(Oo,H4,null,"bool"),K4={kernelName:Oo,backendName:"cpu",kernelFunc:G4},X4=ga(_o,n=>n?0:1,"bool"),Y4={kernelName:_o,backendName:"cpu",kernelFunc:X4},q4=dc((n,t)=>n||t),Q4=Uc($o,q4,null,"bool"),Z4={kernelName:$o,backendName:"cpu",kernelFunc:Q4},ej={kernelName:Qo,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J4(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i;Tr(r,"LRN");const p=r.shape[3],g=p-1,v=e.data.get(r.dataId).values,T=Tt(r.shape),V=new Float32Array(T);function Y(ae){const te=ae%p;let _e=ae-te+Math.max(0,te-a);const Te=ae-te+Math.min(te+a,g);let nt=0;for(;_e<=Te;_e++){const it=v[_e];nt+=it*it}return nt}for(let ae=0;ae<T;ae++){const te=Y(ae),_e=v[ae]*Math.pow(c+u*te,-f);V[ae]=_e}return e.makeTensorInfo(r.shape,r.dtype,V)}},nj={kernelName:aa,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i;Tr(c,"LRNGrad");const v=Tt(c.shape),T=c.shape[3],V=e.data.get(c.dataId).values,Y=e.data.get(r.dataId).values,ae=e.data.get(a.dataId).values,te=new Float32Array(v),_e=v;for(let Te=0;Te<_e;Te++){const nt=Te%T,it=Te-nt+Math.max(0,nt-u),St=Te-nt+Math.min(T,nt+u+1);let Xt=0;for(let sn=it;sn<St;sn++)Xt+=Math.pow(Y[sn],2);Xt=p*Xt+f;for(let sn=it;sn<St;sn++){let dn=-2*p*g*Y[sn]*ae[Te]/Xt;Te===sn&&(dn+=Math.pow(Xt,-g)),dn*=V[Te],te[sn]+=dn}}return e.makeTensorInfo(c.shape,r.dtype,te)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function K$(n,t,e,i){const r=dt(i,Tt(e));for(let a=0;a<r.length;++a){const c=a*t;let u=n[c];for(let f=0;f<t;++f){const p=n[c+f];(Number.isNaN(p)||p>u)&&(u=p)}r[a]=u}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function X$(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=e;let f=r.shape;const p=f.length,g=wt(a,f);let v=g;const T=_l(v,p);let V=u.data.get(r.dataId).values;if(null!=T){const it=new Array(p);for(let St=0;St<it.length;St++)it[St]=f[T[St]];V=aP(V,f,r.dtype,T,it),v=Ga(v.length,p),f=it}Tr(r,"max"),Sc("max",v,p);const[Y,ae]=Cc(f,v),_e=K$(V,Tt(ae),Y,r.dtype),Te=u.write(_e,Y,r.dtype);let nt=Y;return c&&(nt=gl(Y,g)),{dataId:Te,shape:nt,dtype:r.dtype}}const ij={kernelName:Ea,backendName:"cpu",kernelFunc:X$},Y$=dc((n,t)=>Math.max(n,t)),rj=Uc(Bo,Y$),sj={kernelName:Bo,backendName:"cpu",kernelFunc:rj},aj={kernelName:Ua,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Tr(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Ce(xc(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Yu(r.shape,a,c,1,u,f);let v;if(1===g.filterWidth&&1===g.filterHeight&&Oe(g.inShape,g.outShape))v=Sf({inputs:{x:r},backend:e});else{const T=e.data.get(r.dataId).values,V=$t(r.shape),Y=lP(T,0,r.dtype,V,g,"max");v=e.makeTensorInfo(g.outShape,r.dtype,Y.values)}return v}},cj={kernelName:wl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i;Tr(r,"maxPool3d");const g=rh(r.shape,a,c,1,u,f,p),T=x$(e.data.get(r.dataId).values,0,r.dtype,$t(r.shape),g,"max");return e.makeTensorInfo(T.shape,"float32",T.values)}},dj={kernelName:Rs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,{filterSize:c,strides:u,pad:f,dimRoundingMode:p}=i;Tr([r,a],"maxPool3DGrad");const g=rh(a.shape,c,u,1,f,p),T=function E3(n,t){const e=fs(t.outShape,"int32"),i=t.strideDepth,r=t.strideHeight,a=t.strideWidth,c=t.dilationDepth,u=t.dilationHeight,f=t.dilationWidth,p=t.effectiveFilterDepth,g=t.effectiveFilterHeight,v=t.effectiveFilterWidth,T=t.padInfo.front,V=t.padInfo.top,Y=t.padInfo.left;for(let ae=0;ae<t.batchSize;++ae)for(let te=0;te<t.inChannels;++te)for(let _e=0;_e<t.outDepth;++_e){const Te=_e*i-T;let nt=Te;for(;nt<0;)nt+=c;const it=Math.min(t.inDepth,p+Te);for(let St=0;St<t.outHeight;++St){const Xt=St*r-V;let sn=Xt;for(;sn<0;)sn+=u;const dn=Math.min(t.inHeight,g+Xt);for(let wn=0;wn<t.outWidth;++wn){const Cn=wn*a-Y;let Vn=Cn;for(;Vn<0;)Vn+=f;const qn=Math.min(t.inWidth,v+Cn);let ii=Number.NEGATIVE_INFINITY,ri=-1;for(let oi=nt;oi<it;oi+=c){const hi=oi-Te;for(let _i=sn;_i<dn;_i+=u){const ai=_i-Xt;for(let vi=Vn;vi<qn;vi+=f){const Ni=vi-Cn,$i=n.get(ae,oi,_i,vi,te);$i>=ii&&(ii=$i,ri=hi*g*v+ai*g+Ni)}}}e.set(ri,ae,_e,St,wn,te)}}}return e}(e.bufferSync(a),g),V=g.strideDepth,Y=g.strideHeight,ae=g.strideWidth,te=g.dilationDepth,_e=g.dilationHeight,Te=g.dilationWidth,nt=g.effectiveFilterDepth,it=g.effectiveFilterHeight,St=g.effectiveFilterWidth,Xt=nt-1-g.padInfo.front,sn=St-1-g.padInfo.left,dn=it-1-g.padInfo.top,wn=fs(a.shape,"float32"),Cn=e.bufferSync(r);for(let Vn=0;Vn<g.batchSize;++Vn)for(let qn=0;qn<g.inChannels;++qn)for(let ii=0;ii<g.inDepth;++ii)for(let ri=0;ri<g.inHeight;++ri)for(let oi=0;oi<g.inWidth;++oi){const hi=ii-Xt,_i=ri-dn,ai=oi-sn;let vi=0;for(let Ni=0;Ni<nt;Ni+=te){const $i=(hi+Ni)/V;if(!($i<0||$i>=g.outDepth||Math.floor($i)!==$i))for(let qi=0;qi<it;qi+=_e){const ji=(_i+qi)/Y;if(!(ji<0||ji>=g.outHeight||Math.floor(ji)!==ji))for(let nr=0;nr<St;nr+=Te){const Qi=(ai+nr)/ae;if(Qi<0||Qi>=g.outWidth||Math.floor(Qi)!==Qi)continue;const ys=nt*it*St-1-T.get(Vn,$i,ji,Qi,qn)===Ni*it*St+qi*St+nr?1:0;0!==ys&&(vi+=Cn.get(Vn,$i,ji,Qi,qn)*ys)}}}wn.set(vi,Vn,ii,ri,oi,qn)}return e.makeTensorInfo(wn.shape,wn.dtype,wn.values)}},fj={kernelName:ll,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hj(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;Tr([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:v}=i,T=Yu(u.shape,f,p,1,g,v),V=e.data.get(u.dataId).values,Y=fs(T.outShape,u.dtype,E$(V,u.shape,u.dtype,T).values),ae=T.strideHeight,te=T.strideWidth,_e=T.dilationHeight,Te=T.dilationWidth,nt=T.effectiveFilterHeight,it=T.effectiveFilterWidth,St=it-1-T.padInfo.left,Xt=nt-1-T.padInfo.top,sn=fs(u.shape,"float32"),dn=e.data.get(r.dataId).values,wn=fs(r.shape,"float32",dn);for(let Cn=0;Cn<T.batchSize;++Cn)for(let Vn=0;Vn<T.inChannels;++Vn)for(let qn=0;qn<T.inHeight;++qn)for(let ii=0;ii<T.inWidth;++ii){const ri=qn-Xt,oi=ii-St;let hi=0;for(let _i=0;_i<nt;_i+=_e){const ai=(ri+_i)/ae;if(!(ai<0||ai>=T.outHeight||Math.floor(ai)!==ai))for(let vi=0;vi<it;vi+=Te){const Ni=(oi+vi)/te;if(Ni<0||Ni>=T.outWidth||Math.floor(Ni)!==Ni)continue;const ji=nt*it-1-Y.get(Cn,ai,Ni,Vn)===_i*it+vi?1:0;0!==ji&&(hi+=wn.get(Cn,ai,Ni,Vn)*ji)}}sn.set(hi,Cn,qn,ii,Vn)}return e.makeTensorInfo(sn.shape,sn.dtype,sn.values)}},mj={kernelName:cl,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;Tr(i,"MaxPoolWithArgmax");const p=f.data.get(i.dataId).values,g=Yu(i.shape,r,a,[1,1],c),[v,T]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pj(n,t,e,i,r){const c=lP(n,0,e,$t(t),r,"max"),u=E$(n,t,e,r,!0,i);return[c.values,u.values]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(p,i.shape,i.dtype,u,g),V=f.write(v,g.outShape,i.dtype),Y=f.write(T,g.outShape,i.dtype);return[{dataId:V,shape:g.outShape,dtype:i.dtype},{dataId:Y,shape:g.outShape,dtype:"int32"}]}},_j={kernelName:la,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=wt(a,r.shape),g=Tt(Cc(r.shape,u)[1]),v=[],T=e.makeTensorInfo([],"float32",new Float32Array([g]));v.push(T);const V=Bm({inputs:{x:r},backend:e,attrs:{dtype:"float32"}});v.push(V);const Y=dP({inputs:{a:V,b:T},backend:e});v.push(Y);const ae=Ox({inputs:{x:Y},backend:e,attrs:{axis:a,keepDims:c}});return v.forEach(te=>e.disposeIntermediateTensorInfo(te)),ae}},vj={kernelName:es,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Tr(r,"min");const u=wt(a,r.shape);let f=u;const p=_l(f,r.shape.length);let g=r;null!=p&&(g=fd({inputs:{x:r},backend:e,attrs:{perm:p}}),f=Ga(f.length,r.shape.length)),Sc("min",f,g.shape.length);const[v,T]=Cc(g.shape,f),V=Tt(T),Y=Kn(Tt(v),g.dtype),ae=e.data.get(g.dataId).values;for(let _e=0;_e<Y.length;++_e){const Te=_e*V;let nt=ae[Te];for(let it=0;it<V;++it){const St=ae[Te+it];(Number.isNaN(St)||St<nt)&&(nt=St)}Y[_e]=nt}null!=p&&e.disposeIntermediateTensorInfo(g);const te=e.makeTensorInfo(v,g.dtype,Y);if(c){const Te=il({inputs:{x:te},backend:e,attrs:{shape:gl(v,u)}});return e.disposeIntermediateTensorInfo(te),Te}return te}},q$=dc((n,t)=>Math.min(n,t)),bj=Uc(Ja,q$),wj={kernelName:Ja,backendName:"cpu",kernelFunc:bj},xj={kernelName:co,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ej(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,mode:c}=i;Tr(r,"mirrorPad");const u=a.map((nt,it)=>nt[0]+r.shape[it]+nt[1]),f=a.map(nt=>nt[0]),p=a.map((nt,it)=>nt[0]+r.shape[it]),g="reflect"===c?0:1,v=e.data.get(r.dataId).values,T=r.shape.length,V=$t(r.shape),Y=Tt(u),ae=u.length,te=$t(u),_e=dt(r.dtype,Y);for(let nt=0;nt<Y;nt++){let it=Le(nt,ae,te);for(let Xt=0;Xt<ae;Xt++)it[Xt]<f[Xt]?it[Xt]=2*f[Xt]-it[Xt]-g:it[Xt]>=p[Xt]&&(it[Xt]=2*(p[Xt]-1)-it[Xt]+g);it=it.map((Xt,sn)=>Xt-f[sn]);const St=pt(it,T,V);_e[nt]=v[St]}return{dataId:e.write(_e,u,r.dtype),shape:u,dtype:r.dtype}}},Cj=dc((n,t)=>{const e=n%t;return n<0&&t<0||n>=0&&t>=0?e:(e+t)%t}),Sj=Uc(xa,Cj),Dj={kernelName:xa,backendName:"cpu",kernelFunc:Sj};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Q$(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=r.shape.length;let u=a;if(-1===u&&(u=c-1),u!==c-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${c} and dim was ${u}`);const f=wt([u],r.shape),p=X$({inputs:{x:r},backend:e,attrs:{reductionIndices:f,keepDims:!1}}),g=gl(p.shape,f),v=il({inputs:{x:p},backend:e,attrs:{shape:g}}),T=fP({inputs:{a:r,b:v},backend:e}),V=N$({inputs:{x:T},backend:e}),Y=Ox({inputs:{x:V},backend:e,attrs:{axis:f,keepDims:!1}}),ae=il({inputs:{x:Y},backend:e,attrs:{shape:g}}),te=dP({inputs:{a:V,b:ae},backend:e});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),e.disposeIntermediateTensorInfo(ae),te}const Tj={kernelName:os,backendName:"cpu",kernelFunc:Q$},Ij={kernelName:Ca,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kj(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i;Tr(r,"multinomial");const f=u?r:Q$({inputs:{logits:r},backend:e,attrs:{dim:-1}}),p=f.shape[0],g=f.shape[1],v=e.data.get(f.dataId).values,T=[p,a],V=Kn(Tt(T),"int32");for(let Y=0;Y<p;++Y){const ae=Y*g,te=new Float32Array(g-1);te[0]=v[ae];for(let nt=1;nt<te.length;++nt)te[nt]=te[nt-1]+v[ae+nt];const _e=Yf.alea(c.toString()),Te=Y*a;for(let nt=0;nt<a;++nt){const it=_e();V[Te+nt]=te.length;for(let St=0;St<te.length;St++)if(it<te[St]){V[Te+nt]=St;break}}}return u||e.disposeIntermediateTensorInfo(f),e.makeTensorInfo(T,"int32",V)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z$(n,t,e){const i=nu(-1,e);return uP([],t,i,n,e)}const Mj={kernelName:ul,backendName:"cpu",kernelFunc:function Aj(n){const{inputs:t,backend:e}=n,{x:i}=t;Tr(i,"neg");const r=e.data.get(i.dataId).values,[a,c]=Z$(r,i.shape,i.dtype);return e.makeTensorInfo(c,i.dtype,a)}},Oj=lw,Nj={kernelName:ks,backendName:"cpu",kernelFunc:function Rj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i;Tr(r,"NonMaxSuppression");const p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,{selectedIndices:v}=Oj(p,g,c,u,f);return e.makeTensorInfo([v.length],"int32",new Int32Array(v))}},Pj=cw,Lj={kernelName:uo,backendName:"cpu",kernelFunc:function Fj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i;Tr(r,"NonMaxSuppressionPadded");const g=e.data.get(r.dataId).values,v=e.data.get(a.dataId).values,{selectedIndices:T,validOutputs:V}=Pj(g,v,c,u,f,p);return[e.makeTensorInfo([T.length],"int32",new Int32Array(T)),e.makeTensorInfo([],"int32",new Int32Array([V]))]}},$j=np,Vj={kernelName:za,backendName:"cpu",kernelFunc:function Bj(n){const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i;Tr(r,"NonMaxSuppressionWithScore");const g=e.data.get(r.dataId).values,v=e.data.get(a.dataId).values,T=c,V=u,Y=f,ae=p,{selectedIndices:te,selectedScores:_e}=$j(g,v,T,V,Y,ae);return[e.makeTensorInfo([te.length],"int32",new Int32Array(te)),e.makeTensorInfo([_e.length],"float32",new Float32Array(_e))]}},J$=dc((n,t)=>n!==t?1:0),Uj=Uc(hr,J$,null,"bool"),zj={kernelName:hr,backendName:"cpu",kernelFunc:Uj},Wj={kernelName:jt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jj(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i;Tr(r,"oneHot");const p=Tt(r.shape),g=new Float32Array(p*c);g.fill(f);const v=e.data.get(r.dataId).values;for(let T=0;T<p;++T)v[T]>=0&&v[T]<c&&(g[T*c+v[T]]=u);return e.makeTensorInfo([...r.shape,c],a,g)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pk(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===i.dtype){const r=N_({inputs:{input:i},backend:e}),a=pk({inputs:{x:r},backend:e}),c=Db({inputs:{input:i},backend:e}),u=pk({inputs:{x:c},backend:e}),f=Sd({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return mP({backend:e,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const Hj={kernelName:Ac,backendName:"cpu",kernelFunc:pk},Gj={kernelName:Us,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function eB(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const r=N_({inputs:{input:i},backend:e}),a=eB({inputs:{x:r},backend:e}),c=Db({inputs:{input:i},backend:e}),u=pk({inputs:{x:c},backend:e}),f=Sd({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return mP({backend:e,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tB(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return fk({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{Qt(a,g.shape,"All tensors passed to stack must have matching shapes"),Ce(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=Tb({inputs:t.map(g=>{const v=fk({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(v),v}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}const Kj={kernelName:de,backendName:"cpu",kernelFunc:tB},nB={kernelName:Se,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Xj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;Tr(r,"pad");const u=a.map((Te,nt)=>Te[0]+r.shape[nt]+Te[1]),f=a.map(Te=>Te[0]),p=e.data.get(r.dataId).values,g=Tt(r.shape),v=r.shape.length,T=$t(r.shape),V=Tt(u),Y=u.length,ae=$t(u),te=dt(r.dtype,V);0!==c&&te.fill(c);for(let Te=0;Te<g;Te++)te[pt(Le(Te,v,T).map((Xt,sn)=>Xt+f[sn]),Y,ae)]=p[Te];return{dataId:e.write(te,u,r.dtype),shape:u,dtype:r.dtype}}},Yj=dc((n,t)=>Math.pow(n,t)),qj=Uc(le,Yj),Qj={kernelName:le,backendName:"cpu",kernelFunc:qj};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iB(n,t,e,i){const[r,a]=Cc(n,i),c=Mn(t,"int32"),u=Kn(Tt(r),c),f=Tt(a);for(let p=0;p<u.length;++p){const g=p*f;let v=1;for(let T=0;T<f;++T)v*=e[g+T];u[p]=v}return{outVals:u,outShape:r,outDtype:c}}const Jj={kernelName:ze,backendName:"cpu",kernelFunc:function Zj(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;Tr(r,"prod");const u=r.shape.length,f=wt(a,r.shape),p=_l(f,u);let g=f,v=r;const T=[];null!=p&&(v=fd({inputs:{x:r},backend:e,attrs:{perm:p}}),T.push(v),g=Ga(g.length,u));const V=e.data.get(v.dataId).values,{outVals:Y,outShape:ae,outDtype:te}=iB(v.shape,v.dtype,V,g);let _e=ae;return c&&(_e=gl(ae,f)),T.forEach(Te=>e.disposeIntermediateTensorInfo(Te)),e.makeTensorInfo(_e,te,Y)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function rB(n,t){const e=n.slice(0,t);for(;e.length<t;)e.push(1);for(let i=t;i<n.length;i++)e[t-1]*=n[i];return e}function sB(n,t,e,i,r,a,c,u){if(0===n.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function eW(n,t,e){n.forEach((i,r)=>{if(i<0||i>=e){const a=Le(r,t.length,$t(t)).join(",");throw new Error(`indices[${a}] = ${i} is not in [0, ${e})`)}})}(a,c,t[0][0]-1),0===i.length)throw new Error("params.rank must be nonzero");const p=i[0],{outSplits:g,valueSlices:v,numValues:T}=function nW(n,t,e,i){const r=[];let a=0;const u=new Array(t.length-1+e.length).fill(null).map(()=>[0]);!function tW(n,t){for(let e=0;e<n.length;++e){const i=n[e],r=e===n.length-1?t:n[e+1].length;if(0===i.length)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>r)throw new Error("Ragged splits must not point past values");for(let a=1;a<i.length;++a)if(i[a-1]>i[a])throw new Error("Ragged splits must be sorted in ascending order")}}(e,i);let f=1;for(let p=0;p<t.length-1;++p){f*=t[p];const g=t[p+1];for(let v=1;v<f+1;++v)u[p].push(v*g)}for(let p=0;p<n.length;++p){let g=n[p],v=n[p]+1;for(let T=0;T<e.length;++T){const V=e[T],Y=T+t.length-1;if(Y>=0){const ae=u[Y],te=ae[ae.length-1]-V[g];for(let _e=g;_e<v;++_e)u[Y].push(V[_e+1]+te)}g=V[g],v=V[v]}v!==g&&(r.push([g,v]),a+=v-g)}return{outSplits:u,valueSlices:r,numValues:a}}(a,c,n,p),V=function iW(n){const t=[];for(let e=0;e<n.length;++e){const r=Z("int32",n[e].length);t.push(r),n[e].forEach((a,c)=>r[c]=a)}return t}(g),Y=function sW(n,t,e,i,r){const a=t.slice();a[0]=r;const c=Z(e,Tt(a)),u=n.length;return function rW(n,t,e,i,r,a){const c=rB(t,2)[1],u=rB(a,2)[1];let f=0;for(const p of e)for(let g=p[0];g<p[1];++g){for(let v=0;v<i;++v)r[f*u+v]=n[g*c+v];++f}}(n,t,i,0===u?0:u/t[0],c,a),[c,a]}(e,i,r,v,T);return[V,Y[0],Y[1]]}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const aW={kernelName:Ct,backendName:"cpu",kernelFunc:function oW(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,f=r.map(_e=>e.data.get(_e.dataId).values),p=r.map(_e=>_e.shape),g=e.data.get(a.dataId).values,v=e.data.get(c.dataId).values,[T,V,Y]=sB(f,p,g,a.shape,a.dtype,v,c.shape),ae=T.map(_e=>e.makeTensorInfo([_e.length],"int32",_e)),te=e.makeTensorInfo(Y,a.dtype,V);return ae.concat([te])}},oB=2147483647;
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function aB(n,t,e,i,r,a,c){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(c.length>1)throw new Error("deltas must be a scalar or vector");const u=0===t.length,f=0===r.length,p=0===c.length,g=[];u||g.push(t[0]),f||g.push(r[0]),p||g.push(c[0]);for(let te=1;te<g.length;++te)if(g[te]!==g[te-1])throw new Error("starts, limits, and deltas must have the same shape");const v=0===g.length?1:g[0],T=Z("int32",v+1);T[0]=0;for(let te=0;te<v;++te){const _e=u?n[0]:n[te],Te=f?i[0]:i[te],nt=p?a[0]:a[te];if(0===nt)throw new Error("Requires delta != 0");let it;if(nt>0&&Te<_e||nt<0&&Te>_e)it=0;else if(it=Math.ceil(Math.abs((Te-_e)/nt)),it>oB)throw new Error(`Requires ((limit - start) / delta) <= ${oB}`);T[te+1]=T[te]+it}const Y=Z(e,T[v]);let ae=0;for(let te=0;te<v;++te){const _e=T[te+1]-T[te];let Te=u?n[0]:n[te];const nt=p?a[0]:a[te];for(let it=0;it<_e;++it)Y[ae++]=Te,Te+=nt}return[T,Y]}
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const cW={kernelName:En,backendName:"cpu",kernelFunc:function lW(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=aB(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */var gh=Fd;class mk{constructor(t,e,i,r,a,c,u,f,p,g){this.shape=t,this.shapeShape=e,this.values=i,this.valuesShape=r,this.valuesDType=a,this.defaultValue=c,this.defaultValueShape=u,this.rowPartitionValues=f,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=Ew(g),this.raggedRank=xw(this.rowPartitionTypes)}getRowPartitionTypeByDimension(t){return this.rowPartitionTypes[0]===gh.FIRST_DIM_SIZE?this.rowPartitionTypes[t+1]:this.rowPartitionTypes[t]}getRowPartitionTensor(t){return this.rowPartitionTypes[0]===gh.FIRST_DIM_SIZE?this.rowPartitionValues[t+1]:this.rowPartitionValues[t]}getMaxWidth(t){const e=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case gh.VALUE_ROWIDS:return mk.getMaxWidthValueRowID(e);case gh.ROW_SPLITS:return mk.getMaxWidthRowSplit(e);default:throw new Error(`Cannot handle partition type ${gh[this.getRowPartitionTypeByDimension(t-1)]}`)}}static getMaxWidthRowSplit(t){const e=t.length;if(0===e||1===e)return 0;let i=0;for(let r=0;r<e-1;++r){const a=t[r+1]-t[r];a>i&&(i=a)}return i}static getMaxWidthValueRowID(t){const e=t.length;if(0===e)return 0;let i=0,r=t[0],a=0;for(let c=1;c<e;++c){const u=t[c];u!==r&&(r=u,a=Math.max(c-i,a),i=c)}return Math.max(e-i,a)}tensorShapeFromTensor(t,e,i=!0){if(0===e.length){if(-1===t[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return cB(t,i)}calculateOutputSize(t){const e=this.valuesShape;Cw(this.defaultValueShape,e);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),c=fu(this.raggedRank,r,e);c[0]<0&&(c[0]=t);for(let u=1;u<=this.raggedRank;++u)c[u]<0&&(c[u]=this.getMaxWidth(u));return c}calculateFirstParentOutputIndex(t,e,i){const r=Math.min(t,i),a=[];let c=0;for(let u=0;u<r;++u,c+=e)a.push(c);for(let u=r;u<t;++u)a.push(-1);return Ce(a.length===t,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(t,e,i,r){const a=t.length,c=[];for(let u=0;u<a-1;++u){const f=t[u+1]-t[u];let p=Math.min(r,f),g=e[u];-1===g&&(p=0);for(let v=0;v<p;++v)c.push(g),g+=i;for(let v=0;v<f-p;++v)c.push(-1)}if(a>0&&c.length!==t[a-1])throw new Error("Invalid row split size.");return c}calculateOutputIndexValueRowID(t,e,i,r){const a=t.length,c=[];if(0===a)return[];let u=0,f=t[0];if(f>=e.length)throw new Error(`Got currentValueRowId=${f}, which is not less than ${e.length}`);let p=e[f];c.push(p);for(let g=1;g<a;++g){const v=t[g];if(v===f)p>=0&&(++u,u<r?p+=i:p=-1);else{if(u=0,f=v,v>=e.length)throw new Error(`Got nextValueRowId=${v} which is not less than ${e.length}`);p=e[v]}c.push(p)}if(c.length!==t.length)throw new Error("Invalid row ids.");return c}calculateOutputIndex(t,e,i,r){const a=this.getRowPartitionTensor(t),c=this.getRowPartitionTypeByDimension(t);switch(c){case gh.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,e,i,r);case gh.ROW_SPLITS:if(a.length-1>e.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${e.length}`);return this.calculateOutputIndexRowSplit(a,e,i,r);default:throw new Error(`Unsupported partition type: ${gh[c]}`)}}getFirstDimensionSize(){const t=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const e=this.rowPartitionTypes[0];switch(e){case gh.FIRST_DIM_SIZE:return t[0];case gh.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case gh.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${gh[e]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),i=this.calculateOutputSize(e),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let f=r.length-2;f>=0;--f)r[f]=r[f+1]*i[f+1];const a=cB(i,!1),c=Z(this.valuesDType,Tt(a));if(r[0]*i[0]>0){let f=this.calculateFirstParentOutputIndex(e,r[0],i[0]);for(let p=1;p<=this.raggedRank;++p)f=this.calculateOutputIndex(p-1,f,r[p],i[p]);this.setOutput(this.raggedRank,f,c,a)}return[a,c]}setOutput(t,e,i,r){if(0===i.length)return;const a=this.values,c=i;let u=r.slice();u=u.slice(t+1);const f=Tt(u),p=e.length;let g=this.defaultValue;if(g.length!==f&&1!==g.length){const Y=this.defaultValueShape;k(()=>{const ae=Tn(g,Y);g=Bf(ae,u).dataSync()})}let v=0,T=0,V=0;for(let Y=0;Y<=p;++Y){let ae=Y<p?e[Y]:-1;if(ae!==V){if(T<V){const te=a.subarray(v*f);lB(c.subarray(T*f),te,(V-T)*f)}if(Y>=p&&(ae=Math.floor(i.length/f)),ae>V)if(1===this.defaultValue.length)c.subarray(V*f,ae*f).fill(this.defaultValue[0]),V=ae;else for(;ae>V;)lB(c.slice(V*f),g,f),++V;ae<0?(v=Y+1,T=V):(v=Y,T=V,V=T+1)}else++V}}}function lB(n,t,e){for(let i=0;i<e;i++)n[i]=t[i]}function cB(n,t){const e=[];for(let i of n){if(i<0){if(!t)throw new Error(`Dimension ${i} must be >= 0`);if(i<-1)throw new Error(`Dimension ${i} must be >= -1`);i=-1}e.push(i)}return e}function uB(n,t,e,i,r,a,c,u,f,p){return new mk(n,t,e,i,r,a,c,u,f,p).compute()}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const dW={kernelName:Fn,backendName:"cpu",kernelFunc:function uW(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.data.get(r.dataId).values,g=e.data.get(a.dataId).values,v=e.data.get(c.dataId).values,T=u.map(te=>e.data.get(te.dataId).values),V=u.map(te=>te.shape),[Y,ae]=uB(p,r.shape,g,a.shape,a.dtype,v,c.shape,T,V,f);return e.makeTensorInfo(Y,a.dtype,ae)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function dB(n,t,e,i){if(n===t||n<t&&e<0||t<n&&e>1)return Kn(0,i);const f=Kn(Math.abs(Math.ceil((t-n)/e)),i);t<n&&1===e&&(e=-1),f[0]=n;for(let p=1;p<f.length;p++)f[p]=f[p-1]+e;return f}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fW={kernelName:ki,backendName:"cpu",kernelFunc:function hW(n){const{backend:t,attrs:e}=n,{start:i,stop:r,dtype:a,step:c}=e,u=dB(i,r,c,a);return t.makeTensorInfo([u.length],a,u)}},pW=ga(fr,n=>1/n),mW={kernelName:fr,backendName:"cpu",kernelFunc:pW},_W={kernelName:Cr,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function gW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;Tr(r,"resizeBilinear");const f=$t(r.shape),[p,g]=u,[v,T,V,Y]=r.shape,ae=e.data.get(r.dataId).values,te=new Float32Array(Tt([v,p,g,Y])),_e=[a&&p>1?T-1:T,a&&g>1?V-1:V],Te=[a&&p>1?p-1:p,a&&g>1?g-1:g];let nt=0;const it=_e[0]/Te[0],St=_e[1]/Te[1];for(let Xt=0;Xt<v;Xt++)for(let sn=0;sn<p;sn++){let dn;dn=c?it*(sn+.5)-.5:it*sn;const wn=Math.max(0,Math.floor(dn)),Cn=dn-wn,Vn=Math.min(T-1,Math.ceil(dn)),qn=Xt*f[0]+wn*f[1],ii=Xt*f[0]+Vn*f[1];for(let ri=0;ri<g;ri++){let oi;oi=c?St*(ri+.5)-.5:St*ri;const hi=Math.max(0,Math.floor(oi)),_i=oi-hi,ai=Math.min(V-1,Math.ceil(oi)),vi=qn+hi*f[2],Ni=ii+hi*f[2],$i=qn+ai*f[2],qi=ii+ai*f[2];for(let ji=0;ji<Y;ji++){const nr=ae[vi+ji],Qi=ae[Ni+ji],ys=nr+(ae[$i+ji]-nr)*_i;te[nt++]=ys+(Qi+(ae[qi+ji]-Qi)*_i-ys)*Cn}}}return e.makeTensorInfo([v,p,g,Y],"float32",te)}},vW={kernelName:zs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function yW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;Tr([a,r],"resizeBilinearGrad");const u=$t(r.shape),[f,p,g,v]=r.shape,[,T,V]=a.shape,Y=new Float32Array(f*p*g*v),ae=[c&&T>1?p-1:p,c&&V>1?g-1:g],te=[c&&T>1?T-1:T,c&&V>1?V-1:V],_e=ae[0]/te[0],Te=ae[1]/te[1],nt=e.data.get(a.dataId).values;let it=0;for(let St=0;St<f;St++){const Xt=St*u[0];for(let sn=0;sn<T;sn++){const dn=sn*_e,wn=Math.floor(dn),Cn=Math.min(Math.ceil(dn),p-1),Vn=Xt+wn*u[1],qn=Xt+Cn*u[1],ii=dn-wn,ri=1-ii;for(let oi=0;oi<V;oi++){const hi=oi*Te,_i=Math.floor(hi),ai=Math.min(Math.ceil(hi),g-1),vi=hi-_i,Ni=1-vi,$i=Vn+_i*u[2],qi=Vn+ai*u[2],ji=qn+_i*u[2],nr=qn+ai*u[2],Qi=ri*Ni,wr=ri*vi,Xr=ii*Ni,ys=ii*vi;for(let us=0;us<v;us++){const Hs=nt[it++];Y[$i+us]+=Hs*Qi,Y[qi+us]+=Hs*wr,Y[ji+us]+=Hs*Xr,Y[nr+us]+=Hs*ys}}}}return e.makeTensorInfo([f,g,p,v],"float32",Y)}},wW={kernelName:Or,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function bW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i;Tr(r,"resizeNearestNeighbor");const f=$t(r.shape),[p,g]=u,[v,T,V,Y]=r.shape,ae=e.data.get(r.dataId).values,te=new Float32Array(v*p*g*Y),_e=[a&&p>1?T-1:T,a&&g>1?V-1:V],Te=[a&&p>1?p-1:p,a&&g>1?g-1:g],nt=_e[0]/Te[0],it=_e[1]/Te[1];let St=0;for(let Xt=0;Xt<v;Xt++){const sn=Xt*f[0];for(let dn=0;dn<p;dn++){const wn=c?nt*(dn+.5):nt*dn;let Cn=Math.min(T-1,a?Math.round(wn):Math.floor(wn));c&&(Cn=Math.max(0,Cn));const Vn=sn+Cn*f[1];for(let qn=0;qn<g;qn++){const ii=c?it*(qn+.5):it*qn;let ri=Math.min(V-1,a?Math.round(ii):Math.floor(ii));c&&(ri=Math.max(0,ri));const oi=Vn+ri*f[2];for(let hi=0;hi<Y;hi++)te[St++]=ae[oi+hi]}}}return e.makeTensorInfo([v,p,g,Y],r.dtype,te)}},xW={kernelName:Zs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function EW(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i;Tr([a,r],"resizeNearestNeighborGrad");const u=$t(r.shape),f=$t(a.shape),[p,g,v,T]=r.shape,[,V,Y]=a.shape,ae=new Float32Array(p*g*v*T),te=e.data.get(a.dataId).values,_e=[c&&V>1?g-1:g,c&&Y>1?v-1:v],Te=[c&&V>1?V-1:V,c&&Y>1?Y-1:Y],nt=_e[0]/Te[0],it=_e[1]/Te[1],St=1/nt,Xt=1/it,sn=2*Math.ceil(St)+2,dn=2*Math.ceil(Xt)+2;for(let wn=0;wn<p;wn++){const Cn=wn*u[0];for(let Vn=0;Vn<g;Vn++){const qn=Cn+Vn*u[1],ii=Math.floor(Vn*St),ri=Math.floor(ii-sn/2);for(let oi=0;oi<v;oi++){const hi=qn+oi*u[2],_i=Math.floor(oi*Xt),ai=Math.floor(_i-dn/2);for(let vi=0;vi<T;vi++){let Ni=0;for(let $i=0;$i<sn;$i++){const qi=$i+ri;if(qi<0||qi>=V)continue;const ji=Cn+qi*f[1],nr=qi*nt;if(Vn===Math.min(g-1,c?Math.round(nr):Math.floor(nr)))for(let wr=0;wr<dn;wr++){const Xr=wr+ai;if(Xr<0||Xr>=Y)continue;const ys=ji+Xr*f[2],us=Xr*it;oi===Math.min(v-1,c?Math.round(us):Math.floor(us))&&(Ni+=te[ys+vi])}}ae[hi+vi]=Ni}}}}return e.makeTensorInfo(r.shape,r.dtype,ae)}},SW={kernelName:Xs,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i;Tr(r,"reverse");const c=r.shape.length,u=wt(a,r.shape);if(0===c)return Sf({inputs:{x:r},backend:e});const f=new So(r.shape,r.dtype),p=e.bufferSync(r);for(let g=0;g<f.size;g++){const v=f.indexToLoc(g),T=v.slice();u.forEach(V=>T[V]=r.shape[V]-1-T[V]),f.set(p.get(...T),...v)}return e.makeTensorInfo(f.shape,f.dtype,f.values)}},DW={kernelName:we,backendName:"cpu",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=dt(i.dtype,Tt(i.shape)),[p,g,v,T]=i.shape,[V,Y]=Sw(c,g,v),te=Math.sin(r),_e=Math.cos(r),Te=u.data.get(i.dataId).values;for(let it=0;it<p;it++){const St=it*v*g*T;for(let Xt=0;Xt<g;Xt++){const sn=Xt*(v*T);for(let dn=0;dn<v;dn++){const wn=dn*T;for(let Cn=0;Cn<T;Cn++){const Vn=[p,Xt,dn,Cn],qn=Vn[2],ii=Vn[1];let ri=(qn-V)*_e-(ii-Y)*te,oi=(qn-V)*te+(ii-Y)*_e;ri=Math.round(ri+V),oi=Math.round(oi+Y);let hi=a;"number"!=typeof a&&(hi=3===Cn?255:a[Cn]),ri>=0&&ri<v&&oi>=0&&oi<g&&(hi=Te[St+oi*(v*T)+ri*T+Cn]),f[St+sn+wn+Cn]=hi}}}}return{dataId:u.write(f,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},TW=ga(Sa,n=>{const t=Math.floor(n);return n-t<.5?Math.floor(n):n-t>.5?Math.ceil(n):t%2==0?t:t+1}),kW={kernelName:Sa,backendName:"cpu",kernelFunc:TW},hB=Cf(n=>1/Math.sqrt(n)),IW=$m(ca,hB),AW={kernelName:ca,backendName:"cpu",kernelFunc:IW};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function F_(n,t,e,i,r,a,c,u,f,p){const g=[i/r,r],v=n.values,T=t.values;if(0===i)return fs(e,t.dtype);const V=f instanceof So?f:fs(g,t.dtype);"string"==typeof f||"number"==typeof f?V.values.fill(f):"boolean"==typeof f&&V.values.fill(+f);for(let Y=0;Y<a;Y++){const ae=[];let te=0;for(let _e=0;_e<c;_e++){const Te=v[Y*c+_e];ae.push(Te),te+=Te*u[_e]}if(te<0||te>=i/r)throw new Error(`Invalid indices: ${ae} does not index into ${e}`);for(let _e=0;_e<r;_e++)p?V.values[te*r+_e]+=T[Y*r+_e]:V.values[te*r+_e]=0===t.rank?T[0]:T[Y*r+_e]}return V}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OW={kernelName:P,backendName:"cpu",kernelFunc:function MW(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ep(0,r,c),ae=F_(e.bufferSync(r),e.bufferSync(a),c,v,p,f,u,g,0,!0);return e.makeTensorInfo(c,ae.dtype,ae.values)}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function RW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<t?e=r+1:i=r;return i}function NW(n,t){let e=0,i=n.length,r=0;for(;e<i;)r=Math.floor((e+i)/2),n[r]<=t?e=r+1:i=r;return i}const LW={kernelName:Kt,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function FW(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,p=function PW(n,t,e,i,r,a){const c=Z("int32",e*r);for(let u=0;u<e;++u){const f=n.slice(u*i,(u+1)*i),p=u*r;for(let g=0;g<r;++g)c[p+g]="left"===a?RW(f,t[g+p]):NW(f,t[g+p])}return c}(e.data.get(r.dataId).values,e.data.get(a.dataId).values,r.shape[0],r.shape[1],a.shape[1],c);return e.makeTensorInfo(a.shape,"int32",p)}},BW={kernelName:cn,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $W(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t;Tr([i,r,a],"select");const c=i.shape.length,u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=Mn(r.dtype,a.dtype),v=Kn(Tt(r.shape),g);let T=0;const V=0===c||c>1||1===r.shape.length?1:Tt(r.shape.slice(1));for(let Y=0;Y<u.length;Y++)for(let ae=0;ae<V;ae++)v[T++]=1===u[Y]?f[Y]:p[Y];return e.makeTensorInfo(r.shape,g,v)}},VW=hm,UW=nv,zW=ga(tn,n=>n>=0?UW*n:VW*(Math.exp(n)-1)),jW={kernelName:tn,backendName:"cpu",kernelFunc:zW},WW=ga(Qn,n=>n<0?-1:n>0?1:0),HW={kernelName:Qn,backendName:"cpu",kernelFunc:WW},GW=ga(ln,n=>Math.sin(n)),KW={kernelName:ln,backendName:"cpu",kernelFunc:GW},XW=ga(Ln,n=>Math.sinh(n)),YW={kernelName:Ln,backendName:"cpu",kernelFunc:XW},fB=Math.log(1.1920928955078125e-7)+2,qW=ga(mi,n=>{const t=n>-fB,e=n<fB,i=Math.exp(n);let r;return r=e?i:t?n:Math.log(1+i),r}),QW={kernelName:mi,backendName:"cpu",kernelFunc:qW},JW={kernelName:Ji,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function ZW(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;Tr([r],"spaceToBatchND");const u=Tt(a),f=[[0,0]];f.push(...c);for(let Xt=1+a.length;Xt<r.shape.length;++Xt)f.push([0,0]);const p=nB.kernelFunc({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),g=sp(p.shape,a,u,!1),v=Gg(g.length,a.length,!1),T=Kg(p.shape,a,u,!1),ae=il({inputs:{x:p},backend:e,attrs:{shape:g}}),Te=fd({inputs:{x:ae},backend:e,attrs:{perm:v}}),St=il({inputs:{x:Te},backend:e,attrs:{shape:T}});return e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(Te),St}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function pB(n,t,e,i,r,a,c){const u=t[0],f=a[0],p=new Array(f),g=new Array(u),v=t[1];if(0===f){if(0!==u)throw new Error(Jg(u));return[Z(e,0),[0,v],Z(r,0),p,g]}let T=!0,V=0;const Y=new Array(f).fill(0);for(let te=0;te<u;++te){const _e=n[te*v];if(_e<0)throw new Error(Nw(te,_e));if(_e>=f)throw new Error(Pw(te,_e,f));++Y[_e],T=T&&_e>=V,V=_e}let ae=!0;for(let te=0;te<f;++te){const _e=0===Y[te];p[te]=_e,ae=ae&&!_e,Y[te]=Math.max(Y[te],1),te>0&&(Y[te]+=Y[te-1])}if(ae&&T){const te=n,_e=i;for(let Te=0;Te<u;++Te)g[Te]=Te;return[te,[u,v],_e,p,g]}{const te=Y[f-1],_e=Z(e,te*v),Te=Z(r,te),nt=new Array(f).fill(0);for(let it=0;it<u;++it){const St=n[it*v],sn=(0===St?0:Y[St-1])+nt[St];nt[St]++;for(let dn=0;dn<v;++dn)_e[sn*v+dn]=n[it*v+dn];Te[sn]=i[it],g[it]=sn}for(let it=0;it<f;++it)if(0===nt[it]){const Xt=0===it?0:Y[it-1];_e[Xt*v+0]=it;for(let sn=1;sn<v;++sn)_e[Xt*v+sn]=0;Te[Xt]=c}return[_e,[te,v],Te,p,g]}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const tH={kernelName:js,backendName:"cpu",kernelFunc:function eH(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n        ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.data.get(i.dataId).values,f=e.data.get(r.dataId).values,p=e.data.get(a.dataId).values,g=e.data.get(c.dataId).values[0],[v,T,V,Y,ae]=pB(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(T,i.dtype,v),e.makeTensorInfo([T[0]],r.dtype,V),e.makeTensorInfo([Y.length],"bool",new Uint8Array(Y.map(te=>Number(te)))),e.makeTensorInfo([ae.length],i.dtype,new Int32Array(ae))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function mB(n,t,e,i,r){const a=Tt(i),c=t[0],u=r.length,f=[];let p=1,g=-1;for(let te=0;te<u;++te){const _e=r[te];if(-1===_e){if(-1!==g)throw new Error(cD(g,te));g=te,f.push(1)}else{if(_e<0)throw new Error(pm(te,_e));p*=_e,f.push(_e)}}if(-1!==g){if(p<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const te=Math.trunc(a/p);if(p*te!==a)throw new Error(dD(i,f));f[g]=te}if(Tt(f)!==a)throw new Error(hD(i,f));const T=i.length,V=[];if(T>0){V[T-1]=1;for(let te=T-2;te>=0;--te)V[te]=V[te+1]*i[te+1]}const Y=[];if(u>0){Y[u-1]=1;for(let te=u-2;te>=0;--te)Y[te]=Y[te+1]*f[te+1]}const ae=Z(e,c*u);for(let te=0;te<c;++te){let _e=0;for(let Te=0;Te<T;++Te)_e+=n[te*T+Te]*V[Te];for(let Te=0;Te<u;++Te)ae[te*u+Te]=Math.trunc(_e/Y[Te]),_e%=Y[Te]}return[ae,[c,u],f]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iH={kernelName:Gr,backendName:"cpu",kernelFunc:function nH(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.data.get(r.dataId).values),u=e.data.get(i.dataId).values,f=Array.from(e.data.get(a.dataId).values),[p,g,v]=mB(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function gP(n,t,e,i,r,a=!1,c=0){const u=i.length,f=[t[0],n.length/t[0]],p=f[1],v=u>0?r[u-1]+1:0;if(v<0)throw new Error("segment ids must be >= 0");const T=t.slice();T[0]=v;const Y=Z(e,T.reduce((nt,it)=>nt*it,1));if(0===u)return v>0&&Y.fill(c),[Y,T];if(v<=0)throw new Error("segment ids must be >= 0");let ae=0,te=1,_e=0,Te=r[ae];for(;;){let nt=0;if(te<u){if(nt=r[te],Te===nt){++te;continue}if(Te>=nt)throw new Error("segment ids are not increasing")}if(Te<0||Te>=v)throw new Error(pD(Te,v));Te>_e&&Y.fill(c,_e*p,Te*p);for(let it=ae;it<te;++it){const St=i[it];if(St<0||St>=f[0])throw new Error(mD(it,i[it],f[0]));for(let Xt=0;Xt<p;Xt++)Y[Te*p+Xt]+=n[St*p+Xt]}if(a)for(let it=0;it<p;it++)Y[Te*p+it]/=te-ae;if(ae=te,++te,_e=Te+1,Te=nt,te>u)break}return _e<v&&Y.fill(c,_e*p,v*p),[Y,T]
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const sH={kernelName:ns,backendName:"cpu",kernelFunc:function rH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=gP(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},aH={kernelName:Zl,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function oH(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const c=e.data.get(i.dataId).values,u=e.data.get(r.dataId).values,f=e.data.get(a.dataId).values,[p,g]=gP(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},cH={kernelName:Ro,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function lH(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:v,outputSize:T}=ep(0,r,u),V=!1,Y=e.bufferSync(r);let ae;switch(a.dtype){case"bool":ae=F_(Y,e.bufferSync(a),u,T,g,p,f,v,!!e.data.get(c.dataId).values[0],V);break;case"float32":case"int32":ae=F_(Y,e.bufferSync(a),u,T,g,p,f,v,e.data.get(c.dataId).values[0],V);break;case"string":ae=F_(Y,e.bufferSync(a),u,T,g,p,f,v,zc(e.data.get(c.dataId).values[0]),V);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return e.makeTensorInfo(u,ae.dtype,ae.values)}},dH={kernelName:$r,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wt(c,r.shape)[0],f=lD(r,a,u),p=new Array(r.shape.length).fill(0),g=r.shape.slice();return f.map(v=>{const T=[...g];T[u]=v;const V=P_({inputs:{x:r},backend:e,attrs:{begin:p,size:T}});return p[u]+=v,V})}},hH=Cf(n=>Math.sqrt(n)),fH=ga(ti,n=>Math.sqrt(n)),pH={kernelName:ti,backendName:"cpu",kernelFunc:fH},mH={kernelName:Js,backendName:"cpu",kernelFunc:({inputs:n,backend:t})=>{const{x:e}=n,i=t;Tr(e,"square");const r=i.data.get(e.dataId).values,a=new Float32Array(r.length);for(let u=0;u<r.length;++u){const f=r[u];a[u]=f*f}return{dataId:i.write(a,e.shape,e.dtype),shape:e.shape,dtype:e.dtype}}},gH=dc((n,t)=>{const e=n-t;return e*e}),_H=Uc(Jo,gH),yH={kernelName:Jo,backendName:"cpu",kernelFunc:_H},gB=Cf((n,t)=>{const{pattern:e,replaceGlobal:i,rewrite:r}=t;return n.replace(new RegExp(e,i?"g":""),r)}),vH=$m(El,gB),bH={kernelName:El,backendName:"cpu",kernelFunc:vH},wH=ga(Mc,(n,t)=>{const e=t;return isNaN(n)?NaN:n>0?1:e.alpha}),EH={kernelName:Mc,backendName:"cpu",kernelFunc:wH};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _B(n,t,e,i){const r=fs(n,t.dtype);for(let a=0;a<r.size;a++){const c=r.indexToLoc(a),u=new Array(c.length);for(let f=0;f<u.length;f++)u[f]=c[f]*e[f]+i[f];r.set(t.get(...u),...c)}return r}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const CH={kernelName:ua,backendName:"cpu",kernelFunc:function xH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:v,shrinkAxisMask:T}=i;Tr(r,"stridedSlice");const{finalShapeSparse:V,finalShape:Y,isIdentity:ae,sliceDim0:te,isSimpleSlice:_e,begin:Te,end:nt,strides:it}=a0(r.shape,a,c,u,f,p,g,v,T);let St;if(ae)St=il({inputs:{x:r},backend:e,attrs:{shape:Y}});else if(te||_e){Ce(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const Xt=n0(Te,nt,it),sn=P_({inputs:{x:r},backend:e,attrs:{begin:Te,size:Xt}});St=il({inputs:{x:sn},backend:e,attrs:{shape:Y}}),e.disposeIntermediateTensorInfo(sn)}else{const sn=_B(V,e.bufferSync(r),it,Te);St=e.makeTensorInfo(Y,sn.dtype,sn.values)}return St}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SH{constructor(t,e,i,r,a,c){this.separator=tc(t),this.nGramWidths=e,this.leftPad=tc(i),this.rightPad=tc(r),this.padWidth=a,this.preserveShort=c}getPadWidth(t){return Math.min(this.padWidth<0?t-1:this.padWidth,t-1)}getNumNGrams(t,e){const i=this.getPadWidth(e);return Math.max(0,t+2*i-e+1)}createNGrams(t,e,i,r,a,c){for(let u=0;u<a;++u){const f=this.getPadWidth(c),p=Math.max(0,f-u),g=Math.max(0,f-(a-(u+1))),v=c-(p+g),T=e+(p>0?0:u-f);let V=0;V+=p*this.leftPad.length;for(let Te=0;Te<v;++Te)V+=t[T+Te].length;V+=g*this.rightPad.length,V+=(p+g+v-1)*this.separator.length,i[r+u]=new Uint8Array(V);const ae=i[r+u];let te=0;const _e=Te=>Te.forEach(nt=>ae[te++]=nt);for(let Te=0;Te<p;++Te)_e(this.leftPad),_e(this.separator);for(let Te=0;Te<v-1;++Te)_e(t[T+Te]),_e(this.separator);if(v>0){_e(t[T+v-1]);for(let Te=0;Te<g;++Te)_e(this.separator),_e(this.rightPad)}else{for(let Te=0;Te<g-1;++Te)_e(this.rightPad),_e(this.separator);_e(this.rightPad)}}}compute(t,e){const i=t.length,r=e.length;if(r>0){let f=e[0];if(0!==f)throw new Error(`First split value must be 0, got ${f}`);for(let p=1;p<r;++p){let g=e[p]>=f;if(g=g&&e[p]<=i,!g)throw new Error(`Invalid split value ${e[p]}, must be in [${f}, ${i}]`);f=e[p]}if(f!==i)throw new Error(`Last split value must be data size. Expected ${i}, got ${f}`)}const a=r-1,c=Z("int32",r);if(0===i||0===r){const f=new Array(i);for(let p=0;p<=a;++p)c[p]=0;return[f,c]}c[0]=0;for(let f=1;f<=a;++f){const p=e[f]-e[f-1];let g=0;this.nGramWidths.forEach(v=>{g+=this.getNumNGrams(p,v)}),this.preserveShort&&p>0&&0===g&&(g=1),c[f]=c[f-1]+g}const u=new Array(c[a]);for(let f=0;f<a;++f){const p=e[f];let g=c[f];if(this.nGramWidths.forEach(v=>{const V=this.getNumNGrams(e[f+1]-e[f],v);this.createNGrams(t,p,u,g,V,v),g+=V}),this.preserveShort&&g===c[f]){const v=e[f+1]-e[f];if(0===v)continue;this.createNGrams(t,p,u,g,1,v+2*this.padWidth)}}return[u,c]}}function yB(n,t,e,i,r,a,c,u){return new SH(e,i,r,a,c,u).compute(n,t)}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const TH={kernelName:_r,backendName:"cpu",kernelFunc:function DH(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:v}=t,T=e.data.get(g.dataId).values,V=e.data.get(v.dataId).values,[Y,ae]=yB(T,V,r,a,c,u,f,p);return[e.makeTensorInfo([Y.length],"string",Y),e.makeTensorInfo(v.shape,"int32",ae)]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function kH(n,t,e,i){if(!n.length)return;if(0===t.length){for(let a=0;a<n.length;++a)i.push(n.subarray(a,a+1));return}if(1===t.length){const a=t[0];let c=n.indexOf(a);for(;-1!==c;){const u=n.subarray(0,c);(!e||0!==u.length)&&i.push(u),c=(n=n.subarray(c+1)).indexOf(a)}return void((!e||0!==n.length)&&i.push(n))}let r=0;for(let a=0;a<n.length+1;a++)if(a===n.length||-1!==t.indexOf(n[a])){const c=n.subarray(r,a);(!e||0!==c.length)&&i.push(c),r=a+1}}function vB(n,t,e){const i=n.length,r=[];let a=0,c=0;const u=new Array(i);for(let T=0;T<i;++T){const V=r.length;kH(n[T],t,e,r);const Y=r.length-V;u[T]=Y,a+=Y,c=Math.max(c,Y)}const f=Z("int32",2*a),p=new Array(a),g=[i,c];let v=0;for(let T=0;T<i;++T)for(let V=0;V<u[T];++V)f[2*v]=T,f[2*v+1]=V,p[v]=r[v],++v;return[f,p,g]}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const AH={kernelName:as,backendName:"cpu",kernelFunc:function IH(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.data.get(a.dataId).values,f=e.data.get(c.dataId).values[0],[p,g,v]=vB(u,f,r),T=g.length;return[e.makeTensorInfo([T,2],"int32",p),e.makeTensorInfo([T],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(v))]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function bB(n,t){const e=Z("int32",n.length);for(let i=0;i<n.length;++i)e[i]=tu(n[i]).modulo(t).getLowBitsUnsigned();return e}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const OH={kernelName:Ps,backendName:"cpu",kernelFunc:function MH(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const u=bB(e.data.get(a.dataId).values,r);return e.makeTensorInfo(a.shape,"int32",u)}},RH=ga(yu,n=>Math.tan(n)),NH={kernelName:yu,backendName:"cpu",kernelFunc:RH},PH=ga(hs,n=>Math.tanh(n));
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function wB(n,t){const e=new Array(n.rank);for(let r=0;r<e.length;r++)e[r]=n.shape[r]*t[r];const i=fs(e,n.dtype);for(let r=0;r<i.values.length;++r){const a=i.indexToLoc(r),c=new Array(n.rank);for(let f=0;f<c.length;f++)c[f]=a[f]%n.shape[f];const u=n.locToIndex(c);i.values[r]=n.values[u]}return i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Rx=(n,t)=>{const e=t.value-n.value;return 0===e?n.index-t.index:e};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function EB(n,t,e=0,i=n.length-1){for(;i>e;){if(i-e>600){const u=i-e+1,f=t-e+1,p=Math.log(u),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(u-g)/u)*Math.sign(f-u/2);EB(n,t,Math.max(e,Math.floor(t-f*g/u+v)),Math.min(i,Math.floor(t+(u-f)*g/u+v)))}const r=n[t];let a=e,c=i;for(Ne(n,e,t),Rx(n[i],r)>0&&Ne(n,e,i);a<c;){for(Ne(n,a,c),a++,c--;Rx(n[a],r)<0;)a+=1;for(;Rx(n[c],r)>0;)c-=1}0===Rx(n[e],r)?Ne(n,e,c):(c+=1,Ne(n,c,i)),c<=t&&(e=c+1),t<=c&&(i=c-1)}}function xB(n,t,e,i,r){const a=t[t.length-1],[c,u]=[n.length/a,a],f=dt(e,c*i),p=dt("int32",c*i);for(let v=0;v<c;v++){const T=v*u,V=n.subarray(T,T+u);let Y=new Array(V.length);V.forEach((Te,nt)=>Y[nt]={value:Te,index:nt}),i<Y.length&&(EB(Y,i),Y=Y.slice(0,i)),r&&Y.sort(Rx);const ae=v*i,te=f.subarray(ae,ae+i),_e=p.subarray(ae,ae+i);for(let Te=0;Te<i;Te++)te[Te]=Y[Te].value,_e[Te]=Y[Te].index}const g=t.slice();return g[g.length-1]=i,[fs(g,e,f),fs(g,"int32",p)]
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function CB(n,t,e){switch(e){case"reflect":return function HH(n,t){let e=n;if(e<0)if(t<=1)e=0;else{const i=2*t;e<i&&(e=i*Math.trunc(-e/i)+e),e=e<-t?e+i:-e-1}else if(e>t-1)if(t<=1)e=0;else{const i=2*t;e-=i*Math.trunc(e/i),e>=t&&(e=i-e-1)}return ge(0,e,t-1)}(n,t);case"wrap":return function GH(n,t){let e=n;return e<0?t<=1?e=0:e+=t*(Math.trunc(-e/(t-1))+1):e>t-1&&(t<=1?e=0:e-=t*Math.trunc(e/(t-1))),ge(0,e,t-1)}(n,t);case"nearest":return function XH(n,t){return ge(0,n,t-1)}(n,t);default:return function KH(n,t){return n}(n)}}function Nx(n,t,e,i,r,a,c,u,f,p,g){return 0<=u&&u<t&&0<=f&&f<e?n[c*i+u*r+f*a+p]:g}function YH(n,t,e,i,r,a,c,u,f,p,g){return Nx(n,t,e,i,r,a,c,Math.round(u),Math.round(f),p,g)}function qH(n,t,e,i,r,a,c,u,f,p,g){const v=Math.floor(u),T=Math.floor(f),V=v+1,Y=T+1;return(V-u)*((Y-f)*Nx(n,t,e,i,r,a,c,v,T,p,g)+(f-T)*Nx(n,t,e,i,r,a,c,v,Y,p,g))+(u-v)*((Y-f)*Nx(n,t,e,i,r,a,c,V,T,p,g)+(f-T)*Nx(n,t,e,i,r,a,c,V,Y,p,g))}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function SB(n,t,e,i){const r=wt(t,e)[0],a=[1,e[0],1];for(let Y=0;Y<r;Y++)a[0]*=e[Y];a[1]=e[r];for(let Y=r+1;Y<e.length;Y++)a[2]*=e[Y];const c=new Map,u=new Int32Array(e[r]),f=new So(a,i,n),p=[],g=1===a[0]&&1===a[2];for(let Y=0;Y<e[r];Y++){let ae;if(g)ae=n[Y].toString();else{const _e=[];for(let Te=0;Te<a[0];Te++)for(let nt=0;nt<a[2];nt++)_e.push(f.get(Te,Y,nt));ae=_e.join(",")}const te=c.get(ae);if(null!=te)u[Y]=te;else{const _e=c.size;c.set(ae,_e),u[Y]=_e,p.push(Y)}}const v=a.slice();v[1]=c.size;const T=new So(v,i);p.forEach((Y,ae)=>{for(let te=0;te<a[0];te++)for(let _e=0;_e<a[2];_e++)T.set(f.get(te,Y,_e),te,ae,_e)});const V=e.slice();return V[r]=v[1],{outputValues:T.values,outputShape:V,indices:u}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const iG=[XU,YU,QU,JU,WU,t3,r3,o3,l3,u3,h3,p3,g3,v3,w3,C3,D3,k3,A3,GU,O3,P3,L3,B3,U3,zU,j3,H3,VU,G3,X3,Y3,Q3,J3,tz,iz,sz,az,cz,dz,fz,mz,_z,vz,bz,Ez,Cz,Dz,Tz,kz,Iz,Mz,Fz,MU,$z,Bz,Kz,Xz,Yz,Qz,o4,a4,c4,d4,p4,g4,y4,b4,E4,C4,D4,OU,k4,K3,A4,O4,N4,RU,F4,$4,V4,z4,W4,K4,Y4,Z4,ej,nj,ij,sj,aj,cj,dj,fj,mj,_j,vj,wj,xj,Dj,Ij,Rz,Mj,Nj,Lj,Vj,zj,Wj,Gj,Kj,nB,Qj,PU,Jj,aW,cW,dW,fW,UU,hP,mW,FU,LU,HU,_W,vW,wW,xW,SW,DW,kW,AW,OW,LW,BW,jW,BU,HW,KW,YW,R3,Tj,QW,JW,tH,iH,sH,aH,cH,dH,pH,mH,yH,bH,EH,CH,TH,AH,OH,e4,Nz,NH,{kernelName:hs,backendName:"cpu",kernelFunc:PH},{kernelName:Et,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LH(n){const{inputs:t,backend:e}=n,{tensor:i,indices:r,updates:a}=t,{sliceRank:c,numUpdates:u,sliceSize:f,strides:p,outputSize:g}=ep(0,r,i.shape),T=e.bufferSync(r),V=e.bufferSync(a),Y=e.bufferSync(i),ae=F_(T,V,i.shape,g,f,u,c,p,Y,!1);return e.makeTensorInfo(i.shape,ae.dtype,ae.values)}},{kernelName:ja,backendName:"cpu",kernelFunc:function BH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;Tr(r,"tile");const c=wB(e.bufferSync(r),a);return e.makeTensorInfo(c.shape,c.dtype,c.values)}},{kernelName:vu,backendName:"cpu",kernelFunc:function UH(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i;Tr(r,"topk");const u=e.data.get(r.dataId).values,[f,p]=xB(u,r.shape,r.dtype,a,c);return[e.makeTensorInfo(f.shape,f.dtype,f.values),e.makeTensorInfo(p.shape,p.dtype,p.values)]}},{kernelName:ms,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jH(n){const{inputs:t,attrs:e,backend:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=e,[g,v,T,V]=r.shape,[Y,ae]=p??[v,T],te=[g,Y,ae,V],_e=$t(r.shape),Te=_e[0],nt=_e[1],it=_e[2],St=$t(te),Xt=St[0],sn=St[1],dn=St[2],wn=dt(r.dtype,Tt(te));wn.fill(f);const Cn=i.data.get(r.dataId).values,Vn=i.data.get(a.dataId).values;for(let ii=0;ii<g;++ii){const ri=1===a.shape[0]?Vn:Vn.subarray(8*ii,8*ii+8);for(let oi=0;oi<Y;++oi)for(let hi=0;hi<ae;++hi)for(let _i=0;_i<V;++_i){let ai;const vi=ri[6]*hi+ri[7]*oi+1;if(0===vi)continue;const $i=(ri[3]*hi+ri[4]*oi+ri[5])/vi,qi=CB((ri[0]*hi+ri[1]*oi+ri[2])/vi,T,u),ji=CB($i,v,u);switch(c){case"nearest":ai=YH(Cn,v,T,Te,nt,it,ii,ji,qi,_i,f);break;case"bilinear":ai=qH(Cn,v,T,Te,nt,it,ii,ji,qi,_i,f);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${c}`)}wn[ii*Xt+oi*sn+hi*dn+_i]=ai}return i.makeTensorInfo(te,r.dtype,wn)}return{dataId:i.write(wn,te,r.dtype),shape:r.shape,dtype:r.dtype}}},n3,{kernelName:Ko,backendName:"cpu",kernelFunc:function QH(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;Tr(a,"unique");const c=i.data.get(a.dataId).values,{outputValues:u,outputShape:f,indices:p}=SB(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},{kernelName:ho,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function JH(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r.shape.length,u=r.shape[a],f=new Array(c-1);let p=0;for(let V=0;V<c;V++)V!==a&&(f[p++]=r.shape[V]);const g=new Array(c).fill(0),v=r.shape.slice();v[a]=1;const T=new Array(u);for(let V=0;V<T.length;V++){g[a]=V;const Y=P_({inputs:{x:r},backend:e,attrs:{begin:g,size:v}});T[V]=il({inputs:{x:Y},backend:e,attrs:{shape:f}}),e.disposeIntermediateTensorInfo(Y)}return T}},{kernelName:da,backendName:"cpu",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tG(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i;Tr(r,"unsortedSegmentSum");const p=[],g=[],v=r.shape.length-a.shape.length;let T=a;for(let Y=0;Y<v;++Y){const ae=fk({inputs:{input:T},backend:e,attrs:{dim:Y+1}});T=ae,g.push(ae)}for(let Y=0;Y<c;++Y){const ae=nu(Y,"int32"),te=e.makeTensorInfo([],"int32",ae),_e=O$({inputs:{a:te,b:T},backend:e}),Te=Bm({inputs:{x:_e},backend:e,attrs:{dtype:"float32"}}),nt=hk({inputs:{a:Te,b:r},backend:e}),it=Ox({inputs:{x:nt},backend:e,attrs:{axis:0,keepDims:!1}});p.push(it),g.push(te),g.push(_e),g.push(Te),g.push(nt),g.push(it)}const V=tB({inputs:p,backend:e,attrs:{axis:0}});return g.forEach(Y=>e.disposeIntermediateTensorInfo(Y)),V}},Hj];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of iG)Si(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Vm={},gk={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Gh(n,t){if(!(n in Vm)||null!=t){const i=function oG(n,t){if(1!==n&&2!==n)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const e=t??function sG(n){if(!De().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&2===n)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return e.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete Vm[n]},!1),De().getBool("SOFTWARE_WEBGL_ENABLED")&&(gk.failIfMajorPerformanceCaveat=!1),1===n?e.getContext("webgl",gk)||e.getContext("experimental-webgl",gk):e.getContext("webgl2",gk)
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(n,t);if(null===i)return console.log("Could not get context for WebGL version",n),null;Vm[n]=i}const e=Vm[n];return null==e||e.isContextLost()?(delete Vm[n],Gh(n)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Vm[n])}var _k=function(n){return n[n.DENSE=0]="DENSE",n[n.SHARED_BATCH=1]="SHARED_BATCH",n}(_k||{}),_h=function(n){return n[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD",n}(_h||{}),Iu=function(n){return n[n.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",n[n.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",n[n.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",n[n.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",n[n.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16",n}(Iu||{});function Px(n,t){return[t,n]}function yk(n){const t=Tt(n);return It(Math.ceil(t/4))}function kb(n,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(n/2))]}function _P(n,t){const e=n;let i,r,a,c,u,f,p,g,v,T;return 2===De().getNumber("WEBGL_VERSION")?(i=e.R32F,r=e.R16F,a=e.RGBA16F,c=e.RGBA32F,u=e.RED,p=4,g=1,v=e.HALF_FLOAT,T=e.FLOAT,f=e.RGBA8):(i=n.RGBA,r=n.RGBA,a=n.RGBA,c=e.RGBA,u=n.RGBA,p=4,g=4,v=null!=t?t.HALF_FLOAT_OES:null,T=n.FLOAT,f=n.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:c,textureFormatFloat:u,downloadTextureFormat:f,downloadUnpackNumChannels:p,defaultNumChannels:g,textureTypeHalfFloat:v,textureTypeFloat:T}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function er(n,t){const e=t();return De().getBool("DEBUG")&&function cG(n){const t=n.getError();if(t!==n.NO_ERROR)throw new Error("WebGL Error: "+function fG(n,t){switch(t){case n.NO_ERROR:return"NO_ERROR";case n.INVALID_ENUM:return"INVALID_ENUM";case n.INVALID_VALUE:return"INVALID_VALUE";case n.INVALID_OPERATION:return"INVALID_OPERATION";case n.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case n.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case n.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(n,t))}(n),e}function hG(n){return!!(De().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===n||5.96e-8<Math.abs(n)&&Math.abs(n)<65504)}function vk(n,t){return vp(n,()=>n.getExtension(t),'Extension "'+t+'" not supported on this browser.')}const gG=/ERROR: [0-9]+:([0-9]+):/g;function DB(n,t){const e=gG.exec(t);if(null==e)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(n);const i=+e[1],r=n.split("\n"),a=r.length.toString().length+2,c=r.map((v,T)=>ot((T+1).toString(),a)+v);let u=0;for(let v=0;v<c.length;v++)u=Math.max(c[v].length,u);const f=c.slice(0,i-1),p=c.slice(i-1,i),g=c.slice(i);console.log(f.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${ot(p[0],u)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(g.join("\n"))}function yP(n,t){if(er(n,()=>n.validateProgram(t)),!1===n.getProgramParameter(t,n.VALIDATE_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function TB(n,t,e,i,r,a,c){const u=n.getAttribLocation(t,e);return-1!==u&&(er(n,()=>n.bindBuffer(n.ARRAY_BUFFER,i)),er(n,()=>n.vertexAttribPointer(u,r,n.FLOAT,!1,a,c)),er(n,()=>n.enableVertexAttribArray(u)),!0)}function TG(n,t,e,i){er(n,()=>function CG(n,t,e){(function IB(n,t){const e=n.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=t+n.TEXTURE0;if(i<n.TEXTURE0||i>e)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${e}].`)})(n,e),er(n,()=>n.activeTexture(n.TEXTURE0+e)),er(n,()=>n.bindTexture(n.TEXTURE_2D,t))}(n,t,i)),er(n,()=>n.uniform1i(e,i))}function vP(n,t,e){er(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,e)),er(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0))}function kB(n,t){er(n,()=>n.bindFramebuffer(n.FRAMEBUFFER,t)),er(n,()=>n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,null,0))}function bk(n){const t=n.checkFramebufferStatus(n.FRAMEBUFFER);if(t!==n.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function kG(n,t){switch(t){case n.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case n.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case n.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(n,t))}function vp(n,t,e){const i=er(n,()=>t());if(null==i)throw new Error(e);return i}function Ib(n,t=2){return Tt(n.slice(0,n.length-t))}function Ab(n){if(0===n.length)throw Error("Cannot get rows and columns of an empty shape array.");return[n.length>1?n[n.length-2]:1,n[n.length-1]]}function wk(n){let t=[1,1,1];return 0===n.length||1===n.length&&1===n[0]||(t=[Ib(n),...Ab(n)]),t}function Ek(n){return n%2==0}function xk(n,t){if(Oe(n=n.slice(-2),t=t.slice(-2))||!n.length||!t.length||0===n[0]||0===n[1]||0===t[0]||0===t[1])return!0;if(n.length!==t.length){const e=n[n.length-1],i=t[t.length-1];if(e===i||Ek(e)&&Ek(i)&&(1===n[0]||1===t[0]))return!0}return n[1]===t[1]&&Ek(n[0])&&Ek(t[0])}let Ck,Sk;function yh(n,t){return null!=n.getExtension(t)}function AB(n){try{if(null!=Gh(n))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function bP(n){const t=_P(n),e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,a),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const c=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(e),n.deleteFramebuffer(a),c}function Fx(n,t){Array.isArray(n)||(n=[n]),n.forEach(e=>{null!=e&&Ce("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const Ar=De();
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Uu(){let n,t,e,i,r,a,c,u,f,p;return 2===De().getNumber("WEBGL_VERSION")?(n="#version 300 es",t="in",e="out",i="in",r="texture",a="outputColor",c="out vec4 outputColor;",u=De().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",f="",p="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(n="",t="attribute",e="varying",i="varying",r="texture2D",a="gl_FragColor",c="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",f="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",p="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:n,attribute:t,varyingVs:e,varyingFs:i,texture2D:r,output:a,defineOutput:c,defineSpecialNaN:u,defineSpecialInf:f,defineRound:p}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}function L_(n,t,e="index"){const i=$t(t);return i.map((r,a)=>`int ${n[a]} = ${e} / ${r}; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * ${r}`:`index -= ${n[a]} * ${r}`};`).join("")}function Dk(n,t,e="index"){const i=$t(t);return i.map((r,a)=>`int ${n[a]} = ${e} / outShapeStrides[${a}]; ${a===i.length-1?`int ${n[a+1]} = ${e} - ${n[a]} * outShapeStrides[${a}]`:`index -= ${n[a]} * outShapeStrides[${a}]`};`).join("")}function wP(n){const t=$t(n).map(e=>e.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}Ar.registerFlag("HAS_WEBGL",()=>Ar.getNumber("WEBGL_VERSION")>0),Ar.registerFlag("WEBGL_VERSION",()=>AB(2)?2:AB(1)?1:0),Ar.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),Ar.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===Ar.get("WEBGL_VERSION")),Ar.registerFlag("WEBGL_CPU_FORWARD",()=>!0),Ar.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),Ar.registerFlag("WEBGL_PACK",()=>Ar.getBool("HAS_WEBGL")),Ar.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_CLIP",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_REDUCE",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_CONV_IM2COL",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>Ar.getBool("WEBGL_PACK")),Ar.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>function AG(n){if(null==Ck){const t=Gh(n);Ck=t.getParameter(t.MAX_TEXTURE_SIZE)}return Ck}(Ar.getNumber("WEBGL_VERSION"))),Ar.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>function MG(n){if(null==Sk){const t=Gh(n);Sk=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Sk)}(Ar.getNumber("WEBGL_VERSION"))),Ar.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const n=Ar.getNumber("WEBGL_VERSION");return 0===n?0:function OG(n){if(0===n)return 0;let t;const e=Gh(n);return t=yh(e,"EXT_disjoint_timer_query_webgl2")&&2===n?2:yh(e,"EXT_disjoint_timer_query")?1:0,t}(n)}),Ar.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ar.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!fi()),Ar.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>function RG(n){if(0===n)return!1;const t=Gh(n);if(1===n){if(!yh(t,"OES_texture_float"))return!1}else if(!yh(t,"EXT_color_buffer_float"))return!1;return bP(t)}(Ar.getNumber("WEBGL_VERSION"))),Ar.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!Ar.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ar.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),Ar.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>function NG(n){if(0===n)return!1;const t=Gh(n);if(1!==n){if(yh(t,"EXT_color_buffer_float"))return bP(t);const i="EXT_color_buffer_half_float";if(yh(t,i)){const r=t.getExtension(i);return function PG(n,t){const e=_P(n,t),i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,e.internalFormatHalfFloat,1,1,0,e.textureFormatFloat,e.textureTypeHalfFloat,null);const c=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,c),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0);const u=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(i),n.deleteFramebuffer(c),u}(t,r)}return!1}return!(!yh(t,"OES_texture_float")||!yh(t,"WEBGL_color_buffer_float"))&&bP(t)}(Ar.getNumber("WEBGL_VERSION"))),Ar.registerFlag("WEBGL_FENCE_API_ENABLED",()=>function FG(n){return 2===n&&null!=Gh(n).fenceSync}(Ar.getNumber("WEBGL_VERSION"))),Ar.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ar.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0),Ar.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${n}.`)}),Ar.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>fi()?1:-1,n=>{if("number"!=typeof n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${n}.`);if(n<0&&-1!==n)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${n}.`)}),Ar.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),Ar.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),Ar.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),Ar.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),Ar.registerFlag("WEBGL_EXP_CONV",()=>!1),Ar.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ar.getBool("IS_TEST")),Ar.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),Ar.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),Ar.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),Ar.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);const MB="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:OB}=S;
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function BG(n,t,e){const i=[];if(n.forEach(V=>{const Y=Tt(V.shapeInfo.logicalShape);if(V.shapeInfo.isUniform?i.push(`uniform float ${V.name}${Y>1?`[${Y}]`:""};`):(i.push(`uniform sampler2D ${V.name};`),i.push(`uniform int offset${V.name};`)),e.enableShapeUniforms){const{uniformShape:ae}=xP(e.packedInputs,V.shapeInfo.logicalShape,V.shapeInfo.texShape);switch(ae.length){case 1:i.push(`uniform int ${V.name}Shape;`);break;case 2:i.push(`uniform ivec2 ${V.name}Shape;`);break;case 3:i.push(`uniform ivec3 ${V.name}Shape;`);break;case 4:i.push(`uniform ivec4 ${V.name}Shape;`)}i.push(`uniform ivec2 ${V.name}TexShape;`)}}),e.enableShapeUniforms){switch(t.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;")}i.push("uniform ivec2 outTexShape;")}e.customUniforms&&e.customUniforms.forEach(V=>{i.push(`uniform ${V.type} ${V.name}${V.arrayIndex?`[${V.arrayIndex}]`:""};`)});const r=i.join("\n"),a=n.map(V=>function VG(n,t,e=!1,i){let r="";r+=e?RB(n,i):Mb(n,i);return n.shapeInfo.logicalShape.length<=t.logicalShape.length&&(r+=e?function v5(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",a=n.shapeInfo.logicalShape.length,c=t.logicalShape.length,u=OB(n.shapeInfo.logicalShape,t.logicalShape),f=Na(c),p=c-a;let g;const v=["x","y","z","w","u","v"];g=0===a?"":c<2&&u.length>=1?"coords = 0;":u.map(Te=>`coords.${v[Te+p]} = 0;`).join("\n");let T="";T=c<2&&a>0?"coords":n.shapeInfo.logicalShape.map((Te,nt)=>`coords.${v[nt+p]}`).join(", ");let V="return outputValue;";const ae=1===Tt(n.shapeInfo.logicalShape),_e=1===Tt(t.logicalShape);if(1!==a||ae||_e){if(ae&&!_e)V=1===c?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){const Te=a-2,nt=a-1;u.indexOf(Te)>-1&&u.indexOf(nt)>-1?V="return vec4(outputValue.x);":u.indexOf(Te)>-1?V="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(nt)>-1&&(V="return vec4(outputValue.xx, outputValue.zz);")}}else V="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${f} coords = getOutputCoords();\n      ${g}\n      vec4 outputValue = get${i}(${T});\n      ${V}\n    }\n  `}(n,t):function b5(n,t){const e=n.name,i=e.charAt(0).toUpperCase()+e.slice(1),r="get"+i+"AtOutCoords",u=n.shapeInfo.logicalShape.length,f=t.logicalShape.length;if(!n.shapeInfo.isUniform&&u===f&&null==n.shapeInfo.flatOffset&&Oe(n.shapeInfo.texShape,t.texShape))return`\n      float ${r}() {\n        return sampleTexture(${e}, resultUV);\n      }\n    `;const p=Na(f),g=OB(n.shapeInfo.logicalShape,t.logicalShape),v=f-u;let T;const V=["x","y","z","w","u","v"];T=0===u?"":f<2&&g.length>=1?"coords = 0;":g.map(ae=>`coords.${V[ae+v]} = 0;`).join("\n");let Y="";return Y=f<2&&u>0?"coords":n.shapeInfo.logicalShape.map((ae,te)=>`coords.${V[te+v]}`).join(", "),`\n    float ${r}() {\n      ${p} coords = getOutputCoords();\n      ${T}\n      return get${i}(${Y});\n    }\n  `}(n,t)),r}(V,t,e.packedInputs,e.enableShapeUniforms)).join("\n"),c=t.texShape,u=Uu(),f=function jG(n){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${n.texture2D}(textureSampler, uv).r;\n    }\n  `}(u);let p,g,v=function GG(n){return`${n.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${n.varyingFs} vec2 resultUV;\n    ${n.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${n.defineSpecialNaN}\n    ${n.defineSpecialInf}\n    ${n.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${KG}\n    ${XG}\n    ${YG}\n  `}(u);return t.isPacked?(p=function UG(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function QG(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===i[0]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${i[1]}.0);\n      }\n    `:1===i[1]?e?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${i[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      return 2 * (resTexRC.x * ${i[1]} + resTexRC.y);\n    }\n  `}(0,t,e);case 2:return function s5(n,t,e){const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Oe(n,t))return e?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${i[0]}, ${i[1]}));\n      }\n    `;const r=Math.ceil(n[1]/2);return e?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function JG(n,t,e){if(e)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[2]/2),a=r*Math.ceil(n[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(n,t,e);default:return function t5(n,t,e){if(e)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const i=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(n[n.length-1]/2),a=r*Math.ceil(n[n.length-2]/2);let c=a,u="",f="b, r, c";for(let p=2;p<n.length-1;p++)c*=n[n.length-p-1],u=`\n      int b${p} = index / ${c};\n      index -= b${p} * ${c};\n    `+u,f=`b${p}, `+f;return`\n    ivec${n.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${i[0]}, ${i[1]}));\n      int index = resTexRC.x * ${i[1]} + resTexRC.y;\n\n      ${u}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${n.length}(${f});\n    }\n  `}(n,t,e)}}(t.logicalShape,c,e.enableShapeUniforms),g=function HG(n){return`\n    void setOutput(vec4 val) {\n      ${n.output} = val;\n    }\n  `}(u)):(p=function zG(n,t,e){switch(n.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function ZG(n,t,e){return 1===t[0]?e?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?e?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:e?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,e);case 2:return function o5(n,t,e){return Oe(n,t)?e?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===n[1]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===n[0]?e?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:e?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${n[1]};\n      int c = index - r * ${n[1]};\n      return ivec2(r, c);\n    }\n  `}(n,t,e);case 3:return function e5(n,t,e){if(e)return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${Dk(["r","c","d"],n)}\n    return ivec3(r, c, d);\n  }\n`;const i=L_(["r","c","d"],n);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec3(r, c, d);\n    }\n  `}(n,t,e);case 4:return function n5(n,t,e){if(e)return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${Dk(["r","c","d","d2"],n)}\n      return ivec4(r, c, d, d2);\n    }\n  `;const i=L_(["r","c","d","d2"],n);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${i}\n      return ivec4(r, c, d, d2);\n    }\n  `}(n,t,e);case 5:return function i5(n,t){const e=L_(["r","c","d","d2","d3"],n);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(n,t);case 6:return function r5(n,t){const e=L_(["r","c","d","d2","d3","d4"],n);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${e}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(n,t);default:throw new Error(`${n.length}-D output sampling is not yet supported`)}}(t.logicalShape,c,e.enableShapeUniforms),g=function WG(n){return`\n    void setOutput(float val) {\n      ${n.output} = vec4(val, 0, 0, 0);\n    }\n  `}(u)),e.packedInputs&&(v+=qG),[v,f,g,r,p,a,e.userCode].join("\n")}function Mb(n,t=!1){const e=n.shapeInfo.logicalShape;switch(e.length){case 0:return function l5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`float ${i}() {return ${e};}`;const[r,a]=n.shapeInfo.texShape;if(1===r&&1===a)return`\n      float ${i}() {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const c=$_(e);if(t)return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `;const[u,f]=n.shapeInfo.texShape;return`\n    float ${i}() {\n      vec2 uv = uvFromFlat(${u}, ${f}, ${c});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 1:return function u5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1);if(n.shapeInfo.isUniform)return`\n      float ${i}(int index) {\n        ${Ob(n)}\n      }\n    `;const r=n.shapeInfo.texShape,a=r[0],c=r[1];if(1===c&&1===a)return`\n      float ${i}(int index) {\n        return sampleTexture(${e}, halfCR);\n      }\n    `;const u=$_(e);return 1===c?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / float(${e}TexShape[0]));\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${u}) + 0.5) / ${a}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `:1===a?t?`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / float(${e}TexShape[1]), 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:`\n      float ${i}(int index) {\n        vec2 uv = vec2((float(index + ${u}) + 0.5) / ${c}.0, 0.5);\n        return sampleTexture(${e}, uv);\n      }\n    `:t?`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${e}TexShape[0], ${e}TexShape[1], index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `:`\n    float ${i}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${c}, index + ${u});\n      return sampleTexture(${e}, uv);\n    }\n  `}(n,t);case 2:return function h5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape;if(null!=a&&Oe(e,a))return t?`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${a[0]}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const{newShape:c,keptDims:u}=ut(e);if(c.length<e.length){const V=["row","col"];return`\n      ${Mb(Rb(n,c),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${Nb(V,u)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${e[1]}, 1)));\n        ${Ob(n)}\n      }\n    `;const p=a[0],g=a[1],v=$_(i);return 1===g?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${v}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${i}TexShape[0]));\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${v}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${p}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `:1===p?t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${v}), vec3(${i}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${i}TexShape[1]), 0.5);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${v}), vec3(${e[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${g}.0, 0.5);\n      return sampleTexture(${i}, uv);\n    }\n  `:t?`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i}Shape[1] + col + ${v};\n        vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${e[1]} + col + ${v};\n    vec2 uv = uvFromFlat(${p}, ${g}, index);\n    return sampleTexture(${i}, uv);\n  }\n`}(n,t);case 3:return function p5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[1]*e[2],c=e[2],{newShape:u,keptDims:f}=ut(e);if(u.length<e.length){const te=["row","col","depth"];return`\n        ${Mb(Rb(n,u),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${Nb(te,f)});\n        }\n      `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${c}, 1)));\n        ${Ob(n)}\n      }\n    `;const g=n.shapeInfo.texShape,v=g[0],T=g[1],V=n.shapeInfo.flatOffset;if(T===a&&null==V)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${i}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${c}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${T}.0, ${v}.0);\n          return sampleTexture(${i}, uv);\n        }\n      `;if(T===c&&null==V)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${i}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${e[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${T}.0, ${v}.0);\n      return sampleTexture(${i}, uv);\n    }\n  `;const Y=$_(i);return t?`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${i}Shape[1] * ${i}Shape[2];\n      int stride1 = ${i}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${Y};\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);\n      return sampleTexture(${i}, uv);\n    }\n    `:`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${c} + depth + ${Y};\n        vec2 uv = uvFromFlat(${v}, ${T}, index);\n        return sampleTexture(${i}, uv);\n      }\n  `}(n,t);case 4:return function g5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=e[3],c=e[2]*a,u=e[1]*c,{newShape:f,keptDims:p}=ut(e);if(f.length<e.length){const nt=["row","col","depth","depth2"];return`\n      ${Mb(Rb(n,f),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${Nb(nt,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${u}, ${c}, ${a}, 1)));\n        ${Ob(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,v=n.shapeInfo.texShape,T=v[0],V=v[1],Y=`int stride2 = ${i}Shape[3];`,ae=`int stride1 = ${i}Shape[2] * stride2;`,te=`int stride0 = ${i}Shape[1] * stride1;`;if(V===u&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${Y}\n        ${ae}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${c}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${V}.0, ${T}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;if(V===a&&null==g)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${i}Shape[1] * ${i}Shape[2], ${i}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${i}TexShape[1], ${i}TexShape[0]);\n        return sampleTexture(${i}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${e[1]*e[2]}, ${e[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${V}.0, ${T}.0);\n        return sampleTexture(${i}, uv);\n      }\n    `;const _e=$_(i);return t?`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${Y}\n      ${ae}\n      ${te}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index + ${_e});\n      return sampleTexture(${i}, uv);\n    }\n  `:`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${T}, ${V}, index + ${_e});\n      return sampleTexture(${i}, uv);\n    }\n  `}(n,t);case 5:return function _5(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t[4],a=t[3]*r,c=t[2]*a,u=t[1]*c,{newShape:f,keptDims:p}=ut(t);if(f.length<t.length){const te=["row","col","depth","depth2","depth3"];return`\n      ${Mb(Rb(n,f))}\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        return ${i}(${Nb(te,p)});\n      }\n    `}if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${u}, ${c}, ${a}, ${r})) +\n          depth3;\n        ${Ob(n)}\n      }\n    `;const g=n.shapeInfo.flatOffset,v=n.shapeInfo.texShape,T=v[0],V=v[1];if(V===u&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${c}, ${a}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${V}.0, ${T}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(V===r&&null==g)return`\n      float ${i}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${V}.0, ${T}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${u} + col * ${c} + depth * ${a} +\n          depth2 * ${r} + depth3 + ${$_(e)};\n      vec2 uv = uvFromFlat(${T}, ${V}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);case 6:return function y5(n){const t=n.shapeInfo.logicalShape,e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),{newShape:r,keptDims:a}=ut(t);if(r.length<t.length){const _e=["row","col","depth","depth2","depth3","depth4"];return`\n      ${Mb(Rb(n,r))}\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${i}(${Nb(_e,a)});\n      }\n    `}const c=t[5],u=t[4]*c,f=t[3]*u,p=t[2]*f,g=t[1]*p;if(n.shapeInfo.isUniform)return`\n      float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${g}, ${p}, ${f}, ${u})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${c}, 1)));\n        ${Ob(n)}\n      }\n    `;const v=n.shapeInfo.flatOffset,T=n.shapeInfo.texShape,V=T[0],Y=T[1];if(Y===g&&null==v)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${p}, ${f}, ${u}, ${c})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${Y}.0, ${V}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;if(Y===c&&null==v)return`\n      float ${i}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${Y}.0, ${V}.0);\n        return sampleTexture(${e}, uv);\n      }\n    `;return`\n    float ${i}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${g} + col * ${p} + depth * ${f} +\n          depth2 * ${u} + depth3 * ${c} + depth4 + ${$_(e)};\n      vec2 uv = uvFromFlat(${V}, ${Y}, index);\n      return sampleTexture(${e}, uv);\n    }\n  `}(n);default:throw new Error(`${e.length}-D input sampling is not yet supported`)}}function RB(n,t){switch(n.shapeInfo.logicalShape.length){case 0:return function a5(n){const t=n.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${Uu().texture2D}(${t}, halfCR);\n    }\n  `}(n);case 1:return function c5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=n.shapeInfo.texShape,a=Uu();if(t)return`\n    vec4 ${i}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `;const c=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`\n    vec4 ${i}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${c[0]}, ${c[1]}, index);\n      return ${a.texture2D}(${e}, uv);\n    }\n  `}(n,t);case 2:return function d5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=a[0],u=a[1],f=Uu();if(null!=a&&Oe(e,a))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${u}.0, ${c}.0);\n\n        return ${f.texture2D}(${i}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `;const p=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(e[1]/2)}, ${p[0]}, ${p[1]}, row, col);\n      return ${f.texture2D}(${i}, uv);\n    }\n  `}(n,t);case 3:return function f5(n,t){const e=n.shapeInfo.logicalShape,i=n.name,r="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n.shapeInfo.texShape,c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===e[0]){const V=[1,2],ae=["b","row","col"];return`\n        ${RB(Rb(n,e.slice(1)),t)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${Nb(ae,V)});\n        }\n      `}const u=Uu();if(t)return`\n    vec4 ${r}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${i}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${i}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `;const f=c[0],p=c[1],g=Math.ceil(e[2]/2);return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${f}, ${p}, ${g*Math.ceil(e[1]/2)}, ${g}, b, row, col);\n      return ${u.texture2D}(${i}, uv);\n    }\n  `}(n,t);default:return function m5(n,t){const e=n.name,i="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Uu();if(t)return`\n    vec4 ${i}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${e}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${e}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${e}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${e}TexShape[0]) / 2.0), ceil(float(${e}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${e}, uv);\n    }\n  `;const a=n.shapeInfo.logicalShape,c=a.length,u=n.shapeInfo.texShape,f=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],p=f[0],g=f[1],v=Math.ceil(a[c-1]/2);let T=v*Math.ceil(a[c-2]/2),V="int b, int row, int col",Y=`b * ${T} + (row / 2) * ${v} + (col / 2)`;for(let ae=2;ae<c-1;ae++)V=`int b${ae}, `+V,T*=a[c-ae-1],Y=`b${ae} * ${T} + `+Y;return`\n    vec4 ${i}(${V}) {\n      int index = ${Y};\n      int texR = index / ${g};\n      int texC = index - texR * ${g};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${g}, ${p});\n      return ${r.texture2D}(${e}, uv);\n    }\n  `}(n,t)}}const KG="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",XG="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",YG="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",qG="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function $_(n){return`offset${n}`}function Ob(n){const t=n.name,e=Tt(n.shapeInfo.logicalShape);return e<2?`return ${t};`:`\n    for (int i = 0; i < ${e}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Na(n){if(n<=1)return"int";if(2===n)return"ivec2";if(3===n)return"ivec3";if(4===n)return"ivec4";if(5===n)return"ivec5";if(6===n)return"ivec6";throw Error(`GPU for rank ${n} is not yet supported`)}function xP(n,t,e){const{newShape:i,keptDims:r}=ut(t),a=t.length,c=n&&3===a&&1===t[0],u=c?t.slice(1):i,f=!n&&a>1&&!Oe(t,e)&&i.length<a||c;return{useSqueezeShape:f,uniformShape:f?u:t,keptDims:r}}function Rb(n,t){const e=JSON.parse(JSON.stringify(n));return e.shapeInfo.logicalShape=t,e}function Nb(n,t){return t.map(e=>n[e]).join(", ")}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function PB(n,t,e){const i=[],r=[];let a,c,u,f=null,p=null;p=n.getUniformLocation(e,"NAN",!1),1===De().getNumber("WEBGL_VERSION")&&(f=n.getUniformLocation(e,"INFINITY",!1));const g=!1;for(const v of t.variableNames){const T={name:v,uniform:n.getUniformLocation(e,v,g),offset:n.getUniformLocation(e,`offset${v}`,g)};t.enableShapeUniforms&&(T.shape=n.getUniformLocation(e,`${v}Shape`,g),T.texShape=n.getUniformLocation(e,`${v}TexShape`,g)),i.push(T)}if(t.enableShapeUniforms&&(a=n.getUniformLocation(e,"outShape",g),u=n.getUniformLocation(e,"outShapeStrides",g),c=n.getUniformLocation(e,"outTexShape",g)),t.customUniforms)for(const v of t.customUniforms)r.push(n.getUniformLocation(e,v.name,g));return{variablesLocations:i,customUniformLocations:r,infLoc:f,nanLoc:p,outShapeLocation:a,outShapeStridesLocation:u,outTexShapeLocation:c}}function FB(n,t){if(n.length!==t.length)throw Error(`Binary was compiled with ${n.length} inputs, but was executed with ${t.length} inputs`);n.forEach((e,i)=>{const r=e.logicalShape,a=t[i],c=a.shape;if(!Oe(r,c))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${c} must match`);if(e.isUniform&&a.isUniform)return;const u=e.texShape,f=a.isUniform?null:a.texData.texShape;if(!Oe(u,f))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${u} and ${f} must match`)})}function Au(n){return De().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&n<=4}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class C5{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=_k.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Uu();this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Dk(["r","c","d"],t):L_(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class S5{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=_k.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const e=Uu();this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Dk(["r","c","d"],t):L_(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class D5{constructor(t){this.variableNames=["A"],this.outTexUsage=_h.DOWNLOAD;const e=Uu();this.outputShape=t,this.userCode=`\n      ${MB}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class T5{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=_h.DOWNLOAD;const e=Uu();this.outputShape=t,this.userCode=`\n      ${MB}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${e.output} = encode_float(x);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const k5={R:0,G:1,B:2,A:3};class LB{constructor(t,e=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Uu();this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length);let a="result";e&&(a="floor(result * 255. + 0.5)");let c="";for(let u=0;u<i.length;u++)c+=`\n          if(offset == ${u}) {\n            result = values[${k5[i[u]]}];\n          }`;this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":wP(t)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${i.length});\n\n        flatIndex = idiv(flatIndex, ${i.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${c}\n        }\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class I5{constructor(t,e=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=Uu();this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length);let r="",a="result";e&&(a="floor(result * 255. + 0.5)");for(let c=0;c<=1;c++)for(let u=0;u<=1;u++){const f=2*c+u;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${u} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {\n          localCoords[2] += ${u};\n          if (localCoords[1] + ${c} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {\n            localCoords[1] += ${c};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${i.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${f}] = values[0];\n            } else if (offset == 1) {\n              result[${f}] = values[1];\n            } else if (offset == 2) {\n              result[${f}] = values[2];\n            } else {\n              result[${f}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":wP(t)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${i.output} = ${a};\n        }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Lx(n,t,e,i,r,a){!function EG(n,t){const e=De().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n<=0||t<=0)throw new Error(`Requested texture size [${n}x${t}] is invalid.`);if(n>e||t>e)throw new Error(`Requested texture size [${n}x${t}] greater than WebGL maximum on this browser / GPU [${e}x${e}].`)}(t,e);const c=function wG(n){return vp(n,()=>n.createTexture(),"Unable to create WebGLTexture.")}(n),u=n.TEXTURE_2D;return er(n,()=>n.bindTexture(u,c)),er(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE)),er(n,()=>n.texParameteri(u,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),er(n,()=>n.texParameteri(u,n.TEXTURE_MIN_FILTER,n.NEAREST)),er(n,()=>n.texParameteri(u,n.TEXTURE_MAG_FILTER,n.NEAREST)),1===De().getNumber("WEBGL_VERSION")?er(n,()=>n.texImage2D(u,0,i,t,e,0,r,a,null)):er(n,()=>n.texStorage2D(u,1,i,t,e)),er(n,()=>n.bindTexture(n.TEXTURE_2D,null)),{texture:c,texShape:[e,t]}}function $B(n){return n.internalFormatFloat}function BB(n){return n.internalFormatHalfFloat}function VB(n){return n.downloadTextureFormat}function UB(n){return n.internalFormatPackedFloat}function zB(n){return n.internalFormatPackedHalfFloat}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class CP{constructor(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const e=De().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,function rG(n,t){Vm[n]=t}(e,t)):this.gl=Gh(e),t=this.gl,2===De().getNumber("WEBGL_VERSION")){const a=t;this.createVertexArray=()=>er(a,()=>a.createVertexArray()),this.bindVertexArray=c=>er(a,()=>a.bindVertexArray(c)),this.deleteVertexArray=c=>er(a,()=>a.deleteVertexArray(c)),this.getVertexArray=()=>er(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(null!=t){const a=t.getExtension("OES_vertex_array_object");if(null==a)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>er(t,()=>a.createVertexArrayOES()),this.bindVertexArray=c=>er(t,()=>a.bindVertexArrayOES(c)),this.deleteVertexArray=c=>er(t,()=>a.deleteVertexArrayOES(c)),this.getVertexArray=()=>er(t,()=>t.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===De().getNumber("WEBGL_VERSION")){const c="OES_texture_half_float";if(this.textureFloatExtension=vk(this.gl,"OES_texture_float"),yh(this.gl,c))this.textureHalfFloatExtension=vk(this.gl,c);else if(De().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),yh(this.gl,r))this.colorBufferHalfFloatExtension=vk(this.gl,r);else if(De().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",yh(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else{if(!yh(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=function M5(n){return function vG(n,t){const e=vp(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return er(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),er(n,()=>n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}(this.gl),this.indexBuffer=function O5(n){return function bG(n,t){const e=vp(n,()=>n.createBuffer(),"Unable to create WebGLBuffer");return er(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e)),er(n,()=>n.bufferData(n.ELEMENT_ARRAY_BUFFER,t,n.STATIC_DRAW)),e}(n,new Uint16Array([0,1,2,2,1,3]))}(this.gl),this.framebuffer=function xG(n){return vp(n,()=>n.createFramebuffer(),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=_P(this.gl,this.textureHalfFloatExtension)}get debug(){return De().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const t=this.gl;er(t,()=>t.finish()),er(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),er(t,()=>t.deleteFramebuffer(this.framebuffer)),er(t,()=>t.bindBuffer(t.ARRAY_BUFFER,null)),er(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)),er(t,()=>t.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(t,e){return this.throwIfDisposed(),function R5(n,t,e,i){const[r,a]=Px(t,e);return Lx(n,r,a,$B(i),i.textureFormatFloat,n.FLOAT)}(this.gl,t,e,this.textureConfig)}createFloat16MatrixTexture(t,e){return this.throwIfDisposed(),function N5(n,t,e,i){const[r,a]=Px(t,e);return Lx(n,r,a,BB(i),i.textureFormatFloat,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createUnsignedBytesMatrixTexture(t,e){return this.throwIfDisposed(),function P5(n,t,e,i){const[r,a]=Px(t,e);return Lx(n,r,a,VB(i),n.RGBA,n.UNSIGNED_BYTE)}(this.gl,t,e,this.textureConfig)}uploadPixelDataToTexture(t,e){this.throwIfDisposed(),function V5(n,t,e){er(n,()=>n.bindTexture(n.TEXTURE_2D,t)),e.data instanceof Uint8Array?2===De().getNumber("WEBGL_VERSION")?er(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.width,e.height,n.RGBA,n.UNSIGNED_BYTE,e.data)):er(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.width,e.height,0,n.RGBA,n.UNSIGNED_BYTE,e.data)):2===De().getNumber("WEBGL_VERSION")?er(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,e)):er(n,()=>n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)),er(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e)}uploadDenseMatrixToTexture(t,e,i,r){this.throwIfDisposed(),function B5(n,t,e,i,r,a){let c,u,f;er(n,()=>n.bindTexture(n.TEXTURE_2D,t)),r instanceof Uint8Array?(c=new Uint8Array(e*i*4),u=n.UNSIGNED_BYTE,f=n.RGBA):(c=new Float32Array(e*i*4),u=n.FLOAT,f=a.internalFormatPackedFloat),c.set(r),2===De().getNumber("WEBGL_VERSION")?er(n,()=>n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,i,n.RGBA,u,c)):er(n,()=>n.texImage2D(n.TEXTURE_2D,0,f,e,i,0,n.RGBA,u,c)),er(n,()=>n.bindTexture(n.TEXTURE_2D,null))}(this.gl,t,e,i,r,this.textureConfig)}createFloat16PackedMatrixTexture(t,e){return this.throwIfDisposed(),function L5(n,t,e,i){const[r,a]=kb(t,e);return Lx(n,r,a,zB(i),n.RGBA,i.textureTypeHalfFloat)}(this.gl,t,e,this.textureConfig)}createPackedMatrixTexture(t,e){return this.throwIfDisposed(),function F5(n,t,e,i){const[r,a]=kb(t,e);return Lx(n,r,a,UB(i),n.RGBA,n.FLOAT)}(this.gl,t,e,this.textureConfig)}deleteMatrixTexture(t){this.throwIfDisposed(),this.outputTexture===t&&(kB(this.gl,this.framebuffer),this.outputTexture=null),er(this.gl,()=>this.gl.deleteTexture(t))}downloadByteEncodedFloatMatrixFromOutputTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function j5(n,t,e,i){const[r,a]=Px(t,e),u=new Uint8Array(function aG(n,t){return n*t}(t*e,4));return er(n,()=>n.readPixels(0,0,r,a,i.downloadTextureFormat,n.UNSIGNED_BYTE,u)),new Float32Array(u.buffer)}(this.gl,e,i,this.textureConfig))}downloadPackedMatrixFromBuffer(t,e,i,r,a,c){return function W5(n,t,e,i,r,a,c,u){const f=n,p=new Float32Array(function lG(n,t){const[e,i]=kb(n,t);return e*i*4}(a,c));return f.bindBuffer(f.PIXEL_PACK_BUFFER,t),f.getBufferSubData(f.PIXEL_PACK_BUFFER,0,p),f.bindBuffer(f.PIXEL_PACK_BUFFER,null),p}(this.gl,t,0,0,0,a,c)}downloadFloat32MatrixFromBuffer(t,e){return function z5(n,t,e){const i=n,r=new Float32Array(e);return i.bindBuffer(i.PIXEL_PACK_BUFFER,t),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,r),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),r}(this.gl,t,e)}createBufferFromTexture(t,e,i){this.bindTextureToFrameBuffer(t);const r=function U5(n,t,e,i){const r=n.createBuffer();er(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,r));const u=16*t*e;return er(n,()=>n.bufferData(n.PIXEL_PACK_BUFFER,u,n.STREAM_READ)),er(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,0)),er(n,()=>n.bindBuffer(n.PIXEL_PACK_BUFFER,null)),r}(this.gl,e,i);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let e,i;if(De().getBool("WEBGL_FENCE_API_ENABLED")){const r=t,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),i=()=>{const c=r.clientWaitSync(a,0,0);return c===r.ALREADY_SIGNALED||c===r.CONDITION_SATISFIED},e=a}else De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(e,De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:e,isFencePassed:i}}downloadMatrixFromPackedTexture(t,e,i){return this.downloadMatrixDriver(t,()=>function H5(n,t,e){const i=new Float32Array(t*e*4);return er(n,()=>n.readPixels(0,0,e,t,n.RGBA,n.FLOAT,i)),i}(this.gl,e,i))}createProgram(t){this.throwIfDisposed();const e=this.gl;null==this.vertexShader&&(this.vertexShader=function A5(n){const t=Uu();return function pG(n,t){const e=vp(n,()=>n.createShader(n.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(er(n,()=>n.shaderSource(e,t)),er(n,()=>n.compileShader(e)),!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw console.log(n.getShaderInfoLog(e)),new Error("Failed to compile vertex shader.");return e}(n,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}(e));const i=function _G(n){return vp(n,()=>n.createProgram(),"Unable to create WebGLProgram.")}(e);er(e,()=>e.attachShader(i,this.vertexShader)),er(e,()=>e.attachShader(i,t)),function yG(n,t){if(er(n,()=>n.linkProgram(t)),!De().get("ENGINE_COMPILE_ONLY")&&!1===n.getProgramParameter(t,n.LINK_STATUS))throw console.log(n.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(e,i);const r=Object.assign(i,{vao:this.createVertexArray()});return this.debug&&yP(e,r),r}buildVao(t){this.setProgram(t),this.bindVertexArray(t.vao);const e=this.gl;er(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),function $5(n,t,e){er(n,()=>n.bindBuffer(n.ARRAY_BUFFER,e)),TB(n,t,"clipSpacePos",e,3,20,0)&&TB(n,t,"uv",e,2,20,12)}(e,t,this.vertexBuffer)}deleteProgram(t){this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&(er(this.gl,()=>this.gl.deleteProgram(t)),this.deleteVertexArray(t.vao))}setProgram(t){this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&yP(this.gl,this.program),er(this.gl,()=>this.gl.useProgram(t))}getUniformLocation(t,e,i=!0){return this.throwIfDisposed(),i?function SG(n,t,e){return vp(n,()=>n.getUniformLocation(t,e),'uniform "'+e+'" not present in program.')}(this.gl,t,e):function DG(n,t,e){return n.getUniformLocation(t,e)}(this.gl,t,e)}getAttributeLocation(t,e){return this.throwIfDisposed(),er(this.gl,()=>this.gl.getAttribLocation(t,e))}getUniformLocationNoThrow(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)}setInputMatrixTexture(t,e,i){this.throwIfDisposed(),this.throwIfNoProgram(),TG(this.gl,t,e,i)}setOutputMatrixTexture(t,e,i){this.setOutputMatrixTextureDriver(t,i,e)}setOutputPackedMatrixTexture(t,e,i){this.throwIfDisposed();const[r,a]=kb(e,i);this.setOutputMatrixTextureDriver(t,r,a)}setOutputMatrixWriteRegion(t,e,i,r){this.setOutputMatrixWriteRegionDriver(i,t,r,e)}setOutputPackedMatrixWriteRegion(t,e,i,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&yP(this.gl,this.program),bk(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const t=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}er(t,()=>t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),er(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=vk(this.gl,2===De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.createQuery();return i.beginQuery(r.TIME_ELAPSED_EXT,a),a}const t=this.getQueryTimerExtensionWebGL1(),e=t.createQueryEXT();return t.beginQueryEXT(t.TIME_ELAPSED_EXT,e),e}endQuery(){if(2===De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,i=this.getQueryTimerExtensionWebGL2();return void e.endQuery(i.TIME_ELAPSED_EXT)}const t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}waitForQueryAndGetTime(t){var e=this;return(0,q.A)(function*(){return yield Nt(()=>e.disposed||e.isQueryAvailable(t,De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),e.getQueryTime(t,De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})()}getQueryTime(t,e){if(0===e)return null;if(2===e){const i=this.gl;return i.getQueryParameter(t,i.QUERY_RESULT)/1e6}{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(t,e){if(0===e)return!0;if(2===e){const i=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=i.getQueryParameter(t,i.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const i=this.getQueryTimerExtensionWebGL1(),r=i.getQueryObjectEXT(t,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(t){return new Promise(e=>{this.addItemToPoll(()=>t.isFencePassed(),()=>e())})}pollItems(){const t=function G5(n){let t=0;for(;t<n.length&&n[t]();++t);return t-1}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.itemsToPoll.map(e=>e.isDoneFn));for(let e=0;e<=t;++e){const{resolveFn:i}=this.itemsToPoll[e];i()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}addItemToPoll(t,e){if(this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in De().platform&&(i=De().platform.setTimeoutCustom.bind(De().platform)),Nt(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,i)}bindTextureToFrameBuffer(t){this.throwIfDisposed(),vP(this.gl,t,this.framebuffer),this.debug&&bk(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(vP(this.gl,this.outputTexture,this.framebuffer),this.debug&&bk(this.gl)):kB(this.gl,this.framebuffer)}downloadMatrixDriver(t,e){this.bindTextureToFrameBuffer(t);const i=e();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(t,e,i){this.throwIfDisposed();const r=this.gl;vP(r,t,this.framebuffer),this.debug&&bk(r),this.outputTexture=t,er(r,()=>r.viewport(0,0,e,i)),er(r,()=>r.scissor(0,0,e,i))}setOutputMatrixWriteRegionDriver(t,e,i,r){this.throwIfDisposed(),er(this.gl,()=>this.gl.scissor(t,e,i,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:K5,XI:jB,Nk:X5,f6:Y5,ct:q5,YG:Q5,hH:Z5,z3:J5,sG:e8,uM:t8,vS:n8,qB:i8,GG:r8,rq:s8,lg:o8,WR:a8,cu:l8,GE:c8,px:u8,jC:d8,He:h8,hE:f8,BF:p8,Dk:m8,cl:g8,_B:_8,ub:y8,_f:v8,Ku:b8,qy:w8,Zy:E8,bu:x8,zv:C8,dH:WB,HS:S8,yH:D8,l3:T8,z9:HB,x6:k8,_m:I8,eW:A8,GK:M8,SP:O8,yr:R8,dl:N8,Dw:P8,xT:F8,_X:SP,wz:L8}=xe;
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function GB(n,t){return["x","y","z","w","u","v"].slice(0,t).map(e=>`${n}.${e}`)}function zu(n,t){return 1===t?[n]:GB(n,t)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class B8{constructor(t){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Au(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=zu("rc",this.rank),i=Na(this.rank),r=this.getOutOfBoundsCondition(e),a=this.getSetup(e),c=this.getOutput(e);this.userCode=`\n        void main() {\n          ${i} rc = getOutputCoords();\n\n          if(${r}) {\n            setOutput(vec4(0));\n          } else {\n            ${a}\n\n            setOutput(vec4(${c}));\n          }\n        }\n      `}}getSourceCoordsArr(t){const e=[];for(let i=0;i<=1;i++)for(let r=0;r<=1;r++){let a=`${0===i?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let c=2;c<this.rank;c++)a=`${t[t.length-1-c]},`+a;e.push(a)}return e}getOutOfBoundsCondition(t){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let e="";for(let i=this.rank-2;i<this.rank;i++)e+=`${t[i]} >= ${this.enableShapeUniforms?`outShape[${i}]`:this.outputShape[i]}`,i<this.rank-1&&(e+="||");return e}getSetup(t){if(1===this.rank)return"";const e=t.slice(-2);return`\n      int r = ${e[0]};\n      int c = ${e[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1]};\n      bool rEdge = rp1 >= ${this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2]};\n    `}getOutput(t){const e=this.getSourceCoordsArr(t);return 1===this.rank?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${e[0]}),\n            cEdge ? 0. : getA(${e[1]}),\n            rEdge ? 0. : getA(${e[2]}),\n            rEdge || cEdge ? 0. : getA(${e[3]})`}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class KB{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length);let i="";for(let r=0;r<4;r++){let a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),i+=`\n        ${a}\n        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${r}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${r>0?"}":""}\n      `}this.userCode=`\n      ${function V8(n,t){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t?function $G(n,t,e="index"){const r=function LG(n,t){const e=n.length,i=n.map(a=>`${t}[${a}]`),r=new Array(e-1);r[e-2]=i[e-1];for(let a=e-3;a>=0;--a)r[a]=`(${r[a+1]} * ${i[a+1]})`;return r}(n.map((a,c)=>c),t);return r.map((a,c)=>`int ${n[c]} = ${e} / ${r[c]}; ${c===r.length-1?`int ${n[c+1]} = ${e} - ${n[c]} * ${r[c]}`:`index -= ${n[c]} * ${r[c]}`};`).join("")}(["r","c","d"],"inputShape"):L_(["r","c","d"],n)}\n      return ivec3(r, c, d);\n    }\n  `}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e,this.enableShapeUniforms)}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":wP(t)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};\n\n        ${i}\n\n        setOutput(result);\n      }\n    `}}class U8{constructor(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(t,e,i){const r=YB(e,i),a=qB(t,r,i);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const c=XB(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=c,this.log();const f=this.freeTextures[a].pop();return this.usedTextures[a].push(f),f}let u;return r===Iu.PACKED_2X2_FLOAT32?u=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):r===Iu.PACKED_2X2_FLOAT16?u=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):r===Iu.UNPACKED_FLOAT32?u=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):r===Iu.UNPACKED_FLOAT16?u=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):r===Iu.PACKED_4X1_UNSIGNED_BYTE&&(u=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[a].push(u),this.numUsedTextures++,this._numBytesAllocated+=c,this.log(),u}releaseTexture(t,e,i,r){if(null==this.freeTextures)return;const a=YB(i,r),c=qB(e,a,r);c in this.freeTextures||(this.freeTextures[c]=[]);const u=XB(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),f=De().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==f&&this._numBytesAllocated>f?(this.gpgpu.deleteMatrixTexture(t.texture),this._numBytesAllocated-=u):(this.freeTextures[c].push(t),this.numFreeTextures++,this._numBytesFree+=u),this.numUsedTextures--;const p=this.usedTextures[c],g=p&&p.indexOf(t);if(null==g||g<0)throw new Error("Cannot release a texture that was never provided by this texture manager");p[g]=p[p.length-1],p.pop(),this.log()}log(){if(!this.logEnabled)return;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${this.numFreeTextures+this.numUsedTextures})`);const e=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*e)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const t in this.freeTextures)this.freeTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(const t in this.usedTextures)this.usedTextures[t].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function XB(n,t,e,i,r){const a=function j8(n,t){switch(n){case Iu.PACKED_2X2_FLOAT32:return UB(t);case Iu.PACKED_2X2_FLOAT16:return zB(t);case Iu.UNPACKED_FLOAT32:return $B(t);case Iu.UNPACKED_FLOAT16:return BB(t);case Iu.PACKED_4X1_UNSIGNED_BYTE:return VB(t);default:throw new Error(`Unknown physical texture type ${n}`)}}(t,i);let c;if(r){const[f,p]=kb(n[0],n[1]);c=f*p}else{const[f,p]=Px(n[0],n[1]);c=f*p}const u=function z8(n,t){if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===n.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(e,a);return c*u}function YB(n,t){if(n===_h.UPLOAD)return Iu.PACKED_2X2_FLOAT32;if(n===_h.RENDER||null==n)return function W8(n){return De().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Iu.PACKED_2X2_FLOAT32:Iu.UNPACKED_FLOAT32:n?Iu.PACKED_2X2_FLOAT16:Iu.UNPACKED_FLOAT16}(t);if(n===_h.DOWNLOAD||n===_h.PIXELS)return Iu.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${n}`)}function qB(n,t,e){return`${n[0]}_${n[1]}_${t}_${e}`}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Df{constructor(t,e){this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${e}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Gd="if (isnan(x)) return x;",H8="return x;",QB="return abs(x);",G8="return (x >= 0.0) ? x : (exp(x) - 1.0);",K8=Gd+"\n  return (x < 0.0) ? 0.0 : x;\n",X8=Gd+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Um="return x;",Y8="return 1.0 / (1.0 + exp(-1.0 * x));",q8="return x;",Q8="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Z8="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",J8="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",e6="return 1.0 / (1.0 + exp(-1.0 * x));";class zm{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${e}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class t6{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length);const e=t.length,i=zu("rc",e),r=Na(e),a=function $8(n,t){if(1===n)return"rc";let e="";for(let i=0;i<n;i++)e+=t[i],i<n-1&&(e+=",");return e}(e,i),c=i.slice(-2),u=e<=1?"rc":`vec2(${c.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const n6=Wy,kk={},o6=De().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");let c6=(()=>{class n extends Je{nextDataId(){return n.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!De().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let i;if(null!=e){if(e instanceof CP)i=e;else{const r=Gh(De().getNumber("WEBGL_VERSION"),e);i=new CP(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=Gh(De().getNumber("WEBGL_VERSION"));i=new CP(r),this.binaryCache=function s6(n){return n in kk||(kk[n]={}),kk[n]}(De().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=i,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new U8(this.gpgpu),this.numMBBeforeWarning=function l6(){return null==De().global.screen?1024:De().global.screen.height*De().global.screen.width*window.devicePixelRatio*600/1024/1024}(),this.texData=new yt(this,zl())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,i,r,a,c,u){const f=this.makeTensorInfo(i,r),p=this.texData.get(f.dataId);p.isPacked=!1,p.texture={texture:e,texShape:[a,c]},p.texShape=[a,c];const g=wk(i),v=new LB(g,!1,u),T=this.runWebGLProgram(v,[f],r,[[a,c]]);return T.shape=i,p.texture=null,this.disposeIntermediateTensorInfo(f),T.dataId}write(e,i,r){if((De().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||De().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:i,dtype:r,values:e,usage:_h.UPLOAD,refCount:1}),a}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){this.texData.get(e).refCount++}decRef(e){this.texData.has(e)&&this.texData.get(e).refCount--}move(e,i,r,a,c){if(De().getBool("DEBUG")&&this.checkNumericalProblems(i),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:a,values:i,usage:_h.UPLOAD,refCount:c})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const i=this.texData.get(e),{values:r,dtype:a,complexTensorInfos:c,slice:u,shape:f,isPacked:p}=i;if(null!=u){let V;V=p?new zm(f,Um):new Df(f,Um);const Y=this.runWebGLProgram(V,[{dataId:e,shape:f,dtype:a}],a),ae=this.readSync(Y.dataId);return this.disposeIntermediateTensorInfo(Y),ae}if(null!=r)return this.convertAndCacheOnCPU(e);if("string"===a)return r;const g=null!=this.activeTimers;let v,T;return g&&(v=zr()),T="complex64"===a?ah(this.readSync(c.real.dataId),this.readSync(c.imag.dataId)):this.getValuesFromTexture(e),g&&(this.downloadWaitMs+=zr()-v),this.convertAndCacheOnCPU(e,T)}read(e){var i=this;return(0,q.A)(function*(){if(i.pendingRead.has(e)){const te=i.pendingRead.get(e);return new Promise(_e=>te.push(_e))}const r=i.texData.get(e),{values:a,shape:c,slice:u,dtype:f,complexTensorInfos:p,isPacked:g}=r;if(null!=u){let te;te=g?new zm(c,Um):new Df(c,Um);const _e=i.runWebGLProgram(te,[{dataId:e,shape:c,dtype:f}],f),Te=i.read(_e.dataId);return i.disposeIntermediateTensorInfo(_e),Te}if(null!=a)return i.convertAndCacheOnCPU(e);if(De().getBool("DEBUG")&&!De().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===De().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let T,V,v=null;if("complex64"!==f&&De().get("WEBGL_BUFFER_SUPPORTED")){T=i.decode(e);const te=i.texData.get(T.dataId);v=i.gpgpu.createBufferFromTexture(te.texture.texture,...yk(c))}if(i.pendingRead.set(e,[]),"complex64"!==f&&(yield i.gpgpu.createAndWaitForFence()),"complex64"===f){const te=yield Promise.all([i.read(p.real.dataId),i.read(p.imag.dataId)]);V=ah(te[0],te[1])}else if(null==v)V=i.getValuesFromTexture(e);else{const te=Tt(c);V=i.gpgpu.downloadFloat32MatrixFromBuffer(v,te)}if(null!=T&&i.disposeIntermediateTensorInfo(T),null!=v){const te=i.gpgpu.gl;er(te,()=>te.deleteBuffer(v))}const Y=i.convertAndCacheOnCPU(e,V),ae=i.pendingRead.get(e);return i.pendingRead.delete(e),ae.forEach(te=>te(Y)),i.pendingDisposal.has(e)&&(i.pendingDisposal.delete(e),i.disposeData(e)&&zl().removeDataId(e,i),i.pendingDeletes--),Y})()}readToGPU(e,i={}){const r=this.texData.get(e),{values:a,shape:c,slice:u,dtype:f,isPacked:p,texture:g}=r;if("complex64"===f)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=u){let Y;Y=p?new zm(c,Um):new Df(c,Um);const ae=this.runWebGLProgram(Y,[{dataId:e,shape:c,dtype:f}],f),te=this.readToGPU(ae,i);return this.disposeIntermediateTensorInfo(ae),te}if(null==g)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const v=this.decode(e,i.customTexShape),T=zl().makeTensorFromTensorInfo(v),V=this.texData.get(v.dataId);return Object.assign({tensorRef:T},V.texture)}bufferSync(e){const i=this.readSync(e.dataId);if("string"===e.dtype)try{const r=i.map(a=>zc(a));return fs(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return fs(e.shape,e.dtype,i)}checkNumericalProblems(e){if(null!=e)for(let i=0;i<e.length;i++){const r=e[i];if(!hG(r))throw De().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:i,dtype:r,isPacked:a}=this.texData.get(e),c=Tt(i);if(De().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const V=this.decode(e),Y=this.texData.get(V.dataId),ae=this.gpgpu.downloadMatrixFromPackedTexture(Y.texture.texture,...yk(i)).subarray(0,c);return this.disposeIntermediateTensorInfo(V),ae}const u=De().getBool("WEBGL_PACK")&&!0===a,f=u?wk(i):i,p=u?new T5(f):new D5(f),g=this.runWebGLProgram(p,[{shape:f,dtype:r,dataId:e}],"float32"),v=this.texData.get(g.dataId),T=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,c);return this.disposeIntermediateTensorInfo(g),T}timerAvailable(){return De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){var i=this;const r=this.activeTimers,a=[];let c=!1;null==this.programTimersStack?(this.programTimersStack=a,c=!0):this.activeTimers.push(a),this.activeTimers=a,e();const u=nc(this.activeTimers.map(g=>g.query)).filter(g=>null!=g),f=nc(this.activeTimers.map(g=>g.name)).filter(g=>null!=g);this.activeTimers=r,c&&(this.programTimersStack=null);const p={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,q.A)(function*(){if(De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const g=yield Promise.all(u);p.kernelMs=function Be(n){let t=0;for(let e=0;e<n.length;e++)t+=n[e];return t}(g),p.getExtraProfileInfo=()=>g.map((v,T)=>({name:f[T],ms:v})).map(v=>`${v.name}: ${v.ms}`).join(", ")}else p.kernelMs={error:"WebGL query timers are not supported in this environment."};return i.uploadWaitMs=0,i.downloadWaitMs=0,p})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:zr(),endMs:null}}endTimer(e){return De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=zr(),e)}getQueryTime(e){var i=this;return(0,q.A)(function*(){return De().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?i.gpgpu.waitForQueryAndGetTime(e):e.endMs-e.startMs})()}disposeData(e,i=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(i?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!i&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return null!=r&&(this.disposeData(r.real.dataId,i),this.disposeData(r.imag.dataId,i)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:i,dtype:r,texShape:a,usage:c,isPacked:u,slice:f}=this.texData.get(e),p=f&&f.origDataId||e,g=this.dataRefCount.get(p);g>1?this.dataRefCount.set(p,g-1):(this.dataRefCount.delete(p),null!=i&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(i,a,c,u)));const v=this.texData.get(e);v.texture=null,v.texShape=null,v.isPacked=!1,v.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,i=o6){return De().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>null==this.texData.get(r.dataId).texture&&Tt(r.shape)<i)}getGPGPUContext(){return this.gpgpu}where(e){an("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const i=e.dataSync();return n6(e.shape,i)}packedUnaryOp(e,i,r){const a=new zm(e.shape,i),c=this.compileAndRun(a,[e],r);return zl().makeTensorFromTensorInfo(c)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const a=WB(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,a)}if(De().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,QB,e.dtype);const i=new Df(e.shape,QB),r=this.compileAndRun(i,[e]);return zl().makeTensorFromTensorInfo(r)}makeTensorInfo(e,i,r){let a;if("string"===i&&null!=r&&r.length>0&&Hn(r[0])){const c=r.map(u=>tc(u));a=this.write(c,e,i)}else a=this.write(r,e,i);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:i}}makeOutput(e,i,r){return zl().makeTensorFromTensorInfo(this.makeTensorInfo(e,i,r),this)}unpackTensor(e){const i=new t6(e.shape);return this.runWebGLProgram(i,[e],e.dtype)}packTensor(e){const i=new B8(e.shape);return this.runWebGLProgram(i,[e],e.dtype,null,!0)}packedReshape(e,i){const r=[Ib(e.shape),...Ab(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},c=[Ib(i),...Ab(i)],u=new KB(c,r),g=this.runWebGLProgram(u,[a],e.dtype,[r],!0);return{dataId:g.dataId,shape:i,dtype:g.dtype}}decode(e,i){const r=this.texData.get(e),{isPacked:a,shape:c,dtype:u}=r;null!=i&&Ce(Tt(c)<=i[0]*i[1]*4,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.");const f=wk(c);let p;p=a?new S5(f):new C5(f);const v=[i??yk(f)];return{dtype:u,shape:c,dataId:this.runWebGLProgram(p,[{shape:f,dtype:u,dataId:e}],u,v,!0,i).dataId}}runWebGLProgram(e,i,r,a,c=!1,u){const f=this.makeTensorInfo(e.outputShape,r),p=this.texData.get(f.dataId);if(e.packedOutput&&(p.isPacked=!0),e.outPackingScheme===_k.DENSE){const Te=u??yk(e.outputShape);p.texShape=Te.map(nt=>2*nt)}if(null!=e.outTexUsage&&(p.usage=e.outTexUsage),0===Tt(f.shape))return p.values=dt(f.dtype,0),f;const g=[],v=i.map(Te=>{if("complex64"===Te.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let nt=this.texData.get(Te.dataId);if(null==nt.texture){if(!e.packedInputs&&Tt(Te.shape)<=De().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:Te.shape,texData:null,isUniform:!0,uniformValues:nt.values};e.packedInputs&&(nt.isPacked=!0,nt.shape=Te.shape)}if(this.uploadToGPU(Te.dataId),!!nt.isPacked!=!!e.packedInputs)Te=nt.isPacked?this.unpackTensor(Te):this.packTensor(Te),g.push(Te),nt=this.texData.get(Te.dataId);else if(nt.isPacked&&!xk(nt.shape,Te.shape)){const it=Te,St=Te.shape;Te.shape=nt.shape,Te=this.packedReshape(Te,St),g.push(Te),nt=this.texData.get(Te.dataId),it.shape=St}return{shape:Te.shape,texData:nt,isUniform:!1}});this.uploadToGPU(f.dataId);const T={shape:f.shape,texData:p,isUniform:!1},V=function x5(n,t,e){let i="";t.concat(e).forEach(c=>{const u=null!=c.texData&&null!=c.texData.slice&&c.texData.slice.flatOffset>0;if(n.enableShapeUniforms&&!c.isUniform){const f=c.texData.texShape,{useSqueezeShape:p,uniformShape:g,keptDims:v}=xP(n.packedInputs,c.shape,f);let T="",V="",Y="";if(1===g.length&&n.packedInputs){const St=[Math.ceil(f[0]/2),Math.ceil(f[1]/2)];T=`${St[0]>1}_${St[1]>1}`}else if(2!==g.length||n.packedInputs){if(g.length>2&&!n.packedInputs){const St=$t(g);Y=`${St[0]===f[1]}_${St[St.length-1]===f[1]}`}}else V=`${g[0]>1}_${g[1]>1}`;const ae=c.shape.length,te=2===g.length&&Oe(c.shape,f),_e=1===Tt(c.shape),Te=ic(c.shape,e.shape),nt=!n.packedInputs&&ae===e.shape.length&&Oe(f,e.texData.texShape);i+=`${ae}_${nt}_${p?v:""}_${g.length}_${_e}_${Te}_${te}_${T}_${V}_${Y}_${n.packedInputs||g.length>2?"":`${f[0]>1}_${f[1]>1}`}_${u}`}else i+=`${c.shape}_${c.isUniform?"uniform":c.texData.texShape}_${u}`});let a=n.constructor.name;return a+="_"+i+"_"+n.userCode+`${De().getNumber("WEBGL_VERSION")}`,a}(e,v,T),Y=this.getAndSaveBinary(V,()=>function w5(n,t,e,i){const r=e.map((g,v)=>{const T={logicalShape:g.shape,texShape:g.isUniform?null:g.texData.texShape,isUniform:g.isUniform,isPacked:!g.isUniform&&g.texData.isPacked,flatOffset:null};return null!=g.texData&&null!=g.texData.slice&&g.texData.slice.flatOffset>0&&(T.flatOffset=g.texData.slice.flatOffset),{name:t.variableNames[v],shapeInfo:T}}),a=r.map(g=>g.shapeInfo),c={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},u=BG(r,c,t),f=function mG(n,t){const e=vp(n,()=>n.createShader(n.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(er(n,()=>n.shaderSource(e,t)),er(n,()=>n.compileShader(e)),De().get("ENGINE_COMPILE_ONLY"))return e;if(!1===n.getShaderParameter(e,n.COMPILE_STATUS))throw DB(t,n.getShaderInfoLog(e)),new Error("Failed to compile fragment shader.");return e}(n.gl,u),p=n.createProgram(f);return De().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(n.buildVao(p),Object.assign({program:t,fragmentShader:f,source:u,webGLProgram:p,inShapeInfos:a,outShapeInfo:c},PB(n,t,p)))}(this.gpgpu,e,v,T)),ae=null!=this.activeTimers;let te;ae&&(te=this.startTimer()),De().get("ENGINE_COMPILE_ONLY")||function E5(n,t,e,i,r){t.program.enableShapeUniforms||(FB(t.inShapeInfos,e),FB([t.outShapeInfo],[i]));const a=i.texData.texture,c=i.texData.texShape;i.texData.isPacked?n.setOutputPackedMatrixTexture(a.texture,c[0],c[1]):n.setOutputMatrixTexture(a.texture,c[0],c[1]),n.setProgram(t.webGLProgram),n.bindVertexArray(t.webGLProgram.vao),1===De().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&n.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&n.gl.uniform1f(t.nanLoc,NaN);for(let f=0;f<e.length;++f){const p=e[f],{uniform:g,offset:v,shape:T,texShape:V}=t.variablesLocations[f];if(T){const{uniformShape:Y}=xP(t.program.packedInputs,p.shape,p.texData.texShape);switch(Y.length){case 1:n.gl.uniform1iv(T,new Int32Array(Y));break;case 2:n.gl.uniform2iv(T,new Int32Array(Y));break;case 3:n.gl.uniform3iv(T,new Int32Array(Y));break;case 4:n.gl.uniform4iv(T,new Int32Array(Y))}}if(V&&n.gl.uniform2i(V,p.texData.texShape[0],p.texData.texShape[1]),null!=g){if(p.isUniform){if(Tt(p.shape)<2)n.gl.uniform1f(g,p.uniformValues[0]);else{let Y=p.uniformValues;Y instanceof Float32Array||(Y=new Float32Array(Y)),n.gl.uniform1fv(g,Y)}continue}null!=p.texData.slice&&null!=v&&n.gl.uniform1i(v,p.texData.slice.flatOffset),n.setInputMatrixTexture(p.texData.texture.texture,g,f)}}const u=t.outShapeLocation;if(u)switch(i.shape.length){case 1:n.gl.uniform1iv(u,new Int32Array(i.shape));break;case 2:n.gl.uniform2iv(u,new Int32Array(i.shape));break;case 3:n.gl.uniform3iv(u,new Int32Array(i.shape));break;case 4:n.gl.uniform4iv(u,new Int32Array(i.shape))}if(t.outShapeStridesLocation){const f=$t(i.shape);switch(i.shape.length){case 2:n.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(f));break;case 3:n.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(f));break;case 4:n.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(f))}}if(t.outTexShapeLocation&&n.gl.uniform2i(t.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),t.program.customUniforms&&r)for(let f=0;f<t.program.customUniforms.length;++f){const p=t.program.customUniforms[f],g=t.customUniformLocations[f],v=r[f];if("float"===p.type)n.gl.uniform1fv(g,v);else if("vec2"===p.type)n.gl.uniform2fv(g,v);else if("vec3"===p.type)n.gl.uniform3fv(g,v);else if("vec4"===p.type)n.gl.uniform4fv(g,v);else if("int"===p.type)n.gl.uniform1iv(g,v);else if("ivec2"===p.type)n.gl.uniform2iv(g,v);else if("ivec3"===p.type)n.gl.uniform3iv(g,v);else{if("ivec4"!==p.type)throw Error(`uniform type ${p.type} is not supported yet.`);n.gl.uniform4iv(g,v)}}n.executeProgram()}(this.gpgpu,Y,v,T,a),g.forEach(Te=>this.disposeIntermediateTensorInfo(Te)),ae&&(te=this.endTimer(te),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(te)}));const _e=De().getNumber("WEBGL_FLUSH_THRESHOLD");if(_e>0){const Te=zr();Te-this.lastGlFlushTime>_e&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=Te)}if(!De().getBool("WEBGL_LAZILY_UNPACK")&&p.isPacked&&!1===c){const Te=this.unpackTensor(f);return this.disposeIntermediateTensorInfo(f),Te}return f}compileAndRun(e,i,r,a,c=!1){return this.runWebGLProgram(e,i,r=r||i[0].dtype,a,c)}getAndSaveBinary(e,i){return e in this.binaryCache||(this.binaryCache[e]=i()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(De().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(i=>{this.gpgpu.deleteProgram(this.binaryCache[i].webGLProgram),delete this.binaryCache[i]}),this.textureManager.dispose(),null!=this.canvas&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=k(()=>{if(!De().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=De().getBool("DEBUG");De().set("DEBUG",!1);const i=this.abs(Wr(1e-8)).dataSync()[0];if(De().set("DEBUG",e),i>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const i=this.texData.get(e),{shape:r,dtype:a,values:c,texture:u,usage:f,isPacked:p}=i;if(null!=u)return;const g=null!=this.activeTimers;let v;g&&(v=zr());let T=i.texShape;if(null==T&&(T=function IG(n,t=!1){let e=De().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=De().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&De().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=e/2),t&&(e*=2,i*=2,1===(n=n.map((u,f)=>f>=n.length-2?ye(n[f]):n[f])).length&&(n=[2,n[0]])),2!==n.length&&(n=ut(n).newShape);let r=Tt(n),a=null;n.length<=1&&r<=e?a=[1,r]:2===n.length&&n[0]<=e&&n[1]<=e?a=n:3===n.length&&n[0]*n[1]<=e&&n[2]<=e?a=[n[0]*n[1],n[2]]:3===n.length&&n[0]<=e&&n[1]*n[2]<=e?a=[n[0],n[1]*n[2]]:4===n.length&&n[0]*n[1]*n[2]<=e&&n[3]<=e?a=[n[0]*n[1]*n[2],n[3]]:4===n.length&&n[0]<=e&&n[1]*n[2]*n[3]<=e&&(a=[n[0],n[1]*n[2]*n[3]]);const c=null!=a&&Math.max(...a)>i&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||c)if(t){const u=Ib(n);let f=2,p=2;n.length&&([f,p]=Ab(n)),r=u*(f/2)*(p/2),a=It(r).map(g=>2*g)}else a=It(r);return a}(r,p),i.texShape=T),null!=c){const V=wk(r);let Y,ae=T[1],te=T[0];const _e=c instanceof Uint8Array||c instanceof Uint8ClampedArray;(p||!_e)&&([ae,te]=kb(T[0],T[1])),Y=p?new I5(V,_e):new LB(V,_e);const Te=_e?[te,ae]:T,nt=this.makeTensorInfo(Te,a),it=this.texData.get(nt.dataId);it.usage=_e?_h.PIXELS:_h.UPLOAD,it.texShape=Te,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(nt.dataId),ae,te,c);const sn=this.runWebGLProgram(Y,[nt],a,[[te,ae]],!0),dn=this.texData.get(sn.dataId);i.texShape=dn.texShape,i.isPacked=dn.isPacked,i.usage=dn.usage,De().get("ENGINE_COMPILE_ONLY")?this.disposeData(sn.dataId):(i.texture=dn.texture,i.values=null,this.texData.delete(sn.dataId)),this.disposeIntermediateTensorInfo(nt),g&&(this.uploadWaitMs+=zr()-v)}else{const V=this.acquireTexture(T,f,a,p);i.texture=V}}convertAndCacheOnCPU(e,i){const r=this.texData.get(e),{dtype:a}=r;return null!=i&&(r.values=function u6(n,t){if("float32"===t||"complex64"===t)return n;if("int32"===t||"bool"===t){const e="int32"===t?new Int32Array(n.length):new Uint8Array(n.length);for(let i=0;i<e.length;++i)e[i]=Math.round(n[i]);return e}throw new Error(`Unknown dtype ${t}`)}
/** @license See the LICENSE file. */(i,a)),r.values}acquireTexture(e,i,r,a){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const c=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${c} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,i,a)}computeBytes(e,i){return e[0]*e[1]*Gt(i)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}checkCompileCompletionAsync(){var e=this;return(0,q.A)(function*(){const i=[];if(e.gpgpu.parallelCompilationExtension){for(const[,r]of Object.entries(e.binaryCache))i.push(e.checkCompletionAsync_(r));return Promise.all(i)}for(const[,r]of Object.entries(e.binaryCache)){const a=new Promise(c=>{try{e.checkCompletion_(r),c(!0)}catch(u){throw u}});i.push(a)}return Promise.all(i)})()}checkCompletionAsync_(e){var i=this;return(0,q.A)(function*(){return i.gpgpu.gl.getProgramParameter(e.webGLProgram,i.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?i.checkCompletion_(e):(yield rD(),i.checkCompletionAsync_(e))})()}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS))throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)?(DB(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:i,customUniformLocations:r,infLoc:a,nanLoc:c,outShapeLocation:u,outShapeStridesLocation:f,outTexShapeLocation:p}=PB(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=i,e.customUniformLocations=r,e.infLoc=a,e.nanLoc=c,e.outShapeLocation=u,e.outShapeStridesLocation=f,e.outTexShapeLocation=p}}createTensorFromGPUData(e,i,r){e.channels=e.channels||"RGBA";const{texture:a,height:c,width:u,channels:f}=e,p=zl().backend;if(!p.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const g=p.writeTexture(a,i,r,c,u,f);return zl().makeTensorFromDataId(g,i,r,p)}}return n.nextDataId=0,n})();
/**
       * @license
       * Copyright 2020 Google Inc. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
Ai()&&bi("webgl",()=>new c6,2);const DP="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class B_{constructor(t,e,i){this.variableNames=["A","B"],this.outputShape=Ts(e,i),this.enableShapeUniforms=Au(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${t}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const V_="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class Pb{constructor(t,e,i,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ts(e,i);const a=this.outputShape.length;this.enableShapeUniforms=Au(a);let c="";if(r)if(0===a||1===Tt(this.outputShape))c="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(c=`\n          ${Na(a)} coords = getOutputCoords();\n        `,1===a)c+=this.enableShapeUniforms?"\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const f=zu("coords",a);c+=this.enableShapeUniforms?`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:`\n            bool nextRowOutOfBounds =\n              (${f[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${f[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${t}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${c}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Dd(n){const{inputs:t,backend:e}=n,{x:i}=t;return e.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const f6={kernelName:Ba,backendName:"webgl",kernelFunc:Dd};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function jm(n){const{inputs:t,backend:e}=n,{real:i,imag:r}=t,a=e.makeTensorInfo(i.shape,"complex64"),c=e.texData.get(a.dataId),u=Dd({inputs:{x:i},backend:e}),f=Dd({inputs:{x:r},backend:e});return c.complexTensorInfos={real:u,imag:f},a}const p6={kernelName:Bt,backendName:"webgl",kernelFunc:jm},ZB="return (a < 0.) ? b * a : a;",JB="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",g6={kernelName:oa,backendName:"webgl",kernelFunc:function m6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{alpha:a}=i,c=e.makeTensorInfo([],"float32",nu(a,"float32")),u=De().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pb(JB,r.shape,c.shape):new B_(ZB,r.shape,c.shape),f=e.runWebGLProgram(u,[r,c],"float32");return e.disposeIntermediateTensorInfo(c),f}},eV="return (a < 0.) ? b * a : a;",tV="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",y6={kernelName:ie,backendName:"webgl",kernelFunc:function _6(n){const{inputs:t,backend:e}=n,{x:i,alpha:r}=t,a=De().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pb(tV,i.shape,r.shape):new B_(eV,i.shape,r.shape);return e.runWebGLProgram(a,[i,r],"float32")}},Fb="if (isnan(x)) return x;";
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ao({opSnippet:n,packedOpSnippet:t,cpuKernelImpl:e,dtype:i}){return({inputs:r,backend:a})=>{const{x:c}=r,u=a,f=i||c.dtype;if(u.shouldExecuteOnCPU([c])&&null!=e){const v=u.texData.get(c.dataId),T=e(v.values,f);return u.makeTensorInfo(c.shape,f,T)}let g;return g=De().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new zm(c.shape,t):new Df(c.shape,n),u.runWebGLProgram(g,[c],f)}}function gu({opSnippet:n,packedOpSnippet:t,checkOutOfBounds:e=!1,supportsComplex:i=!1,cpuKernelImpl:r,dtype:a}){return({inputs:c,backend:u})=>{const{a:f,b:p}=c,g=u;if(i&&"complex64"===f.dtype){const Y=g.texData.get(f.dataId),ae=g.texData.get(p.dataId),[te,_e]=[[Y.complexTensorInfos.real,ae.complexTensorInfos.real],[Y.complexTensorInfos.imag,ae.complexTensorInfos.imag]].map(nt=>{const[it,St]=nt,Xt={dataId:it.dataId,dtype:it.dtype,shape:f.shape},sn={dataId:St.dataId,dtype:St.dtype,shape:p.shape},dn=new B_(n,f.shape,p.shape);return g.runWebGLProgram(dn,[Xt,sn],Mn(it.dtype,St.dtype))}),Te=jm({inputs:{real:te,imag:_e},backend:g});return g.disposeIntermediateTensorInfo(te),g.disposeIntermediateTensorInfo(_e),Te}const v=a||Mn(f.dtype,p.dtype);if(("string"===f.dtype||"string"===p.dtype||g.shouldExecuteOnCPU([f,p]))&&null!=r){const Y=g.texData.get(f.dataId).values,ae=g.texData.get(p.dataId).values,te="string"===f.dtype?$h(Y):Y,_e="string"===f.dtype?$h(ae):ae,[Te,nt]=r(f.shape,p.shape,te,_e,v),it=g.makeTensorInfo(nt,v);return g.texData.get(it.dataId).values=Te,it}let V;return V=De().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new Pb(t,f.shape,p.shape,e):new B_(n,f.shape,p.shape),g.runWebGLProgram(V,[f,p],v)}}function $x(n,t=!1){if("linear"===n)return t?q8:H8;if("relu"===n)return t?Z8:K8;if("elu"===n)return t?Q8:G8;if("relu6"===n)return t?J8:X8;if("prelu"===n)return t?tV:eV;if("leakyrelu"===n)return t?JB:ZB;if("sigmoid"===n)return t?e6:Y8;throw new Error(`Activation ${n} has not been implemented for the WebGL backend.`)}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nV{constructor(t,e,i,r=!1,a=!1,c=!1,u=null,f=!1,p=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=Au(this.outputShape.length);const v=Math.ceil((r?t[1]:t[2])/2),T=r?"i * 2, rc.y":"rc.y, i * 2",V=a?"rc.z, i * 2":"i * 2, rc.z",Y=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],ae=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let te="",_e="";u&&(te=f?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${u}\n        }`:p?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${u}\n        }`:`vec4 activation(vec4 x) {\n          ${u}\n        }`,_e="result = activation(result);");const Te=c?"result += getBiasAtOutCoords();":"";c&&this.variableNames.push("bias"),f&&this.variableNames.push("preluActivationWeights"),p&&this.variableNames.push("leakyreluAlpha");let nt="rc.x",it="rc.x";t[0]<e[0]?nt=`imod(rc.x, ${t[0]})`:e[0]<t[0]&&(it=`imod(rc.x, ${e[0]})`),this.userCode=`\n      ${te}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${v}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${nt};\n        int batchB = ${it};\n        for (int i = 0; i < ${v}; i++) {\n          vec4 a = getMatrixA(batchA, ${T});\n          vec4 b = getMatrixB(batchB, ${V});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${Y[0]} * ${ae[0]});\n          result += (${Y[1]} * ${ae[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${Te}\n\n        ${_e}\n\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iV={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class rV{constructor(t,e,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ts(e,i),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${t}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const sV="return a * b;";function TP(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=Mn(i.dtype,r.dtype);if("complex64"===i.dtype){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),p=new rV(iV.REAL,i.shape,r.shape),g=new rV(iV.IMAG,i.shape,r.shape),v=[{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:i.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:f.complexTensorInfos.real.dataId,dtype:f.complexTensorInfos.real.dtype,shape:r.shape},{dataId:f.complexTensorInfos.imag.dataId,dtype:f.complexTensorInfos.imag.dtype,shape:r.shape}],T=e.runWebGLProgram(p,v,"float32"),V=e.runWebGLProgram(g,v,"float32"),Y=jm({inputs:{real:T,imag:V},backend:e});return e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V),Y}if(e.shouldExecuteOnCPU([i,r])){const u=e.texData.get(i.dataId),f=e.texData.get(r.dataId),[p,g]=p8(i.shape,r.shape,u.values,f.values,a),v=e.makeTensorInfo(g,a);return e.texData.get(v.dataId).values=p,v}let c;return c=De().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pb(sV,i.shape,r.shape):new B_(sV,i.shape,r.shape),e.runWebGLProgram(c,[i,r],a)}const v6={kernelName:Zo,backendName:"webgl",kernelFunc:TP};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Zi(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{shape:a}=i,c=e,u=Tt(r.shape),f=Ut(a,u),p=Tt(f);Ce(u===p,()=>`The new shape (${f}) has ${p} elements and the old shape (${r.shape}) has ${u} elements. The new shape and old shape must have the same number of elements.`);const g=c.texData.get(r.dataId);return!g.isPacked||xk(r.shape,f)||null!==g.texture&&xk(g.shape,f)?(c.incRef(r.dataId),{dataId:r.dataId,shape:f,dtype:r.dtype}):function b6(n,t,e){const i=[Ib(n.shape),...Ab(n.shape)],r={dtype:n.dtype,shape:i,dataId:n.dataId},a=[Ib(t),...Ab(t)],c=new KB(a,i),p=e.runWebGLProgram(c,[r],n.dtype,[i],!0);return{dataId:p.dataId,shape:t,dtype:p.dtype}}(r,f,c)}const w6={kernelName:ur,backendName:"webgl",kernelFunc:Zi};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class oV{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];const u=4*Math.floor(i/4),f=i%4;let p="sumValue += dot(values, ones);";if(null!=e){const v=1/e;p=`sumValue += dot(values * ${Ye(v)?v.toPrecision(2):v}, ones);`}let g="";a%i>0&&(g=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${g}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===f}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${p}\n        } else if (${2===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${p}\n        } else if (${3===f}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${p}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class E6{constructor(t,e){this.variableNames=["x"];const{windowSize:i,batchSize:r,inSize:a,outSize:c}=t;this.outputShape=[r,c];let u="0.0",f="";"prod"===e?u="1.0":"min"===e?(u="1.0 / 1e-20",f="min"):"max"===e&&(u="-1.0 / 1e-20",f="max");let p=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===e?p="sumValue":"prod"===e?p="prodValue":"all"===e?p="allValue":"any"===e&&(p="anyValue");const g=4*Math.floor(i/4),v=i%4;let T=`\n      if (${"sum"===e}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===e}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${f}(values, minMaxValue);\n        if (${"min"===e} || ${"max"===e}) {\n          minMaxValue = ${f}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,V="vec4";"all"===e?(u="1.0",T="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",V="bvec4"):"any"===e&&(u="0.0",T="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",V="bvec4");let Y="";a%i>0&&(Y=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${u};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${Y}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${i};\n\n        vec4 minMaxValue = vec4(${u});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          ${V} values = ${V}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${T}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===v}) {\n          ${V} values = ${V}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${T}\n        } else if (${2===v}) {\n          ${V} values = ${V}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${T}\n        } else if (${3===v}) {\n          ${V} values = ${V}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${T}\n        }\n        setOutput(${p});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function U_(n,t,e,i){const r=function x6(n){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const e=t.length?t[t.length-1].outSize:n[1],i=ma(e);t.push({inSize:e,windowSize:i,outSize:Math.ceil(e/i)})}return t}(n.shape);let a=n;for(let c=0;c<r.length;c++){const{inSize:u,windowSize:f,outSize:p}=r[c];let g,v;g="mean"===e?0===c?new oV({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},u):new oV({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p}):new E6({windowSize:f,inSize:u,batchSize:n.shape[0],outSize:p},e),v=a,a=i.runWebGLProgram(g,[a],t),v.dataId!==n.dataId&&i.disposeIntermediateTensorInfo(v)}return a}
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class C6{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[e[c]];this.outputShape=i,this.rank=i.length;const r=Na(this.rank),a=function S6(n){const t=n.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(t);for(let r=0;r<n.length;r++)i[n[r]]=e[r];return i.join()}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(e);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class D6{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(t.length);for(let g=0;g<i.length;g++)i[g]=t[e[g]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=Na(this.rank),a=GB("rc",this.rank),c=new Array(this.rank);for(let g=0;g<e.length;g++)c[e[g]]=a[g];const u=`vec2(${c.slice(-2).join()})`,f=`++${a[this.rank-1]} < ${i[this.rank-1]}`,p=`getChannel(getA(${c.join()}), ${u})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${p};\n      if(${f}) {\n        result[1] = ${p};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${i[this.rank-2]}) {\n        result[2] = ${p};\n        if(${f}) {\n          result[3] = ${p};\n        }\n      }\n      setOutput(result);\n    }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ik(n,t,e){const i=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new D6(n.shape,t):new C6(n.shape,t);return e.runWebGLProgram(i,[n],n.dtype)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Ak(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i;return function T6(n,t,e,i){const a=n.shape.length,c=wt(t,n.shape);let u=c;const f=_l(u,a),p=null!=f;let g=n;p&&(g=Ik(n,f,i),u=Ga(u.length,a)),Sc("sum",u,a);const[v,T]=Cc(g.shape,u);let V=v;e&&(V=gl(v,c));const Y=Tt(T),_e=Zi({inputs:{x:g},attrs:{shape:[Tt(n.shape)/Y,Y]},backend:i}),nt=U_(_e,di(n.dtype),"sum",i),it=Zi({inputs:{x:nt},attrs:{shape:V},backend:i});return i.disposeIntermediateTensorInfo(_e),i.disposeIntermediateTensorInfo(nt),p&&i.disposeIntermediateTensorInfo(g),it}(r,a,c,e)}const k6={kernelName:Ii,backendName:"webgl",kernelFunc:Ak};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function ju(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{perm:a}=i,c=e,f=new Array(r.shape.length);for(let g=0;g<f.length;g++)f[g]=r.shape[a[g]];let p;if(c.shouldExecuteOnCPU([r])){const v=c.texData.get(r.dataId).values,T=SP(v,r.shape,r.dtype,a,f);p=c.makeTensorInfo(f,r.dtype),c.texData.get(p.dataId).values=T}else p=Ik(r,a,c);return p}const I6={kernelName:xl,backendName:"webgl",kernelFunc:ju},aV=1e3;
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Mk({a:n,b:t,transposeA:e,transposeB:i,backend:r,bias:a=null,preluActivationWeights:c=null,leakyreluAlpha:u=0,activation:f=null}){const p=n.shape.length,g=t.shape.length,v=e?n.shape[p-2]:n.shape[p-1],T=i?t.shape[g-1]:t.shape[g-2],V=e?n.shape[p-1]:n.shape[p-2],Y=i?t.shape[g-2]:t.shape[g-1],ae=n.shape.slice(0,-2),te=t.shape.slice(0,-2),_e=Tt(ae),Te=Tt(te),it=Ts(n.shape.slice(0,-2),t.shape.slice(0,-2)).concat([V,Y]);Ce(v===T,()=>`Error in matMul: inner shapes (${v}) and (${T}) of Tensors with shapes ${n.shape} and ${t.shape} and transposeA=${e} and transposeB=${i} must match.`);const St=e?[_e,v,V]:[_e,V,v],Xt=i?[Te,Y,T]:[Te,T,Y],sn=Zi({inputs:{x:n},backend:r,attrs:{shape:St}}),dn=Zi({inputs:{x:t},backend:r,attrs:{shape:Xt}}),wn=[sn,dn],Cn=Math.max(_e,Te),Vn=e?sn.shape[1]:sn.shape[2],qn=null!=a,ii=null!=c,ri="leakyrelu"===f,oi=null!=f?$x(f,!0):null;let _i;if((1===V||1===Y)&&Vn>aV&&!1===(qn||ii||ri||null!=oi)){let vi=sn,Ni=dn;e&&(vi=ju({inputs:{x:sn},backend:r,attrs:{perm:[0,2,1]}}),wn.push(vi)),i&&(Ni=ju({inputs:{x:dn},backend:r,attrs:{perm:[0,2,1]}}),wn.push(Ni));const qi=1===Y;let ji=vi;1!==Y&&(ji=Zi({inputs:{x:vi},backend:r,attrs:{shape:[Cn,Vn,1]}}),wn.push(ji));const nr=1===Y?2:1;let Qi=Ni;qi&&(Qi=Zi({inputs:{x:Ni},backend:r,attrs:{shape:[Cn,1,Vn]}}),wn.push(Qi));const wr=TP({inputs:{a:ji,b:Qi},backend:r});_i=Ak({inputs:{x:wr},backend:r,attrs:{axis:nr,keepDims:!0}}),wn.push(wr)}else{const vi=Mn(n.dtype,t.dtype),Ni=new nV(St,Xt,[Cn,V,Y],e,i,qn,oi,ii,ri),$i=[sn,dn];if(null!=a&&$i.push(a),ii&&$i.push(c),ri){const qi=r.makeTensorInfo([],"float32",nu(u,"float32"));$i.push(qi),wn.push(qi)}_i=r.runWebGLProgram(Ni,$i,vi)}const ai=Zi({inputs:{x:_i},backend:r,attrs:{shape:it}});wn.push(_i);for(const vi of wn)r.disposeIntermediateTensorInfo(vi);return ai}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const M6={kernelName:Dt,backendName:"webgl",kernelFunc:function A6(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a,bias:c,preluActivationWeights:u}=t,{transposeA:f,transposeB:p,activation:g,leakyreluAlpha:v}=i;return Mk({a:r,b:a,transposeA:f,transposeB:p,backend:e,bias:c,preluActivationWeights:u,leakyreluAlpha:v,activation:g})}},lV="return abs(x);",R6={kernelName:ni,backendName:"webgl",kernelFunc:function O6(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){const a=e.texData.get(i.dataId),c=WB(a.values);return e.makeTensorInfo(i.shape,i.dtype,c)}let r;return r=De().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new zm(i.shape,lV):new Df(i.shape,lV),e.runWebGLProgram(r,[i],i.dtype)}},P6=Ao({opSnippet:Gd+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),F6={kernelName:gi,backendName:"webgl",kernelFunc:P6},$6=Ao({opSnippet:Gd+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),B6={kernelName:Ui,backendName:"webgl",kernelFunc:$6},cV="return a + b;",V6=gu({opSnippet:cV,packedOpSnippet:cV,supportsComplex:!0,cpuKernelImpl:K5}),U6={kernelName:Ti,backendName:"webgl",kernelFunc:V6};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class z6{constructor(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`float v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class j6{constructor(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map((a,c)=>`T${c}`);const i=[];this.variableNames.forEach(a=>{i.push(`vec4 v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`\n      void main() {\n        ${i.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const W6={kernelName:Hi,backendName:"webgl",kernelFunc:function Ok(n){const{inputs:t,backend:e}=n,i=t;if(1===i.length)return Dd({inputs:{x:i[0]},backend:e});if(i.length>De().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const f=Math.floor(i.length/2),p=Ok({inputs:i.slice(0,f),backend:e}),g=Ok({inputs:i.slice(f),backend:e});return Ok({inputs:[p,g],backend:e})}const r=i.map(f=>f.dtype).reduce((f,p)=>Mn(f,p)),a=i.map(f=>f.shape),u=De().getBool("WEBGL_PACK")?new j6(i[0].shape,a):new z6(i[0].shape,a);return e.runWebGLProgram(u,i,r)}},G6={kernelName:"All",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function H6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=_l(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=Ga(p.length,u)),Sc("all",p,u);const[T,V]=Cc(v.shape,p),ae=Zi({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(V)]}}),te=U_(ae,ae.dtype,"all",e);let _e;return _e=Zi(c?{inputs:{x:te},backend:e,attrs:{shape:gl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),_e}},X6={kernelName:"Any",backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function K6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=_l(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=Ga(p.length,u)),Sc("any",p,u);const[T,V]=Cc(v.shape,p),ae=Zi({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(V)]}}),te=U_(ae,ae.dtype,"any",e);let _e;return _e=Zi(c?{inputs:{x:te},backend:e,attrs:{shape:gl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),_e}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Y6{constructor(t,e,i){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:c}=t;i||this.variableNames.push("bestIndicesA"),this.outputShape=[a,c],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${"max"===e?">":"<"} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class q6{constructor(t,e,i,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Ce(t.length>2,()=>`Packed arg${i.charAt(0).toUpperCase()+i.slice(1)} supports only inputs with rank above 2.`);const c=Math.ceil(t[t.length-1]/e);this.outputShape=t.slice(0,-1),c>1&&this.outputShape.push(c),r||this.variableNames.push("bestIndicesA");const u=this.outputShape,f=u.length,p=Na(f),g=zu("coords",f);let v,T;if(1===c){T=f+1;const dn=Na(T);v=`\n        ${dn} sourceLocR = ${dn}(${g.join()}, 0);\n        ++${g[f-1]};\n        ${dn} sourceLocG = ${dn}(${g.join()}, 0);\n        ++${g[f-2]};\n        ${dn} sourceLocA = ${dn}(${g.join()}, 0);\n        --${g[f-1]};\n        ${dn} sourceLocB = ${dn}(${g.join()}, 0);\n        --${g[f-2]};`}else T=f,v=`\n        ${p} sourceLocR = coords;\n        ++${g[f-1]};\n        ${p} sourceLocG = coords;\n        ++${g[f-2]};\n        ${p} sourceLocA = coords;\n        --${g[f-1]};\n        ${p} sourceLocB = coords;\n        --${g[f-2]};`;const V=["x","y","z","w","u","v"].slice(0,T),Y="."+V[T-1],ae=V.map(dn=>"int "+dn),te=zu("sourceLocR",T-1).concat("inIdx.r"),_e=zu("sourceLocG",T-1).concat("inIdx.g"),Te=zu("sourceLocB",T-1).concat("inIdx.b"),nt=zu("sourceLocA",T-1).concat("inIdx.a"),it="max"===i?"greaterThan":"lessThan",St=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${te.join()}),\n                             getBestIndicesAChannel(${_e.join()}),\n                             getBestIndicesAChannel(${Te.join()}),\n                             getBestIndicesAChannel(${nt.join()})));`,Xt=`vec4(\n            getAChannel(${te.join()}),\n            hasNextCol ? getAChannel(${_e.join()}) : 0.,\n            hasNextRow ? getAChannel(${Te.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${nt.join()}) : 0.)`,sn=r?"":`\n      float getBestIndicesAChannel(${ae.join()}) {\n        return getChannel(getBestIndicesA(${V.join()}),\n                                          vec2(${V.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${ae.join()}) {\n        return getChannel(getA(${V.join()}),\n                               vec2(${V.slice(-2).join()}));\n      }\n      ${sn}\n      void main() {\n        ${p} coords = getOutputCoords();\n        bool hasNextCol = ${g[f-1]} < ${u[f-1]-1};\n        bool hasNextRow = ${g[f-2]} < ${u[f-2]-1};\n        ${v}\n        ivec4 srcIdx = ivec4(sourceLocR${Y}, sourceLocG${Y},\n          sourceLocB${Y}, sourceLocA${Y}) * ${e};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${Xt};\n\n        for (int i = 0; i < ${e}; i++) {\n          inIdx = srcIdx;\n          ${St}\n          vec4 candidate = ${Xt};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${it}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function uV(n,t,e,i=null){let r=t.shape[0],a=t.shape[1];null!=i&&(r=i.shape[0],a=i.shape[1]);const c=ma(a),u={windowSize:c,inSize:a,batchSize:r,outSize:Math.ceil(a/c)},f=new Y6(u,e,null==i),p=[t];null!=i&&p.push(i);const g=n.runWebGLProgram(f,p,"int32");if(1===g.shape[1])return g;const v=uV(n,t,e,g);return n.disposeIntermediateTensorInfo(g),v}function dV(n,t,e,i=null){const r=null!=i?i.shape:t.shape,c=ma(r[r.length-1]),u=new q6(r,c,e,null==i),p=n.runWebGLProgram(u,null==i?[t]:[t,i],"int32");if(p.shape.length===t.shape.length){const g=dV(n,t,e,p);return n.disposeIntermediateTensorInfo(p),g}return p}function hV(n,t,e,i){const r=[e];if(Sc("arg"+i.charAt(0).toUpperCase()+i.slice(1),r,t.shape.length),!De().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const a=[],c=n.texData.get(t.dataId);let f=t;null!==c&&c.isPacked&&(f=n.unpackTensor(t),a.push(f));const[p,g]=Cc(f.shape,r),v=Tt(g),T=Zi({inputs:{x:f},backend:n,attrs:{shape:[-1,v]}});a.push(T);const V=uV(n,T,i);a.push(V);const Y=Zi({inputs:{x:V},backend:n,attrs:{shape:p}});return a.forEach(ae=>n.disposeIntermediateTensorInfo(ae)),Y}return dV(n,t,i)}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z6={kernelName:lr,backendName:"webgl",kernelFunc:function Q6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wt(a,r.shape);const u=_l(c,r.shape.length);let f=r;const p=[];null!=u&&(f=ju({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=Ga(c.length,f.shape.length)),Sc("argMax",[c[0]],f.shape.length);const g=hV(e,f,c[0],"max");return p.forEach(v=>e.disposeIntermediateTensorInfo(v)),g}},eK={kernelName:ir,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J6(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a}=i;let c=wt(a,r.shape);const u=_l(c,r.shape.length);let f=r;const p=[];null!=u&&(f=ju({inputs:{x:r},backend:e,attrs:{perm:u}}),p.push(f),c=Ga(c.length,f.shape.length)),Sc("argMin",[c[0]],f.shape.length);const g=hV(e,f,c[0],"min");return p.forEach(v=>e.disposeIntermediateTensorInfo(v)),g}},nK=Ao({opSnippet:Gd+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),iK={kernelName:Sr,backendName:"webgl",kernelFunc:nK},sK=Ao({opSnippet:Gd+"return log(x + sqrt(x * x + 1.0));"}),oK={kernelName:Hr,backendName:"webgl",kernelFunc:sK},lK=Ao({opSnippet:Gd+"\n  return atan(x);\n"}),cK={kernelName:vs,backendName:"webgl",kernelFunc:lK},hK=gu({opSnippet:DP+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n"}),fK={kernelName:bs,backendName:"webgl",kernelFunc:hK},mK=Ao({opSnippet:Gd+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),gK={kernelName:Vr,backendName:"webgl",kernelFunc:mK};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class Bx{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideHeight,f=t.strideWidth,p=t.dilationHeight,g=t.dilationWidth,v=t.effectiveFilterHeight,T=t.effectiveFilterWidth,V=t.padInfo.top,Y=t.padInfo.left;this.outputShape=t.outShape;const ae="avg"===e;let Te="0.0";if(ae||(Te="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec2 strides = ivec2(${u}, ${f});\n        const ivec2 pads = ivec2(${V}, ${Y});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${v};\n              wR += ${p}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${T};\n                wC += ${g}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`:`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`:`wR * ${T} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let it=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(it="avgValue / max(count, 1.0)");const St=4*Math.floor(c/4),Xt=c%4,sn=`\n      if (${ae}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${u}, ${f});\n      const ivec2 pads = ivec2(${V}, ${Y});\n      const float initializationValue = ${Te};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${Te});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${v};\n            wR += ${p}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${St}; wC += 4) {\n            int xC = xCCorner + wC * ${g};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              getValue(batch, xR, xC + 3 * ${g}, d)\n            );\n\n            ${sn}\n          }\n\n          int xC = xCCorner + ${St};\n          if (${1===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${sn}\n          } else if (${2===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${sn}\n          } else if (${3===Xt}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${g}, d),\n              getValue(batch, xR, xC + 2 * ${g}, d),\n              initializationValue\n            );\n\n            ${sn}\n          }\n        }\n        setOutput(${it});\n      }\n    `}}class kP{constructor(t,e,i,r=!1,a=!1){if(this.variableNames=["x"],"avg"===e&&i)throw new Error("Cannot compute positions for average pool.");const c=t.filterWidth,u=t.strideDepth,f=t.strideHeight,p=t.strideWidth,g=t.dilationDepth,v=t.dilationHeight,T=t.dilationWidth,V=t.effectiveFilterDepth,Y=t.effectiveFilterHeight,ae=t.effectiveFilterWidth,te=t.padInfo.front,_e=t.padInfo.top,Te=t.padInfo.left;this.outputShape=t.outShape;const nt="avg"===e;let it="0.0";if(nt||(it="-1.0 / 1e-20"),i)return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${u}, ${f}, ${p});\n        const ivec3 pads = ivec3(${te}, ${_e}, ${Te});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${V};\n              wD += ${g}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${Y};\n                wR += ${v}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${ae};\n                  wC += ${T}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${Y} * ${ae} +\n                      wR * ${ae} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `);let Xt=`${e}(${e}(${e}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===e&&(Xt="avgValue / max(count, 1.0)");const sn=4*Math.floor(c/4),dn=c%4,wn=`\n      if (${nt}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${u}, ${f}, ${p});\n      const ivec3 pads = ivec3(${te}, ${_e}, ${Te});\n      const float initializationValue = ${it};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${it});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${V};\n            wD += ${g}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${Y};\n            wR += ${v}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${sn}; wC += 4) {\n              int xC = xCCorner + wC * ${T};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${T}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${T}, ch)\n              );\n\n              ${wn}\n            }\n\n            int xC = xCCorner + ${sn};\n            if (${1===dn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${wn}\n            } else if (${2===dn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${wn}\n            } else if (${3===dn}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${T}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${T}, ch),\n                initializationValue\n              );\n\n              ${wn}\n            }\n          }\n        }\n        setOutput(${Xt});\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const yK={kernelName:Ss,backendName:"webgl",kernelFunc:function _K(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Fx(r,"avgPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Ce(xc(c,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Yu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Oe(g.inShape,g.outShape))return Dd({inputs:{x:r},backend:e});const v=new Bx(g,"avg",!1);return e.runWebGLProgram(v,[r],"float32")}},bK={kernelName:Yi,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vK(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dimRoundingMode:f,dataFormat:p}=i,v=rh(r.shape,a,c,[1,1,1],u,f,p),T=new kP(v,"avg",!1);return e.runWebGLProgram(T,[r],"float32")}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class wK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const f=t.effectiveFilterHeight,p=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${f-1-t.padInfo.top}, ${p-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${f};\n            wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${p};\n            wC+= ${t.dilationWidth}) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class EK{constructor(t){this.variableNames=["dy"],this.outputShape=t.inShape;const v=t.effectiveFilterDepth,T=t.effectiveFilterHeight,V=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${v-1-t.padInfo.front}, ${T-1-t.padInfo.top}, ${V-1-t.padInfo.left});\n      const float avgMultiplier = float(${1/(t.filterDepth*t.filterHeight*t.filterWidth)});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${v};\n            wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${T};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${V};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const CK={kernelName:rr,backendName:"webgl",kernelFunc:function xK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,T=rh(c.shape,u,f,[1,1,1],p,g),V=new EK(T);return e.runWebGLProgram(V,[r],c.dtype)}},DK={kernelName:ss,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function SK(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a;Fx([r,a],"avgPoolGrad");const{filterSize:u,strides:f,pad:p}=i,g=Yu(c.shape,u,f,1,p),v=new wK(g);return e.runWebGLProgram(v,[r],c.dtype)}},kK={kernelName:ar,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function TK(n){const{inputs:t,backend:e,attrs:i}=n,{a:r,b:a}=t,{transposeA:c,transposeB:u}=i;return Mk({a:r,b:a,transposeA:c,transposeB:u,backend:e})}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class IK{constructor(t,e,i,r,a,c){this.outputShape=[],this.variableNames=["x","mean","variance"],Ts(t,e),Ts(t,i);let u="0.0";null!=r&&(Ts(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="1.0";null!=a&&(Ts(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${u};\n        float scale = ${f};\n        float inv = scale * inversesqrt(variance + float(${c}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class AK{constructor(t,e,i,r,a,c){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ts(t,e),Ts(t,i);let u="vec4(0.0)";null!=r&&(Ts(t,r),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");let f="vec4(1.0)";null!=a&&(Ts(t,a),this.variableNames.push("scale"),f="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        vec4 offset = ${u};\n        vec4 scale = ${f};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${c}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const MK={kernelName:ba,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i,mean:r,variance:a,offset:c,scale:u}=n;Ce(r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Ce(null==c||r.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Ce(null==u||r.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:f}=e;null==f&&(f=.001);const p=[i,r,a];let g=null;null!=c&&(g=c.shape,p.push(c));let v=null;null!=u&&(v=u.shape,p.push(u));const T=De().getBool("WEBGL_PACK_NORMALIZATION")?new AK(i.shape,r.shape,a.shape,g,v,f):new IK(i.shape,r.shape,a.shape,g,v,f);return t.runWebGLProgram(T,p,p[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class OK{constructor(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;const e=Na(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=function RK(n){if(1===n)return"sourceLoc";if(n<=6)return IP.slice(0,n).map(t=>"sourceLoc."+t).join(",");throw Error(`Slicing for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(this.rank);let r;r=`\n        ${e} sourceLoc;\n        ${e} coords = getOutputCoords();\n        ${t.map((c,u)=>`sourceLoc.${IP[u]} = start[${u}] + coords.${IP[u]};`).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${i}));\n      }\n    `}}const IP=["x","y","z","w","u","v"];class NK{constructor(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const e=Na(this.rank),i=zu("coords",this.rank),r=zu("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,c=`getChannel(getSource(${r.join()}), ${a})`,u=`\n      result.x = ${c};\n      if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${c};\n        --${r[this.rank-1]};\n      }\n    `,f=1===this.rank?"":`\n      --${i[this.rank-1]};\n      if (++${i[this.rank-2]} < ${t[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${c};\n        if (++${i[this.rank-1]} < ${t[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${c};\n        }\n      }\n    `,p=this.rank<=4?`sourceLoc = coords +\n            ${e}(${t.map((g,v)=>`start[${v}]`).join()});`:t.map((g,v)=>`${r[v]} = ${i[v]} + start[${v}];`).join("\n");this.userCode=`\n      void main() {\n        ${e} coords = getOutputCoords();\n        ${e} sourceLoc;\n        ${p}\n        vec4 result = vec4(0.);\n        ${u}\n        ${f}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Lb(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,size:c}=i,[u,f]=ig(r,a,c);if(iy(r,u,f),0===Tt(f))return e.makeTensorInfo(f,r.dtype,[]);if(e.shouldExecuteOnCPU([r])||"string"===r.dtype){const v=e.texData.get(r.dataId),T=S8(v.values,u,f,r.shape,r.dtype);return e.makeTensorInfo(f,r.dtype,T)}const{isPacked:p}=e.texData.get(r.dataId),g=sy(r.shape,u,f);if(p||!g){const v=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NK(f):new OK(f);return e.runWebGLProgram(v,[r],r.dtype,[u])}return e.uploadToGPU(r.dataId),function PK(n,t,e,i){const r=i.texData.get(n.dataId),a=i.makeTensorInfo(e,n.dtype),c=i.texData.get(a.dataId);Object.assign(c,r),c.refCount=1,c.shape=e,c.dtype=n.dtype;let u=oy(t,$t(n.shape));r.slice&&(u+=r.slice.flatOffset),c.slice={flatOffset:u,origDataId:r.slice&&r.slice.origDataId||n.dataId};const f=i.dataRefCount.get(c.slice.origDataId)||1;return i.dataRefCount.set(c.slice.origDataId,f+1),a}(r,u,f,e)}const FK={kernelName:kn,backendName:"webgl",kernelFunc:Lb},LK={kernelName:zi,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,crops:c}=i;Ce(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((Te,nt)=>Te*nt),f=sp(r.shape,a,u),p=Gg(f.length,a.length),g=Kg(r.shape,a,u),v=Xg(c,a.length),T=ev(g,c,a.length),V=[],Y=Zi({inputs:{x:r},backend:e,attrs:{shape:f}}),ae=ju({inputs:{x:Y},backend:e,attrs:{perm:p}}),te=Zi({inputs:{x:ae},backend:e,attrs:{shape:g}}),_e=Lb({inputs:{x:te},backend:e,attrs:{begin:v,size:T}});return V.push(Y),V.push(ae),V.push(te),V.forEach(Te=>e.disposeIntermediateTensorInfo(Te)),_e}},BK={kernelName:si,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $K(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c}=i,u=e.readSync(r.dataId),f=e.readSync(a.dataId),p=jB(u,f,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,p)}},jK={kernelName:Ge,backendName:"webgl",kernelFunc:function zK(n){const{inputs:t,backend:e}=n,{a:i,b:r}=t,a=De().getBool("WEBGL_PACK_BINARY_OPERATIONS"),c=De().getNumber("WEBGL_VERSION");if(e.shouldExecuteOnCPU([i,r])||1===c){const f=e.texData.get(i.dataId).values,p=e.texData.get(r.dataId).values,[g,v]=Y5(i.shape,r.shape,f,p,i.dtype),T=e.makeTensorInfo(v,i.dtype);return e.texData.get(T.dataId).values=g,T}let u;return u=a?new Pb("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",i.shape,r.shape,!1):new B_("\n  return float(int(a.r) & int(b.r));\n",i.shape,r.shape),e.runWebGLProgram(u,[i,r],i.dtype)}},HK={kernelName:ne,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WK(n){const{inputs:t,backend:e}=n,{s0:i,s1:r}=t,a=e.readSync(i.dataId),c=e.readSync(r.dataId),u=Ts(Array.from(a),Array.from(c));return e.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},fV=gu({opSnippet:"return float(a != b);",cpuKernelImpl:g8,dtype:"bool"}),GK={kernelName:hr,backendName:"webgl",kernelFunc:fV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Vx(n){const{inputs:t,backend:e}=n,{input:i}=t;return Dd({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.real},backend:e})}const KK={kernelName:Nn,backendName:"webgl",kernelFunc:Vx},qK={kernelName:et,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function AP(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===r.dtype)return Dd({inputs:{x:r},backend:e});const c=sc(r.shape),u=AP({inputs:{x:r},backend:e,attrs:{dtype:"float32"}}),f=jm({inputs:{real:u,imag:c},backend:e});return c.dispose(),e.disposeIntermediateTensorInfo(u),f}if("complex64"===r.dtype){const c=Vx({inputs:{input:r},backend:e}),u=AP({inputs:{x:c},backend:e,attrs:{dtype:a}});return e.disposeIntermediateTensorInfo(c),u}if(!lt(r.dtype,a)){const c=Dd({inputs:{x:r},backend:e});return{dataId:c.dataId,shape:c.shape,dtype:a}}if(e.shouldExecuteOnCPU([r])){const c=e.texData.get(r.dataId).values,[u,f,p]=q5(c,r.shape,r.dtype,a);return e.makeTensorInfo(u,f,p)}if("int32"===a)return function YK(n,t){const e=new Df(n.shape,"return float(int(x));"),i=t.runWebGLProgram(e,[n],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}(r,e);if("bool"===a){const c=e.makeTensorInfo([],"bool",dt("bool",1)),f=fV({inputs:{a:r,b:c},backend:e});return e.disposeIntermediateTensorInfo(c),f}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${a}`)}},pV="return ceil(x);",QK=Ao({opSnippet:pV,packedOpSnippet:pV,cpuKernelImpl:Q5}),ZK={kernelName:He,backendName:"webgl",kernelFunc:QK};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class JK{constructor(t){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class e7{constructor(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const n7={kernelName:kt,backendName:"webgl",kernelFunc:function t7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{clipValueMin:a,clipValueMax:c}=i;let u;return u=De().getBool("WEBGL_PACK_CLIP")?new e7(r.shape):new JK(r.shape),e.runWebGLProgram(u,[r],r.dtype,[[a],[c]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class i7{constructor(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function mV(n,t){return{dataId:t.dataId,dtype:t.dtype,shape:n.shape}}const s7={kernelName:Jn,backendName:"webgl",kernelFunc:function r7(n){const{inputs:t,backend:e}=n,{x:i}=t,r=e.texData.get(i.dataId),a=new i7(i.shape),c=[mV(i,r.complexTensorInfos.real),mV(i,r.complexTensorInfos.imag)];return e.runWebGLProgram(a,c,c[0].dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class o7{constructor(t){this.outputShape=[],this.outputShape=Lh(t,1),this.variableNames=t.map((c,u)=>`T${u}`);const e=new Array(t.length-1);e[0]=t[0][1];for(let c=1;c<e.length;c++)e[c]=e[c-1]+t[c][1];const i=[`if (yC < ${e[0]}) setOutput(getT0(yR, yC));`];for(let c=1;c<e.length;c++)i.push(`else if (yC < ${e[c]}) setOutput(getT${c}(yR, yC-${e[c-1]}));`);i.push(`else setOutput(getT${e.length}(yR, yC-${e[e.length-1]}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${i.join("\n        ")}\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class a7{constructor(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Lh(t,e);const i=this.outputShape,r=i.length,a=Na(r),c=zu("coords",r),u=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map((ae,te)=>`T${te}`);const f=new Array(t.length-1);f[0]=t[0][e];for(let ae=1;ae<f.length;ae++)f[ae]=f[ae-1]+t[ae][e];const p=u[e],g=u.slice(-2),v=u.join();let T=`if (${p} < ${f[0]}) {\n        return getChannel(\n            getT0(${v}), vec2(${g.join()}));\n        }`;for(let ae=1;ae<f.length;ae++){const te=f[ae-1];T+=`\n        if (${p} < ${f[ae]}  && ${p} >= ${f[ae-1]}) {\n          return getChannel(\n            getT${ae}(${Rk(u,p,te)}),\n            vec2(${Rk(g,p,te)}));\n        }`}const Y=f[f.length-1];T+=`\n        return getChannel(\n          getT${f.length}(${Rk(u,p,Y)}),\n          vec2(${Rk(g,p,Y)}));`,this.userCode=`\n      float getValue(${u.map(ae=>"int "+ae)}) {\n        ${T}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${c}), 0., 0., 0.);\n\n        ${c[r-1]} = ${c[r-1]} + 1;\n        if (${c[r-1]} < ${i[r-1]}) {\n          result.g = getValue(${c});\n        }\n\n        ${c[r-2]} = ${c[r-2]} + 1;\n        if (${c[r-2]} < ${i[r-2]}) {\n          result.a = getValue(${c});\n        }\n\n        ${c[r-1]} = ${c[r-1]} - 1;\n        if (${c[r-2]} < ${i[r-2]} &&\n            ${c[r-1]} < ${i[r-1]}) {\n          result.b = getValue(${c});\n        }\n        setOutput(result);\n      }\n    `}}function Rk(n,t,e){const i=n.indexOf(t);return n.map((a,c)=>c===i?`${a} - ${e}`:a).join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Nk(n){const{inputs:t,backend:e}=n,{input:i}=t;return Dd({inputs:{x:e.texData.get(i.dataId).complexTensorInfos.imag},backend:e})}const l7={kernelName:Ol,backendName:"webgl",kernelFunc:Nk};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Ux(n,t,e){const i=n[0].dtype;if("complex64"===i){const V=n.map(Te=>Vx({inputs:{input:Te},backend:e})),Y=n.map(Te=>Nk({inputs:{input:Te},backend:e})),ae=Ux(V,t,e),te=Ux(Y,t,e),_e=jm({inputs:{real:ae,imag:te},backend:e});return V.forEach(Te=>e.disposeIntermediateTensorInfo(Te)),Y.forEach(Te=>e.disposeIntermediateTensorInfo(Te)),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),_e}let r=e.shouldExecuteOnCPU(n);if("string"===i&&(r=!0),r){const V=n.map(it=>{const Xt=[-1,Tt(it.shape.slice(t))];return Zi({inputs:{x:it},backend:e,attrs:{shape:Xt}})}),Y=V.map(it=>({vals:e.readSync(it.dataId),shape:it.shape})),ae=Lh(V.map(it=>it.shape),1),_e=Z5(Y,ae,i,1===V[0].shape[0]),Te=Lh(n.map(it=>it.shape),t),nt=e.makeTensorInfo(Te,i,_e);return V.forEach(it=>e.disposeIntermediateTensorInfo(it)),nt}const a=n.filter(V=>Tt(V.shape)>0),c=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const V=c?new Df(n[0].shape,Um):new zm(n[0].shape,Um);return e.runWebGLProgram(V,n,i)}const u=De().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>u){const V=[];for(let ae=0;ae<a.length;ae+=u){const te=a.slice(ae,ae+u);V.push(Ux(te,t,e))}const Y=Ux(V,t,e);for(const ae of V)e.disposeIntermediateTensorInfo(ae);return Y}if(c){const V=new a7(a.map(Y=>Y.shape),t);return e.runWebGLProgram(V,a,i)}const{tensors2D:f,outShape:p}=function c7(n,t,e){const i=Lh(n.map(a=>a.shape),t);return{tensors2D:n.map(a=>Zi({inputs:{x:a},attrs:{shape:[-1,Tt(a.shape.slice(t))]},backend:e})),outShape:i}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(a,t,e),g=new o7(f.map(V=>V.shape)),v=e.runWebGLProgram(g,f,i);f.forEach(V=>e.disposeIntermediateTensorInfo(V));const T=Zi({inputs:{x:v},attrs:{shape:p},backend:e});return e.disposeIntermediateTensorInfo(v),T}function gV(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i,a=wt(r,t[0].shape)[0];ww(t.map(p=>p.shape),a);const u=Lh(t.map(p=>p.shape),a);if(0===Tt(u))return e.makeTensorInfo(u,t[0].dtype,[]);const f=t.filter(p=>Tt(p.shape)>0);return 1===f.length?Dd({inputs:{x:f[0]},backend:e}):Ux(f,a,e)}const u7={kernelName:Pi,backendName:"webgl",kernelFunc:gV};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class _V{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=t.outShape;const c=t.padInfo.top,u=t.padInfo.left,f=t.strideHeight,p=t.strideWidth,g=t.dilationHeight,v=t.dilationWidth,T=t.filterHeight,V=t.filterWidth,Y=4*Math.floor(t.inChannels/4),ae=t.inChannels%4,te="channelsLast"===t.dataFormat,_e=te?1:2,Te=te?2:3,nt=te?3:1;let it="",St="";i&&(it=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,St="result = activation(result);");const Xt=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${it}\n\n      const ivec2 strides = ivec2(${f}, ${p});\n      const ivec2 pads = ivec2(${c}, ${u});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${nt}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${_e}], coords[${Te}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${T}; wR++) {\n          int xR = xRCorner + wR * ${g};\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${V}; wC++) {\n            int xC = xCCorner + wC * ${v};\n\n            if (xC < 0 || xC >= ${t.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${Y}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${te}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===ae}) {\n\n              if (${te}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${Y}) *\n                    getW(wR, wC, ${Y}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${Y}, xR, xC) *\n                    getW(wR, wC, ${Y}, d2);\n              }\n\n            } else if (${2===ae}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${Y}, d2),\n                getW(wR, wC, ${Y} + 1, d2)\n              );\n\n              if (${te}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${Y}),\n                  getX(batch, xR, xC, ${Y} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${Y}, xR, xC),\n                  getX(batch, ${Y} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===ae}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${Y}, d2),\n                getW(wR, wC, ${Y} + 1, d2),\n                getW(wR, wC, ${Y} + 2, d2)\n              );\n\n              if (${te}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${Y}),\n                  getX(batch, xR, xC, ${Y} + 1),\n                  getX(batch, xR, xC, ${Y} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${Y}, xR, xC),\n                  getX(batch, ${Y} + 1, xR, xC),\n                  getX(batch, ${Y} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${Xt}\n        ${St}\n        setOutput(result);\n      }\n    `}}class d7{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const e=t.padInfo.front,i=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,c=t.strideHeight,u=t.strideWidth,f=t.dilationDepth,p=t.dilationHeight,g=t.dilationWidth,v=t.filterDepth,T=t.filterHeight,V=t.filterWidth,Y=4*Math.floor(t.inChannels/4),ae=t.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${c}, ${u});\n      const ivec3 pads = ivec3(${e}, ${i}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${v}; wF++) {\n          int xF = xFCorner + wF * ${f};\n\n          if (xF < 0 || xF >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${T}; wR++) {\n            int xR = xRCorner + wR * ${p};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${V}; wC++) {\n              int xC = xCCorner + wC * ${g};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${Y}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===ae}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${Y}) *\n                  getW(wF, wR, wC, ${Y}, d2);\n              } else if (${2===ae}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${Y}),\n                  getX(batch, xF, xR, xC, ${Y} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${Y}, d2),\n                  getW(wF, wR, wC, ${Y} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===ae}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${Y}),\n                  getX(batch, xF, xR, xC, ${Y} + 1),\n                  getX(batch, xF, xR, xC, ${Y} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${Y}, d2),\n                  getW(wF, wR, wC, ${Y} + 1, d2),\n                  getW(wF, wR, wC, ${Y} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Au(this.outputShape.length);const c=t.padInfo.left,u=t.strideWidth,f=t.dilationWidth,p=t.filterHeight,g=t.filterWidth,v=g;let T="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let te=0;te<g;te++)T+=`\n           vec4 xTexelC${2*te};\n           int xTexelC${2*te}Ready;\n           vec4 xTexelC${2*te+1};\n           int xTexelC${2*te+1}Ready;\n           vec4 xC${te};`;T+=`\n     for (int r = 0; r < ${p}; r++) {\n      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {\n       `;for(let te=0;te<g;te++)T+=`\n           xTexelC${2*te} = vec4(0.0);\n           xTexelC${2*te}Ready = 0;\n           xTexelC${2*te+1} = vec4(0.0);\n           xTexelC${2*te+1}Ready = 0;\n           xC${te} = vec4(0.0);`;T+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let te=0;te<(v+1)/2;te++){const _e=2*te;if(T+=`\n           xC = xCCorner + ${_e*f};\n           `,1===u){if(_e<g&&(c%2==1?(T+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${_e}Ready == 0) {\n                   xTexelC${_e} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${_e}.zw = vec2(0.0);\n                   }\n                   xTexelC${_e}Ready = 1;\n                 }\n               `,T+=1===f&&_e>0?`\n                 xC${_e} = vec4(xTexelC${_e-2}.zw, xTexelC${_e}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${_e} = vec4(previous.zw, xTexelC${_e}.xy);\n                   } else {\n                     xC${_e} = vec4(0.0, 0.0, xTexelC${_e}.xy);\n                   }\n                   `):T+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${_e}Ready == 0) {\n                   xTexelC${_e} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${_e}.zw = vec2(0.0);\n                   }\n                   xTexelC${_e}Ready = 1;\n                 }\n\n                 xC${_e} = xTexelC${_e};\n                 `,_e+1<g)){const Te=c%2==0?ye(f):f;f%2==0&&c%2==1||f%2!=0&&c%2!=1?(T+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${Te};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${_e+1}Ready == 0) {\n                     xTexelC${_e+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${_e+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${_e+1}Ready = 1;\n                   }\n                   `,T+=f>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${_e+1} = vec4(previous.zw, xTexelC${_e+1}.xy);\n                     } else {\n                      xC${_e+1} = vec4(0.0, 0.0, xTexelC${_e+1}.xy);\n                     }\n                     `:`\n                     xC${_e+1} = vec4(xTexelC${_e}.zw, xTexelC${_e+1}.xy);\n                     `):T+=1===Te?`\n                     xC${_e+1} = xTexelC${_e};\n                     `:`\n                     xCOffset = xC + ${Te};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${_e+1}Ready == 0) {\n                       xTexelC${_e+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${_e+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${_e+1}Ready = 1;\n                     }\n\n                     xC${_e+1} = xTexelC${_e+1};\n                     `}}else _e<g&&(c%2==1?(T+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${_e}Ready == 0) {\n                   xTexelC${_e} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${_e}.zw = vec2(0.0);\n                   }\n                   xTexelC${_e}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${_e+1}Ready == 0) {\n                   xTexelC${_e+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${_e+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${_e+1}Ready = 1;\n                 }\n\n                 xC${_e} = vec4(xTexelC${_e}.zw, xTexelC${_e+1}.zw);\n               `,_e+1<g&&(T+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${_e+1} = vec4(xTexelC${_e+1}.xy, final.xy);\n                 `)):(T+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${_e}Ready == 0) {\n                   xTexelC${_e} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${_e}.zw = vec2(0.0);\n                   }\n                   xTexelC${_e}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${_e+1}Ready == 0) {\n                   xTexelC${_e+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${_e+1}.zw = vec2(0.);\n                   }\n                   xTexelC${_e+1}Ready = 1;\n                 }\n\n                 xC${_e} = vec4(\n                   xTexelC${_e}.xy, xTexelC${_e+1}.xy);\n               `,_e+1<g&&(T+=`\n                   xC${_e+1} = vec4(xTexelC${_e}.zw, xTexelC${_e+1}.zw);\n                 `)));_e<g&&(T+=`\n             wTexel = getW(r, ${_e}, d1, d2);\n             dotProd += xC${_e}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${t.inChannels}) {\n               dotProd += xC${_e}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,_e+1<g&&(T+=`\n               wTexel = getW(r, ${_e+1}, d1, d2);\n               dotProd += xC${_e+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${t.inChannels}) {\n                 dotProd += xC${_e+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}T+="\n     }\n   ",T+="\n     }\n   ",T+="\n     }\n   ";let V="",Y="";i&&(V=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${i}\n         }`:a?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${i}\n         }`:`vec4 activation(vec4 x) {\n           ${i}\n         }`,Y="result = activation(result);");const ae=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${V}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${T}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${ae}\n         ${Y}\n         setOutput(result);\n       }\n     `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class h7{constructor(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Au(this.outputShape.length);const{dataFormat:i}=e,r=Uu(),a="channelsLast"===i,c=a?1:2,u=a?2:3,f=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`;let p="";for(let g=0;g<=1;g++)for(let v=0;v<=1;v++)p+=`\n          blockIndex = rc.z + ${v};\n          pos = rc.y + ${g};\n\n          ${f}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${c}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${u}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*g+v}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*g+v}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${p}\n\n        ${r.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Pk(n,t){const e=n.length;return e>=3?t?[...n.slice(0,-3),n[e-3]*n[e-2],n[e-1]]:[...n.slice(0,-3),n[e-3],n[e-2]*n[e-1]]:!t&&1===e&&n[0]>1?[n[0],1]:null}function vV({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const f=n.shape,p=i.texData.get(n.dataId),g=e.inChannels,v=f[0]*f[1]*f[2],T=e.outChannels,V="channelsLast"===e.dataFormat;let te;const _e=[];if(null!=a){const it=Pk(a.shape,V);null!=it&&(a=Zi({inputs:{x:a},backend:i,attrs:{shape:it}}),_e.push(a))}if(null!=r){const it=Pk(r.shape,V);null!=it&&(r=Zi({inputs:{x:r},backend:i,attrs:{shape:it}}),_e.push(r))}if((1!==v&&1!==T||!(g>aV))&&p.isPacked&&V&&null!=p.texture&&f[2]%2!=0&&Oe(p.shape.slice(-3),f.slice(-3))){const St={dataId:n.dataId,shape:[1,f[0]*f[1]*(f[2]+1),e.inChannels],dtype:n.dtype},Xt=p.shape;p.shape=p.shape.slice(),p.shape[p.shape.length-2]++,Ce(xk(p.shape,St.shape),()=>`packed reshape ${p.shape} to ${St.shape} isn't free`);const sn=Zi({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}});_e.push(sn);const dn=Mk({a:St,b:sn,backend:i,transposeA:!1,transposeB:!1,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c}),wn=i.texData.get(dn.dataId);Ce(wn.isPacked,()=>"batchMatMul result is expected to be packed"),p.shape=Xt,wn.shape=e.outShape,te=Dd({inputs:{x:dn},backend:i}),te.shape=e.outShape,_e.push(dn)}else{const it=e.outHeight*e.outWidth,St=Zi({inputs:{x:n},backend:i,attrs:{shape:V?[e.batchSize,it,e.inChannels]:[e.batchSize,e.inChannels,it]}}),Xt=Zi({inputs:{x:t},backend:i,attrs:{shape:[1,e.inChannels,e.outChannels]}}),sn=Mk({a:V?St:Xt,b:V?Xt:St,transposeA:!V,transposeB:!1,backend:i,bias:r,activation:u,preluActivationWeights:a,leakyreluAlpha:c});te=Zi({inputs:{x:sn},backend:i,attrs:{shape:e.outShape}}),_e.push(St),_e.push(Xt),_e.push(sn)}for(const it of _e)i.disposeIntermediateTensorInfo(it);return te}function bV({x:n,filter:t,convInfo:e,backend:i,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:c=0,activation:u=null}){const{filterWidth:f,filterHeight:p,inChannels:g,outWidth:v,outHeight:T,dataFormat:V}=e,Y="channelsLast"===V,ae=f*p*g,te=T*v,_e=[e.batchSize,ae,te],it=[];if(null!=a){const ai=Pk(a.shape,Y);null!=ai&&(a=Zi({inputs:{x:a},backend:i,attrs:{shape:ai}}),it.push(a))}if(null!=r){const ai=Pk(r.shape,Y);null!=ai&&(r=Zi({inputs:{x:r},backend:i,attrs:{shape:ai}}),it.push(r))}const St=Zi({inputs:{x:t},backend:i,attrs:{shape:[1,ae,Tt(t.shape)/ae]}});it.push(St);const Xt=new h7(_e,e),dn=i.runWebGLProgram(Xt,[n],"float32",[n.shape,[e.padInfo.top,e.padInfo.left],[e.strideHeight,e.strideWidth],[e.dilationHeight,e.dilationWidth],[e.inChannels],[e.filterWidth*e.inChannels],[e.outWidth]]),wn=Zi({inputs:{x:dn},backend:i,attrs:{shape:_e}});it.push(dn),it.push(wn);const Cn=null!=r,Vn=null!=a,qn="leakyrelu"===u,ii=u?$x(u,!0):null,ri=new nV(Y?wn.shape:St.shape,Y?St.shape:wn.shape,Y?[e.batchSize,te,e.outChannels]:[e.batchSize,e.outChannels,te],!0,!1,Cn,ii,Vn,qn),oi=Y?[wn,St]:[St,wn];if(r&&oi.push(r),Vn&&oi.push(a),qn){const ai=i.makeTensorInfo([],"float32",nu(c,"float32"));oi.push(ai),it.push(ai)}const hi=i.runWebGLProgram(ri,oi,"float32"),_i=Zi({inputs:{x:hi},backend:i,attrs:{shape:e.outShape}});it.push(hi);for(const ai of it)i.disposeIntermediateTensorInfo(ai);return _i}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const p7={kernelName:sr,backendName:"webgl",kernelFunc:function f7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dataFormat:f,dilations:p,dimRoundingMode:g}=i,v=ef(f),T=oo(r.shape,a.shape,c,p,u,g,!1,v);let V;if(1!==T.filterHeight||1!==T.filterWidth||1!==T.dilationHeight||1!==T.dilationWidth||1!==T.strideHeight||1!==T.strideWidth||"SAME"!==T.padInfo.type&&"VALID"!==T.padInfo.type)if(T.strideWidth<=2&&"channelsLast"===v&&De().getBool("WEBGL_EXP_CONV")){const ae=new yV(T);V=e.runWebGLProgram(ae,[r,a],"float32",[[T.padInfo.top,T.padInfo.left],[T.strideHeight,T.strideWidth],[T.dilationHeight,T.dilationWidth],[T.inHeight,T.inWidth]])}else if(De().getBool("WEBGL_CONV_IM2COL"))V=bV({x:r,filter:a,convInfo:T,backend:e});else{const ae=new _V(T);V=e.runWebGLProgram(ae,[r,a],"float32")}else V=vV({x:r,filter:a,convInfo:T,backend:e});const Y=Zi({inputs:{x:V},backend:e,attrs:{shape:T.outShape}});return e.disposeIntermediateTensorInfo(V),Y}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class m7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              ${"channelsLast"===t.dataFormat?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class g7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,c="channelsLast"===t.dataFormat;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c?3:1}];\n\n        ivec2 dyCorner = ivec2(coords[${c?1:2}], coords[${c?2:3}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n\n              if (${c}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class _7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yF = 0; yF < ${t.outDepth}; yF++) {\n            int xF = wF + yF * ${t.strideDepth} - ${t.padInfo.front};\n\n            if (xF < 0 || xF >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${t.outHeight}; yR++) {\n              int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${t.outWidth}; yC++) {\n                int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class y7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterDepth,i=t.filterHeight,r=t.filterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${e-1-t.padInfo.front}, ${i-1-t.padInfo.top}, ${r-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${e}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${t.strideDepth}.0;\n\n          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${e} - 1 - wF;\n\n          for (int wR = 0; wR < ${i}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${i} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const b7={kernelName:Dr,backendName:"webgl",kernelFunc:function v7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,dataFormat:f,dimRoundingMode:p,filterShape:g}=i,v=ef(f),T=oo(r.shape,g,c,1,u,p,!1,v),V=new m7(T);return e.runWebGLProgram(V,[r,a],"float32")}};
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class w7{constructor(t){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=Au(this.outputShape.length);const e=t.filterHeight,i=t.filterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int wCPerm = ${i} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${t.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${t.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${t.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const x7={kernelName:Fr,backendName:"webgl",kernelFunc:function E7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{inputShape:c,strides:u,pad:f,dataFormat:p,dimRoundingMode:g}=i,v=ef(p),T=oo(c,a.shape,u,1,f,g,!1,v);if(De().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===v){const V=[[T.strideHeight,T.strideWidth]],Y=new w7(T);return e.runWebGLProgram(Y,[r,a],"float32",V)}{const V=new g7(T);return e.runWebGLProgram(V,[r,a],"float32")}}},S7={kernelName:Zr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function C7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=Lf(r.shape,a.shape,c,f,u),g=new d7(p);return e.runWebGLProgram(g,[r,a],"float32")}},T7={kernelName:ds,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function D7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,pad:u,filterShape:f}=i,p=Lf(r.shape,f,c,1,u),g=new _7(p);return e.runWebGLProgram(g,[r,a],"float32")}},I7={kernelName:Os,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function k7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{pad:c,strides:u,inputShape:f}=i,p=Lf(f,a.shape,u,1,c),g=new y7(p);return e.runWebGLProgram(g,[r,a],"float32")}},O7=Ao({opSnippet:Fb+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${V_}\n  return result;\n`}),R7={kernelName:Er,backendName:"webgl",kernelFunc:O7},N7=Ao({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),P7={kernelName:Jr,backendName:"webgl",kernelFunc:N7};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class F7{constructor(t,e,i,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[c,u,f,p]=t,[g]=e,[v,T]=i;this.outputShape=[g,v,T,p];const V="bilinear"===r?1:0,[Y,ae]=[u-1+".0",f-1+".0"],[te,_e,Te]=v>1?[""+(u-1)/(v-1),"(y2-y1) * height_ratio",`y1*${Y} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${Y}`],[nt,it,St]=T>1?[""+(f-1)/(T-1),"(x2-x1) * width_ratio",`x1*${ae} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${ae}`];this.userCode=`\n      const float height_ratio = float(${te});\n      const float width_ratio = float(${nt});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${c}) {\n          return;\n        }\n\n        float height_scale = ${_e};\n        float width_scale = ${it};\n\n        float in_y = ${Te};\n        if( in_y < 0.0 || in_y > ${Y} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${St};\n        if( in_x < 0.0 || in_x > ${ae} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${V} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const L7={kernelName:Br,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{image:r,boxes:a,boxInd:c}=t,{cropSize:u,method:f,extrapolationValue:p}=i,g=new F7(r.shape,a.shape,u,f,p);return e.runWebGLProgram(g,[r,a,c],"float32")}};var Fk=function(n){return n.Prod="*",n.Sum="+",n}(Fk||{});class wV{constructor(t,e,i,r){this.op=t,this.outputShape=e,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,u=i?this.op===Fk.Prod?"1.0":"0.0":`getX(${EV(a,"coords",this.op)})`,f=this.outputShape[this.outputShape.length-1];let p="",g="";i?(p=r?"end != "+(f-1):"end != 0",g=r?"end + 1":"end - 1"):(p=r?`end + pow2 < ${f}`:"end >= pow2",g=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${Na(a)} coords = getOutputCoords();\n        int end = ${xV(a,"coords",this.op)};\n        float val = ${u};\n        int pow2 = int(pow(2.0, index));\n        if (${p}) {\n          int idx = ${g};\n          ${xV(a,"coords",this.op)} = idx;\n          val ${this.op}= getX(${EV(a,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function EV(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.x, ${t}.y`;if(3===n)return`${t}.x, ${t}.y, ${t}.z`;if(4===n)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}function xV(n,t,e){if(1===n)return`${t}`;if(2===n)return`${t}.y`;if(3===n)return`${t}.z`;if(4===n)return`${t}.w`;throw new Error(`Cumulative ${e} for rank ${n} is not yet supported`)}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function CV(n,t,e,i,r,a){const c=t.shape.length,u=_l([i],c);let f=t;null!=u&&(f=ju({inputs:{x:t},backend:e,attrs:{perm:u}}));const p=Ga(1,c)[0];if(p!==c-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${i}`);const g=f.shape[p];let v=Dd({inputs:{x:f},backend:e});for(let T=0;T<=Math.ceil(Math.log2(g))-1;T++){const V=new wV(n,f.shape,!1,a),ae=v;v=e.runWebGLProgram(V,[v],v.dtype,[[T]]),e.disposeIntermediateTensorInfo(ae)}if(r){const T=new wV(n,f.shape,r,a),V=v;v=e.runWebGLProgram(T,[v],v.dtype),e.disposeIntermediateTensorInfo(V)}if(null!=u){const V=ju({inputs:{x:v},backend:e,attrs:{perm:rf(u)}});return e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(f),V}return v}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const B7={kernelName:Ds,backendName:"webgl",kernelFunc:function $7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return CV(Fk.Prod,r,e,a,c,u)}},U7={kernelName:ia,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,exclusive:c,reverse:u}=i;return CV(Fk.Sum,r,e,a,c,u)}},j7={kernelName:Mo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function z7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,weights:a}=t,{size:c,binaryOutput:u}=i;if(1===r.shape.length){const f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=jB(f,p,a.dtype,a.shape,c);return e.makeTensorInfo([c],a.dtype,g)}if(2===r.shape.length){const f=e.bufferSync(r),p=e.bufferSync(a),g=X5(f,p,c,u);return e.makeTensorInfo(g.shape,a.dtype,g.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class W7{constructor(t,e,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=i,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${e};\n      int offset_h = imod(h, ${e});\n      int in_w = w / ${e};\n      int offset_w = imod(w, ${e});\n      int offset_d = (offset_h * ${e} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const G7={kernelName:Yo,backendName:"webgl",kernelFunc:function H7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockSize:a,dataFormat:c}=i,u=r.shape[0],v=("NHWC"===c?r.shape[1]:r.shape[2])*a,T=("NHWC"===c?r.shape[2]:r.shape[3])*a,V=("NHWC"===c?r.shape[3]:r.shape[1])/(a*a),ae=new W7("NHWC"===c?[u,v,T,V]:[u,V,v,T],a,c);return e.runWebGLProgram(ae,[r],r.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Au(this.outputShape.length);const c=t.filterHeight,u=t.filterWidth,f=t.outChannels/t.inChannels;let p="",g="";i&&(p=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`\n          float activation(float x) {\n            ${i}\n          }\n        `,g="result = activation(result);");const v=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${p}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${f};\n        int q = d2 - d1 * ${f};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${c}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${u}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${v}\n        ${g}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class DV{constructor(t,e=!1,i=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Au(this.outputShape.length);const c=t.outChannels/t.inChannels,u=t.padInfo.left,f=t.strideWidth,p=t.dilationWidth,g=t.filterHeight,v=t.filterWidth,T=v;let V="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let _e=0;_e<v;_e++)V+=`\n          vec4 xTexelC${2*_e};\n          int xTexelC${2*_e}Ready;\n          vec4 xTexelC${2*_e+1};\n          int xTexelC${2*_e+1}Ready;\n          vec4 xC${_e};`;V+=`\n    for (int r = 0; r < ${g}; r++) {\n      `;for(let _e=0;_e<v;_e++)V+=`\n          xTexelC${2*_e} = vec4(0.0);\n          xTexelC${2*_e}Ready = 0;\n          xTexelC${2*_e+1} = vec4(0.0);\n          xTexelC${2*_e+1}Ready = 0;\n          xC${_e} = vec4(0.0);`;V+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let _e=0;_e<(T+1)/2;_e++){const Te=2*_e;if(V+=`\n          xC = xCCorner + ${Te*p};\n          `,1===f){if(Te<v&&(u%2==1?(V+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${Te}Ready == 0) {\n                  xTexelC${Te} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${Te}.zw = vec2(0.0);\n                  }\n                  xTexelC${Te}Ready = 1;\n                }\n              `,V+=1===p&&Te>0?`\n                xC${Te} = vec4(xTexelC${Te-2}.zw, xTexelC${Te}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${Te} = vec4(previous.zw, xTexelC${Te}.xy);\n                  } else {\n                    xC${Te} = vec4(0.0, 0.0, xTexelC${Te}.xy);\n                  }\n                  `):V+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${Te}Ready == 0) {\n                  xTexelC${Te} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${Te}.zw = vec2(0.0);\n                  }\n                  xTexelC${Te}Ready = 1;\n                }\n\n                xC${Te} = xTexelC${Te};\n                `,Te+1<v)){const nt=u%2==0?ye(p):p;p%2==0&&u%2==1||p%2!=0&&u%2!=1?(V+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${nt};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${Te+1}Ready == 0) {\n                    xTexelC${Te+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${Te+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${Te+1}Ready = 1;\n                  }\n                  `,V+=p>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${Te+1} = vec4(previous.zw, xTexelC${Te+1}.xy);\n                    } else {\n                     xC${Te+1} = vec4(0.0, 0.0, xTexelC${Te+1}.xy);\n                    }\n                    `:`\n                    xC${Te+1} = vec4(xTexelC${Te}.zw, xTexelC${Te+1}.xy);\n                    `):V+=1===nt?`\n                    xC${Te+1} = xTexelC${Te};\n                    `:`\n                    xCOffset = xC + ${nt};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${Te+1}Ready == 0) {\n                      xTexelC${Te+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${Te+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${Te+1}Ready = 1;\n                    }\n\n                    xC${Te+1} = xTexelC${Te+1};\n                    `}}else Te<v&&(u%2==1?(V+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${Te}Ready == 0) {\n                  xTexelC${Te} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${Te}.zw = vec2(0.0);\n                  }\n                  xTexelC${Te}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${Te+1}Ready == 0) {\n                  xTexelC${Te+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${Te+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${Te+1}Ready = 1;\n                }\n\n                xC${Te} = vec4(xTexelC${Te}.zw, xTexelC${Te+1}.zw);\n              `,Te+1<v&&(V+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${Te+1} = vec4(xTexelC${Te+1}.xy, final.xy);\n                `)):(V+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${Te}Ready == 0) {\n                  xTexelC${Te} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${Te}.zw = vec2(0.0);\n                  }\n                  xTexelC${Te}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${Te+1}Ready == 0) {\n                  xTexelC${Te+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${Te+1}.zw = vec2(0.);\n                  }\n                  xTexelC${Te+1}Ready = 1;\n                }\n\n                xC${Te} = vec4(\n                  xTexelC${Te}.xy, xTexelC${Te+1}.xy);\n              `,Te+1<v&&(V+=`\n                  xC${Te+1} = vec4(xTexelC${Te}.zw, xTexelC${Te+1}.zw);\n                `)));Te<v&&(V+=`\n            wTexel = getW(r, ${Te}, d1, q);\n            dotProd += xC${Te} * vec4(wTexel.xz, wTexel.xz);\n          `,Te+1<v&&(V+=`\n              wTexel = getW(r, ${Te+1}, d1, q);\n              dotProd += xC${Te+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}V+="\n    }\n  ",V+="\n      }\n    ";let Y="",ae="";i&&(Y=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,ae="result = activation(result);");const te=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${Y}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${c};\n        int q = d2 - d1 * ${c};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${V}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${te}\n        ${ae}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const X7={kernelName:Fo,backendName:"webgl",kernelFunc:function K7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f,dimRoundingMode:p}=i;let g=f;null==g&&(g=[1,1]),Ce(xc(c,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${g}'`);const v=oo(r.shape,a.shape,c,g,u,p,!0);let T;return T=De().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels==1?new DV(v):new SV(v),e.runWebGLProgram(T,[r,a],"float32",[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]])}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Y7{constructor(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${t.outChannels/t.inChannels} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${t.strideHeight} - ${t.padInfo.top};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${t.strideWidth} - ${t.padInfo.left};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class q7{constructor(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;const e=t.filterHeight,i=t.filterWidth,f=t.outChannels/t.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${e-1-t.padInfo.top}, ${i-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${e}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${e} - 1 - wR;\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${i} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${f}; dm++) {\n              int d2 = d1 * ${f} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Z7={kernelName:Al,backendName:"webgl",kernelFunc:function Q7(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,dy:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,filterShape:g}=i,v=oo(r.shape,g,c,u,f,p,!0),T=new Y7(v);return e.runWebGLProgram(T,[r,a],"float32")}},e9={kernelName:Ya,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function J7(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,filter:a}=t,{strides:c,dilations:u,pad:f,dimRoundingMode:p,inputShape:g}=i,v=oo(g,a.shape,c,u,f,p,!0),T=new q7(v);return e.runWebGLProgram(T,[r,a],"float32")}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class t9{constructor(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const i9={kernelName:qa,backendName:"webgl",kernelFunc:function n9(n){const{inputs:t,backend:e}=n,{x:i}=t,r=[...i.shape,...i.shape],a=Tt(i.shape),c=Zi({inputs:{x:i},backend:e,attrs:{shape:[a]}}),u=new t9(a),f=e.runWebGLProgram(u,[c],c.dtype),p=Zi({inputs:{x:f},backend:e,attrs:{shape:r}});return e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(f),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class r9{constructor(t){this.variableNames=["x","W"],this.outputShape=t.outShape;const{inHeight:e,inWidth:i,padInfo:r,strideHeight:a,strideWidth:c,filterHeight:u,filterWidth:f,dilationHeight:p,dilationWidth:g}=t,{top:v,left:T}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${c});\n      const ivec2 pads = ivec2(${v}, ${T});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${u}; h++) {\n          int hIn = hBeg + h * ${p};\n\n          if (hIn >= 0 && hIn < ${e}) {\n            for (int w = 0; w < ${f}; w++) {\n              int wIn = wBeg + w * ${g};\n\n              if (wIn >= 0 && wIn < ${i}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const o9={kernelName:ya,backendName:"webgl",kernelFunc:function s9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a}=t,{strides:c,pad:u,dilations:f}=i,p=dy(r.shape,a.shape,c,u,"NHWC",f);let g;const v=new r9(p);g=e.runWebGLProgram(v,[r,a],"float32");const T=Zi({inputs:{x:g},backend:e,attrs:{shape:p.outShape}});return e.disposeIntermediateTensorInfo(g),T}},l9={kernelName:va,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function a9(n){const{inputs:t,backend:e,attrs:i}=n,{equation:r}=i,a=t,{allDims:c,summedDims:u,idDims:f}=Ow(r,a.length);Qg(c.length,f,a);const{path:p,steps:g}=av(u,f),v=g.length;let T=null,V=c.length;const Y=[];for(let ae=0;ae<v;++ae){for(const te of g[ae]){const{permutationIndices:_e,expandDims:Te}=Rw(V,f[te]);let nt;ch(_e)?nt=a[te]:(nt=ju({inputs:{x:a[te]},backend:e,attrs:{perm:_e}}),Y.push(nt));const it=nt.shape.slice();for(let St=0;St<Te.length;++St)it.splice(Te[St],0,1);Oe(nt.shape,it)||(nt=Zi({inputs:{x:nt},backend:e,attrs:{shape:it}}),Y.push(nt)),null===T?T=nt:(T=TP({inputs:{a:nt,b:T},backend:e}),Y.push(T))}ae<v-1&&(p[ae]>=0&&(T=Ak({inputs:{x:T},backend:e,attrs:{axis:p[ae]-(c.length-V),keepDims:!1}}),Y.push(T)),V--)}for(const ae of Y)ae!==T&&e.disposeIntermediateTensorInfo(ae);return T}},c9=Ao({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),u9={kernelName:La,backendName:"webgl",kernelFunc:c9},f9={kernelName:hc,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e}=n,{dy:i,y:r}=t,a=De().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pb("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",i.shape,r.shape):new B_("return (b >= 0.0) ? a : a * (b + 1.0);",i.shape,r.shape);return e.runWebGLProgram(a,[i,r],i.dtype)}},p9=gu({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:J5}),m9={kernelName:Bl,backendName:"webgl",kernelFunc:p9},_9=Ao({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Dw};\n  float a1 = ${iv};\n  float a2 = ${Tw};\n  float a3 = ${Zc};\n  float a4 = ${rv};\n  float a5 = ${Yg};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),y9={kernelName:$a,backendName:"webgl",kernelFunc:_9},TV=Ao({opSnippet:Fb+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:e8,dtype:"float32"}),b9={kernelName:Lr,backendName:"webgl",kernelFunc:TV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MP(n){const{inputs:t,attrs:e,backend:i}=n,{dim:r}=e,{input:a}=t,c=a.shape.length,u=a.shape.slice();let f=r;return r<0&&(Ce(-(c+1)<=r,()=>`Axis must be in the interval [${-(c+1)}, ${c}]`),f=c+r+1),u.splice(f,0,1),Zi({inputs:{x:a},backend:i,attrs:{shape:u}})}const w9={kernelName:Mr,backendName:"webgl",kernelFunc:MP},kV="return exp(x) - 1.0;",E9=Ao({opSnippet:kV,packedOpSnippet:kV,cpuKernelImpl:t8}),x9={kernelName:ao,backendName:"webgl",kernelFunc:E9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class IV{constructor(t,e,i){this.variableNames=["real","imag"];const r=e[1];this.outputShape=e;const a=i?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,c=i?`${r}.0`:"1.0";let u;if("real"===t)u="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);u="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${u}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${c};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function AV(n,t,e){const i=e.texData.get(n.dataId),r=Tt(n.shape),a=n.shape[n.shape.length-1],u=Zi({inputs:{x:n},backend:e,attrs:{shape:[r/a,a]}}),f=u.shape,p=new IV("real",f,t),g=new IV("imag",f,t),v=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:f},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:f}],T=e.runWebGLProgram(p,v,"float32"),V=e.runWebGLProgram(g,v,"float32"),Y=jm({inputs:{real:T,imag:V},backend:e});e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V);const ae=Zi({inputs:{x:Y},backend:e,attrs:{shape:n.shape}});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(Y),ae
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}const S9={kernelName:"FFT",backendName:"webgl",kernelFunc:function C9(n){const{inputs:t,backend:e}=n,{input:i}=t;return AV(i,!1,e)}};
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class D9{constructor(t,e){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function zx(n){const{backend:t,attrs:e}=n,{shape:i,value:r}=e;let{dtype:a}=e;if(a=a||nn(r),"string"===a){const c=Z(a,Tt(i));return c.fill(r),t.makeTensorInfo(i,a,c)}{const c=new D9(i,r);return t.runWebGLProgram(c,[],a,[[r]])}}const T9={kernelName:ql,backendName:"webgl",kernelFunc:zx};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class k9{constructor(t){this.variableNames=["Image"],this.outputShape=[];const e=t[2];this.outputShape=t,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${e} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${e}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const I9={kernelName:sa,backendName:"webgl",kernelFunc:({inputs:n,backend:t})=>{const{image:e}=n,i=t,r=new k9(e.shape);return i.runWebGLProgram(r,[e],e.dtype)}},MV="return floor(x);",A9=Ao({opSnippet:MV,packedOpSnippet:MV,cpuKernelImpl:n8}),M9={kernelName:Ks,backendName:"webgl",kernelFunc:A9},O9=gu({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),R9={kernelName:lo,backendName:"webgl",kernelFunc:O9};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class N9{constructor(t){this.variableNames=["A"];const e=Uu(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${i}.0);\n\n        vec4 values = ${e.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class P9{constructor(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const e=Uu(),[i,r]=t;this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${i}.0);\n            vec4 values = ${e.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${e.output} = result;\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const F9={kernelName:Cl,backendName:"webgl",kernelFunc:function L9(n){const{inputs:t,backend:e,attrs:i}=n;let{pixels:r}=t;const{numChannels:a}=i,c=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,u=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[f,p]=c?[r.videoWidth,r.videoHeight]:[r.width,r.height],g=[p,f],v=[p,f,a];if(u||c){const ae=De().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==$b||ae!==OP)&&(OP=ae,$b=document.createElement("canvas").getContext("2d",{willReadFrequently:OP})),$b.canvas.width=f,$b.canvas.height=p,$b.drawImage(r,0,0,f,p),r=$b.canvas}const T=e.makeTensorInfo(g,"int32");e.texData.get(T.dataId).usage=_h.PIXELS,e.gpgpu.uploadPixelDataToTexture(e.getTexture(T.dataId),r);const V=De().getBool("WEBGL_PACK")?new P9(v):new N9(v),Y=e.runWebGLProgram(V,[T],"int32");return e.disposeData(T.dataId),Y
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}};let $b,OP=De().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const B9={kernelName:Ve,backendName:"webgl",kernelFunc:function $9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dataFormat:g,dilations:v,dimRoundingMode:T,activation:V,leakyreluAlpha:Y}=i,ae=ef(g),te=oo(r.shape,a.shape,f,v,p,T,!1,ae);let _e;const Te=[],nt=null!=c,it=null!=u,St="leakyrelu"===V,Xt=()=>{const dn=[r,a],wn=(Cn,Vn)=>{if("NCHW"===Vn&&1===Cn.shape.length&&1!==Cn.shape[0]){const qn=Zi({inputs:{x:Cn},backend:e,attrs:{shape:[Cn.shape[0],1,1]}});return Te.push(qn),qn}return Cn};if(nt&&dn.push(wn(c,g)),it&&dn.push(wn(u,g)),St){const Cn=e.makeTensorInfo([],"float32",nu(Y,"float32"));dn.push(Cn),Te.push(Cn)}return dn};if(1!==te.filterHeight||1!==te.filterWidth||1!==te.dilationHeight||1!==te.dilationWidth||1!==te.strideHeight||1!==te.strideWidth||"SAME"!==te.padInfo.type&&"VALID"!==te.padInfo.type)if(te.strideWidth<=2&&"channelsLast"===ae&&De().getBool("WEBGL_EXP_CONV")){const dn=V?$x(V,!0):null,wn=new yV(te,nt,dn,it,St),Cn=[[te.padInfo.top,te.padInfo.left],[te.strideHeight,te.strideWidth],[te.dilationHeight,te.dilationWidth],[te.inHeight,te.inWidth]],Vn=Xt();_e=e.runWebGLProgram(wn,Vn,"float32",Cn)}else if(De().getBool("WEBGL_CONV_IM2COL"))_e=bV({x:r,filter:a,convInfo:te,backend:e,bias:c,activation:V,preluActivationWeights:u,leakyreluAlpha:Y});else{const dn=V?$x(V,!1):null,wn=new _V(te,nt,dn,it,St),Cn=Xt();_e=e.runWebGLProgram(wn,Cn,"float32")}else _e=vV({x:r,filter:a,convInfo:te,backend:e,bias:c,activation:V,preluActivationWeights:u,leakyreluAlpha:Y});const sn=Zi({inputs:{x:_e},backend:e,attrs:{shape:te.outShape}});return Te.push(_e),Te.forEach(dn=>e.disposeIntermediateTensorInfo(dn)),sn}},U9={kernelName:_t,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function V9(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,filter:a,bias:c,preluActivationWeights:u}=t,{strides:f,pad:p,dilations:g,dimRoundingMode:v,activation:T,leakyreluAlpha:V}=i,Y=[];let ae=g;null==ae&&(ae=[1,1]),Ce(xc(f,ae),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${f} and dilations '${ae}'`);const te=oo(r.shape,a.shape,f,ae,p,v,!0),_e=De().getBool("WEBGL_PACK_DEPTHWISECONV")&&te.strideWidth<=2&&te.outChannels/te.inChannels==1,Te=T?$x(T,_e):null,nt=[r,a],it=null!=c,St=null!=u,Xt="leakyrelu"===T;if(it&&nt.push(c),St&&nt.push(u),Xt){const Cn=e.makeTensorInfo([],"float32",nu(V,"float32"));nt.push(Cn),Y.push(Cn)}let sn;sn=_e?new DV(te,it,Te,St,Xt):new SV(te,it,Te,St,Xt);const wn=e.runWebGLProgram(sn,nt,"float32",[[te.padInfo.top,te.padInfo.left],[te.strideHeight,te.strideWidth],[te.dilationHeight,te.dilationWidth],[te.inHeight,te.inWidth]]);return Y.forEach(Cn=>e.disposeIntermediateTensorInfo(Cn)),wn}};class z9{constructor(t,e,i,r){this.sliceDim=t,this.strides=e,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=i;const a=Na(i.length);let c="\n    int index;";for(let u=0;u<this.sliceDim;u++)c+=`\n          index = round(getIndices(coords[0], ${u}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[u]};\n          flattenIndex += index * ${this.strides[u]};`;this.userCode=`\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${c}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const W9={kernelName:ol,backendName:"webgl",kernelFunc:function j9(n){const{inputs:t,backend:e}=n,{params:i,indices:r}=t,a=r.shape,c=a[a.length-1],u=Tt(i.shape),[f,p,g,v]=tv(i,r),T=Zi({inputs:{x:r},backend:e,attrs:{shape:[p,c]}}),V=Zi({inputs:{x:i},backend:e,attrs:{shape:[Tt(i.shape)/g,g]}});if(e.shouldExecuteOnCPU([i,r])||"string"===i.dtype){const _e=e.readSync(r.dataId),Te=e.bufferSync(i),nt=i8(_e,Te,i.dtype,p,c,g,v,i.shape,u);return e.makeTensorInfo(f,i.dtype,nt.values)}const Y=new z9(c,v,[p,g],i.shape),ae=e.runWebGLProgram(Y,[V,T],V.dtype),te=Zi({inputs:{x:ae},backend:e,attrs:{shape:f}});return e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(ae),te}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class H9{constructor(t,e){this.variableNames=["A","indices"],this.outputShape=e,this.rank=e.length;const i=Na(this.rank),r=function G9(n,t){const e=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let r=0;r<n.length;r++)i.push(2===r?"index":`${e[r]}`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function OV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,indices:a}=t,{axis:c,batchDims:u}=i,f=wt(c,r.shape)[0];if(De().get("DEBUG")){const Te=e.readSync(a.dataId),nt=r.shape[f];for(let it=0;it<Te.length;++it){const St=Te[it];Ce(St<=nt-1&&St>=0,()=>`GatherV2: the index value ${St} is not in [0, ${nt-1}]`)}}const p=Lw(r,a,f,u),g=Tt(a.shape),v=[],T=Zi({inputs:{x:r},backend:e,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),V=Zi({inputs:{x:a},backend:e,attrs:{shape:[p.batchSize,g/p.batchSize]}});v.push(T),v.push(V);const Y=[p.batchSize,p.outerSize,g/p.batchSize,p.sliceSize];if(e.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const Te=e.bufferSync(V),nt=e.bufferSync(T),it=r8(nt,Te,Y);return v.forEach(St=>e.disposeIntermediateTensorInfo(St)),e.makeTensorInfo(p.outputShape,it.dtype,it.values)}const ae=new H9(T.shape,Y),te=e.runWebGLProgram(ae,[T,V],T.dtype);v.push(te);const _e=Zi({inputs:{x:te},backend:e,attrs:{shape:p.outputShape}});return v.forEach(Te=>e.disposeIntermediateTensorInfo(Te)),_e}const K9={kernelName:Lo,backendName:"webgl",kernelFunc:OV},X9=gu({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:s8,dtype:"bool"}),Y9={kernelName:wo,backendName:"webgl",kernelFunc:X9},q9=gu({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:o8}),Q9={kernelName:Eo,backendName:"webgl",kernelFunc:q9},J9={kernelName:qo,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Z9(n){const{inputs:t,backend:e}=n,{input:i}=t;return AV(i,!0,e)}},eX=Ao({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),tX={kernelName:wa,backendName:"webgl",kernelFunc:eX},nX=Ao({opSnippet:"return float(isinf(x));",dtype:"bool"}),iX={kernelName:kr,backendName:"webgl",kernelFunc:nX},rX=Ao({opSnippet:"return float(isnan(x));",dtype:"bool"}),sX={kernelName:ws,backendName:"webgl",kernelFunc:rX},oX=gu({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:a8,dtype:"bool"}),aX={kernelName:go,backendName:"webgl",kernelFunc:oX},lX=gu({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:l8,dtype:"bool"}),cX={kernelName:Qa,backendName:"webgl",kernelFunc:lX},dX={kernelName:Za,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function uX(n){const{backend:t,attrs:e}=n,{start:i,stop:r,num:a}=e,c=c8(i,r,a);return t.makeTensorInfo([c.length],"float32",c)}},fX=Ao({opSnippet:Fb+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:u8}),pX={kernelName:al,backendName:"webgl",kernelFunc:fX},gX=Ao({opSnippet:Fb+"\n  return log(1.0 + x);\n"}),_X={kernelName:Oi,backendName:"webgl",kernelFunc:gX},yX=gu({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),vX={kernelName:Oo,backendName:"webgl",kernelFunc:yX},bX=Ao({opSnippet:"return float(!(x >= 1.0));"}),wX={kernelName:_o,backendName:"webgl",kernelFunc:bX},EX=gu({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),xX={kernelName:$o,backendName:"webgl",kernelFunc:EX};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class CX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[];const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${c}; j <= ${c}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${u}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${f};\n        setOutput(val);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class SX{constructor(t,e,i,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const c=e,u=t[3]-1;let f;this.outputShape=t;const p=`float(${i}) + float(${r}) * sum`;f=.5===a?`inversesqrt(${p})`:1===a?`1.0/(${p})`:`exp(log(${p}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${c};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${c}; j <= ${c}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${u}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${f};\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const DX={kernelName:Qo,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{depthRadius:a,bias:c,alpha:u,beta:f}=i,p=De().getBool("WEBGL_PACK_NORMALIZATION")?new SX(r.shape,a,c,u,f):new CX(r.shape,a,c,u,f);return e.runWebGLProgram(p,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class TX{constructor(t,e,i,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=i,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${e})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${e} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${i});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const kX={kernelName:aa,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r,y:a,dy:c}=t,{depthRadius:u,bias:f,alpha:p,beta:g}=i,v=new TX(r.shape,u,f,p,g);return e.runWebGLProgram(v,[r,a,c],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function RV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reductionIndices:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=_l(p,u),v=null!=g,T=e.shouldExecuteOnCPU([r]);let V=r;if(v){if(T){const nt=e.texData.get(V.dataId).values,it=new Array(u);for(let sn=0;sn<it.length;sn++)it[sn]=r.shape[g[sn]];const St=SP(nt,r.shape,r.dtype,g,it);V=e.makeTensorInfo(it,r.dtype),e.texData.get(V.dataId).values=St}else V=Ik(r,g,e);p=Ga(p.length,u)}Sc("max",p,u);const[Y,ae]=Cc(V.shape,p);let _e,te=Y;if(c&&(te=gl(Y,f)),T){const nt=e.texData.get(V.dataId).values,it=d8(nt,Tt(ae),te,r.dtype);_e=e.makeTensorInfo(te,r.dtype),e.texData.get(_e.dataId).values=it}else _e=function IX(n,t,e,i){const r=Tt(t),u=Zi({inputs:{x:n},attrs:{shape:[Tt(n.shape)/r,r]},backend:i}),f=U_(u,n.dtype,"max",i),p=Zi({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p}(V,ae,te,e);return v&&e.disposeIntermediateTensorInfo(V),_e}const AX={kernelName:Ea,backendName:"webgl",kernelFunc:RV},RX=gu({opSnippet:DP+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n",cpuKernelImpl:h8}),NX={kernelName:Bo,backendName:"webgl",kernelFunc:RX},FX={kernelName:Ua,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function PX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;Fx(r,"maxPool");const{filterSize:a,strides:c,pad:u,dimRoundingMode:f}=i;Ce(xc(c,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${c} and dilations '1'`);const g=Yu(r.shape,a,c,1,u,f);if(1===g.filterWidth&&1===g.filterHeight&&Oe(g.inShape,g.outShape))return Dd({inputs:{x:r},backend:e});const v=new Bx(g,"max",!1);return e.runWebGLProgram(v,[r],r.dtype)}},$X={kernelName:wl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{filterSize:a,strides:c,pad:u,dataFormat:f,dimRoundingMode:p}=i,v=rh(r.shape,a,c,[1,1,1],u,p,f),T=new kP(v,"max",!1);return e.runWebGLProgram(T,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class BX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const a=t.effectiveFilterHeight,c=t.effectiveFilterWidth;this.userCode=`\n      const ivec2 pads = ivec2(${a-1-t.padInfo.top}, ${c-1-t.padInfo.left});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${t.dilationHeight}) {\n          float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${c}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${a*c-1} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${c} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class VX{constructor(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;const f=t.effectiveFilterDepth,p=t.effectiveFilterHeight,g=t.effectiveFilterWidth;this.userCode=`\n      const ivec3 pads = ivec3(${f-1-t.padInfo.front}, ${p-1-t.padInfo.top}, ${g-1-t.padInfo.left});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${f};\n           wD += ${t.dilationDepth}) {\n          float dyD = float(dyDCorner + wD) / ${t.strideDepth}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${t.dilationHeight}) {\n            float dyR = float(dyRCorner + wR) / ${t.strideHeight}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${g};\n                wC += ${t.dilationWidth}) {\n              float dyC = float(dyCCorner + wC) / ${t.strideWidth}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${f*p*g-1} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${p} * ${g} +\n                  wR * ${g} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const zX={kernelName:Rs,backendName:"webgl",kernelFunc:function UX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a}=t,c=a,{filterSize:u,strides:f,pad:p,dimRoundingMode:g}=i,T=rh(c.shape,u,f,[1,1,1],p,g),V=new kP(T,"max",!0),Y=e.runWebGLProgram(V,[c],c.dtype),ae=new VX(T),te=e.runWebGLProgram(ae,[r,Y],c.dtype);return e.disposeIntermediateTensorInfo(Y),te}},WX={kernelName:ll,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function jX(n){const{inputs:t,backend:e,attrs:i}=n,{dy:r,input:a,output:c}=t,u=a;Fx([a,c],"maxPoolGrad");const{filterSize:f,strides:p,pad:g,dimRoundingMode:v}=i,T=Yu(u.shape,f,p,1,g,v),Y=new Bx(T,"max",!0),ae=e.runWebGLProgram(Y,[u],u.dtype),te=new BX(T),_e=e.runWebGLProgram(te,[r,ae],u.dtype);return e.disposeIntermediateTensorInfo(ae),_e}},GX={kernelName:cl,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{filterSize:r,strides:a,pad:c,includeBatchInIndex:u}=t,f=e;Ce(4===i.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${i.shape.length}.`);const p=[1,1];Ce(xc(a,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${p}'`);const g=Yu(i.shape,r,a,p,c),[v,T]=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function HX(n,t,e,i){let r=new Bx(e,"max",!1);const a=i.runWebGLProgram(r,[n],"float32");return r=new Bx(e,"max",!0,!0,t),[a,i.runWebGLProgram(r,[n],"float32")]}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(i,u,g,f);return[v,T]}},XX={kernelName:la,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{x:i}=n,{keepDims:r,axis:a}=t,c=e,u=i.shape.length,f=wt(a,i.shape);let p=f;const g=_l(p,u),v=null!=g,T=c.shouldExecuteOnCPU([i]),V=[];let Y=i;if(v){if(T){const it=c.texData.get(Y.dataId).values,St=new Array(u);for(let dn=0;dn<St.length;dn++)St[dn]=i.shape[g[dn]];const Xt=SP(it,i.shape,i.dtype,g,St);Y=c.makeTensorInfo(St,i.dtype),c.texData.get(Y.dataId).values=Xt}else Y=Ik(i,g,c);V.push(Y),p=Ga(p.length,u)}Sc("sum",p,u);const[ae,te]=Cc(Y.shape,p);let _e=ae;r&&(_e=gl(ae,f));const Te=
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function KX(n,t,e,i){const r=Tt(t),u=Zi({inputs:{x:n},attrs:{shape:[Tt(n.shape)/r,r]},backend:i}),f=U_(u,"float32","mean",i),p=Zi({inputs:{x:f},attrs:{shape:e},backend:i});return i.disposeIntermediateTensorInfo(u),i.disposeIntermediateTensorInfo(f),p
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */}(Y,te,_e,c);for(const nt of V)c.disposeIntermediateTensorInfo(nt);return Te}},qX={kernelName:es,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function YX(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=wt(a,r.shape);let p=f;const g=_l(p,u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),p=Ga(p.length,r.shape.length)),Sc("min",p,u);const[T,V]=Cc(v.shape,p),ae=Zi({inputs:{x:v},backend:e,attrs:{shape:[-1,Tt(V)]}}),te=U_(ae,ae.dtype,"min",e);let _e;return _e=Zi(c?{inputs:{x:te},backend:e,attrs:{shape:gl(T,f)}}:{inputs:{x:te},backend:e,attrs:{shape:T}}),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(te),null!=g&&e.disposeIntermediateTensorInfo(v),_e}},JX=gu({opSnippet:DP+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+V_+"\n  return result;\n",cpuKernelImpl:f8}),eY={kernelName:Ja,backendName:"webgl",kernelFunc:JX};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class tY{constructor(t,e,i){this.variableNames=["x"],this.outputShape=e.map((g,v)=>g[0]+t[v]+g[1]);const r=t.length,a=Na(r),c=e.map(g=>g[0]).join(","),u=e.map((g,v)=>g[0]+t[v]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),p="reflect"===i?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${p};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${p};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${f}));\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${p};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${p};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class nY{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((Y,ae)=>Y[0]+t[ae]+Y[1]);const r=t.length,a=Na(r),c=e.map(Y=>Y[0]).join(","),u=e.map((Y,ae)=>Y[0]+t[ae]).join(","),f=zu("rc",r),p=zu("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,v=1===r?"source":`vec2(${p.slice(-2).join()})`,T="reflect"===i?0:1;let V="";if(1===r){const Y=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${T};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${T};\n        }\n        source -= start;\n      `;V=`\n        ${a} rc = outputLoc;\n        ${Y}\n        result[0] = getChannel(getX(${p.join()}), ${v});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${Y}\n          result[1] = getChannel(getX(${p.join()}), ${v});\n        }\n      `}else{const Y=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${T}) +\n                gte * ((end - 1) * 2 - source + ${T});\n        source -= start;\n      `;V=`\n        ${a} rc = outputLoc;\n        ${Y}\n        result[0] = getChannel(getX(${p.join()}), ${v});\n        ${f[r-1]} += 1;\n        if(${g}) {\n          ${Y}\n          result[1] = getChannel(getX(${p.join()}), ${v});\n        }\n        rc = outputLoc;\n        ${f[r-2]} += 1;\n        if(${f[r-2]} < ${this.outputShape[r-2]}) {\n          ${Y}\n          result[2] = getChannel(getX(${p.join()}), ${v});\n          ${f[r-1]} += 1;\n          if(${g}) {\n            ${Y}\n            result[3] = getChannel(getX(${p.join()}), ${v});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${V}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const iY={kernelName:co,backendName:"webgl",kernelFunc:({inputs:n,backend:t,attrs:e})=>{const{x:i}=n,{paddings:r,mode:a}=e,c=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nY(i.shape,r,a):new tY(i.shape,r,a);return t.runWebGLProgram(c,[i],i.dtype)}},oY=gu({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+V_+"\n  return result;\n"}),aY={kernelName:xa,backendName:"webgl",kernelFunc:oY};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class lY{constructor(t,e,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,i],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${e-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${e-1}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const NV=gu({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),cY={kernelName:Fa,backendName:"webgl",kernelFunc:NV},PV="return a - b;",FV=gu({opSnippet:PV,packedOpSnippet:PV,supportsComplex:!0,cpuKernelImpl:N8}),uY={kernelName:Ic,backendName:"webgl",kernelFunc:FV};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function LV(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{dim:a}=i,c=wt([a],r.shape),u=RV({inputs:{x:r},backend:e,attrs:{reductionIndices:c,keepDims:!1}}),f=gl(u.shape,c),p=Zi({inputs:{x:u},backend:e,attrs:{shape:f}}),g=FV({inputs:{a:r,b:p},backend:e}),v=TV({inputs:{x:g},backend:e}),T=Ak({inputs:{x:v},backend:e,attrs:{axis:c,keepDims:!1}}),V=Zi({inputs:{x:T},backend:e,attrs:{shape:f}}),Y=NV({inputs:{a:v,b:V},backend:e});return e.disposeIntermediateTensorInfo(u),e.disposeIntermediateTensorInfo(p),e.disposeIntermediateTensorInfo(g),e.disposeIntermediateTensorInfo(v),e.disposeIntermediateTensorInfo(T),e.disposeIntermediateTensorInfo(V),Y}const dY={kernelName:os,backendName:"webgl",kernelFunc:LV},fY={kernelName:Ca,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function hY(n){const{inputs:t,backend:e,attrs:i}=n,{logits:r}=t,{numSamples:a,seed:c,normalized:u}=i,f=u?r:LV({inputs:{logits:r},backend:e,attrs:{dim:r.shape.length-1}}),v=new lY(f.shape[0],f.shape[1],a),V=e.runWebGLProgram(v,[f],"int32",[[c]]);return u||e.disposeIntermediateTensorInfo(f),V}},pY=Gd+"\n  return -x;\n",_Y={kernelName:ul,backendName:"webgl",kernelFunc:function gY(n){const{inputs:t,backend:e}=n,{x:i}=t;if(e.shouldExecuteOnCPU([i])){const a=e.texData.get(i.dataId),[c,u]=m8(a.values,i.shape,i.dtype);return e.makeTensorInfo(u,i.dtype,c)}let r;return r=De().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new zm(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Df(i.shape,pY),e.runWebGLProgram(r,[i],i.dtype)}},yY=lw,bY={kernelName:ks,backendName:"webgl",kernelFunc:function vY(n){an("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),{selectedIndices:v}=yY(p,g,c,u,f);return e.makeTensorInfo([v.length],"int32",new Int32Array(v))}},wY=cw,xY={kernelName:uo,backendName:"webgl",kernelFunc:function EY(n){an("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,padToMaxOutputSize:p}=i,g=e.readSync(r.dataId),v=e.readSync(a.dataId),{selectedIndices:T,validOutputs:V}=wY(g,v,c,u,f,p);return[e.makeTensorInfo([T.length],"int32",new Int32Array(T)),e.makeTensorInfo([],"int32",new Int32Array([V]))]}},CY=np,DY={kernelName:za,backendName:"webgl",kernelFunc:function SY(n){an("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:e,attrs:i}=n,{boxes:r,scores:a}=t,{maxOutputSize:c,iouThreshold:u,scoreThreshold:f,softNmsSigma:p}=i,g=e.readSync(r.dataId),v=e.readSync(a.dataId),T=c,V=u,Y=f,ae=p,{selectedIndices:te,selectedScores:_e}=CY(g,v,T,V,Y,ae);return[e.makeTensorInfo([te.length],"int32",new Int32Array(te)),e.makeTensorInfo([_e.length],"float32",new Float32Array(_e))]}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class TY{constructor(t,e,i,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${i}),\n                      float(index == coords.y)));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const kY={kernelName:jt,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{indices:r}=t,{dtype:a,depth:c,onValue:u,offValue:f}=i,p=Tt(r.shape),g=new TY(p,c,u,f),v=Zi({inputs:{x:r},backend:e,attrs:{shape:[p]}}),T=e.runWebGLProgram(g,[v],a);e.disposeIntermediateTensorInfo(v);const Y=Zi({inputs:{x:T},backend:e,attrs:{shape:[...r.shape,c]}});return e.disposeIntermediateTensorInfo(T),Y}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function Lk(n){const{inputs:t,backend:e}=n,{x:i}=t;if("complex64"===i.dtype){const r=Vx({inputs:{input:i},backend:e}),a=Lk({inputs:{x:r},backend:e}),c=Nk({inputs:{input:i},backend:e}),u=Lk({inputs:{x:c},backend:e}),f=jm({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return zx({attrs:{shape:i.shape,dtype:i.dtype,value:"string"===i.dtype?"":0},backend:e})}const IY={kernelName:Ac,backendName:"webgl",kernelFunc:Lk},AY={kernelName:Us,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function $V(n){const{inputs:t,backend:e}=n,{x:i}=t;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const r=Vx({inputs:{input:i},backend:e}),a=$V({inputs:{x:r},backend:e}),c=Nk({inputs:{input:i},backend:e}),u=Lk({inputs:{x:c},backend:e}),f=jm({inputs:{real:a,imag:u},backend:e});return e.disposeIntermediateTensorInfo(r),e.disposeIntermediateTensorInfo(a),e.disposeIntermediateTensorInfo(c),e.disposeIntermediateTensorInfo(u),f}return zx({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:e})}},OY={kernelName:de,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function MY(n){const{inputs:t,backend:e,attrs:i}=n,{axis:r}=i;if(1===t.length)return MP({inputs:{input:t[0]},backend:e,attrs:{dim:r}});const a=t[0].shape,c=t[0].dtype;t.forEach(g=>{Qt(a,g.shape,"All tensors passed to stack must have matching shapes"),Ce(c===g.dtype,()=>"All tensors passed to stack must have matching dtypes")});const u=[],p=gV({inputs:t.map(g=>{const v=MP({inputs:{input:g},backend:e,attrs:{dim:r}});return u.push(v),v}),backend:e,attrs:{axis:r}});return u.forEach(g=>e.disposeIntermediateTensorInfo(g)),p}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class RY{constructor(t,e,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((p,g)=>p[0]+t[g]+p[1]);const r=t.length,a=Na(r),c=e.map(p=>p[0]).join(","),u=e.map((p,g)=>p[0]+t[g]).join(","),f=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${c});\n      ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${f}));\n        }\n      }\n    `:`\n        int start = ${c};\n        int end = ${u};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class NY{constructor(t,e,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=e.map((ae,te)=>ae[0]+t[te]+ae[1]);const r=t.length,a=Na(r),c=e.map(ae=>ae[0]).join(","),u=e.map((ae,te)=>ae[0]+t[te]).join(","),f=zu("rc",r),p=zu("source",r),g=`${f[r-1]} < ${this.outputShape[r-1]}`,v=1===r?"source":`vec2(${p.slice(-2).join()})`,T=[`${a} rc = outputLoc;`,`${f[r-1]} += 1;\n       if(${g}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${f[r-2]} += 1;\n       if(${f[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${f[r-1]} += 1;\n         if(${g}) {`],V=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let Y="";for(let ae=0,te=1===r?2:4;ae<te;ae++)Y+=`\n        ${T[ae]}\n        if (${V}) {\n          result[${ae}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${ae}] = getChannel(getX(${p.join()}), ${v});\n        }\n      `;Y+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${c});\n      const ${a} end = ${a}(${u});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${Y}\n        setOutput(result);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const BV=n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{paddings:a,constantValue:c}=i;if(0===Tt(r.shape))return zx({backend:e,attrs:{shape:a.map((g,v)=>g[0]+r.shape[v]+g[1]),value:c,dtype:r.dtype}});const u=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NY(r.shape,a,c):new RY(r.shape,a,c);return e.runWebGLProgram(u,[r],r.dtype,[[c]])},PY={kernelName:Se,backendName:"webgl",kernelFunc:BV},$Y=gu({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+V_+"\n  return result;\n"}),BY={kernelName:le,backendName:"webgl",kernelFunc:$Y},UY={kernelName:ze,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function VY(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{axis:a,keepDims:c}=i,u=r.shape.length,f=[],p=wt(a,r.shape);let g=p;const v=_l(g,u);let V,T=r;if(null!=v&&(T=ju({inputs:{x:r},backend:e,attrs:{perm:v}}),g=Ga(g.length,u),f.push(T)),Sc("prod",g,u),e.shouldExecuteOnCPU([T])){const Y=e.texData.get(T.dataId).values,{outVals:ae,outShape:te,outDtype:_e}=_8(T.shape,T.dtype,Y,g);V=e.makeTensorInfo(te,_e,ae)}else{const[Y,ae]=Cc(T.shape,g),te=Tt(ae),_e=Zi({inputs:{x:T},backend:e,attrs:{shape:[-1,te]}}),nt=U_(_e,di(r.dtype),"prod",e);V=Zi({inputs:{x:nt},backend:e,attrs:{shape:Y}}),f.push(_e),f.push(nt)}if(c){f.push(V);const Y=gl(V.shape,p);V=Zi({inputs:{x:V},backend:e,attrs:{shape:Y}})}return f.forEach(Y=>e.disposeIntermediateTensorInfo(Y)),V}},jY={kernelName:Ct,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function zY(n){const{inputs:t,backend:e,attrs:i}=n,{paramsNestedSplits:r,paramsDenseValues:a,indices:c}=t,{outputRaggedRank:u}=i,f=r.map(_e=>e.readSync(_e.dataId)),p=r.map(_e=>_e.shape),g=e.readSync(a.dataId),v=e.readSync(c.dataId),[T,V,Y]=y8(f,p,g,a.shape,a.dtype,v,c.shape,u),ae=T.map(_e=>e.makeTensorInfo([_e.length],"int32",_e)),te=e.makeTensorInfo(Y,a.dtype,V);return ae.concat([te])}},HY={kernelName:En,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function WY(n){const{inputs:t,backend:e}=n,{starts:i,limits:r,deltas:a}=t,c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=v8(c,i.shape,i.dtype,u,r.shape,f,a.shape);return[e.makeTensorInfo([p.length],"int32",p),e.makeTensorInfo([g.length],i.dtype,g)]}},KY={kernelName:Fn,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GY(n){const{inputs:t,backend:e,attrs:i}=n,{shape:r,values:a,defaultValue:c,rowPartitionTensors:u}=t,{rowPartitionTypes:f}=i,p=e.readSync(r.dataId),g=e.readSync(a.dataId),v=e.readSync(c.dataId),T=u.map(te=>e.readSync(te.dataId)),V=u.map(te=>te.shape),[Y,ae]=b8(p,r.shape,g,a.shape,a.dtype,v,c.shape,T,V,f);return e.makeTensorInfo(Y,a.dtype,ae)}},VV=n=>{const{backend:t,attrs:e}=n,{start:i,stop:r,step:a,dtype:c}=e,u=w8(i,r,a,c);return t.makeTensorInfo([u.length],c,u)},XY={kernelName:ki,backendName:"webgl",kernelFunc:VV},YY=Ao({opSnippet:"return 1.0 / x;"}),qY={kernelName:fr,backendName:"webgl",kernelFunc:YY},ZY=Ao({opSnippet:Gd+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),JY={kernelName:Ur,backendName:"webgl",kernelFunc:ZY},tq=Ao({opSnippet:Gd+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),nq={kernelName:Ns,backendName:"webgl",kernelFunc:tq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class iq{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let T;T=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${T};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class rq{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let T;T=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]},\n          ${g[1]/v[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${T};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const oq={kernelName:Cr,backendName:"webgl",kernelFunc:function sq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=De().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new rq(r.shape,f,p,a,c):new iq(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],"float32")}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class aq{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],v=f[1]/p[1],T=1/g,V=1/v,Y=2*Math.ceil(T)+2,ae=2*Math.ceil(V)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${v});\n\n        const float invHeightScale = float(${T});\n        const float invWidthScale = float(${V});\n\n        const int winHeight = int(${Y});\n        const int winWidth = int(${ae});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const cq={kernelName:zs,backendName:"webgl",kernelFunc:function lq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new aq(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class uq{constructor(t,e,i,r,a){this.variableNames=["A"],this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let V;V=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${f}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${V};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class dq{constructor(t,e,i,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[c,u,f,p]=t;this.outputShape=[c,e,i,p];const g=[r&&e>1?u-1:u,r&&i>1?f-1:f],v=[r&&e>1?e-1:e,r&&i>1?i-1:i];let V;V=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${g[0]/v[0]},\n          ${g[1]/v[1]},\n          ${g[1]/v[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${f}.0,\n                                     ${f}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${V};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${r?"0.5":"0.0"})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${p-1};\n        bool hasNextRow = coords.z < ${i-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const fq={kernelName:Or,backendName:"webgl",kernelFunc:function hq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r}=t,{alignCorners:a,halfPixelCenters:c,size:u}=i,[f,p]=u,g=De().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new dq(r.shape,f,p,a,c):new uq(r.shape,f,p,a,c);return e.runWebGLProgram(g,[r],r.dtype)}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class pq{constructor(t,e,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e;const[,r,a]=e,[,c,u]=t,f=[i&&c>1?r-1:r,i&&u>1?a-1:a],p=[i&&c>1?c-1:c,i&&u>1?u-1:u],g=f[0]/p[0],v=f[1]/p[1],T=1/g,V=1/v,Y=2*Math.ceil(T)+2,ae=2*Math.ceil(V)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${g});\n        const float widthScale = float(${v});\n\n        const float invHeightScale = float(${T});\n        const float invWidthScale = float(${V});\n\n        const int winHeight = int(${Y});\n        const int winWidth = int(${ae});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${c}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${u}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${f[0]}) *\n                (float(dyR) / float(${p[0]}));\n\n            float sourceFracCol =\n                float(${f[1]}) *\n                  (float(dyC) / float(${p[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${i} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${i} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const gq={kernelName:Zs,backendName:"webgl",kernelFunc:function mq(n){const{inputs:t,backend:e,attrs:i}=n,{images:r,dy:a}=t,{alignCorners:c}=i,u=new pq(a.shape,r.shape,c);return e.runWebGLProgram(u,[a],a.dtype)}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class _q{constructor(t,e){this.variableNames=["x"];const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);if(this.outputShape=t,1===i)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${t[0]} - coord - 1));\n        }\n      `);const a=t.map((u,f)=>(u=>-1!==e.indexOf(u)&&1!==t[u]?`${t[u]} - coords[${u}] - 1`:`coords[${u}]`)(f)).join(","),c=Na(i);this.userCode=`\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}
/**
       * @license
       * Copyright 2019 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class yq{constructor(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=t.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);this.outputShape=t;const r=zu("rc",i),a=`${r[i-1]} + 1 < ${this.outputShape[i-1]}`,c=`${r[i-2]} + 1 < ${this.outputShape[i-2]}`,u=Na(i);function T(Y){const ae=t.map((Te,nt)=>function V(Y,ae){return-1!==e.indexOf(Y)&&1!==t[Y]?`${t[Y]} - ${ae[Y]} - 1`:`${ae[Y]}`}(nt,Y));return`getChannel(getX(${ae.join(",")}), vec2(${ae.slice(-2).join(",")}))`}this.userCode=1===i?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${t[0]} - rc - 1),\n            ${t[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),\n                ${t[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${u} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function f(Y){return T(Y)}(r.slice())};\n          if(${a}){\n            result.g = ${function p(Y){return Y[i-1]="("+Y[i-1]+" + 1)",T(Y)}(r.slice())};\n          }\n          if(${c}) {\n            result.b = ${function g(Y){return Y[i-2]="("+Y[i-2]+" + 1)",T(Y)}(r.slice())};\n            if(${a}) {\n              result.a = ${function v(Y){return Y[i-1]="("+Y[i-1]+" + 1)",Y[i-2]="("+Y[i-2]+" + 1)",T(Y)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const bq={kernelName:Xs,backendName:"webgl",kernelFunc:function vq(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{dims:a}=i,c=r.shape.length,u=wt(a,r.shape);if(0===c)return Dd({inputs:{x:r},backend:e});const f=De().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yq(r.shape,u):new _q(r.shape,u);return e.runWebGLProgram(f,[r],r.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class wq{constructor(t,e){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=t[1],r=t[2];this.outputShape=t;let a="";a="number"==typeof e?`float outputValue = ${e.toFixed(2)};`:`\n        vec3 fill = vec3(${e.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${i}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Eq={kernelName:we,backendName:"webgl",kernelFunc:({inputs:n,attrs:t,backend:e})=>{const{image:i}=n,{radians:r,fillValue:a,center:c}=t,u=e,f=new wq(i.shape,a),[p,g]=Sw(c,i.shape[1],i.shape[2]),v=[[p,g,Math.sin(r),Math.cos(r)]];return u.runWebGLProgram(f,[i],i.dtype,v)}},xq=Ao({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Cq={kernelName:Sa,backendName:"webgl",kernelFunc:xq},Sq=Ao({opSnippet:"return inversesqrt(x);",cpuKernelImpl:E8}),Dq={kernelName:ca,backendName:"webgl",kernelFunc:Sq};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class RP{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=c;const p=Na(a.length),g=Na(c.length);let v="";1===i?v="i":2===i&&(v="i, j");let V="";1===r?V="i":2===r&&(V="i, coords[1]");let ae="";f&&(ae="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${t}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${e}; j++) {\n              int index = round(getIndices(${v}));\n              flattenedIndex += index * ${e>1?"strides[j]":"strides"};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += getUpdates(${V});\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(${ae}), sum, float(found)));\n        }\n      `}}
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Tq{constructor(t,e,i,r,a,c,u=!0,f=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=c;const p=Na(a.length),g=Na(c.length);let v="";1===i?v="i":2===i&&(v="i, j");let V="";1===r?V="i":2===r&&(V="i, coords[1]");let ae="";f&&(ae="coords[0], coords[1]"),this.userCode=`\n        ${p} strides = ${p}(${a});\n\n        void main() {\n          ${g} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${t}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${e}; j+=2) {\n              ivec4 index = round(getIndices(${v}));\n              flattenedIndex += index.xz * ${e>1?"strides[j]":"strides"};\n              if (j + 1 < ${e}) {\n                flattenedIndex += index.yw * ${e>1?"strides[j + 1]":"strides"};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = getUpdates(${V});\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(getDefaultValue(${ae}), sum, found));\n        }\n      `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Iq={kernelName:P,backendName:"webgl",kernelFunc:function kq(n){const{inputs:t,backend:e,attrs:i}=n,{indices:r,updates:a}=t,{shape:c}=i,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ep(0,r,c),T=[v/p,p];if(0===v)return e.makeTensorInfo(c,r.dtype);const V=Zi({inputs:{x:r},backend:e,attrs:{shape:[f,u]}}),Y=Zi({inputs:{x:a},backend:e,attrs:{shape:[f,p]}}),ae=e.makeTensorInfo([],"float32",new Float32Array([0]));let te;te=De().getBool("WEBGL_PACK")?new Tq(f,u,V.shape.length,Y.shape.length,g,T):new RP(f,u,V.shape.length,Y.shape.length,g,T);const _e=e.runWebGLProgram(te,[Y,V,ae],Y.dtype),Te=Zi({inputs:{x:_e},backend:e,attrs:{shape:c}});return e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),e.disposeIntermediateTensorInfo(_e),e.disposeIntermediateTensorInfo(ae),Te}};
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Aq{constructor(t,e,i,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,i];const c=`for (int i = 0; i < ${Math.ceil(Math.log2(e+1))}; ++i) { if (left >= right) break;`,u=2===De().getNumber("WEBGL_VERSION")?"while (left < right) {":c;this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${u}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${"left"===r?"<":"<="} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Oq={kernelName:Kt,backendName:"webgl",kernelFunc:function Mq(n){const{inputs:t,backend:e,attrs:i}=n,{sortedSequence:r,values:a}=t,{side:c}=i,u=new Aq(r.shape[0],r.shape[1],a.shape[1],c);return e.runWebGLProgram(u,[r,a],"int32",[[r.shape[1]]])}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class Rq{constructor(t,e,i){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=e,i>4)throw Error(`Where for rank ${i} is not yet supported`);if(1===i)a="resRC",r="resRC";else{const u=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],p=[];for(let g=0;g<e.length;g++)p.push(`${u[g]}`),g<t&&f.push(`${u[g]}`);r=f.join(),a=p.join()}const c=Na(i);this.userCode=`\n      void main() {\n        ${c} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const Pq={kernelName:cn,backendName:"webgl",kernelFunc:function Nq(n){const{inputs:t,backend:e}=n,{condition:i,t:r,e:a}=t,c=new Rq(i.shape.length,r.shape,r.shape.length);return e.runWebGLProgram(c,[i,r,a],Mn(r.dtype,a.dtype))}},Lq=Ao({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${hm};\n  float scale = ${nv};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),$q={kernelName:tn,backendName:"webgl",kernelFunc:Lq},Vq=Ao({opSnippet:Fb+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:C8}),Uq={kernelName:jn,backendName:"webgl",kernelFunc:Vq},zq=Ao({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),jq={kernelName:Qn,backendName:"webgl",kernelFunc:zq},Gq=Ao({opSnippet:Fb+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${V_}\n  return result;\n`}),Kq={kernelName:ln,backendName:"webgl",kernelFunc:Gq},Xq=Ao({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Yq={kernelName:Ln,backendName:"webgl",kernelFunc:Xq},qq=Ao({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Qq={kernelName:mi,backendName:"webgl",kernelFunc:qq},Zq={kernelName:Ji,backendName:"webgl",kernelFunc:n=>{const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{blockShape:a,paddings:c}=i;Ce(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const u=a.reduce((_e,Te)=>_e*Te),f=[[0,0]];f.push(...c);for(let _e=1+a.length;_e<r.shape.length;++_e)f.push([0,0]);const p=[],g=BV({inputs:{x:r},backend:e,attrs:{paddings:f,constantValue:0}}),v=sp(g.shape,a,u,!1),T=Gg(v.length,a.length,!1),V=Kg(g.shape,a,u,!1),Y=Zi({inputs:{x:g},backend:e,attrs:{shape:v}}),ae=ju({inputs:{x:Y},backend:e,attrs:{perm:T}}),te=Zi({inputs:{x:ae},backend:e,attrs:{shape:V}});return p.push(g),p.push(Y),p.push(ae),p.forEach(_e=>e.disposeIntermediateTensorInfo(_e)),te}},eQ={kernelName:js,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function Jq(n){const{inputs:t,backend:e}=n,{indices:i,values:r,denseShape:a,defaultValue:c}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==i.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${i.shape}`);if(1!==r.shape.length)throw new Error(`Values must be a vector, saw:\n         ${r.shape}`);if(0!==c.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${c.shape}`);const u=e.readSync(i.dataId),f=e.readSync(r.dataId),p=e.readSync(a.dataId),g=e.readSync(c.dataId)[0],[v,T,V,Y,ae]=D8(u,i.shape,i.dtype,f,r.dtype,p,g);return[e.makeTensorInfo(T,i.dtype,v),e.makeTensorInfo([T[0]],r.dtype,V),e.makeTensorInfo([Y.length],"bool",new Uint8Array(Y.map(te=>Number(te)))),e.makeTensorInfo([ae.length],i.dtype,new Int32Array(ae))]}},nQ={kernelName:Gr,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function tQ(n){const{inputs:t,backend:e}=n,{inputIndices:i,inputShape:r,newShape:a}=t;if(2!==i.shape.length)throw new Error(`Input indices should be a matrix but received shape ${i.shape}`);if(1!==r.shape.length)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const c=Array.from(e.readSync(r.dataId)),u=e.readSync(i.dataId),f=Array.from(e.readSync(a.dataId)),[p,g,v]=T8(u,i.shape,i.dtype,c,f);return[e.makeTensorInfo(g,i.dtype,p),e.makeTensorInfo([v.length],a.dtype,new Int32Array(v))]}},rQ={kernelName:ns,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function iQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=HB(c,i.shape,i.dtype,u,f,!0);return e.makeTensorInfo(g,i.dtype,p)}},oQ={kernelName:Zl,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function sQ(n){const{inputs:t,backend:e}=n,{data:i,indices:r,segmentIds:a}=t;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${r.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const c=e.readSync(i.dataId),u=e.readSync(r.dataId),f=e.readSync(a.dataId),[p,g]=HB(c,i.shape,i.dtype,u,f);return e.makeTensorInfo(g,i.dtype,p)}},lQ={kernelName:Ro,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function aQ(n){const{inputs:t,backend:e,attrs:i}=n,{sparseIndices:r,sparseValues:a,defaultValue:c}=t,{outputShape:u}=i,{sliceRank:f,numUpdates:p,sliceSize:g,strides:v,outputSize:T}=ep(0,r,u),V=!1;if("string"===a.dtype){const _e=e.bufferSync(r),Te=e.bufferSync(a),nt=zc(e.readSync(c.dataId)[0]),it=x8(_e,Te,u,T,g,p,f,v,nt,V);return e.makeTensorInfo(u,it.dtype,it.values)}const Y=new RP(p,f,r.shape.length,a.shape.length,v,[T,1],V),ae=e.runWebGLProgram(Y,[a,r,c],a.dtype),te=Zi({inputs:{x:ae},backend:e,attrs:{shape:u}});return e.disposeIntermediateTensorInfo(ae),te}},uQ={kernelName:$r,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function cQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{numOrSizeSplits:a,axis:c}=i,u=wt(c,r.shape)[0],f=lD(r,a,u),g=new Array(r.shape.length).fill(0),v=r.shape.slice();return f.map(T=>{const V=[...v];V[u]=T;const Y=Lb({inputs:{x:r},backend:e,attrs:{begin:g,size:V}});return g[u]+=T,Y})}},UV="return sqrt(x);",dQ=Ao({opSnippet:UV,packedOpSnippet:UV,cpuKernelImpl:k8}),hQ={kernelName:ti,backendName:"webgl",kernelFunc:dQ},pQ={kernelName:Js,backendName:"webgl",kernelFunc:Ao({opSnippet:"return x * x;"})},zV="return (a - b) * (a - b);",mQ=gu({opSnippet:zV,packedOpSnippet:zV}),gQ={kernelName:Jo,backendName:"webgl",kernelFunc:mQ},yQ={kernelName:El,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2023 Google LLC.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function _Q(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");const c=$h(e.readSync(r.dataId)),u=I8(c,"string",i);return e.makeTensorInfo(r.shape,"string",u)}},bQ={kernelName:Mc,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function vQ({inputs:n,attrs:t,backend:e}){const{x:i}=n,a=new Df(i.shape,Gd+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `);return e.runWebGLProgram(a,[i],i.dtype)}};
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class wQ{constructor(t,e,i){this.variableNames=["x"],this.outputShape=i;const r=i.length,a=Na(i.length),c=Na(i.length);let u="";if(1===r)u="coords * strides + begin";else{let f=0;u=i.map((p,g)=>(f++,1===i.length?`coords * strides[${g}] + begin[${g}]`:`coords[${f-1}] * strides[${g}] + begin[${g}]`)).join(",")}this.userCode=`\n      ${a} begin = ${a}(${t});\n      ${a} strides = ${a}(${e});\n\n      void main() {\n        ${c} coords = getOutputCoords();\n        setOutput(getX(${u}));\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const xQ={kernelName:ua,backendName:"webgl",kernelFunc:function EQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{begin:a,end:c,strides:u,beginMask:f,endMask:p,ellipsisMask:g,newAxisMask:v,shrinkAxisMask:T}=i,{finalShapeSparse:V,finalShape:Y,isIdentity:ae,sliceDim0:te,isSimpleSlice:_e,begin:Te,end:nt,strides:it}=a0(r.shape,a,c,u,f,p,g,v,T);let St;if(ae)St=Zi({inputs:{x:r},backend:e,attrs:{shape:Y}});else if(te||_e){Ce(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const sn=n0(Te,nt,it),dn=Lb({inputs:{x:r},backend:e,attrs:{begin:Te,size:sn}});St=Zi({inputs:{x:dn},backend:e,attrs:{shape:Y}}),e.disposeIntermediateTensorInfo(dn)}else if(e.shouldExecuteOnCPU([r])){const dn=e.readSync(r.dataId),wn=fs(r.shape,r.dtype,dn),Cn=A8(V,wn,it,Te);St=e.makeTensorInfo(Y,r.dtype,Cn.values)}else{const dn=new wQ(Te,it,V);St=e.runWebGLProgram(dn,[r],r.dtype)}const Xt=Zi({inputs:{x:St},backend:e,attrs:{shape:Y}});return e.disposeIntermediateTensorInfo(St),Xt}},SQ={kernelName:_r,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function CQ(n){const{inputs:t,backend:e,attrs:i}=n,{separator:r,nGramWidths:a,leftPad:c,rightPad:u,padWidth:f,preserveShortSequences:p}=i,{data:g,dataSplits:v}=t,T=e.readSync(g.dataId),V=e.readSync(v.dataId),[Y,ae]=M8(T,V,r,a,c,u,f,p);return[e.makeTensorInfo([Y.length],"string",Y),e.makeTensorInfo(v.shape,"int32",ae)]}},TQ={kernelName:as,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function DQ(n){const{inputs:t,backend:e,attrs:i}=n,{skipEmpty:r}=i,{input:a,delimiter:c}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==c.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${c.shape}`);const u=e.readSync(a.dataId),f=e.readSync(c.dataId)[0],[p,g,v]=O8(u,f,r),T=g.length;return[e.makeTensorInfo([T,2],"int32",p),e.makeTensorInfo([T],"string",g),e.makeTensorInfo([2],"int32",new Int32Array(v))]}},IQ={kernelName:Ps,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function kQ(n){const{inputs:t,backend:e,attrs:i}=n,{numBuckets:r}=i,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const c=e.readSync(a.dataId),u=R8(c,r);return e.makeTensorInfo(a.shape,"int32",u)}},AQ=Ao({opSnippet:"return tan(x);"}),MQ={kernelName:yu,backendName:"webgl",kernelFunc:AQ},OQ=Ao({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),RQ={kernelName:hs,backendName:"webgl",kernelFunc:OQ},PQ={kernelName:Et,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2022 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function NQ(n){const{inputs:t,backend:e}=n,{tensor:r,indices:a,updates:c}=t,{sliceRank:u,numUpdates:f,sliceSize:p,strides:g,outputSize:v}=ep(0,a,r.shape),T=[v/p,p];if(0===v)return e.makeTensorInfo(r.shape,a.dtype);const V=Zi({inputs:{x:a},backend:e,attrs:{shape:[f,u]}}),Y=Zi({inputs:{x:c},backend:e,attrs:{shape:[f,p]}}),ae=Zi({inputs:{x:r},backend:e,attrs:{shape:T}}),te=new RP(f,u,V.shape.length,Y.shape.length,g,T,!1,!0),_e=e.runWebGLProgram(te,[Y,V,ae],ae.dtype),Te=Zi({inputs:{x:_e},backend:e,attrs:{shape:r.shape}});return e.disposeIntermediateTensorInfo(V),e.disposeIntermediateTensorInfo(Y),e.disposeIntermediateTensorInfo(ae),e.disposeIntermediateTensorInfo(_e),Te}};
/**
       * @license
       * Copyright 2017 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class FQ{constructor(t,e){this.variableNames=["A"];const i=new Array(t.length);for(let c=0;c<i.length;c++)i[c]=t[c]*e[c];this.outputShape=i,this.rank=i.length;const r=Na(this.rank),a=function LQ(n){const t=n.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${n[0]})`;const e=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let r=0;r<n.length;r++)i.push(`imod(${e[r]}, ${n[r]})`);return i.join()}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */(t);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function jV(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{reps:a}=i;if("string"===r.dtype||r.shape.length>5){const f=e.readSync(r.dataId),p="string"===r.dtype?f.map(T=>zc(T)):f,g=fs(r.shape,r.dtype,p),v=P8(g,a);return e.makeTensorInfo(v.shape,v.dtype,v.values)}const c=new FQ(r.shape,a);return e.runWebGLProgram(c,[r],r.dtype)}const $Q={kernelName:ja,backendName:"webgl",kernelFunc:jV};class BQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class VQ{constructor(t){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */function z_(n,t){null!==t&&n.disposeIntermediateTensorInfo(t)}function WV(n){let t=1;for(;t<n;)t*=2;return t}const zQ={kernelName:vu,backendName:"webgl",kernelFunc:function UQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r}=t,{k:a,sorted:c}=i,u=De().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),f=De().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),p=r.shape,g=p[p.length-1];if(e.shouldExecuteOnCPU([r])||g<u||a>f){const Cn=e.readSync(r.dataId),[Vn,qn]=F8(Cn,p,r.dtype,a,c);return[e.makeTensorInfo(Vn.shape,Vn.dtype,Vn.values),e.makeTensorInfo(qn.shape,qn.dtype,qn.values)]}if(0===a)return p[p.length-1]=0,[e.makeTensorInfo(p,r.dtype,[]),e.makeTensorInfo(p,"int32",[])];if(1===g)return[r,zx({attrs:{shape:p,dtype:"int32",value:0},backend:e})];const v=e.texData.get(r.dataId),T=null!==v&&v.isPacked,V=T?e.unpackTensor(r):r,ae=Tt(p)/g,te=Zi({inputs:{x:V},attrs:{shape:[ae,g]},backend:e});T&&z_(e,V);const _e=WV(a),Te=WV(g);let nt=null;const it=()=>null===nt?[te,te]:[te,nt],St=(Cn,Vn,qn)=>{const ii=it(),ri=new BQ(qn),_i=nt;nt=e.runWebGLProgram(ri,ii,"int32",[[g],[null===nt?1:0],[Number.NEGATIVE_INFINITY],[Cn],[Vn]]),z_(e,_i)};for(let Cn=1;Cn<_e;Cn*=2){const Vn=2*Cn;for(let qn=Cn;qn>=1;qn/=2)St(Vn,qn,[ae,Te])}for(let Cn=Te;Cn>_e;Cn/=2){const Vn=it(),qn=new VQ([ae,Cn/2]),oi=nt;nt=e.runWebGLProgram(qn,Vn,"int32",[[g],[null===nt?1:0],[_e]]),z_(e,oi);const hi=_e/2,_i=2*hi;for(let ai=hi;ai>=1;ai/=2)St(_i,ai,nt.shape)}let Xt=nt;nt=Lb({inputs:{x:nt},backend:e,attrs:{begin:0,size:[ae,a]}}),z_(e,Xt);let sn=OV({inputs:{x:te,indices:nt},backend:e,attrs:{axis:1,batchDims:1}});z_(e,te);const dn=p.slice(0,-1);dn.push(a),Xt=nt,nt=Zi({inputs:{x:nt},attrs:{shape:dn},backend:e}),z_(e,Xt);const wn=sn;return sn=Zi({inputs:{x:sn},attrs:{shape:dn},backend:e}),z_(e,wn),[sn,nt]}};
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */class jQ{constructor(t,e,i,r,a,c){this.variableNames=["Image","Transforms"],this.outputShape=c;const u="nearest"===i?1:2;let f;switch(r){case"constant":default:f=1;break;case"reflect":f=2;break;case"wrap":f=3;break;case"nearest":f=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${f} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${f} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${e}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${e}));\n                float mapY = mapCoord(inY, float(${t}));\n\n                if (${u} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}
/**
       * @license
       * Copyright 2021 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const HQ={kernelName:ms,backendName:"webgl",kernelFunc:function WQ(n){const{inputs:t,backend:e,attrs:i}=n,{image:r,transforms:a}=t,{interpolation:c,fillMode:u,fillValue:f,outputShape:p}=i,[g,v,T,V]=r.shape,[Y,ae]=p??[v,T],_e=new jQ(v,T,c,u,f,[g,Y,ae,V]);return e.runWebGLProgram(_e,[r,a],"float32")}},KQ={kernelName:Ko,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the License);
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an AS IS BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function GQ(n){const{inputs:t,attrs:e,backend:i}=n,{axis:r}=e,{x:a}=t;Fx(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const c=i.readSync(a.dataId),{outputValues:u,outputShape:f,indices:p}=L8(c,r,a.shape,a.dtype);return[i.makeTensorInfo(f,a.dtype,u),i.makeTensorInfo([p.length],"int32",p)]}},YQ={kernelName:ho,backendName:"webgl",kernelFunc:
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
function XQ(n){const{inputs:t,backend:e,attrs:i}=n,{value:r}=t;let{axis:a}=i;a<0&&(a+=r.shape.length);const c=r,u=c.shape.length,f=r.shape[a],p=new Array(u-1);let g=0;for(let ae=0;ae<u;ae++)ae!==a&&(p[g++]=c.shape[ae]);const v=[],T=new Array(u).fill(0),V=c.shape.slice();V[a]=1;const Y=new Array(f);for(let ae=0;ae<Y.length;ae++){T[a]=ae;const te=Lb({inputs:{x:c},backend:e,attrs:{begin:T,size:V}}),_e=Zi({inputs:{x:te},backend:e,attrs:{shape:p}});Y[ae]=_e,v.push(te)}return v.forEach(ae=>e.disposeIntermediateTensorInfo(ae)),Y}};
/**
       * @license
       * Copyright 2018 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
class qQ{constructor(t,e){this.variableNames=["x","segmentIds"];const i=t.windowSize,r=t.batchSize,a=t.inSize,c=t.numSegments,u=c*Math.ceil(a/i);this.outputShape=[r,u];const g=4*Math.floor(i/4),v=i%4,T="\n        sumValue += dot(values, segFilter);\n    ";let V="";a%i>0&&(V=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let Y="";a%i>0&&(Y=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${V}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${Y}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${c})) * float(${i}));\n        int currentSeg = int(mod(float(outIdx), float(${c})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${g}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${T}\n        }\n\n        int inIdx = inOffset + ${g};\n        if (${1===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${T}\n        } else if (${2===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${T}\n        } else if (${3===v}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${T}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */const JQ=[M6,R6,F6,B6,U6,W6,G6,X6,Z6,eK,iK,oK,cK,fK,gK,yK,bK,CK,DK,kK,MK,LK,BK,jK,HK,qK,ZK,n7,p6,s7,u7,p7,b7,x7,S7,T7,I7,R7,P7,L7,B7,U7,j7,G7,X7,Z7,e9,i9,o9,l9,u9,f9,m9,y9,b9,w9,x9,S9,T9,I9,M9,R9,F9,B9,U9,W9,K9,Y9,Q9,f6,J9,l7,tX,iX,sX,g6,aX,cX,dX,pX,_X,vX,wX,xX,DX,kX,AX,NX,FX,$X,zX,WX,GX,XX,qX,eY,iY,aY,fY,v6,_Y,bY,xY,DY,GK,kY,AY,OY,PY,BY,y6,UY,jY,HY,KY,XY,KK,cY,qY,JY,nq,w6,oq,cq,fq,gq,bq,Eq,Cq,Dq,Iq,Oq,Pq,$q,Uq,jq,Kq,Yq,FK,dY,Qq,Zq,eQ,nQ,rQ,oQ,lQ,uQ,hQ,pQ,gQ,yQ,bQ,xQ,SQ,TQ,IQ,uY,k6,MQ,RQ,PQ,$Q,zQ,HQ,I6,KQ,YQ,{kernelName:da,backendName:"webgl",kernelFunc:function QQ(n){const{inputs:t,backend:e,attrs:i}=n,{x:r,segmentIds:a}=t,{numSegments:c}=i,u=r.shape.length,f=[];let p=0;const g=_l([p],u);let v=r;null!=g&&(v=ju({inputs:{x:r},backend:e,attrs:{perm:g}}),f.push(v),p=Ga(1,u)[0]);const T=e_(v.shape,p,c),V=Tt([v.shape[p]]),Y=Zi({inputs:{x:v},backend:e,attrs:{shape:[-1,V]}});f.push(Y);const ae=di(r.dtype),te=(it,St,Xt,sn,dn)=>{const wn=it.shape[0],Cn=it.shape[1],Vn=gD(Cn,dn),ii=new qQ({windowSize:Vn,inSize:Cn,batchSize:wn,numSegments:dn},St),ri=e.compileAndRun(ii,[it,Xt],sn);if(f.push(ri),ri.shape[1]===dn)return ri;const oi=VV({backend:e,attrs:{start:0,stop:dn,step:1,dtype:"float32"}}),hi=jV({inputs:{x:oi},backend:e,attrs:{reps:[Cn/Vn]}});return f.push(oi),f.push(hi),te(ri,St,hi,sn,dn)},Te=Zi({inputs:{x:te(Y,"unsortedSegmentSum",a,ae,c)},backend:e,attrs:{shape:T}});let nt=Te;if(null!=g){f.push(Te);const it=rf(g);nt=ju({inputs:{x:nt},backend:e,attrs:{perm:it}})}return f.forEach(it=>e.disposeIntermediateTensorInfo(it)),nt}},IY];
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */for(const n of JQ)Si(n);
/**
       * @license
       * Copyright 2020 Google LLC. All Rights Reserved.
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       * http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       * =============================================================================
       */
/** @license See the LICENSE file. */},7092:(hn,Re,_)=>{"use strict";function L(ue,ce){return function w(ue,ce){ue=ue||[],"string"==typeof(ce=ce||{})&&(ce={type:ce});try{return new Blob(ue,ce)}catch(X){if("TypeError"!==X.name)throw X;for(var be=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),j=0;j<ue.length;j+=1)be.append(ue[j]);return be.getBlob(ce.type)}}([ue],ce)}_.d(Re,{Ot:()=>L})},3398:(hn,Re)=>{"use strict";Re.if=D,Re.Kp=function C(E){if(E.length%4!=0)throw new Error("Unable to parse base64 string.");var y=E.indexOf("=");if(-1!==y&&y<E.length-2)throw new Error("Unable to parse base64 string.");for(var O,x=E.endsWith("==")?2:E.endsWith("=")?1:0,$=E.length,R=new Uint8Array($/4*3),M=0,L=0;M<$;M+=4,L+=3)O=w(E.charCodeAt(M))<<18|w(E.charCodeAt(M+1))<<12|w(E.charCodeAt(M+2))<<6|w(E.charCodeAt(M+3)),R[L]=O>>16,R[L+1]=O>>8&255,R[L+2]=255&O;return R.subarray(0,R.length-x)},Re.Cw=function S(E){return D((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(E))};var d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],A=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function w(E){if(E>=A.length)throw new Error("Unable to parse base64 string.");var y=A[E];if(255===y)throw new Error("Unable to parse base64 string.");return y}function D(E){var x,y="",$=E.length;for(x=2;x<$;x+=3)y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4|E[x-1]>>4],y+=d[(15&E[x-1])<<2|E[x]>>6],y+=d[63&E[x]];return x===$+1&&(y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4],y+="=="),x===$&&(y+=d[E[x-2]>>2],y+=d[(3&E[x-2])<<4|E[x-1]>>4],y+=d[(15&E[x-1])<<2],y+="="),y}},9645:function(hn){hn.exports=function(){"use strict";var _=6e4,d=36e5,A="millisecond",w="second",D="minute",C="hour",S="day",I="week",E="month",y="quarter",x="year",$="date",R="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(xe){var q=["th","st","nd","rd"],Ae=xe%100;return"["+xe+(q[(Ae-20)%10]||q[Ae]||q[0])+"]"}},U=function(xe,q,Ae){var Xe=String(xe);return!Xe||Xe.length>=q?xe:""+Array(q+1-Xe.length).join(Ae)+xe},F={s:U,z:function(xe){var q=-xe.utcOffset(),Ae=Math.abs(q),Xe=Math.floor(Ae/60),yt=Ae%60;return(q<=0?"+":"-")+U(Xe,2,"0")+":"+U(yt,2,"0")},m:function xe(q,Ae){if(q.date()<Ae.date())return-xe(Ae,q);var Xe=12*(Ae.year()-q.year())+(Ae.month()-q.month()),yt=q.clone().add(Xe,E),Je=Ae-yt<0,je=q.clone().add(Xe+(Je?-1:1),E);return+(-(Xe+(Ae-yt)/(Je?yt-je:je-yt))||0)},a:function(xe){return xe<0?Math.ceil(xe)||0:Math.floor(xe)},p:function(xe){return{M:E,y:x,w:I,d:S,D:$,h:C,m:D,s:w,ms:A,Q:y}[xe]||String(xe||"").toLowerCase().replace(/s$/,"")},u:function(xe){return void 0===xe}},J="en",ue={};ue[J]=L;var ce="$isDayjsObject",re=function(xe){return xe instanceof se||!(!xe||!xe[ce])},be=function xe(q,Ae,Xe){var yt;if(!q)return J;if("string"==typeof q){var Je=q.toLowerCase();ue[Je]&&(yt=Je),Ae&&(ue[Je]=Ae,yt=Je);var je=q.split("-");if(!yt&&je.length>1)return xe(je[0])}else{var K=q.name;ue[K]=q,yt=K}return!Xe&&yt&&(J=yt),yt||!Xe&&J},j=function(xe,q){if(re(xe))return xe.clone();var Ae="object"==typeof q?q:{};return Ae.date=xe,Ae.args=arguments,new se(Ae)},X=F;X.l=be,X.i=re,X.w=function(xe,q){return j(xe,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var se=function(){function xe(Ae){this.$L=be(Ae.locale,null,!0),this.parse(Ae),this.$x=this.$x||Ae.x||{},this[ce]=!0}var q=xe.prototype;return q.parse=function(Ae){this.$d=function(Xe){var yt=Xe.date,Je=Xe.utc;if(null===yt)return new Date(NaN);if(X.u(yt))return new Date;if(yt instanceof Date)return new Date(yt);if("string"==typeof yt&&!/Z$/i.test(yt)){var je=yt.match(O);if(je){var K=je[2]-1||0,oe=(je[7]||"0").substring(0,3);return Je?new Date(Date.UTC(je[1],K,je[3]||1,je[4]||0,je[5]||0,je[6]||0,oe)):new Date(je[1],K,je[3]||1,je[4]||0,je[5]||0,je[6]||0,oe)}}return new Date(yt)}(Ae),this.init()},q.init=function(){var Ae=this.$d;this.$y=Ae.getFullYear(),this.$M=Ae.getMonth(),this.$D=Ae.getDate(),this.$W=Ae.getDay(),this.$H=Ae.getHours(),this.$m=Ae.getMinutes(),this.$s=Ae.getSeconds(),this.$ms=Ae.getMilliseconds()},q.$utils=function(){return X},q.isValid=function(){return this.$d.toString()!==R},q.isSame=function(Ae,Xe){var yt=j(Ae);return this.startOf(Xe)<=yt&&yt<=this.endOf(Xe)},q.isAfter=function(Ae,Xe){return j(Ae)<this.startOf(Xe)},q.isBefore=function(Ae,Xe){return this.endOf(Xe)<j(Ae)},q.$g=function(Ae,Xe,yt){return X.u(Ae)?this[Xe]:this.set(yt,Ae)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(Ae,Xe){var yt=this,Je=!!X.u(Xe)||Xe,je=X.p(Ae),K=function(Ce,Qt){var Vt=X.w(yt.$u?Date.UTC(yt.$y,Qt,Ce):new Date(yt.$y,Qt,Ce),yt);return Je?Vt:Vt.endOf(S)},oe=function(Ce,Qt){return X.w(yt.toDate()[Ce].apply(yt.toDate("s"),(Je?[0,0,0,0]:[23,59,59,999]).slice(Qt)),yt)},ge=this.$W,ye=this.$M,Ne=this.$D,Be="set"+(this.$u?"UTC":"");switch(je){case x:return Je?K(1,0):K(31,11);case E:return Je?K(1,ye):K(0,ye+1);case I:var Qe=this.$locale().weekStart||0,Pt=(ge<Qe?ge+7:ge)-Qe;return K(Je?Ne-Pt:Ne+(6-Pt),ye);case S:case $:return oe(Be+"Hours",0);case C:return oe(Be+"Minutes",1);case D:return oe(Be+"Seconds",2);case w:return oe(Be+"Milliseconds",3);default:return this.clone()}},q.endOf=function(Ae){return this.startOf(Ae,!1)},q.$set=function(Ae,Xe){var yt,Je=X.p(Ae),je="set"+(this.$u?"UTC":""),K=(yt={},yt[S]=je+"Date",yt[$]=je+"Date",yt[E]=je+"Month",yt[x]=je+"FullYear",yt[C]=je+"Hours",yt[D]=je+"Minutes",yt[w]=je+"Seconds",yt[A]=je+"Milliseconds",yt)[Je],oe=Je===S?this.$D+(Xe-this.$W):Xe;if(Je===E||Je===x){var ge=this.clone().set($,1);ge.$d[K](oe),ge.init(),this.$d=ge.set($,Math.min(this.$D,ge.daysInMonth())).$d}else K&&this.$d[K](oe);return this.init(),this},q.set=function(Ae,Xe){return this.clone().$set(Ae,Xe)},q.get=function(Ae){return this[X.p(Ae)]()},q.add=function(Ae,Xe){var yt,Je=this;Ae=Number(Ae);var je=X.p(Xe),K=function(ye){var Ne=j(Je);return X.w(Ne.date(Ne.date()+Math.round(ye*Ae)),Je)};if(je===E)return this.set(E,this.$M+Ae);if(je===x)return this.set(x,this.$y+Ae);if(je===S)return K(1);if(je===I)return K(7);var oe=(yt={},yt[D]=_,yt[C]=d,yt[w]=1e3,yt)[je]||1,ge=this.$d.getTime()+Ae*oe;return X.w(ge,this)},q.subtract=function(Ae,Xe){return this.add(-1*Ae,Xe)},q.format=function(Ae){var Xe=this,yt=this.$locale();if(!this.isValid())return yt.invalidDate||R;var Je=Ae||"YYYY-MM-DDTHH:mm:ssZ",je=X.z(this),K=this.$H,oe=this.$m,ge=this.$M,ye=yt.weekdays,Ne=yt.months,Qe=function(Qt,Vt,Tt,Ot){return Qt&&(Qt[Vt]||Qt(Xe,Je))||Tt[Vt].slice(0,Ot)},Pt=function(Qt){return X.s(K%12||12,Qt,"0")},Ce=yt.meridiem||function(Qt,Vt,Tt){var Ot=Qt<12?"AM":"PM";return Tt?Ot.toLowerCase():Ot};return Je.replace(M,function(Qt,Vt){return Vt||function(Tt){switch(Tt){case"YY":return String(Xe.$y).slice(-2);case"YYYY":return X.s(Xe.$y,4,"0");case"M":return ge+1;case"MM":return X.s(ge+1,2,"0");case"MMM":return Qe(yt.monthsShort,ge,Ne,3);case"MMMM":return Qe(Ne,ge);case"D":return Xe.$D;case"DD":return X.s(Xe.$D,2,"0");case"d":return String(Xe.$W);case"dd":return Qe(yt.weekdaysMin,Xe.$W,ye,2);case"ddd":return Qe(yt.weekdaysShort,Xe.$W,ye,3);case"dddd":return ye[Xe.$W];case"H":return String(K);case"HH":return X.s(K,2,"0");case"h":return Pt(1);case"hh":return Pt(2);case"a":return Ce(K,oe,!0);case"A":return Ce(K,oe,!1);case"m":return String(oe);case"mm":return X.s(oe,2,"0");case"s":return String(Xe.$s);case"ss":return X.s(Xe.$s,2,"0");case"SSS":return X.s(Xe.$ms,3,"0");case"Z":return je}return null}(Qt)||je.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(Ae,Xe,yt){var Je,je=this,K=X.p(Xe),oe=j(Ae),ge=(oe.utcOffset()-this.utcOffset())*_,ye=this-oe,Ne=function(){return X.m(je,oe)};switch(K){case x:Je=Ne()/12;break;case E:Je=Ne();break;case y:Je=Ne()/3;break;case I:Je=(ye-ge)/6048e5;break;case S:Je=(ye-ge)/864e5;break;case C:Je=ye/d;break;case D:Je=ye/_;break;case w:Je=ye/1e3;break;default:Je=ye}return yt?Je:X.a(Je)},q.daysInMonth=function(){return this.endOf(E).$D},q.$locale=function(){return ue[this.$L]},q.locale=function(Ae,Xe){if(!Ae)return this.$L;var yt=this.clone(),Je=be(Ae,Xe,!0);return Je&&(yt.$L=Je),yt},q.clone=function(){return X.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},xe}(),W=se.prototype;return j.prototype=W,[["$ms",A],["$s",w],["$m",D],["$H",C],["$W",S],["$M",E],["$y",x],["$D",$]].forEach(function(xe){W[xe[1]]=function(q){return this.$g(q,xe[0],xe[1])}}),j.extend=function(xe,q){return xe.$i||(xe(q,se,j),xe.$i=!0),j},j.locale=be,j.isDayjs=re,j.unix=function(xe){return j(1e3*xe)},j.en=ue[J],j.Ls=ue,j.p={},j}()},5522:function(hn,Re,_){var d;!function(A,w){var D={};!function(A){"use strict";A.__esModule=!0,A.digestLength=32,A.blockSize=64;var w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function D(O,M,L,U,F){for(var J,ue,ce,re,be,j,X,se,W,xe,q,Ae,Xe;F>=64;){for(J=M[0],ue=M[1],ce=M[2],re=M[3],be=M[4],j=M[5],X=M[6],se=M[7],xe=0;xe<16;xe++)O[xe]=(255&L[q=U+4*xe])<<24|(255&L[q+1])<<16|(255&L[q+2])<<8|255&L[q+3];for(xe=16;xe<64;xe++)O[xe]=((Ae=((W=O[xe-2])>>>17|W<<15)^(W>>>19|W<<13)^W>>>10)+O[xe-7]|0)+((Xe=((W=O[xe-15])>>>7|W<<25)^(W>>>18|W<<14)^W>>>3)+O[xe-16]|0);for(xe=0;xe<64;xe++)Ae=(((be>>>6|be<<26)^(be>>>11|be<<21)^(be>>>25|be<<7))+(be&j^~be&X)|0)+(se+(w[xe]+O[xe]|0)|0)|0,Xe=((J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10))+(J&ue^J&ce^ue&ce)|0,se=X,X=j,j=be,be=re+Ae|0,re=ce,ce=ue,ue=J,J=Ae+Xe|0;M[0]+=J,M[1]+=ue,M[2]+=ce,M[3]+=re,M[4]+=be,M[5]+=j,M[6]+=X,M[7]+=se,U+=64,F-=64}return U}var C=function(){function O(){this.digestLength=A.digestLength,this.blockSize=A.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return O.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},O.prototype.clean=function(){for(var M=0;M<this.buffer.length;M++)this.buffer[M]=0;for(M=0;M<this.temp.length;M++)this.temp[M]=0;this.reset()},O.prototype.update=function(M,L){if(void 0===L&&(L=M.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var U=0;if(this.bytesHashed+=L,this.bufferLength>0){for(;this.bufferLength<64&&L>0;)this.buffer[this.bufferLength++]=M[U++],L--;64===this.bufferLength&&(D(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(L>=64&&(U=D(this.temp,this.state,M,U,L),L%=64);L>0;)this.buffer[this.bufferLength++]=M[U++],L--;return this},O.prototype.finish=function(M){if(!this.finished){var L=this.bytesHashed,U=this.bufferLength,F=L/536870912|0,J=L<<3,ue=L%64<56?64:128;this.buffer[U]=128;for(var ce=U+1;ce<ue-8;ce++)this.buffer[ce]=0;this.buffer[ue-8]=F>>>24&255,this.buffer[ue-7]=F>>>16&255,this.buffer[ue-6]=F>>>8&255,this.buffer[ue-5]=F>>>0&255,this.buffer[ue-4]=J>>>24&255,this.buffer[ue-3]=J>>>16&255,this.buffer[ue-2]=J>>>8&255,this.buffer[ue-1]=J>>>0&255,D(this.temp,this.state,this.buffer,0,ue),this.finished=!0}for(ce=0;ce<8;ce++)M[4*ce+0]=this.state[ce]>>>24&255,M[4*ce+1]=this.state[ce]>>>16&255,M[4*ce+2]=this.state[ce]>>>8&255,M[4*ce+3]=this.state[ce]>>>0&255;return this},O.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},O.prototype._saveState=function(M){for(var L=0;L<this.state.length;L++)M[L]=this.state[L]},O.prototype._restoreState=function(M,L){for(var U=0;U<this.state.length;U++)this.state[U]=M[U];this.bytesHashed=L,this.finished=!1,this.bufferLength=0},O}();A.Hash=C;var S=function(){function O(M){this.inner=new C,this.outer=new C,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var L=new Uint8Array(this.blockSize);if(M.length>this.blockSize)(new C).update(M).finish(L).clean();else for(var U=0;U<M.length;U++)L[U]=M[U];for(U=0;U<L.length;U++)L[U]^=54;for(this.inner.update(L),U=0;U<L.length;U++)L[U]^=106;for(this.outer.update(L),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),U=0;U<L.length;U++)L[U]=0}return O.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},O.prototype.clean=function(){for(var M=0;M<this.istate.length;M++)this.ostate[M]=this.istate[M]=0;this.inner.clean(),this.outer.clean()},O.prototype.update=function(M){return this.inner.update(M),this},O.prototype.finish=function(M){return this.outer.finished?this.outer.finish(M):(this.inner.finish(M),this.outer.update(M,this.digestLength).finish(M)),this},O.prototype.digest=function(){var M=new Uint8Array(this.digestLength);return this.finish(M),M},O}();function I(O){var M=(new C).update(O),L=M.digest();return M.clean(),L}function E(O,M){var L=new S(O).update(M),U=L.digest();return L.clean(),U}function y(O,M,L,U){var F=U[0];if(0===F)throw new Error("hkdf: cannot expand more");M.reset(),F>1&&M.update(O),L&&M.update(L),M.update(U),M.finish(O),U[0]++}A.HMAC=S,A.hash=I,A.default=I,A.hmac=E;var x=new Uint8Array(A.digestLength);A.hkdf=function $(O,M,L,U){void 0===M&&(M=x),void 0===U&&(U=32);for(var F=new Uint8Array([1]),J=E(M,O),ue=new S(J),ce=new Uint8Array(ue.digestLength),re=ce.length,be=new Uint8Array(U),j=0;j<U;j++)re===ce.length&&(y(ce,ue,L,F),re=0),be[j]=ce[re++];return ue.clean(),ce.fill(0),F.fill(0),be},A.pbkdf2=function R(O,M,L,U){for(var F=new S(O),J=F.digestLength,ue=new Uint8Array(4),ce=new Uint8Array(J),re=new Uint8Array(J),be=new Uint8Array(U),j=0;j*J<U;j++){var X=j+1;ue[0]=X>>>24&255,ue[1]=X>>>16&255,ue[2]=X>>>8&255,ue[3]=X>>>0&255,F.reset(),F.update(M),F.update(ue),F.finish(re);for(var se=0;se<J;se++)ce[se]=re[se];for(se=2;se<=L;se++){F.reset(),F.update(re).finish(re);for(var W=0;W<J;W++)ce[W]^=re[W]}for(se=0;se<J&&j*J+se<U;se++)be[j*J+se]=ce[se]}for(j=0;j<J;j++)ce[j]=re[j]=0;for(j=0;j<4;j++)ue[j]=0;return F.clean(),be}}(D);var C=D.default;for(var S in D)C[S]=D[S];"object"==typeof hn.exports?hn.exports=C:void 0!==(d=function(){return C}.call(D,_,D,hn))&&(hn.exports=d)}()},9990:hn=>{hn.exports=_;var Re=null;try{Re=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _(se,W,xe){this.low=0|se,this.high=0|W,this.unsigned=!!xe}function d(se){return!0===(se&&se.__isLong__)}Object.defineProperty(_.prototype,"__isLong__",{value:!0}),_.isLong=d;var A={},w={};function D(se,W){var xe,q,Ae;return W?(Ae=0<=(se>>>=0)&&se<256)&&(q=w[se])?q:(xe=S(se,(0|se)<0?-1:0,!0),Ae&&(w[se]=xe),xe):(Ae=-128<=(se|=0)&&se<128)&&(q=A[se])?q:(xe=S(se,se<0?-1:0,!1),Ae&&(A[se]=xe),xe)}function C(se,W){if(isNaN(se))return W?F:U;if(W){if(se<0)return F;if(se>=O)return be}else{if(se<=-M)return j;if(se+1>=M)return re}return se<0?C(-se,W).neg():S(se%R|0,se/R|0,W)}function S(se,W,xe){return new _(se,W,xe)}_.fromInt=D,_.fromNumber=C,_.fromBits=S;var I=Math.pow;function E(se,W,xe){if(0===se.length)throw Error("empty string");if("NaN"===se||"Infinity"===se||"+Infinity"===se||"-Infinity"===se)return U;if("number"==typeof W?(xe=W,W=!1):W=!!W,(xe=xe||10)<2||36<xe)throw RangeError("radix");var q;if((q=se.indexOf("-"))>0)throw Error("interior hyphen");if(0===q)return E(se.substring(1),W,xe).neg();for(var Ae=C(I(xe,8)),Xe=U,yt=0;yt<se.length;yt+=8){var Je=Math.min(8,se.length-yt),je=parseInt(se.substring(yt,yt+Je),xe);if(Je<8){var K=C(I(xe,Je));Xe=Xe.mul(K).add(C(je))}else Xe=(Xe=Xe.mul(Ae)).add(C(je))}return Xe.unsigned=W,Xe}function y(se,W){return"number"==typeof se?C(se,W):"string"==typeof se?E(se,W):S(se.low,se.high,"boolean"==typeof W?W:se.unsigned)}_.fromString=E,_.fromValue=y;var R=4294967296,O=R*R,M=O/2,L=D(1<<24),U=D(0);_.ZERO=U;var F=D(0,!0);_.UZERO=F;var J=D(1);_.ONE=J;var ue=D(1,!0);_.UONE=ue;var ce=D(-1);_.NEG_ONE=ce;var re=S(-1,2147483647,!1);_.MAX_VALUE=re;var be=S(-1,-1,!0);_.MAX_UNSIGNED_VALUE=be;var j=S(0,-2147483648,!1);_.MIN_VALUE=j;var X=_.prototype;X.toInt=function(){return this.unsigned?this.low>>>0:this.low},X.toNumber=function(){return this.unsigned?(this.high>>>0)*R+(this.low>>>0):this.high*R+(this.low>>>0)},X.toString=function(W){if((W=W||10)<2||36<W)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(j)){var xe=C(W),q=this.div(xe),Ae=q.mul(xe).sub(this);return q.toString(W)+Ae.toInt().toString(W)}return"-"+this.neg().toString(W)}for(var Xe=C(I(W,6),this.unsigned),yt=this,Je="";;){var je=yt.div(Xe),oe=(yt.sub(je.mul(Xe)).toInt()>>>0).toString(W);if((yt=je).isZero())return oe+Je;for(;oe.length<6;)oe="0"+oe;Je=""+oe+Je}},X.getHighBits=function(){return this.high},X.getHighBitsUnsigned=function(){return this.high>>>0},X.getLowBits=function(){return this.low},X.getLowBitsUnsigned=function(){return this.low>>>0},X.getNumBitsAbs=function(){if(this.isNegative())return this.eq(j)?64:this.neg().getNumBitsAbs();for(var W=0!=this.high?this.high:this.low,xe=31;xe>0&&!(W&1<<xe);xe--);return 0!=this.high?xe+33:xe+1},X.isZero=function(){return 0===this.high&&0===this.low},X.eqz=X.isZero,X.isNegative=function(){return!this.unsigned&&this.high<0},X.isPositive=function(){return this.unsigned||this.high>=0},X.isOdd=function(){return!(1&~this.low)},X.isEven=function(){return!(1&this.low)},X.equals=function(W){return d(W)||(W=y(W)),(this.unsigned===W.unsigned||this.high>>>31!=1||W.high>>>31!=1)&&this.high===W.high&&this.low===W.low},X.eq=X.equals,X.notEquals=function(W){return!this.eq(W)},X.neq=X.notEquals,X.ne=X.notEquals,X.lessThan=function(W){return this.comp(W)<0},X.lt=X.lessThan,X.lessThanOrEqual=function(W){return this.comp(W)<=0},X.lte=X.lessThanOrEqual,X.le=X.lessThanOrEqual,X.greaterThan=function(W){return this.comp(W)>0},X.gt=X.greaterThan,X.greaterThanOrEqual=function(W){return this.comp(W)>=0},X.gte=X.greaterThanOrEqual,X.ge=X.greaterThanOrEqual,X.compare=function(W){if(d(W)||(W=y(W)),this.eq(W))return 0;var xe=this.isNegative(),q=W.isNegative();return xe&&!q?-1:!xe&&q?1:this.unsigned?W.high>>>0>this.high>>>0||W.high===this.high&&W.low>>>0>this.low>>>0?-1:1:this.sub(W).isNegative()?-1:1},X.comp=X.compare,X.negate=function(){return!this.unsigned&&this.eq(j)?j:this.not().add(J)},X.neg=X.negate,X.add=function(W){d(W)||(W=y(W));var oe=0,ge=0,ye=0,Ne=0;return ye+=(Ne+=(65535&this.low)+(65535&W.low))>>>16,ge+=(ye+=(this.low>>>16)+(W.low>>>16))>>>16,oe+=(ge+=(65535&this.high)+(65535&W.high))>>>16,oe+=(this.high>>>16)+(W.high>>>16),S((ye&=65535)<<16|(Ne&=65535),(oe&=65535)<<16|(ge&=65535),this.unsigned)},X.subtract=function(W){return d(W)||(W=y(W)),this.add(W.neg())},X.sub=X.subtract,X.multiply=function(W){if(this.isZero())return U;if(d(W)||(W=y(W)),Re)return S(Re.mul(this.low,this.high,W.low,W.high),Re.get_high(),this.unsigned);if(W.isZero())return U;if(this.eq(j))return W.isOdd()?j:U;if(W.eq(j))return this.isOdd()?j:U;if(this.isNegative())return W.isNegative()?this.neg().mul(W.neg()):this.neg().mul(W).neg();if(W.isNegative())return this.mul(W.neg()).neg();if(this.lt(L)&&W.lt(L))return C(this.toNumber()*W.toNumber(),this.unsigned);var Ae=65535&this.high,Xe=this.low>>>16,yt=65535&this.low,je=65535&W.high,K=W.low>>>16,oe=65535&W.low,ge=0,ye=0,Ne=0,Be=0;return Ne+=(Be+=yt*oe)>>>16,ye+=(Ne+=Xe*oe)>>>16,Ne&=65535,ye+=(Ne+=yt*K)>>>16,ge+=(ye+=Ae*oe)>>>16,ye&=65535,ge+=(ye+=Xe*K)>>>16,ye&=65535,ge+=(ye+=yt*je)>>>16,ge+=(this.high>>>16)*oe+Ae*K+Xe*je+yt*(W.high>>>16),S((Ne&=65535)<<16|(Be&=65535),(ge&=65535)<<16|(ye&=65535),this.unsigned)},X.mul=X.multiply,X.divide=function(W){if(d(W)||(W=y(W)),W.isZero())throw Error("division by zero");var q,Ae,Xe;if(Re)return this.unsigned||-2147483648!==this.high||-1!==W.low||-1!==W.high?S((this.unsigned?Re.div_u:Re.div_s)(this.low,this.high,W.low,W.high),Re.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?F:U;if(this.unsigned){if(W.unsigned||(W=W.toUnsigned()),W.gt(this))return F;if(W.gt(this.shru(1)))return ue;Xe=F}else{if(this.eq(j))return W.eq(J)||W.eq(ce)?j:W.eq(j)?J:(q=this.shr(1).div(W).shl(1)).eq(U)?W.isNegative()?J:ce:(Ae=this.sub(W.mul(q)),Xe=q.add(Ae.div(W)));if(W.eq(j))return this.unsigned?F:U;if(this.isNegative())return W.isNegative()?this.neg().div(W.neg()):this.neg().div(W).neg();if(W.isNegative())return this.div(W.neg()).neg();Xe=U}for(Ae=this;Ae.gte(W);){q=Math.max(1,Math.floor(Ae.toNumber()/W.toNumber()));for(var Je=Math.ceil(Math.log(q)/Math.LN2),je=Je<=48?1:I(2,Je-48),K=C(q),oe=K.mul(W);oe.isNegative()||oe.gt(Ae);)oe=(K=C(q-=je,this.unsigned)).mul(W);K.isZero()&&(K=J),Xe=Xe.add(K),Ae=Ae.sub(oe)}return Xe},X.div=X.divide,X.modulo=function(W){return d(W)||(W=y(W)),Re?S((this.unsigned?Re.rem_u:Re.rem_s)(this.low,this.high,W.low,W.high),Re.get_high(),this.unsigned):this.sub(this.div(W).mul(W))},X.mod=X.modulo,X.rem=X.modulo,X.not=function(){return S(~this.low,~this.high,this.unsigned)},X.and=function(W){return d(W)||(W=y(W)),S(this.low&W.low,this.high&W.high,this.unsigned)},X.or=function(W){return d(W)||(W=y(W)),S(this.low|W.low,this.high|W.high,this.unsigned)},X.xor=function(W){return d(W)||(W=y(W)),S(this.low^W.low,this.high^W.high,this.unsigned)},X.shiftLeft=function(W){return d(W)&&(W=W.toInt()),0==(W&=63)?this:W<32?S(this.low<<W,this.high<<W|this.low>>>32-W,this.unsigned):S(0,this.low<<W-32,this.unsigned)},X.shl=X.shiftLeft,X.shiftRight=function(W){return d(W)&&(W=W.toInt()),0==(W&=63)?this:W<32?S(this.low>>>W|this.high<<32-W,this.high>>W,this.unsigned):S(this.high>>W-32,this.high>=0?0:-1,this.unsigned)},X.shr=X.shiftRight,X.shiftRightUnsigned=function(W){if(d(W)&&(W=W.toInt()),0==(W&=63))return this;var xe=this.high;return W<32?S(this.low>>>W|xe<<32-W,xe>>>W,this.unsigned):S(32===W?xe:xe>>>W-32,0,this.unsigned)},X.shru=X.shiftRightUnsigned,X.shr_u=X.shiftRightUnsigned,X.toSigned=function(){return this.unsigned?S(this.low,this.high,!1):this},X.toUnsigned=function(){return this.unsigned?this:S(this.low,this.high,!0)},X.toBytes=function(W){return W?this.toBytesLE():this.toBytesBE()},X.toBytesLE=function(){var W=this.high,xe=this.low;return[255&xe,xe>>>8&255,xe>>>16&255,xe>>>24,255&W,W>>>8&255,W>>>16&255,W>>>24]},X.toBytesBE=function(){var W=this.high,xe=this.low;return[W>>>24,W>>>16&255,W>>>8&255,255&W,xe>>>24,xe>>>16&255,xe>>>8&255,255&xe]},_.fromBytes=function(W,xe,q){return q?_.fromBytesLE(W,xe):_.fromBytesBE(W,xe)},_.fromBytesLE=function(W,xe){return new _(W[0]|W[1]<<8|W[2]<<16|W[3]<<24,W[4]|W[5]<<8|W[6]<<16|W[7]<<24,xe)},_.fromBytesBE=function(W,xe){return new _(W[4]<<24|W[5]<<16|W[6]<<8|W[7],W[0]<<24|W[1]<<16|W[2]<<8|W[3],xe)}},1242:function(hn){
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
typeof self<"u"&&self,hn.exports=function(Re){var _={};function d(A){if(_[A])return _[A].exports;var w=_[A]={i:A,l:!1,exports:{}};return Re[A].call(w.exports,w,w.exports,d),w.l=!0,w.exports}return d.m=Re,d.c=_,d.d=function(A,w,D){d.o(A,w)||Object.defineProperty(A,w,{configurable:!1,enumerable:!0,get:D})},d.n=function(A){var w=A&&A.__esModule?function(){return A.default}:function(){return A};return d.d(w,"a",w),w},d.o=function(A,w){return Object.prototype.hasOwnProperty.call(A,w)},d.p="",d(d.s=109)}([function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(17),w=d(18),D=d(19),C=d(45),S=d(46),I=d(47),E=d(48),y=d(49),x=d(12),$=d(32),R=d(33),O=d(31),M=d(1);_.default={Scope:M.Scope,create:M.create,find:M.find,query:M.query,register:M.register,Container:A.default,Format:w.default,Leaf:D.default,Embed:E.default,Scroll:C.default,Block:I.default,Inline:S.default,Text:y.default,Attributor:{Attribute:x.default,Class:$.default,Style:R.default,Store:O.default}}},function(Re,_,d){"use strict";var O,A=this&&this.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var U in L)L.hasOwnProperty(U)&&(M[U]=L[U])},function(M,L){function U(){this.constructor=M}O(M,L),M.prototype=null===L?Object.create(L):(U.prototype=L.prototype,new U)});Object.defineProperty(_,"__esModule",{value:!0});var w=function(O){function M(L){var U=this;return(U=O.call(this,L="[Parchment] "+L)||this).message=L,U.name=U.constructor.name,U}return A(M,O),M}(Error);_.ParchmentError=w;var E,D={},C={},S={},I={};function $(O,M){var L;if(void 0===M&&(M=E.ANY),"string"==typeof O)L=I[O]||D[O];else if(O instanceof Text||O.nodeType===Node.TEXT_NODE)L=I.text;else if("number"==typeof O)O&E.LEVEL&E.BLOCK?L=I.block:O&E.LEVEL&E.INLINE&&(L=I.inline);else if(O instanceof HTMLElement){var U=(O.getAttribute("class")||"").split(/\s+/);for(var F in U)if(L=C[U[F]])break;L=L||S[O.tagName]}return null==L?null:M&E.LEVEL&L.scope&&M&E.TYPE&L.scope?L:null}_.DATA_KEY="__blot",function(O){O[O.TYPE=3]="TYPE",O[O.LEVEL=12]="LEVEL",O[O.ATTRIBUTE=13]="ATTRIBUTE",O[O.BLOT=14]="BLOT",O[O.INLINE=7]="INLINE",O[O.BLOCK=11]="BLOCK",O[O.BLOCK_BLOT=10]="BLOCK_BLOT",O[O.INLINE_BLOT=6]="INLINE_BLOT",O[O.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",O[O.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",O[O.ANY=15]="ANY"}(E=_.Scope||(_.Scope={})),_.create=function y(O,M){var L=$(O);if(null==L)throw new w("Unable to create "+O+" blot");var U=L,F=O instanceof Node||O.nodeType===Node.TEXT_NODE?O:U.create(M);return new U(F,M)},_.find=function x(O,M){return void 0===M&&(M=!1),null==O?null:null!=O[_.DATA_KEY]?O[_.DATA_KEY].blot:M?x(O.parentNode,M):null},_.query=$,_.register=function R(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];if(O.length>1)return O.map(function(F){return R(F)});var L=O[0];if("string"!=typeof L.blotName&&"string"!=typeof L.attrName)throw new w("Invalid definition");if("abstract"===L.blotName)throw new w("Cannot register abstract class");return I[L.blotName||L.attrName]=L,"string"==typeof L.keyName?D[L.keyName]=L:(null!=L.className&&(C[L.className]=L),null!=L.tagName&&(L.tagName=Array.isArray(L.tagName)?L.tagName.map(function(F){return F.toUpperCase()}):L.tagName.toUpperCase(),(Array.isArray(L.tagName)?L.tagName:[L.tagName]).forEach(function(F){(null==S[F]||null==L.className)&&(S[F]=L)}))),L}},function(Re,_,d){var A=d(51),w=d(11),D=d(3),C=d(20),I=function(E){this.ops=Array.isArray(E)?E:null!=E&&Array.isArray(E.ops)?E.ops:[]};I.prototype.insert=function(E,y){var x={};return 0===E.length?this:(x.insert=E,null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x))},I.prototype.delete=function(E){return E<=0?this:this.push({delete:E})},I.prototype.retain=function(E,y){if(E<=0)return this;var x={retain:E};return null!=y&&"object"==typeof y&&Object.keys(y).length>0&&(x.attributes=y),this.push(x)},I.prototype.push=function(E){var y=this.ops.length,x=this.ops[y-1];if(E=D(!0,{},E),"object"==typeof x){if("number"==typeof E.delete&&"number"==typeof x.delete)return this.ops[y-1]={delete:x.delete+E.delete},this;if("number"==typeof x.delete&&null!=E.insert&&"object"!=typeof(x=this.ops[(y-=1)-1]))return this.ops.unshift(E),this;if(w(E.attributes,x.attributes)){if("string"==typeof E.insert&&"string"==typeof x.insert)return this.ops[y-1]={insert:x.insert+E.insert},"object"==typeof E.attributes&&(this.ops[y-1].attributes=E.attributes),this;if("number"==typeof E.retain&&"number"==typeof x.retain)return this.ops[y-1]={retain:x.retain+E.retain},"object"==typeof E.attributes&&(this.ops[y-1].attributes=E.attributes),this}}return y===this.ops.length?this.ops.push(E):this.ops.splice(y,0,E),this},I.prototype.chop=function(){var E=this.ops[this.ops.length-1];return E&&E.retain&&!E.attributes&&this.ops.pop(),this},I.prototype.filter=function(E){return this.ops.filter(E)},I.prototype.forEach=function(E){this.ops.forEach(E)},I.prototype.map=function(E){return this.ops.map(E)},I.prototype.partition=function(E){var y=[],x=[];return this.forEach(function($){(E($)?y:x).push($)}),[y,x]},I.prototype.reduce=function(E,y){return this.ops.reduce(E,y)},I.prototype.changeLength=function(){return this.reduce(function(E,y){return y.insert?E+C.length(y):y.delete?E-y.delete:E},0)},I.prototype.length=function(){return this.reduce(function(E,y){return E+C.length(y)},0)},I.prototype.slice=function(E,y){E=E||0,"number"!=typeof y&&(y=1/0);for(var x=[],$=C.iterator(this.ops),R=0;R<y&&$.hasNext();){var O;R<E?O=$.next(E-R):(O=$.next(y-R),x.push(O)),R+=C.length(O)}return new I(x)},I.prototype.compose=function(E){var y=C.iterator(this.ops),x=C.iterator(E.ops),$=[],R=x.peek();if(null!=R&&"number"==typeof R.retain&&null==R.attributes){for(var O=R.retain;"insert"===y.peekType()&&y.peekLength()<=O;)O-=y.peekLength(),$.push(y.next());R.retain-O>0&&x.next(R.retain-O)}for(var M=new I($);y.hasNext()||x.hasNext();)if("insert"===x.peekType())M.push(x.next());else if("delete"===y.peekType())M.push(y.next());else{var L=Math.min(y.peekLength(),x.peekLength()),U=y.next(L),F=x.next(L);if("number"==typeof F.retain){var J={};"number"==typeof U.retain?J.retain=L:J.insert=U.insert;var ue=C.attributes.compose(U.attributes,F.attributes,"number"==typeof U.retain);if(ue&&(J.attributes=ue),M.push(J),!x.hasNext()&&w(M.ops[M.ops.length-1],J)){var ce=new I(y.rest());return M.concat(ce).chop()}}else"number"==typeof F.delete&&"number"==typeof U.retain&&M.push(F)}return M.chop()},I.prototype.concat=function(E){var y=new I(this.ops.slice());return E.ops.length>0&&(y.push(E.ops[0]),y.ops=y.ops.concat(E.ops.slice(1))),y},I.prototype.diff=function(E,y){if(this.ops===E.ops)return new I;var x=[this,E].map(function(L){return L.map(function(U){if(null!=U.insert)return"string"==typeof U.insert?U.insert:"\0";throw new Error("diff() called "+(L===E?"on":"with")+" non-document")}).join("")}),$=new I,R=A(x[0],x[1],y),O=C.iterator(this.ops),M=C.iterator(E.ops);return R.forEach(function(L){for(var U=L[1].length;U>0;){var F=0;switch(L[0]){case A.INSERT:F=Math.min(M.peekLength(),U),$.push(M.next(F));break;case A.DELETE:F=Math.min(U,O.peekLength()),O.next(F),$.delete(F);break;case A.EQUAL:F=Math.min(O.peekLength(),M.peekLength(),U);var J=O.next(F),ue=M.next(F);w(J.insert,ue.insert)?$.retain(F,C.attributes.diff(J.attributes,ue.attributes)):$.push(ue).delete(F)}U-=F}}),$.chop()},I.prototype.eachLine=function(E,y){y=y||"\n";for(var x=C.iterator(this.ops),$=new I,R=0;x.hasNext();){if("insert"!==x.peekType())return;var O=x.peek(),M=C.length(O)-x.peekLength(),L="string"==typeof O.insert?O.insert.indexOf(y,M)-M:-1;if(L<0)$.push(x.next());else if(L>0)$.push(x.next(L));else{if(!1===E($,x.next(1).attributes||{},R))return;R+=1,$=new I}}$.length()>0&&E($,{},R)},I.prototype.transform=function(E,y){if(y=!!y,"number"==typeof E)return this.transformPosition(E,y);for(var x=C.iterator(this.ops),$=C.iterator(E.ops),R=new I;x.hasNext()||$.hasNext();)if("insert"!==x.peekType()||!y&&"insert"===$.peekType())if("insert"===$.peekType())R.push($.next());else{var O=Math.min(x.peekLength(),$.peekLength()),M=x.next(O),L=$.next(O);if(M.delete)continue;L.delete?R.push(L):R.retain(O,C.attributes.transform(M.attributes,L.attributes,y))}else R.retain(C.length(x.next()));return R.chop()},I.prototype.transformPosition=function(E,y){y=!!y;for(var x=C.iterator(this.ops),$=0;x.hasNext()&&$<=E;){var R=x.peekLength(),O=x.peekType();x.next(),"delete"!==O?("insert"===O&&($<E||!y)&&(E+=R),$+=R):E-=Math.min(R,E-$)}return E},Re.exports=I},function(Re,_){"use strict";var d=Object.prototype.hasOwnProperty,A=Object.prototype.toString,w=Object.defineProperty,D=Object.getOwnPropertyDescriptor,C=function(x){return"function"==typeof Array.isArray?Array.isArray(x):"[object Array]"===A.call(x)},S=function(x){if(!x||"[object Object]"!==A.call(x))return!1;var O,$=d.call(x,"constructor"),R=x.constructor&&x.constructor.prototype&&d.call(x.constructor.prototype,"isPrototypeOf");if(x.constructor&&!$&&!R)return!1;for(O in x);return typeof O>"u"||d.call(x,O)},I=function(x,$){w&&"__proto__"===$.name?w(x,$.name,{enumerable:!0,configurable:!0,value:$.newValue,writable:!0}):x[$.name]=$.newValue},E=function(x,$){if("__proto__"===$){if(!d.call(x,$))return;if(D)return D(x,$).value}return x[$]};Re.exports=function y(){var x,$,R,O,M,L,U=arguments[0],F=1,J=arguments.length,ue=!1;for("boolean"==typeof U&&(ue=U,U=arguments[1]||{},F=2),(null==U||"object"!=typeof U&&"function"!=typeof U)&&(U={});F<J;++F)if(null!=(x=arguments[F]))for($ in x)R=E(U,$),U!==(O=E(x,$))&&(ue&&O&&(S(O)||(M=C(O)))?(M?(M=!1,L=R&&C(R)?R:[]):L=R&&S(R)?R:{},I(U,{name:$,newValue:y(ue,L,O)})):typeof O<"u"&&I(U,{name:$,newValue:O}));return U}},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BlockEmbed=_.bubbleFormats=void 0;var A=function(){function X(se,W){for(var xe=0;xe<W.length;xe++){var q=W[xe];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(se,q.key,q)}}return function(se,W,xe){return W&&X(se.prototype,W),xe&&X(se,xe),se}}(),w=function X(se,W,xe){null===se&&(se=Function.prototype);var q=Object.getOwnPropertyDescriptor(se,W);if(void 0===q){var Ae=Object.getPrototypeOf(se);return null===Ae?void 0:X(Ae,W,xe)}if("value"in q)return q.value;var Xe=q.get;return void 0===Xe?void 0:Xe.call(xe)},C=U(d(3)),I=U(d(2)),y=U(d(0)),$=U(d(16)),O=U(d(6)),L=U(d(7));function U(X){return X&&X.__esModule?X:{default:X}}function F(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")}function J(X,se){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!se||"object"!=typeof se&&"function"!=typeof se?X:se}function ue(X,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(X,se):X.__proto__=se)}var re=function(X){function se(){return F(this,se),J(this,(se.__proto__||Object.getPrototypeOf(se)).apply(this,arguments))}return ue(se,X),A(se,[{key:"attach",value:function(){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"attach",this).call(this),this.attributes=new y.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new I.default).insert(this.value(),(0,C.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(xe,q){var Ae=y.default.query(xe,y.default.Scope.BLOCK_ATTRIBUTE);null!=Ae&&this.attributes.attribute(Ae,q)}},{key:"formatAt",value:function(xe,q,Ae,Xe){this.format(Ae,Xe)}},{key:"insertAt",value:function(xe,q,Ae){if("string"==typeof q&&q.endsWith("\n")){var Xe=y.default.create(be.blotName);this.parent.insertBefore(Xe,0===xe?this:this.next),Xe.insertAt(0,q.slice(0,-1))}else w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,xe,q,Ae)}}]),se}(y.default.Embed);re.scope=y.default.Scope.BLOCK_BLOT;var be=function(X){function se(W){F(this,se);var xe=J(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,W));return xe.cache={},xe}return ue(se,X),A(se,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(y.default.Leaf).reduce(function(xe,q){return 0===q.length()?xe:xe.insert(q.value(),j(q))},new I.default).insert("\n",j(this))),this.cache.delta}},{key:"deleteAt",value:function(xe,q){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"deleteAt",this).call(this,xe,q),this.cache={}}},{key:"formatAt",value:function(xe,q,Ae,Xe){q<=0||(y.default.query(Ae,y.default.Scope.BLOCK)?xe+q===this.length()&&this.format(Ae,Xe):w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"formatAt",this).call(this,xe,Math.min(q,this.length()-xe-1),Ae,Xe),this.cache={})}},{key:"insertAt",value:function(xe,q,Ae){if(null!=Ae)return w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,xe,q,Ae);if(0!==q.length){var Xe=q.split("\n"),yt=Xe.shift();yt.length>0&&(xe<this.length()-1||null==this.children.tail?w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertAt",this).call(this,Math.min(xe,this.length()-1),yt):this.children.tail.insertAt(this.children.tail.length(),yt),this.cache={});var Je=this;Xe.reduce(function(je,K){return(Je=Je.split(je,!0)).insertAt(0,K),K.length},xe+yt.length)}}},{key:"insertBefore",value:function(xe,q){var Ae=this.children.head;w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"insertBefore",this).call(this,xe,q),Ae instanceof $.default&&Ae.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(xe,q){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"moveChildren",this).call(this,xe,q),this.cache={}}},{key:"optimize",value:function(xe){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"optimize",this).call(this,xe),this.cache={}}},{key:"path",value:function(xe){return w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"path",this).call(this,xe,!0)}},{key:"removeChild",value:function(xe){w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"removeChild",this).call(this,xe),this.cache={}}},{key:"split",value:function(xe){var q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(q&&(0===xe||xe>=this.length()-1)){var Ae=this.clone();return 0===xe?(this.parent.insertBefore(Ae,this),this):(this.parent.insertBefore(Ae,this.next),Ae)}var Xe=w(se.prototype.__proto__||Object.getPrototypeOf(se.prototype),"split",this).call(this,xe,q);return this.cache={},Xe}}]),se}(y.default.Block);function j(X){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==X||("function"==typeof X.formats&&(se=(0,C.default)(se,X.formats())),null==X.parent||"scroll"==X.parent.blotName||X.parent.statics.scope!==X.statics.scope)?se:j(X.parent,se)}be.blotName="block",be.tagName="P",be.defaultChild="break",be.allowedChildren=[O.default,y.default.Embed,L.default],_.bubbleFormats=j,_.BlockEmbed=re,_.default=be},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.overload=_.expandConfig=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},w=function(){return function(je,K){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function Je(je,K){var oe=[],ge=!0,ye=!1,Ne=void 0;try{for(var Qe,Be=je[Symbol.iterator]();!(ge=(Qe=Be.next()).done)&&(oe.push(Qe.value),!K||oe.length!==K);ge=!0);}catch(Pt){ye=!0,Ne=Pt}finally{try{!ge&&Be.return&&Be.return()}finally{if(ye)throw Ne}}return oe}(je,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Je(je,K){for(var oe=0;oe<K.length;oe++){var ge=K[oe];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(je,ge.key,ge)}}return function(je,K,oe){return K&&Je(je.prototype,K),oe&&Je(je,oe),je}}();d(50);var S=j(d(2)),E=j(d(14)),x=j(d(8)),R=j(d(9)),M=j(d(0)),L=d(15),U=j(L),J=j(d(3)),ce=j(d(10)),be=j(d(34));function j(Je){return Je&&Je.__esModule?Je:{default:Je}}function X(Je,je,K){return je in Je?Object.defineProperty(Je,je,{value:K,enumerable:!0,configurable:!0,writable:!0}):Je[je]=K,Je}var W=(0,ce.default)("quill"),xe=function(){function Je(je){var K=this,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function se(Je,je){if(!(Je instanceof je))throw new TypeError("Cannot call a class as a function")}(this,Je),this.options=q(je,oe),this.container=this.options.container,null==this.container)return W.error("Invalid Quill container",je);this.options.debug&&Je.debug(this.options.debug);var ge=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new x.default,this.scroll=M.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new E.default(this.scroll),this.selection=new U.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(x.default.events.EDITOR_CHANGE,function(Ne){Ne===x.default.events.TEXT_CHANGE&&K.root.classList.toggle("ql-blank",K.editor.isBlank())}),this.emitter.on(x.default.events.SCROLL_UPDATE,function(Ne,Be){var Qe=K.selection.lastRange,Pt=Qe&&0===Qe.length?Qe.index:void 0;Ae.call(K,function(){return K.editor.update(null,Be,Pt)},Ne)});var ye=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+ge+"<p><br></p></div>");this.setContents(ye),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return D(Je,null,[{key:"debug",value:function(K){!0===K&&(K="log"),ce.default.level(K)}},{key:"find",value:function(K){return K.__quill||M.default.find(K)}},{key:"import",value:function(K){return null==this.imports[K]&&W.error("Cannot import "+K+". Are you sure it was registered?"),this.imports[K]}},{key:"register",value:function(K,oe){var ge=this,ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof K){var Ne=K.attrName||K.blotName;"string"==typeof Ne?this.register("formats/"+Ne,K,oe):Object.keys(K).forEach(function(Be){ge.register(Be,K[Be],oe)})}else null!=this.imports[K]&&!ye&&W.warn("Overwriting "+K+" with",oe),this.imports[K]=oe,(K.startsWith("blots/")||K.startsWith("formats/"))&&"abstract"!==oe.blotName?M.default.register(oe):K.startsWith("modules")&&"function"==typeof oe.register&&oe.register()}}]),D(Je,[{key:"addContainer",value:function(K){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof K){var ge=K;(K=document.createElement("div")).classList.add(ge)}return this.container.insertBefore(K,oe),K}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(K,oe,ge){var ye=this,Ne=Xe(K,oe,ge),Be=w(Ne,4);return Ae.call(this,function(){return ye.editor.deleteText(K,oe)},ge=Be[3],K=Be[0],-1*(oe=Be[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var K=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(K),this.container.classList.toggle("ql-disabled",!K)}},{key:"focus",value:function(){var K=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=K,this.scrollIntoView()}},{key:"format",value:function(K,oe){var ge=this;return Ae.call(this,function(){var Ne=ge.getSelection(!0),Be=new S.default;if(null==Ne)return Be;if(M.default.query(K,M.default.Scope.BLOCK))Be=ge.editor.formatLine(Ne.index,Ne.length,X({},K,oe));else{if(0===Ne.length)return ge.selection.format(K,oe),Be;Be=ge.editor.formatText(Ne.index,Ne.length,X({},K,oe))}return ge.setSelection(Ne,x.default.sources.SILENT),Be},arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.default.sources.API)}},{key:"formatLine",value:function(K,oe,ge,ye,Ne){var Qe,Be=this,Pt=Xe(K,oe,ge,ye,Ne),Ce=w(Pt,4);return oe=Ce[1],Qe=Ce[2],Ae.call(this,function(){return Be.editor.formatLine(K,oe,Qe)},Ne=Ce[3],K=Ce[0],0)}},{key:"formatText",value:function(K,oe,ge,ye,Ne){var Qe,Be=this,Pt=Xe(K,oe,ge,ye,Ne),Ce=w(Pt,4);return oe=Ce[1],Qe=Ce[2],Ae.call(this,function(){return Be.editor.formatText(K,oe,Qe)},Ne=Ce[3],K=Ce[0],0)}},{key:"getBounds",value:function(K){var ge;ge="number"==typeof K?this.selection.getBounds(K,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(K.index,K.length);var ye=this.container.getBoundingClientRect();return{bottom:ge.bottom-ye.top,height:ge.height,left:ge.left-ye.left,right:ge.right-ye.left,top:ge.top-ye.top,width:ge.width}}},{key:"getContents",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-K,ge=Xe(K,oe),ye=w(ge,2);return this.editor.getContents(K=ye[0],oe=ye[1])}},{key:"getFormat",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof K?this.editor.getFormat(K,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(K.index,K.length)}},{key:"getIndex",value:function(K){return K.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(K){return this.scroll.leaf(K)}},{key:"getLine",value:function(K){return this.scroll.line(K)}},{key:"getLines",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof K?this.scroll.lines(K.index,K.length):this.scroll.lines(K,oe)}},{key:"getModule",value:function(K){return this.theme.modules[K]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-K,ge=Xe(K,oe),ye=w(ge,2);return this.editor.getText(K=ye[0],oe=ye[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(K,oe,ge){var ye=this;return Ae.call(this,function(){return ye.editor.insertEmbed(K,oe,ge)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:Je.sources.API,K)}},{key:"insertText",value:function(K,oe,ge,ye,Ne){var Qe,Be=this,Pt=Xe(K,0,ge,ye,Ne),Ce=w(Pt,4);return Qe=Ce[2],Ae.call(this,function(){return Be.editor.insertText(K,oe,Qe)},Ne=Ce[3],K=Ce[0],oe.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(K,oe,ge){this.clipboard.dangerouslyPasteHTML(K,oe,ge)}},{key:"removeFormat",value:function(K,oe,ge){var ye=this,Ne=Xe(K,oe,ge),Be=w(Ne,4);return oe=Be[1],Ae.call(this,function(){return ye.editor.removeFormat(K,oe)},ge=Be[3],K=Be[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(K){var oe=this;return Ae.call(this,function(){K=new S.default(K);var ye=oe.getLength(),Ne=oe.editor.deleteText(0,ye),Be=oe.editor.applyDelta(K),Qe=Be.ops[Be.ops.length-1];return null!=Qe&&"string"==typeof Qe.insert&&"\n"===Qe.insert[Qe.insert.length-1]&&(oe.editor.deleteText(oe.getLength()-1,1),Be.delete(1)),Ne.compose(Be)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API)}},{key:"setSelection",value:function(K,oe,ge){if(null==K)this.selection.setRange(null,oe||Je.sources.API);else{var ye=Xe(K,oe,ge),Ne=w(ye,4);ge=Ne[3],this.selection.setRange(new L.Range(K=Ne[0],oe=Ne[1]),ge),ge!==x.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(K){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API,ge=(new S.default).insert(K);return this.setContents(ge,oe)}},{key:"update",value:function(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.default.sources.USER,oe=this.scroll.update(K);return this.selection.update(K),oe}},{key:"updateContents",value:function(K){var oe=this,ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.default.sources.API;return Ae.call(this,function(){return K=new S.default(K),oe.editor.applyDelta(K,ge)},ge,!0)}}]),Je}();function q(Je,je){if((je=(0,J.default)(!0,{container:Je,modules:{clipboard:!0,keyboard:!0,history:!0}},je)).theme&&je.theme!==xe.DEFAULTS.theme){if(je.theme=xe.import("themes/"+je.theme),null==je.theme)throw new Error("Invalid theme "+je.theme+". Did you register it?")}else je.theme=be.default;var K=(0,J.default)(!0,{},je.theme.DEFAULTS);[K,je].forEach(function(ye){ye.modules=ye.modules||{},Object.keys(ye.modules).forEach(function(Ne){!0===ye.modules[Ne]&&(ye.modules[Ne]={})})});var ge=Object.keys(K.modules).concat(Object.keys(je.modules)).reduce(function(ye,Ne){var Be=xe.import("modules/"+Ne);return null==Be?W.error("Cannot load "+Ne+" module. Are you sure you registered it?"):ye[Ne]=Be.DEFAULTS||{},ye},{});return null!=je.modules&&je.modules.toolbar&&je.modules.toolbar.constructor!==Object&&(je.modules.toolbar={container:je.modules.toolbar}),je=(0,J.default)(!0,{},xe.DEFAULTS,{modules:ge},K,je),["bounds","container","scrollingContainer"].forEach(function(ye){"string"==typeof je[ye]&&(je[ye]=document.querySelector(je[ye]))}),je.modules=Object.keys(je.modules).reduce(function(ye,Ne){return je.modules[Ne]&&(ye[Ne]=je.modules[Ne]),ye},{}),je}function Ae(Je,je,K,oe){if(this.options.strict&&!this.isEnabled()&&je===x.default.sources.USER)return new S.default;var ge=null==K?null:this.getSelection(),ye=this.editor.delta,Ne=Je();if(null!=ge&&(!0===K&&(K=ge.index),null==oe?ge=yt(ge,Ne,je):0!==oe&&(ge=yt(ge,K,oe,je)),this.setSelection(ge,x.default.sources.SILENT)),Ne.length()>0){var Be,Pt,Qe=[x.default.events.TEXT_CHANGE,Ne,ye,je];(Be=this.emitter).emit.apply(Be,[x.default.events.EDITOR_CHANGE].concat(Qe)),je!==x.default.sources.SILENT&&(Pt=this.emitter).emit.apply(Pt,Qe)}return Ne}function Xe(Je,je,K,oe,ge){var ye={};return"number"==typeof Je.index&&"number"==typeof Je.length?"number"!=typeof je?(ge=oe,oe=K,K=je,je=Je.length,Je=Je.index):(je=Je.length,Je=Je.index):"number"!=typeof je&&(ge=oe,oe=K,K=je,je=0),"object"===(typeof K>"u"?"undefined":A(K))?(ye=K,ge=oe):"string"==typeof K&&(null!=oe?ye[K]=oe:ge=K),[Je,je,ye,ge=ge||x.default.sources.API]}function yt(Je,je,K,oe){if(null==Je)return null;var ge=void 0,ye=void 0;if(je instanceof S.default){var Ne=[Je.index,Je.index+Je.length].map(function(Ce){return je.transformPosition(Ce,oe!==x.default.sources.USER)}),Be=w(Ne,2);ge=Be[0],ye=Be[1]}else{var Qe=[Je.index,Je.index+Je.length].map(function(Ce){return Ce<je||Ce===je&&oe===x.default.sources.USER?Ce:K>=0?Ce+K:Math.max(je,Ce+K)}),Pt=w(Qe,2);ge=Pt[0],ye=Pt[1]}return new L.Range(ge,ye-ge)}xe.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},xe.events=x.default.events,xe.sources=x.default.sources,xe.version="1.3.7",xe.imports={delta:S.default,parchment:M.default,"core/module":R.default,"core/theme":be.default},_.expandConfig=q,_.overload=Xe,_.default=xe},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var U=0;U<L.length;U++){var F=L[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,U){return L&&O(M.prototype,L),U&&O(M,U),M}}(),w=function O(M,L,U){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,U)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(U)},C=E(d(7)),I=E(d(0));function E(O){return O&&O.__esModule?O:{default:O}}var R=function(O){function M(){return function y(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function x(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function $(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"formatAt",value:function(U,F,J,ue){if(M.compare(this.statics.blotName,J)<0&&I.default.query(J,I.default.Scope.BLOT)){var ce=this.isolate(U,F);ue&&ce.wrap(J,ue)}else w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,U,F,J,ue)}},{key:"optimize",value:function(U){if(w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,U),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){var F=this.parent.isolate(this.offset(),this.length());this.moveChildren(F),F.wrap(this)}}}],[{key:"compare",value:function(U,F){var J=M.order.indexOf(U),ue=M.order.indexOf(F);return J>=0||ue>=0?J-ue:U===F?0:U<F?-1:1}}]),M}(I.default.Inline);R.allowedChildren=[R,I.default.Embed,C.default],R.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],_.default=R},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(0)).default.Text);_.default=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function L(U,F){for(var J=0;J<F.length;J++){var ue=F[J];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(U,ue.key,ue)}}return function(U,F,J){return F&&L(U.prototype,F),J&&L(U,J),U}}(),w=function L(U,F,J){null===U&&(U=Function.prototype);var ue=Object.getOwnPropertyDescriptor(U,F);if(void 0===ue){var ce=Object.getPrototypeOf(U);return null===ce?void 0:L(ce,F,J)}if("value"in ue)return ue.value;var re=ue.get;return void 0===re?void 0:re.call(J)},C=E(d(54));function E(L){return L&&L.__esModule?L:{default:L}}var R=(0,E(d(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(L){document.addEventListener(L,function(){for(var U=arguments.length,F=Array(U),J=0;J<U;J++)F[J]=arguments[J];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(ue){var ce;ue.__quill&&ue.__quill.emitter&&(ce=ue.__quill.emitter).handleDOM.apply(ce,F)})})});var M=function(L){function U(){!function y(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U);var F=function x(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?L:U}(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));return F.listeners={},F.on("error",R.error),F}return function $(L,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}(U,L),A(U,[{key:"emit",value:function(){R.log.apply(R,arguments),w(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(J){for(var ue=arguments.length,ce=Array(ue>1?ue-1:0),re=1;re<ue;re++)ce[re-1]=arguments[re];(this.listeners[J.type]||[]).forEach(function(be){var j=be.node,X=be.handler;(J.target===j||j.contains(J.target))&&X.apply(void 0,[J].concat(ce))})}},{key:"listenDOM",value:function(J,ue,ce){this.listeners[J]||(this.listeners[J]=[]),this.listeners[J].push({node:ue,handler:ce})}}]),U}(C.default);M.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},M.sources={API:"api",SILENT:"silent",USER:"user"},_.default=M},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=function D(C){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function A(D,C){if(!(D instanceof C))throw new TypeError("Cannot call a class as a function")})(this,D),this.quill=C,this.options=S};w.DEFAULTS={},_.default=w},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=["error","warn","log","info"],w="warn";function D(S){if(A.indexOf(S)<=A.indexOf(w)){for(var I,E=arguments.length,y=Array(E>1?E-1:0),x=1;x<E;x++)y[x-1]=arguments[x];(I=console)[S].apply(I,y)}}function C(S){return A.reduce(function(I,E){return I[E]=D.bind(console,E,S),I},{})}D.level=C.level=function(S){w=S},_.default=C},function(Re,_,d){var A=Array.prototype.slice,w=d(52),D=d(53),C=Re.exports=function(y,x,$){return $||($={}),y===x||(y instanceof Date&&x instanceof Date?y.getTime()===x.getTime():!y||!x||"object"!=typeof y&&"object"!=typeof x?$.strict?y===x:y==x:function E(y,x,$){var R,O;if(S(y)||S(x)||y.prototype!==x.prototype)return!1;if(D(y))return!!D(x)&&(y=A.call(y),x=A.call(x),C(y,x,$));if(I(y)){if(!I(x)||y.length!==x.length)return!1;for(R=0;R<y.length;R++)if(y[R]!==x[R])return!1;return!0}try{var M=w(y),L=w(x)}catch{return!1}if(M.length!=L.length)return!1;for(M.sort(),L.sort(),R=M.length-1;R>=0;R--)if(M[R]!=L[R])return!1;for(R=M.length-1;R>=0;R--)if(!C(y[O=M[R]],x[O],$))return!1;return typeof y==typeof x}(y,x,$))};function S(y){return null==y}function I(y){return!(!y||"object"!=typeof y||"number"!=typeof y.length||"function"!=typeof y.copy||"function"!=typeof y.slice||y.length>0&&"number"!=typeof y[0])}},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(1),w=function(){function D(C,S,I){void 0===I&&(I={}),this.attrName=C,this.keyName=S,this.scope=null!=I.scope?I.scope&A.Scope.LEVEL|A.Scope.TYPE&A.Scope.ATTRIBUTE:A.Scope.ATTRIBUTE,null!=I.whitelist&&(this.whitelist=I.whitelist)}return D.keys=function(C){return[].map.call(C.attributes,function(S){return S.name})},D.prototype.add=function(C,S){return!!this.canAdd(C,S)&&(C.setAttribute(this.keyName,S),!0)},D.prototype.canAdd=function(C,S){return null!=A.query(C,A.Scope.BLOT&(this.scope|A.Scope.TYPE))&&(null==this.whitelist||("string"==typeof S?this.whitelist.indexOf(S.replace(/["']/g,""))>-1:this.whitelist.indexOf(S)>-1))},D.prototype.remove=function(C){C.removeAttribute(this.keyName)},D.prototype.value=function(C){var S=C.getAttribute(this.keyName);return this.canAdd(C,S)&&S?S:""},D}();_.default=w},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Code=void 0;var A=function(){return function(be,j){if(Array.isArray(be))return be;if(Symbol.iterator in Object(be))return function re(be,j){var X=[],se=!0,W=!1,xe=void 0;try{for(var Ae,q=be[Symbol.iterator]();!(se=(Ae=q.next()).done)&&(X.push(Ae.value),!j||X.length!==j);se=!0);}catch(Xe){W=!0,xe=Xe}finally{try{!se&&q.return&&q.return()}finally{if(W)throw xe}}return X}(be,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function re(be,j){for(var X=0;X<j.length;X++){var se=j[X];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(be,se.key,se)}}return function(be,j,X){return j&&re(be.prototype,j),X&&re(be,X),be}}(),D=function re(be,j,X){null===be&&(be=Function.prototype);var se=Object.getOwnPropertyDescriptor(be,j);if(void 0===se){var W=Object.getPrototypeOf(be);return null===W?void 0:re(W,j,X)}if("value"in se)return se.value;var xe=se.get;return void 0===xe?void 0:xe.call(X)},S=L(d(2)),E=L(d(0)),x=L(d(4)),R=L(d(6)),M=L(d(7));function L(re){return re&&re.__esModule?re:{default:re}}function U(re,be){if(!(re instanceof be))throw new TypeError("Cannot call a class as a function")}function F(re,be){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!be||"object"!=typeof be&&"function"!=typeof be?re:be}function J(re,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function, not "+typeof be);re.prototype=Object.create(be&&be.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),be&&(Object.setPrototypeOf?Object.setPrototypeOf(re,be):re.__proto__=be)}var ue=function(re){function be(){return U(this,be),F(this,(be.__proto__||Object.getPrototypeOf(be)).apply(this,arguments))}return J(be,re),be}(R.default);ue.blotName="code",ue.tagName="CODE";var ce=function(re){function be(){return U(this,be),F(this,(be.__proto__||Object.getPrototypeOf(be)).apply(this,arguments))}return J(be,re),w(be,[{key:"delta",value:function(){var X=this,se=this.domNode.textContent;return se.endsWith("\n")&&(se=se.slice(0,-1)),se.split("\n").reduce(function(W,xe){return W.insert(xe).insert("\n",X.formats())},new S.default)}},{key:"format",value:function(X,se){if(X!==this.statics.blotName||!se){var W=this.descendant(M.default,this.length()-1),q=A(W,1)[0];q?.deleteAt(q.length()-1,1),D(be.prototype.__proto__||Object.getPrototypeOf(be.prototype),"format",this).call(this,X,se)}}},{key:"formatAt",value:function(X,se,W,xe){if(0!==se&&null!=E.default.query(W,E.default.Scope.BLOCK)&&(W!==this.statics.blotName||xe!==this.statics.formats(this.domNode))){var q=this.newlineIndex(X);if(!(q<0||q>=X+se)){var Ae=this.newlineIndex(X,!0)+1,Xe=q-Ae+1,yt=this.isolate(Ae,Xe),Je=yt.next;yt.format(W,xe),Je instanceof be&&Je.formatAt(0,X-Ae+se-Xe,W,xe)}}}},{key:"insertAt",value:function(X,se,W){if(null==W){var xe=this.descendant(M.default,X),q=A(xe,2);q[0].insertAt(q[1],se)}}},{key:"length",value:function(){var X=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?X:X+1}},{key:"newlineIndex",value:function(X){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,X).lastIndexOf("\n");var W=this.domNode.textContent.slice(X).indexOf("\n");return W>-1?X+W:-1}},{key:"optimize",value:function(X){this.domNode.textContent.endsWith("\n")||this.appendChild(E.default.create("text","\n")),D(be.prototype.__proto__||Object.getPrototypeOf(be.prototype),"optimize",this).call(this,X);var se=this.next;null!=se&&se.prev===this&&se.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===se.statics.formats(se.domNode)&&(se.optimize(X),se.moveChildren(this),se.remove())}},{key:"replace",value:function(X){D(be.prototype.__proto__||Object.getPrototypeOf(be.prototype),"replace",this).call(this,X),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(se){var W=E.default.find(se);null==W?se.parentNode.removeChild(se):W instanceof E.default.Embed?W.remove():W.unwrap()})}}],[{key:"create",value:function(X){var se=D(be.__proto__||Object.getPrototypeOf(be),"create",this).call(this,X);return se.setAttribute("spellcheck",!1),se}},{key:"formats",value:function(){return!0}}]),be}(x.default);ce.blotName="code-block",ce.tagName="PRE",ce.TAB="  ",_.Code=ue,_.default=ce},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},w=function(){return function(je,K){if(Array.isArray(je))return je;if(Symbol.iterator in Object(je))return function Je(je,K){var oe=[],ge=!0,ye=!1,Ne=void 0;try{for(var Qe,Be=je[Symbol.iterator]();!(ge=(Qe=Be.next()).done)&&(oe.push(Qe.value),!K||oe.length!==K);ge=!0);}catch(Pt){ye=!0,Ne=Pt}finally{try{!ge&&Be.return&&Be.return()}finally{if(ye)throw Ne}}return oe}(je,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Je(je,K){for(var oe=0;oe<K.length;oe++){var ge=K[oe];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(je,ge.key,ge)}}return function(je,K,oe){return K&&Je(je.prototype,K),oe&&Je(je,oe),je}}(),S=se(d(2)),E=se(d(20)),x=se(d(0)),R=se(d(13)),M=se(d(24)),L=d(4),U=se(L),J=se(d(16)),ce=se(d(21)),be=se(d(11)),X=se(d(3));function se(Je){return Je&&Je.__esModule?Je:{default:Je}}var q=/^[ -~]*$/,Ae=function(){function Je(je){(function xe(Je,je){if(!(Je instanceof je))throw new TypeError("Cannot call a class as a function")})(this,Je),this.scroll=je,this.delta=this.getDelta()}return D(Je,[{key:"applyDelta",value:function(K){var oe=this,ge=!1;this.scroll.update();var ye=this.scroll.length();return this.scroll.batchStart(),(K=function yt(Je){return Je.reduce(function(je,K){if(1===K.insert){var oe=(0,ce.default)(K.attributes);return delete oe.image,je.insert({image:K.attributes.image},oe)}if(null!=K.attributes&&(!0===K.attributes.list||!0===K.attributes.bullet)&&((K=(0,ce.default)(K)).attributes.list?K.attributes.list="ordered":(K.attributes.list="bullet",delete K.attributes.bullet)),"string"==typeof K.insert){var ge=K.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return je.insert(ge,K.attributes)}return je.push(K)},new S.default)}(K)).reduce(function(Ne,Be){var Qe=Be.retain||Be.delete||Be.insert.length||1,Pt=Be.attributes||{};if(null!=Be.insert){if("string"==typeof Be.insert){var Ce=Be.insert;Ce.endsWith("\n")&&ge&&(ge=!1,Ce=Ce.slice(0,-1)),Ne>=ye&&!Ce.endsWith("\n")&&(ge=!0),oe.scroll.insertAt(Ne,Ce);var Qt=oe.scroll.line(Ne),Vt=w(Qt,2),Tt=Vt[0],Ot=Vt[1],ft=(0,X.default)({},(0,L.bubbleFormats)(Tt));if(Tt instanceof U.default){var Oe=Tt.descendant(x.default.Leaf,Ot),Ye=w(Oe,1);ft=(0,X.default)(ft,(0,L.bubbleFormats)(Ye[0]))}Pt=E.default.attributes.diff(ft,Pt)||{}}else if("object"===A(Be.insert)){var It=Object.keys(Be.insert)[0];if(null==It)return Ne;oe.scroll.insertAt(Ne,It,Be.insert[It])}ye+=Qe}return Object.keys(Pt).forEach(function(at){oe.scroll.formatAt(Ne,Qe,at,Pt[at])}),Ne+Qe},0),K.reduce(function(Ne,Be){return"number"==typeof Be.delete?(oe.scroll.deleteAt(Ne,Be.delete),Ne):Ne+(Be.retain||Be.insert.length||1)},0),this.scroll.batchEnd(),this.update(K)}},{key:"deleteText",value:function(K,oe){return this.scroll.deleteAt(K,oe),this.update((new S.default).retain(K).delete(oe))}},{key:"formatLine",value:function(K,oe){var ge=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ye).forEach(function(Ne){if(null==ge.scroll.whitelist||ge.scroll.whitelist[Ne]){var Be=ge.scroll.lines(K,Math.max(oe,1)),Qe=oe;Be.forEach(function(Pt){var Ce=Pt.length();if(Pt instanceof R.default){var Qt=K-Pt.offset(ge.scroll),Vt=Pt.newlineIndex(Qt+Qe)-Qt+1;Pt.formatAt(Qt,Vt,Ne,ye[Ne])}else Pt.format(Ne,ye[Ne]);Qe-=Ce})}}),this.scroll.optimize(),this.update((new S.default).retain(K).retain(oe,(0,ce.default)(ye)))}},{key:"formatText",value:function(K,oe){var ge=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ye).forEach(function(Ne){ge.scroll.formatAt(K,oe,Ne,ye[Ne])}),this.update((new S.default).retain(K).retain(oe,(0,ce.default)(ye)))}},{key:"getContents",value:function(K,oe){return this.delta.slice(K,K+oe)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(K,oe){return K.concat(oe.delta())},new S.default)}},{key:"getFormat",value:function(K){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ge=[],ye=[];0===oe?this.scroll.path(K).forEach(function(Be){var Pt=w(Be,1)[0];Pt instanceof U.default?ge.push(Pt):Pt instanceof x.default.Leaf&&ye.push(Pt)}):(ge=this.scroll.lines(K,oe),ye=this.scroll.descendants(x.default.Leaf,K,oe));var Ne=[ge,ye].map(function(Be){if(0===Be.length)return{};for(var Qe=(0,L.bubbleFormats)(Be.shift());Object.keys(Qe).length>0;){var Pt=Be.shift();if(null==Pt)return Qe;Qe=Xe((0,L.bubbleFormats)(Pt),Qe)}return Qe});return X.default.apply(X.default,Ne)}},{key:"getText",value:function(K,oe){return this.getContents(K,oe).filter(function(ge){return"string"==typeof ge.insert}).map(function(ge){return ge.insert}).join("")}},{key:"insertEmbed",value:function(K,oe,ge){return this.scroll.insertAt(K,oe,ge),this.update((new S.default).retain(K).insert(function W(Je,je,K){return je in Je?Object.defineProperty(Je,je,{value:K,enumerable:!0,configurable:!0,writable:!0}):Je[je]=K,Je}({},oe,ge)))}},{key:"insertText",value:function(K,oe){var ge=this,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return oe=oe.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(K,oe),Object.keys(ye).forEach(function(Ne){ge.scroll.formatAt(K,oe.length,Ne,ye[Ne])}),this.update((new S.default).retain(K).insert(oe,(0,ce.default)(ye)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var K=this.scroll.children.head;return!(K.statics.blotName!==U.default.blotName||K.children.length>1)&&K.children.head instanceof J.default}},{key:"removeFormat",value:function(K,oe){var ge=this.getText(K,oe),ye=this.scroll.line(K+oe),Ne=w(ye,2),Be=Ne[0],Qe=Ne[1],Pt=0,Ce=new S.default;null!=Be&&(Pt=Be instanceof R.default?Be.newlineIndex(Qe)-Qe+1:Be.length()-Qe,Ce=Be.delta().slice(Qe,Qe+Pt-1).insert("\n"));var Vt=this.getContents(K,oe+Pt).diff((new S.default).insert(ge).concat(Ce)),Tt=(new S.default).retain(K).concat(Vt);return this.applyDelta(Tt)}},{key:"update",value:function(K){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ye=this.delta;if(1===oe.length&&"characterData"===oe[0].type&&oe[0].target.data.match(q)&&x.default.find(oe[0].target)){var Ne=x.default.find(oe[0].target),Be=(0,L.bubbleFormats)(Ne),Qe=Ne.offset(this.scroll),Pt=oe[0].oldValue.replace(M.default.CONTENTS,""),Ce=(new S.default).insert(Pt),Qt=(new S.default).insert(Ne.value());K=(new S.default).retain(Qe).concat(Ce.diff(Qt,ge)).reduce(function(Tt,Ot){return Ot.insert?Tt.insert(Ot.insert,Be):Tt.push(Ot)},new S.default),this.delta=ye.compose(K)}else this.delta=this.getDelta(),(!K||!(0,be.default)(ye.compose(K),this.delta))&&(K=ye.diff(this.delta,ge));return K}}]),Je}();function Xe(Je,je){return Object.keys(je).reduce(function(K,oe){return null==Je[oe]||(je[oe]===Je[oe]?K[oe]=je[oe]:Array.isArray(je[oe])?je[oe].indexOf(Je[oe])<0&&(K[oe]=je[oe].concat([Je[oe]])):K[oe]=[je[oe],Je[oe]]),K},{})}_.default=Ae},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Range=void 0;var A=function(){return function(be,j){if(Array.isArray(be))return be;if(Symbol.iterator in Object(be))return function re(be,j){var X=[],se=!0,W=!1,xe=void 0;try{for(var Ae,q=be[Symbol.iterator]();!(se=(Ae=q.next()).done)&&(X.push(Ae.value),!j||X.length!==j);se=!0);}catch(Xe){W=!0,xe=Xe}finally{try{!se&&q.return&&q.return()}finally{if(W)throw xe}}return X}(be,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function re(be,j){for(var X=0;X<j.length;X++){var se=j[X];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(be,se.key,se)}}return function(be,j,X){return j&&re(be.prototype,j),X&&re(be,X),be}}(),C=M(d(0)),I=M(d(21)),y=M(d(11)),$=M(d(8));function M(re){return re&&re.__esModule?re:{default:re}}function L(re){if(Array.isArray(re)){for(var be=0,j=Array(re.length);be<re.length;be++)j[be]=re[be];return j}return Array.from(re)}function U(re,be){if(!(re instanceof be))throw new TypeError("Cannot call a class as a function")}var F=(0,M(d(10)).default)("quill:selection"),J=function re(be){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;U(this,re),this.index=be,this.length=j},ue=function(){function re(be,j){var X=this;U(this,re),this.emitter=j,this.scroll=be,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=C.default.create("cursor",this),this.lastRange=this.savedRange=new J(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){X.mouseDown||setTimeout(X.update.bind(X,$.default.sources.USER),1)}),this.emitter.on($.default.events.EDITOR_CHANGE,function(se,W){se===$.default.events.TEXT_CHANGE&&W.length()>0&&X.update($.default.sources.SILENT)}),this.emitter.on($.default.events.SCROLL_BEFORE_UPDATE,function(){if(X.hasFocus()){var se=X.getNativeRange();null!=se&&se.start.node!==X.cursor.textNode&&X.emitter.once($.default.events.SCROLL_UPDATE,function(){try{X.setNativeRange(se.start.node,se.start.offset,se.end.node,se.end.offset)}catch{}})}}),this.emitter.on($.default.events.SCROLL_OPTIMIZE,function(se,W){if(W.range){var xe=W.range;X.setNativeRange(xe.startNode,xe.startOffset,xe.endNode,xe.endOffset)}}),this.update($.default.sources.SILENT)}return w(re,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var X=j.cursor.restore();if(!X)return;setTimeout(function(){j.setNativeRange(X.startNode,X.startOffset,X.endNode,X.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update($.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,X){if(null==this.scroll.whitelist||this.scroll.whitelist[j]){this.scroll.update();var se=this.getNativeRange();if(null!=se&&se.native.collapsed&&!C.default.query(j,C.default.Scope.BLOCK)){if(se.start.node!==this.cursor.textNode){var W=C.default.find(se.start.node,!1);if(null==W)return;if(W instanceof C.default.Leaf){var xe=W.split(se.start.offset);W.parent.insertBefore(this.cursor,xe)}else W.insertBefore(this.cursor,se.start.node);this.cursor.attach()}this.cursor.format(j,X),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,se=this.scroll.length();j=Math.min(j,se-1),X=Math.min(j+X,se-1)-j;var W=void 0,xe=this.scroll.leaf(j),q=A(xe,2),Ae=q[0],Xe=q[1];if(null==Ae)return null;var yt=Ae.position(Xe,!0),Je=A(yt,2);W=Je[0],Xe=Je[1];var je=document.createRange();if(X>0){je.setStart(W,Xe);var K=this.scroll.leaf(j+X),oe=A(K,2);if(null==(Ae=oe[0]))return null;var ge=Ae.position(Xe=oe[1],!0),ye=A(ge,2);return je.setEnd(W=ye[0],Xe=ye[1]),je.getBoundingClientRect()}var Ne="left",Be=void 0;return W instanceof Text?(Xe<W.data.length?(je.setStart(W,Xe),je.setEnd(W,Xe+1)):(je.setStart(W,Xe-1),je.setEnd(W,Xe),Ne="right"),Be=je.getBoundingClientRect()):(Be=Ae.domNode.getBoundingClientRect(),Xe>0&&(Ne="right")),{bottom:Be.top+Be.height,height:Be.height,left:Be[Ne],right:Be[Ne],top:Be.top,width:0}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(null==j||j.rangeCount<=0)return null;var X=j.getRangeAt(0);if(null==X)return null;var se=this.normalizeNative(X);return F.info("getNativeRange",se),se}},{key:"getRange",value:function(){var j=this.getNativeRange();return null==j?[null,null]:[this.normalizedToRange(j),j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var X=this,se=[[j.start.node,j.start.offset]];j.native.collapsed||se.push([j.end.node,j.end.offset]);var W=se.map(function(Ae){var Xe=A(Ae,2),yt=Xe[0],Je=Xe[1],je=C.default.find(yt,!0),K=je.offset(X.scroll);return 0===Je?K:je instanceof C.default.Container?K+je.length():K+je.index(yt,Je)}),xe=Math.min(Math.max.apply(Math,L(W)),this.scroll.length()-1),q=Math.min.apply(Math,[xe].concat(L(W)));return new J(q,xe-q)}},{key:"normalizeNative",value:function(j){if(!ce(this.root,j.startContainer)||!j.collapsed&&!ce(this.root,j.endContainer))return null;var X={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[X.start,X.end].forEach(function(se){for(var W=se.node,xe=se.offset;!(W instanceof Text)&&W.childNodes.length>0;)if(W.childNodes.length>xe)W=W.childNodes[xe],xe=0;else{if(W.childNodes.length!==xe)break;xe=(W=W.lastChild)instanceof Text?W.data.length:W.childNodes.length+1}se.node=W,se.offset=xe}),X}},{key:"rangeToNative",value:function(j){var X=this,se=j.collapsed?[j.index]:[j.index,j.index+j.length],W=[],xe=this.scroll.length();return se.forEach(function(q,Ae){q=Math.min(xe-1,q);var yt=X.scroll.leaf(q),Je=A(yt,2),K=Je[1],oe=Je[0].position(K,0!==Ae),ge=A(oe,2);W.push(ge[0],K=ge[1])}),W.length<2&&(W=W.concat(W)),W}},{key:"scrollIntoView",value:function(j){var X=this.lastRange;if(null!=X){var se=this.getBounds(X.index,X.length);if(null!=se){var W=this.scroll.length()-1,xe=this.scroll.line(Math.min(X.index,W)),Ae=A(xe,1)[0],Xe=Ae;if(X.length>0){var yt=this.scroll.line(Math.min(X.index+X.length,W));Xe=A(yt,1)[0]}if(null!=Ae&&null!=Xe){var je=j.getBoundingClientRect();se.top<je.top?j.scrollTop-=je.top-se.top:se.bottom>je.bottom&&(j.scrollTop+=se.bottom-je.bottom)}}}}},{key:"setNativeRange",value:function(j,X){var se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X,xe=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(F.info("setNativeRange",j,X,se,W),null==j||null!=this.root.parentNode&&null!=j.parentNode&&null!=se.parentNode){var q=document.getSelection();if(null!=q)if(null!=j){this.hasFocus()||this.root.focus();var Ae=(this.getNativeRange()||{}).native;if(null==Ae||xe||j!==Ae.startContainer||X!==Ae.startOffset||se!==Ae.endContainer||W!==Ae.endOffset){"BR"==j.tagName&&(X=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),"BR"==se.tagName&&(W=[].indexOf.call(se.parentNode.childNodes,se),se=se.parentNode);var Xe=document.createRange();Xe.setStart(j,X),Xe.setEnd(se,W),q.removeAllRanges(),q.addRange(Xe)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var X=arguments.length>1&&void 0!==arguments[1]&&arguments[1],se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.default.sources.API;if("string"==typeof X&&(se=X,X=!1),F.info("setRange",j),null!=j){var W=this.rangeToNative(j);this.setNativeRange.apply(this,L(W).concat([X]))}else this.setNativeRange(null);this.update(se)}},{key:"update",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.default.sources.USER,X=this.lastRange,se=this.getRange(),W=A(se,2),q=W[1];if(this.lastRange=W[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,y.default)(X,this.lastRange)){var Ae;!this.composing&&null!=q&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var yt,Xe=[$.default.events.SELECTION_CHANGE,(0,I.default)(this.lastRange),(0,I.default)(X),j];(Ae=this.emitter).emit.apply(Ae,[$.default.events.EDITOR_CHANGE].concat(Xe)),j!==$.default.sources.SILENT&&(yt=this.emitter).emit.apply(yt,Xe)}}}]),re}();function ce(re,be){return be instanceof Text&&(be=be.parentNode),re.contains(be)}_.Range=J,_.default=ue},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:$(U,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"insertInto",value:function(M,L){0===M.children.length?w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertInto",this).call(this,M,L):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(0)).default.Embed);x.blotName="break",x.tagName="BR",_.default=x},function(Re,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(44),D=d(30),C=d(1),S=function(E){function y(x){var $=E.call(this,x)||this;return $.build(),$}return A(y,E),y.prototype.appendChild=function(x){this.insertBefore(x)},y.prototype.attach=function(){E.prototype.attach.call(this),this.children.forEach(function(x){x.attach()})},y.prototype.build=function(){var x=this;this.children=new w.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function($){try{var R=I($);x.insertBefore(R,x.children.head||void 0)}catch(O){if(O instanceof C.ParchmentError)return;throw O}})},y.prototype.deleteAt=function(x,$){if(0===x&&$===this.length())return this.remove();this.children.forEachAt(x,$,function(R,O,M){R.deleteAt(O,M)})},y.prototype.descendant=function(x,$){var R=this.children.find($),O=R[0],M=R[1];return null==x.blotName&&x(O)||null!=x.blotName&&O instanceof x?[O,M]:O instanceof y?O.descendant(x,M):[null,-1]},y.prototype.descendants=function(x,$,R){void 0===$&&($=0),void 0===R&&(R=Number.MAX_VALUE);var O=[],M=R;return this.children.forEachAt($,R,function(L,U,F){(null==x.blotName&&x(L)||null!=x.blotName&&L instanceof x)&&O.push(L),L instanceof y&&(O=O.concat(L.descendants(x,U,M))),M-=F}),O},y.prototype.detach=function(){this.children.forEach(function(x){x.detach()}),E.prototype.detach.call(this)},y.prototype.formatAt=function(x,$,R,O){this.children.forEachAt(x,$,function(M,L,U){M.formatAt(L,U,R,O)})},y.prototype.insertAt=function(x,$,R){var O=this.children.find(x),M=O[0];if(M)M.insertAt(O[1],$,R);else{var U=null==R?C.create("text",$):C.create($,R);this.appendChild(U)}},y.prototype.insertBefore=function(x,$){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(R){return x instanceof R}))throw new C.ParchmentError("Cannot insert "+x.statics.blotName+" into "+this.statics.blotName);x.insertInto(this,$)},y.prototype.length=function(){return this.children.reduce(function(x,$){return x+$.length()},0)},y.prototype.moveChildren=function(x,$){this.children.forEach(function(R){x.insertBefore(R,$)})},y.prototype.optimize=function(x){if(E.prototype.optimize.call(this,x),0===this.children.length)if(null!=this.statics.defaultChild){var $=C.create(this.statics.defaultChild);this.appendChild($),$.optimize(x)}else this.remove()},y.prototype.path=function(x,$){void 0===$&&($=!1);var R=this.children.find(x,$),O=R[0],M=R[1],L=[[this,x]];return O instanceof y?L.concat(O.path(M,$)):(null!=O&&L.push([O,M]),L)},y.prototype.removeChild=function(x){this.children.remove(x)},y.prototype.replace=function(x){x instanceof y&&x.moveChildren(this),E.prototype.replace.call(this,x)},y.prototype.split=function(x,$){if(void 0===$&&($=!1),!$){if(0===x)return this;if(x===this.length())return this.next}var R=this.clone();return this.parent.insertBefore(R,this.next),this.children.forEachAt(x,this.length(),function(O,M,L){O=O.split(M,$),R.appendChild(O)}),R},y.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},y.prototype.update=function(x,$){var R=this,O=[],M=[];x.forEach(function(L){L.target===R.domNode&&"childList"===L.type&&(O.push.apply(O,L.addedNodes),M.push.apply(M,L.removedNodes))}),M.forEach(function(L){if(!(null!=L.parentNode&&"IFRAME"!==L.tagName&&document.body.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var U=C.find(L);null!=U&&(null==U.domNode.parentNode||U.domNode.parentNode===R.domNode)&&U.detach()}}),O.filter(function(L){return L.parentNode==R.domNode}).sort(function(L,U){return L===U?0:L.compareDocumentPosition(U)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(L){var U=null;null!=L.nextSibling&&(U=C.find(L.nextSibling));var F=I(L);(F.next!=U||null==F.next)&&(null!=F.parent&&F.parent.removeChild(R),R.insertBefore(F,U||void 0))})},y}(D.default);function I(E){var y=C.find(E);if(null==y)try{y=C.create(E)}catch{y=C.create(C.Scope.INLINE),[].slice.call(E.childNodes).forEach(function($){y.domNode.appendChild($)}),E.parentNode&&E.parentNode.replaceChild(y.domNode,E),y.attach()}return y}_.default=S},function(Re,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(12),D=d(31),C=d(17),S=d(1),I=function(E){function y(x){var $=E.call(this,x)||this;return $.attributes=new D.default($.domNode),$}return A(y,E),y.formats=function(x){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?x.tagName.toLowerCase():void 0)},y.prototype.format=function(x,$){var R=S.query(x);R instanceof w.default?this.attributes.attribute(R,$):$&&null!=R&&(x!==this.statics.blotName||this.formats()[x]!==$)&&this.replaceWith(x,$)},y.prototype.formats=function(){var x=this.attributes.values(),$=this.statics.formats(this.domNode);return null!=$&&(x[this.statics.blotName]=$),x},y.prototype.replaceWith=function(x,$){var R=E.prototype.replaceWith.call(this,x,$);return this.attributes.copy(R),R},y.prototype.update=function(x,$){var R=this;E.prototype.update.call(this,x,$),x.some(function(O){return O.target===R.domNode&&"attributes"===O.type})&&this.attributes.build()},y.prototype.wrap=function(x,$){var R=E.prototype.wrap.call(this,x,$);return R instanceof y&&R.statics.scope===this.statics.scope&&this.attributes.move(R),R},y}(C.default);_.default=I},function(Re,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(30),D=d(1),C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.value=function(E){return!0},I.prototype.index=function(E,y){return this.domNode===E||this.domNode.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(y,1):-1},I.prototype.position=function(E,y){var x=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return E>0&&(x+=1),[this.parent.domNode,x]},I.prototype.value=function(){var E;return(E={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,E},I.scope=D.Scope.INLINE_BLOT,I}(w.default);_.default=C},function(Re,_,d){var A=d(11),w=d(3),D={attributes:{compose:function(S,I,E){"object"!=typeof S&&(S={}),"object"!=typeof I&&(I={});var y=w(!0,{},I);for(var x in E||(y=Object.keys(y).reduce(function($,R){return null!=y[R]&&($[R]=y[R]),$},{})),S)void 0!==S[x]&&void 0===I[x]&&(y[x]=S[x]);return Object.keys(y).length>0?y:void 0},diff:function(S,I){"object"!=typeof S&&(S={}),"object"!=typeof I&&(I={});var E=Object.keys(S).concat(Object.keys(I)).reduce(function(y,x){return A(S[x],I[x])||(y[x]=void 0===I[x]?null:I[x]),y},{});return Object.keys(E).length>0?E:void 0},transform:function(S,I,E){if("object"!=typeof S)return I;if("object"==typeof I){if(!E)return I;var y=Object.keys(I).reduce(function(x,$){return void 0===S[$]&&(x[$]=I[$]),x},{});return Object.keys(y).length>0?y:void 0}}},iterator:function(S){return new C(S)},length:function(S){return"number"==typeof S.delete?S.delete:"number"==typeof S.retain?S.retain:"string"==typeof S.insert?S.insert.length:1}};function C(S){this.ops=S,this.index=0,this.offset=0}C.prototype.hasNext=function(){return this.peekLength()<1/0},C.prototype.next=function(S){S||(S=1/0);var I=this.ops[this.index];if(I){var E=this.offset,y=D.length(I);if(S>=y-E?(S=y-E,this.index+=1,this.offset=0):this.offset+=S,"number"==typeof I.delete)return{delete:S};var x={};return I.attributes&&(x.attributes=I.attributes),"number"==typeof I.retain?x.retain=S:x.insert="string"==typeof I.insert?I.insert.substr(E,S):I.insert,x}return{retain:1/0}},C.prototype.peek=function(){return this.ops[this.index]},C.prototype.peekLength=function(){return this.ops[this.index]?D.length(this.ops[this.index])-this.offset:1/0},C.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},C.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var S=this.offset,I=this.index,E=this.next(),y=this.ops.slice(this.index);return this.offset=S,this.index=I,[E].concat(y)}return[]},Re.exports=D},function(Re,_){var d=function(){"use strict";function A(R,O){return null!=O&&R instanceof O}var w,D,C;try{w=Map}catch{w=function(){}}try{D=Set}catch{D=function(){}}try{C=Promise}catch{C=function(){}}function S(R,O,M,L,U){"object"==typeof O&&(M=O.depth,L=O.prototype,U=O.includeNonEnumerable,O=O.circular);var F=[],J=[],ue=typeof Buffer<"u";return typeof O>"u"&&(O=!0),typeof M>"u"&&(M=1/0),function ce(re,be){if(null===re)return null;if(0===be)return re;var j,X;if("object"!=typeof re)return re;if(A(re,w))j=new w;else if(A(re,D))j=new D;else if(A(re,C))j=new C(function(je,K){re.then(function(oe){je(ce(oe,be-1))},function(oe){K(ce(oe,be-1))})});else if(S.__isArray(re))j=[];else if(S.__isRegExp(re))j=new RegExp(re.source,$(re)),re.lastIndex&&(j.lastIndex=re.lastIndex);else if(S.__isDate(re))j=new Date(re.getTime());else{if(ue&&Buffer.isBuffer(re))return j=Buffer.allocUnsafe?Buffer.allocUnsafe(re.length):new Buffer(re.length),re.copy(j),j;A(re,Error)?j=Object.create(re):typeof L>"u"?(X=Object.getPrototypeOf(re),j=Object.create(X)):(j=Object.create(L),X=L)}if(O){var se=F.indexOf(re);if(-1!=se)return J[se];F.push(re),J.push(j)}for(var W in A(re,w)&&re.forEach(function(je,K){var oe=ce(K,be-1),ge=ce(je,be-1);j.set(oe,ge)}),A(re,D)&&re.forEach(function(je){var K=ce(je,be-1);j.add(K)}),re){var xe;X&&(xe=Object.getOwnPropertyDescriptor(X,W)),(!xe||null!=xe.set)&&(j[W]=ce(re[W],be-1))}if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(re);for(W=0;W<q.length;W++){var Ae=q[W];(Xe=Object.getOwnPropertyDescriptor(re,Ae))&&!Xe.enumerable&&!U||(j[Ae]=ce(re[Ae],be-1),Xe.enumerable||Object.defineProperty(j,Ae,{enumerable:!1}))}}if(U){var yt=Object.getOwnPropertyNames(re);for(W=0;W<yt.length;W++){var Xe,Je=yt[W];(Xe=Object.getOwnPropertyDescriptor(re,Je))&&Xe.enumerable||(j[Je]=ce(re[Je],be-1),Object.defineProperty(j,Je,{enumerable:!1}))}}return j}(R,M)}function I(R){return Object.prototype.toString.call(R)}function $(R){var O="";return R.global&&(O+="g"),R.ignoreCase&&(O+="i"),R.multiline&&(O+="m"),O}return S.clonePrototype=function(O){if(null===O)return null;var M=function(){};return M.prototype=O,new M},S.__objToStr=I,S.__isDate=function E(R){return"object"==typeof R&&"[object Date]"===I(R)},S.__isArray=function y(R){return"object"==typeof R&&"[object Array]"===I(R)},S.__isRegExp=function x(R){return"object"==typeof R&&"[object RegExp]"===I(R)},S.__getRegExpFlags=$,S}();"object"==typeof Re&&Re.exports&&(Re.exports=d)},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(X,se){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return function j(X,se){var W=[],xe=!0,q=!1,Ae=void 0;try{for(var yt,Xe=X[Symbol.iterator]();!(xe=(yt=Xe.next()).done)&&(W.push(yt.value),!se||W.length!==se);xe=!0);}catch(Je){q=!0,Ae=Je}finally{try{!xe&&Xe.return&&Xe.return()}finally{if(q)throw Ae}}return W}(X,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function j(X,se){for(var W=0;W<se.length;W++){var xe=se[W];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(X,xe.key,xe)}}return function(X,se,W){return se&&j(X.prototype,se),W&&j(X,W),X}}(),D=function j(X,se,W){null===X&&(X=Function.prototype);var xe=Object.getOwnPropertyDescriptor(X,se);if(void 0===xe){var q=Object.getPrototypeOf(X);return null===q?void 0:j(q,se,W)}if("value"in xe)return xe.value;var Ae=xe.get;return void 0===Ae?void 0:Ae.call(W)},S=F(d(0)),E=F(d(8)),y=d(4),x=F(y),R=F(d(16)),M=F(d(13)),U=F(d(25));function F(j){return j&&j.__esModule?j:{default:j}}function re(j){return j instanceof x.default||j instanceof y.BlockEmbed}var be=function(j){function X(se,W){!function J(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")}(this,X);var xe=function ue(j,X){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?j:X}(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,se));return xe.emitter=W.emitter,Array.isArray(W.whitelist)&&(xe.whitelist=W.whitelist.reduce(function(q,Ae){return q[Ae]=!0,q},{})),xe.domNode.addEventListener("DOMNodeInserted",function(){}),xe.optimize(),xe.enable(),xe}return function ce(j,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function, not "+typeof X);j.prototype=Object.create(X&&X.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(j,X):j.__proto__=X)}(X,j),w(X,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(W,xe){var q=this.line(W),Ae=A(q,2),Xe=Ae[0],yt=Ae[1],Je=this.line(W+xe),K=A(Je,1)[0];if(D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"deleteAt",this).call(this,W,xe),null!=K&&Xe!==K&&yt>0){if(Xe instanceof y.BlockEmbed||K instanceof y.BlockEmbed)return void this.optimize();if(Xe instanceof M.default){var oe=Xe.newlineIndex(Xe.length(),!0);if(oe>-1&&(Xe=Xe.split(oe+1))===K)return void this.optimize()}else if(K instanceof M.default){var ge=K.newlineIndex(0);ge>-1&&K.split(ge+1)}Xe.moveChildren(K,K.children.head instanceof R.default?null:K.children.head),Xe.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(W,xe,q,Ae){null!=this.whitelist&&!this.whitelist[q]||(D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"formatAt",this).call(this,W,xe,q,Ae),this.optimize())}},{key:"insertAt",value:function(W,xe,q){if(null==q||null==this.whitelist||this.whitelist[xe]){if(W>=this.length())if(null==q||null==S.default.query(xe,S.default.Scope.BLOCK)){var Ae=S.default.create(this.statics.defaultChild);this.appendChild(Ae),null==q&&xe.endsWith("\n")&&(xe=xe.slice(0,-1)),Ae.insertAt(0,xe,q)}else{var Xe=S.default.create(xe,q);this.appendChild(Xe)}else D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertAt",this).call(this,W,xe,q);this.optimize()}}},{key:"insertBefore",value:function(W,xe){if(W.statics.scope===S.default.Scope.INLINE_BLOT){var q=S.default.create(this.statics.defaultChild);q.appendChild(W),W=q}D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertBefore",this).call(this,W,xe)}},{key:"leaf",value:function(W){return this.path(W).pop()||[null,-1]}},{key:"line",value:function(W){return W===this.length()?this.line(W-1):this.descendant(re,W)}},{key:"lines",value:function(){return function Ae(Xe,yt,Je){var je=[],K=Je;return Xe.children.forEachAt(yt,Je,function(oe,ge,ye){re(oe)?je.push(oe):oe instanceof S.default.Container&&(je=je.concat(Ae(oe,ge,K))),K-=ye}),je}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"optimize",this).call(this,W,xe),W.length>0&&this.emitter.emit(E.default.events.SCROLL_OPTIMIZE,W,xe))}},{key:"path",value:function(W){return D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"path",this).call(this,W).slice(1)}},{key:"update",value:function(W){if(!0!==this.batch){var xe=E.default.sources.USER;"string"==typeof W&&(xe=W),Array.isArray(W)||(W=this.observer.takeRecords()),W.length>0&&this.emitter.emit(E.default.events.SCROLL_BEFORE_UPDATE,xe,W),D(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"update",this).call(this,W.concat([])),W.length>0&&this.emitter.emit(E.default.events.SCROLL_UPDATE,xe,W)}}}]),X}(S.default.Scroll);be.blotName="scroll",be.className="ql-editor",be.tagName="DIV",be.defaultChild="block",be.allowedChildren=[x.default,y.BlockEmbed,U.default],_.default=be},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SHORTKEY=_.default=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Be){return typeof Be}:function(Be){return Be&&"function"==typeof Symbol&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be},w=function(){return function(Qe,Pt){if(Array.isArray(Qe))return Qe;if(Symbol.iterator in Object(Qe))return function Be(Qe,Pt){var Ce=[],Qt=!0,Vt=!1,Tt=void 0;try{for(var ft,Ot=Qe[Symbol.iterator]();!(Qt=(ft=Ot.next()).done)&&(Ce.push(ft.value),!Pt||Ce.length!==Pt);Qt=!0);}catch(Oe){Vt=!0,Tt=Oe}finally{try{!Qt&&Ot.return&&Ot.return()}finally{if(Vt)throw Tt}}return Ce}(Qe,Pt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function Be(Qe,Pt){for(var Ce=0;Ce<Pt.length;Ce++){var Qt=Pt[Ce];Qt.enumerable=Qt.enumerable||!1,Qt.configurable=!0,"value"in Qt&&(Qt.writable=!0),Object.defineProperty(Qe,Qt.key,Qt)}}return function(Qe,Pt,Ce){return Pt&&Be(Qe.prototype,Pt),Ce&&Be(Qe,Ce),Qe}}(),S=j(d(21)),E=j(d(11)),x=j(d(3)),R=j(d(2)),M=j(d(20)),U=j(d(0)),J=j(d(5)),ce=j(d(10)),be=j(d(9));function j(Be){return Be&&Be.__esModule?Be:{default:Be}}function X(Be,Qe,Pt){return Qe in Be?Object.defineProperty(Be,Qe,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):Be[Qe]=Pt,Be}var q=(0,ce.default)("quill:keyboard"),Ae=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Xe=function(Be){function Qe(Pt,Ce){!function se(Be,Qe){if(!(Be instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,Qe);var Qt=function W(Be,Qe){if(!Be)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Qe||"object"!=typeof Qe&&"function"!=typeof Qe?Be:Qe}(this,(Qe.__proto__||Object.getPrototypeOf(Qe)).call(this,Pt,Ce));return Qt.bindings={},Object.keys(Qt.options.bindings).forEach(function(Vt){"list autofill"===Vt&&null!=Pt.scroll.whitelist&&!Pt.scroll.whitelist.list||Qt.options.bindings[Vt]&&Qt.addBinding(Qt.options.bindings[Vt])}),Qt.addBinding({key:Qe.keys.ENTER,shiftKey:null},oe),Qt.addBinding({key:Qe.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0},Je),Qt.addBinding({key:Qe.keys.DELETE},{collapsed:!0},je)):(Qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Je),Qt.addBinding({key:Qe.keys.DELETE},{collapsed:!0,suffix:/^.?$/},je)),Qt.addBinding({key:Qe.keys.BACKSPACE},{collapsed:!1},K),Qt.addBinding({key:Qe.keys.DELETE},{collapsed:!1},K),Qt.addBinding({key:Qe.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Je),Qt.listen(),Qt}return function xe(Be,Qe){if("function"!=typeof Qe&&null!==Qe)throw new TypeError("Super expression must either be null or a function, not "+typeof Qe);Be.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:Be,enumerable:!1,writable:!0,configurable:!0}}),Qe&&(Object.setPrototypeOf?Object.setPrototypeOf(Be,Qe):Be.__proto__=Qe)}(Qe,Be),D(Qe,null,[{key:"match",value:function(Ce,Qt){return Qt=Ne(Qt),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Vt){return!!Qt[Vt]!==Ce[Vt]&&null!==Qt[Vt]})&&Qt.key===(Ce.which||Ce.keyCode)}}]),D(Qe,[{key:"addBinding",value:function(Ce){var Qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Vt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Tt=Ne(Ce);if(null==Tt||null==Tt.key)return q.warn("Attempted to add invalid keyboard binding",Tt);"function"==typeof Qt&&(Qt={handler:Qt}),"function"==typeof Vt&&(Vt={handler:Vt}),Tt=(0,x.default)(Tt,Qt,Vt),this.bindings[Tt.key]=this.bindings[Tt.key]||[],this.bindings[Tt.key].push(Tt)}},{key:"listen",value:function(){var Ce=this;this.quill.root.addEventListener("keydown",function(Qt){if(!Qt.defaultPrevented){var Tt=(Ce.bindings[Qt.which||Qt.keyCode]||[]).filter(function(Gt){return Qe.match(Qt,Gt)});if(0!==Tt.length){var Ot=Ce.quill.getSelection();if(null!=Ot&&Ce.quill.hasFocus()){var ft=Ce.quill.getLine(Ot.index),Oe=w(ft,2),Ye=Oe[0],vt=Oe[1],It=Ce.quill.getLeaf(Ot.index),at=w(It,2),ot=at[0],Nt=at[1],Ut=0===Ot.length?[ot,Nt]:Ce.quill.getLeaf(Ot.index+Ot.length),wt=w(Ut,2),ut=wt[0],dt=wt[1],Z=ot instanceof U.default.Text?ot.value().slice(0,Nt):"",Pe=ut instanceof U.default.Text?ut.value().slice(dt):"",pe={collapsed:0===Ot.length,empty:0===Ot.length&&Ye.length()<=1,format:Ce.quill.getFormat(Ot),offset:vt,prefix:Z,suffix:Pe};Tt.some(function(Gt){if(null!=Gt.collapsed&&Gt.collapsed!==pe.collapsed||null!=Gt.empty&&Gt.empty!==pe.empty||null!=Gt.offset&&Gt.offset!==pe.offset)return!1;if(Array.isArray(Gt.format)){if(Gt.format.every(function(rn){return null==pe.format[rn]}))return!1}else if("object"===A(Gt.format)&&!Object.keys(Gt.format).every(function(rn){return!0===Gt.format[rn]?null!=pe.format[rn]:!1===Gt.format[rn]?null==pe.format[rn]:(0,E.default)(Gt.format[rn],pe.format[rn])}))return!1;return!(null!=Gt.prefix&&!Gt.prefix.test(pe.prefix)||null!=Gt.suffix&&!Gt.suffix.test(pe.suffix))&&!0!==Gt.handler.call(Ce,Ot,pe)})&&Qt.preventDefault()}}}})}}]),Qe}(be.default);function yt(Be,Qe){var Pt;return X(Pt={key:Be,shiftKey:Qe,altKey:null},Be===Xe.keys.LEFT?"prefix":"suffix",/^$/),X(Pt,"handler",function(Vt){var Tt=Vt.index;Be===Xe.keys.RIGHT&&(Tt+=Vt.length+1);var Ot=this.quill.getLeaf(Tt);return!(w(Ot,1)[0]instanceof U.default.Embed&&(Be===Xe.keys.LEFT?Qe?this.quill.setSelection(Vt.index-1,Vt.length+1,J.default.sources.USER):this.quill.setSelection(Vt.index-1,J.default.sources.USER):Qe?this.quill.setSelection(Vt.index,Vt.length+1,J.default.sources.USER):this.quill.setSelection(Vt.index+Vt.length+1,J.default.sources.USER),1))}),Pt}function Je(Be,Qe){if(!(0===Be.index||this.quill.getLength()<=1)){var Pt=this.quill.getLine(Be.index),Qt=w(Pt,1)[0],Vt={};if(0===Qe.offset){var Tt=this.quill.getLine(Be.index-1),ft=w(Tt,1)[0];if(null!=ft&&ft.length()>1){var Oe=Qt.formats(),Ye=this.quill.getFormat(Be.index-1,1);Vt=M.default.attributes.diff(Oe,Ye)||{}}}var vt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Qe.prefix)?2:1;this.quill.deleteText(Be.index-vt,vt,J.default.sources.USER),Object.keys(Vt).length>0&&this.quill.formatLine(Be.index-vt,vt,Vt,J.default.sources.USER),this.quill.focus()}}function je(Be,Qe){var Pt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Qe.suffix)?2:1;if(!(Be.index>=this.quill.getLength()-Pt)){var Ce={},Qt=0,Vt=this.quill.getLine(Be.index),Ot=w(Vt,1)[0];if(Qe.offset>=Ot.length()-1){var ft=this.quill.getLine(Be.index+1),Ye=w(ft,1)[0];if(Ye){var vt=Ot.formats(),It=this.quill.getFormat(Be.index,1);Ce=M.default.attributes.diff(vt,It)||{},Qt=Ye.length()}}this.quill.deleteText(Be.index,Pt,J.default.sources.USER),Object.keys(Ce).length>0&&this.quill.formatLine(Be.index+Qt-1,Pt,Ce,J.default.sources.USER)}}function K(Be){var Qe=this.quill.getLines(Be),Pt={};if(Qe.length>1){var Ce=Qe[0].formats(),Qt=Qe[Qe.length-1].formats();Pt=M.default.attributes.diff(Qt,Ce)||{}}this.quill.deleteText(Be,J.default.sources.USER),Object.keys(Pt).length>0&&this.quill.formatLine(Be.index,1,Pt,J.default.sources.USER),this.quill.setSelection(Be.index,J.default.sources.SILENT),this.quill.focus()}function oe(Be,Qe){var Pt=this;Be.length>0&&this.quill.scroll.deleteAt(Be.index,Be.length);var Ce=Object.keys(Qe.format).reduce(function(Qt,Vt){return U.default.query(Vt,U.default.Scope.BLOCK)&&!Array.isArray(Qe.format[Vt])&&(Qt[Vt]=Qe.format[Vt]),Qt},{});this.quill.insertText(Be.index,"\n",Ce,J.default.sources.USER),this.quill.setSelection(Be.index+1,J.default.sources.SILENT),this.quill.focus(),Object.keys(Qe.format).forEach(function(Qt){null==Ce[Qt]&&(Array.isArray(Qe.format[Qt])||"link"!==Qt&&Pt.quill.format(Qt,Qe.format[Qt],J.default.sources.USER))})}function ge(Be){return{key:Xe.keys.TAB,shiftKey:!Be,format:{"code-block":!0},handler:function(Pt){var Ce=U.default.query("code-block"),Qt=Pt.index,Vt=Pt.length,Tt=this.quill.scroll.descendant(Ce,Qt),Ot=w(Tt,2),ft=Ot[0],Oe=Ot[1];if(null!=ft){var Ye=this.quill.getIndex(ft),vt=ft.newlineIndex(Oe,!0)+1,It=ft.newlineIndex(Ye+Oe+Vt),at=ft.domNode.textContent.slice(vt,It).split("\n");Oe=0,at.forEach(function(ot,Nt){Be?(ft.insertAt(vt+Oe,Ce.TAB),Oe+=Ce.TAB.length,0===Nt?Qt+=Ce.TAB.length:Vt+=Ce.TAB.length):ot.startsWith(Ce.TAB)&&(ft.deleteAt(vt+Oe,Ce.TAB.length),Oe-=Ce.TAB.length,0===Nt?Qt-=Ce.TAB.length:Vt-=Ce.TAB.length),Oe+=ot.length+1}),this.quill.update(J.default.sources.USER),this.quill.setSelection(Qt,Vt,J.default.sources.SILENT)}}}}function ye(Be){return{key:Be[0].toUpperCase(),shortKey:!0,handler:function(Pt,Ce){this.quill.format(Be,!Ce.format[Be],J.default.sources.USER)}}}function Ne(Be){if("string"==typeof Be||"number"==typeof Be)return Ne({key:Be});if("object"===(typeof Be>"u"?"undefined":A(Be))&&(Be=(0,S.default)(Be,!1)),"string"==typeof Be.key)if(null!=Xe.keys[Be.key.toUpperCase()])Be.key=Xe.keys[Be.key.toUpperCase()];else{if(1!==Be.key.length)return null;Be.key=Be.key.toUpperCase().charCodeAt(0)}return Be.shortKey&&(Be[Ae]=Be.shortKey,delete Be.shortKey),Be}Xe.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Xe.DEFAULTS={bindings:{bold:ye("bold"),italic:ye("italic"),underline:ye("underline"),indent:{key:Xe.keys.TAB,format:["blockquote","indent","list"],handler:function(Qe,Pt){if(Pt.collapsed&&0!==Pt.offset)return!0;this.quill.format("indent","+1",J.default.sources.USER)}},outdent:{key:Xe.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Qe,Pt){if(Pt.collapsed&&0!==Pt.offset)return!0;this.quill.format("indent","-1",J.default.sources.USER)}},"outdent backspace":{key:Xe.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Qe,Pt){null!=Pt.format.indent?this.quill.format("indent","-1",J.default.sources.USER):null!=Pt.format.list&&this.quill.format("list",!1,J.default.sources.USER)}},"indent code-block":ge(!0),"outdent code-block":ge(!1),"remove tab":{key:Xe.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Qe){this.quill.deleteText(Qe.index-1,1,J.default.sources.USER)}},tab:{key:Xe.keys.TAB,handler:function(Qe){this.quill.history.cutoff();var Pt=(new R.default).retain(Qe.index).delete(Qe.length).insert("\t");this.quill.updateContents(Pt,J.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT)}},"list empty enter":{key:Xe.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Qe,Pt){this.quill.format("list",!1,J.default.sources.USER),Pt.format.indent&&this.quill.format("indent",!1,J.default.sources.USER)}},"checklist enter":{key:Xe.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Qe){var Pt=this.quill.getLine(Qe.index),Ce=w(Pt,2),Qt=Ce[0],Vt=Ce[1],Tt=(0,x.default)({},Qt.formats(),{list:"checked"}),Ot=(new R.default).retain(Qe.index).insert("\n",Tt).retain(Qt.length()-Vt-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ot,J.default.sources.USER),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Xe.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Qe,Pt){var Ce=this.quill.getLine(Qe.index),Qt=w(Ce,2),Vt=Qt[0],Tt=Qt[1],Ot=(new R.default).retain(Qe.index).insert("\n",Pt.format).retain(Vt.length()-Tt-1).retain(1,{header:null});this.quill.updateContents(Ot,J.default.sources.USER),this.quill.setSelection(Qe.index+1,J.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Qe,Pt){var Ce=Pt.prefix.length,Qt=this.quill.getLine(Qe.index),Vt=w(Qt,2),Tt=Vt[0],Ot=Vt[1];if(Ot>Ce)return!0;var ft=void 0;switch(Pt.prefix.trim()){case"[]":case"[ ]":ft="unchecked";break;case"[x]":ft="checked";break;case"-":case"*":ft="bullet";break;default:ft="ordered"}this.quill.insertText(Qe.index," ",J.default.sources.USER),this.quill.history.cutoff();var Oe=(new R.default).retain(Qe.index-Ot).delete(Ce+1).retain(Tt.length()-2-Ot).retain(1,{list:ft});this.quill.updateContents(Oe,J.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Qe.index-Ce,J.default.sources.SILENT)}},"code exit":{key:Xe.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Qe){var Pt=this.quill.getLine(Qe.index),Ce=w(Pt,2),Qt=Ce[0],Vt=Ce[1],Tt=(new R.default).retain(Qe.index+Qt.length()-Vt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Tt,J.default.sources.USER)}},"embed left":yt(Xe.keys.LEFT,!1),"embed left shift":yt(Xe.keys.LEFT,!0),"embed right":yt(Xe.keys.RIGHT,!1),"embed right shift":yt(Xe.keys.RIGHT,!0)}},_.default=Xe,_.SHORTKEY=Ae},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(L,U){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function M(L,U){var F=[],J=!0,ue=!1,ce=void 0;try{for(var be,re=L[Symbol.iterator]();!(J=(be=re.next()).done)&&(F.push(be.value),!U||F.length!==U);J=!0);}catch(j){ue=!0,ce=j}finally{try{!J&&re.return&&re.return()}finally{if(ue)throw ce}}return F}(L,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function M(L,U,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,U);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,U,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},D=function(){function M(L,U){for(var F=0;F<U.length;F++){var J=U[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,U,F){return U&&M(L.prototype,U),F&&M(L,F),L}}(),S=y(d(0)),E=y(d(7));function y(M){return M&&M.__esModule?M:{default:M}}var O=function(M){function L(U,F){!function x(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L);var J=function $(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U));return J.selection=F,J.textNode=document.createTextNode(L.CONTENTS),J.domNode.appendChild(J.textNode),J._length=0,J}return function R(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),D(L,null,[{key:"value",value:function(){}}]),D(L,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(F,J){if(0!==this._length)return w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,F,J);for(var ue=this,ce=0;null!=ue&&ue.statics.scope!==S.default.Scope.BLOCK_BLOT;)ce+=ue.offset(ue.parent),ue=ue.parent;null!=ue&&(this._length=L.CONTENTS.length,ue.optimize(),ue.formatAt(ce,L.CONTENTS.length,F,J),this._length=0)}},{key:"index",value:function(F,J){return F===this.textNode?0:w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"index",this).call(this,F,J)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var F=this.textNode,J=this.selection.getNativeRange(),ue=void 0,ce=void 0,re=void 0;if(null!=J&&J.start.node===F&&J.end.node===F){var be=[F,J.start.offset,J.end.offset];ue=be[0],ce=be[1],re=be[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==L.CONTENTS){var j=this.textNode.data.split(L.CONTENTS).join("");this.next instanceof E.default?(ue=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=L.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(S.default.create(this.textNode),this),this.textNode=document.createTextNode(L.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=ce){var X=[ce,re].map(function(W){return Math.max(0,Math.min(ue.data.length,W-1))}),se=A(X,2);return{startNode:ue,startOffset:ce=se[0],endNode:ue,endOffset:re=se[1]}}}}},{key:"update",value:function(F,J){var ue=this;if(F.some(function(re){return"characterData"===re.type&&re.target===ue.textNode})){var ce=this.restore();ce&&(J.range=ce)}}},{key:"value",value:function(){return""}}]),L}(S.default.Embed);O.blotName="cursor",O.className="ql-cursor",O.tagName="span",O.CONTENTS="\ufeff",_.default=O},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=S(d(0)),D=d(4),C=S(D);function S($){return $&&$.__esModule?$:{default:$}}var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),R}(w.default.Container);x.allowedChildren=[C.default,D.BlockEmbed,x],_.default=x},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ColorStyle=_.ColorClass=_.ColorAttributor=void 0;var A=function(){function O(M,L){for(var U=0;U<L.length;U++){var F=L[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,U){return L&&O(M.prototype,L),U&&O(M,U),M}}(),w=function O(M,L,U){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,U)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(U)},C=function S(O){return O&&O.__esModule?O:{default:O}}(d(0));var x=function(O){function M(){return function I(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function E(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function y(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"value",value:function(U){var F=w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"value",this).call(this,U);return F.startsWith("rgb(")?"#"+(F=F.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(J){return("00"+parseInt(J).toString(16)).slice(-2)}).join(""):F}}]),M}(C.default.Attributor.Style),$=new C.default.Attributor.Class("color","ql-color",{scope:C.default.Scope.INLINE}),R=new x("color","color",{scope:C.default.Scope.INLINE});_.ColorAttributor=x,_.ColorClass=$,_.ColorStyle=R},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sanitize=_.default=void 0;var A=function(){function R(O,M){for(var L=0;L<M.length;L++){var U=M[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,M,L){return M&&R(O.prototype,M),L&&R(O,L),O}}(),w=function R(O,M,L){null===O&&(O=Function.prototype);var U=Object.getOwnPropertyDescriptor(O,M);if(void 0===U){var F=Object.getPrototypeOf(O);return null===F?void 0:R(F,M,L)}if("value"in U)return U.value;var J=U.get;return void 0===J?void 0:J.call(L)};var x=function(R){function O(){return function I(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function E(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?R:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}(O,R),A(O,[{key:"format",value:function(L,U){if(L!==this.statics.blotName||!U)return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,L,U);U=this.constructor.sanitize(U),this.domNode.setAttribute("href",U)}}],[{key:"create",value:function(L){var U=w(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,L);return L=this.sanitize(L),U.setAttribute("href",L),U.setAttribute("rel","noopener noreferrer"),U.setAttribute("target","_blank"),U}},{key:"formats",value:function(L){return L.getAttribute("href")}},{key:"sanitize",value:function(L){return $(L,this.PROTOCOL_WHITELIST)?L:this.SANITIZED_URL}}]),O}(function S(R){return R&&R.__esModule?R:{default:R}}(d(6)).default);function $(R,O){var M=document.createElement("a");M.href=R;var L=M.href.slice(0,M.href.indexOf(":"));return O.indexOf(L)>-1}x.blotName="link",x.tagName="A",x.SANITIZED_URL="about:blank",x.PROTOCOL_WHITELIST=["http","https","mailto","tel"],_.default=x,_.sanitize=$},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},w=function(){function O(M,L){for(var U=0;U<L.length;U++){var F=L[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,U){return L&&O(M.prototype,L),U&&O(M,U),M}}(),C=E(d(23)),I=E(d(107));function E(O){return O&&O.__esModule?O:{default:O}}var x=0;function $(O,M){O.setAttribute(M,"true"!==O.getAttribute(M))}var R=function(){function O(M){var L=this;(function y(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,O),this.select=M,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){L.togglePicker()}),this.label.addEventListener("keydown",function(U){switch(U.keyCode){case C.default.keys.ENTER:L.togglePicker();break;case C.default.keys.ESCAPE:L.escape(),U.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(O,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),$(this.label,"aria-expanded"),$(this.options,"aria-hidden")}},{key:"buildItem",value:function(L){var U=this,F=document.createElement("span");return F.tabIndex="0",F.setAttribute("role","button"),F.classList.add("ql-picker-item"),L.hasAttribute("value")&&F.setAttribute("data-value",L.getAttribute("value")),L.textContent&&F.setAttribute("data-label",L.textContent),F.addEventListener("click",function(){U.selectItem(F,!0)}),F.addEventListener("keydown",function(J){switch(J.keyCode){case C.default.keys.ENTER:U.selectItem(F,!0),J.preventDefault();break;case C.default.keys.ESCAPE:U.escape(),J.preventDefault()}}),F}},{key:"buildLabel",value:function(){var L=document.createElement("span");return L.classList.add("ql-picker-label"),L.innerHTML=I.default,L.tabIndex="0",L.setAttribute("role","button"),L.setAttribute("aria-expanded","false"),this.container.appendChild(L),L}},{key:"buildOptions",value:function(){var L=this,U=document.createElement("span");U.classList.add("ql-picker-options"),U.setAttribute("aria-hidden","true"),U.tabIndex="-1",U.id="ql-picker-options-"+x,x+=1,this.label.setAttribute("aria-controls",U.id),this.options=U,[].slice.call(this.select.options).forEach(function(F){var J=L.buildItem(F);U.appendChild(J),!0===F.selected&&L.selectItem(J)}),this.container.appendChild(U)}},{key:"buildPicker",value:function(){var L=this;[].slice.call(this.select.attributes).forEach(function(U){L.container.setAttribute(U.name,U.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var L=this;this.close(),setTimeout(function(){return L.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(L){var U=arguments.length>1&&void 0!==arguments[1]&&arguments[1],F=this.container.querySelector(".ql-selected");if(L!==F&&(F?.classList.remove("ql-selected"),null!=L&&(L.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(L.parentNode.children,L),L.hasAttribute("data-value")?this.label.setAttribute("data-value",L.getAttribute("data-value")):this.label.removeAttribute("data-value"),L.hasAttribute("data-label")?this.label.setAttribute("data-label",L.getAttribute("data-label")):this.label.removeAttribute("data-label"),U))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":A(Event))){var J=document.createEvent("Event");J.initEvent("change",!0,!0),this.select.dispatchEvent(J)}this.close()}}},{key:"update",value:function(){var L=void 0;if(this.select.selectedIndex>-1){var U=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];L=this.select.options[this.select.selectedIndex],this.selectItem(U)}else this.selectItem(null);var F=null!=L&&L!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",F)}}]),O}();_.default=R},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=q(d(0)),C=q(d(5)),S=d(4),I=q(S),y=q(d(16)),$=q(d(25)),O=q(d(24)),L=q(d(35)),F=q(d(6)),ue=q(d(22)),re=q(d(7)),j=q(d(55)),se=q(d(42)),xe=q(d(23));function q(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}C.default.register({"blots/block":I.default,"blots/block/embed":S.BlockEmbed,"blots/break":y.default,"blots/container":$.default,"blots/cursor":O.default,"blots/embed":L.default,"blots/inline":F.default,"blots/scroll":ue.default,"blots/text":re.default,"modules/clipboard":j.default,"modules/history":se.default,"modules/keyboard":xe.default}),w.default.register(I.default,y.default,O.default,F.default,ue.default,re.default),_.default=C.default},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(1),w=function(){function D(C){this.domNode=C,this.domNode[A.DATA_KEY]={blot:this}}return Object.defineProperty(D.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),D.create=function(C){if(null==this.tagName)throw new A.ParchmentError("Blot definition missing tagName");var S;return Array.isArray(this.tagName)?("string"==typeof C&&(C=C.toUpperCase(),parseInt(C).toString()===C&&(C=parseInt(C))),S="number"==typeof C?document.createElement(this.tagName[C-1]):this.tagName.indexOf(C)>-1?document.createElement(C):document.createElement(this.tagName[0])):S=document.createElement(this.tagName),this.className&&S.classList.add(this.className),S},D.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},D.prototype.clone=function(){var C=this.domNode.cloneNode(!1);return A.create(C)},D.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[A.DATA_KEY]},D.prototype.deleteAt=function(C,S){this.isolate(C,S).remove()},D.prototype.formatAt=function(C,S,I,E){var y=this.isolate(C,S);if(null!=A.query(I,A.Scope.BLOT)&&E)y.wrap(I,E);else if(null!=A.query(I,A.Scope.ATTRIBUTE)){var x=A.create(this.statics.scope);y.wrap(x),x.format(I,E)}},D.prototype.insertAt=function(C,S,I){var E=null==I?A.create("text",S):A.create(S,I),y=this.split(C);this.parent.insertBefore(E,y)},D.prototype.insertInto=function(C,S){void 0===S&&(S=null),null!=this.parent&&this.parent.children.remove(this);var I=null;C.children.insertBefore(this,S),null!=S&&(I=S.domNode),(this.domNode.parentNode!=C.domNode||this.domNode.nextSibling!=I)&&C.domNode.insertBefore(this.domNode,I),this.parent=C,this.attach()},D.prototype.isolate=function(C,S){var I=this.split(C);return I.split(S),I},D.prototype.length=function(){return 1},D.prototype.offset=function(C){return void 0===C&&(C=this.parent),null==this.parent||this==C?0:this.parent.children.offset(this)+this.parent.offset(C)},D.prototype.optimize=function(C){null!=this.domNode[A.DATA_KEY]&&delete this.domNode[A.DATA_KEY].mutations},D.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},D.prototype.replace=function(C){null!=C.parent&&(C.parent.insertBefore(this,C.next),C.remove())},D.prototype.replaceWith=function(C,S){var I="string"==typeof C?A.create(C,S):C;return I.replace(this),I},D.prototype.split=function(C,S){return 0===C?this:this.next},D.prototype.update=function(C,S){},D.prototype.wrap=function(C,S){var I="string"==typeof C?A.create(C,S):C;return null!=this.parent&&this.parent.insertBefore(I,this.next),I.appendChild(this),I},D.blotName="abstract",D}();_.default=w},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=d(12),w=d(32),D=d(33),C=d(1),S=function(){function I(E){this.attributes={},this.domNode=E,this.build()}return I.prototype.attribute=function(E,y){y?E.add(this.domNode,y)&&(null!=E.value(this.domNode)?this.attributes[E.attrName]=E:delete this.attributes[E.attrName]):(E.remove(this.domNode),delete this.attributes[E.attrName])},I.prototype.build=function(){var E=this;this.attributes={};var y=A.default.keys(this.domNode),x=w.default.keys(this.domNode),$=D.default.keys(this.domNode);y.concat(x).concat($).forEach(function(R){var O=C.query(R,C.Scope.ATTRIBUTE);O instanceof A.default&&(E.attributes[O.attrName]=O)})},I.prototype.copy=function(E){var y=this;Object.keys(this.attributes).forEach(function(x){var $=y.attributes[x].value(y.domNode);E.format(x,$)})},I.prototype.move=function(E){var y=this;this.copy(E),Object.keys(this.attributes).forEach(function(x){y.attributes[x].remove(y.domNode)}),this.attributes={}},I.prototype.values=function(){var E=this;return Object.keys(this.attributes).reduce(function(y,x){return y[x]=E.attributes[x].value(E.domNode),y},{})},I}();_.default=S},function(Re,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});function D(S,I){return(S.getAttribute("class")||"").split(/\s+/).filter(function(y){return 0===y.indexOf(I+"-")})}Object.defineProperty(_,"__esModule",{value:!0});var C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.keys=function(E){return(E.getAttribute("class")||"").split(/\s+/).map(function(y){return y.split("-").slice(0,-1).join("-")})},I.prototype.add=function(E,y){return!!this.canAdd(E,y)&&(this.remove(E),E.classList.add(this.keyName+"-"+y),!0)},I.prototype.remove=function(E){D(E,this.keyName).forEach(function(x){E.classList.remove(x)}),0===E.classList.length&&E.removeAttribute("class")},I.prototype.value=function(E){var x=(D(E,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(E,x)?x:""},I}(d(12).default);_.default=C},function(Re,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});function D(S){var I=S.split("-"),E=I.slice(1).map(function(y){return y[0].toUpperCase()+y.slice(1)}).join("");return I[0]+E}Object.defineProperty(_,"__esModule",{value:!0});var C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.keys=function(E){return(E.getAttribute("style")||"").split(";").map(function(y){return y.split(":")[0].trim()})},I.prototype.add=function(E,y){return!!this.canAdd(E,y)&&(E.style[D(this.keyName)]=y,!0)},I.prototype.remove=function(E){E.style[D(this.keyName)]="",E.getAttribute("style")||E.removeAttribute("style")},I.prototype.value=function(E){var y=E.style[D(this.keyName)];return this.canAdd(E,y)?y:""},I}(d(12).default);_.default=C},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function C(S,I){for(var E=0;E<I.length;E++){var y=I[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}return function(S,I,E){return I&&C(S.prototype,I),E&&C(S,E),S}}();var D=function(){function C(S,I){(function w(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.quill=S,this.options=I,this.modules={}}return A(C,[{key:"init",value:function(){var I=this;Object.keys(this.options.modules).forEach(function(E){null==I.modules[E]&&I.addModule(E)})}},{key:"addModule",value:function(I){var E=this.quill.constructor.import("modules/"+I);return this.modules[I]=new E(this.quill,this.options.modules[I]||{}),this.modules[I]}}]),C}();D.DEFAULTS={modules:{}},D.themes={default:D},_.default=D},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function M(L,U){for(var F=0;F<U.length;F++){var J=U[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,U,F){return U&&M(L.prototype,U),F&&M(L,F),L}}(),w=function M(L,U,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,U);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,U,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},C=E(d(0)),I=E(d(7));function E(M){return M&&M.__esModule?M:{default:M}}var R="\ufeff",O=function(M){function L(U){!function y(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L);var F=function x(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U));return F.contentNode=document.createElement("span"),F.contentNode.setAttribute("contenteditable",!1),[].slice.call(F.domNode.childNodes).forEach(function(J){F.contentNode.appendChild(J)}),F.leftGuard=document.createTextNode(R),F.rightGuard=document.createTextNode(R),F.domNode.appendChild(F.leftGuard),F.domNode.appendChild(F.contentNode),F.domNode.appendChild(F.rightGuard),F}return function $(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),A(L,[{key:"index",value:function(F,J){return F===this.leftGuard?0:F===this.rightGuard?1:w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"index",this).call(this,F,J)}},{key:"restore",value:function(F){var J=void 0,ue=void 0,ce=F.data.split(R).join("");if(F===this.leftGuard)if(this.prev instanceof I.default){var re=this.prev.length();this.prev.insertAt(re,ce),J={startNode:this.prev.domNode,startOffset:re+ce.length}}else ue=document.createTextNode(ce),this.parent.insertBefore(C.default.create(ue),this),J={startNode:ue,startOffset:ce.length};else F===this.rightGuard&&(this.next instanceof I.default?(this.next.insertAt(0,ce),J={startNode:this.next.domNode,startOffset:ce.length}):(ue=document.createTextNode(ce),this.parent.insertBefore(C.default.create(ue),this.next),J={startNode:ue,startOffset:ce.length}));return F.data=R,J}},{key:"update",value:function(F,J){var ue=this;F.forEach(function(ce){if("characterData"===ce.type&&(ce.target===ue.leftGuard||ce.target===ue.rightGuard)){var re=ue.restore(ce.target);re&&(J.range=re)}})}}]),L}(C.default.Embed);_.default=O},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.AlignStyle=_.AlignClass=_.AlignAttribute=void 0;var w=function D(y){return y&&y.__esModule?y:{default:y}}(d(0));var C={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},S=new w.default.Attributor.Attribute("align","align",C),I=new w.default.Attributor.Class("align","ql-align",C),E=new w.default.Attributor.Style("align","text-align",C);_.AlignAttribute=S,_.AlignClass=I,_.AlignStyle=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.BackgroundStyle=_.BackgroundClass=void 0;var w=function C(E){return E&&E.__esModule?E:{default:E}}(d(0)),D=d(26);var S=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),I=new D.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});_.BackgroundClass=S,_.BackgroundStyle=I},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DirectionStyle=_.DirectionClass=_.DirectionAttribute=void 0;var w=function D(y){return y&&y.__esModule?y:{default:y}}(d(0));var C={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},S=new w.default.Attributor.Attribute("direction","dir",C),I=new w.default.Attributor.Class("direction","ql-direction",C),E=new w.default.Attributor.Style("direction","direction",C);_.DirectionAttribute=S,_.DirectionClass=I,_.DirectionStyle=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FontClass=_.FontStyle=void 0;var A=function(){function M(L,U){for(var F=0;F<U.length;F++){var J=U[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(L,J.key,J)}}return function(L,U,F){return U&&M(L.prototype,U),F&&M(L,F),L}}(),w=function M(L,U,F){null===L&&(L=Function.prototype);var J=Object.getOwnPropertyDescriptor(L,U);if(void 0===J){var ue=Object.getPrototypeOf(L);return null===ue?void 0:M(ue,U,F)}if("value"in J)return J.value;var ce=J.get;return void 0===ce?void 0:ce.call(F)},C=function S(M){return M&&M.__esModule?M:{default:M}}(d(0));var x={scope:C.default.Scope.INLINE,whitelist:["serif","monospace"]},$=new C.default.Attributor.Class("font","ql-font",x),R=function(M){function L(){return function I(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}(this,L),function E(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?M:L}(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return function y(M,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(L,M),A(L,[{key:"value",value:function(F){return w(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"value",this).call(this,F).replace(/["']/g,"")}}]),L}(C.default.Attributor.Style),O=new R("font","font-family",x);_.FontStyle=O,_.FontClass=$},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SizeStyle=_.SizeClass=void 0;var w=function D(I){return I&&I.__esModule?I:{default:I}}(d(0));var C=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),S=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});_.SizeClass=C,_.SizeStyle=S},function(Re,_,d){"use strict";Re.exports={align:{"":d(76),center:d(77),right:d(78),justify:d(79)},background:d(80),blockquote:d(81),bold:d(82),clean:d(83),code:d(58),"code-block":d(58),color:d(84),direction:{"":d(85),rtl:d(86)},float:{center:d(87),full:d(88),left:d(89),right:d(90)},formula:d(91),header:{1:d(92),2:d(93)},italic:d(94),image:d(95),indent:{"+1":d(96),"-1":d(97)},link:d(98),list:{ordered:d(99),bullet:d(100),check:d(101)},script:{sub:d(102),super:d(103)},strike:d(104),underline:d(105),video:d(106)}},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getLastChangeIndex=_.default=void 0;var A=function(){function U(F,J){for(var ue=0;ue<J.length;ue++){var ce=J[ue];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(F,ce.key,ce)}}return function(F,J,ue){return J&&U(F.prototype,J),ue&&U(F,ue),F}}(),D=y(d(0)),S=y(d(5));function y(U){return U&&U.__esModule?U:{default:U}}var O=function(U){function F(J,ue){!function x(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);var ce=function $(U,F){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?U:F}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,J,ue));return ce.lastRecorded=0,ce.ignoreChange=!1,ce.clear(),ce.quill.on(S.default.events.EDITOR_CHANGE,function(re,be,j,X){re!==S.default.events.TEXT_CHANGE||ce.ignoreChange||(ce.options.userOnly&&X!==S.default.sources.USER?ce.transform(be):ce.record(be,j))}),ce.quill.keyboard.addBinding({key:"Z",shortKey:!0},ce.undo.bind(ce)),ce.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},ce.redo.bind(ce)),/Win/i.test(navigator.platform)&&ce.quill.keyboard.addBinding({key:"Y",shortKey:!0},ce.redo.bind(ce)),ce}return function R(U,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(U,F):U.__proto__=F)}(F,U),A(F,[{key:"change",value:function(ue,ce){if(0!==this.stack[ue].length){var re=this.stack[ue].pop();this.stack[ce].push(re),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(re[ue],S.default.sources.USER),this.ignoreChange=!1;var be=L(re[ue]);this.quill.setSelection(be)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(ue,ce){if(0!==ue.ops.length){this.stack.redo=[];var re=this.quill.getContents().diff(ce),be=Date.now();if(this.lastRecorded+this.options.delay>be&&this.stack.undo.length>0){var j=this.stack.undo.pop();re=re.compose(j.undo),ue=j.redo.compose(ue)}else this.lastRecorded=be;this.stack.undo.push({redo:ue,undo:re}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(ue){this.stack.undo.forEach(function(ce){ce.undo=ue.transform(ce.undo,!0),ce.redo=ue.transform(ce.redo,!0)}),this.stack.redo.forEach(function(ce){ce.undo=ue.transform(ce.undo,!0),ce.redo=ue.transform(ce.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),F}(y(d(9)).default);function L(U){var F=U.reduce(function(ue,ce){return ue+(ce.delete||0)},0),J=U.length()-F;return function M(U){var F=U.ops[U.ops.length-1];return null!=F&&(null!=F.insert?"string"==typeof F.insert&&F.insert.endsWith("\n"):null!=F.attributes&&Object.keys(F.attributes).some(function(J){return null!=D.default.query(J,D.default.Scope.BLOCK)}))}(U)&&(J-=1),J}O.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},_.default=O,_.getLastChangeIndex=L},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BaseTooltip=void 0;var A=function(){function oe(ge,ye){for(var Ne=0;Ne<ye.length;Ne++){var Be=ye[Ne];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(ge,Be.key,Be)}}return function(ge,ye,Ne){return ye&&oe(ge.prototype,ye),Ne&&oe(ge,Ne),ge}}(),w=function oe(ge,ye,Ne){null===ge&&(ge=Function.prototype);var Be=Object.getOwnPropertyDescriptor(ge,ye);if(void 0===Be){var Qe=Object.getPrototypeOf(ge);return null===Qe?void 0:oe(Qe,ye,Ne)}if("value"in Be)return Be.value;var Pt=Be.get;return void 0===Pt?void 0:Pt.call(Ne)},C=be(d(3)),I=be(d(2)),y=be(d(8)),$=be(d(23)),O=be(d(34)),L=be(d(59)),F=be(d(60)),ue=be(d(28)),re=be(d(61));function be(oe){return oe&&oe.__esModule?oe:{default:oe}}function j(oe,ge){if(!(oe instanceof ge))throw new TypeError("Cannot call a class as a function")}function X(oe,ge){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||"object"!=typeof ge&&"function"!=typeof ge?oe:ge}function se(oe,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function, not "+typeof ge);oe.prototype=Object.create(ge&&ge.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ge&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ge):oe.__proto__=ge)}var W=[!1,"center","right","justify"],xe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],Ae=["1","2","3",!1],Xe=["small",!1,"large","huge"],yt=function(oe){function ge(ye,Ne){j(this,ge);var Be=X(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,ye,Ne));return ye.emitter.listenDOM("click",document.body,function Pt(Ce){if(!document.body.contains(ye.root))return document.body.removeEventListener("click",Pt);null!=Be.tooltip&&!Be.tooltip.root.contains(Ce.target)&&document.activeElement!==Be.tooltip.textbox&&!Be.quill.hasFocus()&&Be.tooltip.hide(),null!=Be.pickers&&Be.pickers.forEach(function(Qt){Qt.container.contains(Ce.target)||Qt.close()})}),Be}return se(ge,oe),A(ge,[{key:"addModule",value:function(Ne){var Be=w(ge.prototype.__proto__||Object.getPrototypeOf(ge.prototype),"addModule",this).call(this,Ne);return"toolbar"===Ne&&this.extendToolbar(Be),Be}},{key:"buildButtons",value:function(Ne,Be){Ne.forEach(function(Qe){(Qe.getAttribute("class")||"").split(/\s+/).forEach(function(Ce){if(Ce.startsWith("ql-")&&(Ce=Ce.slice(3),null!=Be[Ce]))if("direction"===Ce)Qe.innerHTML=Be[Ce][""]+Be[Ce].rtl;else if("string"==typeof Be[Ce])Qe.innerHTML=Be[Ce];else{var Qt=Qe.value||"";null!=Qt&&Be[Ce][Qt]&&(Qe.innerHTML=Be[Ce][Qt])}})})}},{key:"buildPickers",value:function(Ne,Be){var Qe=this;this.pickers=Ne.map(function(Ce){if(Ce.classList.contains("ql-align"))return null==Ce.querySelector("option")&&K(Ce,W),new F.default(Ce,Be.align);if(Ce.classList.contains("ql-background")||Ce.classList.contains("ql-color")){var Qt=Ce.classList.contains("ql-background")?"background":"color";return null==Ce.querySelector("option")&&K(Ce,xe,"background"===Qt?"#ffffff":"#000000"),new L.default(Ce,Be[Qt])}return null==Ce.querySelector("option")&&(Ce.classList.contains("ql-font")?K(Ce,q):Ce.classList.contains("ql-header")?K(Ce,Ae):Ce.classList.contains("ql-size")&&K(Ce,Xe)),new ue.default(Ce)}),this.quill.on(y.default.events.EDITOR_CHANGE,function(){Qe.pickers.forEach(function(Qt){Qt.update()})})}}]),ge}(O.default);yt.DEFAULTS=(0,C.default)(!0,{},O.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var ge=this,ye=this.container.querySelector("input.ql-image[type=file]");null==ye&&((ye=document.createElement("input")).setAttribute("type","file"),ye.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ye.classList.add("ql-image"),ye.addEventListener("change",function(){if(null!=ye.files&&null!=ye.files[0]){var Ne=new FileReader;Ne.onload=function(Be){var Qe=ge.quill.getSelection(!0);ge.quill.updateContents((new I.default).retain(Qe.index).delete(Qe.length).insert({image:Be.target.result}),y.default.sources.USER),ge.quill.setSelection(Qe.index+1,y.default.sources.SILENT),ye.value=""},Ne.readAsDataURL(ye.files[0])}}),this.container.appendChild(ye)),ye.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Je=function(oe){function ge(ye,Ne){j(this,ge);var Be=X(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,ye,Ne));return Be.textbox=Be.root.querySelector('input[type="text"]'),Be.listen(),Be}return se(ge,oe),A(ge,[{key:"listen",value:function(){var Ne=this;this.textbox.addEventListener("keydown",function(Be){$.default.match(Be,"enter")?(Ne.save(),Be.preventDefault()):$.default.match(Be,"escape")&&(Ne.cancel(),Be.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",Be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=Be?this.textbox.value=Be:Ne!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Ne)||""),this.root.setAttribute("data-mode",Ne)}},{key:"restoreFocus",value:function(){var Ne=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Ne}},{key:"save",value:function(){var Ne=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var Be=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Ne,y.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Ne,y.default.sources.USER)),this.quill.root.scrollTop=Be;break;case"video":Ne=function je(oe){var ge=oe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||oe.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return ge?(ge[1]||"https")+"://www.youtube.com/embed/"+ge[2]+"?showinfo=0":(ge=oe.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(ge[1]||"https")+"://player.vimeo.com/video/"+ge[2]+"/":oe}(Ne);case"formula":if(!Ne)break;var Qe=this.quill.getSelection(!0);if(null!=Qe){var Pt=Qe.index+Qe.length;this.quill.insertEmbed(Pt,this.root.getAttribute("data-mode"),Ne,y.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Pt+1," ",y.default.sources.USER),this.quill.setSelection(Pt+2,y.default.sources.USER)}}this.textbox.value="",this.hide()}}]),ge}(re.default);function K(oe,ge){var ye=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ge.forEach(function(Ne){var Be=document.createElement("option");Ne===ye?Be.setAttribute("selected","selected"):Be.setAttribute("value",Ne),oe.appendChild(Be)})}_.BaseTooltip=Je,_.default=yt},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var D=[],C=0;C<arguments.length;C++)D[C]=arguments[C];this.insertBefore(D[0],null),D.length>1&&this.append.apply(this,D.slice(1))},w.prototype.contains=function(D){for(var C,S=this.iterator();C=S();)if(C===D)return!0;return!1},w.prototype.insertBefore=function(D,C){D&&(D.next=C,null!=C?(D.prev=C.prev,null!=C.prev&&(C.prev.next=D),C.prev=D,C===this.head&&(this.head=D)):null!=this.tail?(this.tail.next=D,D.prev=this.tail,this.tail=D):(D.prev=null,this.head=this.tail=D),this.length+=1)},w.prototype.offset=function(D){for(var C=0,S=this.head;null!=S;){if(S===D)return C;C+=S.length(),S=S.next}return-1},w.prototype.remove=function(D){this.contains(D)&&(null!=D.prev&&(D.prev.next=D.next),null!=D.next&&(D.next.prev=D.prev),D===this.head&&(this.head=D.next),D===this.tail&&(this.tail=D.prev),this.length-=1)},w.prototype.iterator=function(D){return void 0===D&&(D=this.head),function(){var C=D;return null!=D&&(D=D.next),C}},w.prototype.find=function(D,C){void 0===C&&(C=!1);for(var S,I=this.iterator();S=I();){var E=S.length();if(D<E||C&&D===E&&(null==S.next||0!==S.next.length()))return[S,D];D-=E}return[null,0]},w.prototype.forEach=function(D){for(var C,S=this.iterator();C=S();)D(C)},w.prototype.forEachAt=function(D,C,S){if(!(C<=0))for(var x,I=this.find(D),$=D-I[1],R=this.iterator(I[0]);(x=R())&&$<D+C;){var O=x.length();D>$?S(x,D-$,Math.min(C,$+O-D)):S(x,0,Math.min(O,D+C-$)),$+=O}},w.prototype.map=function(D){return this.reduce(function(C,S){return C.push(D(S)),C},[])},w.prototype.reduce=function(D,C){for(var S,I=this.iterator();S=I();)C=D(C,S);return C},w}();_.default=A},function(Re,_,d){"use strict";var E,A=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var $ in x)x.hasOwnProperty($)&&(y[$]=x[$])},function(y,x){function $(){this.constructor=y}E(y,x),y.prototype=null===x?Object.create(x):($.prototype=x.prototype,new $)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(17),D=d(1),C={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},I=function(E){function y(x){var $=E.call(this,x)||this;return $.scroll=$,$.observer=new MutationObserver(function(R){$.update(R)}),$.observer.observe($.domNode,C),$.attach(),$}return A(y,E),y.prototype.detach=function(){E.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(x,$){this.update(),0===x&&$===this.length()?this.children.forEach(function(R){R.remove()}):E.prototype.deleteAt.call(this,x,$)},y.prototype.formatAt=function(x,$,R,O){this.update(),E.prototype.formatAt.call(this,x,$,R,O)},y.prototype.insertAt=function(x,$,R){this.update(),E.prototype.insertAt.call(this,x,$,R)},y.prototype.optimize=function(x,$){var R=this;void 0===x&&(x=[]),void 0===$&&($={}),E.prototype.optimize.call(this,$);for(var O=[].slice.call(this.observer.takeRecords());O.length>0;)x.push(O.pop());for(var M=function(J,ue){void 0===ue&&(ue=!0),null!=J&&J!==R&&null!=J.domNode.parentNode&&(null==J.domNode[D.DATA_KEY].mutations&&(J.domNode[D.DATA_KEY].mutations=[]),ue&&M(J.parent))},L=function(J){null==J.domNode[D.DATA_KEY]||null==J.domNode[D.DATA_KEY].mutations||(J instanceof w.default&&J.children.forEach(L),J.optimize($))},U=x,F=0;U.length>0;F+=1){if(F>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(U.forEach(function(J){var ue=D.find(J.target,!0);null!=ue&&(ue.domNode===J.target&&("childList"===J.type?(M(D.find(J.previousSibling,!1)),[].forEach.call(J.addedNodes,function(ce){var re=D.find(ce,!1);M(re,!1),re instanceof w.default&&re.children.forEach(function(be){M(be,!1)})})):"attributes"===J.type&&M(ue.prev)),M(ue))}),this.children.forEach(L),O=(U=[].slice.call(this.observer.takeRecords())).slice();O.length>0;)x.push(O.pop())}},y.prototype.update=function(x,$){var R=this;void 0===$&&($={}),(x=x||this.observer.takeRecords()).map(function(O){var M=D.find(O.target,!0);return null==M?null:null==M.domNode[D.DATA_KEY].mutations?(M.domNode[D.DATA_KEY].mutations=[O],M):(M.domNode[D.DATA_KEY].mutations.push(O),null)}).forEach(function(O){null==O||O===R||null==O.domNode[D.DATA_KEY]||O.update(O.domNode[D.DATA_KEY].mutations||[],$)}),null!=this.domNode[D.DATA_KEY].mutations&&E.prototype.update.call(this,this.domNode[D.DATA_KEY].mutations,$),this.optimize(x,$)},y.blotName="scroll",y.defaultChild="block",y.scope=D.Scope.BLOCK_BLOT,y.tagName="DIV",y}(w.default);_.default=I},function(Re,_,d){"use strict";var I,A=this&&this.__extends||(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,y){E.__proto__=y}||function(E,y){for(var x in y)y.hasOwnProperty(x)&&(E[x]=y[x])},function(E,y){function x(){this.constructor=E}I(E,y),E.prototype=null===y?Object.create(y):(x.prototype=y.prototype,new x)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(18),D=d(1);var S=function(I){function E(){return null!==I&&I.apply(this,arguments)||this}return A(E,I),E.formats=function(y){if(y.tagName!==E.tagName)return I.formats.call(this,y)},E.prototype.format=function(y,x){var $=this;y!==this.statics.blotName||x?I.prototype.format.call(this,y,x):(this.children.forEach(function(R){R instanceof w.default||(R=R.wrap(E.blotName,!0)),$.attributes.copy(R)}),this.unwrap())},E.prototype.formatAt=function(y,x,$,R){null!=this.formats()[$]||D.query($,D.Scope.ATTRIBUTE)?this.isolate(y,x).format($,R):I.prototype.formatAt.call(this,y,x,$,R)},E.prototype.optimize=function(y){I.prototype.optimize.call(this,y);var x=this.formats();if(0===Object.keys(x).length)return this.unwrap();var $=this.next;$ instanceof E&&$.prev===this&&function C(I,E){if(Object.keys(I).length!==Object.keys(E).length)return!1;for(var y in I)if(I[y]!==E[y])return!1;return!0}(x,$.formats())&&($.moveChildren(this),$.remove())},E.blotName="inline",E.scope=D.Scope.INLINE_BLOT,E.tagName="SPAN",E}(w.default);_.default=S},function(Re,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(18),D=d(1),C=function(S){function I(){return null!==S&&S.apply(this,arguments)||this}return A(I,S),I.formats=function(E){var y=D.query(I.blotName).tagName;if(E.tagName!==y)return S.formats.call(this,E)},I.prototype.format=function(E,y){null!=D.query(E,D.Scope.BLOCK)&&(E!==this.statics.blotName||y?S.prototype.format.call(this,E,y):this.replaceWith(I.blotName))},I.prototype.formatAt=function(E,y,x,$){null!=D.query(x,D.Scope.BLOCK)?this.format(x,$):S.prototype.formatAt.call(this,E,y,x,$)},I.prototype.insertAt=function(E,y,x){if(null==x||null!=D.query(y,D.Scope.INLINE))S.prototype.insertAt.call(this,E,y,x);else{var $=this.split(E),R=D.create(y,x);$.parent.insertBefore(R,$)}},I.prototype.update=function(E,y){navigator.userAgent.match(/Trident/)?this.build():S.prototype.update.call(this,E,y)},I.blotName="block",I.scope=D.Scope.BLOCK_BLOT,I.tagName="P",I}(w.default);_.default=C},function(Re,_,d){"use strict";var C,A=this&&this.__extends||(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var E in I)I.hasOwnProperty(E)&&(S[E]=I[E])},function(S,I){function E(){this.constructor=S}C(S,I),S.prototype=null===I?Object.create(I):(E.prototype=I.prototype,new E)});Object.defineProperty(_,"__esModule",{value:!0});var D=function(C){function S(){return null!==C&&C.apply(this,arguments)||this}return A(S,C),S.formats=function(I){},S.prototype.format=function(I,E){C.prototype.formatAt.call(this,0,this.length(),I,E)},S.prototype.formatAt=function(I,E,y,x){0===I&&E===this.length()?this.format(y,x):C.prototype.formatAt.call(this,I,E,y,x)},S.prototype.formats=function(){return this.statics.formats(this.domNode)},S}(d(19).default);_.default=D},function(Re,_,d){"use strict";var S,A=this&&this.__extends||(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var y in E)E.hasOwnProperty(y)&&(I[y]=E[y])},function(I,E){function y(){this.constructor=I}S(I,E),I.prototype=null===E?Object.create(E):(y.prototype=E.prototype,new y)});Object.defineProperty(_,"__esModule",{value:!0});var w=d(19),D=d(1),C=function(S){function I(E){var y=S.call(this,E)||this;return y.text=y.statics.value(y.domNode),y}return A(I,S),I.create=function(E){return document.createTextNode(E)},I.value=function(E){var y=E.data;return y.normalize&&(y=y.normalize()),y},I.prototype.deleteAt=function(E,y){this.domNode.data=this.text=this.text.slice(0,E)+this.text.slice(E+y)},I.prototype.index=function(E,y){return this.domNode===E?y:-1},I.prototype.insertAt=function(E,y,x){null==x?(this.text=this.text.slice(0,E)+y+this.text.slice(E),this.domNode.data=this.text):S.prototype.insertAt.call(this,E,y,x)},I.prototype.length=function(){return this.text.length},I.prototype.optimize=function(E){S.prototype.optimize.call(this,E),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof I&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},I.prototype.position=function(E,y){return void 0===y&&(y=!1),[this.domNode,E]},I.prototype.split=function(E,y){if(void 0===y&&(y=!1),!y){if(0===E)return this;if(E===this.length())return this.next}var x=D.create(this.domNode.splitText(E));return this.parent.insertBefore(x,this.next),this.text=this.statics.value(this.domNode),x},I.prototype.update=function(E,y){var x=this;E.some(function($){return"characterData"===$.type&&$.target===x.domNode})&&(this.text=this.statics.value(this.domNode))},I.prototype.value=function(){return this.text},I.blotName="text",I.scope=D.Scope.INLINE_BLOT,I}(w.default);_.default=C},function(Re,_,d){"use strict";var A=document.createElement("div");if(A.classList.toggle("test-class",!1),A.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(D,C){return arguments.length>1&&!this.contains(D)==!C?C:w.call(this,D)}}String.prototype.startsWith||(String.prototype.startsWith=function(D,C){return this.substr(C=C||0,D.length)===D}),String.prototype.endsWith||(String.prototype.endsWith=function(D,C){var S=this.toString();("number"!=typeof C||!isFinite(C)||Math.floor(C)!==C||C>S.length)&&(C=S.length);var I=S.indexOf(D,C-=D.length);return-1!==I&&I===C}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(C){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof C)throw new TypeError("predicate must be a function");for(var y,S=Object(this),I=S.length>>>0,E=arguments[1],x=0;x<I;x++)if(C.call(E,y=S[x],x,S))return y}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(Re,_){var d=-1,A=1,w=0;function D(F,J,ue){if(F==J)return F?[[w,F]]:[];(ue<0||F.length<ue)&&(ue=null);var ce=E(F,J),re=F.substring(0,ce);ce=y(F=F.substring(ce),J=J.substring(ce));var be=F.substring(F.length-ce),j=function C(F,J){var ue;if(!F)return[[A,J]];if(!J)return[[d,F]];var ce=F.length>J.length?F:J,re=F.length>J.length?J:F,be=ce.indexOf(re);if(-1!=be)return ue=[[A,ce.substring(0,be)],[w,re],[A,ce.substring(be+re.length)]],F.length>J.length&&(ue[0][0]=ue[2][0]=d),ue;if(1==re.length)return[[d,F],[A,J]];var j=function x(F,J){var ue=F.length>J.length?F:J,ce=F.length>J.length?J:F;if(ue.length<4||2*ce.length<ue.length)return null;function re(Xe,yt,Je){for(var ge,ye,Ne,Be,je=Xe.substring(Je,Je+Math.floor(Xe.length/4)),K=-1,oe="";-1!=(K=yt.indexOf(je,K+1));){var Qe=E(Xe.substring(Je),yt.substring(K)),Pt=y(Xe.substring(0,Je),yt.substring(0,K));oe.length<Pt+Qe&&(oe=yt.substring(K-Pt,K)+yt.substring(K,K+Qe),ge=Xe.substring(0,Je-Pt),ye=Xe.substring(Je+Qe),Ne=yt.substring(0,K-Pt),Be=yt.substring(K+Qe))}return 2*oe.length>=Xe.length?[ge,ye,Ne,Be,oe]:null}var X,se,W,xe,q,be=re(ue,ce,Math.ceil(ue.length/4)),j=re(ue,ce,Math.ceil(ue.length/2));return be||j?(X=j?be&&be[4].length>j[4].length?be:j:be,F.length>J.length?(se=X[0],W=X[1],xe=X[2],q=X[3]):(xe=X[0],q=X[1],se=X[2],W=X[3]),[se,W,xe,q,X[4]]):null}(F,J);if(j){var se=j[1],xe=j[3],q=j[4],Ae=D(j[0],j[2]),Xe=D(se,xe);return Ae.concat([[w,q]],Xe)}return function S(F,J){for(var ue=F.length,ce=J.length,re=Math.ceil((ue+ce)/2),be=re,j=2*re,X=new Array(j),se=new Array(j),W=0;W<j;W++)X[W]=-1,se[W]=-1;X[be+1]=0,se[be+1]=0;for(var xe=ue-ce,q=xe%2!=0,Ae=0,Xe=0,yt=0,Je=0,je=0;je<re;je++){for(var K=-je+Ae;K<=je-Xe;K+=2){for(var oe=be+K,ye=(ge=K==-je||K!=je&&X[oe-1]<X[oe+1]?X[oe+1]:X[oe-1]+1)-K;ge<ue&&ye<ce&&F.charAt(ge)==J.charAt(ye);)ge++,ye++;if(X[oe]=ge,ge>ue)Xe+=2;else if(ye>ce)Ae+=2;else if(q&&(Ne=be+xe-K)>=0&&Ne<j&&-1!=se[Ne]&&ge>=(Be=ue-se[Ne]))return I(F,J,ge,ye)}for(var Qe=-je+yt;Qe<=je-Je;Qe+=2){for(var Be,Ne=be+Qe,Pt=(Be=Qe==-je||Qe!=je&&se[Ne-1]<se[Ne+1]?se[Ne+1]:se[Ne-1]+1)-Qe;Be<ue&&Pt<ce&&F.charAt(ue-Be-1)==J.charAt(ce-Pt-1);)Be++,Pt++;if(se[Ne]=Be,Be>ue)Je+=2;else if(Pt>ce)yt+=2;else if(!q){var ge;if((oe=be+xe-Qe)>=0&&oe<j&&-1!=X[oe]&&(ye=be+(ge=X[oe])-oe,ge>=(Be=ue-Be)))return I(F,J,ge,ye)}}}return[[d,F],[A,J]]}(F,J)}(F=F.substring(0,F.length-ce),J=J.substring(0,J.length-ce));return re&&j.unshift([w,re]),be&&j.push([w,be]),$(j),null!=ue&&(j=function M(F,J){var ue=function O(F,J){if(0===J)return[w,F];for(var ue=0,ce=0;ce<F.length;ce++){var re=F[ce];if(re[0]===d||re[0]===w){var be=ue+re[1].length;if(J===be)return[ce+1,F];if(J<be){F=F.slice();var j=J-ue,X=[re[0],re[1].slice(0,j)],se=[re[0],re[1].slice(j)];return F.splice(ce,1,X,se),[ce+1,F]}ue=be}}throw new Error("cursor_pos is out of bounds!")}(F,J),ce=ue[1],re=ue[0],be=ce[re],j=ce[re+1];if(null==be)return F;if(be[0]!==w)return F;if(null!=j&&be[1]+j[1]===j[1]+be[1])return ce.splice(re,2,j,be),U(ce,re,2);if(null!=j&&0===j[1].indexOf(be[1])){ce.splice(re,2,[j[0],be[1]],[0,be[1]]);var X=j[1].slice(be[1].length);return X.length>0&&ce.splice(re+2,0,[j[0],X]),U(ce,re,3)}return F}(j,ue)),function L(F){for(var J=!1,ue=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},ce=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},re=2;re<F.length;re+=1)F[re-2][0]===w&&ce(F[re-2][1])&&F[re-1][0]===d&&ue(F[re-1][1])&&F[re][0]===A&&ue(F[re][1])&&(J=!0,F[re-1][1]=F[re-2][1].slice(-1)+F[re-1][1],F[re][1]=F[re-2][1].slice(-1)+F[re][1],F[re-2][1]=F[re-2][1].slice(0,-1));if(!J)return F;var be=[];for(re=0;re<F.length;re+=1)F[re][1].length>0&&be.push(F[re]);return be}(j)}function I(F,J,ue,ce){var re=F.substring(0,ue),be=J.substring(0,ce),j=F.substring(ue),X=J.substring(ce),se=D(re,be),W=D(j,X);return se.concat(W)}function E(F,J){if(!F||!J||F.charAt(0)!=J.charAt(0))return 0;for(var ue=0,ce=Math.min(F.length,J.length),re=ce,be=0;ue<re;)F.substring(be,re)==J.substring(be,re)?be=ue=re:ce=re,re=Math.floor((ce-ue)/2+ue);return re}function y(F,J){if(!F||!J||F.charAt(F.length-1)!=J.charAt(J.length-1))return 0;for(var ue=0,ce=Math.min(F.length,J.length),re=ce,be=0;ue<re;)F.substring(F.length-re,F.length-be)==J.substring(J.length-re,J.length-be)?be=ue=re:ce=re,re=Math.floor((ce-ue)/2+ue);return re}function $(F){F.push([w,""]);for(var j,J=0,ue=0,ce=0,re="",be="";J<F.length;)switch(F[J][0]){case A:ce++,be+=F[J][1],J++;break;case d:ue++,re+=F[J][1],J++;break;case w:ue+ce>1?(0!==ue&&0!==ce&&(0!==(j=E(be,re))&&(J-ue-ce>0&&F[J-ue-ce-1][0]==w?F[J-ue-ce-1][1]+=be.substring(0,j):(F.splice(0,0,[w,be.substring(0,j)]),J++),be=be.substring(j),re=re.substring(j)),0!==(j=y(be,re))&&(F[J][1]=be.substring(be.length-j)+F[J][1],be=be.substring(0,be.length-j),re=re.substring(0,re.length-j))),0===ue?F.splice(J-ce,ue+ce,[A,be]):0===ce?F.splice(J-ue,ue+ce,[d,re]):F.splice(J-ue-ce,ue+ce,[d,re],[A,be]),J=J-ue-ce+(ue?1:0)+(ce?1:0)+1):0!==J&&F[J-1][0]==w?(F[J-1][1]+=F[J][1],F.splice(J,1)):J++,ce=0,ue=0,re="",be=""}""===F[F.length-1][1]&&F.pop();var X=!1;for(J=1;J<F.length-1;)F[J-1][0]==w&&F[J+1][0]==w&&(F[J][1].substring(F[J][1].length-F[J-1][1].length)==F[J-1][1]?(F[J][1]=F[J-1][1]+F[J][1].substring(0,F[J][1].length-F[J-1][1].length),F[J+1][1]=F[J-1][1]+F[J+1][1],F.splice(J-1,1),X=!0):F[J][1].substring(0,F[J+1][1].length)==F[J+1][1]&&(F[J-1][1]+=F[J+1][1],F[J][1]=F[J][1].substring(F[J+1][1].length)+F[J+1][1],F.splice(J+1,1),X=!0)),J++;X&&$(F)}var R=D;function U(F,J,ue){for(var ce=J+ue-1;ce>=0&&ce>=J-1;ce--)if(ce+1<F.length){var re=F[ce],be=F[ce+1];re[0]===be[1]&&F.splice(ce,2,[re[0],re[1]+be[1]])}return F}R.INSERT=A,R.DELETE=d,R.EQUAL=w,Re.exports=R},function(Re,_){function d(A){var w=[];for(var D in A)w.push(D);return w}(Re.exports="function"==typeof Object.keys?Object.keys:d).shim=d},function(Re,_){var d="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function A(D){return"[object Arguments]"==Object.prototype.toString.call(D)}function w(D){return D&&"object"==typeof D&&"number"==typeof D.length&&Object.prototype.hasOwnProperty.call(D,"callee")&&!Object.prototype.propertyIsEnumerable.call(D,"callee")||!1}(_=Re.exports=d?A:w).supported=A,_.unsupported=w},function(Re,_){"use strict";var d=Object.prototype.hasOwnProperty,A="~";function w(){}function D(S,I,E){this.fn=S,this.context=I,this.once=E||!1}function C(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),(new w).__proto__||(A=!1)),C.prototype.eventNames=function(){var E,y,I=[];if(0===this._eventsCount)return I;for(y in E=this._events)d.call(E,y)&&I.push(A?y.slice(1):y);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(E)):I},C.prototype.listeners=function(I,E){var x=this._events[A?A+I:I];if(E)return!!x;if(!x)return[];if(x.fn)return[x.fn];for(var $=0,R=x.length,O=new Array(R);$<R;$++)O[$]=x[$].fn;return O},C.prototype.emit=function(I,E,y,x,$,R){var O=A?A+I:I;if(!this._events[O])return!1;var U,F,M=this._events[O],L=arguments.length;if(M.fn){switch(M.once&&this.removeListener(I,M.fn,void 0,!0),L){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,E),!0;case 3:return M.fn.call(M.context,E,y),!0;case 4:return M.fn.call(M.context,E,y,x),!0;case 5:return M.fn.call(M.context,E,y,x,$),!0;case 6:return M.fn.call(M.context,E,y,x,$,R),!0}for(F=1,U=new Array(L-1);F<L;F++)U[F-1]=arguments[F];M.fn.apply(M.context,U)}else{var ue,J=M.length;for(F=0;F<J;F++)switch(M[F].once&&this.removeListener(I,M[F].fn,void 0,!0),L){case 1:M[F].fn.call(M[F].context);break;case 2:M[F].fn.call(M[F].context,E);break;case 3:M[F].fn.call(M[F].context,E,y);break;case 4:M[F].fn.call(M[F].context,E,y,x);break;default:if(!U)for(ue=1,U=new Array(L-1);ue<L;ue++)U[ue-1]=arguments[ue];M[F].fn.apply(M[F].context,U)}}return!0},C.prototype.on=function(I,E,y){var x=new D(E,y||this),$=A?A+I:I;return this._events[$]?this._events[$].fn?this._events[$]=[this._events[$],x]:this._events[$].push(x):(this._events[$]=x,this._eventsCount++),this},C.prototype.once=function(I,E,y){var x=new D(E,y||this,!0),$=A?A+I:I;return this._events[$]?this._events[$].fn?this._events[$]=[this._events[$],x]:this._events[$].push(x):(this._events[$]=x,this._eventsCount++),this},C.prototype.removeListener=function(I,E,y,x){var $=A?A+I:I;if(!this._events[$])return this;if(!E)return 0==--this._eventsCount?this._events=new w:delete this._events[$],this;var R=this._events[$];if(R.fn)R.fn===E&&(!x||R.once)&&(!y||R.context===y)&&(0==--this._eventsCount?this._events=new w:delete this._events[$]);else{for(var O=0,M=[],L=R.length;O<L;O++)(R[O].fn!==E||x&&!R[O].once||y&&R[O].context!==y)&&M.push(R[O]);M.length?this._events[$]=1===M.length?M[0]:M:0==--this._eventsCount?this._events=new w:delete this._events[$]}return this},C.prototype.removeAllListeners=function(I){var E;return I?this._events[E=A?A+I:I]&&(0==--this._eventsCount?this._events=new w:delete this._events[E]):(this._events=new w,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prototype.setMaxListeners=function(){return this},C.prefixed=A,C.EventEmitter=C,typeof Re<"u"&&(Re.exports=C)},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.matchText=_.matchSpacing=_.matchNewline=_.matchBlot=_.matchAttributor=_.default=void 0;var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(It){return typeof It}:function(It){return It&&"function"==typeof Symbol&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},w=function(){return function(at,ot){if(Array.isArray(at))return at;if(Symbol.iterator in Object(at))return function It(at,ot){var Nt=[],Ut=!0,wt=!1,ut=void 0;try{for(var Z,dt=at[Symbol.iterator]();!(Ut=(Z=dt.next()).done)&&(Nt.push(Z.value),!ot||Nt.length!==ot);Ut=!0);}catch(Pe){wt=!0,ut=Pe}finally{try{!Ut&&dt.return&&dt.return()}finally{if(wt)throw ut}}return Nt}(at,ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function It(at,ot){for(var Nt=0;Nt<ot.length;Nt++){var Ut=ot[Nt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(at,Ut.key,Ut)}}return function(at,ot,Nt){return ot&&It(at.prototype,ot),Nt&&It(at,Nt),at}}(),S=se(d(3)),E=se(d(2)),x=se(d(0)),R=se(d(5)),M=se(d(10)),U=se(d(9)),F=d(36),J=d(37),ce=se(d(13)),re=d(26),be=d(38),j=d(39),X=d(40);function se(It){return It&&It.__esModule?It:{default:It}}function W(It,at,ot){return at in It?Object.defineProperty(It,at,{value:ot,enumerable:!0,configurable:!0,writable:!0}):It[at]=ot,It}var Xe=(0,M.default)("quill:clipboard"),yt="__ql-matcher",Je=[[Node.TEXT_NODE,vt],[Node.TEXT_NODE,ft],["br",function Vt(It,at){return Ne(at,"\n")||at.insert("\n"),at}],[Node.ELEMENT_NODE,ft],[Node.ELEMENT_NODE,Qt],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,function Ye(It,at){var ot={},Nt=It.style||{};return Nt.fontStyle&&"italic"===ye(It).fontStyle&&(ot.italic=!0),Nt.fontWeight&&(ye(It).fontWeight.startsWith("bold")||parseInt(ye(It).fontWeight)>=700)&&(ot.bold=!0),Object.keys(ot).length>0&&(at=ge(at,ot)),parseFloat(Nt.textIndent||0)>0&&(at=(new E.default).insert("\t").concat(at)),at}],["li",function Ot(It,at){var ot=x.default.query(It);if(null==ot||"list-item"!==ot.blotName||!Ne(at,"\n"))return at;for(var Nt=-1,Ut=It.parentNode;!Ut.classList.contains("ql-clipboard");)"list"===(x.default.query(Ut)||{}).blotName&&(Nt+=1),Ut=Ut.parentNode;return Nt<=0?at:at.compose((new E.default).retain(at.length()-1).retain(1,{indent:Nt}))}],["b",Pt.bind(Pt,"bold")],["i",Pt.bind(Pt,"italic")],["style",function Tt(){return new E.default}]],je=[F.AlignAttribute,be.DirectionAttribute].reduce(function(It,at){return It[at.keyName]=at,It},{}),K=[F.AlignStyle,J.BackgroundStyle,re.ColorStyle,be.DirectionStyle,j.FontStyle,X.SizeStyle].reduce(function(It,at){return It[at.keyName]=at,It},{}),oe=function(It){function at(ot,Nt){!function xe(It,at){if(!(It instanceof at))throw new TypeError("Cannot call a class as a function")}(this,at);var Ut=function q(It,at){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!at||"object"!=typeof at&&"function"!=typeof at?It:at}(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,ot,Nt));return Ut.quill.root.addEventListener("paste",Ut.onPaste.bind(Ut)),Ut.container=Ut.quill.addContainer("ql-clipboard"),Ut.container.setAttribute("contenteditable",!0),Ut.container.setAttribute("tabindex",-1),Ut.matchers=[],Je.concat(Ut.options.matchers).forEach(function(wt){var ut=w(wt,2),Z=ut[1];!Nt.matchVisual&&Z===Oe||Ut.addMatcher(ut[0],Z)}),Ut}return function Ae(It,at){if("function"!=typeof at&&null!==at)throw new TypeError("Super expression must either be null or a function, not "+typeof at);It.prototype=Object.create(at&&at.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),at&&(Object.setPrototypeOf?Object.setPrototypeOf(It,at):It.__proto__=at)}(at,It),D(at,[{key:"addMatcher",value:function(Nt,Ut){this.matchers.push([Nt,Ut])}},{key:"convert",value:function(Nt){if("string"==typeof Nt)return this.container.innerHTML=Nt.replace(/\>\r?\n +\</g,"><"),this.convert();var Ut=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ut[ce.default.blotName]){var wt=this.container.innerText;return this.container.innerHTML="",(new E.default).insert(wt,W({},ce.default.blotName,Ut[ce.default.blotName]))}var ut=this.prepareMatching(),dt=w(ut,2),pe=Qe(this.container,dt[0],dt[1]);return Ne(pe,"\n")&&null==pe.ops[pe.ops.length-1].attributes&&(pe=pe.compose((new E.default).retain(pe.length()-1).delete(1))),Xe.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(Nt,Ut){var wt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.default.sources.API;if("string"==typeof Nt)this.quill.setContents(this.convert(Nt),Ut),this.quill.setSelection(0,R.default.sources.SILENT);else{var ut=this.convert(Ut);this.quill.updateContents((new E.default).retain(Nt).concat(ut),wt),this.quill.setSelection(Nt+ut.length(),R.default.sources.SILENT)}}},{key:"onPaste",value:function(Nt){var Ut=this;if(!Nt.defaultPrevented&&this.quill.isEnabled()){var wt=this.quill.getSelection(),ut=(new E.default).retain(wt.index),dt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(R.default.sources.SILENT),setTimeout(function(){ut=ut.concat(Ut.convert()).delete(wt.length),Ut.quill.updateContents(ut,R.default.sources.USER),Ut.quill.setSelection(ut.length()-wt.length,R.default.sources.SILENT),Ut.quill.scrollingContainer.scrollTop=dt,Ut.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Nt=this,Ut=[],wt=[];return this.matchers.forEach(function(ut){var dt=w(ut,2),Z=dt[0],Pe=dt[1];switch(Z){case Node.TEXT_NODE:wt.push(Pe);break;case Node.ELEMENT_NODE:Ut.push(Pe);break;default:[].forEach.call(Nt.container.querySelectorAll(Z),function(pe){pe[yt]=pe[yt]||[],pe[yt].push(Pe)})}}),[Ut,wt]}}]),at}(U.default);function ge(It,at,ot){return"object"===(typeof at>"u"?"undefined":A(at))?Object.keys(at).reduce(function(Nt,Ut){return ge(Nt,Ut,at[Ut])},It):It.reduce(function(Nt,Ut){return Ut.attributes&&Ut.attributes[at]?Nt.push(Ut):Nt.insert(Ut.insert,(0,S.default)({},W({},at,ot),Ut.attributes))},new E.default)}function ye(It){if(It.nodeType!==Node.ELEMENT_NODE)return{};var at="__ql-computed-style";return It[at]||(It[at]=window.getComputedStyle(It))}function Ne(It,at){for(var ot="",Nt=It.ops.length-1;Nt>=0&&ot.length<at.length;--Nt){var Ut=It.ops[Nt];if("string"!=typeof Ut.insert)break;ot=Ut.insert+ot}return ot.slice(-1*at.length)===at}function Be(It){if(0===It.childNodes.length)return!1;var at=ye(It);return["block","list-item"].indexOf(at.display)>-1}function Qe(It,at,ot){return It.nodeType===It.TEXT_NODE?ot.reduce(function(Nt,Ut){return Ut(It,Nt)},new E.default):It.nodeType===It.ELEMENT_NODE?[].reduce.call(It.childNodes||[],function(Nt,Ut){var wt=Qe(Ut,at,ot);return Ut.nodeType===It.ELEMENT_NODE&&(wt=at.reduce(function(ut,dt){return dt(Ut,ut)},wt),wt=(Ut[yt]||[]).reduce(function(ut,dt){return dt(Ut,ut)},wt)),Nt.concat(wt)},new E.default):new E.default}function Pt(It,at,ot){return ge(ot,It,!0)}function Ce(It,at){var ot=x.default.Attributor.Attribute.keys(It),Nt=x.default.Attributor.Class.keys(It),Ut=x.default.Attributor.Style.keys(It),wt={};return ot.concat(Nt).concat(Ut).forEach(function(ut){var dt=x.default.query(ut,x.default.Scope.ATTRIBUTE);null!=dt&&(wt[dt.attrName]=dt.value(It),wt[dt.attrName])||(null!=(dt=je[ut])&&(dt.attrName===ut||dt.keyName===ut)&&(wt[dt.attrName]=dt.value(It)||void 0),null!=(dt=K[ut])&&(dt.attrName===ut||dt.keyName===ut)&&(wt[(dt=K[ut]).attrName]=dt.value(It)||void 0))}),Object.keys(wt).length>0&&(at=ge(at,wt)),at}function Qt(It,at){var ot=x.default.query(It);if(null==ot)return at;if(ot.prototype instanceof x.default.Embed){var Nt={},Ut=ot.value(It);null!=Ut&&(Nt[ot.blotName]=Ut,at=(new E.default).insert(Nt,ot.formats(It)))}else"function"==typeof ot.formats&&(at=ge(at,ot.blotName,ot.formats(It)));return at}function ft(It,at){return Ne(at,"\n")||(Be(It)||at.length()>0&&It.nextSibling&&Be(It.nextSibling))&&at.insert("\n"),at}function Oe(It,at){if(Be(It)&&null!=It.nextElementSibling&&!Ne(at,"\n\n")){var ot=It.offsetHeight+parseFloat(ye(It).marginTop)+parseFloat(ye(It).marginBottom);It.nextElementSibling.offsetTop>It.offsetTop+1.5*ot&&at.insert("\n")}return at}function vt(It,at){var ot=It.data;if("O:P"===It.parentNode.tagName)return at.insert(ot.trim());if(0===ot.trim().length&&It.parentNode.classList.contains("ql-clipboard"))return at;if(!ye(It.parentNode).whiteSpace.startsWith("pre")){var Nt=function(wt,ut){return(ut=ut.replace(/[^\u00a0]/g,"")).length<1&&wt?" ":ut};ot=(ot=ot.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Nt.bind(Nt,!0)),(null==It.previousSibling&&Be(It.parentNode)||null!=It.previousSibling&&Be(It.previousSibling))&&(ot=ot.replace(/^\s+/,Nt.bind(Nt,!1))),(null==It.nextSibling&&Be(It.parentNode)||null!=It.nextSibling&&Be(It.nextSibling))&&(ot=ot.replace(/\s+$/,Nt.bind(Nt,!1)))}return at.insert(ot)}oe.DEFAULTS={matchers:[],matchVisual:!0},_.default=oe,_.matchAttributor=Ce,_.matchBlot=Qt,_.matchNewline=ft,_.matchSpacing=Oe,_.matchText=vt},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:$(U,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"optimize",value:function(M){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,M),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return w(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(6)).default);x.blotName="bold",x.tagName=["STRONG","B"],_.default=x},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.addControls=_.default=void 0;var A=function(){return function(se,W){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return function X(se,W){var xe=[],q=!0,Ae=!1,Xe=void 0;try{for(var Je,yt=se[Symbol.iterator]();!(q=(Je=yt.next()).done)&&(xe.push(Je.value),!W||xe.length!==W);q=!0);}catch(je){Ae=!0,Xe=je}finally{try{!q&&yt.return&&yt.return()}finally{if(Ae)throw Xe}}return xe}(se,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function X(se,W){for(var xe=0;xe<W.length;xe++){var q=W[xe];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(se,q.key,q)}}return function(se,W,xe){return W&&X(se.prototype,W),xe&&X(se,xe),se}}(),C=M(d(2)),I=M(d(0)),y=M(d(5)),$=M(d(10)),O=M(d(9));function M(X){return X&&X.__esModule?X:{default:X}}function F(X,se){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!se||"object"!=typeof se&&"function"!=typeof se?X:se}var ue=(0,$.default)("quill:toolbar"),ce=function(X){function se(W,xe){!function U(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")}(this,se);var Xe,q=F(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,W,xe));if(Array.isArray(q.options.container)){var Ae=document.createElement("div");be(Ae,q.options.container),W.container.parentNode.insertBefore(Ae,W.container),q.container=Ae}else q.container="string"==typeof q.options.container?document.querySelector(q.options.container):q.options.container;return q.container instanceof HTMLElement?(q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(yt){q.addHandler(yt,q.options.handlers[yt])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(yt){q.attach(yt)}),q.quill.on(y.default.events.EDITOR_CHANGE,function(yt,Je){yt===y.default.events.SELECTION_CHANGE&&q.update(Je)}),q.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){var yt=q.quill.selection.getRange(),Je=A(yt,1);q.update(Je[0])}),q):(Xe=ue.error("Container required for toolbar",q.options),F(q,Xe))}return function J(X,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(X,se):X.__proto__=se)}(se,X),w(se,[{key:"addHandler",value:function(xe,q){this.handlers[xe]=q}},{key:"attach",value:function(xe){var q=this,Ae=[].find.call(xe.classList,function(yt){return 0===yt.indexOf("ql-")});if(Ae){if(Ae=Ae.slice(3),"BUTTON"===xe.tagName&&xe.setAttribute("type","button"),null==this.handlers[Ae]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[Ae])return void ue.warn("ignoring attaching to disabled format",Ae,xe);if(null==I.default.query(Ae))return void ue.warn("ignoring attaching to nonexistent format",Ae,xe)}xe.addEventListener("SELECT"===xe.tagName?"change":"click",function(yt){var Je=void 0;if("SELECT"===xe.tagName){if(xe.selectedIndex<0)return;var je=xe.options[xe.selectedIndex];Je=!je.hasAttribute("selected")&&(je.value||!1)}else Je=!xe.classList.contains("ql-active")&&(xe.value||!xe.hasAttribute("value")),yt.preventDefault();q.quill.focus();var K=q.quill.selection.getRange(),ge=A(K,1)[0];if(null!=q.handlers[Ae])q.handlers[Ae].call(q,Je);else if(I.default.query(Ae).prototype instanceof I.default.Embed){if(!(Je=prompt("Enter "+Ae)))return;q.quill.updateContents((new C.default).retain(ge.index).delete(ge.length).insert(function L(X,se,W){return se in X?Object.defineProperty(X,se,{value:W,enumerable:!0,configurable:!0,writable:!0}):X[se]=W,X}({},Ae,Je)),y.default.sources.USER)}else q.quill.format(Ae,Je,y.default.sources.USER);q.update(ge)}),this.controls.push([Ae,xe])}}},{key:"update",value:function(xe){var q=null==xe?{}:this.quill.getFormat(xe);this.controls.forEach(function(Ae){var Xe=A(Ae,2),yt=Xe[0],Je=Xe[1];if("SELECT"===Je.tagName){var je=void 0;if(null==xe)je=null;else if(null==q[yt])je=Je.querySelector("option[selected]");else if(!Array.isArray(q[yt])){var K=q[yt];"string"==typeof K&&(K=K.replace(/\"/g,'\\"')),je=Je.querySelector('option[value="'+K+'"]')}null==je?(Je.value="",Je.selectedIndex=-1):je.selected=!0}else if(null==xe)Je.classList.remove("ql-active");else if(Je.hasAttribute("value")){var oe=q[yt]===Je.getAttribute("value")||null!=q[yt]&&q[yt].toString()===Je.getAttribute("value")||null==q[yt]&&!Je.getAttribute("value");Je.classList.toggle("ql-active",oe)}else Je.classList.toggle("ql-active",null!=q[yt])})}}]),se}(O.default);function re(X,se,W){var xe=document.createElement("button");xe.setAttribute("type","button"),xe.classList.add("ql-"+se),null!=W&&(xe.value=W),X.appendChild(xe)}function be(X,se){Array.isArray(se[0])||(se=[se]),se.forEach(function(W){var xe=document.createElement("span");xe.classList.add("ql-formats"),W.forEach(function(q){if("string"==typeof q)re(xe,q);else{var Ae=Object.keys(q)[0],Xe=q[Ae];Array.isArray(Xe)?function j(X,se,W){var xe=document.createElement("select");xe.classList.add("ql-"+se),W.forEach(function(q){var Ae=document.createElement("option");!1!==q?Ae.setAttribute("value",q):Ae.setAttribute("selected","selected"),xe.appendChild(Ae)}),X.appendChild(xe)}(xe,Ae,Xe):re(xe,Ae,Xe)}}),X.appendChild(xe)})}ce.DEFAULTS={},ce.DEFAULTS={container:null,handlers:{clean:function(){var se=this,W=this.quill.getSelection();if(null!=W)if(0==W.length){var xe=this.quill.getFormat();Object.keys(xe).forEach(function(q){null!=I.default.query(q,I.default.Scope.INLINE)&&se.quill.format(q,!1)})}else this.quill.removeFormat(W,y.default.sources.USER)},direction:function(se){var W=this.quill.getFormat().align;"rtl"===se&&null==W?this.quill.format("align","right",y.default.sources.USER):!se&&"right"===W&&this.quill.format("align",!1,y.default.sources.USER),this.quill.format("direction",se,y.default.sources.USER)},indent:function(se){var W=this.quill.getSelection(),xe=this.quill.getFormat(W),q=parseInt(xe.indent||0);if("+1"===se||"-1"===se){var Ae="+1"===se?1:-1;"rtl"===xe.direction&&(Ae*=-1),this.quill.format("indent",q+Ae,y.default.sources.USER)}},link:function(se){!0===se&&(se=prompt("Enter link URL:")),this.quill.format("link",se,y.default.sources.USER)},list:function(se){var W=this.quill.getSelection(),xe=this.quill.getFormat(W);this.quill.format("list","check"===se?"checked"!==xe.list&&"unchecked"!==xe.list&&"unchecked":se,y.default.sources.USER)}}},_.default=ce,_.addControls=be},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:$(U,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(O,M){!function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R);var L=function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return L.label.innerHTML=M,L.container.classList.add("ql-color-picker"),[].slice.call(L.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(U){U.classList.add("ql-primary")}),L}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"buildItem",value:function(M){var L=w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"buildItem",this).call(this,M);return L.style.backgroundColor=M.getAttribute("value")||"",L}},{key:"selectItem",value:function(M,L){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"selectItem",this).call(this,M,L);var U=this.label.querySelector(".ql-color-label"),F=M&&M.getAttribute("data-value")||"";U&&("line"===U.tagName?U.style.stroke=F:U.style.fill=F)}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(28)).default);_.default=x},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:$(U,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(O,M){!function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R);var L=function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,O));return L.container.classList.add("ql-icon-picker"),[].forEach.call(L.container.querySelectorAll(".ql-picker-item"),function(U){U.innerHTML=M[U.getAttribute("data-value")||""]}),L.defaultItem=L.container.querySelector(".ql-selected"),L.selectItem(L.defaultItem),L}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,[{key:"selectItem",value:function(M,L){w(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"selectItem",this).call(this,M,L),this.label.innerHTML=(M=M||this.defaultItem).innerHTML}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(28)).default);_.default=x},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function C(S,I){for(var E=0;E<I.length;E++){var y=I[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}return function(S,I,E){return I&&C(S.prototype,I),E&&C(S,E),S}}();var D=function(){function C(S,I){var E=this;(function w(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,C),this.quill=S,this.boundsContainer=I||document.body,this.root=S.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){E.root.style.marginTop=-1*E.quill.root.scrollTop+"px"}),this.hide()}return A(C,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(I){var E=I.left+I.width/2-this.root.offsetWidth/2,y=I.bottom+this.quill.root.scrollTop;this.root.style.left=E+"px",this.root.style.top=y+"px",this.root.classList.remove("ql-flip");var x=this.boundsContainer.getBoundingClientRect(),$=this.root.getBoundingClientRect(),R=0;return $.right>x.right&&(this.root.style.left=E+(R=x.right-$.right)+"px"),$.left<x.left&&(this.root.style.left=E+(R=x.left-$.left)+"px"),$.bottom>x.bottom&&(this.root.style.top=y-(I.bottom-I.top+($.bottom-$.top))+"px",this.root.classList.add("ql-flip")),R}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),C}();_.default=D},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){return function(X,se){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return function j(X,se){var W=[],xe=!0,q=!1,Ae=void 0;try{for(var yt,Xe=X[Symbol.iterator]();!(xe=(yt=Xe.next()).done)&&(W.push(yt.value),!se||W.length!==se);xe=!0);}catch(Je){q=!0,Ae=Je}finally{try{!xe&&Xe.return&&Xe.return()}finally{if(q)throw Ae}}return W}(X,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function j(X,se,W){null===X&&(X=Function.prototype);var xe=Object.getOwnPropertyDescriptor(X,se);if(void 0===xe){var q=Object.getPrototypeOf(X);return null===q?void 0:j(q,se,W)}if("value"in xe)return xe.value;var Ae=xe.get;return void 0===Ae?void 0:Ae.call(W)},D=function(){function j(X,se){for(var W=0;W<se.length;W++){var xe=se[W];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(X,xe.key,xe)}}return function(X,se,W){return se&&j(X.prototype,se),W&&j(X,W),X}}(),S=U(d(3)),E=U(d(8)),y=d(43),x=U(y),R=U(d(27)),O=d(15),L=U(d(41));function U(j){return j&&j.__esModule?j:{default:j}}function F(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")}function J(j,X){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?j:X}function ue(j,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function, not "+typeof X);j.prototype=Object.create(X&&X.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(j,X):j.__proto__=X)}var ce=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],re=function(j){function X(se,W){F(this,X),null!=W.modules.toolbar&&null==W.modules.toolbar.container&&(W.modules.toolbar.container=ce);var xe=J(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,se,W));return xe.quill.container.classList.add("ql-snow"),xe}return ue(X,j),D(X,[{key:"extendToolbar",value:function(W){W.container.classList.add("ql-snow"),this.buildButtons([].slice.call(W.container.querySelectorAll("button")),L.default),this.buildPickers([].slice.call(W.container.querySelectorAll("select")),L.default),this.tooltip=new be(this.quill,this.options.bounds),W.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(xe,q){W.handlers.link.call(W,!q.format.link)})}}]),X}(x.default);re.DEFAULTS=(0,S.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(X){if(X){var se=this.quill.getSelection();if(null==se||0==se.length)return;var W=this.quill.getText(se);/^\S+@\S+\.\S+$/.test(W)&&0!==W.indexOf("mailto:")&&(W="mailto:"+W),this.quill.theme.tooltip.edit("link",W)}else this.quill.format("link",!1)}}}}});var be=function(j){function X(se,W){F(this,X);var xe=J(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,se,W));return xe.preview=xe.root.querySelector("a.ql-preview"),xe}return ue(X,j),D(X,[{key:"listen",value:function(){var W=this;w(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(xe){W.root.classList.contains("ql-editing")?W.save():W.edit("link",W.preview.textContent),xe.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(xe){if(null!=W.linkRange){var q=W.linkRange;W.restoreFocus(),W.quill.formatText(q,"link",!1,E.default.sources.USER),delete W.linkRange}xe.preventDefault(),W.hide()}),this.quill.on(E.default.events.SELECTION_CHANGE,function(xe,q,Ae){if(null!=xe){if(0===xe.length&&Ae===E.default.sources.USER){var Xe=W.quill.scroll.descendant(R.default,xe.index),yt=A(Xe,2),Je=yt[0];if(null!=Je){W.linkRange=new O.Range(xe.index-yt[1],Je.length());var K=R.default.formats(Je.domNode);return W.preview.textContent=K,W.preview.setAttribute("href",K),W.show(),void W.position(W.quill.getBounds(W.linkRange))}}else delete W.linkRange;W.hide()}})}},{key:"show",value:function(){w(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),X}(y.BaseTooltip);be.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),_.default=re},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var w=Ut(d(29)),D=d(36),C=d(38),S=d(64),E=Ut(d(65)),x=Ut(d(66)),$=d(67),R=Ut($),O=d(37),M=d(26),L=d(39),U=d(40),J=Ut(d(56)),ce=Ut(d(68)),be=Ut(d(27)),X=Ut(d(69)),W=Ut(d(70)),q=Ut(d(71)),Xe=Ut(d(72)),Je=Ut(d(73)),je=d(13),K=Ut(je),ge=Ut(d(74)),Ne=Ut(d(75)),Qe=Ut(d(57)),Ce=Ut(d(41)),Vt=Ut(d(28)),Ot=Ut(d(59)),Oe=Ut(d(60)),vt=Ut(d(61)),at=Ut(d(108)),Nt=Ut(d(62));function Ut(wt){return wt&&wt.__esModule?wt:{default:wt}}w.default.register({"attributors/attribute/direction":C.DirectionAttribute,"attributors/class/align":D.AlignClass,"attributors/class/background":O.BackgroundClass,"attributors/class/color":M.ColorClass,"attributors/class/direction":C.DirectionClass,"attributors/class/font":L.FontClass,"attributors/class/size":U.SizeClass,"attributors/style/align":D.AlignStyle,"attributors/style/background":O.BackgroundStyle,"attributors/style/color":M.ColorStyle,"attributors/style/direction":C.DirectionStyle,"attributors/style/font":L.FontStyle,"attributors/style/size":U.SizeStyle},!0),w.default.register({"formats/align":D.AlignClass,"formats/direction":C.DirectionClass,"formats/indent":S.IndentClass,"formats/background":O.BackgroundStyle,"formats/color":M.ColorStyle,"formats/font":L.FontClass,"formats/size":U.SizeClass,"formats/blockquote":E.default,"formats/code-block":K.default,"formats/header":x.default,"formats/list":R.default,"formats/bold":J.default,"formats/code":je.Code,"formats/italic":ce.default,"formats/link":be.default,"formats/script":X.default,"formats/strike":W.default,"formats/underline":q.default,"formats/image":Xe.default,"formats/video":Je.default,"formats/list/item":$.ListItem,"modules/formula":ge.default,"modules/syntax":Ne.default,"modules/toolbar":Qe.default,"themes/bubble":at.default,"themes/snow":Nt.default,"ui/icons":Ce.default,"ui/picker":Vt.default,"ui/icon-picker":Oe.default,"ui/color-picker":Ot.default,"ui/tooltip":vt.default},!0),_.default=w.default},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.IndentClass=void 0;var A=function(){function R(O,M){for(var L=0;L<M.length;L++){var U=M[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,M,L){return M&&R(O.prototype,M),L&&R(O,L),O}}(),w=function R(O,M,L){null===O&&(O=Function.prototype);var U=Object.getOwnPropertyDescriptor(O,M);if(void 0===U){var F=Object.getPrototypeOf(O);return null===F?void 0:R(F,M,L)}if("value"in U)return U.value;var J=U.get;return void 0===J?void 0:J.call(L)},C=function S(R){return R&&R.__esModule?R:{default:R}}(d(0));var x=function(R){function O(){return function I(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function E(R,O){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?R:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(R,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(R,O):R.__proto__=O)}(O,R),A(O,[{key:"add",value:function(L,U){if("+1"===U||"-1"===U){var F=this.value(L)||0;U="+1"===U?F+1:F-1}return 0===U?(this.remove(L),!0):w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"add",this).call(this,L,U)}},{key:"canAdd",value:function(L,U){return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,L,U)||w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"canAdd",this).call(this,L,parseInt(U))}},{key:"value",value:function(L){return parseInt(w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,L))||void 0}}]),O}(C.default.Attributor.Class),$=new x("indent","ql-indent",{scope:C.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});_.IndentClass=$},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(4)).default);E.blotName="blockquote",E.tagName="blockquote",_.default=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function x($,R){for(var O=0;O<R.length;O++){var M=R[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty($,M.key,M)}}return function($,R,O){return R&&x($.prototype,R),O&&x($,O),$}}();var y=function(x){function $(){return function S(x,$){if(!(x instanceof $))throw new TypeError("Cannot call a class as a function")}(this,$),function I(x,$){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?x:$}(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return function E(x,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);x.prototype=Object.create($&&$.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(x,$):x.__proto__=$)}($,x),A($,null,[{key:"formats",value:function(O){return this.tagName.indexOf(O.tagName)+1}}]),$}(function C(x){return x&&x.__esModule?x:{default:x}}(d(4)).default);y.blotName="header",y.tagName=["H1","H2","H3","H4","H5","H6"],_.default=y},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.ListItem=void 0;var A=function(){function F(J,ue){for(var ce=0;ce<ue.length;ce++){var re=ue[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(J,re.key,re)}}return function(J,ue,ce){return ue&&F(J.prototype,ue),ce&&F(J,ce),J}}(),w=function F(J,ue,ce){null===J&&(J=Function.prototype);var re=Object.getOwnPropertyDescriptor(J,ue);if(void 0===re){var be=Object.getPrototypeOf(J);return null===be?void 0:F(be,ue,ce)}if("value"in re)return re.value;var j=re.get;return void 0===j?void 0:j.call(ce)},C=x(d(0)),I=x(d(4)),y=x(d(25));function x(F){return F&&F.__esModule?F:{default:F}}function R(F,J){if(!(F instanceof J))throw new TypeError("Cannot call a class as a function")}function O(F,J){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!J||"object"!=typeof J&&"function"!=typeof J?F:J}function M(F,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);F.prototype=Object.create(J&&J.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(F,J):F.__proto__=J)}var L=function(F){function J(){return R(this,J),O(this,(J.__proto__||Object.getPrototypeOf(J)).apply(this,arguments))}return M(J,F),A(J,[{key:"format",value:function(ce,re){ce!==U.blotName||re?w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"format",this).call(this,ce,re):this.replaceWith(C.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(ce,re){return this.parent.isolate(this.offset(this.parent),this.length()),ce===this.parent.statics.blotName?(this.parent.replaceWith(ce,re),this):(this.parent.unwrap(),w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"replaceWith",this).call(this,ce,re))}}],[{key:"formats",value:function(ce){return ce.tagName===this.tagName?void 0:w(J.__proto__||Object.getPrototypeOf(J),"formats",this).call(this,ce)}}]),J}(I.default);L.blotName="list-item",L.tagName="LI";var U=function(F){function J(ue){R(this,J);var ce=O(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ue)),re=function(j){if(j.target.parentNode===ue){var X=ce.statics.formats(ue),se=C.default.find(j.target);"checked"===X?se.format("list","unchecked"):"unchecked"===X&&se.format("list","checked")}};return ue.addEventListener("touchstart",re),ue.addEventListener("mousedown",re),ce}return M(J,F),A(J,null,[{key:"create",value:function(ce){var re="ordered"===ce?"OL":"UL",be=w(J.__proto__||Object.getPrototypeOf(J),"create",this).call(this,re);return("checked"===ce||"unchecked"===ce)&&be.setAttribute("data-checked","checked"===ce),be}},{key:"formats",value:function(ce){return"OL"===ce.tagName?"ordered":"UL"===ce.tagName?ce.hasAttribute("data-checked")?"true"===ce.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),A(J,[{key:"format",value:function(ce,re){this.children.length>0&&this.children.tail.format(ce,re)}},{key:"formats",value:function(){return function $(F,J,ue){return J in F?Object.defineProperty(F,J,{value:ue,enumerable:!0,configurable:!0,writable:!0}):F[J]=ue,F}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(ce,re){if(ce instanceof L)w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"insertBefore",this).call(this,ce,re);else{var be=null==re?this.length():re.offset(this),j=this.split(be);j.parent.insertBefore(ce,j)}}},{key:"optimize",value:function(ce){w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"optimize",this).call(this,ce);var re=this.next;null!=re&&re.prev===this&&re.statics.blotName===this.statics.blotName&&re.domNode.tagName===this.domNode.tagName&&re.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(re.moveChildren(this),re.remove())}},{key:"replace",value:function(ce){if(ce.statics.blotName!==this.statics.blotName){var re=C.default.create(this.statics.defaultChild);ce.moveChildren(re),this.appendChild(re)}w(J.prototype.__proto__||Object.getPrototypeOf(J.prototype),"replace",this).call(this,ce)}}]),J}(y.default);U.blotName="list",U.scope=C.default.Scope.BLOCK_BLOT,U.tagName=["OL","UL"],U.defaultChild="list-item",U.allowedChildren=[L],_.ListItem=L,_.default=U},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(56)).default);E.blotName="italic",E.tagName=["EM","I"],_.default=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function $(R,O){for(var M=0;M<O.length;M++){var L=O[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,O,M){return O&&$(R.prototype,O),M&&$(R,M),R}}(),w=function $(R,O,M){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,O);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:$(U,O,M)}if("value"in L)return L.value;var F=L.get;return void 0===F?void 0:F.call(M)};var x=function($){function R(){return function I($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function E($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?$:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function y($,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}(R,$),A(R,null,[{key:"create",value:function(M){return"super"===M?document.createElement("sup"):"sub"===M?document.createElement("sub"):w(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,M)}},{key:"formats",value:function(M){return"SUB"===M.tagName?"sub":"SUP"===M.tagName?"super":void 0}}]),R}(function S($){return $&&$.__esModule?$:{default:$}}(d(6)).default);x.blotName="script",x.tagName=["SUB","SUP"],_.default=x},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(6)).default);E.blotName="strike",E.tagName="S",_.default=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var E=function(y){function x(){return function C(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function S(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return function I(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),x}(function D(y){return y&&y.__esModule?y:{default:y}}(d(6)).default);E.blotName="underline",E.tagName="U",_.default=E},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var U=0;U<L.length;U++){var F=L[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,U){return L&&O(M.prototype,L),U&&O(M,U),M}}(),w=function O(M,L,U){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,U)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(U)},C=function I(O){return O&&O.__esModule?O:{default:O}}(d(0)),S=d(27);var $=["alt","height","width"],R=function(O){function M(){return function E(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function y(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function x(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"format",value:function(U,F){$.indexOf(U)>-1?F?this.domNode.setAttribute(U,F):this.domNode.removeAttribute(U):w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,U,F)}}],[{key:"create",value:function(U){var F=w(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,U);return"string"==typeof U&&F.setAttribute("src",this.sanitize(U)),F}},{key:"formats",value:function(U){return $.reduce(function(F,J){return U.hasAttribute(J)&&(F[J]=U.getAttribute(J)),F},{})}},{key:"match",value:function(U){return/\.(jpe?g|gif|png)$/.test(U)||/^data:image\/.+;base64/.test(U)}},{key:"sanitize",value:function(U){return(0,S.sanitize)(U,["http","https","data"])?U:"//:0"}},{key:"value",value:function(U){return U.getAttribute("src")}}]),M}(C.default.Embed);R.blotName="image",R.tagName="IMG",_.default=R},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function O(M,L){for(var U=0;U<L.length;U++){var F=L[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}return function(M,L,U){return L&&O(M.prototype,L),U&&O(M,U),M}}(),w=function O(M,L,U){null===M&&(M=Function.prototype);var F=Object.getOwnPropertyDescriptor(M,L);if(void 0===F){var J=Object.getPrototypeOf(M);return null===J?void 0:O(J,L,U)}if("value"in F)return F.value;var ue=F.get;return void 0===ue?void 0:ue.call(U)},D=d(4),S=function I(O){return O&&O.__esModule?O:{default:O}}(d(27));var $=["height","width"],R=function(O){function M(){return function E(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M),function y(O,M){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?O:M}(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return function x(O,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(O,M):O.__proto__=M)}(M,O),A(M,[{key:"format",value:function(U,F){$.indexOf(U)>-1?F?this.domNode.setAttribute(U,F):this.domNode.removeAttribute(U):w(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,U,F)}}],[{key:"create",value:function(U){var F=w(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,U);return F.setAttribute("frameborder","0"),F.setAttribute("allowfullscreen",!0),F.setAttribute("src",this.sanitize(U)),F}},{key:"formats",value:function(U){return $.reduce(function(F,J){return U.hasAttribute(J)&&(F[J]=U.getAttribute(J)),F},{})}},{key:"sanitize",value:function(U){return S.default.sanitize(U)}},{key:"value",value:function(U){return U.getAttribute("src")}}]),M}(D.BlockEmbed);R.blotName="video",R.className="ql-video",R.tagName="IFRAME",_.default=R},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.FormulaBlot=void 0;var A=function(){function U(F,J){for(var ue=0;ue<J.length;ue++){var ce=J[ue];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(F,ce.key,ce)}}return function(F,J,ue){return J&&U(F.prototype,J),ue&&U(F,ue),F}}(),w=function U(F,J,ue){null===F&&(F=Function.prototype);var ce=Object.getOwnPropertyDescriptor(F,J);if(void 0===ce){var re=Object.getPrototypeOf(F);return null===re?void 0:U(re,J,ue)}if("value"in ce)return ce.value;var be=ce.get;return void 0===be?void 0:be.call(ue)},C=x(d(35)),I=x(d(5)),y=x(d(9));function x(U){return U&&U.__esModule?U:{default:U}}function $(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}function R(U,F){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?U:F}function O(U,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(U,F):U.__proto__=F)}var M=function(U){function F(){return $(this,F),R(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return O(F,U),A(F,null,[{key:"create",value:function(ue){var ce=w(F.__proto__||Object.getPrototypeOf(F),"create",this).call(this,ue);return"string"==typeof ue&&(window.katex.render(ue,ce,{throwOnError:!1,errorColor:"#f00"}),ce.setAttribute("data-value",ue)),ce}},{key:"value",value:function(ue){return ue.getAttribute("data-value")}}]),F}(C.default);M.blotName="formula",M.className="ql-formula",M.tagName="SPAN";var L=function(U){function F(){$(this,F);var J=R(this,(F.__proto__||Object.getPrototypeOf(F)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return J}return O(F,U),A(F,null,[{key:"register",value:function(){I.default.register(M,!0)}}]),F}(y.default);_.FormulaBlot=M,_.default=L},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.CodeToken=_.CodeBlock=void 0;var A=function(){function ue(ce,re){for(var be=0;be<re.length;be++){var j=re[be];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ce,j.key,j)}}return function(ce,re,be){return re&&ue(ce.prototype,re),be&&ue(ce,be),ce}}(),w=function ue(ce,re,be){null===ce&&(ce=Function.prototype);var j=Object.getOwnPropertyDescriptor(ce,re);if(void 0===j){var X=Object.getPrototypeOf(ce);return null===X?void 0:ue(X,re,be)}if("value"in j)return j.value;var se=j.get;return void 0===se?void 0:se.call(be)},C=R(d(0)),I=R(d(5)),y=R(d(9));function R(ue){return ue&&ue.__esModule?ue:{default:ue}}function O(ue,ce){if(!(ue instanceof ce))throw new TypeError("Cannot call a class as a function")}function M(ue,ce){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||"object"!=typeof ce&&"function"!=typeof ce?ue:ce}function L(ue,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);ue.prototype=Object.create(ce&&ce.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,ce):ue.__proto__=ce)}var U=function(ue){function ce(){return O(this,ce),M(this,(ce.__proto__||Object.getPrototypeOf(ce)).apply(this,arguments))}return L(ce,ue),A(ce,[{key:"replaceWith",value:function(be){this.domNode.textContent=this.domNode.textContent,this.attach(),w(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),"replaceWith",this).call(this,be)}},{key:"highlight",value:function(be){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=be(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),ce}(R(d(13)).default);U.className="ql-syntax";var F=new C.default.Attributor.Class("token","hljs",{scope:C.default.Scope.INLINE}),J=function(ue){function ce(re,be){O(this,ce);var j=M(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,re,be));if("function"!=typeof j.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var X=null;return j.quill.on(I.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(X),X=setTimeout(function(){j.highlight(),X=null},j.options.interval)}),j.highlight(),j}return L(ce,ue),A(ce,null,[{key:"register",value:function(){I.default.register(F,!0),I.default.register(U,!0)}}]),A(ce,[{key:"highlight",value:function(){var be=this;if(!this.quill.selection.composing){this.quill.update(I.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(U).forEach(function(X){X.highlight(be.options.highlight)}),this.quill.update(I.default.sources.SILENT),null!=j&&this.quill.setSelection(j,I.default.sources.SILENT)}}}]),ce}(y.default);J.DEFAULTS={highlight:null==window.hljs?null:function(ue){return window.hljs.highlightAuto(ue).value},interval:1e3},_.CodeBlock=U,_.CodeToken=F,_.default=J},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(Re,_){Re.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(Re,_){Re.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(Re,_){Re.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(Re,_){Re.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(Re,_){Re.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(Re,_,d){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BubbleTooltip=void 0;var A=function ce(re,be,j){null===re&&(re=Function.prototype);var X=Object.getOwnPropertyDescriptor(re,be);if(void 0===X){var se=Object.getPrototypeOf(re);return null===se?void 0:ce(se,be,j)}if("value"in X)return X.value;var W=X.get;return void 0===W?void 0:W.call(j)},w=function(){function ce(re,be){for(var j=0;j<be.length;j++){var X=be[j];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(re,X.key,X)}}return function(re,be,j){return be&&ce(re.prototype,be),j&&ce(re,j),re}}(),C=O(d(3)),I=O(d(8)),E=d(43),y=O(E),x=d(15),R=O(d(41));function O(ce){return ce&&ce.__esModule?ce:{default:ce}}function M(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")}function L(ce,re){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||"object"!=typeof re&&"function"!=typeof re?ce:re}function U(ce,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function, not "+typeof re);ce.prototype=Object.create(re&&re.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,re):ce.__proto__=re)}var F=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],J=function(ce){function re(be,j){M(this,re),null!=j.modules.toolbar&&null==j.modules.toolbar.container&&(j.modules.toolbar.container=F);var X=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,be,j));return X.quill.container.classList.add("ql-bubble"),X}return U(re,ce),w(re,[{key:"extendToolbar",value:function(j){this.tooltip=new ue(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),R.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),R.default)}}]),re}(y.default);J.DEFAULTS=(0,C.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(re){re?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var ue=function(ce){function re(be,j){M(this,re);var X=L(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,be,j));return X.quill.on(I.default.events.EDITOR_CHANGE,function(se,W,xe,q){if(se===I.default.events.SELECTION_CHANGE)if(null!=W&&W.length>0&&q===I.default.sources.USER){X.show(),X.root.style.left="0px",X.root.style.width="",X.root.style.width=X.root.offsetWidth+"px";var Ae=X.quill.getLines(W.index,W.length);if(1===Ae.length)X.position(X.quill.getBounds(W));else{var Xe=Ae[Ae.length-1],yt=X.quill.getIndex(Xe),Je=Math.min(Xe.length()-1,W.index+W.length-yt),je=X.quill.getBounds(new x.Range(yt,Je));X.position(je)}}else document.activeElement!==X.textbox&&X.quill.hasFocus()&&X.hide()}),X}return U(re,ce),w(re,[{key:"listen",value:function(){var j=this;A(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(I.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var X=j.quill.getSelection();null!=X&&j.position(j.quill.getBounds(X))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var X=A(re.prototype.__proto__||Object.getPrototypeOf(re.prototype),"position",this).call(this,j),se=this.root.querySelector(".ql-tooltip-arrow");if(se.style.marginLeft="",0===X)return X;se.style.marginLeft=-1*X-se.offsetWidth/2+"px"}}]),re}(E.BaseTooltip);ue.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),_.BubbleTooltip=ue,_.default=J},function(Re,_,d){Re.exports=d(63)}]).default},521:(hn,Re,_)=>{"use strict";_.d(Re,{t:()=>w});var d=_(3119),A=_(3586);class w extends d.B7{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const S=super._subscribe(C);return S&&!S.closed&&C.next(this._value),S}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A.P;return this._value}next(C){super.next(this._value=C)}}},1500:(hn,Re,_)=>{"use strict";_.d(Re,{E:()=>C});var d=_(4380),A=_(1536),w=_(6651);class C{constructor(I,E,y){this.kind=I,this.value=E,this.error=y,this.hasValue="N"===I}observe(I){switch(this.kind){case"N":return I.next&&I.next(this.value);case"E":return I.error&&I.error(this.error);case"C":return I.complete&&I.complete()}}do(I,E,y){switch(this.kind){case"N":return I&&I(this.value);case"E":return E&&E(this.error);case"C":return y&&y()}}accept(I,E,y){return I&&"function"==typeof I.next?this.observe(I):this.do(I,E,y)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return(0,w.$)(this.error);case"C":return(0,d.I)()}throw new Error("unexpected notification kind value")}static createNext(I){return typeof I<"u"?new C("N",I):C.undefinedValueNotification}static createError(I){return new C("E",void 0,I)}static createComplete(){return C.completeNotification}}C.completeNotification=new C("C"),C.undefinedValueNotification=new C("N",void 0)},434:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>y});var d=_(8097),w=_(5230),D=_(181),S=_(9291),I=_(782),E=_(897);let y=(()=>{class ${constructor(O){this._isScalar=!1,O&&(this._subscribe=O)}lift(O){const M=new $;return M.source=this,M.operator=O,M}subscribe(O,M,L){const{operator:U}=this,F=function C($,R,O){if($){if($ instanceof d.v)return $;if($[w.D])return $[w.D]()}return $||R||O?new d.v($,R,O):new d.v(D.I)}(O,M,L);if(F.add(U?U.call(F,this.source):this.source||E.$.useDeprecatedSynchronousErrorHandling&&!F.syncErrorThrowable?this._subscribe(F):this._trySubscribe(F)),E.$.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable&&(F.syncErrorThrowable=!1,F.syncErrorThrown))throw F.syncErrorValue;return F}_trySubscribe(O){try{return this._subscribe(O)}catch(M){E.$.useDeprecatedSynchronousErrorHandling&&(O.syncErrorThrown=!0,O.syncErrorValue=M),function A($){for(;$;){const{closed:R,destination:O,isStopped:M}=$;if(R||M)return!1;$=O&&O instanceof d.v?O:null}return!0}(O)?O.error(M):console.warn(M)}}forEach(O,M){return new(M=x(M))((L,U)=>{let F;F=this.subscribe(J=>{try{O(J)}catch(ue){U(ue),F&&F.unsubscribe()}},U,L)})}_subscribe(O){const{source:M}=this;return M&&M.subscribe(O)}[S.s](){return this}pipe(...O){return 0===O.length?this:(0,I.m)(O)(this)}toPromise(O){return new(O=x(O))((M,L)=>{let U;this.subscribe(F=>U=F,F=>L(F),()=>M(U))})}}return $.create=R=>new $(R),$})();function x($){if($||($=E.$.Promise||Promise),!$)throw new Error("no Promise impl found");return $}},181:(hn,Re,_)=>{"use strict";_.d(Re,{I:()=>w});var d=_(897),A=_(9570);const w={closed:!0,next(D){},error(D){if(d.$.useDeprecatedSynchronousErrorHandling)throw D;(0,A.T)(D)},complete(){}}},7675:(hn,Re,_)=>{"use strict";_.d(Re,{m:()=>F});var d=_(3119),A=_(6244),D=_(2059);const I=new class C extends D.q{}(class w extends A.R{constructor(ce,re){super(ce,re),this.scheduler=ce,this.work=re}schedule(ce,re=0){return re>0?super.schedule(ce,re):(this.delay=re,this.state=ce,this.scheduler.flush(this),this)}execute(ce,re){return re>0||this.closed?super.execute(ce,re):this._execute(ce,re)}requestAsyncId(ce,re,be=0){return null!==be&&be>0||null===be&&this.delay>0?super.requestAsyncId(ce,re,be):ce.flush(this)}});var E=_(2672),y=_(8097),x=_(1500);class O extends y.v{constructor(ce,re,be=0){super(ce),this.scheduler=re,this.delay=be}static dispatch(ce){const{notification:re,destination:be}=ce;re.observe(be),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(O.dispatch,this.delay,new M(ce,this.destination)))}_next(ce){this.scheduleMessage(x.E.createNext(ce))}_error(ce){this.scheduleMessage(x.E.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(x.E.createComplete()),this.unsubscribe()}}class M{constructor(ce,re){this.notification=ce,this.destination=re}}var L=_(3586),U=_(8402);class F extends d.B7{constructor(ce=Number.POSITIVE_INFINITY,re=Number.POSITIVE_INFINITY,be){super(),this.scheduler=be,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ce<1?1:ce,this._windowTime=re<1?1:re,re===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ce){if(!this.isStopped){const re=this._events;re.push(ce),re.length>this._bufferSize&&re.shift()}super.next(ce)}nextTimeWindow(ce){this.isStopped||(this._events.push(new J(this._getNow(),ce)),this._trimBufferThenGetEvents()),super.next(ce)}_subscribe(ce){const re=this._infiniteTimeWindow,be=re?this._events:this._trimBufferThenGetEvents(),j=this.scheduler,X=be.length;let se;if(this.closed)throw new L.P;if(this.isStopped||this.hasError?se=E.y.EMPTY:(this.observers.push(ce),se=new U.Y(this,ce)),j&&ce.add(ce=new O(ce,j)),re)for(let W=0;W<X&&!ce.closed;W++)ce.next(be[W]);else for(let W=0;W<X&&!ce.closed;W++)ce.next(be[W].value);return this.hasError?ce.error(this.thrownError):this.isStopped&&ce.complete(),se}_getNow(){return(this.scheduler||I).now()}_trimBufferThenGetEvents(){const ce=this._getNow(),re=this._bufferSize,be=this._windowTime,j=this._events,X=j.length;let se=0;for(;se<X&&!(ce-j[se].time<be);)se++;return X>re&&(se=Math.max(se,X-re)),se>0&&j.splice(0,se),j}}class J{constructor(ce,re){this.time=ce,this.value=re}}},3119:(hn,Re,_)=>{"use strict";_.d(Re,{B7:()=>E,PJ:()=>I,kQ:()=>y});var d=_(434),A=_(8097),w=_(2672),D=_(3586),C=_(8402),S=_(5230);class I extends A.v{constructor($){super($),this.destination=$}}let E=(()=>{class x extends d.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[S.D](){return new I(this)}lift(R){const O=new y(this,this);return O.operator=R,O}next(R){if(this.closed)throw new D.P;if(!this.isStopped){const{observers:O}=this,M=O.length,L=O.slice();for(let U=0;U<M;U++)L[U].next(R)}}error(R){if(this.closed)throw new D.P;this.hasError=!0,this.thrownError=R,this.isStopped=!0;const{observers:O}=this,M=O.length,L=O.slice();for(let U=0;U<M;U++)L[U].error(R);this.observers.length=0}complete(){if(this.closed)throw new D.P;this.isStopped=!0;const{observers:R}=this,O=R.length,M=R.slice();for(let L=0;L<O;L++)M[L].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(R){if(this.closed)throw new D.P;return super._trySubscribe(R)}_subscribe(R){if(this.closed)throw new D.P;return this.hasError?(R.error(this.thrownError),w.y.EMPTY):this.isStopped?(R.complete(),w.y.EMPTY):(this.observers.push(R),new C.Y(this,R))}asObservable(){const R=new d.c;return R.source=this,R}}return x.create=($,R)=>new y($,R),x})();class y extends E{constructor($,R){super(),this.destination=$,this.source=R}next($){const{destination:R}=this;R&&R.next&&R.next($)}error($){const{destination:R}=this;R&&R.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:R}=this;return R?this.source.subscribe($):w.y.EMPTY}}},8402:(hn,Re,_)=>{"use strict";_.d(Re,{Y:()=>A});var d=_(2672);class A extends d.y{constructor(D,C){super(),this.subject=D,this.subscriber=C,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const D=this.subject,C=D.observers;if(this.subject=null,!C||0===C.length||D.isStopped||D.closed)return;const S=C.indexOf(this.subscriber);-1!==S&&C.splice(S,1)}}},8097:(hn,Re,_)=>{"use strict";_.d(Re,{v:()=>I});var d=_(4526),A=_(181),w=_(2672),D=_(5230),C=_(897),S=_(9570);class I extends w.y{constructor(x,$,R){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=A.I;break;case 1:if(!x){this.destination=A.I;break}if("object"==typeof x){x instanceof I?(this.syncErrorThrowable=x.syncErrorThrowable,this.destination=x,x.add(this)):(this.syncErrorThrowable=!0,this.destination=new E(this,x));break}default:this.syncErrorThrowable=!0,this.destination=new E(this,x,$,R)}}[D.D](){return this}static create(x,$,R){const O=new I(x,$,R);return O.syncErrorThrowable=!1,O}next(x){this.isStopped||this._next(x)}error(x){this.isStopped||(this.isStopped=!0,this._error(x))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(x){this.destination.next(x)}_error(x){this.destination.error(x),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:x}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=x,this}}class E extends I{constructor(x,$,R,O){super(),this._parentSubscriber=x;let M,L=this;(0,d.T)($)?M=$:$&&(M=$.next,R=$.error,O=$.complete,$!==A.I&&(L=Object.create($),(0,d.T)(L.unsubscribe)&&this.add(L.unsubscribe.bind(L)),L.unsubscribe=this.unsubscribe.bind(this))),this._context=L,this._next=M,this._error=R,this._complete=O}next(x){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;C.$.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,x)&&this.unsubscribe():this.__tryOrUnsub(this._next,x)}}error(x){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:R}=C.$;if(this._error)R&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,x),this.unsubscribe()):(this.__tryOrUnsub(this._error,x),this.unsubscribe());else if($.syncErrorThrowable)R?($.syncErrorValue=x,$.syncErrorThrown=!0):(0,S.T)(x),this.unsubscribe();else{if(this.unsubscribe(),R)throw x;(0,S.T)(x)}}}complete(){if(!this.isStopped){const{_parentSubscriber:x}=this;if(this._complete){const $=()=>this._complete.call(this._context);C.$.useDeprecatedSynchronousErrorHandling&&x.syncErrorThrowable?(this.__tryOrSetError(x,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(x,$){try{x.call(this._context,$)}catch(R){if(this.unsubscribe(),C.$.useDeprecatedSynchronousErrorHandling)throw R;(0,S.T)(R)}}__tryOrSetError(x,$,R){if(!C.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,R)}catch(O){return C.$.useDeprecatedSynchronousErrorHandling?(x.syncErrorValue=O,x.syncErrorThrown=!0,!0):((0,S.T)(O),!0)}return!1}_unsubscribe(){const{_parentSubscriber:x}=this;this._context=null,this._parentSubscriber=null,x.unsubscribe()}}},2672:(hn,Re,_)=>{"use strict";_.d(Re,{y:()=>S});var d=_(9869),A=_(1689),w=_(4526);const C=(()=>{function E(y){return Error.call(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((x,$)=>`${$+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y,this}return E.prototype=Object.create(Error.prototype),E})();class S{constructor(y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,y&&(this._ctorUnsubscribe=!0,this._unsubscribe=y)}unsubscribe(){let y;if(this.closed)return;let{_parentOrParents:x,_ctorUnsubscribe:$,_unsubscribe:R,_subscriptions:O}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,x instanceof S)x.remove(this);else if(null!==x)for(let M=0;M<x.length;++M)x[M].remove(this);if((0,w.T)(R)){$&&(this._unsubscribe=void 0);try{R.call(this)}catch(M){y=M instanceof C?I(M.errors):[M]}}if((0,d.c)(O)){let M=-1,L=O.length;for(;++M<L;){const U=O[M];if((0,A.G)(U))try{U.unsubscribe()}catch(F){y=y||[],F instanceof C?y=y.concat(I(F.errors)):y.push(F)}}}if(y)throw new C(y)}add(y){let x=y;if(!y)return S.EMPTY;switch(typeof y){case"function":x=new S(y);case"object":if(x===this||x.closed||"function"!=typeof x.unsubscribe)return x;if(this.closed)return x.unsubscribe(),x;if(!(x instanceof S)){const O=x;x=new S,x._subscriptions=[O]}break;default:throw new Error("unrecognized teardown "+y+" added to Subscription.")}let{_parentOrParents:$}=x;if(null===$)x._parentOrParents=this;else if($ instanceof S){if($===this)return x;x._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return x;$.push(this)}const R=this._subscriptions;return null===R?this._subscriptions=[x]:R.push(x),x}remove(y){const x=this._subscriptions;if(x){const $=x.indexOf(y);-1!==$&&x.splice($,1)}}}var E;function I(E){return E.reduce((y,x)=>y.concat(x instanceof C?x.errors:x),[])}S.EMPTY=((E=new S).closed=!0,E)},897:(hn,Re,_)=>{"use strict";_.d(Re,{$:()=>A});let d=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(w){if(w){const D=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+D.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=w},get useDeprecatedSynchronousErrorHandling(){return d}}},3879:(hn,Re,_)=>{"use strict";_.d(Re,{gn:()=>S,tS:()=>E,zA:()=>D});var d=_(8097),A=_(434),w=_(2794);class D extends d.v{constructor(x){super(),this.parent=x}_next(x){this.parent.notifyNext(x)}_error(x){this.parent.notifyError(x),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class S extends d.v{notifyNext(x){this.destination.next(x)}notifyError(x){this.destination.error(x)}notifyComplete(){this.destination.complete()}}function E(y,x){if(x.closed)return;if(y instanceof A.c)return y.subscribe(x);let $;try{$=(0,w.i)(y)(x)}catch(R){x.error(R)}return $}},1810:(hn,Re,_)=>{"use strict";_.d(Re,{G:()=>S,f:()=>I});var d=_(3119),A=_(434),D=(_(8097),_(2672)),C=_(3261);class S extends A.c{constructor(R,O){super(),this.source=R,this.subjectFactory=O,this._refCount=0,this._isComplete=!1}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let R=this._connection;return R||(this._isComplete=!1,R=this._connection=new D.y,R.add(this.source.subscribe(new E(this.getSubject(),this))),R.closed&&(this._connection=null,R=D.y.EMPTY)),R}refCount(){return(0,C.B)()(this)}}const I=(()=>{const $=S.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$._subscribe},_isComplete:{value:$._isComplete,writable:!0},getSubject:{value:$.getSubject},connect:{value:$.connect},refCount:{value:$.refCount}}})();class E extends d.PJ{constructor(R,O){super(R),this.connectable=O}_error(R){this._unsubscribe(),super._error(R)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const R=this.connectable;if(R){this.connectable=null;const O=R._connection;R._refCount=0,R._subject=null,R._connection=null,O&&O.unsubscribe()}}}},2175:(hn,Re,_)=>{"use strict";_.d(Re,{zV:()=>$});var d=_(8201),A=_(9869),w=_(8097);class D extends w.v{notifyNext(L,U,F,J,ue){this.destination.next(U)}notifyError(L,U){this.destination.error(L)}notifyComplete(L){this.destination.complete()}}class C extends w.v{constructor(L,U,F){super(),this.parent=L,this.outerValue=U,this.outerIndex=F,this.index=0}_next(L){this.parent.notifyNext(this.outerValue,L,this.outerIndex,this.index++,this)}_error(L){this.parent.notifyError(L,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var S=_(2794),I=_(434);function E(M,L,U,F,J=new C(M,U,F)){if(!J.closed)return L instanceof I.c?L.subscribe(J):(0,S.i)(L)(J)}var y=_(4324);const x={};function $(...M){let L,U;return(0,d.m)(M[M.length-1])&&(U=M.pop()),"function"==typeof M[M.length-1]&&(L=M.pop()),1===M.length&&(0,A.c)(M[0])&&(M=M[0]),(0,y.c)(M,U).lift(new R(L))}class R{constructor(L){this.resultSelector=L}call(L,U){return U.subscribe(new O(L,this.resultSelector))}}class O extends D{constructor(L,U){super(L),this.resultSelector=U,this.active=0,this.values=[],this.observables=[]}_next(L){this.values.push(x),this.observables.push(L)}_complete(){const L=this.observables,U=L.length;if(0===U)this.destination.complete();else{this.active=U,this.toRespond=U;for(let F=0;F<U;F++)this.add(E(this,L[F],void 0,F))}}notifyComplete(L){0==(this.active-=1)&&this.destination.complete()}notifyNext(L,U,F){const J=this.values,ce=this.toRespond?J[F]===x?--this.toRespond:this.toRespond:0;J[F]=U,0===ce&&(this.resultSelector?this._tryResultSelector(J):this.destination.next(J.slice()))}_tryResultSelector(L){let U;try{U=this.resultSelector.apply(this,L)}catch(F){return void this.destination.error(F)}this.destination.next(U)}}},6933:(hn,Re,_)=>{"use strict";_.d(Re,{x:()=>D});var d=_(1536),A=_(9450);function D(...C){return function w(){return(0,A.U)(1)}()((0,d.of)(...C))}},6965:(hn,Re,_)=>{"use strict";_.d(Re,{v:()=>D});var d=_(434),A=_(2677),w=_(4380);function D(C){return new d.c(S=>{let I;try{I=C()}catch(y){return void S.error(y)}return(I?(0,A.H)(I):(0,w.I)()).subscribe(S)})}},1478:(hn,Re,_)=>{"use strict";_.d(Re,{K:()=>y});var d=_(3119),A=_(8097),w=_(434),D=_(2672),C=_(7675);const S={url:"",deserializer:x=>JSON.parse(x.data),serializer:x=>JSON.stringify(x)};class E extends d.kQ{constructor($,R){if(super(),$ instanceof w.c)this.destination=R,this.source=$;else{const O=this._config=Object.assign({},S);if(this._output=new d.B7,"string"==typeof $)O.url=$;else for(let M in $)$.hasOwnProperty(M)&&(O[M]=$[M]);if(!O.WebSocketCtor&&WebSocket)O.WebSocketCtor=WebSocket;else if(!O.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new C.m}}lift($){const R=new E(this._config,this.destination);return R.operator=$,R.source=this,R}_resetState(){this._socket=null,this.source||(this.destination=new C.m),this._output=new d.B7}multiplex($,R,O){const M=this;return new w.c(L=>{try{M.next($())}catch(F){L.error(F)}const U=M.subscribe(F=>{try{O(F)&&L.next(F)}catch(J){L.error(J)}},F=>L.error(F),()=>L.complete());return()=>{try{M.next(R())}catch(F){L.error(F)}U.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:$,protocol:R,url:O,binaryType:M}=this._config,L=this._output;let U=null;try{U=R?new $(O,R):new $(O),this._socket=U,M&&(this._socket.binaryType=M)}catch(J){return void L.error(J)}const F=new D.y(()=>{this._socket=null,U&&1===U.readyState&&U.close()});U.onopen=J=>{const{_socket:ue}=this;if(!ue)return U.close(),void this._resetState();const{openObserver:ce}=this._config;ce&&ce.next(J);const re=this.destination;this.destination=A.v.create(be=>{if(1===U.readyState)try{const{serializer:j}=this._config;U.send(j(be))}catch(j){this.destination.error(j)}},be=>{const{closingObserver:j}=this._config;j&&j.next(void 0),be&&be.code?U.close(be.code,be.reason):L.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:be}=this._config;be&&be.next(void 0),U.close(),this._resetState()}),re&&re instanceof C.m&&F.add(re.subscribe(this.destination))},U.onerror=J=>{this._resetState(),L.error(J)},U.onclose=J=>{this._resetState();const{closeObserver:ue}=this._config;ue&&ue.next(J),J.wasClean?L.complete():L.error(J)},U.onmessage=J=>{try{const{deserializer:ue}=this._config;L.next(ue(J))}catch(ue){L.error(ue)}}}_subscribe($){const{source:R}=this;return R?R.subscribe($):(this._socket||this._connectSocket(),this._output.subscribe($),$.add(()=>{const{_socket:O}=this;0===this._output.observers.length&&(O&&1===O.readyState&&O.close(),this._resetState())}),$)}unsubscribe(){const{_socket:$}=this;$&&1===$.readyState&&$.close(),this._resetState(),super.unsubscribe()}}function y(x){return new E(x)}},4380:(hn,Re,_)=>{"use strict";_.d(Re,{I:()=>w,w:()=>A});var d=_(434);const A=new d.c(C=>C.complete());function w(C){return C?function D(C){return new d.c(S=>C.schedule(()=>S.complete()))}(C):A}},8757:(hn,Re,_)=>{"use strict";_.d(Re,{p:()=>S});var d=_(434),A=_(9869),w=_(5443),D=_(1689),C=_(2677);function S(...E){if(1===E.length){const y=E[0];if((0,A.c)(y))return I(y,null);if((0,D.G)(y)&&Object.getPrototypeOf(y)===Object.prototype){const x=Object.keys(y);return I(x.map($=>y[$]),x)}}if("function"==typeof E[E.length-1]){const y=E.pop();return I(E=1===E.length&&(0,A.c)(E[0])?E[0]:E,null).pipe((0,w.T)(x=>y(...x)))}return I(E,null)}function I(E,y){return new d.c(x=>{const $=E.length;if(0===$)return void x.complete();const R=new Array($);let O=0,M=0;for(let L=0;L<$;L++){const U=(0,C.H)(E[L]);let F=!1;x.add(U.subscribe({next:J=>{F||(F=!0,M++),R[L]=J},error:J=>x.error(J),complete:()=>{O++,(O===$||!F)&&(M===$&&x.next(y?y.reduce((J,ue,ce)=>(J[ue]=R[ce],J),{}):R),x.complete())}}))}})}},2677:(hn,Re,_)=>{"use strict";_.d(Re,{H:()=>L});var d=_(434),A=_(2794),w=_(2672),D=_(9291),I=_(5661),E=_(9136),$=_(4113),R=_(3370);function L(U,F){return F?function M(U,F){if(null!=U){if(function x(U){return U&&"function"==typeof U[D.s]}(U))return function C(U,F){return new d.c(J=>{const ue=new w.y;return ue.add(F.schedule(()=>{const ce=U[D.s]();ue.add(ce.subscribe({next(re){ue.add(F.schedule(()=>J.next(re)))},error(re){ue.add(F.schedule(()=>J.error(re)))},complete(){ue.add(F.schedule(()=>J.complete()))}}))})),ue})}(U,F);if((0,$.y)(U))return function S(U,F){return new d.c(J=>{const ue=new w.y;return ue.add(F.schedule(()=>U.then(ce=>{ue.add(F.schedule(()=>{J.next(ce),ue.add(F.schedule(()=>J.complete()))}))},ce=>{ue.add(F.schedule(()=>J.error(ce)))}))),ue})}(U,F);if((0,R.X)(U))return(0,I.V)(U,F);if(function O(U){return U&&"function"==typeof U[E.lJ]}(U)||"string"==typeof U)return function y(U,F){if(!U)throw new Error("Iterable cannot be null");return new d.c(J=>{const ue=new w.y;let ce;return ue.add(()=>{ce&&"function"==typeof ce.return&&ce.return()}),ue.add(F.schedule(()=>{ce=U[E.lJ](),ue.add(F.schedule(function(){if(J.closed)return;let re,be;try{const j=ce.next();re=j.value,be=j.done}catch(j){return void J.error(j)}be?J.complete():(J.next(re),this.schedule())}))})),ue})}(U,F)}throw new TypeError((null!==U&&typeof U||U)+" is not observable")}(U,F):U instanceof d.c?U:new d.c((0,A.i)(U))}},4324:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>D});var d=_(434),A=_(7824),w=_(5661);function D(C,S){return S?(0,w.V)(C,S):new d.c((0,A.v)(C))}},7557:(hn,Re,_)=>{"use strict";_.d(Re,{R:()=>S});var d=_(434),A=_(9869),w=_(4526),D=_(5443);function S($,R,O,M){return(0,w.T)(O)&&(M=O,O=void 0),M?S($,R,O).pipe((0,D.T)(L=>(0,A.c)(L)?M(...L):M(L))):new d.c(L=>{I($,R,function U(F){L.next(arguments.length>1?Array.prototype.slice.call(arguments):F)},L,O)})}function I($,R,O,M,L){let U;if(function x($){return $&&"function"==typeof $.addEventListener&&"function"==typeof $.removeEventListener}($)){const F=$;$.addEventListener(R,O,L),U=()=>F.removeEventListener(R,O,L)}else if(function y($){return $&&"function"==typeof $.on&&"function"==typeof $.off}($)){const F=$;$.on(R,O),U=()=>F.off(R,O)}else if(function E($){return $&&"function"==typeof $.addListener&&"function"==typeof $.removeListener}($)){const F=$;$.addListener(R,O),U=()=>F.removeListener(R,O)}else{if(!$||!$.length)throw new TypeError("Invalid event target");for(let F=0,J=$.length;F<J;F++)I($[F],R,O,M,L)}M.add(U)}},7405:(hn,Re,_)=>{"use strict";_.d(Re,{h:()=>C});var d=_(434),A=_(8201),w=_(9450),D=_(4324);function C(...S){let I=Number.POSITIVE_INFINITY,E=null,y=S[S.length-1];return(0,A.m)(y)?(E=S.pop(),S.length>1&&"number"==typeof S[S.length-1]&&(I=S.pop())):"number"==typeof y&&(I=S.pop()),null===E&&1===S.length&&S[0]instanceof d.c?S[0]:(0,w.U)(I)((0,D.c)(S,E))}},1536:(hn,Re,_)=>{"use strict";_.d(Re,{of:()=>D});var d=_(8201),A=_(4324),w=_(5661);function D(...C){let S=C[C.length-1];return(0,d.m)(S)?(C.pop(),(0,w.V)(C,S)):(0,A.c)(C)}},6651:(hn,Re,_)=>{"use strict";_.d(Re,{$:()=>A});var d=_(434);function A(D,C){return new d.c(C?S=>C.schedule(w,0,{error:D,subscriber:S}):S=>S.error(D))}function w({error:D,subscriber:C}){C.error(D)}},3340:(hn,Re,_)=>{"use strict";_.d(Re,{O:()=>S});var d=_(434),A=_(9573),w=_(9869);function D(E){return!(0,w.c)(E)&&E-parseFloat(E)+1>=0}var C=_(8201);function S(E=0,y,x){let $=-1;return D(y)?$=Number(y)<1?1:Number(y):(0,C.m)(y)&&(x=y),(0,C.m)(x)||(x=A.b),new d.c(R=>{const O=D(E)?E:+E-x.now();return x.schedule(I,O,{index:0,period:$,subscriber:R})})}function I(E){const{index:y,period:x,subscriber:$}=E;if($.next(y),!$.closed){if(-1===x)return $.complete();E.index=y+1,this.schedule(E,x)}}},1506:(hn,Re,_)=>{"use strict";_.d(Re,{yU:()=>S});var d=_(4324),A=_(9869),w=_(8097),D=_(9136),C=_(3879);function S(...R){const O=R[R.length-1];return"function"==typeof O&&R.pop(),(0,d.c)(R,void 0).lift(new I(O))}class I{constructor(O){this.resultSelector=O}call(O,M){return M.subscribe(new E(O,this.resultSelector))}}class E extends w.v{constructor(O,M,L=Object.create(null)){super(O),this.resultSelector=M,this.iterators=[],this.active=0,this.resultSelector="function"==typeof M?M:void 0}_next(O){const M=this.iterators;(0,A.c)(O)?M.push(new x(O)):M.push("function"==typeof O[D.lJ]?new y(O[D.lJ]()):new $(this.destination,this,O))}_complete(){const O=this.iterators,M=O.length;if(this.unsubscribe(),0!==M){this.active=M;for(let L=0;L<M;L++){let U=O[L];U.stillUnsubscribed?this.destination.add(U.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const O=this.iterators,M=O.length,L=this.destination;for(let J=0;J<M;J++){let ue=O[J];if("function"==typeof ue.hasValue&&!ue.hasValue())return}let U=!1;const F=[];for(let J=0;J<M;J++){let ue=O[J],ce=ue.next();if(ue.hasCompleted()&&(U=!0),ce.done)return void L.complete();F.push(ce.value)}this.resultSelector?this._tryresultSelector(F):L.next(F),U&&L.complete()}_tryresultSelector(O){let M;try{M=this.resultSelector.apply(this,O)}catch(L){return void this.destination.error(L)}this.destination.next(M)}}class y{constructor(O){this.iterator=O,this.nextResult=O.next()}hasValue(){return!0}next(){const O=this.nextResult;return this.nextResult=this.iterator.next(),O}hasCompleted(){const O=this.nextResult;return!(!O||!O.done)}}class x{constructor(O){this.array=O,this.index=0,this.length=0,this.length=O.length}[D.lJ](){return this}next(O){const M=this.index++;return M<this.length?{value:this.array[M],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $ extends C.gn{constructor(O,M,L){super(O),this.parent=M,this.observable=L,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[D.lJ](){return this}next(){const O=this.buffer;return 0===O.length&&this.isComplete?{value:null,done:!0}:{value:O.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(O){this.buffer.push(O),this.parent.checkIterators()}subscribe(){return(0,C.tS)(this.observable,new C.zA(this))}}},9314:(hn,Re,_)=>{"use strict";_.d(Re,{W:()=>A});var d=_(3879);function A(C){return function(I){const E=new w(C),y=I.lift(E);return E.caught=y}}class w{constructor(S){this.selector=S}call(S,I){return I.subscribe(new D(S,this.selector,this.caught))}}class D extends d.gn{constructor(S,I,E){super(S),this.selector=I,this.caught=E}error(S){if(!this.isStopped){let I;try{I=this.selector(S,this.caught)}catch(x){return void super.error(x)}this._unsubscribeAndRecycle();const E=new d.zA(this);this.add(E);const y=(0,d.tS)(I,E);y!==E&&this.add(y)}}}},9003:(hn,Re,_)=>{"use strict";_.d(Re,{H:()=>A});var d=_(3107);function A(w,D){return(0,d.ZZ)(w,D,1)}},9803:(hn,Re,_)=>{"use strict";_.d(Re,{B:()=>w});var d=_(8097),A=_(9573);function w(I,E=A.b){return y=>y.lift(new D(I,E))}class D{constructor(E,y){this.dueTime=E,this.scheduler=y}call(E,y){return y.subscribe(new C(E,this.dueTime,this.scheduler))}}class C extends d.v{constructor(E,y,x){super(E),this.dueTime=y,this.scheduler=x,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(E){this.clearDebounce(),this.lastValue=E,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:E}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(E)}}clearDebounce(){const E=this.debouncedSubscription;null!==E&&(this.remove(E),E.unsubscribe(),this.debouncedSubscription=null)}}function S(I){I.debouncedNext()}},4702:(hn,Re,_)=>{"use strict";_.d(Re,{U:()=>A});var d=_(8097);function A(C=null){return S=>S.lift(new w(C))}class w{constructor(S){this.defaultValue=S}call(S,I){return I.subscribe(new D(S,this.defaultValue))}}class D extends d.v{constructor(S,I){super(S),this.defaultValue=I,this.isEmpty=!0}_next(S){this.isEmpty=!1,this.destination.next(S)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},9277:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>C});var d=_(9573),w=_(8097),D=_(1500);function C(y,x=d.b){const R=function A(y){return y instanceof Date&&!isNaN(+y)}(y)?+y-x.now():Math.abs(y);return O=>O.lift(new S(R,x))}class S{constructor(x,$){this.delay=x,this.scheduler=$}call(x,$){return $.subscribe(new I(x,this.delay,this.scheduler))}}class I extends w.v{constructor(x,$,R){super(x),this.delay=$,this.scheduler=R,this.queue=[],this.active=!1,this.errored=!1}static dispatch(x){const $=x.source,R=$.queue,O=x.scheduler,M=x.destination;for(;R.length>0&&R[0].time-O.now()<=0;)R.shift().notification.observe(M);if(R.length>0){const L=Math.max(0,R[0].time-O.now());this.schedule(x,L)}else this.unsubscribe(),$.active=!1}_schedule(x){this.active=!0,this.destination.add(x.schedule(I.dispatch,this.delay,{source:this,destination:this.destination,scheduler:x}))}scheduleNotification(x){if(!0===this.errored)return;const $=this.scheduler,R=new E($.now()+this.delay,x);this.queue.push(R),!1===this.active&&this._schedule($)}_next(x){this.scheduleNotification(D.E.createNext(x))}_error(x){this.errored=!0,this.queue=[],this.destination.error(x),this.unsubscribe()}_complete(){this.scheduleNotification(D.E.createComplete()),this.unsubscribe()}}class E{constructor(x,$){this.time=x,this.notification=$}}},6109:(hn,Re,_)=>{"use strict";_.d(Re,{F:()=>A});var d=_(8097);function A(C,S){return I=>I.lift(new w(C,S))}class w{constructor(S,I){this.compare=S,this.keySelector=I}call(S,I){return I.subscribe(new D(S,this.compare,this.keySelector))}}class D extends d.v{constructor(S,I,E){super(S),this.keySelector=E,this.hasKey=!1,"function"==typeof I&&(this.compare=I)}compare(S,I){return S===I}_next(S){let I;try{const{keySelector:y}=this;I=y?y(S):S}catch(y){return this.destination.error(y)}let E=!1;if(this.hasKey)try{const{compare:y}=this;E=y(this.key,I)}catch(y){return this.destination.error(y)}else this.hasKey=!0;E||(this.key=I,this.destination.next(S))}}},7504:(hn,Re,_)=>{"use strict";_.d(Re,{w:()=>A});var d=_(6109);function A(w,D){return(0,d.F)((C,S)=>D?D(C[w],S[w]):C[w]===S[w])}},8627:(hn,Re,_)=>{"use strict";_.d(Re,{p:()=>A});var d=_(8097);function A(C,S){return function(E){return E.lift(new w(C,S))}}class w{constructor(S,I){this.predicate=S,this.thisArg=I}call(S,I){return I.subscribe(new D(S,this.predicate,this.thisArg))}}class D extends d.v{constructor(S,I,E){super(S),this.predicate=I,this.thisArg=E,this.count=0}_next(S){let I;try{I=this.predicate.call(this.thisArg,S,this.count++)}catch(E){return void this.destination.error(E)}I&&this.destination.next(S)}}},9863:(hn,Re,_)=>{"use strict";_.d(Re,{j:()=>w});var d=_(8097),A=_(2672);function w(S){return I=>I.lift(new D(S))}class D{constructor(I){this.callback=I}call(I,E){return E.subscribe(new C(I,this.callback))}}class C extends d.v{constructor(I,E){super(I),this.add(new A.y(E))}}},7871:(hn,Re,_)=>{"use strict";_.d(Re,{$:()=>I});var d=_(5363),A=_(8627),w=_(3602),D=_(4702),C=_(3505),S=_(5980);function I(E,y){const x=arguments.length>=2;return $=>$.pipe(E?(0,A.p)((R,O)=>E(R,O,$)):S.D,(0,w.s)(1),x?(0,D.U)(y):(0,C.v)(()=>new d.G))}},5443:(hn,Re,_)=>{"use strict";_.d(Re,{T:()=>A});var d=_(8097);function A(C,S){return function(E){if("function"!=typeof C)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return E.lift(new w(C,S))}}class w{constructor(S,I){this.project=S,this.thisArg=I}call(S,I){return I.subscribe(new D(S,this.project,this.thisArg))}}class D extends d.v{constructor(S,I,E){super(S),this.project=I,this.count=0,this.thisArg=E||this}_next(S){let I;try{I=this.project.call(this.thisArg,S,this.count++)}catch(E){return void this.destination.error(E)}this.destination.next(I)}}},9450:(hn,Re,_)=>{"use strict";_.d(Re,{U:()=>w});var d=_(3107),A=_(5980);function w(D=Number.POSITIVE_INFINITY){return(0,d.ZZ)(A.D,D)}},3107:(hn,Re,_)=>{"use strict";_.d(Re,{ZZ:()=>D});var d=_(5443),A=_(2677),w=_(3879);function D(E,y,x=Number.POSITIVE_INFINITY){return"function"==typeof y?$=>$.pipe(D((R,O)=>(0,A.H)(E(R,O)).pipe((0,d.T)((M,L)=>y(R,M,O,L))),x)):("number"==typeof y&&(x=y),$=>$.lift(new C(E,x)))}class C{constructor(y,x=Number.POSITIVE_INFINITY){this.project=y,this.concurrent=x}call(y,x){return x.subscribe(new S(y,this.project,this.concurrent))}}class S extends w.gn{constructor(y,x,$=Number.POSITIVE_INFINITY){super(y),this.project=x,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(y){this.active<this.concurrent?this._tryNext(y):this.buffer.push(y)}_tryNext(y){let x;const $=this.index++;try{x=this.project(y,$)}catch(R){return void this.destination.error(R)}this.active++,this._innerSub(x)}_innerSub(y){const x=new w.zA(this),$=this.destination;$.add(x);const R=(0,w.tS)(y,x);R!==x&&$.add(R)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(y){this.destination.next(y)}notifyComplete(){const y=this.buffer;this.active--,y.length>0?this._next(y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3261:(hn,Re,_)=>{"use strict";_.d(Re,{B:()=>A});var d=_(8097);function A(){return function(S){return S.lift(new w(S))}}class w{constructor(S){this.connectable=S}call(S,I){const{connectable:E}=this;E._refCount++;const y=new D(S,E),x=I.subscribe(y);return y.closed||(y.connection=E.connect()),x}}class D extends d.v{constructor(S,I){super(S),this.connectable=I}_unsubscribe(){const{connectable:S}=this;if(!S)return void(this.connection=null);this.connectable=null;const I=S._refCount;if(I<=0)return void(this.connection=null);if(S._refCount=I-1,I>1)return void(this.connection=null);const{connection:E}=this,y=S._connection;this.connection=null,y&&(!E||y===E)&&y.unsubscribe()}}},7783:(hn,Re,_)=>{"use strict";_.d(Re,{L:()=>A});var d=_(8097);function A(C=-1){return S=>S.lift(new w(C,S))}class w{constructor(S,I){this.count=S,this.source=I}call(S,I){return I.subscribe(new D(S,this.count,this.source))}}class D extends d.v{constructor(S,I,E){super(S),this.count=I,this.source=E}error(S){if(!this.isStopped){const{source:I,count:E}=this;if(0===E)return super.error(S);E>-1&&(this.count=E-1),I.subscribe(this._unsubscribeAndRecycle())}}}},7841:(hn,Re,_)=>{"use strict";_.d(Re,{t:()=>A});var d=_(7675);function A(D,C,S){let I;return I=D&&"object"==typeof D?D:{bufferSize:D,windowTime:C,refCount:!1,scheduler:S},E=>E.lift(function w({bufferSize:D=Number.POSITIVE_INFINITY,windowTime:C=Number.POSITIVE_INFINITY,refCount:S,scheduler:I}){let E,x,y=0,$=!1,R=!1;return function(M){let L;y++,!E||$?($=!1,E=new d.m(D,C,I),L=E.subscribe(this),x=M.subscribe({next(U){E.next(U)},error(U){$=!0,E.error(U)},complete(){R=!0,x=void 0,E.complete()}}),R&&(x=void 0)):L=E.subscribe(this),this.add(()=>{y--,L.unsubscribe(),L=void 0,x&&!R&&S&&0===y&&(x.unsubscribe(),x=void 0,E=void 0)})}}(I))}},1314:(hn,Re,_)=>{"use strict";_.d(Re,{i:()=>A});var d=_(8097);function A(C){return S=>S.lift(new w(C))}class w{constructor(S){this.total=S}call(S,I){return I.subscribe(new D(S,this.total))}}class D extends d.v{constructor(S,I){super(S),this.total=I,this.count=0}_next(S){++this.count>this.total&&this.destination.next(S)}}},9273:(hn,Re,_)=>{"use strict";_.d(Re,{Z:()=>w});var d=_(6933),A=_(8201);function w(...D){const C=D[D.length-1];return(0,A.m)(C)?(D.pop(),S=>(0,d.x)(D,S,C)):S=>(0,d.x)(D,S)}},1963:(hn,Re,_)=>{"use strict";_.d(Re,{n:()=>D});var d=_(5443),A=_(2677),w=_(3879);function D(I,E){return"function"==typeof E?y=>y.pipe(D((x,$)=>(0,A.H)(I(x,$)).pipe((0,d.T)((R,O)=>E(x,R,$,O))))):y=>y.lift(new C(I))}class C{constructor(E){this.project=E}call(E,y){return y.subscribe(new S(E,this.project))}}class S extends w.gn{constructor(E,y){super(E),this.project=y,this.index=0}_next(E){let y;const x=this.index++;try{y=this.project(E,x)}catch($){return void this.destination.error($)}this._innerSub(y)}_innerSub(E){const y=this.innerSubscription;y&&y.unsubscribe();const x=new w.zA(this),$=this.destination;$.add(x),this.innerSubscription=(0,w.tS)(E,x),this.innerSubscription!==x&&$.add(this.innerSubscription)}_complete(){const{innerSubscription:E}=this;(!E||E.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(E){this.destination.next(E)}}},3602:(hn,Re,_)=>{"use strict";_.d(Re,{s:()=>D});var d=_(8097),A=_(5741),w=_(4380);function D(I){return E=>0===I?(0,w.I)():E.lift(new C(I))}class C{constructor(E){if(this.total=E,this.total<0)throw new A.k}call(E,y){return y.subscribe(new S(E,this.total))}}class S extends d.v{constructor(E,y){super(E),this.total=y,this.count=0}_next(E){const y=this.total,x=++this.count;x<=y&&(this.destination.next(E),x===y&&(this.destination.complete(),this.unsubscribe()))}}},7464:(hn,Re,_)=>{"use strict";_.d(Re,{Q:()=>A});var d=_(3879);function A(C){return S=>S.lift(new w(C))}class w{constructor(S){this.notifier=S}call(S,I){const E=new D(S),y=(0,d.tS)(this.notifier,new d.zA(E));return y&&!E.seenValue?(E.add(y),I.subscribe(E)):E}}class D extends d.gn{constructor(S){super(S),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},370:(hn,Re,_)=>{"use strict";_.d(Re,{v:()=>A});var d=_(8097);function A(C,S=!1){return I=>I.lift(new w(C,S))}class w{constructor(S,I){this.predicate=S,this.inclusive=I}call(S,I){return I.subscribe(new D(S,this.predicate,this.inclusive))}}class D extends d.v{constructor(S,I,E){super(S),this.predicate=I,this.inclusive=E,this.index=0}_next(S){const I=this.destination;let E;try{E=this.predicate(S,this.index++)}catch(y){return void I.error(y)}this.nextOrComplete(S,E)}nextOrComplete(S,I){const E=this.destination;I?E.next(S):(this.inclusive&&E.next(S),E.complete())}}},6e3:(hn,Re,_)=>{"use strict";_.d(Re,{M:()=>D});var d=_(8097),A=_(8986),w=_(4526);function D(I,E,y){return function($){return $.lift(new C(I,E,y))}}class C{constructor(E,y,x){this.nextOrObserver=E,this.error=y,this.complete=x}call(E,y){return y.subscribe(new S(E,this.nextOrObserver,this.error,this.complete))}}class S extends d.v{constructor(E,y,x,$){super(E),this._tapNext=A.l,this._tapError=A.l,this._tapComplete=A.l,this._tapError=x||A.l,this._tapComplete=$||A.l,(0,w.T)(y)?(this._context=this,this._tapNext=y):y&&(this._context=y,this._tapNext=y.next||A.l,this._tapError=y.error||A.l,this._tapComplete=y.complete||A.l)}_next(E){try{this._tapNext.call(this._context,E)}catch(y){return void this.destination.error(y)}this.destination.next(E)}_error(E){try{this._tapError.call(this._context,E)}catch(y){return void this.destination.error(y)}this.destination.error(E)}_complete(){try{this._tapComplete.call(this._context)}catch(E){return void this.destination.error(E)}return this.destination.complete()}}},3505:(hn,Re,_)=>{"use strict";_.d(Re,{v:()=>w});var d=_(5363),A=_(8097);function w(I=S){return E=>E.lift(new D(I))}class D{constructor(E){this.errorFactory=E}call(E,y){return y.subscribe(new C(E,this.errorFactory))}}class C extends A.v{constructor(E,y){super(E),this.errorFactory=y,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(y){E=y}this.destination.error(E)}}}function S(){return new d.G}},5661:(hn,Re,_)=>{"use strict";_.d(Re,{V:()=>w});var d=_(434),A=_(2672);function w(D,C){return new d.c(S=>{const I=new A.y;let E=0;return I.add(C.schedule(function(){E!==D.length?(S.next(D[E++]),S.closed||I.add(this.schedule())):S.complete()})),I})}},6244:(hn,Re,_)=>{"use strict";_.d(Re,{R:()=>w});var d=_(2672);class A extends d.y{constructor(C,S){super()}schedule(C,S=0){return this}}class w extends A{constructor(C,S){super(C,S),this.scheduler=C,this.work=S,this.pending=!1}schedule(C,S=0){if(this.closed)return this;this.state=C;const I=this.id,E=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(E,I,S)),this.pending=!0,this.delay=S,this.id=this.id||this.requestAsyncId(E,this.id,S),this}requestAsyncId(C,S,I=0){return setInterval(C.flush.bind(C,this),I)}recycleAsyncId(C,S,I=0){if(null!==I&&this.delay===I&&!1===this.pending)return S;clearInterval(S)}execute(C,S){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const I=this._execute(C,S);if(I)return I;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,S){let E,I=!1;try{this.work(C)}catch(y){I=!0,E=!!y&&y||new Error(y)}if(I)return this.unsubscribe(),E}_unsubscribe(){const C=this.id,S=this.scheduler,I=S.actions,E=I.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&I.splice(E,1),null!=C&&(this.id=this.recycleAsyncId(S,C,null)),this.delay=null}}},2059:(hn,Re,_)=>{"use strict";_.d(Re,{q:()=>A});let d=(()=>{class w{constructor(C,S=w.now){this.SchedulerAction=C,this.now=S}schedule(C,S=0,I){return new this.SchedulerAction(this,C).schedule(I,S)}}return w.now=()=>Date.now(),w})();class A extends d{constructor(D,C=d.now){super(D,()=>A.delegate&&A.delegate!==this?A.delegate.now():C()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(D,C=0,S){return A.delegate&&A.delegate!==this?A.delegate.schedule(D,C,S):super.schedule(D,C,S)}flush(D){const{actions:C}=this;if(this.active)return void C.push(D);let S;this.active=!0;do{if(S=D.execute(D.state,D.delay))break}while(D=C.shift());if(this.active=!1,S){for(;D=C.shift();)D.unsubscribe();throw S}}}},2800:(hn,Re,_)=>{"use strict";_.d(Re,{$:()=>$});let d=1;const A=Promise.resolve(),w={};function D(O){return O in w&&(delete w[O],!0)}const C={setImmediate(O){const M=d++;return w[M]=!0,A.then(()=>D(M)&&O()),M},clearImmediate(O){D(O)}};var I=_(6244),y=_(2059);const $=new class x extends y.q{flush(M){this.active=!0,this.scheduled=void 0;const{actions:L}=this;let U,F=-1,J=L.length;M=M||L.shift();do{if(U=M.execute(M.state,M.delay))break}while(++F<J&&(M=L.shift()));if(this.active=!1,U){for(;++F<J&&(M=L.shift());)M.unsubscribe();throw U}}}(class E extends I.R{constructor(M,L){super(M,L),this.scheduler=M,this.work=L}requestAsyncId(M,L,U=0){return null!==U&&U>0?super.requestAsyncId(M,L,U):(M.actions.push(this),M.scheduled||(M.scheduled=C.setImmediate(M.flush.bind(M,null))))}recycleAsyncId(M,L,U=0){if(null!==U&&U>0||null===U&&this.delay>0)return super.recycleAsyncId(M,L,U);0===M.actions.length&&(C.clearImmediate(L),M.scheduled=void 0)}})},9573:(hn,Re,_)=>{"use strict";_.d(Re,{b:()=>D});var d=_(6244);const D=new(_(2059).q)(d.R)},9136:(hn,Re,_)=>{"use strict";_.d(Re,{lJ:()=>A});const A=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},9291:(hn,Re,_)=>{"use strict";_.d(Re,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},5230:(hn,Re,_)=>{"use strict";_.d(Re,{D:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5741:(hn,Re,_)=>{"use strict";_.d(Re,{k:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return w.prototype=Object.create(Error.prototype),w})()},5363:(hn,Re,_)=>{"use strict";_.d(Re,{G:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return w.prototype=Object.create(Error.prototype),w})()},3586:(hn,Re,_)=>{"use strict";_.d(Re,{P:()=>A});const A=(()=>{function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return w.prototype=Object.create(Error.prototype),w})()},9570:(hn,Re,_)=>{"use strict";function d(A){setTimeout(()=>{throw A},0)}_.d(Re,{T:()=>d})},5980:(hn,Re,_)=>{"use strict";function d(A){return A}_.d(Re,{D:()=>d})},9869:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>d});const d=Array.isArray||(A=>A&&"number"==typeof A.length)},3370:(hn,Re,_)=>{"use strict";_.d(Re,{X:()=>d});const d=A=>A&&"number"==typeof A.length&&"function"!=typeof A},4526:(hn,Re,_)=>{"use strict";function d(A){return"function"==typeof A}_.d(Re,{T:()=>d})},1689:(hn,Re,_)=>{"use strict";function d(A){return null!==A&&"object"==typeof A}_.d(Re,{G:()=>d})},6899:(hn,Re,_)=>{"use strict";_.d(Re,{A:()=>A});var d=_(434);function A(w){return!!w&&(w instanceof d.c||"function"==typeof w.lift&&"function"==typeof w.subscribe)}},4113:(hn,Re,_)=>{"use strict";function d(A){return!!A&&"function"!=typeof A.subscribe&&"function"==typeof A.then}_.d(Re,{y:()=>d})},8201:(hn,Re,_)=>{"use strict";function d(A){return A&&"function"==typeof A.schedule}_.d(Re,{m:()=>d})},8986:(hn,Re,_)=>{"use strict";function d(){}_.d(Re,{l:()=>d})},782:(hn,Re,_)=>{"use strict";_.d(Re,{F:()=>A,m:()=>w});var d=_(5980);function A(...D){return w(D)}function w(D){return 0===D.length?d.D:1===D.length?D[0]:function(S){return D.reduce((I,E)=>E(I),S)}}},2794:(hn,Re,_)=>{"use strict";_.d(Re,{i:()=>$});var d=_(7824),A=_(9570),D=_(9136),S=_(9291),E=_(3370),y=_(4113),x=_(1689);const $=R=>{if(R&&"function"==typeof R[S.s])return(R=>O=>{const M=R[S.s]();if("function"!=typeof M.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return M.subscribe(O)})(R);if((0,E.X)(R))return(0,d.v)(R);if((0,y.y)(R))return(R=>O=>(R.then(M=>{O.closed||(O.next(M),O.complete())},M=>O.error(M)).then(null,A.T),O))(R);if(R&&"function"==typeof R[D.lJ])return(R=>O=>{const M=R[D.lJ]();for(;;){let L;try{L=M.next()}catch(U){return O.error(U),O}if(L.done){O.complete();break}if(O.next(L.value),O.closed)break}return"function"==typeof M.return&&O.add(()=>{M.return&&M.return()}),O})(R);{const M=`You provided ${(0,x.G)(R)?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(M)}}},7824:(hn,Re,_)=>{"use strict";_.d(Re,{v:()=>d});const d=A=>w=>{for(let D=0,C=A.length;D<C&&!w.closed;D++)w.next(A[D]);w.complete()}},2667:(hn,Re,_)=>{var d=_(7576),A=_(6369),w=_(3555),D=_(2751),C=_(8365),S=_(3777),I=_(9781);I.alea=d,I.xor128=A,I.xorwow=w,I.xorshift7=D,I.xor4096=C,I.tychei=S,hn.exports=I},7576:function(hn,Re,_){var d;!function(A,w,D){function C(y){var x=this,$=function E(){var y=4022871197;return function($){$=String($);for(var R=0;R<$.length;R++){var O=.02519603282416938*(y+=$.charCodeAt(R));O-=y=O>>>0,y=(O*=y)>>>0,y+=4294967296*(O-=y)}return 2.3283064365386963e-10*(y>>>0)}}();x.next=function(){var R=2091639*x.s0+2.3283064365386963e-10*x.c;return x.s0=x.s1,x.s1=x.s2,x.s2=R-(x.c=0|R)},x.c=1,x.s0=$(" "),x.s1=$(" "),x.s2=$(" "),x.s0-=$(y),x.s0<0&&(x.s0+=1),x.s1-=$(y),x.s1<0&&(x.s1+=1),x.s2-=$(y),x.s2<0&&(x.s2+=1),$=null}function S(y,x){return x.c=y.c,x.s0=y.s0,x.s1=y.s1,x.s2=y.s2,x}function I(y,x){var $=new C(y),R=x&&x.state,O=$.next;return O.int32=function(){return 4294967296*$.next()|0},O.double=function(){return O()+11102230246251565e-32*(2097152*O()|0)},O.quick=O,R&&("object"==typeof R&&S(R,$),O.state=function(){return S($,{})}),O}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.alea=I}(0,hn=_.nmd(hn))},3777:function(hn,Re,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.next=function(){var R=y.b,O=y.c,M=y.d,L=y.a;return R=R<<25^R>>>7^O,O=O-M|0,M=M<<24^M>>>8^L,L=L-R|0,y.b=R=R<<20^R>>>12^O,y.c=O=O-M|0,y.d=M<<16^O>>>16^L,y.a=L-R|0},y.a=0,y.b=0,y.c=-1640531527,y.d=1367130551,E===Math.floor(E)?(y.a=E/4294967296|0,y.b=0|E):x+=E;for(var $=0;$<x.length+20;$++)y.b^=0|x.charCodeAt($),y.next()}function S(E,y){return y.a=E.a,y.b=E.b,y.c=E.c,y.d=E.d,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.tychei=I}(0,hn=_.nmd(hn))},6369:function(hn,Re,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.x=0,y.y=0,y.z=0,y.w=0,y.next=function(){var R=y.x^y.x<<11;return y.x=y.y,y.y=y.z,y.z=y.w,y.w^=y.w>>>19^R^R>>>8},E===(0|E)?y.x=E:x+=E;for(var $=0;$<x.length+64;$++)y.x^=0|x.charCodeAt($),y.next()}function S(E,y){return y.x=E.x,y.y=E.y,y.z=E.z,y.w=E.w,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.xor128=I}(0,hn=_.nmd(hn))},8365:function(hn,Re,_){var d;!function(A,w,D){function C(E){var y=this;y.next=function(){var M,L,$=y.w,R=y.X,O=y.i;return y.w=$=$+1640531527|0,L=R[O+34&127],M=R[O=O+1&127],L^=L<<13,M^=M<<17,L=R[O]=(L^=L>>>15)^(M^=M>>>12),y.i=O,L+($^$>>>16)|0},function x($,R){var O,M,L,U,F,J=[],ue=128;for(R===(0|R)?(M=R,R=null):(R+="\0",M=0,ue=Math.max(ue,R.length)),L=0,U=-32;U<ue;++U)R&&(M^=R.charCodeAt((U+32)%R.length)),0===U&&(F=M),M^=M<<10,M^=M>>>15,M^=M<<4,M^=M>>>13,U>=0&&(L=0==(O=J[127&U]^=M+(F=F+1640531527|0))?L+1:0);for(L>=128&&(J[127&(R&&R.length||0)]=-1),L=127,U=512;U>0;--U)M=J[L+34&127],O=J[L=L+1&127],M^=M<<13,O^=O<<17,J[L]=(M^=M>>>15)^(O^=O>>>12);$.w=F,$.X=J,$.i=L}(y,E)}function S(E,y){return y.i=E.i,y.w=E.w,y.X=E.X.slice(),y}function I(E,y){null==E&&(E=+new Date);var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&($.X&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.xor4096=I}(0,hn=_.nmd(hn))},2751:function(hn,Re,_){var d;!function(A,w,D){function C(E){var y=this;y.next=function(){var O,M,$=y.x,R=y.i;return O=$[R],M=(O^=O>>>7)^O<<24,M^=(O=$[R+1&7])^O>>>10,M^=(O=$[R+3&7])^O>>>3,M^=(O=$[R+4&7])^O<<7,O=$[R+7&7],$[R]=M^=(O^=O<<13)^O<<9,y.i=R+1&7,M},function x($,R){var O,L=[];if(R===(0|R))L[0]=R;else for(R=""+R,O=0;O<R.length;++O)L[7&O]=L[7&O]<<15^R.charCodeAt(O)+L[O+1&7]<<13;for(;L.length<8;)L.push(0);for(O=0;O<8&&0===L[O];++O);for(8==O&&(L[7]=-1),$.x=L,$.i=0,O=256;O>0;--O)$.next()}(y,E)}function S(E,y){return y.x=E.x.slice(),y.i=E.i,y}function I(E,y){null==E&&(E=+new Date);var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&($.x&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.xorshift7=I}(0,hn=_.nmd(hn))},3555:function(hn,Re,_){var d;!function(A,w,D){function C(E){var y=this,x="";y.next=function(){var R=y.x^y.x>>>2;return y.x=y.y,y.y=y.z,y.z=y.w,y.w=y.v,(y.d=y.d+362437|0)+(y.v=y.v^y.v<<4^R^R<<1)|0},y.x=0,y.y=0,y.z=0,y.w=0,y.v=0,E===(0|E)?y.x=E:x+=E;for(var $=0;$<x.length+64;$++)y.x^=0|x.charCodeAt($),$==x.length&&(y.d=y.x<<10^y.x>>>4),y.next()}function S(E,y){return y.x=E.x,y.y=E.y,y.z=E.z,y.w=E.w,y.v=E.v,y.d=E.d,y}function I(E,y){var x=new C(E),$=y&&y.state,R=function(){return(x.next()>>>0)/4294967296};return R.double=function(){do{var L=((x.next()>>>11)+(x.next()>>>0)/4294967296)/(1<<21)}while(0===L);return L},R.int32=x.next,R.quick=R,$&&("object"==typeof $&&S($,x),R.state=function(){return S(x,{})}),R}w&&w.exports?w.exports=I:_.amdD&&_.amdO?void 0!==(d=function(){return I}.call(Re,_,Re,w))&&(w.exports=d):this.xorwow=I}(0,hn=_.nmd(hn))},9781:function(hn,Re,_){var d;!function(A,w,D){var O,C=256,y=D.pow(C,6),x=D.pow(2,52),$=2*x,R=C-1;function M(re,be,j){var X=[],se=J(F((be=1==be?{entropy:!0}:be||{}).entropy?[re,ce(w)]:re??function ue(){try{var re;return O&&(re=O.randomBytes)?re=re(C):(re=new Uint8Array(C),(A.crypto||A.msCrypto).getRandomValues(re)),ce(re)}catch{var be=A.navigator,j=be&&be.plugins;return[+new Date,A,j,A.screen,ce(w)]}}(),3),X),W=new L(X),xe=function(){for(var q=W.g(6),Ae=y,Xe=0;q<x;)q=(q+Xe)*C,Ae*=C,Xe=W.g(1);for(;q>=$;)q/=2,Ae/=2,Xe>>>=1;return(q+Xe)/Ae};return xe.int32=function(){return 0|W.g(4)},xe.quick=function(){return W.g(4)/4294967296},xe.double=xe,J(ce(W.S),w),(be.pass||j||function(q,Ae,Xe,yt){return yt&&(yt.S&&U(yt,W),q.state=function(){return U(W,{})}),Xe?(D.random=q,Ae):q})(xe,se,"global"in be?be.global:this==D,be.state)}function L(re){var be,j=re.length,X=this,se=0,W=X.i=X.j=0,xe=X.S=[];for(j||(re=[j++]);se<C;)xe[se]=se++;for(se=0;se<C;se++)xe[se]=xe[W=R&W+re[se%j]+(be=xe[se])],xe[W]=be;(X.g=function(q){for(var Ae,Xe=0,yt=X.i,Je=X.j,je=X.S;q--;)Ae=je[yt=R&yt+1],Xe=Xe*C+je[R&(je[yt]=je[Je=R&Je+Ae])+(je[Je]=Ae)];return X.i=yt,X.j=Je,Xe})(C)}function U(re,be){return be.i=re.i,be.j=re.j,be.S=re.S.slice(),be}function F(re,be){var se,j=[],X=typeof re;if(be&&"object"==X)for(se in re)try{j.push(F(re[se],be-1))}catch{}return j.length?j:"string"==X?re:re+"\0"}function J(re,be){for(var X,j=re+"",se=0;se<j.length;)be[R&se]=R&(X^=19*be[R&se])+j.charCodeAt(se++);return ce(be)}function ce(re){return String.fromCharCode.apply(0,re)}if(J(D.random(),w),hn.exports){hn.exports=M;try{O=_(1234)}catch{}}else void 0!==(d=function(){return M}.call(Re,_,Re,hn))&&(hn.exports=d)}(typeof self<"u"?self:this,[],Math)},3277:(hn,Re,_)=>{"use strict";_.d(Re,{VV:()=>d,LL:()=>w});class d{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(C,S=!1){return this.onePassHasher.start().appendStr(C).end(S)}static hashAsciiStr(C,S=!1){return this.onePassHasher.start().appendAsciiStr(C).end(S)}static _hex(C){const S=d.hexChars,I=d.hexOut;let E,y,x,$;for($=0;$<4;$+=1)for(y=8*$,E=C[$],x=0;x<8;x+=2)I[y+1+x]=S.charAt(15&E),E>>>=4,I[y+0+x]=S.charAt(15&E),E>>>=4;return I.join("")}static _md5cycle(C,S){let I=C[0],E=C[1],y=C[2],x=C[3];I+=(E&y|~E&x)+S[0]-680876936|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[1]-389564586|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[2]+606105819|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[3]-1044525330|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[4]-176418897|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[5]+1200080426|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[6]-1473231341|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[7]-45705983|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[8]+1770035416|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[9]-1958414417|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[10]-42063|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[11]-1990404162|0,E=(E<<22|E>>>10)+y|0,I+=(E&y|~E&x)+S[12]+1804603682|0,I=(I<<7|I>>>25)+E|0,x+=(I&E|~I&y)+S[13]-40341101|0,x=(x<<12|x>>>20)+I|0,y+=(x&I|~x&E)+S[14]-1502002290|0,y=(y<<17|y>>>15)+x|0,E+=(y&x|~y&I)+S[15]+1236535329|0,E=(E<<22|E>>>10)+y|0,I+=(E&x|y&~x)+S[1]-165796510|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[6]-1069501632|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[11]+643717713|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[0]-373897302|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[5]-701558691|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[10]+38016083|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[15]-660478335|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[4]-405537848|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[9]+568446438|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[14]-1019803690|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[3]-187363961|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[8]+1163531501|0,E=(E<<20|E>>>12)+y|0,I+=(E&x|y&~x)+S[13]-1444681467|0,I=(I<<5|I>>>27)+E|0,x+=(I&y|E&~y)+S[2]-51403784|0,x=(x<<9|x>>>23)+I|0,y+=(x&E|I&~E)+S[7]+1735328473|0,y=(y<<14|y>>>18)+x|0,E+=(y&I|x&~I)+S[12]-1926607734|0,E=(E<<20|E>>>12)+y|0,I+=(E^y^x)+S[5]-378558|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[8]-2022574463|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[11]+1839030562|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[14]-35309556|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[1]-1530992060|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[4]+1272893353|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[7]-155497632|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[10]-1094730640|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[13]+681279174|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[0]-358537222|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[3]-722521979|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[6]+76029189|0,E=(E<<23|E>>>9)+y|0,I+=(E^y^x)+S[9]-640364487|0,I=(I<<4|I>>>28)+E|0,x+=(I^E^y)+S[12]-421815835|0,x=(x<<11|x>>>21)+I|0,y+=(x^I^E)+S[15]+530742520|0,y=(y<<16|y>>>16)+x|0,E+=(y^x^I)+S[2]-995338651|0,E=(E<<23|E>>>9)+y|0,I+=(y^(E|~x))+S[0]-198630844|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[7]+1126891415|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[14]-1416354905|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[5]-57434055|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[12]+1700485571|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[3]-1894986606|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[10]-1051523|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[1]-2054922799|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[8]+1873313359|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[15]-30611744|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[6]-1560198380|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[13]+1309151649|0,E=(E<<21|E>>>11)+y|0,I+=(y^(E|~x))+S[4]-145523070|0,I=(I<<6|I>>>26)+E|0,x+=(E^(I|~y))+S[11]-1120210379|0,x=(x<<10|x>>>22)+I|0,y+=(I^(x|~E))+S[2]+718787259|0,y=(y<<15|y>>>17)+x|0,E+=(x^(y|~I))+S[9]-343485551|0,E=(E<<21|E>>>11)+y|0,C[0]=I+C[0]|0,C[1]=E+C[1]|0,C[2]=y+C[2]|0,C[3]=x+C[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(d.stateIdentity),this}appendStr(C){const S=this._buffer8,I=this._buffer32;let y,x,E=this._bufferLength;for(x=0;x<C.length;x+=1){if(y=C.charCodeAt(x),y<128)S[E++]=y;else if(y<2048)S[E++]=192+(y>>>6),S[E++]=63&y|128;else if(y<55296||y>56319)S[E++]=224+(y>>>12),S[E++]=y>>>6&63|128,S[E++]=63&y|128;else{if(y=1024*(y-55296)+(C.charCodeAt(++x)-56320)+65536,y>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");S[E++]=240+(y>>>18),S[E++]=y>>>12&63|128,S[E++]=y>>>6&63|128,S[E++]=63&y|128}E>=64&&(this._dataLength+=64,d._md5cycle(this._state,I),E-=64,I[0]=I[16])}return this._bufferLength=E,this}appendAsciiStr(C){const S=this._buffer8,I=this._buffer32;let y,E=this._bufferLength,x=0;for(;;){for(y=Math.min(C.length-x,64-E);y--;)S[E++]=C.charCodeAt(x++);if(E<64)break;this._dataLength+=64,d._md5cycle(this._state,I),E=0}return this._bufferLength=E,this}appendByteArray(C){const S=this._buffer8,I=this._buffer32;let y,E=this._bufferLength,x=0;for(;;){for(y=Math.min(C.length-x,64-E);y--;)S[E++]=C[x++];if(E<64)break;this._dataLength+=64,d._md5cycle(this._state,I),E=0}return this._bufferLength=E,this}getState(){const C=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[C[0],C[1],C[2],C[3]]}}setState(C){const S=C.buffer,I=C.state,E=this._state;let y;for(this._dataLength=C.length,this._bufferLength=C.buflen,E[0]=I[0],E[1]=I[1],E[2]=I[2],E[3]=I[3],y=0;y<S.length;y+=1)this._buffer8[y]=S.charCodeAt(y)}end(C=!1){const S=this._bufferLength,I=this._buffer8,E=this._buffer32,y=1+(S>>2);this._dataLength+=S;const x=8*this._dataLength;if(I[S]=128,I[S+1]=I[S+2]=I[S+3]=0,E.set(d.buffer32Identity.subarray(y),y),S>55&&(d._md5cycle(this._state,E),E.set(d.buffer32Identity)),x<=4294967295)E[14]=x;else{const $=x.toString(16).match(/(.*?)(.{0,8})$/);if(null===$)return;const R=parseInt($[2],16),O=parseInt($[1],16)||0;E[14]=R,E[15]=O}return d._md5cycle(this._state,E),C?this._state:d._hex(this._state)}}if(d.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),d.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d.hexChars="0123456789abcdef",d.hexOut=[],d.onePassHasher=new d,"5d41402abc4b2a76b9719d911017c592"!==d.hashStr("hello"))throw new Error("Md5 self test failed.");class w{constructor(C,S){this._queue=[],this._ready=!0;const I=this;Worker?(I._hashWorker=new Worker(C,S),I._hashWorker.onmessage=I._recievedMessage.bind(I),I._hashWorker.onerror=E=>{I._ready=!1,console.error("Hash worker failure",E)}):(I._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(C){const S=this;let I;return I=new Promise((E,y)=>{S._queue.push({blob:C,resolve:E,reject:y}),S._processNext()}),I}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(C){var S,I;const E=C.data;E.success?null===(S=this._processing)||void 0===S||S.resolve(E.result):null===(I=this._processing)||void 0===I||I.reject(E.result),this._processing=void 0,this._processNext()}}},7172:(hn,Re,_)=>{"use strict";_.d(Re,{FX:()=>W,If:()=>d,K2:()=>S,MA:()=>R,Os:()=>C,P:()=>M,hZ:()=>w,i0:()=>D,i7:()=>y,iF:()=>I,kY:()=>x,kp:()=>A,sf:()=>X,ui:()=>se,wk:()=>E});
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
var d=function(xe){return xe[xe.State=0]="State",xe[xe.Transition=1]="Transition",xe[xe.Sequence=2]="Sequence",xe[xe.Group=3]="Group",xe[xe.Animate=4]="Animate",xe[xe.Keyframes=5]="Keyframes",xe[xe.Style=6]="Style",xe[xe.Trigger=7]="Trigger",xe[xe.Reference=8]="Reference",xe[xe.AnimateChild=9]="AnimateChild",xe[xe.AnimateRef=10]="AnimateRef",xe[xe.Query=11]="Query",xe[xe.Stagger=12]="Stagger",xe}(d||{});const A="*";function w(xe,q){return{type:d.Trigger,name:xe,definitions:q,options:{}}}function D(xe,q=null){return{type:d.Animate,styles:q,timings:xe}}function C(xe,q=null){return{type:d.Group,steps:xe,options:q}}function S(xe,q=null){return{type:d.Sequence,steps:xe,options:q}}function I(xe){return{type:d.Style,styles:xe,offset:null}}function E(xe,q,Ae){return{type:d.State,name:xe,styles:q,options:Ae}}function y(xe){return{type:d.Keyframes,steps:xe}}function x(xe,q,Ae=null){return{type:d.Transition,expr:xe,animation:q,options:Ae}}function R(xe=null){return{type:d.AnimateChild,options:xe}}function M(xe,q,Ae=null){return{type:d.Query,selector:xe,animation:q,options:Ae}}class X{constructor(q=0,Ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=q+Ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}onStart(q){this._originalOnStartFns.push(q),this._onStartFns.push(q)}onDone(q){this._originalOnDoneFns.push(q),this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(q=>q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(q){this._position=this.totalTime?q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(q){const Ae="start"==q?this._onStartFns:this._onDoneFns;Ae.forEach(Xe=>Xe()),Ae.length=0}}class se{constructor(q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=q;let Ae=0,Xe=0,yt=0;const Je=this.players.length;0==Je?queueMicrotask(()=>this._onFinish()):this.players.forEach(je=>{je.onDone(()=>{++Ae==Je&&this._onFinish()}),je.onDestroy(()=>{++Xe==Je&&this._onDestroy()}),je.onStart(()=>{++yt==Je&&this._onStart()})}),this.totalTime=this.players.reduce((je,K)=>Math.max(je,K.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}init(){this.players.forEach(q=>q.init())}onStart(q){this._onStartFns.push(q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(q=>q()),this._onStartFns=[])}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(q=>q.play())}pause(){this.players.forEach(q=>q.pause())}restart(){this.players.forEach(q=>q.restart())}finish(){this._onFinish(),this.players.forEach(q=>q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(q=>q.destroy()),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this.players.forEach(q=>q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(q){const Ae=q*this.totalTime;this.players.forEach(Xe=>{const yt=Xe.totalTime?Math.min(1,Ae/Xe.totalTime):1;Xe.setPosition(yt)})}getPosition(){const q=this.players.reduce((Ae,Xe)=>null===Ae||Xe.totalTime>Ae.totalTime?Xe:Ae,null);return null!=q?q.getPosition():0}beforeDestroy(){this.players.forEach(q=>{q.beforeDestroy&&q.beforeDestroy()})}triggerCallback(q){const Ae="start"==q?this._onStartFns:this._onDoneFns;Ae.forEach(Xe=>Xe()),Ae.length=0}}const W="!"},2102:(hn,Re,_)=>{"use strict";_.d(Re,{Ae:()=>re,Ai:()=>Ei,Au:()=>yt,Bu:()=>Je,FN:()=>$t,GX:()=>Oe,Pd:()=>Xn,Q_:()=>xn,Z7:()=>K,_G:()=>Ut,kB:()=>Ye,px:()=>ce,vR:()=>bn,vr:()=>xe,w6:()=>wt});var d=_(316),A=_(7404),w=_(7699),D=_(3119),C=_(2672),S=_(521),I=_(1536),E=_(4879),y=_(6e3),x=_(9803),$=_(8627),R=_(5443),O=_(1314),M=_(6109),L=_(7464),U=_(9539),F=_(2814),J=_(7912);const ue=" ";function ce(pt,Le,We){const $e=be(pt,Le);We=We.trim(),!$e.some(gt=>gt.trim()===We)&&($e.push(We),pt.setAttribute(Le,$e.join(ue)))}function re(pt,Le,We){const $e=be(pt,Le);We=We.trim();const gt=$e.filter(Zt=>Zt!==We);gt.length?pt.setAttribute(Le,gt.join(ue)):pt.removeAttribute(Le)}function be(pt,Le){return pt.getAttribute(Le)?.match(/\S+/g)??[]}const X="cdk-describedby-message",se="cdk-describedby-host";let W=0,xe=(()=>{class pt{constructor(We,$e){this._platform=$e,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+W++,this._document=We,this._id=(0,A.WQX)(A.sZ2)+"-"+W++}describe(We,$e,gt){if(!this._canBeDescribed(We,$e))return;const Zt=q($e,gt);"string"!=typeof $e?(Ae($e,this._id),this._messageRegistry.set(Zt,{messageElement:$e,referenceCount:0})):this._messageRegistry.has(Zt)||this._createMessageElement($e,gt),this._isElementDescribedByMessage(We,Zt)||this._addMessageReference(We,Zt)}removeDescription(We,$e,gt){if(!$e||!this._isElementNode(We))return;const Zt=q($e,gt);if(this._isElementDescribedByMessage(We,Zt)&&this._removeMessageReference(We,Zt),"string"==typeof $e){const _n=this._messageRegistry.get(Zt);_n&&0===_n.referenceCount&&this._deleteMessageElement(Zt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const We=this._document.querySelectorAll(`[${se}="${this._id}"]`);for(let $e=0;$e<We.length;$e++)this._removeCdkDescribedByReferenceIds(We[$e]),We[$e].removeAttribute(se);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(We,$e){const gt=this._document.createElement("div");Ae(gt,this._id),gt.textContent=We,$e&&gt.setAttribute("role",$e),this._createMessagesContainer(),this._messagesContainer.appendChild(gt),this._messageRegistry.set(q(We,$e),{messageElement:gt,referenceCount:0})}_deleteMessageElement(We){this._messageRegistry.get(We)?.messageElement?.remove(),this._messageRegistry.delete(We)}_createMessagesContainer(){if(this._messagesContainer)return;const We="cdk-describedby-message-container",$e=this._document.querySelectorAll(`.${We}[platform="server"]`);for(let Zt=0;Zt<$e.length;Zt++)$e[Zt].remove();const gt=this._document.createElement("div");gt.style.visibility="hidden",gt.classList.add(We),gt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&gt.setAttribute("platform","server"),this._document.body.appendChild(gt),this._messagesContainer=gt}_removeCdkDescribedByReferenceIds(We){const $e=be(We,"aria-describedby").filter(gt=>0!=gt.indexOf(X));We.setAttribute("aria-describedby",$e.join(" "))}_addMessageReference(We,$e){const gt=this._messageRegistry.get($e);ce(We,"aria-describedby",gt.messageElement.id),We.setAttribute(se,this._id),gt.referenceCount++}_removeMessageReference(We,$e){const gt=this._messageRegistry.get($e);gt.referenceCount--,re(We,"aria-describedby",gt.messageElement.id),We.removeAttribute(se)}_isElementDescribedByMessage(We,$e){const gt=be(We,"aria-describedby"),Zt=this._messageRegistry.get($e),_n=Zt&&Zt.messageElement.id;return!!_n&&-1!=gt.indexOf(_n)}_canBeDescribed(We,$e){if(!this._isElementNode(We))return!1;if($e&&"object"==typeof $e)return!0;const gt=null==$e?"":`${$e}`.trim(),Zt=We.getAttribute("aria-label");return!(!gt||Zt&&Zt.trim()===gt)}_isElementNode(We){return We.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(d.qQ),A.KVO(w.OD))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function q(pt,Le){return"string"==typeof pt?`${Le||""}/${pt}`:pt}function Ae(pt,Le){pt.id||(pt.id=`${X}-${Le}-${W++}`)}class Xe{constructor(Le,We){this._items=Le,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new D.B7,this._typeaheadSubscription=C.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=$e=>$e.disabled,this._pressedLetters=[],this.tabOut=new D.B7,this.change=new D.B7,Le instanceof A.rOR?this._itemChangesSubscription=Le.changes.subscribe($e=>this._itemsChanged($e.toArray())):(0,A.Hps)(Le)&&(this._effectRef=(0,A.QZP)(()=>this._itemsChanged(Le()),{injector:We}))}skipPredicate(Le){return this._skipPredicateFn=Le,this}withWrap(Le=!0){return this._wrap=Le,this}withVerticalOrientation(Le=!0){return this._vertical=Le,this}withHorizontalOrientation(Le){return this._horizontal=Le,this}withAllowedModifierKeys(Le){return this._allowedModifierKeys=Le,this}withTypeAhead(Le=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,y.M)(We=>this._pressedLetters.push(We)),(0,x.B)(Le),(0,$.p)(()=>this._pressedLetters.length>0),(0,R.T)(()=>this._pressedLetters.join(""))).subscribe(We=>{const $e=this._getItemsArray();for(let gt=1;gt<$e.length+1;gt++){const Zt=(this._activeItemIndex+gt)%$e.length,_n=$e[Zt];if(!this._skipPredicateFn(_n)&&0===_n.getLabel().toUpperCase().trim().indexOf(We)){this.setActiveItem(Zt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Le=!0){return this._homeAndEnd=Le,this}withPageUpDown(Le=!0,We=10){return this._pageUpAndDown={enabled:Le,delta:We},this}setActiveItem(Le){const We=this._activeItem;this.updateActiveItem(Le),this._activeItem!==We&&this.change.next(this._activeItemIndex)}onKeydown(Le){const We=Le.keyCode,gt=["altKey","ctrlKey","metaKey","shiftKey"].every(Zt=>!Le[Zt]||this._allowedModifierKeys.indexOf(Zt)>-1);switch(We){case E.wn:return void this.tabOut.next();case E.n6:if(this._vertical&&gt){this.setNextItemActive();break}return;case E.i7:if(this._vertical&&gt){this.setPreviousItemActive();break}return;case E.LE:if(this._horizontal&&gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case E.UQ:if(this._horizontal&&gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case E.yZ:if(this._homeAndEnd&&gt){this.setFirstItemActive();break}return;case E.Kp:if(this._homeAndEnd&&gt){this.setLastItemActive();break}return;case E.w_:if(this._pageUpAndDown.enabled&&gt){const Zt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Zt>0?Zt:0,1);break}return;case E.dB:if(this._pageUpAndDown.enabled&&gt){const Zt=this._activeItemIndex+this._pageUpAndDown.delta,_n=this._getItemsArray().length;this._setActiveItemByIndex(Zt<_n?Zt:_n-1,-1);break}return;default:return void((gt||(0,E.rp)(Le,"shiftKey"))&&(Le.key&&1===Le.key.length?this._letterKeyStream.next(Le.key.toLocaleUpperCase()):(We>=E.A&&We<=E.Z||We>=E.f2&&We<=E.bn)&&this._letterKeyStream.next(String.fromCharCode(We))))}this._pressedLetters=[],Le.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Le){const We=this._getItemsArray(),$e="number"==typeof Le?Le:We.indexOf(Le);this._activeItem=We[$e]??null,this._activeItemIndex=$e}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Le){this._wrap?this._setActiveInWrapMode(Le):this._setActiveInDefaultMode(Le)}_setActiveInWrapMode(Le){const We=this._getItemsArray();for(let $e=1;$e<=We.length;$e++){const gt=(this._activeItemIndex+Le*$e+We.length)%We.length;if(!this._skipPredicateFn(We[gt]))return void this.setActiveItem(gt)}}_setActiveInDefaultMode(Le){this._setActiveItemByIndex(this._activeItemIndex+Le,Le)}_setActiveItemByIndex(Le,We){const $e=this._getItemsArray();if($e[Le]){for(;this._skipPredicateFn($e[Le]);)if(!$e[Le+=We])return;this.setActiveItem(Le)}}_getItemsArray(){return(0,A.Hps)(this._items)?this._items():this._items instanceof A.rOR?this._items.toArray():this._items}_itemsChanged(Le){if(this._activeItem){const We=Le.indexOf(this._activeItem);We>-1&&We!==this._activeItemIndex&&(this._activeItemIndex=We)}}}class yt extends Xe{setActiveItem(Le){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Le),this.activeItem&&this.activeItem.setActiveStyles()}}class Je extends Xe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Le){return this._origin=Le,this}setActiveItem(Le){super.setActiveItem(Le),this.activeItem&&this.activeItem.focus(this._origin)}}let K=(()=>{class pt{constructor(We){this._platform=We}isDisabled(We){return We.hasAttribute("disabled")}isVisible(We){return function ge(pt){return!!(pt.offsetWidth||pt.offsetHeight||"function"==typeof pt.getClientRects&&pt.getClientRects().length)}(We)&&"visible"===getComputedStyle(We).visibility}isTabbable(We){if(!this._platform.isBrowser)return!1;const $e=function oe(pt){try{return pt.frameElement}catch{return null}}(function Ot(pt){return pt.ownerDocument&&pt.ownerDocument.defaultView||window}(We));if($e&&(-1===Qt($e)||!this.isVisible($e)))return!1;let gt=We.nodeName.toLowerCase(),Zt=Qt(We);return We.hasAttribute("contenteditable")?-1!==Zt:!("iframe"===gt||"object"===gt||this._platform.WEBKIT&&this._platform.IOS&&!function Vt(pt){let Le=pt.nodeName.toLowerCase(),We="input"===Le&&pt.type;return"text"===We||"password"===We||"select"===Le||"textarea"===Le}(We))&&("audio"===gt?!!We.hasAttribute("controls")&&-1!==Zt:"video"===gt?-1!==Zt&&(null!==Zt||this._platform.FIREFOX||We.hasAttribute("controls")):We.tabIndex>=0)}isFocusable(We,$e){return function Tt(pt){return!function Ne(pt){return function Qe(pt){return"input"==pt.nodeName.toLowerCase()}(pt)&&"hidden"==pt.type}(pt)&&(function ye(pt){let Le=pt.nodeName.toLowerCase();return"input"===Le||"select"===Le||"button"===Le||"textarea"===Le}(pt)||function Be(pt){return function Pt(pt){return"a"==pt.nodeName.toLowerCase()}(pt)&&pt.hasAttribute("href")}(pt)||pt.hasAttribute("contenteditable")||Ce(pt))}(We)&&!this.isDisabled(We)&&($e?.ignoreVisibility||this.isVisible(We))}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(w.OD))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function Ce(pt){if(!pt.hasAttribute("tabindex")||void 0===pt.tabIndex)return!1;let Le=pt.getAttribute("tabindex");return!(!Le||isNaN(parseInt(Le,10)))}function Qt(pt){if(!Ce(pt))return null;const Le=parseInt(pt.getAttribute("tabindex")||"",10);return isNaN(Le)?-1:Le}class ft{get enabled(){return this._enabled}set enabled(Le){this._enabled=Le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}constructor(Le,We,$e,gt,Zt=!1,_n){this._element=Le,this._checker=We,this._ngZone=$e,this._document=gt,this._injector=_n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Zt||this.attachAnchors()}destroy(){const Le=this._startAnchor,We=this._endAnchor;Le&&(Le.removeEventListener("focus",this.startAnchorListener),Le.remove()),We&&(We.removeEventListener("focus",this.endAnchorListener),We.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Le){return new Promise(We=>{this._executeOnStable(()=>We(this.focusInitialElement(Le)))})}focusFirstTabbableElementWhenReady(Le){return new Promise(We=>{this._executeOnStable(()=>We(this.focusFirstTabbableElement(Le)))})}focusLastTabbableElementWhenReady(Le){return new Promise(We=>{this._executeOnStable(()=>We(this.focusLastTabbableElement(Le)))})}_getRegionBoundary(Le){const We=this._element.querySelectorAll(`[cdk-focus-region-${Le}], [cdkFocusRegion${Le}], [cdk-focus-${Le}]`);return"start"==Le?We.length?We[0]:this._getFirstTabbableElement(this._element):We.length?We[We.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Le){const We=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(We){if(!this._checker.isFocusable(We)){const $e=this._getFirstTabbableElement(We);return $e?.focus(Le),!!$e}return We.focus(Le),!0}return this.focusFirstTabbableElement(Le)}focusFirstTabbableElement(Le){const We=this._getRegionBoundary("start");return We&&We.focus(Le),!!We}focusLastTabbableElement(Le){const We=this._getRegionBoundary("end");return We&&We.focus(Le),!!We}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const We=Le.children;for(let $e=0;$e<We.length;$e++){const gt=We[$e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(We[$e]):null;if(gt)return gt}return null}_getLastTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const We=Le.children;for(let $e=We.length-1;$e>=0;$e--){const gt=We[$e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(We[$e]):null;if(gt)return gt}return null}_createAnchor(){const Le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Le),Le.classList.add("cdk-visually-hidden"),Le.classList.add("cdk-focus-trap-anchor"),Le.setAttribute("aria-hidden","true"),Le}_toggleAnchorTabIndex(Le,We){Le?We.setAttribute("tabindex","0"):We.removeAttribute("tabindex")}toggleAnchors(Le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}_executeOnStable(Le){this._injector?(0,A.mal)(Le,{injector:this._injector}):setTimeout(Le)}}let Oe=(()=>{class pt{constructor(We,$e,gt){this._checker=We,this._ngZone=$e,this._injector=(0,A.WQX)(A.zZn),this._document=gt}create(We,$e=!1){return new ft(We,this._checker,this._ngZone,this._document,$e,this._injector)}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(K),A.KVO(A.SKi),A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),Ye=(()=>{class pt{get enabled(){return this.focusTrap?.enabled||!1}set enabled(We){this.focusTrap&&(this.focusTrap.enabled=We)}constructor(We,$e,gt){this._elementRef=We,this._focusTrapFactory=$e,this._previouslyFocusedElement=null,(0,A.WQX)(w.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(We){const $e=We.autoCapture;$e&&!$e.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,w.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function($e){return new($e||pt)(A.rXU(A.aKT),A.rXU(Oe),A.rXU(d.qQ))};static#t=this.\u0275dir=A.FsC({type:pt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",A.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",A.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[A.GFd,A.OA$]})}return pt})();function Ut(pt){return 0===pt.buttons||0===pt.detail}function wt(pt){const Le=pt.touches&&pt.touches[0]||pt.changedTouches&&pt.changedTouches[0];return!(!Le||-1!==Le.identifier||null!=Le.radiusX&&1!==Le.radiusX||null!=Le.radiusY&&1!==Le.radiusY)}const ut=new A.nKC("cdk-input-modality-detector-options"),dt={ignoreKeys:[E.A$,E.W3,E.eg,E.Ge,E.FX]},Pe=(0,w.BQ)({passive:!0,capture:!0});let pe=(()=>{class pt{get mostRecentModality(){return this._modality.value}constructor(We,$e,gt,Zt){this._platform=We,this._mostRecentTarget=null,this._modality=new S.t(null),this._lastTouchMs=0,this._onKeydown=_n=>{this._options?.ignoreKeys?.some(ct=>ct===_n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,w.Fb)(_n))},this._onMousedown=_n=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ut(_n)?"keyboard":"mouse"),this._mostRecentTarget=(0,w.Fb)(_n))},this._onTouchstart=_n=>{wt(_n)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,w.Fb)(_n))},this._options={...dt,...Zt},this.modalityDetected=this._modality.pipe((0,O.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,M.F)()),We.isBrowser&&$e.runOutsideAngular(()=>{gt.addEventListener("keydown",this._onKeydown,Pe),gt.addEventListener("mousedown",this._onMousedown,Pe),gt.addEventListener("touchstart",this._onTouchstart,Pe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pe),document.removeEventListener("mousedown",this._onMousedown,Pe),document.removeEventListener("touchstart",this._onTouchstart,Pe))}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(w.OD),A.KVO(A.SKi),A.KVO(d.qQ),A.KVO(ut,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();const lt=new A.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Gt(){return null}}),rn=new A.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Hn=0,Ei=(()=>{class pt{constructor(We,$e,gt,Zt){this._ngZone=$e,this._defaultOptions=Zt,this._document=gt,this._liveElement=We||this._createLiveElement()}announce(We,...$e){const gt=this._defaultOptions;let Zt,_n;return 1===$e.length&&"number"==typeof $e[0]?_n=$e[0]:[Zt,_n]=$e,this.clear(),clearTimeout(this._previousTimeout),Zt||(Zt=gt&&gt.politeness?gt.politeness:"polite"),null==_n&&gt&&(_n=gt.duration),this._liveElement.setAttribute("aria-live",Zt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ct=>this._currentResolve=ct)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=We,"number"==typeof _n&&(this._previousTimeout=setTimeout(()=>this.clear(),_n)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const We="cdk-live-announcer-element",$e=this._document.getElementsByClassName(We),gt=this._document.createElement("div");for(let Zt=0;Zt<$e.length;Zt++)$e[Zt].remove();return gt.classList.add(We),gt.classList.add("cdk-visually-hidden"),gt.setAttribute("aria-atomic","true"),gt.setAttribute("aria-live","polite"),gt.id="cdk-live-announcer-"+Hn++,this._document.body.appendChild(gt),gt}_exposeAnnouncerToModals(We){const $e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let gt=0;gt<$e.length;gt++){const Zt=$e[gt],_n=Zt.getAttribute("aria-owns");_n?-1===_n.indexOf(We)&&Zt.setAttribute("aria-owns",_n+" "+We):Zt.setAttribute("aria-owns",We)}}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(lt,8),A.KVO(A.SKi),A.KVO(d.qQ),A.KVO(rn,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();var nn=function(pt){return pt[pt.IMMEDIATE=0]="IMMEDIATE",pt[pt.EVENTUAL=1]="EVENTUAL",pt}(nn||{});const xt=new A.nKC("cdk-focus-monitor-default-options"),zt=(0,w.BQ)({passive:!0,capture:!0});let $t=(()=>{class pt{constructor(We,$e,gt,Zt,_n){this._ngZone=We,this._platform=$e,this._inputModalityDetector=gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.B7,this._rootNodeFocusAndBlurListener=ct=>{for(let st=(0,w.Fb)(ct);st;st=st.parentElement)"focus"===ct.type?this._onFocus(ct,st):this._onBlur(ct,st)},this._document=Zt,this._detectionMode=_n?.detectionMode||nn.IMMEDIATE}monitor(We,$e=!1){const gt=(0,F.i8)(We);if(!this._platform.isBrowser||1!==gt.nodeType)return(0,I.of)();const Zt=(0,w.KT)(gt)||this._getDocument(),_n=this._elementInfo.get(gt);if(_n)return $e&&(_n.checkChildren=!0),_n.subject;const ct={checkChildren:$e,subject:new D.B7,rootNode:Zt};return this._elementInfo.set(gt,ct),this._registerGlobalListeners(ct),ct.subject}stopMonitoring(We){const $e=(0,F.i8)(We),gt=this._elementInfo.get($e);gt&&(gt.subject.complete(),this._setClasses($e),this._elementInfo.delete($e),this._removeGlobalListeners(gt))}focusVia(We,$e,gt){const Zt=(0,F.i8)(We);Zt===this._getDocument().activeElement?this._getClosestElementsInfo(Zt).forEach(([ct,De])=>this._originChanged(ct,$e,De)):(this._setOrigin($e),"function"==typeof Zt.focus&&Zt.focus(gt))}ngOnDestroy(){this._elementInfo.forEach((We,$e)=>this.stopMonitoring($e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(We){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(We)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:We&&this._isLastInteractionFromInputLabel(We)?"mouse":"program"}_shouldBeAttributedToTouch(We){return this._detectionMode===nn.EVENTUAL||!!We?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(We,$e){We.classList.toggle("cdk-focused",!!$e),We.classList.toggle("cdk-touch-focused","touch"===$e),We.classList.toggle("cdk-keyboard-focused","keyboard"===$e),We.classList.toggle("cdk-mouse-focused","mouse"===$e),We.classList.toggle("cdk-program-focused","program"===$e)}_setOrigin(We,$e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=We,this._originFromTouchInteraction="touch"===We&&$e,this._detectionMode===nn.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(We,$e){const gt=this._elementInfo.get($e),Zt=(0,w.Fb)(We);!gt||!gt.checkChildren&&$e!==Zt||this._originChanged($e,this._getFocusOrigin(Zt),gt)}_onBlur(We,$e){const gt=this._elementInfo.get($e);!gt||gt.checkChildren&&We.relatedTarget instanceof Node&&$e.contains(We.relatedTarget)||(this._setClasses($e),this._emitOrigin(gt,null))}_emitOrigin(We,$e){We.subject.observers.length&&this._ngZone.run(()=>We.subject.next($e))}_registerGlobalListeners(We){if(!this._platform.isBrowser)return;const $e=We.rootNode,gt=this._rootNodeFocusListenerCount.get($e)||0;gt||this._ngZone.runOutsideAngular(()=>{$e.addEventListener("focus",this._rootNodeFocusAndBlurListener,zt),$e.addEventListener("blur",this._rootNodeFocusAndBlurListener,zt)}),this._rootNodeFocusListenerCount.set($e,gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,L.Q)(this._stopInputModalityDetector)).subscribe(Zt=>{this._setOrigin(Zt,!0)}))}_removeGlobalListeners(We){const $e=We.rootNode;if(this._rootNodeFocusListenerCount.has($e)){const gt=this._rootNodeFocusListenerCount.get($e);gt>1?this._rootNodeFocusListenerCount.set($e,gt-1):($e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zt),$e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zt),this._rootNodeFocusListenerCount.delete($e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(We,$e,gt){this._setClasses(We,$e),this._emitOrigin(gt,$e),this._lastFocusOrigin=$e}_getClosestElementsInfo(We){const $e=[];return this._elementInfo.forEach((gt,Zt)=>{(Zt===We||gt.checkChildren&&Zt.contains(We))&&$e.push([Zt,gt])}),$e}_isLastInteractionFromInputLabel(We){const{_mostRecentTarget:$e,mostRecentModality:gt}=this._inputModalityDetector;if("mouse"!==gt||!$e||$e===We||"INPUT"!==We.nodeName&&"TEXTAREA"!==We.nodeName||We.disabled)return!1;const Zt=We.labels;if(Zt)for(let _n=0;_n<Zt.length;_n++)if(Zt[_n].contains($e))return!0;return!1}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(A.SKi),A.KVO(w.OD),A.KVO(pe),A.KVO(d.qQ,8),A.KVO(xt,8))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),bn=(()=>{class pt{constructor(We,$e){this._elementRef=We,this._focusMonitor=$e,this._focusOrigin=null,this.cdkFocusChange=new A.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const We=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(We,1===We.nodeType&&We.hasAttribute("cdkMonitorSubtreeFocus")).subscribe($e=>{this._focusOrigin=$e,this.cdkFocusChange.emit($e)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function($e){return new($e||pt)(A.rXU(A.aKT),A.rXU($t))};static#t=this.\u0275dir=A.FsC({type:pt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return pt})();var Pn=function(pt){return pt[pt.NONE=0]="NONE",pt[pt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",pt[pt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",pt}(Pn||{});const Ri="cdk-high-contrast-black-on-white",Dn="cdk-high-contrast-white-on-black",Kn="cdk-high-contrast-active";let xn=(()=>{class pt{constructor(We,$e){this._platform=We,this._document=$e,this._breakpointSubscription=(0,A.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Pn.NONE;const We=this._document.createElement("div");We.style.backgroundColor="rgb(1,2,3)",We.style.position="absolute",this._document.body.appendChild(We);const $e=this._document.defaultView||window,gt=$e&&$e.getComputedStyle?$e.getComputedStyle(We):null,Zt=(gt&&gt.backgroundColor||"").replace(/ /g,"");switch(We.remove(),Zt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pn.BLACK_ON_WHITE}return Pn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const We=this._document.body.classList;We.remove(Kn,Ri,Dn),this._hasCheckedHighContrastMode=!0;const $e=this.getHighContrastMode();$e===Pn.BLACK_ON_WHITE?We.add(Kn,Ri):$e===Pn.WHITE_ON_BLACK&&We.add(Kn,Dn)}}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(w.OD),A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),Xn=(()=>{class pt{constructor(We){We._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function($e){return new($e||pt)(A.KVO(xn))};static#t=this.\u0275mod=A.$C({type:pt});static#n=this.\u0275inj=A.G2t({imports:[U.w5]})}return pt})()},3680:(hn,Re,_)=>{"use strict";_.d(Re,{dS:()=>I,jI:()=>y});var d=_(7404),A=_(316);const w=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function D(){return(0,d.WQX)(A.qQ)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let I=(()=>{class x{constructor(R){this.value="ltr",this.change=new d.bkB,R&&(this.value=function S(x){const $=x?.toLowerCase()||"";return"auto"===$&&typeof navigator<"u"&&navigator?.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===$?"rtl":"ltr"}((R.body?R.body.dir:null)||(R.documentElement?R.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(O){return new(O||x)(d.KVO(w,8))};static#t=this.\u0275prov=d.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})(),y=(()=>{class x{static#e=this.\u0275fac=function(O){return new(O||x)};static#t=this.\u0275mod=d.$C({type:x});static#n=this.\u0275inj=d.G2t({})}return x})()},2352:(hn,Re,_)=>{"use strict";_.d(Re,{B0:()=>D,FQ:()=>I});var d=_(316),A=_(7404);class w{constructor(y,x){this._document=x;const $=this._textarea=this._document.createElement("textarea"),R=$.style;R.position="fixed",R.top=R.opacity="0",R.left="-999em",$.setAttribute("aria-hidden","true"),$.value=y,$.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild($)}copy(){const y=this._textarea;let x=!1;try{if(y){const $=this._document.activeElement;y.select(),y.setSelectionRange(0,y.value.length),x=this._document.execCommand("copy"),$&&$.focus()}}catch{}return x}destroy(){const y=this._textarea;y&&(y.remove(),this._textarea=void 0)}}let D=(()=>{class E{constructor(x){this._document=x}copy(x){const $=this.beginCopy(x),R=$.copy();return $.destroy(),R}beginCopy(x){return new w(x,this._document)}static#e=this.\u0275fac=function($){return new($||E)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),I=(()=>{class E{static#e=this.\u0275fac=function($){return new($||E)};static#t=this.\u0275mod=A.$C({type:E});static#n=this.\u0275inj=A.G2t({})}return E})()},2814:(hn,Re,_)=>{"use strict";_.d(Re,{FG:()=>C,OE:()=>w,a1:()=>S,he:()=>A,i8:()=>I,o1:()=>D});var d=_(7404);function A(y){return null!=y&&"false"!=`${y}`}function w(y,x=0){return D(y)?Number(y):x}function D(y){return!isNaN(parseFloat(y))&&!isNaN(Number(y))}function C(y){return Array.isArray(y)?y:[y]}function S(y){return null==y?"":"string"==typeof y?y:`${y}px`}function I(y){return y instanceof d.aKT?y.nativeElement:y}},7989:(hn,Re,_)=>{"use strict";_.d(Re,{CB:()=>O,DQ:()=>R,Q3:()=>y,hx:()=>E,qS:()=>S,sL:()=>x,xn:()=>$,y4:()=>I,zP:()=>L});var d=_(1810),A=_(6899),w=_(1536),D=_(3119),C=_(7404);class S{}function I(U){return U&&"function"==typeof U.connect&&!(U instanceof d.G)}class E extends S{constructor(F){super(),this._data=F}connect(){return(0,A.A)(this._data)?this._data:(0,w.of)(this._data)}disconnect(){}}var y=function(U){return U[U.REPLACED=0]="REPLACED",U[U.INSERTED=1]="INSERTED",U[U.MOVED=2]="MOVED",U[U.REMOVED=3]="REMOVED",U}(y||{});const x=new C.nKC("_ViewRepeater");class ${applyChanges(F,J,ue,ce,re){F.forEachOperation((be,j,X)=>{let se,W;if(null==be.previousIndex){const xe=ue(be,j,X);se=J.createEmbeddedView(xe.templateRef,xe.context,xe.index),W=y.INSERTED}else null==X?(J.remove(j),W=y.REMOVED):(se=J.get(j),J.move(se,X),W=y.MOVED);re&&re({context:se?.context,operation:W,record:be})})}detach(){}}class R{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(F,J,ue,ce,re){F.forEachOperation((be,j,X)=>{let se,W;null==be.previousIndex?(se=this._insertView(()=>ue(be,j,X),X,J,ce(be)),W=se?y.INSERTED:y.REPLACED):null==X?(this._detachAndCacheView(j,J),W=y.REMOVED):(se=this._moveView(j,X,J,ce(be)),W=y.MOVED),re&&re({context:se?.context,operation:W,record:be})})}detach(){for(const F of this._viewCache)F.destroy();this._viewCache=[]}_insertView(F,J,ue,ce){const re=this._insertViewFromCache(J,ue);if(re)return void(re.context.$implicit=ce);const be=F();return ue.createEmbeddedView(be.templateRef,be.context,be.index)}_detachAndCacheView(F,J){const ue=J.detach(F);this._maybeCacheView(ue,J)}_moveView(F,J,ue,ce){const re=ue.get(F);return ue.move(re,J),re.context.$implicit=ce,re}_maybeCacheView(F,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(F);else{const ue=J.indexOf(F);-1===ue?F.destroy():J.remove(ue)}}_insertViewFromCache(F,J){const ue=this._viewCache.pop();return ue&&J.insert(ue,F),ue||null}}class O{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(F=!1,J,ue=!0,ce){this._multiple=F,this._emitChanges=ue,this.compareWith=ce,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new D.B7,J&&J.length&&(F?J.forEach(re=>this._markSelected(re)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...F){this._verifyValueAssignment(F),F.forEach(ue=>this._markSelected(ue));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...F){this._verifyValueAssignment(F),F.forEach(ue=>this._unmarkSelected(ue));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...F){this._verifyValueAssignment(F);const J=this.selected,ue=new Set(F);F.forEach(re=>this._markSelected(re)),J.filter(re=>!ue.has(this._getConcreteValue(re,ue))).forEach(re=>this._unmarkSelected(re));const ce=this._hasQueuedChanges();return this._emitChangeEvent(),ce}toggle(F){return this.isSelected(F)?this.deselect(F):this.select(F)}clear(F=!0){this._unmarkAll();const J=this._hasQueuedChanges();return F&&this._emitChangeEvent(),J}isSelected(F){return this._selection.has(this._getConcreteValue(F))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(F){this._multiple&&this.selected&&this._selected.sort(F)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(F){F=this._getConcreteValue(F),this.isSelected(F)||(this._multiple||this._unmarkAll(),this.isSelected(F)||this._selection.add(F),this._emitChanges&&this._selectedToEmit.push(F))}_unmarkSelected(F){F=this._getConcreteValue(F),this.isSelected(F)&&(this._selection.delete(F),this._emitChanges&&this._deselectedToEmit.push(F))}_unmarkAll(){this.isEmpty()||this._selection.forEach(F=>this._unmarkSelected(F))}_verifyValueAssignment(F){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(F,J){if(this.compareWith){J=J??this._selection;for(let ue of J)if(this.compareWith(F,ue))return ue;return F}return F}}let L=(()=>{class U{constructor(){this._listeners=[]}notify(J,ue){for(let ce of this._listeners)ce(J,ue)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(ue=>J!==ue)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ue){return new(ue||U)};static#t=this.\u0275prov=C.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},3482:(hn,Re,_)=>{"use strict";_.d(Re,{Pe:()=>M,Ph:()=>W,lG:()=>X,sU:()=>U});var d=_(2102),A=_(1570),w=_(7699),D=_(9168),C=_(316),S=_(7404),I=_(4879),E=_(3119),y=_(6965),x=_(1536),$=_(3680),R=_(9273);function O(xe,q){}class M{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let U=(()=>{class xe extends D.lb{constructor(Ae,Xe,yt,Je,je,K,oe,ge){super(),this._elementRef=Ae,this._focusTrapFactory=Xe,this._config=Je,this._interactivityChecker=je,this._ngZone=K,this._overlayRef=oe,this._focusMonitor=ge,this._platform=(0,S.WQX)(w.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,S.WQX)(S.gRc),this._injector=(0,S.WQX)(S.zZn),this._isDestroyed=!1,this.attachDomPortal=ye=>{this._portalOutlet.hasAttached();const Ne=this._portalOutlet.attachDomPortal(ye);return this._contentAttached(),Ne},this._document=yt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(Ae){this._ariaLabelledByQueue.push(Ae),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(Ae){const Xe=this._ariaLabelledByQueue.indexOf(Ae);Xe>-1&&(this._ariaLabelledByQueue.splice(Xe,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(Ae){this._portalOutlet.hasAttached();const Xe=this._portalOutlet.attachComponentPortal(Ae);return this._contentAttached(),Xe}attachTemplatePortal(Ae){this._portalOutlet.hasAttached();const Xe=this._portalOutlet.attachTemplatePortal(Ae);return this._contentAttached(),Xe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Ae,Xe){this._interactivityChecker.isFocusable(Ae)||(Ae.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const yt=()=>{Ae.removeEventListener("blur",yt),Ae.removeEventListener("mousedown",yt),Ae.removeAttribute("tabindex")};Ae.addEventListener("blur",yt),Ae.addEventListener("mousedown",yt)})),Ae.focus(Xe)}_focusByCssSelector(Ae,Xe){let yt=this._elementRef.nativeElement.querySelector(Ae);yt&&this._forceFocus(yt,Xe)}_trapFocus(){this._isDestroyed||(0,S.mal)(()=>{const Ae=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Ae.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const Ae=this._config.restoreFocus;let Xe=null;if("string"==typeof Ae?Xe=this._document.querySelector(Ae):"boolean"==typeof Ae?Xe=Ae?this._elementFocusedBeforeDialogWasOpened:null:Ae&&(Xe=Ae),this._config.restoreFocus&&Xe&&"function"==typeof Xe.focus){const yt=(0,w.vc)(),Je=this._elementRef.nativeElement;(!yt||yt===this._document.body||yt===Je||Je.contains(yt))&&(this._focusMonitor?(this._focusMonitor.focusVia(Xe,this._closeInteractionType),this._closeInteractionType=null):Xe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Ae=this._elementRef.nativeElement,Xe=(0,w.vc)();return Ae===Xe||Ae.contains(Xe)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,w.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Xe){return new(Xe||xe)(S.rXU(S.aKT),S.rXU(d.GX),S.rXU(C.qQ,8),S.rXU(M),S.rXU(d.Z7),S.rXU(S.SKi),S.rXU(A.yY),S.rXU(d.FN))};static#t=this.\u0275cmp=S.VBU({type:xe,selectors:[["cdk-dialog-container"]],viewQuery:function(Xe,yt){if(1&Xe&&S.GBs(D.I3,7),2&Xe){let Je;S.mGM(Je=S.lsd())&&(yt._portalOutlet=Je.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Xe,yt){2&Xe&&S.BMQ("id",yt._config.id||null)("role",yt._config.role)("aria-modal",yt._config.ariaModal)("aria-labelledby",yt._config.ariaLabel?null:yt._ariaLabelledByQueue[0])("aria-label",yt._config.ariaLabel)("aria-describedby",yt._config.ariaDescribedBy||null)},standalone:!0,features:[S.Vt3,S.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Xe,yt){1&Xe&&S.DNE(0,O,0,0,"ng-template",0)},dependencies:[D.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return xe})();class F{constructor(q,Ae){this.overlayRef=q,this.config=Ae,this.closed=new E.B7,this.disableClose=Ae.disableClose,this.backdropClick=q.backdropClick(),this.keydownEvents=q.keydownEvents(),this.outsidePointerEvents=q.outsidePointerEvents(),this.id=Ae.id,this.keydownEvents.subscribe(Xe=>{Xe.keyCode===I._f&&!this.disableClose&&!(0,I.rp)(Xe)&&(Xe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=q.detachments().subscribe(()=>{!1!==Ae.closeOnOverlayDetachments&&this.close()})}close(q,Ae){if(this.containerInstance){const Xe=this.closed;this.containerInstance._closeInteractionType=Ae?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Xe.next(q),Xe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(q="",Ae=""){return this.overlayRef.updateSize({width:q,height:Ae}),this}addPanelClass(q){return this.overlayRef.addPanelClass(q),this}removePanelClass(q){return this.overlayRef.removePanelClass(q),this}}const J=new S.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const xe=(0,S.WQX)(A.hJ);return()=>xe.scrollStrategies.block()}}),ue=new S.nKC("DialogData"),ce=new S.nKC("DefaultDialogConfig");let j=0,X=(()=>{class xe{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Ae,Xe,yt,Je,je,K){this._overlay=Ae,this._injector=Xe,this._defaultOptions=yt,this._parentDialog=Je,this._overlayContainer=je,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.B7,this._afterOpenedAtThisLevel=new E.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,y.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,R.Z)(void 0))),this._scrollStrategy=K}open(Ae,Xe){(Xe={...this._defaultOptions||new M,...Xe}).id=Xe.id||"cdk-dialog-"+j++,Xe.id&&this.getDialogById(Xe.id);const Je=this._getOverlayConfig(Xe),je=this._overlay.create(Je),K=new F(je,Xe),oe=this._attachContainer(je,K,Xe);return K.containerInstance=oe,this._attachDialogContent(Ae,K,oe,Xe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(K),K.closed.subscribe(()=>this._removeOpenDialog(K,!0)),this.afterOpened.next(K),K}closeAll(){se(this.openDialogs,Ae=>Ae.close())}getDialogById(Ae){return this.openDialogs.find(Xe=>Xe.id===Ae)}ngOnDestroy(){se(this._openDialogsAtThisLevel,Ae=>{!1===Ae.config.closeOnDestroy&&this._removeOpenDialog(Ae,!1)}),se(this._openDialogsAtThisLevel,Ae=>Ae.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Ae){const Xe=new A.rR({positionStrategy:Ae.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Ae.scrollStrategy||this._scrollStrategy(),panelClass:Ae.panelClass,hasBackdrop:Ae.hasBackdrop,direction:Ae.direction,minWidth:Ae.minWidth,minHeight:Ae.minHeight,maxWidth:Ae.maxWidth,maxHeight:Ae.maxHeight,width:Ae.width,height:Ae.height,disposeOnNavigation:Ae.closeOnNavigation});return Ae.backdropClass&&(Xe.backdropClass=Ae.backdropClass),Xe}_attachContainer(Ae,Xe,yt){const Je=yt.injector||yt.viewContainerRef?.injector,je=[{provide:M,useValue:yt},{provide:F,useValue:Xe},{provide:A.yY,useValue:Ae}];let K;yt.container?"function"==typeof yt.container?K=yt.container:(K=yt.container.type,je.push(...yt.container.providers(yt))):K=U;const oe=new D.A8(K,yt.viewContainerRef,S.zZn.create({parent:Je||this._injector,providers:je}),yt.componentFactoryResolver);return Ae.attach(oe).instance}_attachDialogContent(Ae,Xe,yt,Je){if(Ae instanceof S.C4Q){const je=this._createInjector(Je,Xe,yt,void 0);let K={$implicit:Je.data,dialogRef:Xe};Je.templateContext&&(K={...K,..."function"==typeof Je.templateContext?Je.templateContext():Je.templateContext}),yt.attachTemplatePortal(new D.VA(Ae,null,K,je))}else{const je=this._createInjector(Je,Xe,yt,this._injector),K=yt.attachComponentPortal(new D.A8(Ae,Je.viewContainerRef,je,Je.componentFactoryResolver));Xe.componentRef=K,Xe.componentInstance=K.instance}}_createInjector(Ae,Xe,yt,Je){const je=Ae.injector||Ae.viewContainerRef?.injector,K=[{provide:ue,useValue:Ae.data},{provide:F,useValue:Xe}];return Ae.providers&&("function"==typeof Ae.providers?K.push(...Ae.providers(Xe,Ae,yt)):K.push(...Ae.providers)),Ae.direction&&(!je||!je.get($.dS,null,{optional:!0}))&&K.push({provide:$.dS,useValue:{value:Ae.direction,change:(0,x.of)()}}),S.zZn.create({parent:je||Je,providers:K})}_removeOpenDialog(Ae,Xe){const yt=this.openDialogs.indexOf(Ae);yt>-1&&(this.openDialogs.splice(yt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Je,je)=>{Je?je.setAttribute("aria-hidden",Je):je.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Xe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Ae=this._overlayContainer.getContainerElement();if(Ae.parentElement){const Xe=Ae.parentElement.children;for(let yt=Xe.length-1;yt>-1;yt--){const Je=Xe[yt];Je!==Ae&&"SCRIPT"!==Je.nodeName&&"STYLE"!==Je.nodeName&&!Je.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Je,Je.getAttribute("aria-hidden")),Je.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Ae=this._parentDialog;return Ae?Ae._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Xe){return new(Xe||xe)(S.KVO(A.hJ),S.KVO(S.zZn),S.KVO(ce,8),S.KVO(xe,12),S.KVO(A.Sf),S.KVO(J))};static#t=this.\u0275prov=S.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();function se(xe,q){let Ae=xe.length;for(;Ae--;)q(xe[Ae])}let W=(()=>{class xe{static#e=this.\u0275fac=function(Xe){return new(Xe||xe)};static#t=this.\u0275mod=S.$C({type:xe});static#n=this.\u0275inj=S.G2t({providers:[X],imports:[A.z_,D.jc,d.Pd,D.jc]})}return xe})()},4879:(hn,Re,_)=>{"use strict";_.d(Re,{A:()=>Be,A$:()=>E,FX:()=>S,Fm:()=>C,G_:()=>A,Ge:()=>Hn,KE:()=>ss,Kp:()=>L,LE:()=>ue,SJ:()=>X,UQ:()=>F,W3:()=>I,Z:()=>rn,_f:()=>$,bn:()=>K,dB:()=>M,eg:()=>He,f2:()=>se,i7:()=>J,n6:()=>ce,rp:()=>kt,t6:()=>R,w_:()=>O,wn:()=>w,yZ:()=>U});const A=8,w=9,C=13,S=16,I=17,E=18,$=27,R=32,O=33,M=34,L=35,U=36,F=37,J=38,ue=39,ce=40,X=46,se=48,K=57,Be=65,rn=90,Hn=91,ss=188,He=224;function kt(Bt,...Jn){return Jn.length?Jn.some(Pi=>Bt[Pi]):Bt.altKey||Bt.shiftKey||Bt.ctrlKey||Bt.metaKey}},7912:(hn,Re,_)=>{"use strict";_.d(Re,{QP:()=>ce,Rp:()=>be});var d=_(7404),A=_(2814),w=_(3119),D=_(2175),C=_(6933),S=_(434),I=_(3602),E=_(1314),y=_(9803),x=_(5443),$=_(9273),R=_(7464),O=_(7699);const L=new Set;let U,F=(()=>{class j{constructor(se,W){this._platform=se,this._nonce=W,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ue}matchMedia(se){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(j,X){if(!L.has(j))try{U||(U=document.createElement("style"),X&&U.setAttribute("nonce",X),U.setAttribute("type","text/css"),document.head.appendChild(U)),U.sheet&&(U.sheet.insertRule(`@media ${j} {body{ }}`,0),L.add(j))}catch(se){console.error(se)}}(se,this._nonce),this._matchMedia(se)}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(O.OD),d.KVO(d.BIS,8))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();function ue(j){return{matches:"all"===j||""===j,media:j,addListener:()=>{},removeListener:()=>{}}}let ce=(()=>{class j{constructor(se,W){this._mediaMatcher=se,this._zone=W,this._queries=new Map,this._destroySubject=new w.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(se){return re((0,A.FG)(se)).some(xe=>this._registerQuery(xe).mql.matches)}observe(se){const xe=re((0,A.FG)(se)).map(Ae=>this._registerQuery(Ae).observable);let q=(0,D.zV)(xe);return q=(0,C.x)(q.pipe((0,I.s)(1)),q.pipe((0,E.i)(1),(0,y.B)(0))),q.pipe((0,x.T)(Ae=>{const Xe={matches:!1,breakpoints:{}};return Ae.forEach(({matches:yt,query:Je})=>{Xe.matches=Xe.matches||yt,Xe.breakpoints[Je]=yt}),Xe}))}_registerQuery(se){if(this._queries.has(se))return this._queries.get(se);const W=this._mediaMatcher.matchMedia(se),q={observable:new S.c(Ae=>{const Xe=yt=>this._zone.run(()=>Ae.next(yt));return W.addListener(Xe),()=>{W.removeListener(Xe)}}).pipe((0,$.Z)(W),(0,x.T)(({matches:Ae})=>({query:se,matches:Ae})),(0,R.Q)(this._destroySubject)),mql:W};return this._queries.set(se,q),q}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(F),d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();function re(j){return j.map(X=>X.split(",")).reduce((X,se)=>X.concat(se)).map(X=>X.trim())}const be={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9539:(hn,Re,_)=>{"use strict";_.d(Re,{w5:()=>S});var d=_(7404);let w=(()=>{class I{create(y){return typeof MutationObserver>"u"?null:new MutationObserver(y)}static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),S=(()=>{class I{static#e=this.\u0275fac=function(x){return new(x||I)};static#t=this.\u0275mod=d.$C({type:I});static#n=this.\u0275inj=d.G2t({providers:[w]})}return I})()},1570:(hn,Re,_)=>{"use strict";_.d(Re,{$Q:()=>at,Sf:()=>K,WB:()=>ot,hJ:()=>Ye,rR:()=>X,yY:()=>oe,z_:()=>wt});var d=_(4053),A=_(316),w=_(7404),D=_(2814),C=_(7699),S=_(8627),I=_(7464),E=_(370),y=_(3680),x=_(9168),$=_(3119),R=_(2672),O=_(7405),M=_(4879);const L=(0,C.CZ)();class U{constructor(Z,Pe){this._viewportRuler=Z,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Pe}attach(){}enable(){if(this._canBeEnabled()){const Z=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Z.style.left||"",this._previousHTMLStyles.top=Z.style.top||"",Z.style.left=(0,D.a1)(-this._previousScrollPosition.left),Z.style.top=(0,D.a1)(-this._previousScrollPosition.top),Z.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Z=this._document.documentElement,pe=Z.style,lt=this._document.body.style,Gt=pe.scrollBehavior||"",rn=lt.scrollBehavior||"";this._isEnabled=!1,pe.left=this._previousHTMLStyles.left,pe.top=this._previousHTMLStyles.top,Z.classList.remove("cdk-global-scrollblock"),L&&(pe.scrollBehavior=lt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),L&&(pe.scrollBehavior=Gt,lt.scrollBehavior=rn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Pe=this._document.body,pe=this._viewportRuler.getViewportSize();return Pe.scrollHeight>pe.height||Pe.scrollWidth>pe.width}}class J{constructor(Z,Pe,pe,lt){this._scrollDispatcher=Z,this._ngZone=Pe,this._viewportRuler=pe,this._config=lt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Z){this._overlayRef=Z}enable(){if(this._scrollSubscription)return;const Z=this._scrollDispatcher.scrolled(0).pipe((0,S.p)(Pe=>!Pe||!this._overlayRef.overlayElement.contains(Pe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Z.subscribe(()=>{const Pe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Pe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Z.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ue{enable(){}disable(){}attach(){}}function ce(dt,Z){return Z.some(Pe=>dt.bottom<Pe.top||dt.top>Pe.bottom||dt.right<Pe.left||dt.left>Pe.right)}function re(dt,Z){return Z.some(Pe=>dt.top<Pe.top||dt.bottom>Pe.bottom||dt.left<Pe.left||dt.right>Pe.right)}class be{constructor(Z,Pe,pe,lt){this._scrollDispatcher=Z,this._viewportRuler=Pe,this._ngZone=pe,this._config=lt,this._scrollSubscription=null}attach(Z){this._overlayRef=Z}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Pe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:pe,height:lt}=this._viewportRuler.getViewportSize();ce(Pe,[{width:pe,height:lt,bottom:lt,right:pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let j=(()=>{class dt{constructor(Pe,pe,lt,Gt){this._scrollDispatcher=Pe,this._viewportRuler=pe,this._ngZone=lt,this.noop=()=>new ue,this.close=rn=>new J(this._scrollDispatcher,this._ngZone,this._viewportRuler,rn),this.block=()=>new U(this._viewportRuler,this._document),this.reposition=rn=>new be(this._scrollDispatcher,this._viewportRuler,this._ngZone,rn),this._document=Gt}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(d.R),w.KVO(d.Xj),w.KVO(w.SKi),w.KVO(A.qQ))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();class X{constructor(Z){if(this.scrollStrategy=new ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Z){const Pe=Object.keys(Z);for(const pe of Pe)void 0!==Z[pe]&&(this[pe]=Z[pe])}}}class xe{constructor(Z,Pe){this.connectionPair=Z,this.scrollableViewProperties=Pe}}let Xe=(()=>{class dt{constructor(Pe){this._attachedOverlays=[],this._document=Pe}ngOnDestroy(){this.detach()}add(Pe){this.remove(Pe),this._attachedOverlays.push(Pe)}remove(Pe){const pe=this._attachedOverlays.indexOf(Pe);pe>-1&&this._attachedOverlays.splice(pe,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(A.qQ))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),yt=(()=>{class dt extends Xe{constructor(Pe,pe){super(Pe),this._ngZone=pe,this._keydownListener=lt=>{const Gt=this._attachedOverlays;for(let rn=Gt.length-1;rn>-1;rn--)if(Gt[rn]._keydownEvents.observers.length>0){const Hn=Gt[rn]._keydownEvents;this._ngZone?this._ngZone.run(()=>Hn.next(lt)):Hn.next(lt);break}}}add(Pe){super.add(Pe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(A.qQ),w.KVO(w.SKi,8))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),Je=(()=>{class dt extends Xe{constructor(Pe,pe,lt){super(Pe),this._platform=pe,this._ngZone=lt,this._cursorStyleIsSet=!1,this._pointerDownListener=Gt=>{this._pointerDownEventTarget=(0,C.Fb)(Gt)},this._clickListener=Gt=>{const rn=(0,C.Fb)(Gt),Hn="click"===Gt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:rn;this._pointerDownEventTarget=null;const Ei=this._attachedOverlays.slice();for(let on=Ei.length-1;on>-1;on--){const nn=Ei[on];if(nn._outsidePointerEvents.observers.length<1||!nn.hasAttached())continue;if(je(nn.overlayElement,rn)||je(nn.overlayElement,Hn))break;const xt=nn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>xt.next(Gt)):xt.next(Gt)}}}add(Pe){if(super.add(Pe),!this._isAttached){const pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(pe)):this._addEventListeners(pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=pe.style.cursor,pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Pe=this._document.body;Pe.removeEventListener("pointerdown",this._pointerDownListener,!0),Pe.removeEventListener("click",this._clickListener,!0),Pe.removeEventListener("auxclick",this._clickListener,!0),Pe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Pe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Pe){Pe.addEventListener("pointerdown",this._pointerDownListener,!0),Pe.addEventListener("click",this._clickListener,!0),Pe.addEventListener("auxclick",this._clickListener,!0),Pe.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(A.qQ),w.KVO(C.OD),w.KVO(w.SKi,8))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();function je(dt,Z){const Pe=typeof ShadowRoot<"u"&&ShadowRoot;let pe=Z;for(;pe;){if(pe===dt)return!0;pe=Pe&&pe instanceof ShadowRoot?pe.host:pe.parentNode}return!1}let K=(()=>{class dt{constructor(Pe,pe){this._platform=pe,this._document=Pe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Pe="cdk-overlay-container";if(this._platform.isBrowser||(0,C.v8)()){const lt=this._document.querySelectorAll(`.${Pe}[platform="server"], .${Pe}[platform="test"]`);for(let Gt=0;Gt<lt.length;Gt++)lt[Gt].remove()}const pe=this._document.createElement("div");pe.classList.add(Pe),(0,C.v8)()?pe.setAttribute("platform","test"):this._platform.isBrowser||pe.setAttribute("platform","server"),this._document.body.appendChild(pe),this._containerElement=pe}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(A.qQ),w.KVO(C.OD))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();class oe{constructor(Z,Pe,pe,lt,Gt,rn,Hn,Ei,on,nn=!1,xt){this._portalOutlet=Z,this._host=Pe,this._pane=pe,this._config=lt,this._ngZone=Gt,this._keyboardDispatcher=rn,this._document=Hn,this._location=Ei,this._outsideClickDispatcher=on,this._animationsDisabled=nn,this._injector=xt,this._backdropElement=null,this._backdropClick=new $.B7,this._attachments=new $.B7,this._detachments=new $.B7,this._locationChanges=R.y.EMPTY,this._backdropClickHandler=zt=>this._backdropClick.next(zt),this._backdropTransitionendHandler=zt=>{this._disposeBackdrop(zt.target)},this._keydownEvents=new $.B7,this._outsidePointerEvents=new $.B7,this._renders=new $.B7,lt.scrollStrategy&&(this._scrollStrategy=lt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=lt.positionStrategy,this._afterRenderRef=(0,w.O8t)(()=>(0,w.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Z){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Pe=this._portalOutlet.attach(Z);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,w.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Pe?.onDestroy&&Pe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Pe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Z=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Z}dispose(){const Z=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Z&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Z){Z!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Z,this.hasAttached()&&(Z.attach(this),this.updatePosition()))}updateSize(Z){this._config={...this._config,...Z},this._updateElementSize()}setDirection(Z){this._config={...this._config,direction:Z},this._updateElementDirection()}addPanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!0)}removePanelClass(Z){this._pane&&this._toggleClasses(this._pane,Z,!1)}getDirection(){const Z=this._config.direction;return Z?"string"==typeof Z?Z:Z.value:"ltr"}updateScrollStrategy(Z){Z!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Z,this.hasAttached()&&(Z.attach(this),Z.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Z=this._pane.style;Z.width=(0,D.a1)(this._config.width),Z.height=(0,D.a1)(this._config.height),Z.minWidth=(0,D.a1)(this._config.minWidth),Z.minHeight=(0,D.a1)(this._config.minHeight),Z.maxWidth=(0,D.a1)(this._config.maxWidth),Z.maxHeight=(0,D.a1)(this._config.maxHeight)}_togglePointerEvents(Z){this._pane.style.pointerEvents=Z?"":"none"}_attachBackdrop(){const Z="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Z)})}):this._backdropElement.classList.add(Z)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Z=this._backdropElement;if(Z){if(this._animationsDisabled)return void this._disposeBackdrop(Z);Z.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Z.addEventListener("transitionend",this._backdropTransitionendHandler)}),Z.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Z)},500))}}_toggleClasses(Z,Pe,pe){const lt=(0,D.FG)(Pe||[]).filter(Gt=>!!Gt);lt.length&&(pe?Z.classList.add(...lt):Z.classList.remove(...lt))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Z=this._renders.pipe((0,I.Q)((0,O.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Z.unsubscribe())})})}_disposeScrollStrategy(){const Z=this._scrollStrategy;Z&&(Z.disable(),Z.detach&&Z.detach())}_disposeBackdrop(Z){Z&&(Z.removeEventListener("click",this._backdropClickHandler),Z.removeEventListener("transitionend",this._backdropTransitionendHandler),Z.remove(),this._backdropElement===Z&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ge="cdk-overlay-connected-position-bounding-box",ye=/([A-Za-z%]+)$/;class Ne{get positions(){return this._preferredPositions}constructor(Z,Pe,pe,lt,Gt){this._viewportRuler=Pe,this._document=pe,this._platform=lt,this._overlayContainer=Gt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $.B7,this._resizeSubscription=R.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Z)}attach(Z){this._validatePositions(),Z.hostElement.classList.add(ge),this._overlayRef=Z,this._boundingBox=Z.hostElement,this._pane=Z.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._originRect,Pe=this._overlayRect,pe=this._viewportRect,lt=this._containerRect,Gt=[];let rn;for(let Hn of this._preferredPositions){let Ei=this._getOriginPoint(Z,lt,Hn),on=this._getOverlayPoint(Ei,Pe,Hn),nn=this._getOverlayFit(on,Pe,pe,Hn);if(nn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Hn,Ei);this._canFitWithFlexibleDimensions(nn,on,pe)?Gt.push({position:Hn,origin:Ei,overlayRect:Pe,boundingBoxRect:this._calculateBoundingBoxRect(Ei,Hn)}):(!rn||rn.overlayFit.visibleArea<nn.visibleArea)&&(rn={overlayFit:nn,overlayPoint:on,originPoint:Ei,position:Hn,overlayRect:Pe})}if(Gt.length){let Hn=null,Ei=-1;for(const on of Gt){const nn=on.boundingBoxRect.width*on.boundingBoxRect.height*(on.position.weight||1);nn>Ei&&(Ei=nn,Hn=on)}return this._isPushed=!1,void this._applyPosition(Hn.position,Hn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(rn.position,rn.originPoint);this._applyPosition(rn.position,rn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Be(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ge),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Z=this._lastPosition;if(Z){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Pe=this._getOriginPoint(this._originRect,this._containerRect,Z);this._applyPosition(Z,Pe)}else this.apply()}withScrollableContainers(Z){return this._scrollables=Z,this}withPositions(Z){return this._preferredPositions=Z,-1===Z.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Z){return this._viewportMargin=Z,this}withFlexibleDimensions(Z=!0){return this._hasFlexibleDimensions=Z,this}withGrowAfterOpen(Z=!0){return this._growAfterOpen=Z,this}withPush(Z=!0){return this._canPush=Z,this}withLockedPosition(Z=!0){return this._positionLocked=Z,this}setOrigin(Z){return this._origin=Z,this}withDefaultOffsetX(Z){return this._offsetX=Z,this}withDefaultOffsetY(Z){return this._offsetY=Z,this}withTransformOriginOn(Z){return this._transformOriginSelector=Z,this}_getOriginPoint(Z,Pe,pe){let lt,Gt;if("center"==pe.originX)lt=Z.left+Z.width/2;else{const rn=this._isRtl()?Z.right:Z.left,Hn=this._isRtl()?Z.left:Z.right;lt="start"==pe.originX?rn:Hn}return Pe.left<0&&(lt-=Pe.left),Gt="center"==pe.originY?Z.top+Z.height/2:"top"==pe.originY?Z.top:Z.bottom,Pe.top<0&&(Gt-=Pe.top),{x:lt,y:Gt}}_getOverlayPoint(Z,Pe,pe){let lt,Gt;return lt="center"==pe.overlayX?-Pe.width/2:"start"===pe.overlayX?this._isRtl()?-Pe.width:0:this._isRtl()?0:-Pe.width,Gt="center"==pe.overlayY?-Pe.height/2:"top"==pe.overlayY?0:-Pe.height,{x:Z.x+lt,y:Z.y+Gt}}_getOverlayFit(Z,Pe,pe,lt){const Gt=Pt(Pe);let{x:rn,y:Hn}=Z,Ei=this._getOffset(lt,"x"),on=this._getOffset(lt,"y");Ei&&(rn+=Ei),on&&(Hn+=on);let zt=0-Hn,$t=Hn+Gt.height-pe.height,bn=this._subtractOverflows(Gt.width,0-rn,rn+Gt.width-pe.width),Pn=this._subtractOverflows(Gt.height,zt,$t),Ri=bn*Pn;return{visibleArea:Ri,isCompletelyWithinViewport:Gt.width*Gt.height===Ri,fitsInViewportVertically:Pn===Gt.height,fitsInViewportHorizontally:bn==Gt.width}}_canFitWithFlexibleDimensions(Z,Pe,pe){if(this._hasFlexibleDimensions){const lt=pe.bottom-Pe.y,Gt=pe.right-Pe.x,rn=Qe(this._overlayRef.getConfig().minHeight),Hn=Qe(this._overlayRef.getConfig().minWidth);return(Z.fitsInViewportVertically||null!=rn&&rn<=lt)&&(Z.fitsInViewportHorizontally||null!=Hn&&Hn<=Gt)}return!1}_pushOverlayOnScreen(Z,Pe,pe){if(this._previousPushAmount&&this._positionLocked)return{x:Z.x+this._previousPushAmount.x,y:Z.y+this._previousPushAmount.y};const lt=Pt(Pe),Gt=this._viewportRect,rn=Math.max(Z.x+lt.width-Gt.width,0),Hn=Math.max(Z.y+lt.height-Gt.height,0),Ei=Math.max(Gt.top-pe.top-Z.y,0),on=Math.max(Gt.left-pe.left-Z.x,0);let nn=0,xt=0;return nn=lt.width<=Gt.width?on||-rn:Z.x<this._viewportMargin?Gt.left-pe.left-Z.x:0,xt=lt.height<=Gt.height?Ei||-Hn:Z.y<this._viewportMargin?Gt.top-pe.top-Z.y:0,this._previousPushAmount={x:nn,y:xt},{x:Z.x+nn,y:Z.y+xt}}_applyPosition(Z,Pe){if(this._setTransformOrigin(Z),this._setOverlayElementStyles(Pe,Z),this._setBoundingBoxStyles(Pe,Z),Z.panelClass&&this._addPanelClasses(Z.panelClass),this._positionChanges.observers.length){const pe=this._getScrollVisibility();if(Z!==this._lastPosition||!this._lastScrollVisibility||!function Ce(dt,Z){return dt===Z||dt.isOriginClipped===Z.isOriginClipped&&dt.isOriginOutsideView===Z.isOriginOutsideView&&dt.isOverlayClipped===Z.isOverlayClipped&&dt.isOverlayOutsideView===Z.isOverlayOutsideView}(this._lastScrollVisibility,pe)){const lt=new xe(Z,pe);this._positionChanges.next(lt)}this._lastScrollVisibility=pe}this._lastPosition=Z,this._isInitialRender=!1}_setTransformOrigin(Z){if(!this._transformOriginSelector)return;const Pe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let pe,lt=Z.overlayY;pe="center"===Z.overlayX?"center":this._isRtl()?"start"===Z.overlayX?"right":"left":"start"===Z.overlayX?"left":"right";for(let Gt=0;Gt<Pe.length;Gt++)Pe[Gt].style.transformOrigin=`${pe} ${lt}`}_calculateBoundingBoxRect(Z,Pe){const pe=this._viewportRect,lt=this._isRtl();let Gt,rn,Hn,nn,xt,zt;if("top"===Pe.overlayY)rn=Z.y,Gt=pe.height-rn+this._viewportMargin;else if("bottom"===Pe.overlayY)Hn=pe.height-Z.y+2*this._viewportMargin,Gt=pe.height-Hn+this._viewportMargin;else{const $t=Math.min(pe.bottom-Z.y+pe.top,Z.y),bn=this._lastBoundingBoxSize.height;Gt=2*$t,rn=Z.y-$t,Gt>bn&&!this._isInitialRender&&!this._growAfterOpen&&(rn=Z.y-bn/2)}if("end"===Pe.overlayX&&!lt||"start"===Pe.overlayX&&lt)zt=pe.width-Z.x+2*this._viewportMargin,nn=Z.x-this._viewportMargin;else if("start"===Pe.overlayX&&!lt||"end"===Pe.overlayX&&lt)xt=Z.x,nn=pe.right-Z.x;else{const $t=Math.min(pe.right-Z.x+pe.left,Z.x),bn=this._lastBoundingBoxSize.width;nn=2*$t,xt=Z.x-$t,nn>bn&&!this._isInitialRender&&!this._growAfterOpen&&(xt=Z.x-bn/2)}return{top:rn,left:xt,bottom:Hn,right:zt,width:nn,height:Gt}}_setBoundingBoxStyles(Z,Pe){const pe=this._calculateBoundingBoxRect(Z,Pe);!this._isInitialRender&&!this._growAfterOpen&&(pe.height=Math.min(pe.height,this._lastBoundingBoxSize.height),pe.width=Math.min(pe.width,this._lastBoundingBoxSize.width));const lt={};if(this._hasExactPosition())lt.top=lt.left="0",lt.bottom=lt.right=lt.maxHeight=lt.maxWidth="",lt.width=lt.height="100%";else{const Gt=this._overlayRef.getConfig().maxHeight,rn=this._overlayRef.getConfig().maxWidth;lt.height=(0,D.a1)(pe.height),lt.top=(0,D.a1)(pe.top),lt.bottom=(0,D.a1)(pe.bottom),lt.width=(0,D.a1)(pe.width),lt.left=(0,D.a1)(pe.left),lt.right=(0,D.a1)(pe.right),lt.alignItems="center"===Pe.overlayX?"center":"end"===Pe.overlayX?"flex-end":"flex-start",lt.justifyContent="center"===Pe.overlayY?"center":"bottom"===Pe.overlayY?"flex-end":"flex-start",Gt&&(lt.maxHeight=(0,D.a1)(Gt)),rn&&(lt.maxWidth=(0,D.a1)(rn))}this._lastBoundingBoxSize=pe,Be(this._boundingBox.style,lt)}_resetBoundingBoxStyles(){Be(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Be(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Z,Pe){const pe={},lt=this._hasExactPosition(),Gt=this._hasFlexibleDimensions,rn=this._overlayRef.getConfig();if(lt){const nn=this._viewportRuler.getViewportScrollPosition();Be(pe,this._getExactOverlayY(Pe,Z,nn)),Be(pe,this._getExactOverlayX(Pe,Z,nn))}else pe.position="static";let Hn="",Ei=this._getOffset(Pe,"x"),on=this._getOffset(Pe,"y");Ei&&(Hn+=`translateX(${Ei}px) `),on&&(Hn+=`translateY(${on}px)`),pe.transform=Hn.trim(),rn.maxHeight&&(lt?pe.maxHeight=(0,D.a1)(rn.maxHeight):Gt&&(pe.maxHeight="")),rn.maxWidth&&(lt?pe.maxWidth=(0,D.a1)(rn.maxWidth):Gt&&(pe.maxWidth="")),Be(this._pane.style,pe)}_getExactOverlayY(Z,Pe,pe){let lt={top:"",bottom:""},Gt=this._getOverlayPoint(Pe,this._overlayRect,Z);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,pe)),"bottom"===Z.overlayY?lt.bottom=this._document.documentElement.clientHeight-(Gt.y+this._overlayRect.height)+"px":lt.top=(0,D.a1)(Gt.y),lt}_getExactOverlayX(Z,Pe,pe){let rn,lt={left:"",right:""},Gt=this._getOverlayPoint(Pe,this._overlayRect,Z);return this._isPushed&&(Gt=this._pushOverlayOnScreen(Gt,this._overlayRect,pe)),rn=this._isRtl()?"end"===Z.overlayX?"left":"right":"end"===Z.overlayX?"right":"left","right"===rn?lt.right=this._document.documentElement.clientWidth-(Gt.x+this._overlayRect.width)+"px":lt.left=(0,D.a1)(Gt.x),lt}_getScrollVisibility(){const Z=this._getOriginRect(),Pe=this._pane.getBoundingClientRect(),pe=this._scrollables.map(lt=>lt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:re(Z,pe),isOriginOutsideView:ce(Z,pe),isOverlayClipped:re(Pe,pe),isOverlayOutsideView:ce(Pe,pe)}}_subtractOverflows(Z,...Pe){return Pe.reduce((pe,lt)=>pe-Math.max(lt,0),Z)}_getNarrowedViewportRect(){const Z=this._document.documentElement.clientWidth,Pe=this._document.documentElement.clientHeight,pe=this._viewportRuler.getViewportScrollPosition();return{top:pe.top+this._viewportMargin,left:pe.left+this._viewportMargin,right:pe.left+Z-this._viewportMargin,bottom:pe.top+Pe-this._viewportMargin,width:Z-2*this._viewportMargin,height:Pe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Z,Pe){return"x"===Pe?null==Z.offsetX?this._offsetX:Z.offsetX:null==Z.offsetY?this._offsetY:Z.offsetY}_validatePositions(){}_addPanelClasses(Z){this._pane&&(0,D.FG)(Z).forEach(Pe=>{""!==Pe&&-1===this._appliedPanelClasses.indexOf(Pe)&&(this._appliedPanelClasses.push(Pe),this._pane.classList.add(Pe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Z=>{this._pane.classList.remove(Z)}),this._appliedPanelClasses=[])}_getOriginRect(){const Z=this._origin;if(Z instanceof w.aKT)return Z.nativeElement.getBoundingClientRect();if(Z instanceof Element)return Z.getBoundingClientRect();const Pe=Z.width||0,pe=Z.height||0;return{top:Z.y,bottom:Z.y+pe,left:Z.x,right:Z.x+Pe,height:pe,width:Pe}}}function Be(dt,Z){for(let Pe in Z)Z.hasOwnProperty(Pe)&&(dt[Pe]=Z[Pe]);return dt}function Qe(dt){if("number"!=typeof dt&&null!=dt){const[Z,Pe]=dt.split(ye);return Pe&&"px"!==Pe?null:parseFloat(Z)}return dt||null}function Pt(dt){return{top:Math.floor(dt.top),right:Math.floor(dt.right),bottom:Math.floor(dt.bottom),left:Math.floor(dt.left),width:Math.floor(dt.width),height:Math.floor(dt.height)}}const Tt="cdk-global-overlay-wrapper";class Ot{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Z){const Pe=Z.getConfig();this._overlayRef=Z,this._width&&!Pe.width&&Z.updateSize({width:this._width}),this._height&&!Pe.height&&Z.updateSize({height:this._height}),Z.hostElement.classList.add(Tt),this._isDisposed=!1}top(Z=""){return this._bottomOffset="",this._topOffset=Z,this._alignItems="flex-start",this}left(Z=""){return this._xOffset=Z,this._xPosition="left",this}bottom(Z=""){return this._topOffset="",this._bottomOffset=Z,this._alignItems="flex-end",this}right(Z=""){return this._xOffset=Z,this._xPosition="right",this}start(Z=""){return this._xOffset=Z,this._xPosition="start",this}end(Z=""){return this._xOffset=Z,this._xPosition="end",this}width(Z=""){return this._overlayRef?this._overlayRef.updateSize({width:Z}):this._width=Z,this}height(Z=""){return this._overlayRef?this._overlayRef.updateSize({height:Z}):this._height=Z,this}centerHorizontally(Z=""){return this.left(Z),this._xPosition="center",this}centerVertically(Z=""){return this.top(Z),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Z=this._overlayRef.overlayElement.style,Pe=this._overlayRef.hostElement.style,pe=this._overlayRef.getConfig(),{width:lt,height:Gt,maxWidth:rn,maxHeight:Hn}=pe,Ei=!("100%"!==lt&&"100vw"!==lt||rn&&"100%"!==rn&&"100vw"!==rn),on=!("100%"!==Gt&&"100vh"!==Gt||Hn&&"100%"!==Hn&&"100vh"!==Hn),nn=this._xPosition,xt=this._xOffset,zt="rtl"===this._overlayRef.getConfig().direction;let $t="",bn="",Pn="";Ei?Pn="flex-start":"center"===nn?(Pn="center",zt?bn=xt:$t=xt):zt?"left"===nn||"end"===nn?(Pn="flex-end",$t=xt):("right"===nn||"start"===nn)&&(Pn="flex-start",bn=xt):"left"===nn||"start"===nn?(Pn="flex-start",$t=xt):("right"===nn||"end"===nn)&&(Pn="flex-end",bn=xt),Z.position=this._cssPosition,Z.marginLeft=Ei?"0":$t,Z.marginTop=on?"0":this._topOffset,Z.marginBottom=this._bottomOffset,Z.marginRight=Ei?"0":bn,Pe.justifyContent=Pn,Pe.alignItems=on?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Z=this._overlayRef.overlayElement.style,Pe=this._overlayRef.hostElement,pe=Pe.style;Pe.classList.remove(Tt),pe.justifyContent=pe.alignItems=Z.marginTop=Z.marginBottom=Z.marginLeft=Z.marginRight=Z.position="",this._overlayRef=null,this._isDisposed=!0}}let ft=(()=>{class dt{constructor(Pe,pe,lt,Gt){this._viewportRuler=Pe,this._document=pe,this._platform=lt,this._overlayContainer=Gt}global(){return new Ot}flexibleConnectedTo(Pe){return new Ne(Pe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(d.Xj),w.KVO(A.qQ),w.KVO(C.OD),w.KVO(K))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),Oe=0,Ye=(()=>{class dt{constructor(Pe,pe,lt,Gt,rn,Hn,Ei,on,nn,xt,zt,$t){this.scrollStrategies=Pe,this._overlayContainer=pe,this._componentFactoryResolver=lt,this._positionBuilder=Gt,this._keyboardDispatcher=rn,this._injector=Hn,this._ngZone=Ei,this._document=on,this._directionality=nn,this._location=xt,this._outsideClickDispatcher=zt,this._animationsModuleType=$t}create(Pe){const pe=this._createHostElement(),lt=this._createPaneElement(pe),Gt=this._createPortalOutlet(lt),rn=new X(Pe);return rn.direction=rn.direction||this._directionality.value,new oe(Gt,pe,lt,rn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(w.uvJ))}position(){return this._positionBuilder}_createPaneElement(Pe){const pe=this._document.createElement("div");return pe.id="cdk-overlay-"+Oe++,pe.classList.add("cdk-overlay-pane"),Pe.appendChild(pe),pe}_createHostElement(){const Pe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Pe),Pe}_createPortalOutlet(Pe){return this._appRef||(this._appRef=this._injector.get(w.o8S)),new x.aI(Pe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.KVO(j),w.KVO(K),w.KVO(w.OM3),w.KVO(ft),w.KVO(yt),w.KVO(w.zZn),w.KVO(w.SKi),w.KVO(A.qQ),w.KVO(y.dS),w.KVO(A.aZ),w.KVO(Je),w.KVO(w.bc$,8))};static#t=this.\u0275prov=w.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})();const vt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],It=new w.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const dt=(0,w.WQX)(Ye);return()=>dt.scrollStrategies.reposition()}});let at=(()=>{class dt{constructor(Pe){this.elementRef=Pe}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.rXU(w.aKT))};static#t=this.\u0275dir=w.FsC({type:dt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return dt})(),ot=(()=>{class dt{get offsetX(){return this._offsetX}set offsetX(Pe){this._offsetX=Pe,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Pe){this._offsetY=Pe,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Pe){this._disposeOnNavigation=Pe}constructor(Pe,pe,lt,Gt,rn){this._overlay=Pe,this._dir=rn,this._backdropSubscription=R.y.EMPTY,this._attachSubscription=R.y.EMPTY,this._detachSubscription=R.y.EMPTY,this._positionSubscription=R.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,w.WQX)(w.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new w.bkB,this.positionChange=new w.bkB,this.attach=new w.bkB,this.detach=new w.bkB,this.overlayKeydown=new w.bkB,this.overlayOutsideClick=new w.bkB,this._templatePortal=new x.VA(pe,lt),this._scrollStrategyFactory=Gt,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Pe){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Pe.origin&&this.open&&this._position.apply()),Pe.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vt);const Pe=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Pe.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Pe.detachments().subscribe(()=>this.detach.emit()),Pe.keydownEvents().subscribe(pe=>{this.overlayKeydown.next(pe),pe.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(pe)&&(pe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(pe=>{const lt=this._getOriginElement(),Gt=(0,C.Fb)(pe);(!lt||lt!==Gt&&!lt.contains(Gt))&&this.overlayOutsideClick.next(pe)})}_buildConfig(){const Pe=this._position=this.positionStrategy||this._createPositionStrategy(),pe=new X({direction:this._dir,positionStrategy:Pe,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(pe.width=this.width),(this.height||0===this.height)&&(pe.height=this.height),(this.minWidth||0===this.minWidth)&&(pe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(pe.minHeight=this.minHeight),this.backdropClass&&(pe.backdropClass=this.backdropClass),this.panelClass&&(pe.panelClass=this.panelClass),pe}_updatePositionStrategy(Pe){const pe=this.positions.map(lt=>({originX:lt.originX,originY:lt.originY,overlayX:lt.overlayX,overlayY:lt.overlayY,offsetX:lt.offsetX||this.offsetX,offsetY:lt.offsetY||this.offsetY,panelClass:lt.panelClass||void 0}));return Pe.setOrigin(this._getOrigin()).withPositions(pe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Pe=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Pe),Pe}_getOrigin(){return this.origin instanceof at?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof at?this.origin.elementRef.nativeElement:this.origin instanceof w.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Pe=>{this.backdropClick.emit(Pe)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,E.v)(()=>this.positionChange.observers.length>0)).subscribe(Pe=>{this._ngZone.run(()=>this.positionChange.emit(Pe)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(pe){return new(pe||dt)(w.rXU(Ye),w.rXU(w.C4Q),w.rXU(w.c1b),w.rXU(It),w.rXU(y.dS,8))};static#t=this.\u0275dir=w.FsC({type:dt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",w.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",w.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",w.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",w.L39],push:[2,"cdkConnectedOverlayPush","push",w.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",w.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[w.GFd,w.OA$]})}return dt})();const Ut={provide:It,deps:[Ye],useFactory:function Nt(dt){return()=>dt.scrollStrategies.reposition()}};let wt=(()=>{class dt{static#e=this.\u0275fac=function(pe){return new(pe||dt)};static#t=this.\u0275mod=w.$C({type:dt});static#n=this.\u0275inj=w.G2t({providers:[Ye,Ut],imports:[y.jI,x.jc,d.E9,d.E9]})}return dt})()},7699:(hn,Re,_)=>{"use strict";_.d(Re,{BD:()=>U,BQ:()=>$,CZ:()=>L,Fb:()=>re,KT:()=>ue,MU:()=>E,OD:()=>D,r5:()=>R,v8:()=>be,vc:()=>ce});var d=_(7404),A=_(316);let w;try{w=typeof Intl<"u"&&Intl.v8BreakIterator}catch{w=!1}let S,D=(()=>{class j{constructor(se){this._platformId=se,this.isBrowser=this._platformId?(0,A.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!w)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(W){return new(W||j)(d.KVO(d.Agw))};static#t=this.\u0275prov=d.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})();const I=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function E(){if(S)return S;if("object"!=typeof document||!document)return S=new Set(I),S;let j=document.createElement("input");return S=new Set(I.filter(X=>(j.setAttribute("type",X),j.type===X))),S}let y;function $(j){return function x(){if(null==y&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y=!0}))}finally{y=y||!1}return y}()?j:!!j.capture}var R=function(j){return j[j.NORMAL=0]="NORMAL",j[j.NEGATED=1]="NEGATED",j[j.INVERTED=2]="INVERTED",j}(R||{});let O,M,F;function L(){if(null==M){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return M=!1,M;if("scrollBehavior"in document.documentElement.style)M=!0;else{const j=Element.prototype.scrollTo;M=!!j&&!/\{\s*\[native code\]\s*\}/.test(j.toString())}}return M}function U(){if("object"!=typeof document||!document)return R.NORMAL;if(null==O){const j=document.createElement("div"),X=j.style;j.dir="rtl",X.width="1px",X.overflow="auto",X.visibility="hidden",X.pointerEvents="none",X.position="absolute";const se=document.createElement("div"),W=se.style;W.width="2px",W.height="1px",j.appendChild(se),document.body.appendChild(j),O=R.NORMAL,0===j.scrollLeft&&(j.scrollLeft=1,O=0===j.scrollLeft?R.NEGATED:R.INVERTED),j.remove()}return O}function ue(j){if(function J(){if(null==F){const j=typeof document<"u"?document.head:null;F=!(!j||!j.createShadowRoot&&!j.attachShadow)}return F}()){const X=j.getRootNode?j.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&X instanceof ShadowRoot)return X}return null}function ce(){let j=typeof document<"u"&&document?document.activeElement:null;for(;j&&j.shadowRoot;){const X=j.shadowRoot.activeElement;if(X===j)break;j=X}return j}function re(j){return j.composedPath?j.composedPath()[0]:j.target}function be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},9168:(hn,Re,_)=>{"use strict";_.d(Re,{A8:()=>x,I3:()=>ue,Qq:()=>J,VA:()=>$,aI:()=>L,bV:()=>F,jc:()=>re,lb:()=>O});var d=_(7404),A=_(316);class y{attach(X){return this._attachedHost=X,X.attach(this)}detach(){let X=this._attachedHost;null!=X&&(this._attachedHost=null,X.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(X){this._attachedHost=X}}class x extends y{constructor(X,se,W,xe,q){super(),this.component=X,this.viewContainerRef=se,this.injector=W,this.componentFactoryResolver=xe,this.projectableNodes=q}}class $ extends y{constructor(X,se,W,xe){super(),this.templateRef=X,this.viewContainerRef=se,this.context=W,this.injector=xe}get origin(){return this.templateRef.elementRef}attach(X,se=this.context){return this.context=se,super.attach(X)}detach(){return this.context=void 0,super.detach()}}class R extends y{constructor(X){super(),this.element=X instanceof d.aKT?X.nativeElement:X}}class O{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(X){return X instanceof x?(this._attachedPortal=X,this.attachComponentPortal(X)):X instanceof $?(this._attachedPortal=X,this.attachTemplatePortal(X)):this.attachDomPortal&&X instanceof R?(this._attachedPortal=X,this.attachDomPortal(X)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(X){this._disposeFn=X}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L extends O{constructor(X,se,W,xe,q){super(),this.outletElement=X,this._componentFactoryResolver=se,this._appRef=W,this._defaultInjector=xe,this.attachDomPortal=Ae=>{const Xe=Ae.element,yt=this._document.createComment("dom-portal");Xe.parentNode.insertBefore(yt,Xe),this.outletElement.appendChild(Xe),this._attachedPortal=Ae,super.setDisposeFn(()=>{yt.parentNode&&yt.parentNode.replaceChild(Xe,yt)})},this._document=q}attachComponentPortal(X){const W=(X.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(X.component);let xe;return X.viewContainerRef?(xe=X.viewContainerRef.createComponent(W,X.viewContainerRef.length,X.injector||X.viewContainerRef.injector,X.projectableNodes||void 0),this.setDisposeFn(()=>xe.destroy())):(xe=W.create(X.injector||this._defaultInjector||d.zZn.NULL),this._appRef.attachView(xe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(xe.hostView),xe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(xe)),this._attachedPortal=X,xe}attachTemplatePortal(X){let se=X.viewContainerRef,W=se.createEmbeddedView(X.templateRef,X.context,{injector:X.injector});return W.rootNodes.forEach(xe=>this.outletElement.appendChild(xe)),W.detectChanges(),this.setDisposeFn(()=>{let xe=se.indexOf(W);-1!==xe&&se.remove(xe)}),this._attachedPortal=X,W}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(X){return X.hostView.rootNodes[0]}}let F=(()=>{class j extends ${constructor(se,W){super(se,W)}static#e=this.\u0275fac=function(W){return new(W||j)(d.rXU(d.C4Q),d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Vt3]})}return j})(),J=(()=>{class j extends F{static#e=this.\u0275fac=(()=>{let se;return function(xe){return(se||(se=d.xGo(j)))(xe||j)}})();static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[d.Jv_([{provide:F,useExisting:j}]),d.Vt3]})}return j})(),ue=(()=>{class j extends O{constructor(se,W,xe){super(),this._componentFactoryResolver=se,this._viewContainerRef=W,this._isInitialized=!1,this.attached=new d.bkB,this.attachDomPortal=q=>{const Ae=q.element,Xe=this._document.createComment("dom-portal");q.setAttachedHost(this),Ae.parentNode.insertBefore(Xe,Ae),this._getRootNode().appendChild(Ae),this._attachedPortal=q,super.setDisposeFn(()=>{Xe.parentNode&&Xe.parentNode.replaceChild(Ae,Xe)})},this._document=xe}get portal(){return this._attachedPortal}set portal(se){this.hasAttached()&&!se&&!this._isInitialized||(this.hasAttached()&&super.detach(),se&&super.attach(se),this._attachedPortal=se||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(se){se.setAttachedHost(this);const W=null!=se.viewContainerRef?se.viewContainerRef:this._viewContainerRef,q=(se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(se.component),Ae=W.createComponent(q,W.length,se.injector||W.injector,se.projectableNodes||void 0);return W!==this._viewContainerRef&&this._getRootNode().appendChild(Ae.hostView.rootNodes[0]),super.setDisposeFn(()=>Ae.destroy()),this._attachedPortal=se,this._attachedRef=Ae,this.attached.emit(Ae),Ae}attachTemplatePortal(se){se.setAttachedHost(this);const W=this._viewContainerRef.createEmbeddedView(se.templateRef,se.context,{injector:se.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=se,this._attachedRef=W,this.attached.emit(W),W}_getRootNode(){const se=this._viewContainerRef.element.nativeElement;return se.nodeType===se.ELEMENT_NODE?se:se.parentNode}static#e=this.\u0275fac=function(W){return new(W||j)(d.rXU(d.OM3),d.rXU(d.c1b),d.rXU(A.qQ))};static#t=this.\u0275dir=d.FsC({type:j,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[d.Vt3]})}return j})(),re=(()=>{class j{static#e=this.\u0275fac=function(W){return new(W||j)};static#t=this.\u0275mod=d.$C({type:j});static#n=this.\u0275inj=d.G2t({})}return j})()},4053:(hn,Re,_)=>{"use strict";_.d(Re,{yg:()=>Ce,uv:()=>Tt,Gj:()=>ut,E$:()=>Nt,d6:()=>at,R:()=>Vt,E9:()=>dt,Xj:()=>ft});var d=_(2814),A=_(7404),w=_(3119),D=_(1536),C=_(434),S=_(7557),I=_(6244),y=_(2059);const $=new class x extends y.q{flush(Pe){this.active=!0,this.scheduled=void 0;const{actions:pe}=this;let lt,Gt=-1,rn=pe.length;Pe=Pe||pe.shift();do{if(lt=Pe.execute(Pe.state,Pe.delay))break}while(++Gt<rn&&(Pe=pe.shift()));if(this.active=!1,lt){for(;++Gt<rn&&(Pe=pe.shift());)Pe.unsubscribe();throw lt}}}(class E extends I.R{constructor(Pe,pe){super(Pe,pe),this.scheduler=Pe,this.work=pe}requestAsyncId(Pe,pe,lt=0){return null!==lt&&lt>0?super.requestAsyncId(Pe,pe,lt):(Pe.actions.push(this),Pe.scheduled||(Pe.scheduled=requestAnimationFrame(()=>Pe.flush(null))))}recycleAsyncId(Pe,pe,lt=0){if(null!==lt&&lt>0||null===lt&&this.delay>0)return super.recycleAsyncId(Pe,pe,lt);0===Pe.actions.length&&(cancelAnimationFrame(pe),Pe.scheduled=void 0)}});var O=_(2800),M=_(2672),L=_(6899),U=_(6109),F=_(9573),J=_(3879);class ce{constructor(Pe){this.durationSelector=Pe}call(Pe,pe){return pe.subscribe(new re(Pe,this.durationSelector))}}class re extends J.gn{constructor(Pe,pe){super(Pe),this.durationSelector=pe,this.hasValue=!1}_next(Pe){if(this.value=Pe,this.hasValue=!0,!this.throttled){let pe;try{const{durationSelector:Gt}=this;pe=Gt(Pe)}catch(Gt){return this.destination.error(Gt)}const lt=(0,J.tS)(pe,new J.zA(this));!lt||lt.closed?this.clearThrottle():this.add(this.throttled=lt)}}clearThrottle(){const{value:Pe,hasValue:pe,throttled:lt}=this;lt&&(this.remove(lt),this.throttled=void 0,lt.unsubscribe()),pe&&(this.value=void 0,this.hasValue=!1,this.destination.next(Pe))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var be=_(3340);function j(Z,Pe=F.b){return function ue(Z){return function(pe){return pe.lift(new ce(Z))}}(()=>(0,be.O)(Z,Pe))}var X=_(8627),se=_(7464),W=_(9273),xe=_(8097);class Ae{call(Pe,pe){return pe.subscribe(new Xe(Pe))}}class Xe extends xe.v{constructor(Pe){super(Pe),this.hasPrev=!1}_next(Pe){let pe;this.hasPrev?pe=[this.prev,Pe]:this.hasPrev=!0,this.prev=Pe,pe&&this.destination.next(pe)}}var yt=_(1963),Je=_(7841),je=_(7699),K=_(316),oe=_(3680),ge=_(7989);const ye=["contentWrapper"],Ne=["*"],Be=new A.nKC("VIRTUAL_SCROLL_STRATEGY");class Qe{constructor(Pe,pe,lt){this._scrolledIndexChange=new w.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,U.F)()),this._viewport=null,this._itemSize=Pe,this._minBufferPx=pe,this._maxBufferPx=lt}attach(Pe){this._viewport=Pe,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Pe,pe,lt){this._itemSize=Pe,this._minBufferPx=pe,this._maxBufferPx=lt,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Pe,pe){this._viewport&&this._viewport.scrollToOffset(Pe*this._itemSize,pe)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Pe=this._viewport.getRenderedRange(),pe={start:Pe.start,end:Pe.end},lt=this._viewport.getViewportSize(),Gt=this._viewport.getDataLength();let rn=this._viewport.measureScrollOffset(),Hn=this._itemSize>0?rn/this._itemSize:0;if(pe.end>Gt){const on=Math.ceil(lt/this._itemSize),nn=Math.max(0,Math.min(Hn,Gt-on));Hn!=nn&&(Hn=nn,rn=nn*this._itemSize,pe.start=Math.floor(Hn)),pe.end=Math.max(0,Math.min(Gt,pe.start+on))}const Ei=rn-pe.start*this._itemSize;if(Ei<this._minBufferPx&&0!=pe.start){const on=Math.ceil((this._maxBufferPx-Ei)/this._itemSize);pe.start=Math.max(0,pe.start-on),pe.end=Math.min(Gt,Math.ceil(Hn+(lt+this._minBufferPx)/this._itemSize))}else{const on=pe.end*this._itemSize-(rn+lt);if(on<this._minBufferPx&&pe.end!=Gt){const nn=Math.ceil((this._maxBufferPx-on)/this._itemSize);nn>0&&(pe.end=Math.min(Gt,pe.end+nn),pe.start=Math.max(0,Math.floor(Hn-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(pe),this._viewport.setRenderedContentOffset(this._itemSize*pe.start),this._scrolledIndexChange.next(Math.floor(Hn))}}function Pt(Z){return Z._scrollStrategy}let Ce=(()=>{class Z{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Qe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(pe){this._itemSize=(0,d.OE)(pe)}get minBufferPx(){return this._minBufferPx}set minBufferPx(pe){this._minBufferPx=(0,d.OE)(pe)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(pe){this._maxBufferPx=(0,d.OE)(pe)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(lt){return new(lt||Z)};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[A.Jv_([{provide:Be,useFactory:Pt,deps:[(0,A.Rfq)(()=>Z)]}]),A.OA$]})}return Z})(),Vt=(()=>{class Z{constructor(pe,lt,Gt){this._ngZone=pe,this._platform=lt,this._scrolled=new w.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Gt}register(pe){this.scrollContainers.has(pe)||this.scrollContainers.set(pe,pe.elementScrolled().subscribe(()=>this._scrolled.next(pe)))}deregister(pe){const lt=this.scrollContainers.get(pe);lt&&(lt.unsubscribe(),this.scrollContainers.delete(pe))}scrolled(pe=20){return this._platform.isBrowser?new C.c(lt=>{this._globalSubscription||this._addGlobalListener();const Gt=pe>0?this._scrolled.pipe(j(pe)).subscribe(lt):this._scrolled.subscribe(lt);return this._scrolledCount++,()=>{Gt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,D.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((pe,lt)=>this.deregister(lt)),this._scrolled.complete()}ancestorScrolled(pe,lt){const Gt=this.getAncestorScrollContainers(pe);return this.scrolled(lt).pipe((0,X.p)(rn=>!rn||Gt.indexOf(rn)>-1))}getAncestorScrollContainers(pe){const lt=[];return this.scrollContainers.forEach((Gt,rn)=>{this._scrollableContainsElement(rn,pe)&&lt.push(rn)}),lt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(pe,lt){let Gt=(0,d.i8)(lt),rn=pe.getElementRef().nativeElement;do{if(Gt==rn)return!0}while(Gt=Gt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const pe=this._getWindow();return(0,S.R)(pe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.KVO(A.SKi),A.KVO(je.OD),A.KVO(K.qQ,8))};static#t=this.\u0275prov=A.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Tt=(()=>{class Z{constructor(pe,lt,Gt,rn){this.elementRef=pe,this.scrollDispatcher=lt,this.ngZone=Gt,this.dir=rn,this._destroyed=new w.B7,this._elementScrolled=new C.c(Hn=>this.ngZone.runOutsideAngular(()=>(0,S.R)(this.elementRef.nativeElement,"scroll").pipe((0,se.Q)(this._destroyed)).subscribe(Hn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(pe){const lt=this.elementRef.nativeElement,Gt=this.dir&&"rtl"==this.dir.value;null==pe.left&&(pe.left=Gt?pe.end:pe.start),null==pe.right&&(pe.right=Gt?pe.start:pe.end),null!=pe.bottom&&(pe.top=lt.scrollHeight-lt.clientHeight-pe.bottom),Gt&&(0,je.BD)()!=je.r5.NORMAL?(null!=pe.left&&(pe.right=lt.scrollWidth-lt.clientWidth-pe.left),(0,je.BD)()==je.r5.INVERTED?pe.left=pe.right:(0,je.BD)()==je.r5.NEGATED&&(pe.left=pe.right?-pe.right:pe.right)):null!=pe.right&&(pe.left=lt.scrollWidth-lt.clientWidth-pe.right),this._applyScrollToOptions(pe)}_applyScrollToOptions(pe){const lt=this.elementRef.nativeElement;(0,je.CZ)()?lt.scrollTo(pe):(null!=pe.top&&(lt.scrollTop=pe.top),null!=pe.left&&(lt.scrollLeft=pe.left))}measureScrollOffset(pe){const lt="left",rn=this.elementRef.nativeElement;if("top"==pe)return rn.scrollTop;if("bottom"==pe)return rn.scrollHeight-rn.clientHeight-rn.scrollTop;const Hn=this.dir&&"rtl"==this.dir.value;return"start"==pe?pe=Hn?"right":lt:"end"==pe&&(pe=Hn?lt:"right"),Hn&&(0,je.BD)()==je.r5.INVERTED?pe==lt?rn.scrollWidth-rn.clientWidth-rn.scrollLeft:rn.scrollLeft:Hn&&(0,je.BD)()==je.r5.NEGATED?pe==lt?rn.scrollLeft+rn.scrollWidth-rn.clientWidth:-rn.scrollLeft:pe==lt?rn.scrollLeft:rn.scrollWidth-rn.clientWidth-rn.scrollLeft}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.rXU(A.aKT),A.rXU(Vt),A.rXU(A.SKi),A.rXU(oe.dS,8))};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Z})(),ft=(()=>{class Z{constructor(pe,lt,Gt){this._platform=pe,this._change=new w.B7,this._changeListener=rn=>{this._change.next(rn)},this._document=Gt,lt.runOutsideAngular(()=>{if(pe.isBrowser){const rn=this._getWindow();rn.addEventListener("resize",this._changeListener),rn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const pe=this._getWindow();pe.removeEventListener("resize",this._changeListener),pe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const pe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),pe}getViewportRect(){const pe=this.getViewportScrollPosition(),{width:lt,height:Gt}=this.getViewportSize();return{top:pe.top,left:pe.left,bottom:pe.top+Gt,right:pe.left+lt,height:Gt,width:lt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const pe=this._document,lt=this._getWindow(),Gt=pe.documentElement,rn=Gt.getBoundingClientRect();return{top:-rn.top||pe.body.scrollTop||lt.scrollY||Gt.scrollTop||0,left:-rn.left||pe.body.scrollLeft||lt.scrollX||Gt.scrollLeft||0}}change(pe=20){return pe>0?this._change.pipe(j(pe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const pe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:pe.innerWidth,height:pe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.KVO(je.OD),A.KVO(A.SKi),A.KVO(K.qQ,8))};static#t=this.\u0275prov=A.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const Oe=new A.nKC("VIRTUAL_SCROLLABLE");let Ye=(()=>{class Z extends Tt{constructor(pe,lt,Gt,rn){super(pe,lt,Gt,rn)}measureViewportSize(pe){const lt=this.elementRef.nativeElement;return"horizontal"===pe?lt.clientWidth:lt.clientHeight}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.rXU(A.aKT),A.rXU(Vt),A.rXU(A.SKi),A.rXU(oe.dS,8))};static#t=this.\u0275dir=A.FsC({type:Z,features:[A.Vt3]})}return Z})();const It=typeof requestAnimationFrame<"u"?$:O.$;let at=(()=>{class Z extends Ye{get orientation(){return this._orientation}set orientation(pe){this._orientation!==pe&&(this._orientation=pe,this._calculateSpacerSize())}constructor(pe,lt,Gt,rn,Hn,Ei,on,nn){super(pe,Ei,Gt,Hn),this.elementRef=pe,this._changeDetectorRef=lt,this._scrollStrategy=rn,this.scrollable=nn,this._platform=(0,A.WQX)(je.OD),this._detachedSubject=new w.B7,this._renderedRangeSubject=new w.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new C.c(xt=>this._scrollStrategy.scrolledIndexChange.subscribe(zt=>Promise.resolve().then(()=>this.ngZone.run(()=>xt.next(zt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=M.y.EMPTY,this._injector=(0,A.WQX)(A.zZn),this._isDestroyed=!1,this._viewportChanges=on.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,W.Z)(null),j(0,It),(0,se.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(pe){this.ngZone.runOutsideAngular(()=>{this._forOf=pe,this._forOf.dataStream.pipe((0,se.Q)(this._detachedSubject)).subscribe(lt=>{const Gt=lt.length;Gt!==this._dataLength&&(this._dataLength=Gt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(pe){return this.getElementRef().nativeElement.getBoundingClientRect()[pe]}setTotalContentSize(pe){this._totalContentSize!==pe&&(this._totalContentSize=pe,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(pe){(function vt(Z,Pe){return Z.start==Pe.start&&Z.end==Pe.end})(this._renderedRange,pe)||(this.appendOnly&&(pe={start:0,end:Math.max(this._renderedRange.end,pe.end)}),this._renderedRangeSubject.next(this._renderedRange=pe),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(pe,lt="to-start"){pe=this.appendOnly&&"to-start"===lt?0:pe;const rn="horizontal"==this.orientation,Hn=rn?"X":"Y";let on=`translate${Hn}(${Number((rn&&this.dir&&"rtl"==this.dir.value?-1:1)*pe)}px)`;this._renderedContentOffset=pe,"to-end"===lt&&(on+=` translate${Hn}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=on&&(this._renderedContentTransform=on,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(pe,lt="auto"){const Gt={behavior:lt};"horizontal"===this.orientation?Gt.start=pe:Gt.top=pe,this.scrollable.scrollTo(Gt)}scrollToIndex(pe,lt="auto"){this._scrollStrategy.scrollToIndex(pe,lt)}measureScrollOffset(pe){let lt;return lt=this.scrollable==this?Gt=>super.measureScrollOffset(Gt):Gt=>this.scrollable.measureScrollOffset(Gt),Math.max(0,lt(pe??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(pe){let lt;const Hn="rtl"==this.dir?.value;lt="start"==pe?Hn?"right":"left":"end"==pe?Hn?"left":"right":pe||("horizontal"===this.orientation?"left":"top");const Ei=this.scrollable.measureBoundingClientRectWithScrollOffset(lt);return this.elementRef.nativeElement.getBoundingClientRect()[lt]-Ei}measureRenderedContentSize(){const pe=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?pe.offsetWidth:pe.offsetHeight}measureRangeSize(pe){return this._forOf?this._forOf.measureRangeSize(pe,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(pe){pe&&this._runAfterChangeDetection.push(pe),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,A.mal)(()=>{this._isChangeDetectionPending=!1;const pe=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const lt of pe)lt()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.rXU(A.aKT),A.rXU(A.gRc),A.rXU(A.SKi),A.rXU(Be,8),A.rXU(oe.dS,8),A.rXU(Vt),A.rXU(ft),A.rXU(Oe,8))};static#t=this.\u0275cmp=A.VBU({type:Z,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(lt,Gt){if(1&lt&&A.GBs(ye,7),2&lt){let rn;A.mGM(rn=A.lsd())&&(Gt._contentWrapper=rn.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(lt,Gt){2&lt&&A.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Gt.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Gt.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",A.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[A.Jv_([{provide:Tt,useFactory:(pe,lt)=>pe||lt,deps:[[new A.Xx1,new A.y_5(Oe)],Z]}]),A.GFd,A.Vt3,A.aNF],ngContentSelectors:Ne,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(lt,Gt){1&lt&&(A.NAR(),A.j41(0,"div",1,0),A.SdG(2),A.k0s(),A.nrm(3,"div",2)),2&lt&&(A.R7$(3),A.xc7("width",Gt._totalContentWidth)("height",Gt._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return Z})();function ot(Z,Pe,pe){if(!pe.getBoundingClientRect)return 0;const Gt=pe.getBoundingClientRect();return"horizontal"===Z?"start"===Pe?Gt.left:Gt.right:"start"===Pe?Gt.top:Gt.bottom}let Nt=(()=>{class Z{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(pe){this._cdkVirtualForOf=pe,(0,ge.y4)(pe)?this._dataSourceChanges.next(pe):this._dataSourceChanges.next(new ge.hx((0,L.A)(pe)?pe:Array.from(pe||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(pe){this._needsUpdate=!0,this._cdkVirtualForTrackBy=pe?(lt,Gt)=>pe(lt+(this._renderedRange?this._renderedRange.start:0),Gt):void 0}set cdkVirtualForTemplate(pe){pe&&(this._needsUpdate=!0,this._template=pe)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(pe){this._viewRepeater.viewCacheSize=(0,d.OE)(pe)}constructor(pe,lt,Gt,rn,Hn,Ei){this._viewContainerRef=pe,this._template=lt,this._differs=Gt,this._viewRepeater=rn,this._viewport=Hn,this.viewChange=new w.B7,this._dataSourceChanges=new w.B7,this.dataStream=this._dataSourceChanges.pipe((0,W.Z)(null),function q(){return Z=>Z.lift(new Ae)}(),(0,yt.n)(([on,nn])=>this._changeDataSource(on,nn)),(0,Je.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new w.B7,this.dataStream.subscribe(on=>{this._data=on,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,se.Q)(this._destroyed)).subscribe(on=>{this._renderedRange=on,this.viewChange.observers.length&&Ei.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(pe,lt){if(pe.start>=pe.end)return 0;const Gt=pe.start-this._renderedRange.start,rn=pe.end-pe.start;let Hn,Ei;for(let on=0;on<rn;on++){const nn=this._viewContainerRef.get(on+Gt);if(nn&&nn.rootNodes.length){Hn=Ei=nn.rootNodes[0];break}}for(let on=rn-1;on>-1;on--){const nn=this._viewContainerRef.get(on+Gt);if(nn&&nn.rootNodes.length){Ei=nn.rootNodes[nn.rootNodes.length-1];break}}return Hn&&Ei?ot(lt,"end",Ei)-ot(lt,"start",Hn):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const pe=this._differ.diff(this._renderedItems);pe?this._applyChanges(pe):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((pe,lt)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(pe,lt):lt)),this._needsUpdate=!0)}_changeDataSource(pe,lt){return pe&&pe.disconnect(this),this._needsUpdate=!0,lt?lt.connect(this):(0,D.of)()}_updateContext(){const pe=this._data.length;let lt=this._viewContainerRef.length;for(;lt--;){const Gt=this._viewContainerRef.get(lt);Gt.context.index=this._renderedRange.start+lt,Gt.context.count=pe,this._updateComputedContextProperties(Gt.context),Gt.detectChanges()}}_applyChanges(pe){this._viewRepeater.applyChanges(pe,this._viewContainerRef,(rn,Hn,Ei)=>this._getEmbeddedViewArgs(rn,Ei),rn=>rn.item),pe.forEachIdentityChange(rn=>{this._viewContainerRef.get(rn.currentIndex).context.$implicit=rn.item});const lt=this._data.length;let Gt=this._viewContainerRef.length;for(;Gt--;){const rn=this._viewContainerRef.get(Gt);rn.context.index=this._renderedRange.start+Gt,rn.context.count=lt,this._updateComputedContextProperties(rn.context)}}_updateComputedContextProperties(pe){pe.first=0===pe.index,pe.last=pe.index===pe.count-1,pe.even=pe.index%2==0,pe.odd=!pe.even}_getEmbeddedViewArgs(pe,lt){return{templateRef:this._template,context:{$implicit:pe.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:lt}}static#e=this.\u0275fac=function(lt){return new(lt||Z)(A.rXU(A.c1b),A.rXU(A.C4Q),A.rXU(A._q3),A.rXU(ge.sL),A.rXU(at,4),A.rXU(A.SKi))};static#t=this.\u0275dir=A.FsC({type:Z,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[A.Jv_([{provide:ge.sL,useClass:ge.DQ}])]})}return Z})(),ut=(()=>{class Z{static#e=this.\u0275fac=function(lt){return new(lt||Z)};static#t=this.\u0275mod=A.$C({type:Z});static#n=this.\u0275inj=A.G2t({})}return Z})(),dt=(()=>{class Z{static#e=this.\u0275fac=function(lt){return new(lt||Z)};static#t=this.\u0275mod=A.$C({type:Z});static#n=this.\u0275inj=A.G2t({imports:[oe.jI,ut,oe.jI,ut]})}return Z})()},198:(hn,Re,_)=>{"use strict";_.d(Re,{AL:()=>X,EZ:()=>ue,I8:()=>ye,L_:()=>j,N0:()=>Hn,RT:()=>ut,Rk:()=>Pe,To:()=>Xe,VP:()=>q,Y$:()=>Be,ZM:()=>at,c7:()=>xe,cO:()=>re,df:()=>oe,hc:()=>Qe,hi:()=>K,ki:()=>Gt,lH:()=>wt,lQ:()=>yt,n5:()=>be,oh:()=>ge,pe:()=>Ut,sY:()=>W,u4:()=>Pt,wA:()=>Ne,yT:()=>Nt});var d=_(3680),A=_(7989),w=_(7699),D=_(4053),C=_(316),S=_(7404),I=_(3119),E=_(521),y=_(6899),x=_(1536),$=_(7464);const R=[[["caption"]],[["colgroup"],["col"]],"*"],O=["caption","colgroup, col","*"];function M(on,nn){1&on&&S.SdG(0,2)}function L(on,nn){1&on&&(S.j41(0,"thead",0),S.eu8(1,1),S.k0s(),S.j41(2,"tbody",0),S.eu8(3,2)(4,3),S.k0s(),S.j41(5,"tfoot",0),S.eu8(6,4),S.k0s())}function U(on,nn){1&on&&S.eu8(0,1)(1,2)(2,3)(3,4)}function F(on,nn){if(1&on&&(S.j41(0,"th",3),S.EFF(1),S.k0s()),2&on){const xt=S.XpG();S.xc7("text-align",xt.justify),S.R7$(),S.SpI(" ",xt.headerText," ")}}function J(on,nn){if(1&on&&(S.j41(0,"td",4),S.EFF(1),S.k0s()),2&on){const xt=nn.$implicit,zt=S.XpG();S.xc7("text-align",zt.justify),S.R7$(),S.SpI(" ",zt.dataAccessor(xt,zt.name)," ")}}const ue=new S.nKC("CDK_TABLE"),ce=new S.nKC("text-column-options");let re=(()=>{class on{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkCellDef",""]],standalone:!0})}return on})(),be=(()=>{class on{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return on})(),j=(()=>{class on{constructor(xt){this.template=xt}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return on})(),X=(()=>{class on{get name(){return this._name}set name(xt){this._setNameInput(xt)}get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(xt){xt!==this._stickyEnd&&(this._stickyEnd=xt,this._hasStickyChanged=!0)}constructor(xt){this._table=xt,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(xt){xt&&(this._name=xt,this.cssClassFriendlyName=xt.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkColumnDef",""]],contentQueries:function(zt,$t,bn){if(1&zt&&(S.wni(bn,re,5),S.wni(bn,be,5),S.wni(bn,j,5)),2&zt){let Pn;S.mGM(Pn=S.lsd())&&($t.cell=Pn.first),S.mGM(Pn=S.lsd())&&($t.headerCell=Pn.first),S.mGM(Pn=S.lsd())&&($t.footerCell=Pn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",S.L39],stickyEnd:[2,"stickyEnd","stickyEnd",S.L39]},standalone:!0,features:[S.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:on}]),S.GFd]})}return on})();class se{constructor(nn,xt){xt.nativeElement.classList.add(...nn._columnCssClassName)}}let W=(()=>{class on extends se{constructor(xt,zt){super(xt,zt)}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(X),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[S.Vt3]})}return on})(),xe=(()=>{class on extends se{constructor(xt,zt){super(xt,zt);const $t=xt._table?._getCellRole();$t&&zt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(X),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[S.Vt3]})}return on})(),q=(()=>{class on extends se{constructor(xt,zt){super(xt,zt);const $t=xt._table?._getCellRole();$t&&zt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(X),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[S.Vt3]})}return on})();class Ae{constructor(){this.tasks=[],this.endTasks=[]}}const Xe=new S.nKC("_COALESCED_STYLE_SCHEDULER");let yt=(()=>{class on{constructor(xt){this._currentSchedule=null,this._ngZone=(0,S.WQX)(S.SKi)}schedule(xt){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(xt)}scheduleEnd(xt){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(xt)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Ae,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const xt=this._currentSchedule;this._currentSchedule=new Ae;for(const zt of xt.tasks)zt();for(const zt of xt.endTasks)zt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.KVO(S.SKi))};static#t=this.\u0275prov=S.jDH({token:on,factory:on.\u0275fac})}return on})(),je=(()=>{class on{constructor(xt,zt){this.template=xt,this._differs=zt}ngOnChanges(xt){if(!this._columnsDiffer){const zt=xt.columns&&xt.columns.currentValue||[];this._columnsDiffer=this._differs.find(zt).create(),this._columnsDiffer.diff(zt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(xt){return this instanceof K?xt.headerCell.template:this instanceof oe?xt.footerCell.template:xt.cell.template}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q),S.rXU(S._q3))};static#t=this.\u0275dir=S.FsC({type:on,features:[S.OA$]})}return on})(),K=(()=>{class on extends je{get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}constructor(xt,zt,$t){super(xt,zt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(xt){super.ngOnChanges(xt)}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",S.L39]},standalone:!0,features:[S.GFd,S.Vt3,S.OA$]})}return on})(),oe=(()=>{class on extends je{get sticky(){return this._sticky}set sticky(xt){xt!==this._sticky&&(this._sticky=xt,this._hasStickyChanged=!0)}constructor(xt,zt,$t){super(xt,zt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(xt){super.ngOnChanges(xt)}hasStickyChanged(){const xt=this._hasStickyChanged;return this.resetStickyChanged(),xt}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",S.L39]},standalone:!0,features:[S.GFd,S.Vt3,S.OA$]})}return on})(),ge=(()=>{class on extends je{constructor(xt,zt,$t){super(xt,zt),this._table=$t}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q),S.rXU(S._q3),S.rXU(ue,8))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[S.Vt3]})}return on})(),ye=(()=>{class on{static#e=this.mostRecentCellOutlet=null;constructor(xt){this._viewContainer=xt,on.mostRecentCellOutlet=this}ngOnDestroy(){on.mostRecentCellOutlet===this&&(on.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.c1b))};static#n=this.\u0275dir=S.FsC({type:on,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return on})(),Ne=(()=>{class on{static#e=this.\u0275fac=function(zt){return new(zt||on)};static#t=this.\u0275cmp=S.VBU({type:on,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ye],encapsulation:2})}return on})(),Be=(()=>{class on{static#e=this.\u0275fac=function(zt){return new(zt||on)};static#t=this.\u0275cmp=S.VBU({type:on,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ye],encapsulation:2})}return on})(),Qe=(()=>{class on{static#e=this.\u0275fac=function(zt){return new(zt||on)};static#t=this.\u0275cmp=S.VBU({type:on,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[S.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(zt,$t){1&zt&&S.eu8(0,0)},dependencies:[ye],encapsulation:2})}return on})(),Pt=(()=>{class on{constructor(xt){this.templateRef=xt,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.C4Q))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return on})();const Ce=["top","bottom","left","right"];class Qt{constructor(nn,xt,zt,$t,bn=!0,Pn=!0,Ri){this._isNativeHtmlTable=nn,this._stickCellCss=xt,this.direction=zt,this._coalescedStyleScheduler=$t,this._isBrowser=bn,this._needsPositionStickyOnElement=Pn,this._positionListener=Ri,this._cachedCellWidths=[],this._borderCellCss={top:`${xt}-border-elem-top`,bottom:`${xt}-border-elem-bottom`,left:`${xt}-border-elem-left`,right:`${xt}-border-elem-right`}}clearStickyPositioning(nn,xt){const zt=[];for(const $t of nn)if($t.nodeType===$t.ELEMENT_NODE){zt.push($t);for(let bn=0;bn<$t.children.length;bn++)zt.push($t.children[bn])}this._coalescedStyleScheduler.schedule(()=>{for(const $t of zt)this._removeStickyStyle($t,xt)})}updateStickyColumns(nn,xt,zt,$t=!0){nn.length&&this._isBrowser&&(xt.some(bn=>bn)||zt.some(bn=>bn))?this._coalescedStyleScheduler.schedule(()=>{const bn=nn[0],Pn=bn.children.length,Ri=this._getCellWidths(bn,$t),Dn=this._getStickyStartColumnPositions(Ri,xt),Kn=this._getStickyEndColumnPositions(Ri,zt),xn=xt.lastIndexOf(!0),Xn=zt.indexOf(!0),pt="rtl"===this.direction,Le=pt?"right":"left",We=pt?"left":"right";for(const $e of nn)for(let gt=0;gt<Pn;gt++){const Zt=$e.children[gt];xt[gt]&&this._addStickyStyle(Zt,Le,Dn[gt],gt===xn),zt[gt]&&this._addStickyStyle(Zt,We,Kn[gt],gt===Xn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===xn?[]:Ri.slice(0,xn+1).map(($e,gt)=>xt[gt]?$e:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Xn?[]:Ri.slice(Xn).map(($e,gt)=>zt[gt+Xn]?$e:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(nn,xt,zt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const $t="bottom"===zt?nn.slice().reverse():nn,bn="bottom"===zt?xt.slice().reverse():xt,Pn=[],Ri=[],Dn=[];for(let xn=0,Xn=0;xn<$t.length;xn++){if(!bn[xn])continue;Pn[xn]=Xn;const pt=$t[xn];Dn[xn]=this._isNativeHtmlTable?Array.from(pt.children):[pt];const Le=pt.getBoundingClientRect().height;Xn+=Le,Ri[xn]=Le}const Kn=bn.lastIndexOf(!0);for(let xn=0;xn<$t.length;xn++){if(!bn[xn])continue;const Xn=Pn[xn],pt=xn===Kn;for(const Le of Dn[xn])this._addStickyStyle(Le,zt,Xn,pt)}"top"===zt?this._positionListener?.stickyHeaderRowsUpdated({sizes:Ri,offsets:Pn,elements:Dn}):this._positionListener?.stickyFooterRowsUpdated({sizes:Ri,offsets:Pn,elements:Dn})})}updateStickyFooterContainer(nn,xt){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const zt=nn.querySelector("tfoot");zt&&(xt.some($t=>!$t)?this._removeStickyStyle(zt,["bottom"]):this._addStickyStyle(zt,"bottom",0,!1))})}_removeStickyStyle(nn,xt){for(const $t of xt)nn.style[$t]="",nn.classList.remove(this._borderCellCss[$t]);Ce.some($t=>-1===xt.indexOf($t)&&nn.style[$t])?nn.style.zIndex=this._getCalculatedZIndex(nn):(nn.style.zIndex="",this._needsPositionStickyOnElement&&(nn.style.position=""),nn.classList.remove(this._stickCellCss))}_addStickyStyle(nn,xt,zt,$t){nn.classList.add(this._stickCellCss),$t&&nn.classList.add(this._borderCellCss[xt]),nn.style[xt]=`${zt}px`,nn.style.zIndex=this._getCalculatedZIndex(nn),this._needsPositionStickyOnElement&&(nn.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(nn){const xt={top:100,bottom:10,left:1,right:1};let zt=0;for(const $t of Ce)nn.style[$t]&&(zt+=xt[$t]);return zt?`${zt}`:""}_getCellWidths(nn,xt=!0){if(!xt&&this._cachedCellWidths.length)return this._cachedCellWidths;const zt=[],$t=nn.children;for(let bn=0;bn<$t.length;bn++)zt.push($t[bn].getBoundingClientRect().width);return this._cachedCellWidths=zt,zt}_getStickyStartColumnPositions(nn,xt){const zt=[];let $t=0;for(let bn=0;bn<nn.length;bn++)xt[bn]&&(zt[bn]=$t,$t+=nn[bn]);return zt}_getStickyEndColumnPositions(nn,xt){const zt=[];let $t=0;for(let bn=nn.length;bn>0;bn--)xt[bn]&&(zt[bn]=$t,$t+=nn[bn]);return zt}}const at=new S.nKC("CDK_SPL");let Nt=(()=>{class on{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._rowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","rowOutlet",""]],standalone:!0})}return on})(),Ut=(()=>{class on{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._headerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","headerRowOutlet",""]],standalone:!0})}return on})(),wt=(()=>{class on{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._footerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","footerRowOutlet",""]],standalone:!0})}return on})(),ut=(()=>{class on{constructor(xt,zt){this.viewContainer=xt,this.elementRef=zt;const $t=(0,S.WQX)(ue);$t._noDataRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S.c1b),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:on,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return on})(),Pe=(()=>{class on{_getCellRole(){if(void 0===this._cellRoleInternal){const xt=this._elementRef.nativeElement.getAttribute("role"),zt="grid"===xt||"treegrid"===xt?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===zt?null:zt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(xt){this._trackByFn=xt}get dataSource(){return this._dataSource}set dataSource(xt){this._dataSource!==xt&&this._switchDataSource(xt)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(xt){this._multiTemplateDataRows=xt,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(xt){this._fixedLayout=xt,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(xt,zt,$t,bn,Pn,Ri,Dn,Kn,xn,Xn,pt,Le){this._differs=xt,this._changeDetectorRef=zt,this._elementRef=$t,this._dir=Pn,this._platform=Dn,this._viewRepeater=Kn,this._coalescedStyleScheduler=xn,this._viewportRuler=Xn,this._stickyPositioningListener=pt,this._onDestroy=new I.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new S.bkB,this.viewChange=new E.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,S.WQX)(S.zZn),bn||$t.nativeElement.setAttribute("role","table"),this._document=Ri,this._isServer=!Dn.isBrowser,this._isNativeHtmlTable="TABLE"===$t.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((xt,zt)=>this.trackBy?this.trackBy(zt.dataIndex,zt.data):zt),this._viewportRuler.change().pipe((0,$.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(xt=>{xt?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,A.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const xt=this._dataDiffer.diff(this._renderRows);if(!xt)return this._updateNoDataRow(),void this.contentChanged.next();const zt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(xt,zt,($t,bn,Pn)=>this._getEmbeddedViewArgs($t.item,Pn),$t=>$t.item.data,$t=>{$t.operation===A.Q3.INSERTED&&$t.context&&this._renderCellTemplateForItem($t.record.item.rowDef,$t.context)}),this._updateRowIndexContext(),xt.forEachIdentityChange($t=>{zt.get($t.currentIndex).context.$implicit=$t.item.data}),this._updateNoDataRow(),(0,S.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(xt){this._customColumnDefs.add(xt)}removeColumnDef(xt){this._customColumnDefs.delete(xt)}addRowDef(xt){this._customRowDefs.add(xt)}removeRowDef(xt){this._customRowDefs.delete(xt)}addHeaderRowDef(xt){this._customHeaderRowDefs.add(xt),this._headerRowDefChanged=!0}removeHeaderRowDef(xt){this._customHeaderRowDefs.delete(xt),this._headerRowDefChanged=!0}addFooterRowDef(xt){this._customFooterRowDefs.add(xt),this._footerRowDefChanged=!0}removeFooterRowDef(xt){this._customFooterRowDefs.delete(xt),this._footerRowDefChanged=!0}setNoDataRow(xt){this._customNoDataRow=xt}updateStickyHeaderRowStyles(){const xt=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const $t=lt(this._headerRowOutlet,"thead");$t&&($t.style.display=xt.length?"":"none")}const zt=this._headerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(xt,["top"]),this._stickyStyler.stickRows(xt,zt,"top"),this._headerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyFooterRowStyles(){const xt=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const $t=lt(this._footerRowOutlet,"tfoot");$t&&($t.style.display=xt.length?"":"none")}const zt=this._footerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(xt,["bottom"]),this._stickyStyler.stickRows(xt,zt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,zt),this._footerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyColumnStyles(){const xt=this._getRenderedRows(this._headerRowOutlet),zt=this._getRenderedRows(this._rowOutlet),$t=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...xt,...zt,...$t],["left","right"]),this._stickyColumnStylesNeedReset=!1),xt.forEach((bn,Pn)=>{this._addStickyColumnStyles([bn],this._headerRowDefs[Pn])}),this._rowDefs.forEach(bn=>{const Pn=[];for(let Ri=0;Ri<zt.length;Ri++)this._renderRows[Ri].rowDef===bn&&Pn.push(zt[Ri]);this._addStickyColumnStyles(Pn,bn)}),$t.forEach((bn,Pn)=>{this._addStickyColumnStyles([bn],this._footerRowDefs[Pn])}),Array.from(this._columnDefsByName.values()).forEach(bn=>bn.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const zt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||zt,this._forceRecalculateCellWidths=zt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const xt=[],zt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let $t=0;$t<this._data.length;$t++){let bn=this._data[$t];const Pn=this._getRenderRowsForData(bn,$t,zt.get(bn));this._cachedRenderRowsMap.has(bn)||this._cachedRenderRowsMap.set(bn,new WeakMap);for(let Ri=0;Ri<Pn.length;Ri++){let Dn=Pn[Ri];const Kn=this._cachedRenderRowsMap.get(Dn.data);Kn.has(Dn.rowDef)?Kn.get(Dn.rowDef).push(Dn):Kn.set(Dn.rowDef,[Dn]),xt.push(Dn)}}return xt}_getRenderRowsForData(xt,zt,$t){return this._getRowDefs(xt,zt).map(Pn=>{const Ri=$t&&$t.has(Pn)?$t.get(Pn):[];if(Ri.length){const Dn=Ri.shift();return Dn.dataIndex=zt,Dn}return{data:xt,rowDef:Pn,dataIndex:zt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),pe(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(zt=>{this._columnDefsByName.has(zt.name),this._columnDefsByName.set(zt.name,zt)})}_cacheRowDefs(){this._headerRowDefs=pe(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=pe(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=pe(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const xt=this._rowDefs.filter(zt=>!zt.when);this._defaultRowDef=xt[0]}_renderUpdatedColumns(){const xt=(Pn,Ri)=>Pn||!!Ri.getColumnsDiff(),zt=this._rowDefs.reduce(xt,!1);zt&&this._forceRenderDataRows();const $t=this._headerRowDefs.reduce(xt,!1);$t&&this._forceRenderHeaderRows();const bn=this._footerRowDefs.reduce(xt,!1);return bn&&this._forceRenderFooterRows(),zt||$t||bn}_switchDataSource(xt){this._data=[],(0,A.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),xt||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=xt}_observeRenderChanges(){if(!this.dataSource)return;let xt;(0,A.y4)(this.dataSource)?xt=this.dataSource.connect(this):(0,y.A)(this.dataSource)?xt=this.dataSource:Array.isArray(this.dataSource)&&(xt=(0,x.of)(this.dataSource)),this._renderChangeSubscription=xt.pipe((0,$.Q)(this._onDestroy)).subscribe(zt=>{this._data=zt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((xt,zt)=>this._renderRow(this._headerRowOutlet,xt,zt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((xt,zt)=>this._renderRow(this._footerRowOutlet,xt,zt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(xt,zt){const $t=Array.from(zt.columns||[]).map(Ri=>this._columnDefsByName.get(Ri)),bn=$t.map(Ri=>Ri.sticky),Pn=$t.map(Ri=>Ri.stickyEnd);this._stickyStyler.updateStickyColumns(xt,bn,Pn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(xt){const zt=[];for(let $t=0;$t<xt.viewContainer.length;$t++){const bn=xt.viewContainer.get($t);zt.push(bn.rootNodes[0])}return zt}_getRowDefs(xt,zt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let $t=[];if(this.multiTemplateDataRows)$t=this._rowDefs.filter(bn=>!bn.when||bn.when(zt,xt));else{let bn=this._rowDefs.find(Pn=>Pn.when&&Pn.when(zt,xt))||this._defaultRowDef;bn&&$t.push(bn)}return $t}_getEmbeddedViewArgs(xt,zt){return{templateRef:xt.rowDef.template,context:{$implicit:xt.data},index:zt}}_renderRow(xt,zt,$t,bn={}){const Pn=xt.viewContainer.createEmbeddedView(zt.template,bn,$t);return this._renderCellTemplateForItem(zt,bn),Pn}_renderCellTemplateForItem(xt,zt){for(let $t of this._getCellTemplates(xt))ye.mostRecentCellOutlet&&ye.mostRecentCellOutlet._viewContainer.createEmbeddedView($t,zt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const xt=this._rowOutlet.viewContainer;for(let zt=0,$t=xt.length;zt<$t;zt++){const Pn=xt.get(zt).context;Pn.count=$t,Pn.first=0===zt,Pn.last=zt===$t-1,Pn.even=zt%2==0,Pn.odd=!Pn.even,this.multiTemplateDataRows?(Pn.dataIndex=this._renderRows[zt].dataIndex,Pn.renderIndex=zt):Pn.index=this._renderRows[zt].dataIndex}}_getCellTemplates(xt){return xt&&xt.columns?Array.from(xt.columns,zt=>{const $t=this._columnDefsByName.get(zt);return xt.extractCellTemplate($t)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const xt=(zt,$t)=>zt||$t.hasStickyChanged();this._headerRowDefs.reduce(xt,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(xt,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(xt,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Qt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,x.of)()).pipe((0,$.Q)(this._onDestroy)).subscribe(zt=>{this._stickyStyler.direction=zt,this.updateStickyColumnStyles()})}_getOwnDefs(xt){return xt.filter(zt=>!zt._table||zt._table===this)}_updateNoDataRow(){const xt=this._customNoDataRow||this._noDataRow;if(!xt)return;const zt=0===this._rowOutlet.viewContainer.length;if(zt===this._isShowingNoDataRow)return;const $t=this._noDataRowOutlet.viewContainer;if(zt){const bn=$t.createEmbeddedView(xt.templateRef),Pn=bn.rootNodes[0];1===bn.rootNodes.length&&Pn?.nodeType===this._document.ELEMENT_NODE&&(Pn.setAttribute("role","row"),Pn.classList.add(xt._contentClassName))}else $t.clear();this._isShowingNoDataRow=zt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(S._q3),S.rXU(S.gRc),S.rXU(S.aKT),S.kS0("role"),S.rXU(d.dS,8),S.rXU(C.qQ),S.rXU(w.OD),S.rXU(A.sL),S.rXU(Xe),S.rXU(D.Xj),S.rXU(at,12),S.rXU(S.SKi,8))};static#t=this.\u0275cmp=S.VBU({type:on,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(zt,$t,bn){if(1&zt&&(S.wni(bn,Pt,5),S.wni(bn,X,5),S.wni(bn,ge,5),S.wni(bn,K,5),S.wni(bn,oe,5)),2&zt){let Pn;S.mGM(Pn=S.lsd())&&($t._noDataRow=Pn.first),S.mGM(Pn=S.lsd())&&($t._contentColumnDefs=Pn),S.mGM(Pn=S.lsd())&&($t._contentRowDefs=Pn),S.mGM(Pn=S.lsd())&&($t._contentHeaderRowDefs=Pn),S.mGM(Pn=S.lsd())&&($t._contentFooterRowDefs=Pn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(zt,$t){2&zt&&S.AVh("cdk-table-fixed-layout",$t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",S.L39],fixedLayout:[2,"fixedLayout","fixedLayout",S.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[S.Jv_([{provide:ue,useExisting:on},{provide:A.sL,useClass:A.xn},{provide:Xe,useClass:yt},{provide:at,useValue:null}]),S.GFd,S.aNF],ngContentSelectors:O,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(zt,$t){1&zt&&(S.NAR(R),S.SdG(0),S.SdG(1,1),S.DNE(2,M,1,0)(3,L,7,0)(4,U,4,0)),2&zt&&(S.R7$(2),S.vxM($t._isServer?2:-1),S.R7$(),S.vxM($t._isNativeHtmlTable?3:4))},dependencies:[Ut,Nt,ut,wt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return on})();function pe(on,nn){return on.concat(Array.from(nn))}function lt(on,nn){const xt=nn.toUpperCase();let zt=on.viewContainer.element.nativeElement;for(;zt;){const $t=1===zt.nodeType?zt.nodeName:null;if($t===xt)return zt;if("TABLE"===$t)break;zt=zt.parentNode}return null}let Gt=(()=>{class on{get name(){return this._name}set name(xt){this._name=xt,this._syncColumnDefName()}constructor(xt,zt){this._table=xt,this._options=zt,this.justify="start",this._options=zt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((xt,zt)=>xt[zt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const xt=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(xt):xt[0].toUpperCase()+xt.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(zt){return new(zt||on)(S.rXU(Pe,8),S.rXU(ce,8))};static#t=this.\u0275cmp=S.VBU({type:on,selectors:[["cdk-text-column"]],viewQuery:function(zt,$t){if(1&zt&&(S.GBs(X,7),S.GBs(re,7),S.GBs(be,7)),2&zt){let bn;S.mGM(bn=S.lsd())&&($t.columnDef=bn.first),S.mGM(bn=S.lsd())&&($t.cell=bn.first),S.mGM(bn=S.lsd())&&($t.headerCell=bn.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[S.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(zt,$t){1&zt&&(S.qex(0,0),S.DNE(1,F,2,3,"th",1)(2,J,2,3,"td",2),S.bVm())},dependencies:[X,be,W,re,q],encapsulation:2})}return on})(),Hn=(()=>{class on{static#e=this.\u0275fac=function(zt){return new(zt||on)};static#t=this.\u0275mod=S.$C({type:on});static#n=this.\u0275inj=S.G2t({imports:[D.E9]})}return on})()},316:(hn,Re,_)=>{"use strict";_.d(Re,{AJ:()=>Eo,Jj:()=>Ya,MD:()=>wo,N0:()=>Qa,OI:()=>si,P9:()=>Lo,QT:()=>w,Sm:()=>U,Sq:()=>ne,T3:()=>Ds,UE:()=>qo,VF:()=>C,Vy:()=>Ol,Xr:()=>kr,YU:()=>zi,ZD:()=>D,_b:()=>Yi,aZ:()=>J,bT:()=>kt,e1:()=>Dr,fG:()=>Fr,fw:()=>F,hb:()=>M,hj:()=>y,oe:()=>Ks,qQ:()=>I,ux:()=>sr,vh:()=>La});var d=_(7404);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let A=null;function w(){return A}function D(we){A??=we}class C{}const I=new d.nKC("");let E=(()=>{class we{historyGo(Ve){throw new Error("")}static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275prov=d.jDH({token:we,factory:()=>(0,d.WQX)(x),providedIn:"platform"})}return we})();const y=new d.nKC("");let x=(()=>{class we extends E{constructor(){super(),this._doc=(0,d.WQX)(I),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(Ve){const _t=w().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("popstate",Ve,!1),()=>_t.removeEventListener("popstate",Ve)}onHashChange(Ve){const _t=w().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("hashchange",Ve,!1),()=>_t.removeEventListener("hashchange",Ve)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ve){this._location.pathname=Ve}pushState(Ve,_t,an){this._history.pushState(Ve,_t,an)}replaceState(Ve,_t,an){this._history.replaceState(Ve,_t,an)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ve=0){this._history.go(Ve)}getState(){return this._history.state}static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275prov=d.jDH({token:we,factory:()=>new we,providedIn:"platform"})}return we})();function $(we,Dt){if(0==we.length)return Dt;if(0==Dt.length)return we;let Ve=0;return we.endsWith("/")&&Ve++,Dt.startsWith("/")&&Ve++,2==Ve?we+Dt.substring(1):1==Ve?we+Dt:we+"/"+Dt}function R(we){const Dt=we.match(/#|\?|$/),Ve=Dt&&Dt.index||we.length;return we.slice(0,Ve-("/"===we[Ve-1]?1:0))+we.slice(Ve)}function O(we){return we&&"?"!==we[0]?"?"+we:we}let M=(()=>{class we{historyGo(Ve){throw new Error("")}static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275prov=d.jDH({token:we,factory:()=>(0,d.WQX)(U),providedIn:"root"})}return we})();const L=new d.nKC("");let U=(()=>{class we extends M{constructor(Ve,_t){super(),this._platformLocation=Ve,this._removeListenerFns=[],this._baseHref=_t??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(I).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ve){return $(this._baseHref,Ve)}path(Ve=!1){const _t=this._platformLocation.pathname+O(this._platformLocation.search),an=this._platformLocation.hash;return an&&Ve?`${_t}${an}`:_t}pushState(Ve,_t,an,Wn){const ui=this.prepareExternalUrl(an+O(Wn));this._platformLocation.pushState(Ve,_t,ui)}replaceState(Ve,_t,an,Wn){const ui=this.prepareExternalUrl(an+O(Wn));this._platformLocation.replaceState(Ve,_t,ui)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){this._platformLocation.historyGo?.(Ve)}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.KVO(E),d.KVO(L,8))};static#t=this.\u0275prov=d.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),F=(()=>{class we extends M{constructor(Ve,_t){super(),this._platformLocation=Ve,this._baseHref="",this._removeListenerFns=[],null!=_t&&(this._baseHref=_t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ve){this._removeListenerFns.push(this._platformLocation.onPopState(Ve),this._platformLocation.onHashChange(Ve))}getBaseHref(){return this._baseHref}path(Ve=!1){const _t=this._platformLocation.hash??"#";return _t.length>0?_t.substring(1):_t}prepareExternalUrl(Ve){const _t=$(this._baseHref,Ve);return _t.length>0?"#"+_t:_t}pushState(Ve,_t,an,Wn){let ui=this.prepareExternalUrl(an+O(Wn));0==ui.length&&(ui=this._platformLocation.pathname),this._platformLocation.pushState(Ve,_t,ui)}replaceState(Ve,_t,an,Wn){let ui=this.prepareExternalUrl(an+O(Wn));0==ui.length&&(ui=this._platformLocation.pathname),this._platformLocation.replaceState(Ve,_t,ui)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ve=0){this._platformLocation.historyGo?.(Ve)}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.KVO(E),d.KVO(L,8))};static#t=this.\u0275prov=d.jDH({token:we,factory:we.\u0275fac})}return we})(),J=(()=>{class we{constructor(Ve){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ve;const _t=this._locationStrategy.getBaseHref();this._basePath=function be(we){if(new RegExp("^(https?:)?//").test(we)){const[,Ve]=we.split(/\/\/[^\/]+/);return Ve}return we}(R(re(_t))),this._locationStrategy.onPopState(an=>{this._subject.emit({url:this.path(!0),pop:!0,state:an.state,type:an.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ve=!1){return this.normalize(this._locationStrategy.path(Ve))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ve,_t=""){return this.path()==this.normalize(Ve+O(_t))}normalize(Ve){return we.stripTrailingSlash(function ce(we,Dt){if(!we||!Dt.startsWith(we))return Dt;const Ve=Dt.substring(we.length);return""===Ve||["/",";","?","#"].includes(Ve[0])?Ve:Dt}(this._basePath,re(Ve)))}prepareExternalUrl(Ve){return Ve&&"/"!==Ve[0]&&(Ve="/"+Ve),this._locationStrategy.prepareExternalUrl(Ve)}go(Ve,_t="",an=null){this._locationStrategy.pushState(an,"",Ve,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+O(_t)),an)}replaceState(Ve,_t="",an=null){this._locationStrategy.replaceState(an,"",Ve,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ve+O(_t)),an)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ve=0){this._locationStrategy.historyGo?.(Ve)}onUrlChange(Ve){return this._urlChangeListeners.push(Ve),this._urlChangeSubscription??=this.subscribe(_t=>{this._notifyUrlChangeListeners(_t.url,_t.state)}),()=>{const _t=this._urlChangeListeners.indexOf(Ve);this._urlChangeListeners.splice(_t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ve="",_t){this._urlChangeListeners.forEach(an=>an(Ve,_t))}subscribe(Ve,_t,an){return this._subject.subscribe({next:Ve,error:_t,complete:an})}static#e=this.normalizeQueryParams=O;static#t=this.joinWithSlash=$;static#n=this.stripTrailingSlash=R;static#i=this.\u0275fac=function(_t){return new(_t||we)(d.KVO(M))};static#r=this.\u0275prov=d.jDH({token:we,factory:()=>function ue(){return new J((0,d.KVO)(M))}(),providedIn:"root"})}return we})();function re(we){return we.replace(/\/index.html$/,"")}const j={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var X=function(we){return we[we.Decimal=0]="Decimal",we[we.Percent=1]="Percent",we[we.Currency=2]="Currency",we[we.Scientific=3]="Scientific",we}(X||{}),W=function(we){return we[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we}(W||{}),xe=function(we){return we[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we}(xe||{}),q=function(we){return we[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we}(q||{});const Ae={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ne(we,Dt){return at((0,d.H5H)(we)[d.KH2.DateFormat],Dt)}function Be(we,Dt){return at((0,d.H5H)(we)[d.KH2.TimeFormat],Dt)}function Qe(we,Dt){return at((0,d.H5H)(we)[d.KH2.DateTimeFormat],Dt)}function Pt(we,Dt){const Ve=(0,d.H5H)(we),_t=Ve[d.KH2.NumberSymbols][Dt];if(typeof _t>"u"){if(Dt===Ae.CurrencyDecimal)return Ve[d.KH2.NumberSymbols][Ae.Decimal];if(Dt===Ae.CurrencyGroup)return Ve[d.KH2.NumberSymbols][Ae.Group]}return _t}function Oe(we){if(!we[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${we[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function at(we,Dt){for(let Ve=Dt;Ve>-1;Ve--)if(typeof we[Ve]<"u")return we[Ve];throw new Error("Locale data API: locale data undefined")}function ot(we){const[Dt,Ve]=we.split(":");return{hours:+Dt,minutes:+Ve}}const ut=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dt={},Z=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pe=function(we){return we[we.Short=0]="Short",we[we.ShortGMT=1]="ShortGMT",we[we.Long=2]="Long",we[we.Extended=3]="Extended",we}(Pe||{}),pe=function(we){return we[we.FullYear=0]="FullYear",we[we.Month=1]="Month",we[we.Date=2]="Date",we[we.Hours=3]="Hours",we[we.Minutes=4]="Minutes",we[we.Seconds=5]="Seconds",we[we.FractionalSeconds=6]="FractionalSeconds",we[we.Day=7]="Day",we}(pe||{}),lt=function(we){return we[we.DayPeriods=0]="DayPeriods",we[we.Days=1]="Days",we[we.Months=2]="Months",we[we.Eras=3]="Eras",we}(lt||{});function Gt(we,Dt,Ve,_t){let an=function _n(we){if(De(we))return we;if("number"==typeof we&&!isNaN(we))return new Date(we);if("string"==typeof we){if(we=we.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(we)){const[an,Wn=1,ui=1]=we.split("-").map(Vi=>+Vi);return rn(an,Wn-1,ui)}const Ve=parseFloat(we);if(!isNaN(we-Ve))return new Date(Ve);let _t;if(_t=we.match(ut))return function ct(we){const Dt=new Date(0);let Ve=0,_t=0;const an=we[8]?Dt.setUTCFullYear:Dt.setFullYear,Wn=we[8]?Dt.setUTCHours:Dt.setHours;we[9]&&(Ve=Number(we[9]+we[10]),_t=Number(we[9]+we[11])),an.call(Dt,Number(we[1]),Number(we[2])-1,Number(we[3]));const ui=Number(we[4]||0)-Ve,Vi=Number(we[5]||0)-_t,Fs=Number(we[6]||0),qr=Math.floor(1e3*parseFloat("0."+(we[7]||0)));return Wn.call(Dt,ui,Vi,Fs,qr),Dt}(_t)}const Dt=new Date(we);if(!De(Dt))throw new Error(`Unable to convert "${we}" into a date`);return Dt}(we);Dt=Hn(Ve,Dt)||Dt;let Vi,ui=[];for(;Dt;){if(Vi=Z.exec(Dt),!Vi){ui.push(Dt);break}{ui=ui.concat(Vi.slice(1));const ts=ui.pop();if(!ts)break;Dt=ts}}let Fs=an.getTimezoneOffset();_t&&(Fs=$e(_t,Fs),an=function Zt(we,Dt,Ve){const _t=Ve?-1:1,an=we.getTimezoneOffset();return function gt(we,Dt){return(we=new Date(we.getTime())).setMinutes(we.getMinutes()+Dt),we}(we,_t*($e(Dt,an)-an))}(an,_t,!0));let qr="";return ui.forEach(ts=>{const Si=function We(we){if(Le[we])return Le[we];let Dt;switch(we){case"G":case"GG":case"GGG":Dt=$t(lt.Eras,xe.Abbreviated);break;case"GGGG":Dt=$t(lt.Eras,xe.Wide);break;case"GGGGG":Dt=$t(lt.Eras,xe.Narrow);break;case"y":Dt=xt(pe.FullYear,1,0,!1,!0);break;case"yy":Dt=xt(pe.FullYear,2,0,!0,!0);break;case"yyy":Dt=xt(pe.FullYear,3,0,!1,!0);break;case"yyyy":Dt=xt(pe.FullYear,4,0,!1,!0);break;case"Y":Dt=pt(1);break;case"YY":Dt=pt(2,!0);break;case"YYY":Dt=pt(3);break;case"YYYY":Dt=pt(4);break;case"M":case"L":Dt=xt(pe.Month,1,1);break;case"MM":case"LL":Dt=xt(pe.Month,2,1);break;case"MMM":Dt=$t(lt.Months,xe.Abbreviated);break;case"MMMM":Dt=$t(lt.Months,xe.Wide);break;case"MMMMM":Dt=$t(lt.Months,xe.Narrow);break;case"LLL":Dt=$t(lt.Months,xe.Abbreviated,W.Standalone);break;case"LLLL":Dt=$t(lt.Months,xe.Wide,W.Standalone);break;case"LLLLL":Dt=$t(lt.Months,xe.Narrow,W.Standalone);break;case"w":Dt=Xn(1);break;case"ww":Dt=Xn(2);break;case"W":Dt=Xn(1,!0);break;case"d":Dt=xt(pe.Date,1);break;case"dd":Dt=xt(pe.Date,2);break;case"c":case"cc":Dt=xt(pe.Day,1);break;case"ccc":Dt=$t(lt.Days,xe.Abbreviated,W.Standalone);break;case"cccc":Dt=$t(lt.Days,xe.Wide,W.Standalone);break;case"ccccc":Dt=$t(lt.Days,xe.Narrow,W.Standalone);break;case"cccccc":Dt=$t(lt.Days,xe.Short,W.Standalone);break;case"E":case"EE":case"EEE":Dt=$t(lt.Days,xe.Abbreviated);break;case"EEEE":Dt=$t(lt.Days,xe.Wide);break;case"EEEEE":Dt=$t(lt.Days,xe.Narrow);break;case"EEEEEE":Dt=$t(lt.Days,xe.Short);break;case"a":case"aa":case"aaa":Dt=$t(lt.DayPeriods,xe.Abbreviated);break;case"aaaa":Dt=$t(lt.DayPeriods,xe.Wide);break;case"aaaaa":Dt=$t(lt.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":Dt=$t(lt.DayPeriods,xe.Abbreviated,W.Standalone,!0);break;case"bbbb":Dt=$t(lt.DayPeriods,xe.Wide,W.Standalone,!0);break;case"bbbbb":Dt=$t(lt.DayPeriods,xe.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":Dt=$t(lt.DayPeriods,xe.Abbreviated,W.Format,!0);break;case"BBBB":Dt=$t(lt.DayPeriods,xe.Wide,W.Format,!0);break;case"BBBBB":Dt=$t(lt.DayPeriods,xe.Narrow,W.Format,!0);break;case"h":Dt=xt(pe.Hours,1,-12);break;case"hh":Dt=xt(pe.Hours,2,-12);break;case"H":Dt=xt(pe.Hours,1);break;case"HH":Dt=xt(pe.Hours,2);break;case"m":Dt=xt(pe.Minutes,1);break;case"mm":Dt=xt(pe.Minutes,2);break;case"s":Dt=xt(pe.Seconds,1);break;case"ss":Dt=xt(pe.Seconds,2);break;case"S":Dt=xt(pe.FractionalSeconds,1);break;case"SS":Dt=xt(pe.FractionalSeconds,2);break;case"SSS":Dt=xt(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Dt=Pn(Pe.Short);break;case"ZZZZZ":Dt=Pn(Pe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Dt=Pn(Pe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Dt=Pn(Pe.Long);break;default:return null}return Le[we]=Dt,Dt}(ts);qr+=Si?Si(an,Ve,Fs):"''"===ts?"'":ts.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qr}function rn(we,Dt,Ve){const _t=new Date(0);return _t.setFullYear(we,Dt,Ve),_t.setHours(0,0,0),_t}function Hn(we,Dt){const Ve=function yt(we){return(0,d.H5H)(we)[d.KH2.LocaleId]}(we);if(dt[Ve]??={},dt[Ve][Dt])return dt[Ve][Dt];let _t="";switch(Dt){case"shortDate":_t=Ne(we,q.Short);break;case"mediumDate":_t=Ne(we,q.Medium);break;case"longDate":_t=Ne(we,q.Long);break;case"fullDate":_t=Ne(we,q.Full);break;case"shortTime":_t=Be(we,q.Short);break;case"mediumTime":_t=Be(we,q.Medium);break;case"longTime":_t=Be(we,q.Long);break;case"fullTime":_t=Be(we,q.Full);break;case"short":const an=Hn(we,"shortTime"),Wn=Hn(we,"shortDate");_t=Ei(Qe(we,q.Short),[an,Wn]);break;case"medium":const ui=Hn(we,"mediumTime"),Vi=Hn(we,"mediumDate");_t=Ei(Qe(we,q.Medium),[ui,Vi]);break;case"long":const Fs=Hn(we,"longTime"),qr=Hn(we,"longDate");_t=Ei(Qe(we,q.Long),[Fs,qr]);break;case"full":const ts=Hn(we,"fullTime"),Si=Hn(we,"fullDate");_t=Ei(Qe(we,q.Full),[ts,Si])}return _t&&(dt[Ve][Dt]=_t),_t}function Ei(we,Dt){return Dt&&(we=we.replace(/\{([^}]+)}/g,function(Ve,_t){return null!=Dt&&_t in Dt?Dt[_t]:Ve})),we}function on(we,Dt,Ve="-",_t,an){let Wn="";(we<0||an&&we<=0)&&(an?we=1-we:(we=-we,Wn=Ve));let ui=String(we);for(;ui.length<Dt;)ui="0"+ui;return _t&&(ui=ui.slice(ui.length-Dt)),Wn+ui}function xt(we,Dt,Ve=0,_t=!1,an=!1){return function(Wn,ui){let Vi=function zt(we,Dt){switch(we){case pe.FullYear:return Dt.getFullYear();case pe.Month:return Dt.getMonth();case pe.Date:return Dt.getDate();case pe.Hours:return Dt.getHours();case pe.Minutes:return Dt.getMinutes();case pe.Seconds:return Dt.getSeconds();case pe.FractionalSeconds:return Dt.getMilliseconds();case pe.Day:return Dt.getDay();default:throw new Error(`Unknown DateType value "${we}".`)}}(we,Wn);if((Ve>0||Vi>-Ve)&&(Vi+=Ve),we===pe.Hours)0===Vi&&-12===Ve&&(Vi=12);else if(we===pe.FractionalSeconds)return function nn(we,Dt){return on(we,3).substring(0,Dt)}(Vi,Dt);const Fs=Pt(ui,Ae.MinusSign);return on(Vi,Dt,Fs,_t,an)}}function $t(we,Dt,Ve=W.Format,_t=!1){return function(an,Wn){return function bn(we,Dt,Ve,_t,an,Wn){switch(Ve){case lt.Months:return function K(we,Dt,Ve){const _t=(0,d.H5H)(we),Wn=at([_t[d.KH2.MonthsFormat],_t[d.KH2.MonthsStandalone]],Dt);return at(Wn,Ve)}(Dt,an,_t)[we.getMonth()];case lt.Days:return function je(we,Dt,Ve){const _t=(0,d.H5H)(we),Wn=at([_t[d.KH2.DaysFormat],_t[d.KH2.DaysStandalone]],Dt);return at(Wn,Ve)}(Dt,an,_t)[we.getDay()];case lt.DayPeriods:const ui=we.getHours(),Vi=we.getMinutes();if(Wn){const qr=function Ye(we){const Dt=(0,d.H5H)(we);return Oe(Dt),(Dt[d.KH2.ExtraData][2]||[]).map(_t=>"string"==typeof _t?ot(_t):[ot(_t[0]),ot(_t[1])])}(Dt),ts=function vt(we,Dt,Ve){const _t=(0,d.H5H)(we);Oe(_t);const Wn=at([_t[d.KH2.ExtraData][0],_t[d.KH2.ExtraData][1]],Dt)||[];return at(Wn,Ve)||[]}(Dt,an,_t),Si=qr.findIndex(ro=>{if(Array.isArray(ro)){const[Ws,fo]=ro,Vl=ui>=Ws.hours&&Vi>=Ws.minutes,Sl=ui<fo.hours||ui===fo.hours&&Vi<fo.minutes;if(Ws.hours<fo.hours){if(Vl&&Sl)return!0}else if(Vl||Sl)return!0}else if(ro.hours===ui&&ro.minutes===Vi)return!0;return!1});if(-1!==Si)return ts[Si]}return function Je(we,Dt,Ve){const _t=(0,d.H5H)(we),Wn=at([_t[d.KH2.DayPeriodsFormat],_t[d.KH2.DayPeriodsStandalone]],Dt);return at(Wn,Ve)}(Dt,an,_t)[ui<12?0:1];case lt.Eras:return function oe(we,Dt){return at((0,d.H5H)(we)[d.KH2.Eras],Dt)}(Dt,_t)[we.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ve}`)}}(an,Wn,we,Dt,Ve,_t)}}function Pn(we){return function(Dt,Ve,_t){const an=-1*_t,Wn=Pt(Ve,Ae.MinusSign),ui=an>0?Math.floor(an/60):Math.ceil(an/60);switch(we){case Pe.Short:return(an>=0?"+":"")+on(ui,2,Wn)+on(Math.abs(an%60),2,Wn);case Pe.ShortGMT:return"GMT"+(an>=0?"+":"")+on(ui,1,Wn);case Pe.Long:return"GMT"+(an>=0?"+":"")+on(ui,2,Wn)+":"+on(Math.abs(an%60),2,Wn);case Pe.Extended:return 0===_t?"Z":(an>=0?"+":"")+on(ui,2,Wn)+":"+on(Math.abs(an%60),2,Wn);default:throw new Error(`Unknown zone width "${we}"`)}}}const Ri=0,Dn=4;function xn(we){const Dt=we.getDay(),Ve=0===Dt?-3:Dn-Dt;return rn(we.getFullYear(),we.getMonth(),we.getDate()+Ve)}function Xn(we,Dt=!1){return function(Ve,_t){let an;if(Dt){const Wn=new Date(Ve.getFullYear(),Ve.getMonth(),1).getDay()-1,ui=Ve.getDate();an=1+Math.floor((ui+Wn)/7)}else{const Wn=xn(Ve),ui=function Kn(we){const Dt=rn(we,Ri,1).getDay();return rn(we,0,1+(Dt<=Dn?Dn:Dn+7)-Dt)}(Wn.getFullYear()),Vi=Wn.getTime()-ui.getTime();an=1+Math.round(Vi/6048e5)}return on(an,we,Pt(_t,Ae.MinusSign))}}function pt(we,Dt=!1){return function(Ve,_t){return on(xn(Ve).getFullYear(),we,Pt(_t,Ae.MinusSign),Dt)}}const Le={};function $e(we,Dt){we=we.replace(/:/g,"");const Ve=Date.parse("Jan 01, 1970 00:00:00 "+we)/6e4;return isNaN(Ve)?Dt:Ve}function De(we){return we instanceof Date&&!isNaN(we.valueOf())}const st=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Fe=22,bt=".",Ft="0",An=";",Rn=",",ni="#";function Hi(we,Dt,Ve,_t,an){const ui=function lr(we,Dt="-"){const Ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},_t=we.split(An),an=_t[0],Wn=_t[1],ui=-1!==an.indexOf(bt)?an.split(bt):[an.substring(0,an.lastIndexOf(Ft)+1),an.substring(an.lastIndexOf(Ft)+1)],Vi=ui[0],Fs=ui[1]||"";Ve.posPre=Vi.substring(0,Vi.indexOf(ni));for(let ts=0;ts<Fs.length;ts++){const Si=Fs.charAt(ts);Si===Ft?Ve.minFrac=Ve.maxFrac=ts+1:Si===ni?Ve.maxFrac=ts+1:Ve.posSuf+=Si}const qr=Vi.split(Rn);if(Ve.gSize=qr[1]?qr[1].length:0,Ve.lgSize=qr[2]||qr[1]?(qr[2]||qr[1]).length:0,Wn){const ts=an.length-Ve.posPre.length-Ve.posSuf.length,Si=Wn.indexOf(ni);Ve.negPre=Wn.substring(0,Si).replace(/'/g,""),Ve.negSuf=Wn.slice(Si+ts).replace(/'/g,"")}else Ve.negPre=Dt+Ve.posPre,Ve.negSuf=Ve.posSuf;return Ve}(function Ce(we,Dt){return(0,d.H5H)(we)[d.KH2.NumberFormats][Dt]}(Dt,X.Currency),Pt(Dt,Ae.MinusSign));return ui.minFrac=function wt(we){let Dt;const Ve=j[we];return Ve&&(Dt=Ve[2]),"number"==typeof Dt?Dt:2}(_t),ui.maxFrac=ui.minFrac,function Ti(we,Dt,Ve,_t,an,Wn,ui=!1){let Vi="",Fs=!1;if(isFinite(we)){let qr=function Sr(we){let _t,an,Wn,ui,Vi,Dt=Math.abs(we)+"",Ve=0;for((an=Dt.indexOf(bt))>-1&&(Dt=Dt.replace(bt,"")),(Wn=Dt.search(/e/i))>0?(an<0&&(an=Wn),an+=+Dt.slice(Wn+1),Dt=Dt.substring(0,Wn)):an<0&&(an=Dt.length),Wn=0;Dt.charAt(Wn)===Ft;Wn++);if(Wn===(Vi=Dt.length))_t=[0],an=1;else{for(Vi--;Dt.charAt(Vi)===Ft;)Vi--;for(an-=Wn,_t=[],ui=0;Wn<=Vi;Wn++,ui++)_t[ui]=Number(Dt.charAt(Wn))}return an>Fe&&(_t=_t.splice(0,Fe-1),Ve=an-1,an=1),{digits:_t,exponent:Ve,integerLen:an}}(we);ui&&(qr=function ir(we){if(0===we.digits[0])return we;const Dt=we.digits.length-we.integerLen;return we.exponent?we.exponent+=2:(0===Dt?we.digits.push(0,0):1===Dt&&we.digits.push(0),we.integerLen+=2),we}(qr));let ts=Dt.minInt,Si=Dt.minFrac,ro=Dt.maxFrac;if(Wn){const fc=Wn.match(st);if(null===fc)throw new Error(`${Wn} is not a valid digit info`);const Vo=fc[1],Uo=fc[3],dl=fc[5];null!=Vo&&(ts=vs(Vo)),null!=Uo&&(Si=vs(Uo)),null!=dl?ro=vs(dl):null!=Uo&&Si>ro&&(ro=Si)}!function Hr(we,Dt,Ve){if(Dt>Ve)throw new Error(`The minimum number of digits after fraction (${Dt}) is higher than the maximum (${Ve}).`);let _t=we.digits,an=_t.length-we.integerLen;const Wn=Math.min(Math.max(Dt,an),Ve);let ui=Wn+we.integerLen,Vi=_t[ui];if(ui>0){_t.splice(Math.max(we.integerLen,ui));for(let Si=ui;Si<_t.length;Si++)_t[Si]=0}else{an=Math.max(0,an),we.integerLen=1,_t.length=Math.max(1,ui=Wn+1),_t[0]=0;for(let Si=1;Si<ui;Si++)_t[Si]=0}if(Vi>=5)if(ui-1<0){for(let Si=0;Si>ui;Si--)_t.unshift(0),we.integerLen++;_t.unshift(1),we.integerLen++}else _t[ui-1]++;for(;an<Math.max(0,Wn);an++)_t.push(0);let Fs=0!==Wn;const qr=Dt+we.integerLen,ts=_t.reduceRight(function(Si,ro,Ws,fo){return fo[Ws]=(ro+=Si)<10?ro:ro-10,Fs&&(0===fo[Ws]&&Ws>=qr?fo.pop():Fs=!1),ro>=10?1:0},0);ts&&(_t.unshift(ts),we.integerLen++)}(qr,Si,ro);let Ws=qr.digits,fo=qr.integerLen;const Vl=qr.exponent;let Sl=[];for(Fs=Ws.every(fc=>!fc);fo<ts;fo++)Ws.unshift(0);for(;fo<0;fo++)Ws.unshift(0);fo>0?Sl=Ws.splice(fo,Ws.length):(Sl=Ws,Ws=[0]);const Oc=[];for(Ws.length>=Dt.lgSize&&Oc.unshift(Ws.splice(-Dt.lgSize,Ws.length).join(""));Ws.length>Dt.gSize;)Oc.unshift(Ws.splice(-Dt.gSize,Ws.length).join(""));Ws.length&&Oc.unshift(Ws.join("")),Vi=Oc.join(Pt(Ve,_t)),Sl.length&&(Vi+=Pt(Ve,an)+Sl.join("")),Vl&&(Vi+=Pt(Ve,Ae.Exponential)+"+"+Vl)}else Vi=Pt(Ve,Ae.Infinity);return Vi=we<0&&!Fs?Dt.negPre+Vi+Dt.negSuf:Dt.posPre+Vi+Dt.posSuf,Vi}(we,ui,Dt,Ae.CurrencyGroup,Ae.CurrencyDecimal,an).replace("\xa4",Ve).replace("\xa4","").trim()}function vs(we){const Dt=parseInt(we);if(isNaN(Dt))throw new Error("Invalid integer literal when parsing "+we);return Dt}function Yi(we,Dt){Dt=encodeURIComponent(Dt);for(const Ve of we.split(";")){const _t=Ve.indexOf("="),[an,Wn]=-1==_t?[Ve,""]:[Ve.slice(0,_t),Ve.slice(_t+1)];if(an.trim()===Dt)return decodeURIComponent(Wn)}return null}const rr=/\s+/,ar=[];let zi=(()=>{class we{constructor(Ve,_t){this._ngEl=Ve,this._renderer=_t,this.initialClasses=ar,this.stateMap=new Map}set klass(Ve){this.initialClasses=null!=Ve?Ve.trim().split(rr):ar}set ngClass(Ve){this.rawClass="string"==typeof Ve?Ve.trim().split(rr):Ve}ngDoCheck(){for(const _t of this.initialClasses)this._updateState(_t,!0);const Ve=this.rawClass;if(Array.isArray(Ve)||Ve instanceof Set)for(const _t of Ve)this._updateState(_t,!0);else if(null!=Ve)for(const _t of Object.keys(Ve))this._updateState(_t,!!Ve[_t]);this._applyStateDiff()}_updateState(Ve,_t){const an=this.stateMap.get(Ve);void 0!==an?(an.enabled!==_t&&(an.changed=!0,an.enabled=_t),an.touched=!0):this.stateMap.set(Ve,{enabled:_t,changed:!0,touched:!0})}_applyStateDiff(){for(const Ve of this.stateMap){const _t=Ve[0],an=Ve[1];an.changed?(this._toggleClass(_t,an.enabled),an.changed=!1):an.touched||(an.enabled&&this._toggleClass(_t,!1),this.stateMap.delete(_t)),an.touched=!1}}_toggleClass(Ve,_t){(Ve=Ve.trim()).length>0&&Ve.split(rr).forEach(an=>{_t?this._renderer.addClass(this._ngEl.nativeElement,an):this._renderer.removeClass(this._ngEl.nativeElement,an)})}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.aKT),d.rXU(d.sFG))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return we})(),si=(()=>{class we{constructor(Ve){this._viewContainerRef=Ve,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ve){return void 0!==Ve.ngComponentOutletNgModule||void 0!==Ve.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ve){return void 0!==Ve.ngComponentOutlet||void 0!==Ve.ngComponentOutletContent||void 0!==Ve.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ve)}ngOnChanges(Ve){if(this._needToReCreateComponentInstance(Ve)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const _t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ve)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,d.w6W)(this.ngComponentOutletNgModule,Ge(_t)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(Ge(_t)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:_t,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ve of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ve,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ve){for(const[_t,an]of this._inputsUsed)an?(Ve.setInput(_t,this.ngComponentOutletInputs[_t]),this._inputsUsed.set(_t,!1)):(Ve.setInput(_t,void 0),this._inputsUsed.delete(_t))}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[d.OA$]})}return we})();function Ge(we){return we.get(d.Vns).injector}class Mt{constructor(Dt,Ve,_t,an){this.$implicit=Dt,this.ngForOf=Ve,this.index=_t,this.count=an}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ne=(()=>{class we{set ngForOf(Ve){this._ngForOf=Ve,this._ngForOfDirty=!0}set ngForTrackBy(Ve){this._trackByFn=Ve}get ngForTrackBy(){return this._trackByFn}constructor(Ve,_t,an){this._viewContainer=Ve,this._template=_t,this._differs=an,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ve){Ve&&(this._template=Ve)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ve=this._ngForOf;!this._differ&&Ve&&(this._differ=this._differs.find(Ve).create(this.ngForTrackBy))}if(this._differ){const Ve=this._differ.diff(this._ngForOf);Ve&&this._applyChanges(Ve)}}_applyChanges(Ve){const _t=this._viewContainer;Ve.forEachOperation((an,Wn,ui)=>{if(null==an.previousIndex)_t.createEmbeddedView(this._template,new Mt(an.item,this._ngForOf,-1,-1),null===ui?void 0:ui);else if(null==ui)_t.remove(null===Wn?void 0:Wn);else if(null!==Wn){const Vi=_t.get(Wn);_t.move(Vi,ui),et(Vi,an)}});for(let an=0,Wn=_t.length;an<Wn;an++){const Vi=_t.get(an).context;Vi.index=an,Vi.count=Wn,Vi.ngForOf=this._ngForOf}Ve.forEachIdentityChange(an=>{et(_t.get(an.currentIndex),an)})}static ngTemplateContextGuard(Ve,_t){return!0}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return we})();function et(we,Dt){we.context.$implicit=Dt.item}let kt=(()=>{class we{constructor(Ve,_t){this._viewContainer=Ve,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_t}set ngIf(Ve){this._context.$implicit=this._context.ngIf=Ve,this._updateView()}set ngIfThen(Ve){Jn("ngIfThen",Ve),this._thenTemplateRef=Ve,this._thenViewRef=null,this._updateView()}set ngIfElse(Ve){Jn("ngIfElse",Ve),this._elseTemplateRef=Ve,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ve,_t){return!0}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b),d.rXU(d.C4Q))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return we})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function Jn(we,Dt){if(Dt&&!Dt.createEmbeddedView)throw new Error(`${we} must be a TemplateRef, but received '${(0,d.Tbb)(Dt)}'.`)}class Pi{constructor(Dt,Ve){this._viewContainerRef=Dt,this._templateRef=Ve,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Dt){Dt&&!this._created?this.create():!Dt&&this._created&&this.destroy()}}let sr=(()=>{class we{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ve){this._ngSwitch=Ve,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ve){this._defaultViews.push(Ve)}_matchCase(Ve){const _t=Ve===this._ngSwitch;return this._lastCasesMatched||=_t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_t}_updateDefaultCases(Ve){if(this._defaultViews.length>0&&Ve!==this._defaultUsed){this._defaultUsed=Ve;for(const _t of this._defaultViews)_t.enforceState(Ve)}}static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return we})(),Dr=(()=>{class we{constructor(Ve,_t,an){this.ngSwitch=an,an._addCase(),this._view=new Pi(Ve,_t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(sr,9))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return we})(),Fr=(()=>{class we{constructor(Ve,_t,an){an._addDefault(new Pi(Ve,_t))}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(sr,9))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return we})(),Ds=(()=>{class we{constructor(Ve){this._viewContainerRef=Ve,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ve){if(this._shouldRecreateView(Ve)){const _t=this._viewContainerRef;if(this._viewRef&&_t.remove(_t.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const an=this._createContextForwardProxy();this._viewRef=_t.createEmbeddedView(this.ngTemplateOutlet,an,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ve){return!!Ve.ngTemplateOutlet||!!Ve.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ve,_t,an)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,_t,an),get:(Ve,_t,an)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,_t,an)}})}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.c1b))};static#t=this.\u0275dir=d.FsC({type:we,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]})}return we})();function Br(we,Dt){return new d.wOt(2100,!1)}class Mo{createSubscription(Dt,Ve){return(0,d.O8t)(()=>Dt.subscribe({next:Ve,error:_t=>{throw _t}}))}dispose(Dt){(0,d.O8t)(()=>Dt.unsubscribe())}}class Yo{createSubscription(Dt,Ve){return Dt.then(Ve,_t=>{throw _t})}dispose(Dt){}}const Fo=new Yo,Al=new Mo;let Ya=(()=>{class we{constructor(Ve){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ve}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ve){if(!this._obj){if(Ve)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ve)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ve!==this._obj?(this._dispose(),this.transform(Ve)):this._latestValue}_subscribe(Ve){this._obj=Ve,this._strategy=this._selectStrategy(Ve),this._subscription=this._strategy.createSubscription(Ve,_t=>this._updateLatestValue(Ve,_t))}_selectStrategy(Ve){if((0,d.jNT)(Ve))return Fo;if((0,d.zjR)(Ve))return Al;throw Br()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ve,_t){Ve===this._obj&&(this._latestValue=_t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.gRc,16))};static#t=this.\u0275pipe=d.EJ8({name:"async",type:we,pure:!1,standalone:!0})}return we})();const Fa=new d.nKC(""),va=new d.nKC("");let La=(()=>{class we{constructor(Ve,_t,an){this.locale=Ve,this.defaultTimezone=_t,this.defaultOptions=an}transform(Ve,_t,an,Wn){if(null==Ve||""===Ve||Ve!=Ve)return null;try{return Gt(Ve,_t??this.defaultOptions?.dateFormat??"mediumDate",Wn||this.locale,an??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ui){throw Br()}}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.xe9,16),d.rXU(Fa,24),d.rXU(va,24))};static#t=this.\u0275pipe=d.EJ8({name:"date",type:we,pure:!0,standalone:!0})}return we})(),Ks=(()=>{class we{constructor(Ve,_t="USD"){this._locale=Ve,this._defaultCurrencyCode=_t}transform(Ve,_t=this._defaultCurrencyCode,an="symbol",Wn,ui){if(!function lo(we){return!(null==we||""===we||we!=we)}(Ve))return null;ui||=this._locale,"boolean"==typeof an&&(an=an?"symbol":"code");let Vi=_t||this._defaultCurrencyCode;"code"!==an&&(Vi="symbol"===an||"symbol-narrow"===an?function Nt(we,Dt,Ve="en"){const _t=function Ot(we){return(0,d.H5H)(we)[d.KH2.Currencies]}(Ve)[we]||j[we]||[],an=_t[1];return"narrow"===Dt&&"string"==typeof an?an:_t[0]||we}(Vi,"symbol"===an?"wide":"narrow",ui):an);try{return Hi(function ba(we){if("string"==typeof we&&!isNaN(Number(we)-parseFloat(we)))return Number(we);if("number"!=typeof we)throw new Error(`${we} is not a number`);return we}(Ve),ui,Vi,_t,Wn)}catch(Fs){throw Br()}}static#e=this.\u0275fac=function(_t){return new(_t||we)(d.rXU(d.xe9,16),d.rXU(d.Ocv,16))};static#t=this.\u0275pipe=d.EJ8({name:"currency",type:we,pure:!0,standalone:!0})}return we})();let Lo=(()=>{class we{transform(Ve,_t,an){if(null==Ve)return null;if(!this.supports(Ve))throw Br();return Ve.slice(_t,an)}supports(Ve){return"string"==typeof Ve||Array.isArray(Ve)}static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275pipe=d.EJ8({name:"slice",type:we,pure:!1,standalone:!0})}return we})(),wo=(()=>{class we{static#e=this.\u0275fac=function(_t){return new(_t||we)};static#t=this.\u0275mod=d.$C({type:we});static#n=this.\u0275inj=d.G2t({})}return we})();const Eo="browser",Ba="server";function qo(we){return we===Eo}function Ol(we){return we===Ba}let kr=(()=>{class we{static#e=this.\u0275prov=(0,d.jDH)({token:we,providedIn:"root",factory:()=>qo((0,d.WQX)(d.Agw))?new ws((0,d.WQX)(I),window):new go})}return we})();class ws{constructor(Dt,Ve){this.document=Dt,this.window=Ve,this.offset=()=>[0,0]}setOffset(Dt){this.offset=Array.isArray(Dt)?()=>Dt:Dt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Dt){this.window.scrollTo(Dt[0],Dt[1])}scrollToAnchor(Dt){const Ve=function oa(we,Dt){const Ve=we.getElementById(Dt)||we.getElementsByName(Dt)[0];if(Ve)return Ve;if("function"==typeof we.createTreeWalker&&we.body&&"function"==typeof we.body.attachShadow){const _t=we.createTreeWalker(we.body,NodeFilter.SHOW_ELEMENT);let an=_t.currentNode;for(;an;){const Wn=an.shadowRoot;if(Wn){const ui=Wn.getElementById(Dt)||Wn.querySelector(`[name="${Dt}"]`);if(ui)return ui}an=_t.nextNode()}}return null}(this.document,Dt);Ve&&(this.scrollToElement(Ve),Ve.focus())}setHistoryScrollRestoration(Dt){this.window.history.scrollRestoration=Dt}scrollToElement(Dt){const Ve=Dt.getBoundingClientRect(),_t=Ve.left+this.window.pageXOffset,an=Ve.top+this.window.pageYOffset,Wn=this.offset();this.window.scrollTo(_t-Wn[0],an-Wn[1])}}class go{setOffset(Dt){}getScrollPosition(){return[0,0]}scrollToPosition(Dt){}scrollToAnchor(Dt){}setHistoryScrollRestoration(Dt){}}class Qa{}},6443:(hn,Re,_)=>{"use strict";_.d(Re,{$R:()=>Zt,Qq:()=>Qe,Sx:()=>De,yz:()=>oe});var d=_(9204),A=_(7404),w=_(1536),D=_(434),C=_(2677),S=_(9003),I=_(8627),E=_(5443),y=_(9863),x=_(1963),$=_(316);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class R{}class O{}class M{constructor(Mt){this.normalizedNames=new Map,this.lazyUpdate=null,Mt?"string"==typeof Mt?this.lazyInit=()=>{this.headers=new Map,Mt.split("\n").forEach(ne=>{const et=ne.indexOf(":");if(et>0){const He=ne.slice(0,et),kt=He.toLowerCase(),Bt=ne.slice(et+1).trim();this.maybeSetNormalizedName(He,kt),this.headers.has(kt)?this.headers.get(kt).push(Bt):this.headers.set(kt,[Bt])}})}:typeof Headers<"u"&&Mt instanceof Headers?(this.headers=new Map,Mt.forEach((ne,et)=>{this.setHeaderEntries(et,ne)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Mt).forEach(([ne,et])=>{this.setHeaderEntries(ne,et)})}:this.headers=new Map}has(Mt){return this.init(),this.headers.has(Mt.toLowerCase())}get(Mt){this.init();const ne=this.headers.get(Mt.toLowerCase());return ne&&ne.length>0?ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Mt){return this.init(),this.headers.get(Mt.toLowerCase())||null}append(Mt,ne){return this.clone({name:Mt,value:ne,op:"a"})}set(Mt,ne){return this.clone({name:Mt,value:ne,op:"s"})}delete(Mt,ne){return this.clone({name:Mt,value:ne,op:"d"})}maybeSetNormalizedName(Mt,ne){this.normalizedNames.has(ne)||this.normalizedNames.set(ne,Mt)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Mt=>this.applyUpdate(Mt)),this.lazyUpdate=null))}copyFrom(Mt){Mt.init(),Array.from(Mt.headers.keys()).forEach(ne=>{this.headers.set(ne,Mt.headers.get(ne)),this.normalizedNames.set(ne,Mt.normalizedNames.get(ne))})}clone(Mt){const ne=new M;return ne.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,ne.lazyUpdate=(this.lazyUpdate||[]).concat([Mt]),ne}applyUpdate(Mt){const ne=Mt.name.toLowerCase();switch(Mt.op){case"a":case"s":let et=Mt.value;if("string"==typeof et&&(et=[et]),0===et.length)return;this.maybeSetNormalizedName(Mt.name,ne);const He=("a"===Mt.op?this.headers.get(ne):void 0)||[];He.push(...et),this.headers.set(ne,He);break;case"d":const kt=Mt.value;if(kt){let Bt=this.headers.get(ne);if(!Bt)return;Bt=Bt.filter(Jn=>-1===kt.indexOf(Jn)),0===Bt.length?(this.headers.delete(ne),this.normalizedNames.delete(ne)):this.headers.set(ne,Bt)}else this.headers.delete(ne),this.normalizedNames.delete(ne)}}setHeaderEntries(Mt,ne){const et=(Array.isArray(ne)?ne:[ne]).map(kt=>kt.toString()),He=Mt.toLowerCase();this.headers.set(He,et),this.maybeSetNormalizedName(Mt,He)}forEach(Mt){this.init(),Array.from(this.normalizedNames.keys()).forEach(ne=>Mt(this.normalizedNames.get(ne),this.headers.get(ne)))}}class U{encodeKey(Mt){return ce(Mt)}encodeValue(Mt){return ce(Mt)}decodeKey(Mt){return decodeURIComponent(Mt)}decodeValue(Mt){return decodeURIComponent(Mt)}}const J=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ce(Ge){return encodeURIComponent(Ge).replace(J,(Mt,ne)=>ue[ne]??Mt)}function re(Ge){return`${Ge}`}class be{constructor(Mt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Mt.encoder||new U,Mt.fromString){if(Mt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function F(Ge,Mt){const ne=new Map;return Ge.length>0&&Ge.replace(/^\?/,"").split("&").forEach(He=>{const kt=He.indexOf("="),[Bt,Jn]=-1==kt?[Mt.decodeKey(He),""]:[Mt.decodeKey(He.slice(0,kt)),Mt.decodeValue(He.slice(kt+1))],Pi=ne.get(Bt)||[];Pi.push(Jn),ne.set(Bt,Pi)}),ne}(Mt.fromString,this.encoder)}else Mt.fromObject?(this.map=new Map,Object.keys(Mt.fromObject).forEach(ne=>{const et=Mt.fromObject[ne],He=Array.isArray(et)?et.map(re):[re(et)];this.map.set(ne,He)})):this.map=null}has(Mt){return this.init(),this.map.has(Mt)}get(Mt){this.init();const ne=this.map.get(Mt);return ne?ne[0]:null}getAll(Mt){return this.init(),this.map.get(Mt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Mt,ne){return this.clone({param:Mt,value:ne,op:"a"})}appendAll(Mt){const ne=[];return Object.keys(Mt).forEach(et=>{const He=Mt[et];Array.isArray(He)?He.forEach(kt=>{ne.push({param:et,value:kt,op:"a"})}):ne.push({param:et,value:He,op:"a"})}),this.clone(ne)}set(Mt,ne){return this.clone({param:Mt,value:ne,op:"s"})}delete(Mt,ne){return this.clone({param:Mt,value:ne,op:"d"})}toString(){return this.init(),this.keys().map(Mt=>{const ne=this.encoder.encodeKey(Mt);return this.map.get(Mt).map(et=>ne+"="+this.encoder.encodeValue(et)).join("&")}).filter(Mt=>""!==Mt).join("&")}clone(Mt){const ne=new be({encoder:this.encoder});return ne.cloneFrom=this.cloneFrom||this,ne.updates=(this.updates||[]).concat(Mt),ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Mt=>this.map.set(Mt,this.cloneFrom.map.get(Mt))),this.updates.forEach(Mt=>{switch(Mt.op){case"a":case"s":const ne=("a"===Mt.op?this.map.get(Mt.param):void 0)||[];ne.push(re(Mt.value)),this.map.set(Mt.param,ne);break;case"d":if(void 0===Mt.value){this.map.delete(Mt.param);break}{let et=this.map.get(Mt.param)||[];const He=et.indexOf(re(Mt.value));-1!==He&&et.splice(He,1),et.length>0?this.map.set(Mt.param,et):this.map.delete(Mt.param)}}}),this.cloneFrom=this.updates=null)}}class X{constructor(){this.map=new Map}set(Mt,ne){return this.map.set(Mt,ne),this}get(Mt){return this.map.has(Mt)||this.map.set(Mt,Mt.defaultValue()),this.map.get(Mt)}delete(Mt){return this.map.delete(Mt),this}has(Mt){return this.map.has(Mt)}keys(){return this.map.keys()}}function W(Ge){return typeof ArrayBuffer<"u"&&Ge instanceof ArrayBuffer}function xe(Ge){return typeof Blob<"u"&&Ge instanceof Blob}function q(Ge){return typeof FormData<"u"&&Ge instanceof FormData}class Xe{constructor(Mt,ne,et,He){let kt;if(this.url=ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Mt.toUpperCase(),function se(Ge){switch(Ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||He?(this.body=void 0!==et?et:null,kt=He):kt=et,kt&&(this.reportProgress=!!kt.reportProgress,this.withCredentials=!!kt.withCredentials,kt.responseType&&(this.responseType=kt.responseType),kt.headers&&(this.headers=kt.headers),kt.context&&(this.context=kt.context),kt.params&&(this.params=kt.params),this.transferCache=kt.transferCache),this.headers??=new M,this.context??=new X,this.params){const Bt=this.params.toString();if(0===Bt.length)this.urlWithParams=ne;else{const Jn=ne.indexOf("?");this.urlWithParams=ne+(-1===Jn?"?":Jn<ne.length-1?"&":"")+Bt}}else this.params=new be,this.urlWithParams=ne}serializeBody(){return null===this.body?null:"string"==typeof this.body||W(this.body)||xe(this.body)||q(this.body)||function Ae(Ge){return typeof URLSearchParams<"u"&&Ge instanceof URLSearchParams}(this.body)?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||q(this.body)?null:xe(this.body)?this.body.type||null:W(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Mt={}){const ne=Mt.method||this.method,et=Mt.url||this.url,He=Mt.responseType||this.responseType,kt=Mt.transferCache??this.transferCache,Bt=void 0!==Mt.body?Mt.body:this.body,Jn=Mt.withCredentials??this.withCredentials,Pi=Mt.reportProgress??this.reportProgress;let sr=Mt.headers||this.headers,Dr=Mt.params||this.params;const Fr=Mt.context??this.context;return void 0!==Mt.setHeaders&&(sr=Object.keys(Mt.setHeaders).reduce((Zr,ds)=>Zr.set(ds,Mt.setHeaders[ds]),sr)),Mt.setParams&&(Dr=Object.keys(Mt.setParams).reduce((Zr,ds)=>Zr.set(ds,Mt.setParams[ds]),Dr)),new Xe(ne,et,Bt,{params:Dr,headers:sr,context:Fr,reportProgress:Pi,responseType:He,withCredentials:Jn,transferCache:kt})}}var yt=function(Ge){return Ge[Ge.Sent=0]="Sent",Ge[Ge.UploadProgress=1]="UploadProgress",Ge[Ge.ResponseHeader=2]="ResponseHeader",Ge[Ge.DownloadProgress=3]="DownloadProgress",Ge[Ge.Response=4]="Response",Ge[Ge.User=5]="User",Ge}(yt||{});class Je{constructor(Mt,ne=200,et="OK"){this.headers=Mt.headers||new M,this.status=void 0!==Mt.status?Mt.status:ne,this.statusText=Mt.statusText||et,this.url=Mt.url||null,this.ok=this.status>=200&&this.status<300}}class je extends Je{constructor(Mt={}){super(Mt),this.type=yt.ResponseHeader}clone(Mt={}){return new je({headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class K extends Je{constructor(Mt={}){super(Mt),this.type=yt.Response,this.body=void 0!==Mt.body?Mt.body:null}clone(Mt={}){return new K({body:void 0!==Mt.body?Mt.body:this.body,headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class oe extends Je{constructor(Mt){super(Mt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Mt.url||"(unknown url)"}`:`Http failure response for ${Mt.url||"(unknown url)"}: ${Mt.status} ${Mt.statusText}`,this.error=Mt.error||null}}function Be(Ge,Mt){return{body:Mt,headers:Ge.headers,context:Ge.context,observe:Ge.observe,params:Ge.params,reportProgress:Ge.reportProgress,responseType:Ge.responseType,withCredentials:Ge.withCredentials,transferCache:Ge.transferCache}}let Qe=(()=>{class Ge{constructor(ne){this.handler=ne}request(ne,et,He={}){let kt;if(ne instanceof Xe)kt=ne;else{let Pi,sr;Pi=He.headers instanceof M?He.headers:new M(He.headers),He.params&&(sr=He.params instanceof be?He.params:new be({fromObject:He.params})),kt=new Xe(ne,et,void 0!==He.body?He.body:null,{headers:Pi,context:He.context,params:sr,reportProgress:He.reportProgress,responseType:He.responseType||"json",withCredentials:He.withCredentials,transferCache:He.transferCache})}const Bt=(0,w.of)(kt).pipe((0,S.H)(Pi=>this.handler.handle(Pi)));if(ne instanceof Xe||"events"===He.observe)return Bt;const Jn=Bt.pipe((0,I.p)(Pi=>Pi instanceof K));switch(He.observe||"body"){case"body":switch(kt.responseType){case"arraybuffer":return Jn.pipe((0,E.T)(Pi=>{if(null!==Pi.body&&!(Pi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Pi.body}));case"blob":return Jn.pipe((0,E.T)(Pi=>{if(null!==Pi.body&&!(Pi.body instanceof Blob))throw new Error("Response is not a Blob.");return Pi.body}));case"text":return Jn.pipe((0,E.T)(Pi=>{if(null!==Pi.body&&"string"!=typeof Pi.body)throw new Error("Response is not a string.");return Pi.body}));default:return Jn.pipe((0,E.T)(Pi=>Pi.body))}case"response":return Jn;default:throw new Error(`Unreachable: unhandled observe type ${He.observe}}`)}}delete(ne,et={}){return this.request("DELETE",ne,et)}get(ne,et={}){return this.request("GET",ne,et)}head(ne,et={}){return this.request("HEAD",ne,et)}jsonp(ne,et){return this.request("JSONP",ne,{params:(new be).append(et,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ne,et={}){return this.request("OPTIONS",ne,et)}patch(ne,et,He={}){return this.request("PATCH",ne,Be(He,et))}post(ne,et,He={}){return this.request("POST",ne,Be(He,et))}put(ne,et,He={}){return this.request("PUT",ne,Be(He,et))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO(R))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const Pt=/^\)\]\}',?\n/;function Qt(Ge){if(Ge.url)return Ge.url;const Mt="X-Request-URL".toLocaleLowerCase();return Ge.headers.get(Mt)}let Vt=(()=>{class Ge{constructor(){this.fetchImpl=(0,A.WQX)(Tt,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,A.WQX)(A.SKi)}handle(ne){return new D.c(et=>{const He=new AbortController;return this.doRequest(ne,He.signal,et).then(Ot,kt=>et.error(new oe({error:kt}))),()=>He.abort()})}doRequest(ne,et,He){var kt=this;return(0,d.A)(function*(){const Bt=kt.createRequestInit(ne);let Jn;try{const Os=kt.ngZone.runOutsideAngular(()=>kt.fetchImpl(ne.urlWithParams,{signal:et,...Bt}));(function ft(Ge){Ge.then(Ot,Ot)})(Os),He.next({type:yt.Sent}),Jn=yield Os}catch(Os){return void He.error(new oe({error:Os,status:Os.status??0,statusText:Os.statusText,url:ne.urlWithParams,headers:Os.headers}))}const Pi=new M(Jn.headers),sr=Jn.statusText,Dr=Qt(Jn)??ne.urlWithParams;let Fr=Jn.status,Zr=null;if(ne.reportProgress&&He.next(new je({headers:Pi,status:Fr,statusText:sr,url:Dr})),Jn.body){const Os=Jn.headers.get("content-length"),Er=[],Jr=Jn.body.getReader();let ia,Br,Ds=0;const Mo=typeof Zone<"u"&&Zone.current;yield kt.ngZone.runOutsideAngular((0,d.A)(function*(){for(;;){const{done:Fo,value:Al}=yield Jr.read();if(Fo)break;if(Er.push(Al),Ds+=Al.length,ne.reportProgress){Br="text"===ne.responseType?(Br??"")+(ia??=new TextDecoder).decode(Al,{stream:!0}):void 0;const Ya=()=>He.next({type:yt.DownloadProgress,total:Os?+Os:void 0,loaded:Ds,partialText:Br});Mo?Mo.run(Ya):Ya()}}}));const Yo=kt.concatChunks(Er,Ds);try{const Fo=Jn.headers.get("Content-Type")??"";Zr=kt.parseBody(ne,Yo,Fo)}catch(Fo){return void He.error(new oe({error:Fo,headers:new M(Jn.headers),status:Jn.status,statusText:Jn.statusText,url:Qt(Jn)??ne.urlWithParams}))}}0===Fr&&(Fr=Zr?200:0),Fr>=200&&Fr<300?(He.next(new K({body:Zr,headers:Pi,status:Fr,statusText:sr,url:Dr})),He.complete()):He.error(new oe({error:Zr,headers:Pi,status:Fr,statusText:sr,url:Dr}))})()}parseBody(ne,et,He){switch(ne.responseType){case"json":const kt=(new TextDecoder).decode(et).replace(Pt,"");return""===kt?null:JSON.parse(kt);case"text":return(new TextDecoder).decode(et);case"blob":return new Blob([et],{type:He});case"arraybuffer":return et.buffer}}createRequestInit(ne){const et={},He=ne.withCredentials?"include":void 0;if(ne.headers.forEach((kt,Bt)=>et[kt]=Bt.join(",")),ne.headers.has("Accept")||(et.Accept="application/json, text/plain, */*"),!ne.headers.has("Content-Type")){const kt=ne.detectContentTypeHeader();null!==kt&&(et["Content-Type"]=kt)}return{body:ne.serializeBody(),method:ne.method,headers:et,credentials:He}}concatChunks(ne,et){const He=new Uint8Array(et);let kt=0;for(const Bt of ne)He.set(Bt,kt),kt+=Bt.length;return He}static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();class Tt{}function Ot(){}function Oe(Ge,Mt){return Mt(Ge)}function Ye(Ge,Mt){return(ne,et)=>Mt.intercept(ne,{handle:He=>Ge(He,et)})}const It=new A.nKC(""),at=new A.nKC(""),ot=new A.nKC(""),Nt=new A.nKC("",{providedIn:"root",factory:()=>!0});function Ut(){let Ge=null;return(Mt,ne)=>{null===Ge&&(Ge=((0,A.WQX)(It,{optional:!0})??[]).reduceRight(Ye,Oe));const et=(0,A.WQX)(A.TgB);if((0,A.WQX)(Nt)){const kt=et.add();return Ge(Mt,ne).pipe((0,y.j)(()=>et.remove(kt)))}return Ge(Mt,ne)}}let dt=(()=>{class Ge extends R{constructor(ne,et){super(),this.backend=ne,this.injector=et,this.chain=null,this.pendingTasks=(0,A.WQX)(A.TgB),this.contributeToStability=(0,A.WQX)(Nt)}handle(ne){if(null===this.chain){const et=Array.from(new Set([...this.injector.get(at),...this.injector.get(ot,[])]));this.chain=et.reduceRight((He,kt)=>function vt(Ge,Mt,ne){return(et,He)=>(0,A.N4e)(ne,()=>Mt(et,kt=>Ge(kt,He)))}(He,kt,this.injector),Oe)}if(this.contributeToStability){const et=this.pendingTasks.add();return this.chain(ne,He=>this.backend.handle(He)).pipe((0,y.j)(()=>this.pendingTasks.remove(et)))}return this.chain(ne,et=>this.backend.handle(et))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO(O),A.KVO(A.uvJ))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const zt=/^\)\]\}',?\n/;let bn=(()=>{class Ge{constructor(ne){this.xhrFactory=ne}handle(ne){if("JSONP"===ne.method)throw new A.wOt(-2800,!1);const et=this.xhrFactory;return(et.\u0275loadImpl?(0,C.H)(et.\u0275loadImpl()):(0,w.of)(null)).pipe((0,x.n)(()=>new D.c(kt=>{const Bt=et.build();if(Bt.open(ne.method,ne.urlWithParams),ne.withCredentials&&(Bt.withCredentials=!0),ne.headers.forEach((Er,Jr)=>Bt.setRequestHeader(Er,Jr.join(","))),ne.headers.has("Accept")||Bt.setRequestHeader("Accept","application/json, text/plain, */*"),!ne.headers.has("Content-Type")){const Er=ne.detectContentTypeHeader();null!==Er&&Bt.setRequestHeader("Content-Type",Er)}if(ne.responseType){const Er=ne.responseType.toLowerCase();Bt.responseType="json"!==Er?Er:"text"}const Jn=ne.serializeBody();let Pi=null;const sr=()=>{if(null!==Pi)return Pi;const Er=Bt.statusText||"OK",Jr=new M(Bt.getAllResponseHeaders()),Ds=function $t(Ge){return"responseURL"in Ge&&Ge.responseURL?Ge.responseURL:/^X-Request-URL:/m.test(Ge.getAllResponseHeaders())?Ge.getResponseHeader("X-Request-URL"):null}(Bt)||ne.url;return Pi=new je({headers:Jr,status:Bt.status,statusText:Er,url:Ds}),Pi},Dr=()=>{let{headers:Er,status:Jr,statusText:Ds,url:ia}=sr(),Br=null;204!==Jr&&(Br=typeof Bt.response>"u"?Bt.responseText:Bt.response),0===Jr&&(Jr=Br?200:0);let Mo=Jr>=200&&Jr<300;if("json"===ne.responseType&&"string"==typeof Br){const Yo=Br;Br=Br.replace(zt,"");try{Br=""!==Br?JSON.parse(Br):null}catch(Fo){Br=Yo,Mo&&(Mo=!1,Br={error:Fo,text:Br})}}Mo?(kt.next(new K({body:Br,headers:Er,status:Jr,statusText:Ds,url:ia||void 0})),kt.complete()):kt.error(new oe({error:Br,headers:Er,status:Jr,statusText:Ds,url:ia||void 0}))},Fr=Er=>{const{url:Jr}=sr(),Ds=new oe({error:Er,status:Bt.status||0,statusText:Bt.statusText||"Unknown Error",url:Jr||void 0});kt.error(Ds)};let Zr=!1;const ds=Er=>{Zr||(kt.next(sr()),Zr=!0);let Jr={type:yt.DownloadProgress,loaded:Er.loaded};Er.lengthComputable&&(Jr.total=Er.total),"text"===ne.responseType&&Bt.responseText&&(Jr.partialText=Bt.responseText),kt.next(Jr)},Os=Er=>{let Jr={type:yt.UploadProgress,loaded:Er.loaded};Er.lengthComputable&&(Jr.total=Er.total),kt.next(Jr)};return Bt.addEventListener("load",Dr),Bt.addEventListener("error",Fr),Bt.addEventListener("timeout",Fr),Bt.addEventListener("abort",Fr),ne.reportProgress&&(Bt.addEventListener("progress",ds),null!==Jn&&Bt.upload&&Bt.upload.addEventListener("progress",Os)),Bt.send(Jn),kt.next({type:yt.Sent}),()=>{Bt.removeEventListener("error",Fr),Bt.removeEventListener("abort",Fr),Bt.removeEventListener("load",Dr),Bt.removeEventListener("timeout",Fr),ne.reportProgress&&(Bt.removeEventListener("progress",ds),null!==Jn&&Bt.upload&&Bt.upload.removeEventListener("progress",Os)),Bt.readyState!==Bt.DONE&&Bt.abort()}})))}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO($.N0))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const Pn=new A.nKC(""),Dn=new A.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xn=new A.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Xn{}let pt=(()=>{class Ge{constructor(ne,et,He){this.doc=ne,this.platform=et,this.cookieName=He,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ne=this.doc.cookie||"";return ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,$._b)(ne,this.cookieName),this.lastCookieString=ne),this.lastToken}static#e=this.\u0275fac=function(et){return new(et||Ge)(A.KVO($.qQ),A.KVO(A.Agw),A.KVO(Dn))};static#t=this.\u0275prov=A.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function Le(Ge,Mt){const ne=Ge.url.toLowerCase();if(!(0,A.WQX)(Pn)||"GET"===Ge.method||"HEAD"===Ge.method||ne.startsWith("http://")||ne.startsWith("https://"))return Mt(Ge);const et=(0,A.WQX)(Xn).getToken(),He=(0,A.WQX)(xn);return null!=et&&!Ge.headers.has(He)&&(Ge=Ge.clone({headers:Ge.headers.set(He,et)})),Mt(Ge)}var $e=function(Ge){return Ge[Ge.Interceptors=0]="Interceptors",Ge[Ge.LegacyInterceptors=1]="LegacyInterceptors",Ge[Ge.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ge[Ge.NoXsrfProtection=3]="NoXsrfProtection",Ge[Ge.JsonpSupport=4]="JsonpSupport",Ge[Ge.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ge[Ge.Fetch=6]="Fetch",Ge}($e||{});function Zt(...Ge){const Mt=[Qe,bn,dt,{provide:R,useExisting:dt},{provide:O,useFactory:()=>(0,A.WQX)(Vt,{optional:!0})??(0,A.WQX)(bn)},{provide:at,useValue:Le,multi:!0},{provide:Pn,useValue:!0},{provide:Xn,useClass:pt}];for(const ne of Ge)Mt.push(...ne.\u0275providers);return(0,A.EmA)(Mt)}const ct=new A.nKC("");function De(){return function gt(Ge,Mt){return{\u0275kind:Ge,\u0275providers:Mt}}($e.LegacyInterceptors,[{provide:ct,useFactory:Ut},{provide:at,useExisting:ct,multi:!0}])}},7404:(hn,Re,_)=>{"use strict";
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
function d(s,o){return Object.is(s,o)}_.d(Re,{bc$:()=>EI,iLQ:()=>ox,sZ2:()=>Vf,hnV:()=>cN,Hbi:()=>LL,o8S:()=>mh,BIS:()=>kC,gRc:()=>dx,Ql9:()=>vL,OM3:()=>Hg,Ocv:()=>TL,Z63:()=>mc,aKT:()=>cg,uvJ:()=>pn,zcH:()=>uu,bkB:()=>Es,y_5:()=>fc,$GK:()=>ms,nKC:()=>ln,zZn:()=>oo,_q3:()=>T_,MKu:()=>k_,xe9:()=>cx,Co$:()=>KD,Vns:()=>op,SKi:()=>ma,Xx1:()=>Vo,Agw:()=>b0,PLl:()=>vy,rOR:()=>qu,sFG:()=>fM,_9s:()=>uf,czy:()=>Oy,WPN:()=>oc,kdw:()=>dl,C4Q:()=>Fg,NYb:()=>fL,giA:()=>aN,xvI:()=>zF,RxE:()=>tN,c1b:()=>e_,gXe:()=>wu,mal:()=>kw,Tzd:()=>ah,L39:()=>ZN,EWP:()=>lk,sbv:()=>kM,Ol2:()=>Jw,w6W:()=>XM,oH4:()=>I1,QZP:()=>ck,SmG:()=>O1,Rfq:()=>ul,WQX:()=>Si,Hps:()=>Yw,QuC:()=>Rr,EmA:()=>su,Udg:()=>JN,fpN:()=>TN,HJs:()=>iP,N4e:()=>Fl,vPA:()=>kD,O8t:()=>nP,H3F:()=>nN,zAP:()=>J1,H8p:()=>Kr,KH2:()=>Om,TgB:()=>$f,wOt:()=>Oi,WHO:()=>sx,e01:()=>oN,lNU:()=>al,h9k:()=>ZC,$MX:()=>Mh,ZF7:()=>Gp,Kcf:()=>AI,e5t:()=>ed,UyX:()=>zC,cWb:()=>MI,osQ:()=>OI,H5H:()=>yE,Zy3:()=>Oo,mq5:()=>m_,JZv:()=>Rs,LfX:()=>Sa,plB:()=>lh,jNT:()=>x1,zjR:()=>lN,TL$:()=>v0,Tbb:()=>co,rcV:()=>Ju,nM4:()=>zD,Vt3:()=>Zw,GFd:()=>GD,OA$:()=>kf,Jv_:()=>TR,aNF:()=>YE,R7$:()=>By,BMQ:()=>ad,HbH:()=>Xl,ZvI:()=>pE,AVh:()=>c_,vxM:()=>OO,wni:()=>mR,C6U:()=>vR,VBU:()=>fe,FsC:()=>Gn,jDH:()=>Cr,G2t:()=>Ns,$C:()=>Lt,EJ8:()=>Mn,rXU:()=>cf,nrm:()=>_E,eu8:()=>Nv,bVm:()=>Rv,qex:()=>Ov,k0s:()=>h_,j41:()=>km,RV6:()=>f_,xGo:()=>lC,Mr5:()=>Am,pXf:()=>Nm,nnv:()=>LE,YFu:()=>y_,uP7:()=>v_,k04:()=>wd,PLo:()=>__,KVO:()=>qr,kS0:()=>ly,QTQ:()=>ES,bIt:()=>jv,lsd:()=>yR,joV:()=>tC,qSk:()=>Z_,XpG:()=>fp,nI1:()=>FR,bMT:()=>eb,i5U:()=>LR,brH:()=>tb,SdG:()=>Hv,NAR:()=>cR,Y8G:()=>pT,lJ4:()=>QE,eq3:()=>Wh,l_i:()=>s1,sMw:()=>AR,ziG:()=>o1,sGs:()=>ZE,NyB:()=>bR,mGM:()=>_R,sdS:()=>wR,Dyx:()=>FO,Z7z:()=>PO,fX1:()=>NO,Vm6:()=>RO,Njj:()=>Mi,EBC:()=>Eg,tSv:()=>oS,eBV:()=>Xu,npT:()=>JC,B4B:()=>Nh,n$t:()=>bg,wjB:()=>Fm,Aen:()=>cd,xc7:()=>gT,Kam:()=>Wv,zvX:()=>p_,DNE:()=>i_,C5r:()=>ib,EFF:()=>Xa,JRh:()=>GT,SpI:()=>HE,Lme:()=>KT,E5c:()=>wf,DH7:()=>Qv,mxI:()=>YT,R50:()=>XT,GBs:()=>gR});let A=null,w=!1,D=1;const C=Symbol("SIGNAL");function S(s){const o=A;return A=s,o}const x={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $(s){if(w)throw new Error("");if(null===A)return;A.consumerOnSignalRead(s);const o=A.nextProducerIndex++;X(A),o<A.producerNode.length&&A.producerNode[o]!==s&&j(A)&&be(A.producerNode[o],A.producerIndexOfThis[o]),A.producerNode[o]!==s&&(A.producerNode[o]=s,A.producerIndexOfThis[o]=j(A)?re(s,A,o):0),A.producerLastReadVersion[o]=s.version}function O(s){if((!j(s)||s.dirty)&&(s.dirty||s.lastCleanEpoch!==D)){if(!s.producerMustRecompute(s)&&!ue(s))return s.dirty=!1,void(s.lastCleanEpoch=D);s.producerRecomputeValue(s),s.dirty=!1,s.lastCleanEpoch=D}}function M(s){if(void 0===s.liveConsumerNode)return;const o=w;w=!0;try{for(const l of s.liveConsumerNode)l.dirty||U(l)}finally{w=o}}function L(){return!1!==A?.consumerAllowSignalWrites}function U(s){s.dirty=!0,M(s),s.consumerMarkedDirty?.(s)}function F(s){return s&&(s.nextProducerIndex=0),S(s)}function J(s,o){if(S(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(j(s))for(let l=s.nextProducerIndex;l<s.producerNode.length;l++)be(s.producerNode[l],s.producerIndexOfThis[l]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function ue(s){X(s);for(let o=0;o<s.producerNode.length;o++){const l=s.producerNode[o],h=s.producerLastReadVersion[o];if(h!==l.version||(O(l),h!==l.version))return!0}return!1}function ce(s){if(X(s),j(s))for(let o=0;o<s.producerNode.length;o++)be(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function re(s,o,l){if(se(s),0===s.liveConsumerNode.length&&W(s))for(let h=0;h<s.producerNode.length;h++)s.producerIndexOfThis[h]=re(s.producerNode[h],s,h);return s.liveConsumerIndexOfThis.push(l),s.liveConsumerNode.push(o)-1}function be(s,o){if(se(s),1===s.liveConsumerNode.length&&W(s))for(let h=0;h<s.producerNode.length;h++)be(s.producerNode[h],s.producerIndexOfThis[h]);const l=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[l],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[l],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const h=s.liveConsumerIndexOfThis[o],m=s.liveConsumerNode[o];X(m),m.producerIndexOfThis[h]=o}}function j(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function X(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}function se(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}function W(s){return void 0!==s.producerNode}function xe(s){const o=Object.create(yt);o.computation=s;const l=()=>{if(O(o),$(o),o.value===Xe)throw o.error;return o.value};return l[C]=o,l}const q=Symbol("UNSET"),Ae=Symbol("COMPUTING"),Xe=Symbol("ERRORED"),yt={...x,value:q,dirty:!0,error:null,equal:d,producerMustRecompute:s=>s.value===q||s.value===Ae,producerRecomputeValue(s){if(s.value===Ae)throw new Error("Detected cycle in computations.");const o=s.value;s.value=Ae;const l=F(s);let h;try{h=s.computation()}catch(m){h=Xe,s.error=m}finally{J(s,l)}o!==q&&o!==Xe&&h!==Xe&&s.equal(o,h)?s.value=o:(s.value=h,s.version++)}};let je=function Je(){throw new Error};function K(){je()}let ge=null;function Qe(s,o){L()||K(),s.equal(s.value,o)||(s.value=o,function Vt(s){s.version++,function R(){D++}(),M(s),ge?.()}(s))}const Qt={...x,equal:d,value:void 0};const Ot=()=>{},ft={...x,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{null!==s.schedule&&s.schedule(s.ref)},hasRun:!1,cleanupFn:Ot};var Ye=_(521),vt=_(3119),It=_(2672),at=_(5443);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */
const al="https://g.co/ng/security#xss";class Oi extends Error{constructor(o,l){super(Oo(o,l)),this.code=o}}function Oo(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}function Qo(s){return{toString:s}.toString()}const Va="__parameters__";function ll(s,o,l){return Qo(()=>{const h=function Ua(s){return function(...l){if(s){const h=s(...l);for(const m in h)this[m]=h[m]}}}(o);function m(...b){if(this instanceof m)return h.apply(this,b),this;const N=new m(...b);return ee.annotation=N,ee;function ee(ve,Ze,mt){const Ht=ve.hasOwnProperty(Va)?ve[Va]:Object.defineProperty(ve,Va,{value:[]})[Va];for(;Ht.length<=mt;)Ht.push(null);return(Ht[mt]=Ht[mt]||[]).push(N),ve}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}const Rs=globalThis;function es(s){for(let o in s)if(s[o]===es)return o;throw Error("Could not find renamed property on target object.")}function Ja(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function co(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(co).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function xa(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Zo=es({__forward_ref__:es});function ul(s){return s.__forward_ref__=ul,s.toString=function(){return co(this())},s}function hr(s){return ks(s)?s():s}function ks(s){return"function"==typeof s&&s.hasOwnProperty(Zo)&&s.__forward_ref__===ul}function de(s,o,l){s!=o&&function Nn(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}(l,s,o,"==")}function Cr(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ns(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xs(s){return ca(s,Kt)||ca(s,tn)}function Sa(s){return null!==Xs(s)}function ca(s,o){return s.hasOwnProperty(o)?s[o]:null}function Et(s){return s&&(s.hasOwnProperty(cn)||s.hasOwnProperty(kn))?s[cn]:null}const Kt=es({\u0275prov:es}),cn=es({\u0275inj:es}),tn=es({ngInjectableDef:es}),kn=es({ngInjectorDef:es});class ln{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Cr({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gr(s){return s&&!!s.\u0275providers}const ns=es({\u0275cmp:es}),Zl=es({\u0275dir:es}),Ro=es({\u0275pipe:es}),Jo=es({\u0275mod:es}),Js=es({\u0275fac:es}),El=es({__NG_ELEMENT_ID__:es}),ua=es({__NG_ENV_ID__:es});function _r(s){return"string"==typeof s?s:null==s?"":String(s)}function vu(s,o){throw new Oi(-201,!1)}var ms=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(ms||{});let xl;function Ko(){return xl}function ho(s){const o=xl;return xl=s,o}function da(s,o,l){const h=Xs(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&ms.Optional?null:void 0!==o?o:void vu()}const Mc={},Cl="__NG_DI_FLAG__",we="ngTempTokenPath",Ve=/\n/gm,an="__source";let Wn;function Vi(s){const o=Wn;return Wn=s,o}function Fs(s,o=ms.Default){if(void 0===Wn)throw new Oi(-203,!1);return null===Wn?da(s,void 0,o):Wn.get(s,o&ms.Optional?null:void 0,o)}function qr(s,o=ms.Default){return(Ko()||Fs)(hr(s),o)}function Si(s,o=ms.Default){return qr(s,ro(o))}function ro(s){return typeof s>"u"||"number"==typeof s?s:(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ws(s){const o=[];for(let l=0;l<s.length;l++){const h=hr(s[l]);if(Array.isArray(h)){if(0===h.length)throw new Oi(900,!1);let m,b=ms.Default;for(let N=0;N<h.length;N++){const ee=h[N],ve=Vl(ee);"number"==typeof ve?-1===ve?m=ee.token:b|=ve:m=ee}o.push(qr(m,b))}else o.push(qr(h))}return o}function fo(s,o){return s[Cl]=o,s.prototype[Cl]=o,s}function Vl(s){return s[Cl]}const fc=fo(ll("Inject",s=>({token:s})),-1),Vo=fo(ll("Optional"),8),dl=fo(ll("SkipSelf"),4);function Jl(s,o){return s.hasOwnProperty(Js)?s[Js]:null}function pc(s,o){s.forEach(l=>Array.isArray(l)?pc(l,o):o(l))}function eo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Wu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function fl(s,o,l){let h=tu(s,o);return h>=0?s[1|h]=l:(h=~h,function bu(s,o,l,h){let m=s.length;if(m==o)s.push(l,h);else if(1===m)s.push(h,s[0]),s[0]=l;else{for(m--,s.push(s[m-1],s[m]);m>o;)s[m]=s[m-2],m--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function Da(s,o){const l=tu(s,o);if(l>=0)return s[1|l]}function tu(s,o){return function Yd(s,o,l){let h=0,m=s.length>>l;for(;m!==h;){const b=h+(m-h>>1),N=s[b<<l];if(o===N)return b<<l;N>o?m=b:h=b+1}return~(m<<l)}(s,o,1)}const Wa={},zr=[],mc=new ln(""),tc=new ln("",-1),zc=new ln("");class xo{get(o,l=Mc){if(l===Mc){const h=new Error(`NullInjectorError: No provider for ${co(o)}!`);throw h.name="NullInjectorError",h}return l}}var nc=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(nc||{}),wu=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(wu||{}),Nc=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(Nc||{});function Mu(s,o,l){let h=s.length;for(;;){const m=s.indexOf(o,l);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const b=o.length;if(m+b===h||s.charCodeAt(m+b)<=32)return m}l=m+1}}function pd(s,o,l){let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const b=l[h++],N=l[h++],ee=l[h++];s.setAttribute(o,N,ee,b)}else{const b=m,N=l[++h];vh(b)?s.setProperty(o,b,N):s.setAttribute(o,b,N),h++}}return h}function Td(s){return 3===s||4===s||6===s}function vh(s){return 64===s.charCodeAt(0)}function jc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const m=o[h];"number"==typeof m?l=m:0===l||Ou(s,l,m,null,-1===l||2===l?o[++h]:null)}}return s}function Ou(s,o,l,h,m){let b=0,N=s.length;if(-1===o)N=-1;else for(;b<s.length;){const ee=s[b++];if("number"==typeof ee){if(ee===o){N=-1;break}if(ee>o){N=b-1;break}}}for(;b<s.length;){const ee=s[b];if("number"==typeof ee)break;if(ee===l){if(null===h)return void(null!==m&&(s[b+1]=m));if(h===s[b+1])return void(s[b+2]=m)}b++,null!==h&&b++,null!==m&&b++}-1!==N&&(s.splice(N,0,o),b=N+1),s.splice(b++,0,l),null!==h&&s.splice(b++,0,h),null!==m&&s.splice(b++,0,m)}const bh="ng-template";function wh(s,o,l,h){let m=0;if(h){for(;m<o.length&&"string"==typeof o[m];m+=2)if("class"===o[m]&&-1!==Mu(o[m+1].toLowerCase(),l,0))return!0}else if(Rl(s))return!1;if(m=o.indexOf(1,m),m>-1){let b;for(;++m<o.length&&"string"==typeof(b=o[m]);)if(b.toLowerCase()===l)return!0}return!1}function Rl(s){return 4===s.type&&s.value!==bh}function Hu(s,o,l){return o===(4!==s.type||l?s.value:bh)}function Wc(s,o,l){let h=4;const m=s.attrs,b=null!==m?function ru(s){for(let o=0;o<s.length;o++)if(Td(s[o]))return o;return s.length}(m):0;let N=!1;for(let ee=0;ee<o.length;ee++){const ve=o[ee];if("number"!=typeof ve){if(!N)if(4&h){if(h=2|1&h,""!==ve&&!Hu(s,ve,l)||""===ve&&1===o.length){if(pl(h))return!1;N=!0}}else if(8&h){if(null===m||!wh(s,m,ve,l)){if(pl(h))return!1;N=!0}}else{const Ze=o[++ee],mt=So(ve,m,Rl(s),l);if(-1===mt){if(pl(h))return!1;N=!0;continue}if(""!==Ze){let Ht;if(Ht=mt>b?"":m[mt+1].toLowerCase(),2&h&&Ze!==Ht){if(pl(h))return!1;N=!0}}}}else{if(!N&&!pl(h)&&!pl(ve))return!1;if(N&&pl(ve))continue;N=!1,h=ve|1&h}}return pl(h)||N}function pl(s){return!(1&s)}function So(s,o,l,h){if(null===o)return-1;let m=0;if(h||!l){let b=!1;for(;m<o.length;){const N=o[m];if(N===s)return m;if(3===N||6===N)b=!0;else{if(1===N||2===N){let ee=o[++m];for(;"string"==typeof ee;)ee=o[++m];continue}if(4===N)break;if(0===N){m+=4;continue}}m+=b?1:2}return-1}return function Gu(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function gc(s,o,l=!1){for(let h=0;h<o.length;h++)if(Wc(s,o[h],l))return!0;return!1}function qd(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let m=0;m<s.length;m++)if(s[m]!==h[m])continue e;return!0}}return!1}function Eh(s,o){return s?":not("+o.trim()+")":o}function so(s){let o=s[0],l=1,h=2,m="",b=!1;for(;l<s.length;){let N=s[l];if("string"==typeof N)if(2&h){const ee=s[++l];m+="["+N+(ee.length>0?'="'+ee+'"':"")+"]"}else 8&h?m+="."+N:4&h&&(m+=" "+N);else""!==m&&!pl(N)&&(o+=Eh(b,m),m=""),h=N,b=b||!pl(h);l++}return""!==m&&(o+=Eh(b,m)),o}function fe(s){return Qo(()=>{const o=ml(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===nc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||wu.Emulated,styles:s.styles||zr,_:null,schemas:s.schemas||null,tView:null,id:""};Nl(l);const h=s.dependencies;return l.directiveDefs=Ul(h,!1),l.pipeDefs=Ul(h,!0),l.id=function xh(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const m of l)o=Math.imul(31,o)+m.charCodeAt(0)|0;return o+=2147483648,"c"+o}(l),l})}function Ie(s){return di(s)||tr(s)}function ht(s){return null!==s}function Lt(s){return Qo(()=>({type:s.type,bootstrap:s.bootstrap||zr,declarations:s.declarations||zr,imports:s.imports||zr,exports:s.exports||zr,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function un(s,o){if(null==s)return Wa;const l={};for(const h in s)if(s.hasOwnProperty(h)){const m=s[h];let b,N,ee=Nc.None;Array.isArray(m)?(ee=m[0],b=m[1],N=m[2]??b):(b=m,N=m),o?(l[b]=ee!==Nc.None?[h,ee]:h,o[b]=N):l[b]=h}return l}function Gn(s){return Qo(()=>{const o=ml(s);return Nl(o),o})}function Mn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function di(s){return s[ns]||null}function tr(s){return s[Zl]||null}function yr(s){return s[Ro]||null}function Rr(s){const o=di(s)||tr(s)||yr(s);return null!==o&&o.standalone}function No(s,o){const l=s[Jo]||null;if(!l&&!0===o)throw new Error(`Type ${co(s)} does not have '\u0275mod' property.`);return l}function ml(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||Wa,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||zr,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:un(s.inputs,o),outputs:un(s.outputs),debugInfo:null}}function Nl(s){s.features?.forEach(o=>o(s))}function Ul(s,o){if(!s)return null;const l=o?yr:Ie;return()=>("function"==typeof s?s():s).map(h=>l(h)).filter(ht)}function su(s){return{\u0275providers:s}}function Ee(...s){return{\u0275providers:me(0,s),\u0275fromNgModule:!0}}function me(s,...o){const l=[],h=new Set;let m;const b=N=>{l.push(N)};return pc(o,N=>{const ee=N;Me(ee,b,[],h)&&(m||=[],m.push(ee))}),void 0!==m&&Ke(m,b),l}function Ke(s,o){for(let l=0;l<s.length;l++){const{ngModule:h,providers:m}=s[l];en(m,b=>{o(b,h)})}}function Me(s,o,l,h){if(!(s=hr(s)))return!1;let m=null,b=Et(s);const N=!b&&di(s);if(b||N){if(N&&!N.standalone)return!1;m=s}else{const ve=s.ngModule;if(b=Et(ve),!b)return!1;m=ve}const ee=h.has(m);if(N){if(ee)return!1;if(h.add(m),N.dependencies){const ve="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ze of ve)Me(Ze,o,l,h)}}else{if(!b)return!1;{if(null!=b.imports&&!ee){let Ze;h.add(m);try{pc(b.imports,mt=>{Me(mt,o,l,h)&&(Ze||=[],Ze.push(mt))})}finally{}void 0!==Ze&&Ke(Ze,o)}if(!ee){const Ze=Jl(m)||(()=>new m);o({provide:m,useFactory:Ze,deps:zr},m),o({provide:zc,useValue:m,multi:!0},m),o({provide:mc,useValue:()=>qr(m),multi:!0},m)}const ve=b.providers;if(null!=ve&&!ee){const Ze=s;en(ve,mt=>{o(mt,Ze)})}}}return m!==s&&void 0!==s.providers}function en(s,o){for(let l of s)Gr(l)&&(l=l.\u0275providers),Array.isArray(l)?en(l,o):o(l)}const fn=es({provide:String,useValue:es});function On(s){return null!==s&&"object"==typeof s&&fn in s}function Di(s){return"function"==typeof s}const Kr=new ln(""),gs={},Rt={};let Cs;function Pl(){return void 0===Cs&&(Cs=new xo),Cs}class pn{}class Ta extends pn{get destroyed(){return this._destroyed}constructor(o,l,h,m){super(),this.parent=l,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,au(o,N=>this.processProvider(N)),this.records.set(tc,Is(void 0,this)),m.has("environment")&&this.records.set(pn,Is(void 0,this));const b=this.records.get(Kr);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(zc,zr,ms.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const o=S(null);try{for(const h of this._ngOnDestroyHooks)h.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const h of l)h()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),S(o)}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=Vi(this),h=ho(void 0);try{return o()}finally{Vi(l),ho(h)}}get(o,l=Mc,h=ms.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ua))return o[ua](this);h=ro(h);const b=Vi(this),N=ho(void 0);try{if(!(h&ms.SkipSelf)){let ve=this.records.get(o);if(void 0===ve){const Ze=function _c(s){return"function"==typeof s||"object"==typeof s&&s instanceof ln}(o)&&Xs(o);ve=Ze&&this.injectableDefInScope(Ze)?Is(yo(o),gs):null,this.records.set(o,ve)}if(null!=ve)return this.hydrate(o,ve)}return(h&ms.Self?Pl():this.parent).get(o,l=h&ms.Optional&&l===Mc?null:l)}catch(ee){if("NullInjectorError"===ee.name){if((ee[we]=ee[we]||[]).unshift(co(o)),b)throw ee;return function Sl(s,o,l,h){const m=s[we];throw o[an]&&m.unshift(o[an]),s.message=function Oc(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=co(o);if(Array.isArray(o))m=o.map(co).join(" -> ");else if("object"==typeof o){let b=[];for(let N in o)if(o.hasOwnProperty(N)){let ee=o[N];b.push(N+":"+("string"==typeof ee?JSON.stringify(ee):co(ee)))}m=`{${b.join(", ")}}`}return`${l}${h?"("+h+")":""}[${m}]: ${s.replace(Ve,"\n  ")}`}("\n"+s.message,m,l,h),s.ngTokenPath=m,s[we]=null,s}(ee,o,"R3InjectorError",this.source)}throw ee}finally{ho(N),Vi(b)}}resolveInjectorInitializers(){const o=S(null),l=Vi(this),h=ho(void 0);try{const b=this.get(mc,zr,ms.Self);for(const N of b)N()}finally{Vi(l),ho(h),S(o)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(co(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oi(205,!1)}processProvider(o){let l=Di(o=hr(o))?o:hr(o&&o.provide);const h=function to(s){return On(s)?Is(void 0,s.useValue):Is(Ir(s),gs)}(o);if(!Di(o)&&!0===o.multi){let m=this.records.get(l);m||(m=Is(void 0,gs,!0),m.factory=()=>Ws(m.multi),this.records.set(l,m)),l=o,m.multi.push(o)}this.records.set(l,h)}hydrate(o,l){const h=S(null);try{return l.value===gs&&(l.value=Rt,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Hc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{S(h)}}injectableDefInScope(o){if(!o.providedIn)return!1;const l=hr(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function yo(s){const o=Xs(s),l=null!==o?o.factory:Jl(s);if(null!==l)return l;if(s instanceof ln)throw new Oi(204,!1);if(s instanceof Function)return function Po(s){if(s.length>0)throw new Oi(204,!1);const l=function P(s){return s&&(s[Kt]||s[tn])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oi(204,!1)}function Ir(s,o,l){let h;if(Di(s)){const m=hr(s);return Jl(m)||yo(m)}if(On(s))h=()=>hr(s.useValue);else if(function Ai(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Ws(s.deps||[]));else if(function fi(s){return!(!s||!s.useExisting)}(s))h=()=>qr(hr(s.useExisting));else{const m=hr(s&&(s.useClass||s.provide));if(!function ou(s){return!!s.deps}(s))return Jl(m)||yo(m);h=()=>new m(...Ws(s.deps))}return h}function Is(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function au(s,o){for(const l of s)Array.isArray(l)?au(l,o):l&&Gr(l)?au(l.\u0275providers,o):o(l)}function Fl(s,o){s instanceof Ta&&s.assertNotDestroyed();const h=Vi(s),m=ho(void 0);try{return o()}finally{Vi(h),ho(m)}}function md(){return void 0!==Ko()||null!=function ui(){return Wn}()}function zl(s){if(!md())throw new Oi(-203,!1)}const Ci=0,Un=1,yi=2,pr=3,or=4,jr=5,is=6,Ls=7,Qr=8,xr=9,cr=10,Ki=11,Do=12,Nr=13,ls=14,cs=15,ea=16,ta=17,Xo=18,$s=19,Kc=20,To=21,yc=22,ka=23,vr=25,Ep=1,Xc=7,po=9,Ia=10;var Zd=function(s){return s[s.None=0]="None",s[s.HasTransplantedViews=2]="HasTransplantedViews",s}(Zd||{});function Aa(s){return Array.isArray(s)&&"object"==typeof s[Ep]}function Tl(s){return Array.isArray(s)&&!0===s[Ep]}function gd(s){return!!(4&s.flags)}function _d(s){return s.componentOffset>-1}function Eu(s){return!(1&~s.flags)}function ko(s){return!!s.template}function jo(s){return!!(512&s[yi])}class Yh{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Pc(s,o,l,h){null!==o?o.applyValueToInputSignal(o,h):s[l]=h}function kf(){return eh}function eh(s){return s.type.prototype.ngOnChanges&&(s.setInput=jb),Sp}function Sp(){const s=G_(this),o=s?.current;if(o){const l=s.previous;if(l===Wa)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function jb(s,o,l,h,m){const b=this.declaredInputs[h],N=G_(s)||function If(s,o){return s[Dp]=o}(s,{previous:Wa,current:null}),ee=N.current||(N.current={}),ve=N.previous,Ze=ve[b];ee[b]=new Yh(Ze&&Ze.currentValue,l,ve===Wa),Pc(s,o,m,l)}kf.ngInherit=!0;const Dp="__ngSimpleChanges__";function G_(s){return s[Dp]||null}const Ku=function(s,o,l){},Tp="svg";function vo(s){for(;Array.isArray(s);)s=s[Ci];return s}function Af(s,o){return vo(o[s])}function lu(s,o){return vo(o[s.index])}function Mf(s,o){return s.data[o]}function fs(s,o){return s[o]}function xu(s,o){const l=o[s];return Aa(l)?l:l[Ci]}function Qm(s){return!(128&~s[yi])}function z(s,o){return null==o?null:s[o]}function Q(s){s[ta]=0}function Ue(s){1024&s[yi]||(s[yi]|=1024,Qm(s)&&Yn(s))}function Jt(s){return!!(9216&s[yi]||s[ka]?.dirty)}function mn(s){s[cr].changeDetectionScheduler?.notify(7),64&s[yi]&&(s[yi]|=1024),Jt(s)&&Yn(s)}function Yn(s){s[cr].changeDetectionScheduler?.notify(0);let o=qt(s);for(;null!==o&&!(8192&o[yi])&&(o[yi]|=8192,Qm(o));)o=qt(o)}function zn(s,o){if(!(256&~s[yi]))throw new Oi(911,!1);null===s[To]&&(s[To]=[]),s[To].push(o)}function qt(s){const o=s[pr];return Tl(o)?o[pr]:o}const Li={lFrame:qx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Pr=!1;function Bk(){return Li.bindingsEnabled}function Ip(){return null!==Li.skipHydrationRootTNode}function li(){return Li.lFrame.lView}function As(){return Li.lFrame.tView}function Xu(s){return Li.lFrame.contextLView=s,s[Qr]}function Mi(s){return Li.lFrame.contextLView=null,s}function ha(){let s=Dh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Dh(){return Li.lFrame.currentTNode}function Ap(){const s=Li.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function cu(s,o){const l=Li.lFrame;l.currentTNode=s,l.isParent=o}function X_(){return Li.lFrame.isParent}function Wb(){Li.lFrame.isParent=!1}function Hx(){return Pr}function jl(s){Pr=s}function ic(){const s=Li.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function fa(){return Li.lFrame.bindingIndex}function Ad(){return Li.lFrame.bindingIndex++}function qc(s){const o=Li.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Y_(s){Li.lFrame.inI18n=s}function Kx(s,o){const l=Li.lFrame;l.bindingIndex=l.bindingRootIndex=s,Gb(o)}function Gb(s){Li.lFrame.currentDirectiveIndex=s}function Kb(s){const o=Li.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Xb(){return Li.lFrame.currentQueryIndex}function q_(s){Li.lFrame.currentQueryIndex=s}function zk(s){const o=s[Un];return 2===o.type?o.declTNode:1===o.type?s[jr]:null}function Yb(s,o,l){if(l&ms.SkipSelf){let m=o,b=s;for(;!(m=m.parent,null!==m||l&ms.Host||(m=zk(b),null===m||(b=b[ls],10&m.type))););if(null===m)return!1;o=m,s=b}const h=Li.lFrame=Yx();return h.currentTNode=o,h.lView=s,!0}function Zm(s){const o=Yx(),l=s[Un];Li.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Yx(){const s=Li.lFrame,o=null===s?null:s.child;return null===o?qx(s):o}function qx(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qx(){const s=Li.lFrame;return Li.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Zx=Qx;function Q_(){const s=Qx();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wc(){return Li.lFrame.selectedIndex}function Of(s){Li.lFrame.selectedIndex=s}function Ha(){const s=Li.lFrame;return Mf(s.tView,s.selectedIndex)}function Z_(){Li.lFrame.currentNamespace=Tp}function tC(){!function jk(){Li.lFrame.currentNamespace=null}()}let nC=!0;function Rf(){return nC}function Md(s){nC=s}function J_(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const b=s.data[l].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:ee,ngAfterViewInit:ve,ngAfterViewChecked:Ze,ngOnDestroy:mt}=b;N&&(s.contentHooks??=[]).push(-l,N),ee&&((s.contentHooks??=[]).push(l,ee),(s.contentCheckHooks??=[]).push(l,ee)),ve&&(s.viewHooks??=[]).push(-l,ve),Ze&&((s.viewHooks??=[]).push(l,Ze),(s.viewCheckHooks??=[]).push(l,Ze)),null!=mt&&(s.destroyHooks??=[]).push(l,mt)}}function Mp(s,o,l){iC(s,o,3,l)}function Jm(s,o,l,h){(3&s[yi])===l&&iC(s,o,l,h)}function Zb(s,o){let l=s[yi];(3&l)===o&&(l&=16383,l+=1,s[yi]=l)}function iC(s,o,l,h){const b=h??-1,N=o.length-1;let ee=0;for(let ve=void 0!==h?65535&s[ta]:0;ve<N;ve++)if("number"==typeof o[ve+1]){if(ee=o[ve],null!=h&&ee>=h)break}else o[ve]<0&&(s[ta]+=65536),(ee<b||-1==b)&&(Wk(s,l,o,ve),s[ta]=(4294901760&s[ta])+ve+2),ve++}function Jb(s,o){Ku(4,s,o);const l=S(null);try{o.call(s)}finally{S(l),Ku(5,s,o)}}function Wk(s,o,l,h){const m=l[h]<0,b=l[h+1],ee=s[m?-l[h]:l[h]];m?s[yi]>>14<s[ta]>>16&&(3&s[yi])===o&&(s[yi]+=16384,Jb(ee,b)):Jb(ee,b)}const Op=-1;class Rp{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}const t0={};class Th{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){h=ro(h);const m=this.injector.get(o,t0,h);return m!==t0||l===t0?m:this.parentInjector.get(o,l,h)}}function ty(s){return s!==Op}function eg(s){return 32767&s}function Pf(s,o){let l=function Kk(s){return s>>16}(s),h=o;for(;l>0;)h=h[ls],l--;return h}let ny=!0;function Np(s){const o=ny;return ny=s,o}const iy=255,rC=5;let n0=0;const Od={};function tg(s,o){const l=s0(s,o);if(-1!==l)return l;const h=o[Un];h.firstCreatePass&&(s.injectorIndex=o.length,r0(h.data,s),r0(o,null),r0(h.blueprint,null));const m=ng(s,o),b=s.injectorIndex;if(ty(m)){const N=eg(m),ee=Pf(m,o),ve=ee[Un].data;for(let Ze=0;Ze<8;Ze++)o[b+Ze]=ee[N+Ze]|ve[N+Ze]}return o[b+8]=m,b}function r0(s,o){s.push(0,0,0,0,0,0,0,0,o)}function s0(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ng(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,m=o;for(;null!==m;){if(h=sg(m),null===h)return Op;if(l++,m=m[ls],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return Op}function ry(s,o,l){!function sC(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(El)&&(h=l[El]),null==h&&(h=l[El]=n0++);const m=h&iy;o.data[s+(m>>rC)]|=1<<m}(s,o,l)}function o0(s,o,l){if(l&ms.Optional||void 0!==s)return s;vu()}function sy(s,o,l,h){if(l&ms.Optional&&void 0===h&&(h=null),!(l&(ms.Self|ms.Host))){const m=s[xr],b=ho(void 0);try{return m?m.get(o,h,l&ms.Optional):da(o,h,l&ms.Optional)}finally{ho(b)}}return o0(h,0,l)}function oy(s,o,l,h=ms.Default,m){if(null!==s){if(2048&o[yi]&&!(h&ms.Self)){const N=function Qk(s,o,l,h,m){let b=s,N=o;for(;null!==b&&null!==N&&2048&N[yi]&&!(512&N[yi]);){const ee=ig(b,N,l,h|ms.Self,Od);if(ee!==Od)return ee;let ve=b.parent;if(!ve){const Ze=N[Kc];if(Ze){const mt=Ze.get(l,Od,h);if(mt!==Od)return mt}ve=sg(N),N=N[ls]}b=ve}return m}(s,o,l,h,Od);if(N!==Od)return N}const b=ig(s,o,l,h,Od);if(b!==Od)return b}return sy(o,l,h,m)}function ig(s,o,l,h,m){const b=function Yk(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(El)?s[El]:void 0;return"number"==typeof o?o>=0?o&iy:qk:o}(l);if("function"==typeof b){if(!Yb(o,s,h))return h&ms.Host?o0(m,0,h):sy(o,l,h,m);try{let N;if(N=b(h),null!=N||h&ms.Optional)return N;vu()}finally{Zx()}}else if("number"==typeof b){let N=null,ee=s0(s,o),ve=Op,Ze=h&ms.Host?o[cs][jr]:null;for((-1===ee||h&ms.SkipSelf)&&(ve=-1===ee?ng(s,o):o[ee+8],ve!==Op&&l0(h,!1)?(N=o[Un],ee=eg(ve),o=Pf(ve,o)):ee=-1);-1!==ee;){const mt=o[Un];if(aC(b,ee,mt.data)){const Ht=a0(ee,o,l,N,h,Ze);if(Ht!==Od)return Ht}ve=o[ee+8],ve!==Op&&l0(h,o[Un].data[ee+8]===Ze)&&aC(b,ee,o)?(N=mt,ee=eg(ve),o=Pf(ve,o)):ee=-1}}return m}function a0(s,o,l,h,m,b){const N=o[Un],ee=N.data[s+8],mt=ay(ee,N,l,null==h?_d(ee)&&ny:h!=N&&!!(3&ee.type),m&ms.Host&&b===ee);return null!==mt?Zh(o,N,mt,ee):Od}function ay(s,o,l,h,m){const b=s.providerIndexes,N=o.data,ee=1048575&b,ve=s.directiveStart,mt=b>>20,gn=m?ee+mt:s.directiveEnd;for(let vn=h?ee:ee+mt;vn<gn;vn++){const $n=N[vn];if(vn<ve&&l===$n||vn>=ve&&$n.type===l)return vn}if(m){const vn=N[ve];if(vn&&ko(vn)&&vn.type===l)return ve}return null}function Zh(s,o,l,h){let m=s[l];const b=o.data;if(function Nf(s){return s instanceof Rp}(m)){const N=m;N.resolving&&function yu(s,o){throw o&&o.join(" > "),new Oi(-200,s)}(function as(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_r(s)}(b[l]));const ee=Np(N.canSeeViewProviders);N.resolving=!0;const Ze=N.injectImpl?ho(N.injectImpl):null;Yb(s,h,ms.Default);try{m=s[l]=N.factory(void 0,b,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Qb(s,o,l){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:b}=o.type.prototype;if(h){const N=eh(o);(l.preOrderHooks??=[]).push(s,N),(l.preOrderCheckHooks??=[]).push(s,N)}m&&(l.preOrderHooks??=[]).push(0-s,m),b&&((l.preOrderHooks??=[]).push(s,b),(l.preOrderCheckHooks??=[]).push(s,b))}(l,b[l],o)}finally{null!==Ze&&ho(Ze),Np(ee),N.resolving=!1,Zx()}}return m}function aC(s,o,l){return!!(l[o+(s>>rC)]&1<<s)}function l0(s,o){return!(s&ms.Self||s&ms.Host&&o)}class Ec{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return oy(this._tNode,this._lView,o,ro(h),l)}}function qk(){return new Ec(ha(),li())}function lC(s){return Qo(()=>{const o=s.prototype.constructor,l=o[Js]||rg(o),h=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==h;){const b=m[Js]||rg(m);if(b&&b!==l)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function rg(s){return ks(s)?()=>{const o=rg(hr(s));return o&&o()}:Jl(s)}function sg(s){const o=s[Un],l=o.type;return 2===l?o.declTNode:1===l?s[jr]:null}function ly(s){return function oC(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let m=0;for(;m<h;){const b=l[m];if(Td(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<h&&"string"==typeof l[m];)m++;else{if(b===o)return l[m+1];m+=2}}}return null}(ha(),s)}function Yu(s,o=null,l=null,h){const m=rh(s,o,l,h);return m.resolveInjectorInitializers(),m}function rh(s,o=null,l=null,h,m=new Set){const b=[l||zr,Ee(s)];return h=h||("object"==typeof s?void 0:co(s)),new Ta(b,o||Pl(),h||null,m)}class oo{static#e=this.THROW_IF_NOT_FOUND=Mc;static#t=this.NULL=new xo;static create(o,l){if(Array.isArray(o))return Yu({name:""},l,o,"");{const h=o.name??"";return Yu({name:h},o.parent,o.providers,h)}}static#n=this.\u0275prov=Cr({token:oo,providedIn:"any",factory:()=>qr(tc)});static#i=this.__NG_ELEMENT_ID__=-1}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */new ln("").__NG_ELEMENT_ID__=s=>{const o=ha();if(null===o)throw new Oi(204,!1);if(2&o.type)return o.value;if(s&ms.Optional)return null;throw new Oi(204,!1)};function og(s){return s.ngOriginalError}class uu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&og(o);for(;l&&og(l);)l=og(l);return l||null}}const hC=new ln("",{providedIn:"root",factory:()=>Si(uu).handleError.bind(void 0)});let ag=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Jh;static#t=this.__NG_ENV_ID__=l=>l}return s})();class lg extends ag{constructor(o){super(),this._lView=o}onDestroy(o){return zn(this._lView,o),()=>function mr(s,o){if(null===s[To])return;const l=s[To].indexOf(o);-1!==l&&s[To].splice(l,1)}(this._lView,o)}}function Jh(){return new lg(li())}function iI(){return kh(ha(),li())}function kh(s,o){return new cg(lu(s,o))}let cg=(()=>{class s{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=iI}return s})();function h0(s){return s instanceof cg?s.nativeElement:s}let $f=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:()=>new s})}return s})();const Es=class rI extends vt.B7{constructor(o=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=o,md()&&(this.destroyRef=Si(ag,{optional:!0})??void 0,this.pendingTasks=Si($f,{optional:!0})??void 0)}emit(o){const l=S(null);try{super.next(o)}finally{S(l)}}subscribe(o,l,h){let m=o,b=l||(()=>null),N=h;if(o&&"object"==typeof o){const ve=o;m=ve.next?.bind(ve),b=ve.error?.bind(ve),N=ve.complete?.bind(ve)}this.__isAsync&&(b=this.wrapInTimeout(b),m&&(m=this.wrapInTimeout(m)),N&&(N=this.wrapInTimeout(N)));const ee=super.subscribe({next:m,error:b,complete:N});return o instanceof It.y&&o.add(ee),ee}wrapInTimeout(o){return l=>{const h=this.pendingTasks?.add();setTimeout(()=>{o(l),void 0!==h&&this.pendingTasks?.remove(h)})}}};function sI(){return this._results[Symbol.iterator]()}class qu{static#e=Symbol.iterator;get changes(){return this._changes??=new Es}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=qu.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=sI)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){this.dirty=!1;const h=function hl(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Dl(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let m=s[h],b=o[h];if(l&&(m=l(m),b=l(b)),b!==m)return!1}return!0}(this._results,h,l))&&(this._results=h,this.length=h.length,this.last=h[this.length-1],this.first=h[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(o){this._onDirty=o}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function py(s){return!(128&~s.flags)}const f0=new Map;let gy=0;const dg="__ngContext__";function du(s,o){Aa(o)?(s[dg]=o[$s],function aI(s){f0.set(s[$s],s)}(o)):s[dg]=o}function bC(s){return wC(s[Do])}function m0(s){return wC(s[or])}function wC(s){for(;null!==s&&!Tl(s);)s=s[or];return s}let y0;function v0(s){y0=s}function nf(){if(void 0!==y0)return y0;if(typeof document<"u")return document;throw new Oi(210,!1)}const Vf=new ln("",{providedIn:"root",factory:()=>wI}),wI="ng",vy=new ln(""),b0=new ln("",{providedIn:"platform",factory:()=>"unknown"}),EI=new ln(""),kC=new ln("",{providedIn:"root",factory:()=>nf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ey=()=>null;function gl(s,o,l=!1){return Ey(s,o,l)}const Zu=new ln("",{providedIn:"root",factory:()=>!1});let Cy,Sy;function Wp(s){return function Wf(){if(void 0===Cy&&(Cy=null,Rs.trustedTypes))try{Cy=Rs.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Cy}()?.createHTML(s)||s}function Hp(){if(void 0===Sy&&(Sy=null,Rs.trustedTypes))try{Sy=Rs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Sy}function BC(s){return Hp()?.createHTML(s)||s}function VC(s){return Hp()?.createScriptURL(s)||s}class sf{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${al})`}}class TI extends sf{getTypeName(){return"HTML"}}class UC extends sf{getTypeName(){return"Style"}}class kI extends sf{getTypeName(){return"Script"}}class Dy extends sf{getTypeName(){return"URL"}}class II extends sf{getTypeName(){return"ResourceURL"}}function Ju(s){return s instanceof sf?s.changingThisBreaksApplicationSecurity:s}function Gp(s,o){const l=function Gf(s){return s instanceof sf&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${al})`)}return l===o}function AI(s){return new TI(s)}function MI(s){return new UC(s)}function zC(s){return new kI(s)}function OI(s){return new Dy(s)}function ed(s){return new II(s)}function jC(s){const o=new RI(s);return function Ka(){try{return!!(new window.DOMParser).parseFromString(Wp(""),"text/html")}catch{return!1}}()?new Ty(o):o}class Ty{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Wp(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class RI{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=Wp(o),l}}const NI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mh(s){return(s=String(s)).match(NI)?s:"unsafe:"+s}function Oh(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Kp(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const WC=Oh("area,br,col,hr,img,wbr"),ky=Oh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HC=Oh("rp,rt"),I0=Kp(WC,Kp(ky,Oh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kp(HC,Oh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kp(HC,ky)),Xp=Oh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KC=Kp(Xp,Oh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XC=Oh("script,style,template");class Iy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0,m=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)m.push(l),l=FI(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let b=A0(l);if(b){l=b;break}l=m.pop()}return this.buf.join("")}startElement(o){const l=YC(o).toLowerCase();if(!I0.hasOwnProperty(l))return this.sanitizedSomething=!0,!XC.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let m=0;m<h.length;m++){const b=h.item(m),N=b.name,ee=N.toLowerCase();if(!KC.hasOwnProperty(ee)){this.sanitizedSomething=!0;continue}let ve=b.value;Xp[ee]&&(ve=Mh(ve)),this.buf.push(" ",N,'="',QC(ve),'"')}return this.buf.push(">"),!0}endElement(o){const l=YC(o).toLowerCase();I0.hasOwnProperty(l)&&!WC.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(QC(o))}}function A0(s){const o=s.nextSibling;if(o&&s!==o.previousSibling)throw vg(o);return o}function FI(s){const o=s.firstChild;if(o&&function PI(s,o){return(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,o))throw vg(o);return o}function YC(s){const o=s.nodeName;return"string"==typeof o?o:"FORM"}function vg(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const LI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qC=/([^\#-~ |!])/g;function QC(s){return s.replace(/&/g,"&amp;").replace(LI,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(qC,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ay;function ZC(s,o){let l=null;try{Ay=Ay||jC(s);let h=o?String(o):"";l=Ay.getInertBodyElement(h);let m=5,b=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=b,b=l.innerHTML,l=Ay.getInertBodyElement(h)}while(h!==b);return Wp((new Iy).sanitizeChildren(tl(l)||l))}finally{if(l){const h=tl(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function tl(s){return"content"in s&&function sc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var oc=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(oc||{});function JC(s){const o=wg();return o?BC(o.sanitize(oc.HTML,s)||""):Gp(s,"HTML")?BC(Ju(s)):ZC(nf(),_r(s))}function Nh(s){const o=wg();return o?o.sanitize(oc.URL,s)||"":Gp(s,"URL")?Ju(s):Mh(_r(s))}function eS(s){const o=wg();if(o)return VC(o.sanitize(oc.RESOURCE_URL,s)||"");if(Gp(s,"ResourceURL"))return VC(Ju(s));throw new Oi(904,!1)}function bg(s,o,l){return function VI(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?eS:Nh}(o,l)(s)}function wg(){const s=li();return s&&s[cr].sanitizer}const UI=/^>|^->|<!--|-->|--!>|<!-$/g,zI=/(<|>)/g,Yp="\u200b$1\u200b";function oS(s){return s.ownerDocument.defaultView}function Eg(s){return s.ownerDocument}function nd(s){return s instanceof Function?s():s}function Fu(s){return"browser"===(s??Si(oo)).get(b0)}var Oy=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Oy||{});let N0;function dS(s,o){return N0(s,o)}function af(s,o,l,h,m){if(null!=h){let b,N=!1;Tl(h)?b=h:Aa(h)&&(N=!0,h=h[Ci]);const ee=vo(h);0===s&&null!==l?null==m?Rd(o,l,ee):qf(o,l,ee,m||null,!0):1===s&&null!==l?qf(o,l,ee,m||null,!0):2===s?Dg(o,ee,N):3===s&&o.destroyNode(ee),null!=b&&function nA(s,o,l,h,m){const b=l[Xc];b!==vo(l)&&af(o,s,h,b,m);for(let ee=Ia;ee<l.length;ee++){const ve=l[ee];Qp(ve[Un],ve,s,o,h,b)}}(o,s,b,l,m)}}function P0(s,o){return s.createText(o)}function hS(s,o,l){s.setValue(o,l)}function F0(s,o){return s.createComment(function iS(s){return s.replace(UI,o=>o.replace(zI,Yp))}(o))}function Ry(s,o,l){return s.createElement(o,l)}function Ny(s,o){o[cr].changeDetectionScheduler?.notify(8),Qp(s,o,o[Ki],2,null,null)}function fS(s,o){const l=s[po],h=o[pr];(Aa(h)||o[cs]!==h[pr][cs])&&(s[yi]|=Zd.HasTransplantedViews),null===l?s[po]=[o]:l.push(o)}function Ph(s,o){const l=s[po],h=l.indexOf(o);l.splice(h,1)}function xg(s,o){if(s.length<=Ia)return;const l=Ia+o,h=s[l];if(h){const m=h[ea];null!==m&&m!==s&&Ph(m,h),o>0&&(s[l-1][or]=h[or]);const b=Wu(s,Ia+o);!function YI(s,o){Ny(s,o),o[Ci]=null,o[jr]=null}(h[Un],h);const N=b[Xo];null!==N&&N.detachView(b[Un]),h[pr]=null,h[or]=null,h[yi]&=-129}return h}function Py(s,o){if(!(256&o[yi])){const l=o[Ki];l.destroyNode&&Qp(s,o,l,3,null,null),function QI(s){let o=s[Do];if(!o)return lf(s[Un],s);for(;o;){let l=null;if(Aa(o))l=o[Do];else{const h=o[Ia];h&&(l=h)}if(!l){for(;o&&!o[or]&&o!==s;)Aa(o)&&lf(o[Un],o),o=o[pr];null===o&&(o=s),Aa(o)&&lf(o[Un],o),l=o&&o[or]}o=l}}(o)}}function lf(s,o){if(256&o[yi])return;const l=S(null);try{o[yi]&=-129,o[yi]|=256,o[ka]&&ce(o[ka]),function Cg(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const m=o[l[h]];if(!(m instanceof Rp)){const b=l[h+1];if(Array.isArray(b))for(let N=0;N<b.length;N+=2){const ee=m[b[N]],ve=b[N+1];Ku(4,ee,ve);try{ve.call(ee)}finally{Ku(5,ee,ve)}}else{Ku(4,m,b);try{b.call(m)}finally{Ku(5,m,b)}}}}}(s,o),function JI(s,o){const l=s.cleanup,h=o[Ls];if(null!==l)for(let b=0;b<l.length-1;b+=2)if("string"==typeof l[b]){const N=l[b+3];N>=0?h[N]():h[-N].unsubscribe(),b+=2}else l[b].call(h[l[b+1]]);null!==h&&(o[Ls]=null);const m=o[To];if(null!==m){o[To]=null;for(let b=0;b<m.length;b++)(0,m[b])()}}(s,o),1===o[Un].type&&o[Ki].destroy();const h=o[ea];if(null!==h&&Tl(o[pr])){h!==o[pr]&&Ph(h,o);const m=o[Xo];null!==m&&m.detachView(s)}!function lI(s){f0.delete(s[$s])}(o)}finally{S(l)}}function L0(s,o,l){return $0(s,o.parent,l)}function $0(s,o,l){let h=o;for(;null!==h&&168&h.type;)h=(o=h).parent;if(null===h)return l[Ci];{const{componentOffset:m}=h;if(m>-1){const{encapsulation:b}=s.data[h.directiveStart+m];if(b===wu.None||b===wu.Emulated)return null}return lu(h,l)}}function qf(s,o,l,h,m){s.insertBefore(o,l,h,m)}function Rd(s,o,l){s.appendChild(o,l)}function pS(s,o,l,h,m){null!==h?qf(s,o,l,h,m):Rd(s,o,l)}function Du(s,o){return s.parentNode(o)}function mS(s,o,l){return _S(s,o,l)}function gS(s,o,l){return 40&s.type?lu(s,l):null}let V0,_S=gS;function yS(s,o){_S=s,V0=o}function Fy(s,o,l,h){const m=L0(s,h,o),b=o[Ki],ee=mS(h.parent||o[jr],h,o);if(null!=m)if(Array.isArray(l))for(let ve=0;ve<l.length;ve++)pS(b,m,l[ve],ee,!1);else pS(b,m,l,ee,!1);void 0!==V0&&V0(b,h,o,l,m)}function qp(s,o){if(null!==o){const l=o.type;if(3&l)return lu(o,s);if(4&l)return Sg(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return qp(s,h);{const m=s[o.index];return Tl(m)?Sg(-1,m):vo(m)}}if(32&l)return dS(o,s)()||vo(s[o.index]);{const h=vS(s,o);return null!==h?Array.isArray(h)?h[0]:qp(qt(s[cs]),h):qp(s,o.next)}}return null}function vS(s,o){return null!==o?s[cs][jr].projection[o.projection]:null}function Sg(s,o){const l=Ia+s+1;if(l<o.length){const h=o[l],m=h[Un].firstChild;if(null!==m)return qp(h,m)}return o[Xc]}function Dg(s,o,l){const h=Du(s,o);h&&function B0(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}function U0(s,o,l,h,m,b,N){for(;null!=l;){if(128===l.type){l=l.next;continue}const ee=h[l.index],ve=l.type;if(N&&0===o&&(ee&&du(vo(ee),h),l.flags|=2),32&~l.flags)if(8&ve)U0(s,o,l.child,h,m,b,!1),af(o,s,m,ee,b);else if(32&ve){const Ze=dS(l,h);let mt;for(;mt=Ze();)af(o,s,m,mt,b);af(o,s,m,ee,b)}else 16&ve?$y(s,o,h,l,m,b):af(o,s,m,ee,b);l=N?l.projectionNext:l.next}}function Qp(s,o,l,h,m,b){U0(l,h,s.firstChild,o,m,b,!1)}function $y(s,o,l,h,m,b){const N=l[cs],ve=N[jr].projection[h.projection];if(Array.isArray(ve))for(let Ze=0;Ze<ve.length;Ze++)af(o,s,m,ve[Ze],b);else{let Ze=ve;const mt=N[pr];py(h)&&(Ze.flags|=128),U0(s,o,Ze,mt,m,b,!0)}}function bS(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function j0(s,o,l){const{mergedAttrs:h,classes:m,styles:b}=l;null!==h&&pd(s,o,h),null!==m&&bS(s,o,m),null!==b&&function iA(s,o,l){s.setAttribute(o,"style",l)}(s,o,b)}const Ms={};function By(s=1){wS(As(),li(),wc()+s,!1)}function wS(s,o,l,h){if(!h)if(3&~o[yi]){const b=s.preOrderHooks;null!==b&&Jm(o,b,0,l)}else{const b=s.preOrderCheckHooks;null!==b&&Mp(o,b,l)}Of(l)}function cf(s,o=ms.Default){const l=li();return null===l?qr(s,o):oy(ha(),l,hr(s),o)}function ES(){throw new Error("invalid")}function Tg(s,o,l,h,m,b){const N=S(null);try{let ee=null;m&Nc.SignalBased&&(ee=o[h][C]),null!==ee&&void 0!==ee.transformFn&&(b=ee.transformFn(b)),m&Nc.HasDecoratorInputTransform&&(b=s.inputTransforms[h].call(o,b)),null!==s.setInput?s.setInput(o,ee,b,l,h):Pc(o,ee,h,b)}finally{S(N)}}function Zp(s,o,l,h,m,b,N,ee,ve,Ze,mt){const Ht=o.blueprint.slice();return Ht[Ci]=m,Ht[yi]=204|h,(null!==Ze||s&&2048&s[yi])&&(Ht[yi]|=2048),Q(Ht),Ht[pr]=Ht[ls]=s,Ht[Qr]=l,Ht[cr]=N||s&&s[cr],Ht[Ki]=ee||s&&s[Ki],Ht[xr]=ve||s&&s[xr]||null,Ht[jr]=b,Ht[$s]=function oI(){return gy++}(),Ht[is]=mt,Ht[Kc]=Ze,Ht[cs]=2==o.type?s[cs]:Ht,Ht}function Qf(s,o,l,h,m){let b=s.data[o];if(null===b)b=Jp(s,o,l,h,m),function Gx(){return Li.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=l,b.value=h,b.attrs=m;const N=Ap();b.injectorIndex=null===N?-1:N.injectorIndex}return cu(b,!0),b}function Jp(s,o,l,h,m){const b=Dh(),N=X_(),ve=s.data[o]=function aA(s,o,l,h,m,b){let N=o?o.injectorIndex:-1,ee=0;return Ip()&&(ee|=128),{type:l,index:h,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ee,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?b:b&&b.parent,l,o,h,m);return null===s.firstChild&&(s.firstChild=ve),null!==b&&(N?null==b.child&&null!==ve.parent&&(b.child=ve):null===b.next&&(b.next=ve,ve.prev=b)),ve}function kg(s,o,l,h){if(0===l)return-1;const m=o.length;for(let b=0;b<l;b++)o.push(h),s.blueprint.push(h),s.data.push(null);return m}function em(s,o,l,h,m){const b=wc(),N=2&h;try{Of(-1),N&&o.length>vr&&wS(s,o,vr,!1),Ku(N?2:0,m),l(h,m)}finally{Of(b),Ku(N?3:1,m)}}function W0(s,o,l){if(gd(o)){const h=S(null);try{const b=o.directiveEnd;for(let N=o.directiveStart;N<b;N++){const ee=s.data[N];ee.contentQueries&&ee.contentQueries(1,l[N],N)}}finally{S(h)}}}function tm(s,o,l){Bk()&&(function Jf(s,o,l,h){const m=l.directiveStart,b=l.directiveEnd;_d(l)&&function pA(s,o,l){const h=lu(o,s),m=Ig(l);let N=16;l.signals?N=4096:l.onPush&&(N=64);const ee=im(s,Zp(s,m,null,N,h,o,null,s[cr].rendererFactory.createRenderer(h,l),null,null,null));s[o.index]=ee}(o,l,s.data[m+l.componentOffset]),s.firstCreatePass||tg(l,o),du(h,o);const N=l.initialInputs;for(let ee=m;ee<b;ee++){const ve=s.data[ee],Ze=Zh(o,s,ee,l);du(Ze,o),null!==N&&q0(0,ee-m,Ze,ve,0,N),ko(ve)&&(xu(l.index,o)[Qr]=Zh(o,s,ee,l))}}(s,o,l,lu(l,o)),!(64&~l.flags)&&TS(s,o,l))}function H0(s,o,l=lu){const h=o.localNames;if(null!==h){let m=o.index+1;for(let b=0;b<h.length;b+=2){const N=h[b+1],ee=-1===N?l(o,s):s[N];s[m++]=ee}}}function Ig(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=G0(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function G0(s,o,l,h,m,b,N,ee,ve,Ze,mt){const Ht=vr+h,gn=Ht+m,vn=function Ag(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:Ms);return l}(Ht,gn),$n="function"==typeof Ze?Ze():Ze;return vn[Un]={type:s,blueprint:vn,template:l,queries:null,viewQuery:ee,declTNode:o,data:vn.slice().fill(null,Ht),bindingStartIndex:Ht,expandoStartIndex:gn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:ve,consts:$n,incompleteFirstPass:!1,ssrId:mt}}let xS=()=>null;function Uy(s,o,l,h,m){for(let b in o){if(!o.hasOwnProperty(b))continue;const N=o[b];if(void 0===N)continue;h??={};let ee,ve=Nc.None;Array.isArray(N)?(ee=N[0],ve=N[1]):ee=N;let Ze=b;if(null!==m){if(!m.hasOwnProperty(b))continue;Ze=m[b]}0===s?CS(h,l,Ze,ee,ve):CS(h,l,Ze,ee)}return h}function CS(s,o,l,h,m){let b;s.hasOwnProperty(l)?(b=s[l]).push(o,h):b=s[l]=[o,h],void 0!==m&&b.push(m)}function pa(s,o,l,h,m,b,N,ee){const ve=lu(o,l);let mt,Ze=o.inputs;!ee&&null!=Ze&&(mt=Ze[h])?(Mg(s,l,mt,h,m),_d(o)&&function cA(s,o){const l=xu(o,s);16&l[yi]||(l[yi]|=64)}(l,o.index)):3&o.type&&(h=function lA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),m=null!=N?N(m,o.value||"",h):m,b.setProperty(ve,h,m))}function zy(s,o,l,h){if(Bk()){const m=null===h?null:{"":-1},b=function dA(s,o){const l=s.directiveRegistry;let h=null,m=null;if(l)for(let b=0;b<l.length;b++){const N=l[b];if(gc(o,N.selectors,!1))if(h||(h=[]),ko(N))if(null!==N.findHostDirectiveDefs){const ee=[];m=m||new Map,N.findHostDirectiveDefs(N,ee,m),h.unshift(...ee,N),jy(s,o,ee.length)}else h.unshift(N),jy(s,o,0);else m=m||new Map,N.findHostDirectiveDefs?.(N,h,m),h.push(N)}return null===h?null:[h,m]}(s,l);let N,ee;null===b?N=ee=null:[N,ee]=b,null!==N&&SS(s,o,l,N,m,ee),m&&function X0(s,o,l){if(o){const h=s.localNames=[];for(let m=0;m<o.length;m+=2){const b=l[o[m+1]];if(null==b)throw new Oi(-301,!1);h.push(o[m],b)}}}(l,h,m)}l.mergedAttrs=jc(l.mergedAttrs,l.attrs)}function SS(s,o,l,h,m,b){for(let Ze=0;Ze<h.length;Ze++)ry(tg(l,o),s,h[Ze].type);!function hA(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,h.length);for(let Ze=0;Ze<h.length;Ze++){const mt=h[Ze];mt.providersResolver&&mt.providersResolver(mt)}let N=!1,ee=!1,ve=kg(s,o,h.length,null);for(let Ze=0;Ze<h.length;Ze++){const mt=h[Ze];l.mergedAttrs=jc(l.mergedAttrs,mt.hostAttrs),fA(s,l,o,ve,mt),ep(ve,mt,m),null!==mt.contentQueries&&(l.flags|=4),(null!==mt.hostBindings||null!==mt.hostAttrs||0!==mt.hostVars)&&(l.flags|=64);const Ht=mt.type.prototype;!N&&(Ht.ngOnChanges||Ht.ngOnInit||Ht.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),N=!0),!ee&&(Ht.ngOnChanges||Ht.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),ee=!0),ve++}!function Zf(s,o,l){const m=o.directiveEnd,b=s.data,N=o.attrs,ee=[];let ve=null,Ze=null;for(let mt=o.directiveStart;mt<m;mt++){const Ht=b[mt],gn=l?l.get(Ht):null,$n=gn?gn.outputs:null;ve=Uy(0,Ht.inputs,mt,ve,gn?gn.inputs:null),Ze=Uy(1,Ht.outputs,mt,Ze,$n);const ci=null===ve||null===N||Rl(o)?null:mA(ve,mt,N);ee.push(ci)}null!==ve&&(ve.hasOwnProperty("class")&&(o.flags|=8),ve.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=ee,o.inputs=ve,o.outputs=Ze}(s,l,b)}function TS(s,o,l){const h=l.directiveStart,m=l.directiveEnd,b=l.index,N=function Xx(){return Li.lFrame.currentDirectiveIndex}();try{Of(b);for(let ee=h;ee<m;ee++){const ve=s.data[ee],Ze=o[ee];Gb(ee),(null!==ve.hostBindings||0!==ve.hostVars||null!==ve.hostAttrs)&&uA(ve,Ze)}}finally{Of(-1),Gb(N)}}function uA(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jy(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function ep(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;ko(o)&&(l[""]=s)}}function fA(s,o,l,h,m){s.data[h]=m;const b=m.factory||(m.factory=Jl(m.type)),N=new Rp(b,ko(m),cf);s.blueprint[h]=N,l[h]=N,function DS(s,o,l,h,m){const b=m.hostBindings;if(b){let N=s.hostBindingOpCodes;null===N&&(N=s.hostBindingOpCodes=[]);const ee=~o.index;(function Qc(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(N)!=ee&&N.push(ee),N.push(l,h,b)}}(s,o,h,kg(s,l,m.hostVars,Ms),m)}function Y0(s,o,l,h,m,b,N){if(null==b)s.removeAttribute(o,m,l);else{const ee=null==N?_r(b):N(b,h||"",m);s.setAttribute(o,m,ee,l)}}function q0(s,o,l,h,m,b){const N=b[o];if(null!==N)for(let ee=0;ee<N.length;)Tg(h,l,N[ee++],N[ee++],N[ee++],N[ee++])}function mA(s,o,l){let h=null,m=0;for(;m<l.length;){const b=l[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===h&&(h=[]);const N=s[b];for(let ee=0;ee<N.length;ee+=3)if(N[ee]===o){h.push(b,N[ee+1],N[ee+2],l[m+1]);break}}m+=2}else m+=2;else m+=4}return h}function Q0(s,o,l,h){return[s,!0,0,o,null,h,null,l,null,null]}function kS(s,o){const l=s.contentQueries;if(null!==l){const h=S(null);try{for(let m=0;m<l.length;m+=2){const N=l[m+1];if(-1!==N){const ee=s.data[N];q_(l[m]),ee.contentQueries(2,o[N],N)}}}finally{S(h)}}}function im(s,o){return s[Do]?s[Nr][or]=o:s[Do]=o,s[Nr]=o,o}function Z0(s,o,l){q_(0);const h=S(null);try{o(s,l)}finally{S(h)}}function IS(s){return s[Ls]??=[]}function J0(s){return s.cleanup??=[]}function Wy(s,o,l){return(null===s||ko(s))&&(l=function th(s){for(;Array.isArray(s);){if("object"==typeof s[Ep])return s;s=s[Ci]}return null}(l[o.index])),l[Ki]}function Hy(s,o){const l=s[xr],h=l?l.get(uu,null):null;h&&h.handleError(o)}function Mg(s,o,l,h,m){for(let b=0;b<l.length;){const N=l[b++],ee=l[b++],ve=l[b++];Tg(s.data[N],o[N],h,ee,ve,m)}}function oh(s,o,l){const h=Af(o,s);hS(s[Ki],h,l)}function gA(s,o){const l=xu(o,s),h=l[Un];!function ew(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(h,l);const m=l[Ci];null!==m&&null===l[is]&&(l[is]=gl(m,l[xr])),tw(h,l,l[Qr])}function tw(s,o,l){Zm(o);try{const h=s.viewQuery;null!==h&&Z0(1,h,l);const m=s.template;null!==m&&em(s,o,m,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),o[Xo]?.finishViewCreation(s),s.staticContentQueries&&kS(s,o),s.staticViewQueries&&Z0(2,s.viewQuery,l);const b=s.components;null!==b&&function _A(s,o){for(let l=0;l<o.length;l++)gA(s,o[l])}(o,b)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[yi]&=-5,Q_()}}function Bs(s,o,l,h){const m=S(null);try{const b=o.tView,ve=Zp(s,b,l,4096&s[yi]?4096:16,null,o,null,null,h?.injector??null,h?.embeddedViewInjector??null,h?.dehydratedView??null);ve[ea]=s[o.index];const mt=s[Xo];return null!==mt&&(ve[Xo]=mt.createEmbeddedView(b)),tw(b,ve,l),ve}finally{S(m)}}function AS(s,o){const l=Ia+o;if(l<s.length)return s[l]}function tp(s,o){return!o||null===o.firstChild||py(s)}function rm(s,o,l,h=!0){const m=o[Un];if(function ZI(s,o,l,h){const m=Ia+h,b=l.length;h>0&&(l[m-1][or]=o),h<b-Ia?(o[or]=l[m],eo(l,Ia+h,o)):(l.push(o),o[or]=null),o[pr]=l;const N=o[ea];null!==N&&l!==N&&fS(N,o);const ee=o[Xo];null!==ee&&ee.insertView(s),mn(o),o[yi]|=128}(m,o,s,l),h){const N=Sg(l,s),ee=o[Ki],ve=Du(ee,s[Xc]);null!==ve&&function qI(s,o,l,h,m,b){h[Ci]=m,h[jr]=o,Qp(s,h,l,1,m,b)}(m,s[jr],ee,o,ve,N)}const b=o[is];null!==b&&null!==b.firstChild&&(b.firstChild=null)}function nw(s,o){const l=xg(s,o);return void 0!==l&&Py(l[Un],l),l}function Og(s,o,l,h,m=!1){for(;null!==l;){if(128===l.type){l=m?l.projectionNext:l.next;continue}const b=o[l.index];null!==b&&h.push(vo(b)),Tl(b)&&MS(b,h);const N=l.type;if(8&N)Og(s,o,l.child,h);else if(32&N){const ee=dS(l,o);let ve;for(;ve=ee();)h.push(ve)}else if(16&N){const ee=vS(o,l);if(Array.isArray(ee))h.push(...ee);else{const ve=qt(o[cs]);Og(ve[Un],ve,ee,h,!0)}}l=m?l.projectionNext:l.next}return h}function MS(s,o){for(let l=Ia;l<s.length;l++){const h=s[l],m=h[Un].firstChild;null!==m&&Og(h[Un],h,m,o)}s[Xc]!==s[Ci]&&o.push(s[Xc])}let OS=[];const wA={...x,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Yn(s.lView)},consumerOnSignalRead(){this.lView[ka]=this}},NS={...x,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{let o=qt(s.lView);for(;o&&!Gy(o[Un]);)o=qt(o);o&&Ue(o)},consumerOnSignalRead(){this.lView[ka]=this}};function Gy(s){return 2!==s.type}const EA=100;function sm(s,o=!0,l=0){const h=s[cr],m=h.rendererFactory;m.begin?.();try{!function xA(s,o){const l=Hx();try{jl(!0),rw(s,o);let h=0;for(;Jt(s);){if(h===EA)throw new Oi(103,!1);h++,rw(s,1)}}finally{jl(l)}}(s,l)}catch(N){throw o&&Hy(s,N),N}finally{m.end?.(),h.inlineEffectRunner?.flush()}}function iw(s,o,l,h){const m=o[yi];if(!(256&~m))return;o[cr].inlineEffectRunner?.flush(),Zm(o);let ee=!0,ve=null,Ze=null;Gy(s)?(Ze=function yA(s){return s[ka]??function vA(s){const o=OS.pop()??Object.create(wA);return o.lView=s,o}(s)}(o),ve=F(Ze)):null===function I(){return A}()?(ee=!1,Ze=function RS(s){const o=s[ka]??Object.create(NS);return o.lView=s,o}(o),ve=F(Ze)):o[ka]&&(ce(o[ka]),o[ka]=null);try{Q(o),function Ts(s){return Li.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&em(s,o,l,2,h);const mt=!(3&~m);if(mt){const vn=s.preOrderCheckHooks;null!==vn&&Mp(o,vn,null)}else{const vn=s.preOrderHooks;null!==vn&&Jm(o,vn,0,null),Zb(o,0)}if(function Ky(s){for(let o=bC(s);null!==o;o=m0(o)){if(!(o[yi]&Zd.HasTransplantedViews))continue;const l=o[po];for(let h=0;h<l.length;h++)Ue(l[h])}}(o),Rg(o,0),null!==s.contentQueries&&kS(s,o),mt){const vn=s.contentCheckHooks;null!==vn&&Mp(o,vn)}else{const vn=s.contentHooks;null!==vn&&Jm(o,vn,1),Zb(o,1)}!function rA(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)Of(~m);else{const b=m,N=l[++h],ee=l[++h];Kx(N,b),ee(2,o[b])}}}finally{Of(-1)}}(s,o);const Ht=s.components;null!==Ht&&sw(o,Ht,0);const gn=s.viewQuery;if(null!==gn&&Z0(2,gn,h),mt){const vn=s.viewCheckHooks;null!==vn&&Mp(o,vn)}else{const vn=s.viewHooks;null!==vn&&Jm(o,vn,2),Zb(o,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[yc]){for(const vn of o[yc])vn();o[yc]=null}o[yi]&=-73}catch(mt){throw Yn(o),mt}finally{null!==Ze&&(J(Ze,ve),ee&&function bA(s){s.lView[ka]!==s&&(s.lView=null,OS.push(s))}(Ze)),Q_()}}function Rg(s,o){for(let l=bC(s);null!==l;l=m0(l))for(let h=Ia;h<l.length;h++)Ng(l[h],o)}function Xy(s,o,l){Ng(xu(o,s),l)}function Ng(s,o){Qm(s)&&rw(s,o)}function rw(s,o){const h=s[Un],m=s[yi],b=s[ka];let N=!!(0===o&&16&m);if(N||=!!(64&m&&0===o),N||=!!(1024&m),N||=!(!b?.dirty||!ue(b)),N||=!1,b&&(b.dirty=!1),s[yi]&=-9217,N)iw(h,s,h.template,s[Qr]);else if(8192&m){Rg(s,1);const ee=h.components;null!==ee&&sw(s,ee,1)}}function sw(s,o,l){for(let h=0;h<o.length;h++)Xy(s,o[h],l)}function Pg(s,o){const l=Hx()?64:1088;for(s[cr].changeDetectionScheduler?.notify(o);s;){s[yi]|=l;const h=qt(s);if(jo(s)&&!h)return s;s=h}return null}class om{get rootNodes(){const o=this._lView,l=o[Un];return Og(l,o,l.firstChild,[])}constructor(o,l,h=!0){this._lView=o,this._cdRefInjectingView=l,this.notifyErrorHandler=h,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qr]}set context(o){this._lView[Qr]=o}get destroyed(){return!(256&~this._lView[yi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[pr];if(Tl(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(xg(o,h),Wu(l,h))}this._attachedToViewContainer=!1}Py(this._lView[Un],this._lView)}onDestroy(o){zn(this._lView,o)}markForCheck(){Pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[yi]&=-129}reattach(){mn(this._lView),this._lView[yi]|=128}detectChanges(){this._lView[yi]|=1024,sm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oi(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const o=jo(this._lView),l=this._lView[ea];null!==l&&!o&&Ph(l,this._lView),Ny(this._lView[Un],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oi(902,!1);this._appRef=o;const l=jo(this._lView),h=this._lView[ea];null!==h&&!l&&fS(h,this._lView),mn(this._lView)}}let Fg=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=SA}return s})();const FS=Fg,CA=class extends FS{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,h){const m=Bs(this._declarationLView,this._declarationTContainer,o,{embeddedViewInjector:l,dehydratedView:h});return new om(m)}};function SA(){return Yy(ha(),li())}function Yy(s,o){return 4&s.type?new CA(o,s,kh(s,o)):null}function VS(s,o,l){const h=o.insertBeforeIndex,m=Array.isArray(h)?h[0]:h;return null===m?gS(s,0,l):vo(l[m])}function US(s,o,l,h,m){const b=o.insertBeforeIndex;if(Array.isArray(b)){let N=h,ee=null;if(3&o.type||(ee=N,N=m),null!==N&&-1===o.componentOffset)for(let ve=1;ve<b.length;ve++)qf(s,N,l[b[ve]],ee,!1)}}function zS(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];jS(h)||RA(h,o)&&null===lw(h)&&cw(h,o.index)}}function jS(s){return!(64&s.type)}function RA(s,o){return jS(o)||s.index>o.index}function lw(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function cw(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(yS(VS,US),s.insertBeforeIndex=o)}function np(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function PA(s,o,l){const h=Jp(s,l,64,null,null);return zS(o,h),h}function Ug(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function WS(s){return s>>>17}function Qy(s){return(131070&s)>>>1}function dw(s,o,l){s.index=0;const h=Ug(o,l);s.removes=null!==h?o.remove[h]:zr}function lm(s){if(s.index<s.removes.length){const o=s.removes[s.index++];return o>0?s.lView[o]:(s.stack.push(s.index,s.removes),dw(s,s.lView[Un].data[~o],s.lView),lm(s))}return 0===s.stack.length?null:(s.removes=s.stack.pop(),s.index=s.stack.pop(),lm(s))}function LA(){const s={stack:[],index:-1};return function o(l,h){for(s.lView=h;s.stack.length;)s.stack.pop();return dw(s,l.value,h),lm.bind(null,s)}}let qS=()=>{},QS=()=>{},eD=()=>null;function rp(s,o){return eD(s,o)}class dm{}const Wg=new ln("",{providedIn:"root",factory:()=>!1}),tD=new ln("");class dM{}class id{}class hM{resolveComponentFactory(o){throw function nD(s){const o=Error(`No component factory found for ${co(s)}.`);return o.ngComponent=s,o}(o)}}class Hg{static#e=this.NULL=new hM}class uf{}let fM=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function rD(){const s=li(),l=xu(ha().index,s);return(Aa(l)?l:s)[Ki]}()}return s})(),ww=(()=>{class s{static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:()=>null})}return s})();const Fd=new Set;function fu(s){Fd.has(s)||(Fd.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}function Ew(s){let o=!0;return setTimeout(()=>{o&&(o=!1,s())}),"function"==typeof Rs.requestAnimationFrame&&Rs.requestAnimationFrame(()=>{o&&(o=!1,s())}),()=>{o=!1}}function xw(s){let o=!0;return queueMicrotask(()=>{o&&s()}),()=>{o=!1}}function Cw(...s){}class ma{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),typeof Zone>"u")throw new Oi(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&l,m.shouldCoalesceRunChangeDetection=h,m.callbackScheduled=!1,function Kg(s){const o=()=>{!function Gg(s){s.isCheckStableRunning||s.callbackScheduled||(s.callbackScheduled=!0,Zone.root.run(()=>{Ew(()=>{s.callbackScheduled=!1,Xg(s),s.isCheckStableRunning=!0,sp(s),s.isCheckStableRunning=!1})}),Xg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,m,b,N,ee)=>{if(function nv(s){return iv(s,"__ignore_ng_zone__")}(ee))return l.invokeTask(m,b,N,ee);try{return ev(s),l.invokeTask(m,b,N,ee)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&o(),tv(s)}},onInvoke:(l,h,m,b,N,ee,ve)=>{try{return ev(s),l.invoke(m,b,N,ee,ve)}finally{s.shouldCoalesceRunChangeDetection&&!s.callbackScheduled&&!function Dw(s){return iv(s,"__scheduler_tick__")}(ee)&&o(),tv(s)}},onHasTask:(l,h,m,b)=>{l.hasTask(m,b),h===m&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,Xg(s),sp(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(l,h,m,b)=>(l.handleError(m,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ma.isInAngularZone())throw new Oi(909,!1)}static assertNotInAngularZone(){if(ma.isInAngularZone())throw new Oi(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,m){const b=this._inner,N=b.scheduleEventTask("NgZoneEvent: "+m,o,Sw,Cw,Cw);try{return b.runTask(N,l,h)}finally{b.cancelTask(N)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const Sw={};function sp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Xg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&!0===s.callbackScheduled)}function ev(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function tv(s){s._nesting--,sp(s)}class hm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,m){return o.apply(l,h)}}function iv(s,o){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0]?.data?.[o]}var Zc=function(s){return s[s.EarlyRead=0]="EarlyRead",s[s.Write=1]="Write",s[s.MixedReadWrite=2]="MixedReadWrite",s[s.Read=3]="Read",s}(Zc||{});const rv={destroy(){}};function ah(s,o){!o&&zl();const l=o?.injector??Si(oo);return Fu(l)?(fu("NgAfterRender"),Iw(s,l,!1,o?.phase??Zc.MixedReadWrite)):rv}function kw(s,o){!o&&zl();const l=o?.injector??Si(oo);return Fu(l)?(fu("NgAfterNextRender"),Iw(s,l,!0,o?.phase??Zc.MixedReadWrite)):rv}function Iw(s,o,l,h){const m=function oD(s,o){if(s instanceof Function)switch(o){case Zc.EarlyRead:return{earlyRead:s};case Zc.Write:return{write:s};case Zc.MixedReadWrite:return{mixedReadWrite:s};case Zc.Read:return{read:s}}return s}(s,h),b=o.get(qg),N=b.handler??=new aD,ee=[],ve=[],Ze=()=>{for(const vn of ve)N.unregister(vn);mt()},mt=o.get(ag).onDestroy(Ze);let Ht=0;const gn=(vn,$n)=>{if(!$n)return;const ci=l?(...Wi)=>(Ht--,Ht<1&&Ze(),$n(...Wi)):$n,Fi=Fl(o,()=>new Aw(vn,ee,ci));N.register(Fi),ve.push(Fi),Ht++};return gn(Zc.EarlyRead,m.earlyRead),gn(Zc.Write,m.write),gn(Zc.MixedReadWrite,m.mixedReadWrite),gn(Zc.Read,m.read),{destroy:Ze}}class Aw{constructor(o,l,h){this.phase=o,this.pipelinedArgs=l,this.callbackFn=h,this.zone=Si(ma),this.errorHandler=Si(uu,{optional:!0}),Si(dm,{optional:!0})?.notify(6)}invoke(){try{const o=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,o)}catch(o){this.errorHandler?.handleError(o)}}}class aD{constructor(){this.executingCallbacks=!1,this.buckets={[Zc.EarlyRead]:new Set,[Zc.Write]:new Set,[Zc.MixedReadWrite]:new Set,[Zc.Read]:new Set},this.deferredCallbacks=new Set}register(o){(this.executingCallbacks?this.deferredCallbacks:this.buckets[o.phase]).add(o)}unregister(o){this.buckets[o.phase].delete(o),this.deferredCallbacks.delete(o)}execute(){this.executingCallbacks=!0;for(const o of Object.values(this.buckets))for(const l of o)l.invoke();this.executingCallbacks=!1;for(const o of this.deferredCallbacks)this.buckets[o.phase].add(o);this.deferredCallbacks.clear()}destroy(){for(const o of Object.values(this.buckets))o.clear();this.deferredCallbacks.clear()}}let qg=(()=>{class s{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of l)h()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:()=>new s})}return s})();function lh(s){return!!No(s)}function Jg(s,o,l){let h=l?s.styles:null,m=l?s.classes:null,b=0;if(null!==o)for(let N=0;N<o.length;N++){const ee=o[N];"number"==typeof ee?b=ee:1==b?m=xa(m,ee):2==b&&(h=xa(h,ee+": "+o[++N]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=m:s.classesWithoutHost=m}class Nw extends Hg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=di(o);return new pm(l,this.ngModule)}}function Pw(s,o){const l=[];for(const h in s){if(!s.hasOwnProperty(h))continue;const m=s[h];if(void 0===m)continue;const b=Array.isArray(m),N=b?m[0]:m;l.push(o?{propName:N,templateName:h,isSignal:!!((b?m[1]:Nc.None)&Nc.SignalBased)}:{propName:N,templateName:h})}return l}class pm extends id{get inputs(){const o=this.componentDef,l=o.inputTransforms,h=Pw(o.inputs,!0);if(null!==l)for(const m of h)l.hasOwnProperty(m.propName)&&(m.transform=l[m.propName]);return h}get outputs(){return Pw(this.componentDef.outputs,!1)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function G(s){return s.map(so).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,h,m){const b=S(null);try{let N=(m=m||this.ngModule)instanceof pn?m:m?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const ee=N?new Th(o,N):o,ve=ee.get(uf,null);if(null===ve)throw new Oi(407,!1);const Ze=ee.get(ww,null),gn={rendererFactory:ve,sanitizer:Ze,inlineEffectRunner:null,afterRenderEventManager:ee.get(qg,null),changeDetectionScheduler:ee.get(dm,null)},vn=ve.createRenderer(null,this.componentDef),$n=this.componentDef.selectors[0][0]||"div",ci=h?function sA(s,o,l,h){const b=h.get(Zu,!1)||l===wu.ShadowDom,N=s.selectRootElement(o,b);return function K0(s){xS(s)}(N),N}(vn,h,this.componentDef.encapsulation,ee):Ry(vn,$n,function cD(s){const o=s.toLowerCase();return"svg"===o?Tp:"math"===o?"math":null}($n));let Fi=512;this.componentDef.signals?Fi|=4096:this.componentDef.onPush||(Fi|=16);let Wi=null;null!==ci&&(Wi=gl(ci,ee,!0));const xi=G0(0,null,null,1,0,null,null,null,null,null,null),rs=Zp(null,xi,null,Fi,null,null,gn,vn,ee,null,Wi);let Co,Ra;Zm(rs);try{const Vc=this.componentDef;let hd,R_=null;Vc.findHostDirectiveDefs?(hd=[],R_=new Map,Vc.findHostDirectiveDefs(Vc,hd,R_),hd.push(Vc)):hd=[Vc];const rP=function dD(s,o){const l=s[Un],h=vr;return s[h]=o,Qf(l,h,2,"#host",null)}(rs,ci),Mx=function hD(s,o,l,h,m,b,N){const ee=m[Un];!function Fw(s,o,l,h){for(const m of s)o.mergedAttrs=jc(o.mergedAttrs,m.hostAttrs);null!==o.mergedAttrs&&(Jg(o,o.mergedAttrs,!0),null!==l&&j0(h,l,o))}(h,s,o,N);let ve=null;null!==o&&(ve=gl(o,m[xr]));const Ze=b.rendererFactory.createRenderer(o,l);let mt=16;l.signals?mt=4096:l.onPush&&(mt=64);const Ht=Zp(m,Ig(l),null,mt,m[s.index],s,b,Ze,null,null,ve);return ee.firstCreatePass&&jy(ee,s,h.length-1),im(m,Ht),m[s.index]=Ht}(rP,ci,Vc,hd,rs,gn,vn);Ra=Mf(xi,vr),ci&&function pD(s,o,l,h){if(h)pd(s,l,["ng-version","18.1.2"]);else{const{attrs:m,classes:b}=function ke(s){const o=[],l=[];let h=1,m=2;for(;h<s.length;){let b=s[h];if("string"==typeof b)2===m?""!==b&&o.push(b,s[++h]):8===m&&l.push(b);else{if(!pl(m))break;m=b}h++}return{attrs:o,classes:l}}(o.selectors[0]);m&&pd(s,l,m),b&&b.length>0&&bS(s,l,b.join(" "))}}(vn,Vc,ci,h),void 0!==l&&function mD(s,o,l){const h=s.projection=[];for(let m=0;m<o.length;m++){const b=l[m];h.push(null!=b?Array.from(b):null)}}(Ra,this.ngContentSelectors,l),Co=function fD(s,o,l,h,m,b){const N=ha(),ee=m[Un],ve=lu(N,m);SS(ee,m,N,l,null,h);for(let mt=0;mt<l.length;mt++)du(Zh(m,ee,N.directiveStart+mt,N),m);TS(ee,m,N),ve&&du(ve,m);const Ze=Zh(m,ee,N.directiveStart+N.componentOffset,N);if(s[Qr]=m[Qr]=Ze,null!==b)for(const mt of b)mt(Ze,o);return W0(ee,N,m),Ze}(Mx,Vc,hd,R_,rs,[gD]),tw(xi,rs,null)}finally{Q_()}return new uD(this.componentType,Co,kh(Ra,rs),rs,Ra)}finally{S(b)}}}class uD extends dM{constructor(o,l,h,m,b){super(),this.location=h,this._rootLView=m,this._tNode=b,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new om(m,void 0,!1),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const b=this._rootLView;Mg(b[Un],b,m,o,l),this.previousInputValues.set(o,l),Pg(xu(this._tNode.index,b),1)}}get injector(){return new Ec(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function gD(){const s=ha();J_(li()[Un],s)}let e_=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Lw}return s})();function Lw(){return _D(ha(),li())}const $h=e_,$w=class extends $h{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return kh(this._hostTNode,this._hostLView)}get injector(){return new Ec(this._hostTNode,this._hostLView)}get parentInjector(){const o=ng(this._hostTNode,this._hostLView);if(ty(o)){const l=Pf(o,this._hostLView),h=eg(o);return new Ec(l[Un].data[h+8],l)}return new Ec(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Bw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Ia}createEmbeddedView(o,l,h){let m,b;"number"==typeof h?m=h:null!=h&&(m=h.index,b=h.injector);const N=rp(this._lContainer,o.ssrId),ee=o.createEmbeddedViewImpl(l||{},b,N);return this.insertImpl(ee,m,tp(this._hostTNode,N)),ee}createComponent(o,l,h,m,b){const N=o&&!function At(s){return"function"==typeof s}(o);let ee;if(N)ee=l;else{const $n=l||{};ee=$n.index,h=$n.injector,m=$n.projectableNodes,b=$n.environmentInjector||$n.ngModuleRef}const ve=N?o:new pm(di(o)),Ze=h||this.parentInjector;if(!b&&null==ve.ngModule){const ci=(N?Ze:this.parentInjector).get(pn,null);ci&&(b=ci)}const mt=di(ve.componentType??{}),Ht=rp(this._lContainer,mt?.id??null),vn=ve.create(Ze,m,Ht?.firstChild??null,b);return this.insertImpl(vn.hostView,ee,tp(this._hostTNode,Ht)),vn}insert(o,l){return this.insertImpl(o,l,!0)}insertImpl(o,l,h){const m=o._lView;if(function Id(s){return Tl(s[pr])}(m)){const ee=this.indexOf(o);if(-1!==ee)this.detach(ee);else{const ve=m[pr],Ze=new $w(ve,ve[jr],ve[pr]);Ze.detach(Ze.indexOf(o))}}const b=this._adjustIndex(l),N=this._lContainer;return rm(N,m,b,h),o.attachToViewContainerRef(),eo(Vw(N),b,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Bw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=xg(this._lContainer,l);h&&(Wu(Vw(this._lContainer),l),Py(h[Un],h))}detach(o){const l=this._adjustIndex(o,-1),h=xg(this._lContainer,l);return h&&null!=Wu(Vw(this._lContainer),l)?new om(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function Bw(s){return s[8]}function Vw(s){return s[8]||(s[8]=[])}function _D(s,o){let l;const h=o[s.index];return Tl(h)?l=h:(l=Q0(h,o,null,s),o[s.index]=l,im(o,l)),yD(l,o,s,h),new $w(l,s,o)}let yD=function bD(s,o,l,h){if(s[Xc])return;let m;m=8&l.type?vo(h):function pM(s,o){const l=s[Ki],h=l.createComment(""),m=lu(o,s);return qf(l,Du(l,m),h,function eA(s,o){return s.nextSibling(o)}(l,m),!1),h}(o,l),s[Xc]=m},Uw=()=>!1;class zw{constructor(o){this.queryList=o,this.matches=null}clone(){return new zw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,m=[];for(let b=0;b<h;b++){const N=l.getByIndex(b);m.push(this.queries[N.indexInDeclarationView].clone())}return new jw(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}finishViewCreation(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Xw(o,l).matches&&this.queries[l].setDirty()}}class wD{constructor(o,l,h=null){this.flags=l,this.read=h,this.predicate="string"==typeof o?function EM(s){return s.split(",").map(o=>o.trim())}(o):o}}class Ww{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const m=null!==l?l.length:0,b=this.getByIndex(h).embeddedTView(o,m);b&&(b.indexInDeclarationView=h,null!==l?l.push(b):l=[b])}return null!==l?new Ww(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Hw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Hw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const b=h[m];this.matchTNodeWithReadOption(o,l,yM(l,b)),this.matchTNodeWithReadOption(o,l,ay(l,o,b,!1,!1))}else h===Fg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ay(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===cg||m===e_||m===Fg&&4&l.type)this.addMatch(l.index,-2);else{const b=ay(l,o,m,!1,!1);null!==b&&this.addMatch(l.index,b)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function yM(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function bM(s,o,l,h){return-1===l?function vM(s,o){return 11&s.type?kh(s,o):4&s.type?Yy(s,o):null}(o,s):-2===l?function wM(s,o,l){return l===cg?kh(o,s):l===Fg?Yy(o,s):l===e_?_D(o,s):void 0}(s,o,h):Zh(s,s[Un],l,o)}function ED(s,o,l,h){const m=o[Xo].queries[h];if(null===m.matches){const b=s.data,N=l.matches,ee=[];for(let ve=0;null!==N&&ve<N.length;ve+=2){const Ze=N[ve];ee.push(Ze<0?null:bM(o,b[Ze],N[ve+1],l.metadata.read))}m.matches=ee}return m.matches}function Gw(s,o,l,h){const m=s.queries.getByIndex(l),b=m.matches;if(null!==b){const N=ED(s,o,m,l);for(let ee=0;ee<b.length;ee+=2){const ve=b[ee];if(ve>0)h.push(N[ee/2]);else{const Ze=b[ee+1],mt=o[-ve];for(let Ht=Ia;Ht<mt.length;Ht++){const gn=mt[Ht];gn[ea]===gn[pr]&&Gw(gn[Un],gn,Ze,h)}if(null!==mt[po]){const Ht=mt[po];for(let gn=0;gn<Ht.length;gn++){const vn=Ht[gn];Gw(vn[Un],vn,Ze,h)}}}}}return h}function Kw(s,o){return s[Xo].queries[o].queryList}function xD(s,o,l){const h=new qu(!(4&~l));return function Vy(s,o,l,h){const m=IS(o);m.push(l),s.firstCreatePass&&J0(s).push(h,m.length-1)}(s,o,h,h.destroy),(o[Xo]??=new jw).queries.push(new zw(h))-1}function SD(s,o,l,h){const m=As();if(m.firstCreatePass){const b=ha();DD(m,new wD(o,l,h),b.index),function xM(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(m,s),!(2&~l)&&(m.staticContentQueries=!0)}return xD(m,li(),l)}function DD(s,o,l){null===s.queries&&(s.queries=new Ww),s.queries.track(new Hw(o,l))}function Xw(s,o){return s.queries.getByIndex(o)}function TD(s,o){const l=s[Un],h=Xw(l,o);return h.crossesNgTemplate?Gw(l,s,o,[]):ED(l,s,h,o)}function Yw(s){return"function"==typeof s&&void 0!==s[C]}function kD(s,o){fu("NgSignals");const l=function ye(s){const o=Object.create(Qt);o.value=s;const l=()=>($(o),o.value);return l[C]=o,l}(s),h=l[C];return o?.equal&&(h.equal=o.equal),l.set=m=>Qe(h,m),l.update=m=>function Pt(s,o){L()||K(),Qe(s,o(s.value))}(h,m),l.asReadonly=ID.bind(l),l}function ID(){const s=this[C];if(void 0===s.readonlyFn){const o=()=>this();o[C]=s,s.readonlyFn=o}return s.readonlyFn}function AD(s){return Yw(s)&&"function"==typeof s.set}function qw(s,o){let l;const h=xe(()=>{l._dirtyCounter();const m=function CM(s,o){const l=s._lView,h=s._queryIndex;if(void 0===l||void 0===h||4&l[yi])return o?void 0:zr;const m=Kw(l,h),b=TD(l,h);return m.reset(b,h0),o?m.first:m._changesDetected||void 0===s._flatValue?s._flatValue=m.toArray():s._flatValue}(l,s);if(o&&void 0===m)throw new Oi(-951,!1);return m});return l=h[C],l._dirtyCounter=kD(0),l._flatValue=void 0,h}function PD(s,o){return function MD(){return qw(!0,!1)}()}const kM=(PD.required=function TM(s,o){return function OD(){return qw(!0,!0)}()},PD);function Zw(s){let o=function UD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let m;if(ko(s))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oi(903,!1);m=o.\u0275dir}if(m){if(l){h.push(m);const N=s;N.inputs=cv(s.inputs),N.inputTransforms=cv(s.inputTransforms),N.declaredInputs=cv(s.declaredInputs),N.outputs=cv(s.outputs);const ee=m.hostBindings;ee&&jM(s,ee);const ve=m.viewQuery,Ze=m.contentQueries;if(ve&&UM(s,ve),Ze&&zM(s,Ze),BM(s,m),Ja(s.outputs,m.outputs),ko(m)&&m.data.animation){const mt=s.data;mt.animation=(mt.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let N=0;N<b.length;N++){const ee=b[N];ee&&ee.ngInherit&&ee(s),ee===Zw&&(l=!1)}}o=Object.getPrototypeOf(o)}!function VM(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const m=s[h];m.hostVars=o+=m.hostVars,m.hostAttrs=jc(m.hostAttrs,l=jc(l,m.hostAttrs))}}(h)}function BM(s,o){for(const l in o.inputs){if(!o.inputs.hasOwnProperty(l)||s.inputs.hasOwnProperty(l))continue;const h=o.inputs[l];if(void 0!==h&&(s.inputs[l]=h,s.declaredInputs[l]=o.declaredInputs[l],null!==o.inputTransforms)){const m=Array.isArray(h)?h[0]:h;if(!o.inputTransforms.hasOwnProperty(m))continue;s.inputTransforms??={},s.inputTransforms[m]=o.inputTransforms[m]}}}function cv(s){return s===Wa?{}:s===zr?[]:s}function UM(s,o){const l=s.viewQuery;s.viewQuery=l?(h,m)=>{o(h,m),l(h,m)}:o}function zM(s,o){const l=s.contentQueries;s.contentQueries=l?(h,m,b)=>{o(h,m,b),l(h,m,b)}:o}function jM(s,o){const l=s.hostBindings;s.hostBindings=l?(h,m)=>{o(h,m),l(h,m)}:o}function zD(s){const o=l=>{const h=(Array.isArray(s)?s:s()).map(m=>"function"==typeof m?{directive:hr(m),inputs:Wa,outputs:Wa}:{directive:hr(m.directive),inputs:WD(m.inputs),outputs:WD(m.outputs)});null===l.hostDirectives?(l.findHostDirectiveDefs=jD,l.hostDirectives=h):l.hostDirectives.unshift(...h)};return o.ngInherit=!0,o}function jD(s,o,l){if(null!==s.hostDirectives)for(const h of s.hostDirectives){const m=tr(h.directive);KM(m.declaredInputs,h.inputs),jD(m,o,l),l.set(m,h),o.push(m)}}function WD(s){if(void 0===s||0===s.length)return Wa;const o={};for(let l=0;l<s.length;l+=2)o[s[l]]=s[l+1];return o}function KM(s,o){for(const l in o)o.hasOwnProperty(l)&&(s[o[l]]=s[l])}function GD(s){const o=s.inputConfig,l={};for(const h in o)if(o.hasOwnProperty(h)){const m=o[h];Array.isArray(m)&&m[3]&&(l[h]=m[3])}s.inputTransforms=l}class op{}class KD{}function XM(s,o){return new uv(s,o??null,[])}class uv extends op{constructor(o,l,h){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nw(this);const m=No(o);this._bootstrapComponents=nd(m.bootstrap),this._r3Injector=rh(o,l,[{provide:op,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver},...h],co(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class dv extends KD{constructor(o){super(),this.moduleType=o}create(o){return new uv(this.moduleType,o,[])}}class XD extends op{constructor(o){super(),this.componentFactoryResolver=new Nw(this),this.instance=null;const l=new Ta([...o.providers,{provide:op,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver}],o.parent||Pl(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jw(s,o,l=null){return new XD({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}function hv(s){return!!eE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function eE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function uh(s,o,l){return s[o]=l}function n_(s,o){return s[o]}function Gl(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function ap(s,o,l,h){const m=Gl(s,o,l);return Gl(s,o+1,h)||m}function fv(s,o,l,h,m){const b=ap(s,o,l,h);return Gl(s,o+2,m)||b}function Kl(s,o,l,h,m,b){const N=ap(s,o,l,h);return ap(s,o+2,m,b)||N}function xs(s,o,l,h,m,b,N,ee,ve,Ze){const mt=l+vr,Ht=o.firstCreatePass?function In(s,o,l,h,m,b,N,ee,ve){const Ze=o.consts,mt=Qf(o,s,4,N||null,ee||null);zy(o,l,mt,z(Ze,ve)),J_(o,mt);const Ht=mt.tView=G0(2,mt,h,m,b,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Ze,null);return null!==o.queries&&(o.queries.template(o,mt),Ht.queries=o.queries.embeddedTView(mt)),mt}(mt,o,s,h,m,b,N,ee,ve):o.data[mt];cu(Ht,!1);const gn=tE(o,s,Ht,l);Rf()&&Fy(o,s,gn,Ht),du(gn,s);const vn=Q0(gn,s,gn,Ht);return s[mt]=vn,im(s,vn),function vD(s,o,l){return Uw(s,o,l)}(vn,Ht,s),Eu(Ht)&&tm(o,s,Ht),null!=ve&&H0(s,Ht,Ze),Ht}function i_(s,o,l,h,m,b,N,ee){const ve=li(),Ze=As();return xs(ve,Ze,s,o,l,h,m,z(Ze.consts,b),N,ee),i_}let tE=function nE(s,o,l,h){return Md(!0),o[Ki].createComment("")};function ad(s,o,l,h){const m=li();return Gl(m,Ad(),o)&&(As(),function Nd(s,o,l,h,m,b){const N=lu(s,o);Y0(o[Ki],N,b,s.value,l,h,m)}(Ha(),m,s,o,l,h)),ad}function xm(s,o,l,h){return Gl(s,Ad(),l)?o+_r(l)+h:Ms}function Cv(s,o){return s<<17|o<<2}function cc(s){return s>>17&32767}function Sv(s){return 2|s}function ff(s){return(131068&s)>>2}function Dv(s,o){return-131069&s|o<<2}function hT(s){return 1|s}function Tv(s,o,l,h){const m=s[l+1],b=null===o;let N=h?cc(m):ff(m),ee=!1;for(;0!==N&&(!1===ee||b);){const Ze=s[N+1];kv(s[N],o)&&(ee=!0,s[N+1]=h?hT(Ze):Sv(Ze)),N=h?cc(Ze):ff(Ze)}ee&&(s[l+1]=h?Sv(m):hT(m))}function kv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&tu(s,o)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bo(s){return s.substring(br.key,br.keyEnd)}function Iv(s){return s.substring(br.value,br.valueEnd)}function zd(s,o){const l=br.textEnd;return l===o?-1:(o=br.keyEnd=function j2(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,br.key=o,l),l_(s,o,l))}function vO(s,o){const l=br.textEnd;let h=br.key=l_(s,o,l);return l===h?-1:(h=br.keyEnd=function W2(s,o,l){let h;for(;o<l&&(45===(h=s.charCodeAt(o))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)o++;return o}(s,h,l),h=wO(s,h,l),h=br.value=l_(s,h,l),h=br.valueEnd=function H2(s,o,l){let h=-1,m=-1,b=-1,N=o,ee=N;for(;N<l;){const ve=s.charCodeAt(N++);if(59===ve)return ee;34===ve||39===ve?ee=N=EO(s,ve,N,l):o===N-4&&85===b&&82===m&&76===h&&40===ve?ee=N=EO(s,41,N,l):ve>32&&(ee=N),b=m,m=h,h=-33&ve}return ee}(s,h,l),wO(s,h,l))}function bO(s){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=s.length}function l_(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function wO(s,o,l,h){return(o=l_(s,o,l))<l&&o++,o}function EO(s,o,l,h){let m=-1,b=l;for(;b<h;){const N=s.charCodeAt(b++);if(N==o&&92!==m)return b;m=92==N&&92===m?0:N}throw new Error}function pT(s,o,l){const h=li();return Gl(h,Ad(),o)&&pa(As(),Ha(),h,s,o,h[Ki],l,!1),pT}function mT(s,o,l,h,m){const N=m?"class":"style";Mg(s,l,o.inputs[N],N,h)}function gT(s,o,l){return jd(s,o,l,!1),gT}function c_(s,o){return jd(s,o,null,!0),c_}function cd(s){Bu(vT,G2,s,!1)}function G2(s,o){for(let l=function yO(s){return bO(s),vO(s,l_(s,0,br.textEnd))}(o);l>=0;l=vO(o,l))vT(s,bo(o),Iv(o))}function Xl(s){Bu(mf,Dc,s,!0)}function Dc(s,o){for(let l=function fT(s){return bO(s),zd(s,l_(s,0,br.textEnd))}(o);l>=0;l=zd(o,l))fl(s,bo(o),!0)}function jd(s,o,l,h){const m=li(),b=As(),N=qc(2);b.firstUpdatePass&&Vs(b,s,N,h),o!==Ms&&Gl(m,N,o)&&u_(b,b.data[wc()],m,m[Ki],s,m[N+1]=function TO(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=co(Ju(s)))),s}(o,l),h,N)}function Bu(s,o,l,h){const m=As(),b=qc(2);m.firstUpdatePass&&Vs(m,null,b,h);const N=li();if(l!==Ms&&Gl(N,b,l)){const ee=m.data[wc()];if(wT(ee,h)&&!_T(m,b)){let ve=h?ee.classesWithoutHost:ee.stylesWithoutHost;null!==ve&&(l=xa(ve,l||"")),mT(m,ee,N,l,h)}else!function Av(s,o,l,h,m,b,N,ee){m===Ms&&(m=zr);let ve=0,Ze=0,mt=0<m.length?m[0]:null,Ht=0<b.length?b[0]:null;for(;null!==mt||null!==Ht;){const gn=ve<m.length?m[ve+1]:void 0,vn=Ze<b.length?b[Ze+1]:void 0;let ci,$n=null;mt===Ht?(ve+=2,Ze+=2,gn!==vn&&($n=Ht,ci=vn)):null===Ht||null!==mt&&mt<Ht?(ve+=2,$n=mt):(Ze+=2,$n=Ht,ci=vn),null!==$n&&u_(s,o,l,h,$n,ci,N,ee),mt=ve<m.length?m[ve]:null,Ht=Ze<b.length?b[Ze]:null}}(m,ee,N,N[Ki],N[b+1],N[b+1]=function DO(s,o,l){if(null==l||""===l)return zr;const h=[],m=Ju(l);if(Array.isArray(m))for(let b=0;b<m.length;b++)s(h,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&s(h,b,m[b]);else"string"==typeof m&&o(h,m);return h}(s,o,l),h,b)}}function _T(s,o){return o>=s.expandoStartIndex}function Vs(s,o,l,h){const m=s.data;if(null===m[l+1]){const b=m[wc()],N=_T(s,l);wT(b,h)&&null===o&&!N&&(o=!1),o=function xO(s,o,l,h){const m=Kb(s);let b=h?o.residualClasses:o.residualStyles;if(null===m)0===(h?o.classBindings:o.styleBindings)&&(l=pf(l=fE(null,s,o,l,h),o.attrs,h),b=null);else{const N=o.directiveStylingLast;if(-1===N||s[N]!==m)if(l=fE(m,s,o,l,h),null===b){let ve=function CO(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==ff(h))return s[cc(h)]}(s,o,h);void 0!==ve&&Array.isArray(ve)&&(ve=fE(null,s,o,ve[1],h),ve=pf(ve,o.attrs,h),function yT(s,o,l,h){s[cc(l?o.classBindings:o.styleBindings)]=h}(s,o,h,ve))}else b=function SO(s,o,l){let h;const m=o.directiveEnd;for(let b=1+o.directiveStylingLast;b<m;b++)h=pf(h,s[b].hostAttrs,l);return pf(h,o.attrs,l)}(s,o,h)}return void 0!==b&&(h?o.residualClasses=b:o.residualStyles=b),l}(m,b,o,h),function vl(s,o,l,h,m,b){let N=b?o.classBindings:o.styleBindings,ee=cc(N),ve=ff(N);s[h]=l;let mt,Ze=!1;if(Array.isArray(l)?(mt=l[1],(null===mt||tu(l,mt)>0)&&(Ze=!0)):mt=l,m)if(0!==ve){const gn=cc(s[ee+1]);s[h+1]=Cv(gn,ee),0!==gn&&(s[gn+1]=Dv(s[gn+1],h)),s[ee+1]=function uT(s,o){return 131071&s|o<<17}(s[ee+1],h)}else s[h+1]=Cv(ee,0),0!==ee&&(s[ee+1]=Dv(s[ee+1],h)),ee=h;else s[h+1]=Cv(ve,0),0===ee?ee=h:s[ve+1]=Dv(s[ve+1],h),ve=h;Ze&&(s[h+1]=Sv(s[h+1])),Tv(s,mt,h,!0),Tv(s,mt,h,!1),function nl(s,o,l,h,m){const b=m?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof o&&tu(b,o)>=0&&(l[h+1]=hT(l[h+1]))}(o,mt,s,h,b),N=Cv(ee,ve),b?o.classBindings=N:o.styleBindings=N}(m,b,o,l,N,h)}}function fE(s,o,l,h,m){let b=null;const N=l.directiveEnd;let ee=l.directiveStylingLast;for(-1===ee?ee=l.directiveStart:ee++;ee<N&&(b=o[ee],h=pf(h,b.hostAttrs,m),b!==s);)ee++;return null!==s&&(l.directiveStylingLast=ee),h}function pf(s,o,l){const h=l?1:2;let m=-1;if(null!==o)for(let b=0;b<o.length;b++){const N=o[b];"number"==typeof N?m=N:m===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fl(s,N,!!l||o[++b]))}return void 0===s?null:s}function vT(s,o,l){fl(s,o,Ju(l))}function mf(s,o,l){const h=String(o);""!==h&&!h.includes(" ")&&fl(s,h,l)}function u_(s,o,l,h,m,b,N,ee){if(!(3&o.type))return;const ve=s.data,Ze=ve[ee+1],mt=function dT(s){return!(1&~s)}(Ze)?bT(ve,o,l,m,ff(Ze),N):void 0;gf(mt)||(gf(b)||function cT(s){return!(2&~s)}(Ze)&&(b=bT(ve,null,l,m,ee,N)),function z0(s,o,l,h,m){if(o)m?s.addClass(l,h):s.removeClass(l,h);else{let b=-1===h.indexOf("-")?void 0:Oy.DashCase;null==m?s.removeStyle(l,h,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=Oy.Important),s.setStyle(l,h,m,b))}}(h,N,Af(wc(),l),m,b))}function bT(s,o,l,h,m,b){const N=null===o;let ee;for(;m>0;){const ve=s[m],Ze=Array.isArray(ve),mt=Ze?ve[1]:ve,Ht=null===mt;let gn=l[m+1];gn===Ms&&(gn=Ht?zr:void 0);let vn=Ht?Da(gn,h):mt===h?gn:void 0;if(Ze&&!gf(vn)&&(vn=Da(ve,h)),gf(vn)&&(ee=vn,N))return ee;const $n=s[m+1];m=N?cc($n):ff($n)}if(null!==o){let ve=b?o.residualClasses:o.residualStyles;null!=ve&&(ee=Da(ve,h))}return ee}function gf(s){return void 0!==s}function wT(s,o){return!!(s.flags&(o?8:16))}function pE(s,o,l){Bu(fl,Dc,xm(li(),s,o,l),!0)}class uc{destroy(o){}updateValue(o,l){}swap(o,l){const h=Math.min(o,l),m=Math.max(o,l),b=this.detach(m);if(m-h>1){const N=this.detach(h);this.attach(h,b),this.attach(m,N)}else this.attach(h,b)}move(o,l){this.attach(l,this.detach(o))}}function Mv(s,o,l,h,m){return s===l&&Object.is(o,h)?1:Object.is(m(s,o),m(l,h))?-1:0}function xT(s,o,l,h){return!(void 0===o||!o.has(h)||(s.attach(l,o.get(h)),o.delete(h),0))}function IO(s,o,l,h,m){if(xT(s,o,h,l(h,m)))s.updateValue(h,m);else{const b=s.create(h,m);s.attach(h,b)}}function AO(s,o,l,h){const m=new Set;for(let b=o;b<=l;b++)m.add(h(b,s.at(b)));return m}class MO{constructor(){this.kvMap=new Map,this._vMap=void 0}has(o){return this.kvMap.has(o)}delete(o){if(!this.has(o))return!1;const l=this.kvMap.get(o);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(o,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(o),!0}get(o){return this.kvMap.get(o)}set(o,l){if(this.kvMap.has(o)){let h=this.kvMap.get(o);void 0===this._vMap&&(this._vMap=new Map);const m=this._vMap;for(;m.has(h);)h=m.get(h);m.set(h,l)}else this.kvMap.set(o,l)}forEach(o){for(let[l,h]of this.kvMap)if(o(h,l),void 0!==this._vMap){const m=this._vMap;for(;m.has(h);)h=m.get(h),o(h,l)}}}function OO(s,o){fu("NgControlFlow");const l=li(),h=Ad(),m=l[h]!==Ms?l[h]:-1,b=-1!==m?gE(l,vr+m):void 0;if(Gl(l,h,s)){const ee=S(null);try{if(void 0!==b&&nw(b,0),-1!==s){const ve=vr+s,Ze=gE(l,ve),mt=CT(l[Un],ve),Ht=rp(Ze,mt.tView.ssrId);rm(Ze,Bs(l,mt,o,{dehydratedView:Ht}),0,tp(mt,Ht))}}finally{S(ee)}}else if(void 0!==b){const ee=AS(b,0);void 0!==ee&&(ee[Qr]=o)}}class J2{constructor(o,l,h){this.lContainer=o,this.$implicit=l,this.$index=h}get $count(){return this.lContainer.length-Ia}}function RO(s){return s}function NO(s,o){return o}class eF{constructor(o,l,h){this.hasEmptyBlock=o,this.trackByFn=l,this.liveCollection=h}}function PO(s,o,l,h,m,b,N,ee,ve,Ze,mt,Ht,gn){fu("NgControlFlow");const vn=li(),$n=As(),ci=void 0!==ve,Fi=li(),Wi=ee?N.bind(Fi[cs][Qr]):N,xi=new eF(ci,Wi);Fi[vr+s]=xi,xs(vn,$n,s+1,o,l,h,m,z($n.consts,b)),ci&&xs(vn,$n,s+2,ve,Ze,mt,Ht,z($n.consts,gn))}class tF extends uc{constructor(o,l,h){super(),this.lContainer=o,this.hostLView=l,this.templateTNode=h,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ia}at(o){return this.getLView(o)[Qr].$implicit}attach(o,l){const h=l[is];this.needsIndexUpdate||=o!==this.length,rm(this.lContainer,l,o,tp(this.templateTNode,h))}detach(o){return this.needsIndexUpdate||=o!==this.length-1,function nF(s,o){return xg(s,o)}(this.lContainer,o)}create(o,l){const h=rp(this.lContainer,this.templateTNode.tView.ssrId),m=Bs(this.hostLView,this.templateTNode,new J2(this.lContainer,l,o),{dehydratedView:h});return this.operationsCounter?.recordCreate(),m}destroy(o){Py(o[Un],o),this.operationsCounter?.recordDestroy()}updateValue(o,l){this.getLView(o)[Qr].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let o=0;o<this.length;o++)this.getLView(o)[Qr].$index=o}getLView(o){return function iF(s,o){return AS(s,o)}(this.lContainer,o)}}function FO(s){const o=S(null),l=wc();try{const h=li(),m=h[Un],b=h[l],N=l+1,ee=gE(h,N);if(void 0===b.liveCollection){const Ze=CT(m,N);b.liveCollection=new tF(ee,h,Ze)}else b.liveCollection.reset();const ve=b.liveCollection;if(function Z2(s,o,l){let h,m,b=0,N=s.length-1;if(Array.isArray(o)){let ve=o.length-1;for(;b<=N&&b<=ve;){const Ze=s.at(b),mt=o[b],Ht=Mv(b,Ze,b,mt,l);if(0!==Ht){Ht<0&&s.updateValue(b,mt),b++;continue}const gn=s.at(N),vn=o[ve],$n=Mv(N,gn,ve,vn,l);if(0!==$n){$n<0&&s.updateValue(N,vn),N--,ve--;continue}const ci=l(b,Ze),Fi=l(N,gn),Wi=l(b,mt);if(Object.is(Wi,Fi)){const xi=l(ve,vn);Object.is(xi,ci)?(s.swap(b,N),s.updateValue(N,vn),ve--,N--):s.move(N,b),s.updateValue(b,mt),b++}else if(h??=new MO,m??=AO(s,b,N,l),xT(s,h,b,Wi))s.updateValue(b,mt),b++,N++;else if(m.has(Wi))h.set(ci,s.detach(b)),N--;else{const xi=s.create(b,o[b]);s.attach(b,xi),b++,N++}}for(;b<=ve;)IO(s,h,l,b,o[b]),b++}else if(null!=o){const ve=o[Symbol.iterator]();let Ze=ve.next();for(;!Ze.done&&b<=N;){const mt=s.at(b),Ht=Ze.value,gn=Mv(b,mt,b,Ht,l);if(0!==gn)gn<0&&s.updateValue(b,Ht),b++,Ze=ve.next();else{h??=new MO,m??=AO(s,b,N,l);const vn=l(b,Ht);if(xT(s,h,b,vn))s.updateValue(b,Ht),b++,N++,Ze=ve.next();else if(m.has(vn)){const $n=l(b,mt);h.set($n,s.detach(b)),N--}else s.attach(b,s.create(b,Ht)),b++,N++,Ze=ve.next()}}for(;!Ze.done;)IO(s,h,l,s.length,Ze.value),Ze=ve.next()}for(;b<=N;)s.destroy(s.detach(N--));h?.forEach(ve=>{s.destroy(ve)})}(ve,s,b.trackByFn),ve.updateIndexes(),b.hasEmptyBlock){const Ze=Ad(),mt=0===ve.length;if(Gl(h,Ze,mt)){const Ht=l+2,gn=gE(h,Ht);if(mt){const vn=CT(m,Ht),$n=rp(gn,vn.tView.ssrId);rm(gn,Bs(h,vn,void 0,{dehydratedView:$n}),0,tp(vn,$n))}else nw(gn,0)}}}finally{S(o)}}function gE(s,o){return s[o]}function CT(s,o){return Mf(s,o)}function km(s,o,l,h){const m=li(),b=As(),N=vr+s,ee=m[Ki],ve=b.firstCreatePass?function _f(s,o,l,h,m,b){const N=o.consts,ve=Qf(o,s,2,h,z(N,m));return zy(o,l,ve,z(N,b)),null!==ve.attrs&&Jg(ve,ve.attrs,!1),null!==ve.mergedAttrs&&Jg(ve,ve.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,ve),ve}(N,b,m,o,l,h):b.data[N],Ze=ST(b,m,ve,ee,o,s);m[N]=Ze;const mt=Eu(ve);return cu(ve,!0),j0(ee,Ze,ve),!function Jc(s){return!(32&~s.flags)}(ve)&&Rf()&&Fy(b,m,Ze,ve),0===function ps(){return Li.lFrame.elementDepthCount}()&&du(Ze,m),function nh(){Li.lFrame.elementDepthCount++}(),mt&&(tm(b,m,ve),W0(b,ve,m)),null!==h&&H0(m,ve),km}function h_(){let s=ha();X_()?Wb():(s=s.parent,cu(s,!1));const o=s;(function Vk(s){return Li.skipHydrationRootTNode===s})(o)&&function Uk(){Li.skipHydrationRootTNode=null}(),function Qh(){Li.lFrame.elementDepthCount--}();const l=As();return l.firstCreatePass&&(J_(l,s),gd(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Hk(s){return!!(8&s.flags)}(o)&&mT(l,o,li(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Gk(s){return!!(16&s.flags)}(o)&&mT(l,o,li(),o.stylesWithoutHost,!1),h_}function _E(s,o,l,h){return km(s,o,l,h),h_(),_E}let ST=(s,o,l,h,m,b)=>(Md(!0),Ry(h,m,function qb(){return Li.lFrame.currentNamespace}()));function Ov(s,o,l){const h=li(),m=As(),b=s+vr,N=m.firstCreatePass?function $O(s,o,l,h,m){const b=o.consts,N=z(b,h),ee=Qf(o,s,8,"ng-container",N);return null!==N&&Jg(ee,N,!0),zy(o,l,ee,z(b,m)),null!==o.queries&&o.queries.elementStart(o,ee),ee}(b,m,h,o,l):m.data[b];cu(N,!0);const ee=DT(m,h,N,s);return h[b]=ee,Rf()&&Fy(m,h,ee,N),du(ee,h),Eu(N)&&(tm(m,h,N),W0(m,N,h)),null!=l&&H0(h,N),Ov}function Rv(){let s=ha();const o=As();return X_()?Wb():(s=s.parent,cu(s,!1)),o.firstCreatePass&&(J_(o,s),gd(s)&&o.queries.elementEnd(s)),Rv}function Nv(s,o,l){return Ov(s,o,l),Rv(),Nv}let DT=(s,o,l,h)=>(Md(!0),F0(o[Ki],""));function f_(){return li()}function Am(s,o,l){const h=li();return Gl(h,Ad(),o)&&pa(As(),Ha(),h,s,o,h[Ki],l,!0),Am}function p_(s,o,l){const h=li();if(Gl(h,Ad(),o)){const b=As(),N=Ha();pa(b,N,h,s,o,Wy(Kb(b.data),N,h),l,!0)}return p_}const zh=void 0;var VO=["en",[["a","p"],["AM","PM"],zh],[["AM","PM"],zh,zh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zh,"{1} 'at' {0}",zh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BO(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let Mm={};function yE(s){const o=function UO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=kT(o);if(l)return l;const h=o.split("-")[0];if(l=kT(h),l)return l;if("en"===h)return VO;throw new Oi(701,!1)}function m_(s){return yE(s)[Om.PluralCase]}function kT(s){return s in Mm||(Mm[s]=Rs.ng&&Rs.ng.common&&Rs.ng.common.locales&&Rs.ng.common.locales[s]),Mm[s]}var Om=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Om||{});const IT=["zero","one","two","few","many"],g_="en-US",bE={marker:"element"},wE={marker:"ICU"};var ud=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(ud||{});let zO=g_;let Fv=0,Lv=0;let Rm=(s,o,l,h)=>(Md(!0),function xE(s,o,l){const h=s[Ki];switch(l){case Node.COMMENT_NODE:return F0(h,o);case Node.TEXT_NODE:return P0(h,o);case Node.ELEMENT_NODE:return Ry(h,o,null)}}(s,l,h));function MT(s,o,l,h){const m=l[Ki];let N,b=null;for(let ee=0;ee<o.length;ee++){const ve=o[ee];if("string"==typeof ve){const Ze=o[++ee];null===l[Ze]&&(l[Ze]=Rm(l,Ze,ve,Node.TEXT_NODE))}else if("number"==typeof ve)switch(1&ve){case 0:const Ze=WS(ve);let mt,Ht;if(null===b&&(b=Ze,N=Du(m,h)),Ze===b?(mt=h,Ht=N):(mt=null,Ht=vo(l[Ze])),null!==Ht){const ci=Qy(ve);qf(m,Ht,l[ci],mt,!1);const Wi=np(s,ci);if(null!==Wi&&"object"==typeof Wi){const xi=Ug(Wi,l);null!==xi&&MT(s,Wi.create[xi],l,l[Wi.anchorIdx])}}break;case 1:const vn=o[++ee],$n=o[++ee];Y0(m,Af(ve>>>1,l),null,null,vn,$n,null)}else switch(ve){case wE:const Ze=o[++ee],mt=o[++ee];null===l[mt]&&du(l[mt]=Rm(l,mt,Ze,Node.COMMENT_NODE),l);break;case bE:const Ht=o[++ee],gn=o[++ee];null===l[gn]&&du(l[gn]=Rm(l,gn,Ht,Node.ELEMENT_NODE),l)}}}function GO(s,o,l,h,m){for(let b=0;b<l.length;b++){const N=l[b],ee=l[++b];if(N&m){let ve="";for(let Ze=b+1;Ze<=b+ee;Ze++){const mt=l[Ze];if("string"==typeof mt)ve+=mt;else if("number"==typeof mt)if(mt<0)ve+=_r(o[h-mt]);else{const Ht=mt>>>2;switch(3&mt){case 1:const gn=l[++Ze],vn=l[++Ze],$n=s.data[Ht];"string"==typeof $n?Y0(o[Ki],o[Ht],null,$n,gn,ve,vn):pa(s,$n,o,gn,ve,o[Ki],vn,!1);break;case 0:const ci=o[Ht];null!==ci&&hS(o[Ki],ci,ve);break;case 2:KO(s,np(s,Ht),o,ve);break;case 3:OT(s,np(s,Ht),h,o)}}}}else{const ve=l[b+1];if(ve>0&&!(3&~ve)){const mt=np(s,ve>>>2);o[mt.currentCaseLViewIndex]<0&&OT(s,mt,h,o)}}b+=ee}}function OT(s,o,l,h){let m=h[o.currentCaseLViewIndex];if(null!==m){let b=Fv;m<0&&(m=h[o.currentCaseLViewIndex]=~m,b=-1),GO(s,h,o.update[m],l,b)}}function KO(s,o,l,h){const m=function lF(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const h=function sF(s,o){const l=m_(o)(parseInt(s,10)),h=IT[l];return void 0!==h?h:"other"}(o,function aF(){return zO}());l=s.cases.indexOf(h),-1===l&&"other"!==h&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,h);if(Ug(o,l)!==m&&(XO(s,o,l),l[o.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const N=l[o.anchorIdx];N&&MT(s,o.create[m],l,N),function tM(s,o,l){QS(s,o,l)}(l,o.anchorIdx,m)}}function XO(s,o,l){let h=Ug(o,l);if(null!==h){const m=o.remove[h];for(let b=0;b<m.length;b++){const N=m[b];if(N>0){const ee=Af(N,l);null!==ee&&Dg(l[Ki],ee)}else XO(s,np(s,~N),l)}}}const Bv=/\ufffd(\d+):?\d*\ufffd/gi,YO=/\ufffd(\d+)\ufffd/,CE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,yf="\ufffd",qO=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Vv=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QO=/\uE500/g;function FT(s,o,l,h,m,b,N){const ee=kg(s,h,1,null);let ve=ee<<ud.SHIFT,Ze=Ap();o===Ze&&(Ze=null),null===Ze&&(ve|=ud.APPEND_EAGERLY),N&&(ve|=ud.COMMENT,function c2(s){void 0===N0&&(N0=s())}(LA)),m.push(ve,null===b?"":b);const mt=Jp(s,ee,N?32:1,null===b?"":b,null);zS(l,mt);const Ht=mt.index;return cu(mt,!1),null!==Ze&&o!==Ze&&function NA(s,o){let l=s.insertBeforeIndex;null===l?(yS(VS,US),l=s.insertBeforeIndex=[null,o]):(de(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(Ze,Ht),mt}function JO(s,o,l,h,m,b,N,ee){const ve=ee.match(Bv),mt=FT(o,l,h,N,m,ve?null:ee,!1).index;ve&&vf(b,ee,mt,null,0,null),s.push({kind:0,index:mt})}function vf(s,o,l,h,m,b){const N=s.length,ee=N+1;s.push(null,null);const ve=N+2,Ze=o.split(Bv);let mt=0;for(let Ht=0;Ht<Ze.length;Ht++){const gn=Ze[Ht];if(1&Ht){const vn=m+parseInt(gn,10);s.push(-1-vn),mt|=LT(vn)}else""!==gn&&s.push(gn)}return s.push(l<<2|(h?1:0)),h&&s.push(h,b),s[N]=mt,s[ee]=s.length-ve,mt}function LT(s){return 1<<Math.min(s,31)}function DE(s){let o,b,l="",h=0,m=!1;for(;null!==(o=qO.exec(s));)m?o[0]===`${yf}/*${b}${yf}`&&(h=o.index,m=!1):(l+=s.substring(h,o.index+o[0].length),b=o[1],m=!0);return l+=s.slice(h),l}function Uv(s,o,l,h,m,b,N){let ee=0;const ve={type:b.type,currentCaseLViewIndex:kg(o,l,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function $T(s,o,l){s.push(LT(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(h,b,N),function uw(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(o,N,ve);const Ze=b.values,mt=[];for(let Ht=0;Ht<Ze.length;Ht++){const gn=Ze[Ht],vn=[];for(let ci=0;ci<gn.length;ci++){const Fi=gn[ci];if("string"!=typeof Fi){const Wi=vn.push(Fi)-1;gn[ci]=`\x3c!--\ufffd${Wi}\ufffd--\x3e`}}const $n=[];mt.push($n),ee=Wd($n,o,ve,l,h,m,b.cases[Ht],gn.join(""),vn)|ee}ee&&function OE(s,o,l){s.push(o,1,l<<2|3)}(h,ee,N),s.push({kind:3,index:N,cases:mt,currentCaseLViewIndex:ve.currentCaseLViewIndex})}function kE(s){const o=[],l=[];let h=1,m=0;const b=IE(s=s.replace(CE,function(N,ee,ve){return h="select"===ve?0:1,m=parseInt(ee.slice(1),10),""}));for(let N=0;N<b.length;){let ee=b[N++].trim();1===h&&(ee=ee.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ee.length&&o.push(ee);const ve=IE(b[N++]);o.length>l.length&&l.push(ve)}return{type:h,mainBinding:m,cases:o,values:l}}function IE(s){if(!s)return[];let o=0;const l=[],h=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(s);){const ee=b.index;if("}"==b[0]){if(l.pop(),0==l.length){const ve=s.substring(o,ee);CE.test(ve)?h.push(kE(ve)):h.push(ve),o=ee+1}}else{if(0==l.length){const ve=s.substring(o,ee);h.push(ve),o=ee+1}l.push("{")}}const N=s.substring(o);return h.push(N),h}function Wd(s,o,l,h,m,b,N,ee,ve){const Ze=[],mt=[],Ht=[];l.cases.push(N),l.create.push(Ze),l.remove.push(mt),l.update.push(Ht);const vn=jC(nf()).getInertBodyElement(ee),$n=tl(vn)||vn;return $n?AE(s,o,l,h,m,Ze,mt,Ht,$n,b,ve,0):0}function AE(s,o,l,h,m,b,N,ee,ve,Ze,mt,Ht){let gn=0,vn=ve.firstChild;for(;vn;){const $n=kg(o,h,1,null);switch(vn.nodeType){case Node.ELEMENT_NODE:const ci=vn,Fi=ci.tagName.toLowerCase();if(I0.hasOwnProperty(Fi)){RE(b,bE,Fi,Ze,$n),o.data[$n]=Fi;const Co=ci.attributes;for(let Vc=0;Vc<Co.length;Vc++){const hd=Co.item(Vc),R_=hd.name.toLowerCase();hd.value.match(Bv)?KC.hasOwnProperty(R_)&&vf(ee,hd.value,$n,hd.name,0,Xp[R_]?Mh:null):nR(b,$n,hd)}const Ra={kind:1,index:$n,children:[]};s.push(Ra),gn=AE(Ra.children,o,l,h,m,b,N,ee,vn,$n,mt,Ht+1)|gn,ME(N,$n,Ht)}break;case Node.TEXT_NODE:const Wi=vn.textContent||"",xi=Wi.match(Bv);RE(b,null,xi?"":Wi,Ze,$n),ME(N,$n,Ht),xi&&(gn=vf(ee,Wi,$n,null,0,null)|gn),s.push({kind:0,index:$n});break;case Node.COMMENT_NODE:const rs=YO.exec(vn.textContent||"");if(rs){const Ra=mt[parseInt(rs[1],10)];RE(b,wE,"",Ze,$n),Uv(s,o,h,m,Ze,Ra,$n),fF(N,$n,Ht)}}vn=vn.nextSibling}return gn}function ME(s,o,l){0===l&&s.push(o)}function fF(s,o,l){0===l&&(s.push(~o),s.push(o))}function RE(s,o,l,h,m){null!==o&&s.push(o),s.push(l,m,function FA(s,o,l){return s|o<<17|l<<1}(0,h,m))}function nR(s,o,l){s.push(o<<1|1,l.name,l.value)}const NE=0,BT=/\[(\ufffd.+?\ufffd?)\]/,iR=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,rR=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,PE=/{([A-Z0-9_]+)}/g,sR=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,VT=/\/\*/,oR=/\d+\:(\d+)/;function __(s,o,l=-1){const h=As(),m=li(),b=vr+s,N=z(h.consts,o),ee=Ap();h.firstCreatePass&&function SE(s,o,l,h,m,b){const N=Ap(),ee=[],ve=[],Ze=[[]],mt=[[]];m=function TE(s,o){if(function GS(s){return-1===s}(o))return DE(s);{const l=s.indexOf(`:${o}${yf}`)+2+o.toString().length,h=s.search(new RegExp(`${yf}\\/\\*\\d+:${o}${yf}`));return DE(s.substring(l,h))}}(m,b);const Ht=function PT(s){return s.replace(QO," ")}(m).split(Vv);for(let gn=0;gn<Ht.length;gn++){let vn=Ht[gn];if(1&gn){const $n=47===vn.charCodeAt(0),ci=vn.charCodeAt($n?1:0),Fi=vr+Number.parseInt(vn.substring($n?2:1));if($n)Ze.shift(),mt.shift(),cu(Ap(),!1);else{const Wi=PA(s,Ze[0],Fi);Ze.unshift([]),cu(Wi,!0);const xi={kind:2,index:Fi,children:[],type:35===ci?0:1};mt[0].push(xi),mt.unshift(xi.children)}}else{const $n=IE(vn);for(let ci=0;ci<$n.length;ci++){let Fi=$n[ci];if(1&ci){const Wi=Fi;if("object"!=typeof Wi)throw new Error(`Unable to parse ICU expression in "${m}" message.`);const rs=FT(s,N,Ze[0],l,ee,"",!0).index;Uv(mt[0],s,l,ve,o,Wi,rs)}else""!==Fi&&JO(mt[0],s,N,Ze[0],ee,ve,l,Fi)}}}s.data[h]={create:ee,update:ve,ast:mt[0]}}(h,null===ee?0:ee.index,m,b,N,l),2===h.type?m[cs][yi]|=32:m[yi]|=32;const ve=h.data[b],mt=$0(h,ee===m[jr]?null:ee,m),Ht=ee&&8&ee.type?m[ee.index]:null;(function Fh(s,o,l,h){qS(s,o,l,h)})(m,b,ee,l),function HO(s,o,l,h){const m=s[Ki];for(let b=0;b<o.length;b++){const N=o[b++],Ze=(N&ud.APPEND_EAGERLY)===ud.APPEND_EAGERLY,mt=N>>>ud.SHIFT;let Ht=s[mt],gn=!1;null===Ht&&(Ht=s[mt]=Rm(s,mt,o[b],(N&ud.COMMENT)===ud.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),gn=Rf()),Ze&&null!==l&&gn&&qf(m,l,Ht,h,!1)}}(m,ve.create,mt,Ht),Y_(!0)}function y_(){Y_(!1)}function Nm(s,o,l){__(s,o,l),y_()}function v_(s){return function $v(s){s&&(Fv|=1<<Math.min(Lv,31)),Lv++}(Gl(li(),Ad(),s)),v_}function LE(s){!function EE(s,o,l){if(Lv>0){const h=s.data[l];GO(s,o,Array.isArray(h)?h:h.update,fa()-Lv-1,Fv)}Fv=0,Lv=0}(As(),li(),s+vr)}function wd(s,o={}){return function aR(s,o={}){let l=s;if(BT.test(s)){const h={},m=[NE];l=l.replace(iR,(b,N,ee)=>{const ve=N||ee,Ze=h[ve]||[];if(Ze.length||(ve.split("|").forEach(ci=>{const Fi=ci.match(oR),Wi=Fi?parseInt(Fi[1],10):NE,xi=VT.test(ci);Ze.push([Wi,xi,ci])}),h[ve]=Ze),!Ze.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ve}`);const mt=m[m.length-1];let Ht=0;for(let ci=0;ci<Ze.length;ci++)if(Ze[ci][0]===mt){Ht=ci;break}const[gn,vn,$n]=Ze[Ht];return vn?m.pop():mt!==gn&&m.push(gn),Ze.splice(Ht,1),$n})}return Object.keys(o).length&&(l=l.replace(rR,(h,m,b,N,ee,ve)=>o.hasOwnProperty(b)?`${m}${o[b]}${ve}`:h),l=l.replace(PE,(h,m)=>o.hasOwnProperty(m)?o[m]:h),l=l.replace(sR,(h,m)=>{if(o.hasOwnProperty(m)){const b=o[m];if(!b.length)throw new Error(`i18n postprocess: unmatched ICU - ${h} with key: ${m}`);return b.shift()}return h})),l}(s,o)}let UT=(s,o,l)=>{};function jv(s,o,l,h){const m=li(),b=As(),N=ha();return $E(b,m,m[Ki],N,s,o,h),jv}function Wv(s,o){const l=ha(),h=li(),m=As();return $E(m,h,Wy(Kb(m.data),l,h),l,s,o),Wv}function $E(s,o,l,h,m,b,N){const ee=Eu(h),Ze=s.firstCreatePass&&J0(s),mt=o[Qr],Ht=IS(o);let gn=!0;if(3&h.type||N){const ci=lu(h,o),Fi=N?N(ci):ci,Wi=Ht.length,xi=N?Co=>N(vo(Co[h.index])):h.index;let rs=null;if(!N&&ee&&(rs=function lR(s,o,l,h){const m=s.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const N=m[b];if(N===l&&m[b+1]===h){const ee=o[Ls],ve=m[b+2];return ee.length>ve?ee[ve]:null}"string"==typeof N&&(b+=2)}return null}(s,o,m,h.index)),null!==rs)(rs.__ngLastListenerFn__||rs).__ngNextListenerFn__=b,rs.__ngLastListenerFn__=b,gn=!1;else{b=zT(h,o,mt,b),UT(ci,m,b);const Co=l.listen(Fi,m,b);Ht.push(b,Co),Ze&&Ze.push(m,xi,Wi,Wi+1)}}else b=zT(h,o,mt,b);const vn=h.outputs;let $n;if(gn&&null!==vn&&($n=vn[m])){const ci=$n.length;if(ci)for(let Fi=0;Fi<ci;Fi+=2){const Ra=o[$n[Fi]][$n[Fi+1]].subscribe(b),Vc=Ht.length;Ht.push(b,Ra),Ze&&Ze.push(m,h.index,Vc,-(Vc+1))}}}function BE(s,o,l,h){const m=S(null);try{return Ku(6,o,l),!1!==l(h)}catch(b){return Hy(s,b),!1}finally{Ku(7,o,l),S(m)}}function zT(s,o,l,h){return function m(b){if(b===Function)return h;Pg(s.componentOffset>-1?xu(s.index,o):o,5);let ee=BE(o,l,h,b),ve=m.__ngNextListenerFn__;for(;ve;)ee=BE(o,l,ve,b)&&ee,ve=ve.__ngNextListenerFn__;return ee}}function fp(s=1){return function Jx(s){return(Li.lFrame.contextLView=function tt(s,o){for(;s>0;)o=o[ls],s--;return o}(s,Li.lFrame.contextLView))[Qr]}(s)}function mF(s,o){let l=null;const h=function iu(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let m=0;m<o.length;m++){const b=o[m];if("*"!==b){if(null===h?gc(s,b,!0):qd(h,b))return m}else l=m}return l}function cR(s){const o=li()[cs][jr];if(!o.projection){const h=o.projection=function zo(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}(s?s.length:1,null),m=h.slice();let b=o.child;for(;null!==b;){if(128!==b.type){const N=s?mF(b,s):0;null!==N&&(m[N]?m[N].projectionNext=b:h[N]=b,m[N]=b)}b=b.next}}}function Hv(s,o=0,l,h,m,b){const N=li(),ee=As(),ve=h?s+1:null;null!==ve&&xs(N,ee,ve,h,m,b,null,l);const Ze=Qf(ee,vr+s,16,null,l||null);null===Ze.projection&&(Ze.projection=o),Wb();const Ht=!N[is]||Ip();null===N[cs][jr].projection[Ze.projection]&&null!==ve?function gF(s,o,l){const h=vr+l,m=o.data[h],b=s[h],N=rp(b,m.tView.ssrId);rm(b,Bs(s,m,void 0,{dehydratedView:N}),0,tp(m,N))}(N,ee,ve):Ht&&32&~Ze.flags&&function tA(s,o,l){$y(o[Ki],0,o,l,L0(s,l,o),mS(l.parent||o[jr],l,o))}(ee,N,Ze)}function mR(s,o,l,h){SD(s,o,l,h)}function gR(s,o,l){!function CD(s,o,l){const h=As();return h.firstCreatePass&&(DD(h,new wD(s,o,l),-1),!(2&~o)&&(h.staticViewQueries=!0)),xD(h,li(),o)}(s,o,l)}function _R(s){const o=li(),l=As(),h=Xb();q_(h+1);const m=Xw(l,h);if(s.dirty&&function Xi(s){return!(4&~s[yi])}(o)===!(2&~m.metadata.flags)){if(null===m.matches)s.reset([]);else{const b=TD(o,h);s.reset(b,h0),s.notifyOnChanges()}return!0}return!1}function yR(){return Kw(li(),Xb())}function vR(s,o,l,h,m){!function ND(s,o){const l=s[C];l._lView=li(),l._queryIndex=o,l._queryList=Kw(l._lView,o),l._queryList.onDirty(()=>l._dirtyCounter.update(h=>h+1))}(o,SD(s,l,h,m))}function bR(s=1){q_(Xb()+s)}function wR(s){return fs(function ih(){return Li.lFrame.contextLView}(),vr+s)}function Xa(s,o=""){const l=li(),h=As(),m=s+vr,b=h.firstCreatePass?Qf(h,m,1,o,null):h.data[m],N=CR(h,l,b,o,s);l[m]=N,Rf()&&Fy(h,l,N,b),cu(b,!1)}let CR=(s,o,l,h,m)=>(Md(!0),P0(o[Ki],h));function GT(s){return HE("",s,""),GT}function HE(s,o,l){const h=li(),m=xm(h,s,o,l);return m!==Ms&&oh(h,wc(),m),HE}function KT(s,o,l,h,m){const b=li(),N=function hp(s,o,l,h,m,b){const ee=ap(s,fa(),l,m);return qc(2),ee?o+_r(l)+h+_r(m)+b:Ms}(b,s,o,l,h,m);return N!==Ms&&oh(b,wc(),N),KT}function wf(s,o,l,h,m,b,N){const ee=li(),ve=function Cm(s,o,l,h,m,b,N,ee){const Ze=fv(s,fa(),l,m,N);return qc(3),Ze?o+_r(l)+h+_r(m)+b+_r(N)+ee:Ms}(ee,s,o,l,h,m,b,N);return ve!==Ms&&oh(ee,wc(),ve),wf}
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function XT(s,o,l){AD(o)&&(o=o());const h=li();return Gl(h,Ad(),o)&&pa(As(),Ha(),h,s,o,h[Ki],l,!1),XT}function Qv(s,o){const l=AD(s);return l&&s.set(o),l}function YT(s,o){const l=li(),h=As(),m=ha();return $E(h,l,l[Ki],m,s,o),YT
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}function ZT(s,o,l,h,m){if(s=hr(s),Array.isArray(s))for(let b=0;b<s.length;b++)ZT(s[b],o,l,h,m);else{const b=As(),N=li(),ee=ha();let ve=Di(s)?s:hr(s.provide);const Ze=Ir(s),mt=1048575&ee.providerIndexes,Ht=ee.directiveStart,gn=ee.providerIndexes>>20;if(Di(s)||!s.multi){const vn=new Rp(Ze,m,cf),$n=t1(ve,o,m?mt:mt+gn,Ht);-1===$n?(ry(tg(ee,N),b,ve),JT(b,s,o.length),o.push(ve),ee.directiveStart++,ee.directiveEnd++,m&&(ee.providerIndexes+=1048576),l.push(vn),N.push(vn)):(l[$n]=vn,N[$n]=vn)}else{const vn=t1(ve,o,mt+gn,Ht),$n=t1(ve,o,mt,mt+gn),Fi=$n>=0&&l[$n];if(m&&!Fi||!m&&!(vn>=0&&l[vn])){ry(tg(ee,N),b,ve);const Wi=function DR(s,o,l,h,m){const b=new Rp(s,l,cf);return b.multi=[],b.index=o,b.componentProviders=0,e1(b,m,h&&!l),b}(m?TF:DF,l.length,m,h,Ze);!m&&Fi&&(l[$n].providerFactory=Wi),JT(b,s,o.length,0),o.push(ve),ee.directiveStart++,ee.directiveEnd++,m&&(ee.providerIndexes+=1048576),l.push(Wi),N.push(Wi)}else JT(b,s,vn>-1?vn:$n,e1(l[m?$n:vn],Ze,!m&&h));!m&&h&&Fi&&l[$n].componentProviders++}}}function JT(s,o,l,h){const m=Di(o),b=function Bi(s){return!!s.useClass}(o);if(m||b){const ve=(b?hr(o.useClass):o).prototype.ngOnDestroy;if(ve){const Ze=s.destroyHooks||(s.destroyHooks=[]);if(!m&&o.multi){const mt=Ze.indexOf(l);-1===mt?Ze.push(l,[h,ve]):Ze[mt+1].push(h,ve)}else Ze.push(l,ve)}}}function e1(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function t1(s,o,l,h){for(let m=l;m<h;m++)if(o[m]===s)return m;return-1}function DF(s,o,l,h){return n1(this.multi,[])}function TF(s,o,l,h){const m=this.multi;let b;if(this.providerFactory){const N=this.providerFactory.componentProviders,ee=Zh(l,l[Un],this.providerFactory.index,h);b=ee.slice(0,N),n1(m,b);for(let ve=N;ve<ee.length;ve++)b.push(ee[ve])}else b=[],n1(m,b);return b}function n1(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function TR(s,o=[]){return l=>{l.providersResolver=(h,m)=>function QT(s,o,l){const h=As();if(h.firstCreatePass){const m=ko(s);ZT(l,h.data,h.blueprint,m,!0),ZT(o,h.data,h.blueprint,m,!1)}}(h,m?m(s):s,o)}}let r1=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const h=me(0,l.type),m=h.length>0?Jw([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,m)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Cr({token:s,providedIn:"environment",factory:()=>new s(qr(pn))})}return s})();function YE(s){fu("NgStandalone"),s.getStandaloneInjector=o=>o.get(r1).getOrCreateStandaloneInjector(s)}function Fm(s,o,l){const h=s.\u0275cmp;h.directiveDefs=Ul(o,!1),h.pipeDefs=Ul(l,!0)}function QE(s,o,l){const h=ic()+s,m=li();return m[h]===Ms?uh(m,h,l?o.call(l):o()):n_(m,h)}function Wh(s,o,l,h){return MR(li(),ic(),s,o,l,h)}function s1(s,o,l,h,m){return OR(li(),ic(),s,o,l,h,m)}function AR(s,o,l,h,m,b){return RR(li(),ic(),s,o,l,h,m,b)}function o1(s,o,l,h,m,b,N){return function NR(s,o,l,h,m,b,N,ee,ve){const Ze=o+l;return Kl(s,Ze,m,b,N,ee)?uh(s,Ze+4,ve?h.call(ve,m,b,N,ee):h(m,b,N,ee)):Jv(s,Ze+4)}(li(),ic(),s,o,l,h,m,b,N)}function ZE(s,o,l,h,m,b,N,ee,ve,Ze){const mt=ic()+s,Ht=li();let gn=Kl(Ht,mt,l,h,m,b);return fv(Ht,mt+4,N,ee,ve)||gn?uh(Ht,mt+7,Ze?o.call(Ze,l,h,m,b,N,ee,ve):o(l,h,m,b,N,ee,ve)):n_(Ht,mt+7)}function Jv(s,o){const l=s[o];return l===Ms?void 0:l}function MR(s,o,l,h,m,b){const N=o+l;return Gl(s,N,m)?uh(s,N+1,b?h.call(b,m):h(m)):Jv(s,N+1)}function OR(s,o,l,h,m,b,N){const ee=o+l;return ap(s,ee,m,b)?uh(s,ee+2,N?h.call(N,m,b):h(m,b)):Jv(s,ee+2)}function RR(s,o,l,h,m,b,N,ee){const ve=o+l;return fv(s,ve,m,b,N)?uh(s,ve+3,ee?h.call(ee,m,b,N):h(m,b,N)):Jv(s,ve+3)}function FR(s,o){const l=As();let h;const m=s+vr;l.firstCreatePass?(h=function pp(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[m]=h,h.onDestroy&&(l.destroyHooks??=[]).push(m,h.onDestroy)):h=l.data[m];const b=h.factory||(h.factory=Jl(h.type)),ee=ho(cf);try{const ve=Np(!1),Ze=b();return Np(ve),function WT(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,li(),m,Ze),Ze}finally{ho(ee)}}function eb(s,o,l){const h=s+vr,m=li(),b=fs(m,h);return nb(m,h)?MR(m,ic(),o,b.transform,l,b):b.transform(l)}function LR(s,o,l,h){const m=s+vr,b=li(),N=fs(b,m);return nb(b,m)?OR(b,ic(),o,N.transform,l,h,N):N.transform(l,h)}function tb(s,o,l,h,m){const b=s+vr,N=li(),ee=fs(N,b);return nb(N,b)?RR(N,ic(),o,ee.transform,l,h,m,ee):ee.transform(l,h,m)}function nb(s,o){return s[Un].data[o].pure}function ib(s,o){return Yy(s,o)}class tN{constructor(o){this.full=o;const l=o.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}const zF=new tN("18.1.2");let nN=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const sx=new ln(""),oN=new ln("");let E1,fL=(()=>{class s{constructor(l,h,m){this._ngZone=l,this.registry=h,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,E1||(function pL(s){E1=s}(m),m.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ma.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,m){let b=-1;h&&h>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==b),l()},h)),this._callbacks.push({doneCb:l,timeoutId:b,updateCb:m})}whenStable(l,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,m),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,m){return[]}static#e=this.\u0275fac=function(h){return new(h||s)(qr(ma),qr(aN),qr(oN))};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac})}return s})(),aN=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return E1?.findTestabilityInTree(this,l,h)??null}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function x1(s){return!!s&&"function"==typeof s.then}function lN(s){return!!s&&"function"==typeof s.subscribe}const cN=new ln("");let C1=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=Si(cN,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const m of this.appInits){const b=m();if(x1(b))l.push(b);else if(lN(b)){const N=new Promise((ee,ve)=>{b.subscribe({complete:ee,error:ve})});l.push(N)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{h()}).catch(m=>{this.reject(m)}),0===l.length&&h(),this.initialized=!0}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const ox=new ln("");function hN(s,o){return Array.isArray(o)?o.reduce(hN,s):{...s,...o}}let mh=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Si(hC),this.afterRenderEffectManager=Si(qg),this.zonelessEnabled=Si(Wg),this.externalTestViews=new Set,this.beforeRender=new vt.B7,this.afterTick=new vt.B7,this.componentTypes=[],this.components=[],this.isStable=Si($f).hasPendingTasks.pipe((0,at.T)(l=>!l)),this._injector=Si(pn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const m=l instanceof id;if(!this._injector.get(C1).done)throw!m&&Rr(l),new Oi(405,!1);let N;N=m?l:this._injector.get(Hg).resolveComponentFactory(l),this.componentTypes.push(N.componentType);const ee=function mL(s){return s.isBoundToModule}(N)?void 0:this._injector.get(op),Ze=N.create(oo.NULL,[],h||N.selector,ee),mt=Ze.location.nativeElement,Ht=Ze.injector.get(sx,null);return Ht?.registerApplication(mt),Ze.onDestroy(()=>{this.detachView(Ze.hostView),ax(this.components,Ze),Ht?.unregisterApplication(mt)}),this._loadComponent(Ze),Ze}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new Oi(101,!1);const h=S(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(m){this.internalErrorHandler(m)}finally{this._runningTick=!1,S(h),this.afterTick.next()}}detectChangesInAttachedViews(l){let h=null;this._injector.destroyed||(h=this._injector.get(uf,null,{optional:!0}));let m=0;const b=this.afterRenderEffectManager;for(;m<10;){const N=0===m;if(l||!N){this.beforeRender.next(N);for(let{_lView:ee,notifyErrorHandler:ve}of this._views)_L(ee,ve,N,this.zonelessEnabled)}else h?.begin?.(),h?.end?.();if(m++,b.executeInternalCallbacks(),!this.allViews.some(({_lView:ee})=>Jt(ee))&&(b.execute(),!this.allViews.some(({_lView:ee})=>Jt(ee))))break}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;ax(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(ox,[]);[...this._bootstrapListeners,...h].forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>ax(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Oi(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ax(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function _L(s,o,l,h){(l||Jt(s))&&sm(s,o,l&&!h?0:1)}class yL{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let vL=(()=>{class s{compileModuleSync(l){return new dv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),b=nd(No(l).declarations).reduce((N,ee)=>{const ve=di(ee);return ve&&N.push(new pm(ve)),N},[]);return new yL(h,b)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),EL=(()=>{class s{constructor(){this.zone=Si(ma),this.changeDetectionScheduler=Si(dm),this.applicationRef=Si(mh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function S1({ngZoneFactory:s,ignoreChangesOutsideZone:o}){return s??=()=>new ma(D1()),[{provide:ma,useFactory:s},{provide:mc,multi:!0,useFactory:()=>{const l=Si(EL,{optional:!0});return()=>l.initialize()}},{provide:mc,multi:!0,useFactory:()=>{const l=Si(SL);return()=>{l.initialize()}}},{provide:hC,useFactory:CL},!0===o?{provide:tD,useValue:!0}:[]]}function CL(){const s=Si(ma),o=Si(uu);return l=>s.runOutsideAngular(()=>o.handleError(l))}function D1(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}let SL=(()=>{class s{constructor(){this.subscription=new It.y,this.initialized=!1,this.zone=Si(ma),this.pendingTasks=Si($f)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ma.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ma.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),lb=(()=>{class s{constructor(){this.appRef=Si(mh),this.taskService=Si($f),this.ngZone=Si(ma),this.zonelessEnabled=Si(Wg),this.disableScheduling=Si(tD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new It.y,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hm||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const h=this.useMicrotaskScheduler?xw:Ew;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=h(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ma.isInAngularZone())}tick(l){if(this.runningTick||this.appRef.destroyed)return;const h=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(l)},void 0,this.schedulerTickApplyArgs)}catch(m){throw this.taskService.remove(h),m}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(h)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static#e=this.\u0275fac=function(h){return new(h||s)};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const cx=new ln("",{providedIn:"root",factory:()=>Si(cx,ms.Optional|ms.SkipSelf)||function DL(){return typeof $localize<"u"&&$localize.locale||g_}()}),TL=new ln("",{providedIn:"root",factory:()=>"USD"}),k1=new ln("");let _N=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const m=function Tw(s="zone.js",o){return"noop"===s?new hm:"zone.js"===s?new ma(o):s}(h?.ngZone,D1({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return m.run(()=>{const b=h?.ignoreChangesOutsideZone,N=function YM(s,o,l){return new uv(s,o,l)}(l.moduleType,this.injector,[...S1({ngZoneFactory:()=>m,ignoreChangesOutsideZone:b}),{provide:dm,useExisting:lb}]),ee=N.injector.get(uu,null);return m.runOutsideAngular(()=>{const ve=m.onError.subscribe({next:Ze=>{ee.handleError(Ze)}});N.onDestroy(()=>{ax(this._modules,N),ve.unsubscribe()})}),function dN(s,o,l){try{const h=l();return x1(h)?h.catch(m=>{throw o.runOutsideAngular(()=>s.handleError(m)),m}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(ee,m,()=>{const ve=N.injector.get(C1);return ve.runInitializers(),ve.donePromise.then(()=>(function jO(s){"string"==typeof s&&(zO=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(cx,g_)||g_),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,h=[]){const m=hN({},h);return function wL(s,o,l){const h=new dv(l);return Promise.resolve(h)}(0,0,l).then(b=>this.bootstrapModuleFactory(b,m))}_moduleDoBootstrap(l){const h=l.injector.get(mh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new Oi(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oi(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(k1,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(h){return new(h||s)(qr(oo))};static#t=this.\u0275prov=Cr({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),mp=null;const yN=new ln("");function I1(s,o,l=[]){const h=`Platform: ${o}`,m=new ln(h);return(b=[])=>{let N=ux();if(!N||N.injector.get(yN,!1)){const ee=[...l,...b,{provide:m,useValue:!0}];s?s(ee):function IL(s){if(mp&&!mp.get(yN,!1))throw new Oi(400,!1);(function uN(){!function oe(s){je=s}(()=>{throw new Oi(600,!1)})})(),mp=s;const o=s.get(_N);(function vN(s){s.get(vy,null)?.forEach(l=>l())})(s)}(function D_(s=[],o){return oo.create({name:o,providers:[{provide:Kr,useValue:"platform"},{provide:k1,useValue:new Set([()=>mp=null])},...s]})}(ee,h))}return function A1(s){const o=ux();if(!o)throw new Oi(401,!1);return o}()}}function ux(){return mp?.get(_N)??null}function O1(){}let dx=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=Hh}return s})();function Hh(s){return function cb(s,o,l){if(_d(s)&&!l){const h=xu(s.index,o);return new om(h,h)}return 175&s.type?new om(o[cs],o):null}(ha(),li(),!(16&~s))}class F1{constructor(){}supports(o){return hv(o)}create(o){return new L1(o)}}const CN=(s,o)=>o;class L1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||CN}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,m=0,b=null;for(;l||h;){const N=!h||l&&l.currentIndex<fb(h,m,b)?l:h,ee=fb(N,m,b),ve=N.currentIndex;if(N===h)m--,h=h._nextRemoved;else if(l=l._next,null==N.previousIndex)m++;else{b||(b=[]);const Ze=ee-m,mt=ve-m;if(Ze!=mt){for(let gn=0;gn<Ze;gn++){const vn=gn<b.length?b[gn]:b[gn]=0,$n=vn+gn;mt<=$n&&$n<Ze&&(b[gn]=vn+1)}b[N.previousIndex]=mt-Ze}}ee!==ve&&o(N,ee,ve)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!hv(o))throw new Oi(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,b,N,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let ee=0;ee<this.length;ee++)b=o[ee],N=this._trackByFn(ee,b),null!==l&&Object.is(l.trackById,N)?(h&&(l=this._verifyReinsertion(l,b,N,ee)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,N,ee),h=!0),l=l._next}else m=0,function ZM(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,ee=>{N=this._trackByFn(m,ee),null!==l&&Object.is(l.trackById,N)?(h&&(l=this._verifyReinsertion(l,ee,N,m)),Object.is(l.item,ee)||this._addIdentityChange(l,ee)):(l=this._mismatch(l,ee,N,m),h=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,m){let b;return null===o?b=this._itTail:(b=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,b,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,b,m)):o=this._addAfter(new SN(l,h),b,m),o}_verifyReinsertion(o,l,h,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==b?o=this._reinsertAfter(b,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,b=o._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const m=null===l?this._itHead:l._next;return o._next=m,o._prev=l,null===m?this._itTail=o:m._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new hb),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class SN{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class hb{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new $1,this.map.set(l,h)),h.add(o)}get(o,l){const m=this.map.get(o);return m?m.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(s,o,l){const h=s.previousIndex;if(null===h)return h;let m=0;return l&&h<l.length&&(m=l[h]),h+o+m}class pb{constructor(){}supports(o){return o instanceof Map||eE(o)}create(){return new _x}}class _x{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||eE(o)))throw new Oi(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const b=this._getOrCreateRecordForKey(m,h);l=this._insertBeforeOrAppend(l,b)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,l);const b=m._prev,N=m._next;return b&&(b._next=N),N&&(N._prev=b),m._next=null,m._prev=null,m}const h=new B1(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class B1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mb(){return new T_([new F1])}let T_=(()=>{class s{static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:mb});constructor(l){this.factories=l}static create(l,h){if(null!=h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||mb()),deps:[[s,new dl,new Vo]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(null!=h)return h;throw new Oi(901,!1)}}return s})();function gb(){return new k_([new pb])}let k_=(()=>{class s{static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:gb});constructor(l){this.factories=l}static create(l,h){if(h){const m=h.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||gb()),deps:[[s,new dl,new Vo]]}}find(l){const h=this.factories.find(m=>m.supports(l));if(h)return h;throw new Oi(901,!1)}}return s})();const TN=I1(null,"core",[]);let LL=(()=>{class s{constructor(l){}static#e=this.\u0275fac=function(h){return new(h||s)(qr(mh))};static#t=this.\u0275mod=Lt({type:s});static#n=this.\u0275inj=Ns({})}return s})();const J1=new ln("");function ZN(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function JN(s,o=NaN){return isNaN(parseFloat(s))||isNaN(Number(s))?o:Number(s)}function lk(s,o){fu("NgSignals");const l=xe(s);return o?.equal&&(l[C].equal=o.equal),l}function nP(s){const o=S(null);try{return s()}finally{S(o)}}const Cb=new ln("",{providedIn:"root",factory:()=>Si(Cd)});let Cd=(()=>{class s{static#e=this.\u0275prov=Cr({token:s,providedIn:"root",factory:()=>new c$})}return s})();class c${constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Si($f),this.taskId=null}scheduleEffect(o){if(this.enqueue(o),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(o){const l=o.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const h=this.queues.get(l);h.has(o)||(this.queuedEffectCount++,h.add(o))}flush(){for(;this.queuedEffectCount>0;)for(const[o,l]of this.queues)null===o?this.flushQueue(l):o.run(()=>this.flushQueue(l))}flushQueue(o){for(const l of o)o.delete(l),this.queuedEffectCount--,l.run()}}class u${constructor(o,l,h,m,b,N){this.scheduler=o,this.effectFn=l,this.creationZone=h,this.injector=b,this.watcher=function Tt(s,o,l){const h=Object.create(ft);l&&(h.consumerAllowSignalWrites=!0),h.fn=s,h.schedule=o;const m=ve=>{h.cleanupFn=ve};return h.ref={notify:()=>U(h),run:()=>{if(null===h.fn)return;if(function E(){return w}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(h.dirty=!1,h.hasRun&&!ue(h))return;h.hasRun=!0;const ve=F(h);try{h.cleanupFn(),h.cleanupFn=Ot,h.fn(m)}finally{J(h,ve)}},cleanup:()=>h.cleanupFn(),destroy:()=>function N(ve){(function b(ve){return null===ve.fn&&null===ve.schedule})(ve)||(ce(ve),ve.cleanupFn(),ve.fn=null,ve.schedule=null,ve.cleanupFn=Ot)}(h),[C]:h},h.ref}(ee=>this.runEffect(ee),()=>this.schedule(),N),this.unregisterOnDestroy=m?.onDestroy(()=>this.destroy())}runEffect(o){try{this.effectFn(o)}catch(l){this.injector.get(uu,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function ck(s,o){fu("NgSignals"),!o?.injector&&zl();const l=o?.injector??Si(oo),h=!0!==o?.manualCleanup?l.get(ag):null,m=new u$(l.get(Cb),s,typeof Zone>"u"?null:Zone.current,h,l,o?.allowSignalWrites??!1),b=l.get(dx,null,{optional:!0});return b&&8&b._lView[yi]?(b._lView[yc]??=[]).push(m.watcher.notify):m.watcher.notify(),m}function iP(s){const o=di(s);if(!o)return null;const l=new pm(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4456:(hn,Re,_)=>{"use strict";_.d(Re,{$R:()=>lo,BC:()=>Nt,JD:()=>Eo,MJ:()=>Er,Q0:()=>Fa,X1:()=>Se,YN:()=>de,YS:()=>Va,cV:()=>Zr,cb:()=>Ut,cz:()=>J,gE:()=>Rn,j4:()=>sa,k0:()=>re,kq:()=>y,me:()=>L,qT:()=>bl,tU:()=>cl,vO:()=>vt,vS:()=>ra,xq:()=>Ea});var d=_(7404),A=_(316),w=_(2677),D=_(8757),C=_(3119),S=_(5443);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */let I=(()=>{class H{constructor(ie,ze){this._renderer=ie,this._elementRef=ze,this.onChange=Ct=>{},this.onTouched=()=>{}}setProperty(ie,ze){this._renderer.setProperty(this._elementRef.nativeElement,ie,ze)}registerOnTouched(ie){this.onTouched=ie}registerOnChange(ie){this.onChange=ie}setDisabledState(ie){this.setProperty("disabled",ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(d.sFG),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:H})}return H})(),E=(()=>{class H extends I{static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,features:[d.Vt3]})}return H})();const y=new d.nKC(""),R={provide:y,useExisting:(0,d.Rfq)(()=>L),multi:!0},M=new d.nKC("");let L=(()=>{class H extends I{constructor(ie,ze,Ct){super(ie,ze),this._compositionMode=Ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const H=(0,A.QT)()?(0,A.QT)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(ie){this.setProperty("value",ie??"")}_handleInput(ie){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ie)}_compositionStart(){this._composing=!0}_compositionEnd(ie){this._composing=!1,this._compositionMode&&this.onChange(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(M,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("input",function(Fn){return Ct._handleInput(Fn.target.value)})("blur",function(){return Ct.onTouched()})("compositionstart",function(){return Ct._compositionStart()})("compositionend",function(Fn){return Ct._compositionEnd(Fn.target.value)})},features:[d.Jv_([R]),d.Vt3]})}return H})();function U(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function F(H){return null!=H&&"number"==typeof H.length}const J=new d.nKC(""),ue=new d.nKC(""),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class re{static min(le){return function be(H){return le=>{if(U(le.value)||U(H))return null;const ie=parseFloat(le.value);return!isNaN(ie)&&ie<H?{min:{min:H,actual:le.value}}:null}}(le)}static max(le){return function j(H){return le=>{if(U(le.value)||U(H))return null;const ie=parseFloat(le.value);return!isNaN(ie)&&ie>H?{max:{max:H,actual:le.value}}:null}}(le)}static required(le){return X(le)}static requiredTrue(le){return se(le)}static email(le){return function W(H){return U(H.value)||ce.test(H.value)?null:{email:!0}}(le)}static minLength(le){return function xe(H){return le=>U(le.value)||!F(le.value)?null:le.value.length<H?{minlength:{requiredLength:H,actualLength:le.value.length}}:null}(le)}static maxLength(le){return q(le)}static pattern(le){return function Ae(H){if(!H)return Xe;let le,ie;return"string"==typeof H?(ie="","^"!==H.charAt(0)&&(ie+="^"),ie+=H,"$"!==H.charAt(H.length-1)&&(ie+="$"),le=new RegExp(ie)):(ie=H.toString(),le=H),ze=>{if(U(ze.value))return null;const Ct=ze.value;return le.test(Ct)?null:{pattern:{requiredPattern:ie,actualValue:Ct}}}}(le)}static nullValidator(le){return null}static compose(le){return ye(le)}static composeAsync(le){return Be(le)}}function X(H){return U(H.value)?{required:!0}:null}function se(H){return!0===H.value?null:{required:!0}}function q(H){return le=>F(le.value)&&le.value.length>H?{maxlength:{requiredLength:H,actualLength:le.value.length}}:null}function Xe(H){return null}function yt(H){return null!=H}function Je(H){return(0,d.jNT)(H)?(0,w.H)(H):H}function je(H){let le={};return H.forEach(ie=>{le=null!=ie?{...le,...ie}:le}),0===Object.keys(le).length?null:le}function K(H,le){return le.map(ie=>ie(H))}function ge(H){return H.map(le=>function oe(H){return!H.validate}(le)?le:ie=>le.validate(ie))}function ye(H){if(!H)return null;const le=H.filter(yt);return 0==le.length?null:function(ie){return je(K(ie,le))}}function Ne(H){return null!=H?ye(ge(H)):null}function Be(H){if(!H)return null;const le=H.filter(yt);return 0==le.length?null:function(ie){const ze=K(ie,le).map(Je);return(0,D.p)(ze).pipe((0,S.T)(je))}}function Qe(H){return null!=H?Be(ge(H)):null}function Pt(H,le){return null===H?[le]:Array.isArray(H)?[...H,le]:[H,le]}function Ce(H){return H._rawValidators}function Qt(H){return H._rawAsyncValidators}function Vt(H){return H?Array.isArray(H)?H:[H]:[]}function Tt(H,le){return Array.isArray(H)?H.includes(le):H===le}function Ot(H,le){const ie=Vt(le);return Vt(H).forEach(Ct=>{Tt(ie,Ct)||ie.push(Ct)}),ie}function ft(H,le){return Vt(le).filter(ie=>!Tt(H,ie))}class Oe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(le){this._rawValidators=le||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(le){this._rawAsyncValidators=le||[],this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(le){this._onDestroyCallbacks.push(le)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(le=>le()),this._onDestroyCallbacks=[]}reset(le=void 0){this.control&&this.control.reset(le)}hasError(le,ie){return!!this.control&&this.control.hasError(le,ie)}getError(le,ie){return this.control?this.control.getError(le,ie):null}}class Ye extends Oe{get formDirective(){return null}get path(){return null}}class vt extends Oe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class It{constructor(le){this._cd=le}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Nt=(()=>{class H extends It{constructor(ie){super(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(vt,2))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ze,Ct){2&ze&&d.AVh("ng-untouched",Ct.isUntouched)("ng-touched",Ct.isTouched)("ng-pristine",Ct.isPristine)("ng-dirty",Ct.isDirty)("ng-valid",Ct.isValid)("ng-invalid",Ct.isInvalid)("ng-pending",Ct.isPending)},features:[d.Vt3]})}return H})(),Ut=(()=>{class H extends It{constructor(ie){super(ie)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ze,Ct){2&ze&&d.AVh("ng-untouched",Ct.isUntouched)("ng-touched",Ct.isTouched)("ng-pristine",Ct.isPristine)("ng-dirty",Ct.isDirty)("ng-valid",Ct.isValid)("ng-invalid",Ct.isInvalid)("ng-pending",Ct.isPending)("ng-submitted",Ct.isSubmitted)},features:[d.Vt3]})}return H})();const Ri="VALID",Dn="INVALID",Kn="PENDING",xn="DISABLED";class Xn{}class pt extends Xn{constructor(le,ie){super(),this.value=le,this.source=ie}}class Le extends Xn{constructor(le,ie){super(),this.pristine=le,this.source=ie}}class We extends Xn{constructor(le,ie){super(),this.touched=le,this.source=ie}}class $e extends Xn{constructor(le,ie){super(),this.status=le,this.source=ie}}class gt extends Xn{constructor(le){super(),this.source=le}}class Zt extends Xn{constructor(le){super(),this.source=le}}function _n(H){return(Fe(H)?H.validators:H)||null}function De(H,le){return(Fe(le)?le.asyncValidators:H)||null}function Fe(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class An{constructor(le,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new C.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(le),this._assignAsyncValidators(ie)}get validator(){return this._composedValidatorFn}set validator(le){this._rawValidators=this._composedValidatorFn=le}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(le){this._rawAsyncValidators=this._composedAsyncValidatorFn=le}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(le){(0,d.O8t)(()=>this.statusReactive.set(le))}get valid(){return this.status===Ri}get invalid(){return this.status===Dn}get pending(){return this.status==Kn}get disabled(){return this.status===xn}get enabled(){return this.status!==xn}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(le){(0,d.O8t)(()=>this.pristineReactive.set(le))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(le){(0,d.O8t)(()=>this.touchedReactive.set(le))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(le){this._assignValidators(le)}setAsyncValidators(le){this._assignAsyncValidators(le)}addValidators(le){this.setValidators(Ot(le,this._rawValidators))}addAsyncValidators(le){this.setAsyncValidators(Ot(le,this._rawAsyncValidators))}removeValidators(le){this.setValidators(ft(le,this._rawValidators))}removeAsyncValidators(le){this.setAsyncValidators(ft(le,this._rawAsyncValidators))}hasValidator(le){return Tt(this._rawValidators,le)}hasAsyncValidator(le){return Tt(this._rawAsyncValidators,le)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(le={}){const ie=!1===this.touched;this.touched=!0;const ze=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsTouched({...le,sourceControl:ze}),ie&&!1!==le.emitEvent&&this._events.next(new We(!0,ze))}markAllAsTouched(le={}){this.markAsTouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:this}),this._forEachChild(ie=>ie.markAllAsTouched(le))}markAsUntouched(le={}){const ie=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ze=le.sourceControl??this;this._forEachChild(Ct=>{Ct.markAsUntouched({onlySelf:!0,emitEvent:le.emitEvent,sourceControl:ze})}),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,ze),ie&&!1!==le.emitEvent&&this._events.next(new We(!1,ze))}markAsDirty(le={}){const ie=!0===this.pristine;this.pristine=!1;const ze=le.sourceControl??this;this._parent&&!le.onlySelf&&this._parent.markAsDirty({...le,sourceControl:ze}),ie&&!1!==le.emitEvent&&this._events.next(new Le(!1,ze))}markAsPristine(le={}){const ie=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ze=le.sourceControl??this;this._forEachChild(Ct=>{Ct.markAsPristine({onlySelf:!0,emitEvent:le.emitEvent})}),this._parent&&!le.onlySelf&&this._parent._updatePristine(le,ze),ie&&!1!==le.emitEvent&&this._events.next(new Le(!0,ze))}markAsPending(le={}){this.status=Kn;const ie=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new $e(this.status,ie)),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.markAsPending({...le,sourceControl:ie})}disable(le={}){const ie=this._parentMarkedDirty(le.onlySelf);this.status=xn,this.errors=null,this._forEachChild(Ct=>{Ct.disable({...le,onlySelf:!0})}),this._updateValue();const ze=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new pt(this.value,ze)),this._events.next(new $e(this.status,ze)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...le,skipPristineCheck:ie},this),this._onDisabledChange.forEach(Ct=>Ct(!0))}enable(le={}){const ie=this._parentMarkedDirty(le.onlySelf);this.status=Ri,this._forEachChild(ze=>{ze.enable({...le,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent}),this._updateAncestors({...le,skipPristineCheck:ie},this),this._onDisabledChange.forEach(ze=>ze(!1))}_updateAncestors(le,ie){this._parent&&!le.onlySelf&&(this._parent.updateValueAndValidity(le),le.skipPristineCheck||this._parent._updatePristine({},ie),this._parent._updateTouched({},ie))}setParent(le){this._parent=le}getRawValue(){return this.value}updateValueAndValidity(le={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ze=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ri||this.status===Kn)&&this._runAsyncValidator(ze,le.emitEvent)}const ie=le.sourceControl??this;!1!==le.emitEvent&&(this._events.next(new pt(this.value,ie)),this._events.next(new $e(this.status,ie)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.updateValueAndValidity({...le,sourceControl:ie})}_updateTreeValidity(le={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(le)),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xn:Ri}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(le,ie){if(this.asyncValidator){this.status=Kn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ie};const ze=Je(this.asyncValidator(this));this._asyncValidationSubscription=ze.subscribe(Ct=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ct,{emitEvent:ie,shouldHaveEmitted:le})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const le=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,le}return!1}setErrors(le,ie={}){this.errors=le,this._updateControlsErrors(!1!==ie.emitEvent,this,ie.shouldHaveEmitted)}get(le){let ie=le;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((ze,Ct)=>ze&&ze._find(Ct),this)}getError(le,ie){const ze=ie?this.get(ie):this;return ze&&ze.errors?ze.errors[le]:null}hasError(le,ie){return!!this.getError(le,ie)}get root(){let le=this;for(;le._parent;)le=le._parent;return le}_updateControlsErrors(le,ie,ze){this.status=this._calculateStatus(),le&&this.statusChanges.emit(this.status),(le||ze)&&this._events.next(new $e(this.status,ie)),this._parent&&this._parent._updateControlsErrors(le,ie,ze)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?xn:this.errors?Dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kn)?Kn:this._anyControlsHaveStatus(Dn)?Dn:Ri}_anyControlsHaveStatus(le){return this._anyControls(ie=>ie.status===le)}_anyControlsDirty(){return this._anyControls(le=>le.dirty)}_anyControlsTouched(){return this._anyControls(le=>le.touched)}_updatePristine(le,ie){const ze=!this._anyControlsDirty(),Ct=this.pristine!==ze;this.pristine=ze,this._parent&&!le.onlySelf&&this._parent._updatePristine(le,ie),Ct&&this._events.next(new Le(this.pristine,ie))}_updateTouched(le={},ie){this.touched=this._anyControlsTouched(),this._events.next(new We(this.touched,ie)),this._parent&&!le.onlySelf&&this._parent._updateTouched(le,ie)}_registerOnCollectionChange(le){this._onCollectionChange=le}_setUpdateStrategy(le){Fe(le)&&null!=le.updateOn&&(this._updateOn=le.updateOn)}_parentMarkedDirty(le){return!le&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(le){return null}_assignValidators(le){this._rawValidators=Array.isArray(le)?le.slice():le,this._composedValidatorFn=function ct(H){return Array.isArray(H)?Ne(H):H||null}(this._rawValidators)}_assignAsyncValidators(le){this._rawAsyncValidators=Array.isArray(le)?le.slice():le,this._composedAsyncValidatorFn=function st(H){return Array.isArray(H)?Qe(H):H||null}(this._rawAsyncValidators)}}class Rn extends An{constructor(le,ie,ze){super(_n(ie),De(ze,ie)),this.controls=le,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(le,ie){return this.controls[le]?this.controls[le]:(this.controls[le]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(le,ie,ze={}){this.registerControl(le,ie),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}removeControl(le,ie={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(le,ie,ze={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],ie&&this.registerControl(le,ie),this.updateValueAndValidity({emitEvent:ze.emitEvent}),this._onCollectionChange()}contains(le){return this.controls.hasOwnProperty(le)&&this.controls[le].enabled}setValue(le,ie={}){(function Ft(H,le,ie){H._forEachChild((ze,Ct)=>{if(void 0===ie[Ct])throw new d.wOt(1002,"")})})(this,0,le),Object.keys(le).forEach(ze=>{(function bt(H,le,ie){const ze=H.controls;if(!(le?Object.keys(ze):ze).length)throw new d.wOt(1e3,"");if(!ze[ie])throw new d.wOt(1001,"")})(this,!0,ze),this.controls[ze].setValue(le[ze],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(le,ie={}){null!=le&&(Object.keys(le).forEach(ze=>{const Ct=this.controls[ze];Ct&&Ct.patchValue(le[ze],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(le={},ie={}){this._forEachChild((ze,Ct)=>{ze.reset(le?le[Ct]:null,{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie,this),this._updateTouched(ie,this),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(le,ie,ze)=>(le[ze]=ie.getRawValue(),le))}_syncPendingControls(){let le=this._reduceChildren(!1,(ie,ze)=>!!ze._syncPendingControls()||ie);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){Object.keys(this.controls).forEach(ie=>{const ze=this.controls[ie];ze&&le(ze,ie)})}_setUpControls(){this._forEachChild(le=>{le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(le){for(const[ie,ze]of Object.entries(this.controls))if(this.contains(ie)&&le(ze))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,ze,Ct)=>((ze.enabled||this.disabled)&&(ie[Ct]=ze.value),ie))}_reduceChildren(le,ie){let ze=le;return this._forEachChild((Ct,En)=>{ze=ie(ze,Ct,En)}),ze}_allControlsDisabled(){for(const le of Object.keys(this.controls))if(this.controls[le].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(le){return this.controls.hasOwnProperty(le)?this.controls[le]:null}}const Zn=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gi}),Gi="always";function lr(H,le){return[...le.path,H]}function ir(H,le,ie=Gi){Vr(H,le),le.valueAccessor.writeValue(H.value),(H.disabled||"always"===ie)&&le.valueAccessor.setDisabledState?.(H.disabled),function Ss(H,le){le.valueAccessor.registerOnChange(ie=>{H._pendingValue=ie,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Yi(H,le)})}(H,le),function rr(H,le){const ie=(ze,Ct)=>{le.valueAccessor.writeValue(ze),Ct&&le.viewToModelUpdate(ze)};H.registerOnChange(ie),le._registerOnDestroy(()=>{H._unregisterOnChange(ie)})}(H,le),function ss(H,le){le.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Yi(H,le),"submit"!==H.updateOn&&H.markAsTouched()})}(H,le),function vs(H,le){if(le.valueAccessor.setDisabledState){const ie=ze=>{le.valueAccessor.setDisabledState(ze)};H.registerOnDisabledChange(ie),le._registerOnDestroy(()=>{H._unregisterOnDisabledChange(ie)})}}(H,le)}function Sr(H,le,ie=!0){const ze=()=>{};le.valueAccessor&&(le.valueAccessor.registerOnChange(ze),le.valueAccessor.registerOnTouched(ze)),bs(H,le),H&&(le._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function Hr(H,le){H.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(le)})}function Vr(H,le){const ie=Ce(H);null!==le.validator?H.setValidators(Pt(ie,le.validator)):"function"==typeof ie&&H.setValidators([ie]);const ze=Qt(H);null!==le.asyncValidator?H.setAsyncValidators(Pt(ze,le.asyncValidator)):"function"==typeof ze&&H.setAsyncValidators([ze]);const Ct=()=>H.updateValueAndValidity();Hr(le._rawValidators,Ct),Hr(le._rawAsyncValidators,Ct)}function bs(H,le){let ie=!1;if(null!==H){if(null!==le.validator){const Ct=Ce(H);if(Array.isArray(Ct)&&Ct.length>0){const En=Ct.filter(Fn=>Fn!==le.validator);En.length!==Ct.length&&(ie=!0,H.setValidators(En))}}if(null!==le.asyncValidator){const Ct=Qt(H);if(Array.isArray(Ct)&&Ct.length>0){const En=Ct.filter(Fn=>Fn!==le.asyncValidator);En.length!==Ct.length&&(ie=!0,H.setAsyncValidators(En))}}}const ze=()=>{};return Hr(le._rawValidators,ze),Hr(le._rawAsyncValidators,ze),ie}function Yi(H,le){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),le.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function ar(H,le){Vr(H,le)}function He(H,le){if(!H.hasOwnProperty("model"))return!1;const ie=H.model;return!!ie.isFirstChange()||!Object.is(le,ie.currentValue)}function Bt(H,le){H._syncPendingControls(),le.forEach(ie=>{const ze=ie.control;"submit"===ze.updateOn&&ze._pendingChange&&(ie.viewToModelUpdate(ze._pendingValue),ze._pendingChange=!1)})}function Jn(H,le){if(!le)return null;let ie,ze,Ct;return Array.isArray(le),le.forEach(En=>{En.constructor===L?ie=En:function kt(H){return Object.getPrototypeOf(H.constructor)===E}(En)?ze=En:Ct=En}),Ct||ze||ie||null}const Dr={provide:Ye,useExisting:(0,d.Rfq)(()=>Zr)},Fr=Promise.resolve();let Zr=(()=>{class H extends Ye{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor(ie,ze,Ct){super(),this.callSetDisabledState=Ct,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new Rn({},Ne(ie),Qe(ze))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ie){Fr.then(()=>{const ze=this._findContainer(ie.path);ie.control=ze.registerControl(ie.name,ie.control),ir(ie.control,ie,this.callSetDisabledState),ie.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ie)})}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Fr.then(()=>{const ze=this._findContainer(ie.path);ze&&ze.removeControl(ie.name),this._directives.delete(ie)})}addFormGroup(ie){Fr.then(()=>{const ze=this._findContainer(ie.path),Ct=new Rn({});ar(Ct,ie),ze.registerControl(ie.name,Ct),Ct.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ie){Fr.then(()=>{const ze=this._findContainer(ie.path);ze&&ze.removeControl(ie.name)})}getFormGroup(ie){return this.form.get(ie.path)}updateModel(ie,ze){Fr.then(()=>{this.form.get(ie.path).setValue(ze)})}setValue(ie){this.control.setValue(ie)}onSubmit(ie){return this.submittedReactive.set(!0),Bt(this.form,this._directives),this.ngSubmit.emit(ie),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ie){return ie.pop(),ie.length?this.form.get(ie):this.form}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(J,10),d.rXU(ue,10),d.rXU(Zn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("submit",function(Fn){return Ct.onSubmit(Fn)})("reset",function(){return Ct.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Dr]),d.Vt3]})}return H})();function ds(H,le){const ie=H.indexOf(le);ie>-1&&H.splice(ie,1)}function Os(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Er=class extends An{constructor(le=null,ie,ze){super(_n(ie),De(ze,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(le),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fe(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=Os(le)?le.value:le)}setValue(le,ie={}){this.value=this._pendingValue=le,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(ze=>ze(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(le,ie={}){this.setValue(le,ie)}reset(le=this.defaultValue,ie={}){this._applyFormState(le),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(le){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(le){this._onChange.push(le)}_unregisterOnChange(le){ds(this._onChange,le)}registerOnDisabledChange(le){this._onDisabledChange.push(le)}_unregisterOnDisabledChange(le){ds(this._onDisabledChange,le)}_forEachChild(le){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(le){Os(le)?(this.value=this._pendingValue=le.value,le.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=le}};let ia=(()=>{class H extends Ye{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return lr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,features:[d.Vt3]})}return H})();const qa={provide:vt,useExisting:(0,d.Rfq)(()=>ra)},ya=Promise.resolve();let ra=(()=>{class H extends vt{constructor(ie,ze,Ct,En,Fn,ki){super(),this._changeDetectorRef=Fn,this.callSetDisabledState=ki,this.control=new Er,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct),this.valueAccessor=Jn(0,En)}ngOnChanges(ie){if(this._checkForErrors(),!this._registered||"name"in ie){if(this._registered&&(this._checkName(),this.formDirective)){const ze=ie.name.previousValue;this.formDirective.removeControl({name:ze,path:this._getPath(ze)})}this._setUpControl()}"isDisabled"in ie&&this._updateDisabled(ie),He(ie,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ir(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ie){ya.then(()=>{this.control.setValue(ie,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ie){const ze=ie.isDisabled.currentValue,Ct=0!==ze&&(0,d.L39)(ze);ya.then(()=>{Ct&&!this.control.disabled?this.control.disable():!Ct&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ie){return this._parent?lr(ie,this._parent):[ie]}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,9),d.rXU(J,10),d.rXU(ue,10),d.rXU(y,10),d.rXU(d.gRc,8),d.rXU(Zn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([qa]),d.Vt3,d.OA$]})}return H})(),bl=(()=>{class H{static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return H})();const Ml={provide:y,useExisting:(0,d.Rfq)(()=>Fa),multi:!0};let Fa=(()=>{class H extends E{writeValue(ie){this.setProperty("value",ie??"")}registerOnChange(ie){this.onChange=ze=>{ie(""==ze?null:parseFloat(ze))}}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("input",function(Fn){return Ct.onChange(Fn.target.value)})("blur",function(){return Ct.onTouched()})},features:[d.Jv_([Ml]),d.Vt3]})}return H})();const Mr=new d.nKC(""),ql={provide:Ye,useExisting:(0,d.Rfq)(()=>sa)};let sa=(()=>{class H extends Ye{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(ie){this._submittedReactive.set(ie)}constructor(ie,ze,Ct){super(),this.callSetDisabledState=Ct,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(ie),this._setAsyncValidators(ze)}ngOnChanges(ie){this._checkFormPresent(),ie.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ie){const ze=this.form.get(ie.path);return ir(ze,ie,this.callSetDisabledState),ze.updateValueAndValidity({emitEvent:!1}),this.directives.push(ie),ze}getControl(ie){return this.form.get(ie.path)}removeControl(ie){Sr(ie.control||null,ie,!1),function Pi(H,le){const ie=H.indexOf(le);ie>-1&&H.splice(ie,1)}(this.directives,ie)}addFormGroup(ie){this._setUpFormContainer(ie)}removeFormGroup(ie){this._cleanUpFormContainer(ie)}getFormGroup(ie){return this.form.get(ie.path)}addFormArray(ie){this._setUpFormContainer(ie)}removeFormArray(ie){this._cleanUpFormContainer(ie)}getFormArray(ie){return this.form.get(ie.path)}updateModel(ie,ze){this.form.get(ie.path).setValue(ze)}onSubmit(ie){return this._submittedReactive.set(!0),Bt(this.form,this.directives),this.ngSubmit.emit(ie),this.form._events.next(new gt(this.control)),"dialog"===ie?.target?.method}onReset(){this.resetForm()}resetForm(ie=void 0){this.form.reset(ie),this._submittedReactive.set(!1),this.form._events.next(new Zt(this.form))}_updateDomValue(){this.directives.forEach(ie=>{const ze=ie.control,Ct=this.form.get(ie.path);ze!==Ct&&(Sr(ze||null,ie),(H=>H instanceof Er)(Ct)&&(ir(Ct,ie,this.callSetDisabledState),ie.control=Ct))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ie){const ze=this.form.get(ie.path);ar(ze,ie),ze.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ie){if(this.form){const ze=this.form.get(ie.path);ze&&function zi(H,le){return bs(H,le)}(ze,ie)&&ze.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vr(this.form,this),this._oldForm&&bs(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(J,10),d.rXU(ue,10),d.rXU(Zn,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroup",""]],hostBindings:function(ze,Ct){1&ze&&d.bIt("submit",function(Fn){return Ct.onSubmit(Fn)})("reset",function(){return Ct.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([ql]),d.Vt3,d.OA$]})}return H})();const Ks={provide:Ye,useExisting:(0,d.Rfq)(()=>lo)};let lo=(()=>{class H extends ia{constructor(ie,ze,Ct){super(),this.name=null,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct)}_checkParentType(){ol(this._parent)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([Ks]),d.Vt3]})}return H})();const ba={provide:Ye,useExisting:(0,d.Rfq)(()=>Lo)};let Lo=(()=>{class H extends Ye{constructor(ie,ze,Ct){super(),this.name=null,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return lr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ol(this._parent)}static#e=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([ba]),d.Vt3]})}return H})();function ol(H){return!(H instanceof lo||H instanceof sa||H instanceof Lo)}const wo={provide:vt,useExisting:(0,d.Rfq)(()=>Eo)};let Eo=(()=>{class H extends vt{set isDisabled(ie){}static#e=this._ngModelWarningSentOnce=!1;constructor(ie,ze,Ct,En,Fn){super(),this._ngModelWarningConfig=Fn,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=ie,this._setValidators(ze),this._setAsyncValidators(Ct),this.valueAccessor=Jn(0,En)}ngOnChanges(ie){this._added||this._setUpControl(),He(ie,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ie){this.viewModel=ie,this.update.emit(ie)}get path(){return lr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ze){return new(ze||H)(d.rXU(Ye,13),d.rXU(J,10),d.rXU(ue,10),d.rXU(y,10),d.rXU(Mr,8))};static#n=this.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([wo]),d.Vt3,d.OA$]})}return H})();let _o=(()=>{class H{constructor(){this._validator=Xe}ngOnChanges(ie){if(this.inputName in ie){const ze=this.normalizeInput(ie[this.inputName].currentValue);this._enabled=this.enabled(ze),this._validator=this._enabled?this.createValidator(ze):Xe,this._onChange&&this._onChange()}}validate(ie){return this._validator(ie)}registerOnValidatorChange(ie){this._onChange=ie}enabled(ie){return null!=ie}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275dir=d.FsC({type:H,features:[d.OA$]})}return H})();const Qo={provide:J,useExisting:(0,d.Rfq)(()=>Va),multi:!0},aa={provide:J,useExisting:(0,d.Rfq)(()=>Ea),multi:!0};let Va=(()=>{class H extends _o{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=ie=>X}enabled(ie){return ie}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("required",Ct._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Qo]),d.Vt3]})}return H})(),Ea=(()=>{class H extends Va{constructor(){super(...arguments),this.createValidator=ie=>se}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("required",Ct._enabled?"":null)},features:[d.Jv_([aa]),d.Vt3]})}return H})();const Rs={provide:J,useExisting:(0,d.Rfq)(()=>cl),multi:!0};let cl=(()=>{class H extends _o{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ie=>function Oi(H){return"number"==typeof H?H:parseInt(H,10)}(ie),this.createValidator=ie=>q(ie)}static#e=this.\u0275fac=(()=>{let ie;return function(Ct){return(ie||(ie=d.xGo(H)))(Ct||H)}})();static#t=this.\u0275dir=d.FsC({type:H,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ze,Ct){2&ze&&d.BMQ("maxlength",Ct._enabled?Ct.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d.Jv_([Rs]),d.Vt3]})}return H})(),Ca=(()=>{class H{static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({})}return H})(),de=(()=>{class H{static withConfig(ie){return{ngModule:H,providers:[{provide:Zn,useValue:ie.callSetDisabledState??Gi}]}}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({imports:[Ca]})}return H})(),Se=(()=>{class H{static withConfig(ie){return{ngModule:H,providers:[{provide:Mr,useValue:ie.warnOnNgModelWithFormControl??"always"},{provide:Zn,useValue:ie.callSetDisabledState??Gi}]}}static#e=this.\u0275fac=function(ze){return new(ze||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({imports:[Ca]})}return H})()},9771:(hn,Re,_)=>{"use strict";_.d(Re,{$3:()=>ye,Vn:()=>Ne,jL:()=>Tt,pN:()=>Vt});var d=_(7404),A=_(5060),w=_(316),D=_(4053),C=_(1570),S=_(2102),I=_(7699),E=_(7172),y=_(2672),x=_(3119),$=_(6965),R=_(7405),O=_(1536),M=_(7557),L=_(434),U=_(4879),F=_(7912),J=_(9168),ue=_(4456),ce=_(5944),re=_(9273),be=_(1963),j=_(8627),X=_(5443),se=_(6e3),W=_(9277),xe=_(3602),q=_(3680);const Ae=["panel"],Xe=["*"];function yt(Ot,ft){if(1&Ot){const Oe=d.RV6();d.j41(0,"div",1,0),d.bIt("@panelAnimation.done",function(vt){d.eBV(Oe);const It=d.XpG();return d.Njj(It._animationDone.next(vt))}),d.SdG(2),d.k0s()}if(2&Ot){const Oe=ft.id,Ye=d.XpG();d.HbH(Ye._classList),d.AVh("mat-mdc-autocomplete-visible",Ye.showPanel)("mat-mdc-autocomplete-hidden",!Ye.showPanel)("mat-primary","primary"===Ye._color)("mat-accent","accent"===Ye._color)("mat-warn","warn"===Ye._color),d.Y8G("id",Ye.id)("@panelAnimation",Ye.isOpen?"visible":"hidden"),d.BMQ("aria-label",Ye.ariaLabel||null)("aria-labelledby",Ye._getPanelAriaLabelledby(Oe))}}const Je=(0,E.hZ)("panelAnimation",[(0,E.wk)("void, hidden",(0,E.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,E.kY)(":enter, hidden => visible",[(0,E.Os)([(0,E.i0)("0.03s linear",(0,E.iF)({opacity:1})),(0,E.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,E.iF)({transform:"scaleY(1)"}))])]),(0,E.kY)(":leave, visible => hidden",[(0,E.i0)("0.075s linear",(0,E.iF)({opacity:0}))])]);let je=0;class K{constructor(ft,Oe){this.source=ft,this.option=Oe}}const oe=new d.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function ge(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ye=(()=>{class Ot{get isOpen(){return this._isOpen&&this.showPanel}_setColor(Oe){this._color=Oe,this._changeDetectorRef.markForCheck()}set classList(Oe){this._classList=Oe,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Oe){this._hideSingleSelectionIndicator=Oe,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const Oe of this.options)Oe._changeDetectorRef.markForCheck()}constructor(Oe,Ye,vt,It){this._changeDetectorRef=Oe,this._elementRef=Ye,this._defaults=vt,this._activeOptionChanges=y.y.EMPTY,this._animationDone=new d.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new d.bkB,this.opened=new d.bkB,this.closed=new d.bkB,this.optionActivated=new d.bkB,this.id="mat-autocomplete-"+je++,this.inertGroups=It?.SAFARI||!1,this.autoActiveFirstOption=!!vt.autoActiveFirstOption,this.autoSelectActiveOption=!!vt.autoSelectActiveOption,this.requireSelection=!!vt.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new S.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(Oe=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[Oe]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(Oe){this.panel&&(this.panel.nativeElement.scrollTop=Oe)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(Oe){const Ye=new K(this,Oe);this.optionSelected.emit(Ye)}_getPanelAriaLabelledby(Oe){return this.ariaLabel?null:this.ariaLabelledby?(Oe?Oe+" ":"")+this.ariaLabelledby:Oe}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(oe),d.rXU(I.OD))};static#t=this.\u0275cmp=d.VBU({type:Ot,selectors:[["mat-autocomplete"]],contentQueries:function(Ye,vt,It){if(1&Ye&&(d.wni(It,A.wT,5),d.wni(It,A.QC,5)),2&Ye){let at;d.mGM(at=d.lsd())&&(vt.options=at),d.mGM(at=d.lsd())&&(vt.optionGroups=at)}},viewQuery:function(Ye,vt){if(1&Ye&&(d.GBs(d.C4Q,7),d.GBs(Ae,5)),2&Ye){let It;d.mGM(It=d.lsd())&&(vt.template=It.first),d.mGM(It=d.lsd())&&(vt.panel=It.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",d.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",d.L39],requireSelection:[2,"requireSelection","requireSelection",d.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",d.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",d.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[d.Jv_([{provide:A.is,useExisting:Ot}]),d.GFd,d.aNF],ngContentSelectors:Xe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Ye,vt){1&Ye&&(d.NAR(),d.DNE(0,yt,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Je]},changeDetection:0})}return Ot})(),Ne=(()=>{class Ot{constructor(Oe){this.elementRef=Oe}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return Ot})();const Be={provide:ue.kq,useExisting:(0,d.Rfq)(()=>Vt),multi:!0},Pt=new d.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const Ot=(0,d.WQX)(C.hJ);return()=>Ot.scrollStrategies.reposition()}}),Qt={provide:Pt,deps:[C.hJ],useFactory:function Ce(Ot){return()=>Ot.scrollStrategies.reposition()}};let Vt=(()=>{class Ot{constructor(Oe,Ye,vt,It,at,ot,Nt,Ut,wt,ut,dt){this._element=Oe,this._overlay=Ye,this._viewContainerRef=vt,this._zone=It,this._changeDetectorRef=at,this._dir=Nt,this._formField=Ut,this._document=wt,this._viewportRuler=ut,this._defaults=dt,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=y.y.EMPTY,this._breakpointObserver=(0,d.WQX)(F.QP),this._handsetLandscapeSubscription=y.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new x.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new x.B7,this._injector=(0,d.WQX)(d.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,$.v)(()=>{const Z=this.autocomplete?this.autocomplete.options:null;return Z?Z.changes.pipe((0,re.Z)(Z),(0,be.n)(()=>(0,R.h)(...Z.map(Pe=>Pe.onSelectionChange)))):this._initialized.pipe((0,be.n)(()=>this.optionSelections))}),this._handlePanelKeydown=Z=>{(Z.keyCode===U._f&&!(0,U.rp)(Z)||Z.keyCode===U.i7&&(0,U.rp)(Z,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),Z.stopPropagation(),Z.preventDefault())},this._trackedModal=null,this._scrollStrategy=ot}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const Oe=this._getWindow();typeof Oe<"u"&&this._zone.runOutsideAngular(()=>Oe.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(Oe){Oe.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const Oe=this._getWindow();typeof Oe<"u"&&Oe.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,R.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,j.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,j.p)(()=>this._overlayAttached)):(0,O.of)()).pipe((0,X.T)(Oe=>Oe instanceof A.MI?Oe:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,R.h)((0,M.R)(this._document,"click"),(0,M.R)(this._document,"auxclick"),(0,M.R)(this._document,"touchend")).pipe((0,j.p)(Oe=>{const Ye=(0,I.Fb)(Oe),vt=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,It=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Ye!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!vt||!vt.contains(Ye))&&(!It||!It.contains(Ye))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Ye)}))}writeValue(Oe){Promise.resolve(null).then(()=>this._assignOptionValue(Oe))}registerOnChange(Oe){this._onChange=Oe}registerOnTouched(Oe){this._onTouched=Oe}setDisabledState(Oe){this._element.nativeElement.disabled=Oe}_handleKeydown(Oe){const Ye=Oe.keyCode,vt=(0,U.rp)(Oe);if(Ye===U._f&&!vt&&Oe.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Ye===U.Fm&&this.panelOpen&&!vt)this.activeOption._selectViaInteraction(),this._resetActiveItem(),Oe.preventDefault();else if(this.autocomplete){const It=this.autocomplete._keyManager.activeItem,at=Ye===U.i7||Ye===U.n6;Ye===U.wn||at&&!vt&&this.panelOpen?this.autocomplete._keyManager.onKeydown(Oe):at&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(at||this.autocomplete._keyManager.activeItem!==It)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(Oe){let Ye=Oe.target,vt=Ye.value;if("number"===Ye.type&&(vt=""==vt?null:parseFloat(vt)),this._previousValue!==vt){if(this._previousValue=vt,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(vt),vt){if(this.panelOpen&&!this.autocomplete.requireSelection){const It=this.autocomplete.options?.find(at=>at.selected);It&&vt!==this._getDisplayValue(It.value)&&It.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===Oe.target){const It=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(It)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(Oe=!1){this._formField&&"auto"===this._formField.floatLabel&&(Oe?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const Oe=new L.c(vt=>{(0,d.mal)(()=>{vt.next()},{injector:this._injector})}),Ye=this.autocomplete.options.changes.pipe((0,se.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,W.c)(0));return(0,R.h)(Oe,Ye).pipe((0,be.n)(()=>this._zone.run(()=>{const vt=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),vt!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,xe.s)(1)).subscribe(vt=>this._setValueAndClose(vt))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(Oe){const Ye=this.autocomplete;return Ye&&Ye.displayWith?Ye.displayWith(Oe):Oe}_assignOptionValue(Oe){const Ye=this._getDisplayValue(Oe);null==Oe&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Ye??"")}_updateNativeInputValue(Oe){this._formField?this._formField._control.value=Oe:this._element.nativeElement.value=Oe,this._previousValue=Oe}_setValueAndClose(Oe){const Ye=this.autocomplete,vt=Oe?Oe.source:this._pendingAutoselectedOption;vt?(this._clearPreviousSelectedOption(vt),this._assignOptionValue(vt.value),this._onChange(vt.value),Ye._emitSelectEvent(vt),this._element.nativeElement.focus()):Ye.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Ye._animationDone?Ye._animationDone.pipe((0,xe.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(Oe,Ye){this.autocomplete?.options?.forEach(vt=>{vt!==Oe&&vt.selected&&vt.deselect(Ye)})}_openPanelInternal(Oe=this._element.nativeElement.value){this._attachOverlay(Oe),this._floatLabel(),this._trackedModal&&(0,S.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(Oe){let Ye=this._overlayRef;Ye?(this._positionStrategy.setOrigin(this._getConnectedElement()),Ye.updateSize({width:this._getPanelWidth()})):(this._portal=new J.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Ye=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Ye,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Ye&&Ye.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(F.Rp.HandsetLandscape).subscribe(It=>{It.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Ye&&!Ye.hasAttached()&&(Ye.attach(this._portal),this._valueOnAttach=Oe,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const vt=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&vt!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const Oe=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=Oe.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=Oe.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new C.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const Oe=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(Oe),this._positionStrategy=Oe,Oe}_setStrategyPositions(Oe){const Ye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vt=this._aboveClass,It=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:vt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:vt}];let at;at="above"===this.position?It:"below"===this.position?Ye:[...Ye,...It],Oe.withPositions(at)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const Oe=this.autocomplete;if(Oe.autoActiveFirstOption){let Ye=-1;for(let vt=0;vt<Oe.options.length;vt++)if(!Oe.options.get(vt).disabled){Ye=vt;break}Oe._keyManager.setActiveItem(Ye)}else Oe._keyManager.setActiveItem(-1)}_canOpen(){const Oe=this._element.nativeElement;return!Oe.readOnly&&!Oe.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(Oe){const Ye=this.autocomplete,vt=(0,A.jb)(Oe,Ye.options,Ye.optionGroups);if(0===Oe&&1===vt)Ye._setScrollTop(0);else if(Ye.panel){const It=Ye.options.toArray()[Oe];if(It){const at=It._getHostElement(),ot=(0,A.TL)(at.offsetTop,at.offsetHeight,Ye._getScrollTop(),Ye.panel.nativeElement.offsetHeight);Ye._setScrollTop(ot)}}}_applyModalPanelOwnership(){const Oe=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Oe)return;const Ye=this.autocomplete.id;this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",Ye),(0,S.px)(Oe,"aria-owns",Ye),this._trackedModal=Oe}_clearFromModal(){this._trackedModal&&((0,S.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(d.rXU(d.aKT),d.rXU(C.hJ),d.rXU(d.c1b),d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(Pt),d.rXU(q.dS,8),d.rXU(ce.xb,9),d.rXU(w.qQ,8),d.rXU(D.Xj),d.rXU(oe,8))};static#t=this.\u0275dir=d.FsC({type:Ot,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Ye,vt){1&Ye&&d.bIt("focusin",function(){return vt._handleFocus()})("blur",function(){return vt._onTouched()})("input",function(at){return vt._handleInput(at)})("keydown",function(at){return vt._handleKeydown(at)})("click",function(){return vt._handleClick()}),2&Ye&&d.BMQ("autocomplete",vt.autocompleteAttribute)("role",vt.autocompleteDisabled?null:"combobox")("aria-autocomplete",vt.autocompleteDisabled?null:"list")("aria-activedescendant",vt.panelOpen&&vt.activeOption?vt.activeOption.id:null)("aria-expanded",vt.autocompleteDisabled?null:vt.panelOpen.toString())("aria-controls",vt.autocompleteDisabled||!vt.panelOpen||null==vt.autocomplete?null:vt.autocomplete.id)("aria-haspopup",vt.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",d.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[d.Jv_([Be]),d.GFd,d.OA$]})}return Ot})(),Tt=(()=>{class Ot{static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)};static#t=this.\u0275mod=d.$C({type:Ot});static#n=this.\u0275inj=d.G2t({providers:[Qt],imports:[C.z_,A.Sy,A.yE,w.MD,D.Gj,A.Sy,A.yE]})}return Ot})()},5244:(hn,Re,_)=>{"use strict";_.d(Re,{VK:()=>be,eN:()=>ce,vF:()=>j});var d=_(3482),A=_(9168),w=_(7404),D=_(5060),C=_(2102),S=_(7912),I=_(1570),E=_(316),y=_(7172),x=_(4879),$=_(3119),R=_(7405),O=_(8627),M=_(3602);function L(X,se){}const U={bottomSheetState:(0,y.hZ)("state",[(0,y.wk)("void, hidden",(0,y.iF)({transform:"translateY(100%)"})),(0,y.wk)("visible",(0,y.iF)({transform:"translateY(0%)"})),(0,y.kY)("visible => void, visible => hidden",(0,y.Os)([(0,y.i0)(`${D.ed.COMPLEX} ${D.r5.ACCELERATION_CURVE}`),(0,y.P)("@*",(0,y.MA)(),{optional:!0})])),(0,y.kY)("void => visible",(0,y.Os)([(0,y.i0)(`${D.ed.EXITING} ${D.r5.DECELERATION_CURVE}`),(0,y.P)("@*",(0,y.MA)(),{optional:!0})]))])};let F=(()=>{class X extends d.sU{constructor(W,xe,q,Ae,Xe,yt,Je,je,K){super(W,xe,q,Ae,Xe,yt,Je,K),this._animationState="void",this._animationStateChanged=new w.bkB,this._breakpointSubscription=je.observe([S.Rp.Medium,S.Rp.Large,S.Rp.XLarge]).subscribe(()=>{const oe=this._elementRef.nativeElement.classList;oe.toggle("mat-bottom-sheet-container-medium",je.isMatched(S.Rp.Medium)),oe.toggle("mat-bottom-sheet-container-large",je.isMatched(S.Rp.Large)),oe.toggle("mat-bottom-sheet-container-xlarge",je.isMatched(S.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(W){"visible"===W.toState&&this._trapFocus(),this._animationStateChanged.emit(W)}_onAnimationStart(W){this._animationStateChanged.emit(W)}_captureInitialFocus(){}static#e=this.\u0275fac=function(xe){return new(xe||X)(w.rXU(w.aKT),w.rXU(C.GX),w.rXU(E.qQ,8),w.rXU(d.Pe),w.rXU(C.Z7),w.rXU(w.SKi),w.rXU(I.yY),w.rXU(S.QP),w.rXU(C.FN))};static#t=this.\u0275cmp=w.VBU({type:X,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(xe,q){1&xe&&w.Kam("@state.start",function(Xe){return q._onAnimationStart(Xe)})("@state.done",function(Xe){return q._onAnimationDone(Xe)}),2&xe&&(w.zvX("@state",q._animationState),w.BMQ("role",q._config.role)("aria-modal",q._config.ariaModal)("aria-label",q._config.ariaLabel))},standalone:!0,features:[w.Vt3,w.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(xe,q){1&xe&&w.DNE(0,L,0,0,"ng-template",0)},dependencies:[A.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[U.bottomSheetState]}})}return X})();const J=new w.nKC("MatBottomSheetData");class ue{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ce{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(se,W,xe){this._ref=se,this._afterOpened=new $.B7,this.containerInstance=xe,this.disableClose=W.disableClose,xe._animationStateChanged.pipe((0,O.p)(q=>"done"===q.phaseName&&"visible"===q.toState),(0,M.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),xe._animationStateChanged.pipe((0,O.p)(q=>"done"===q.phaseName&&"hidden"===q.toState),(0,M.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),se.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,R.h)(this.backdropClick(),this.keydownEvents().pipe((0,O.p)(q=>q.keyCode===x._f))).subscribe(q=>{!this.disableClose&&("keydown"!==q.type||!(0,x.rp)(q))&&(q.preventDefault(),this.dismiss())})}dismiss(se){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,O.p)(W=>"start"===W.phaseName),(0,M.s)(1)).subscribe(W=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},W.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=se,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const re=new w.nKC("mat-bottom-sheet-default-options");let be=(()=>{class X{get _openedBottomSheetRef(){const W=this._parentBottomSheet;return W?W._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(W){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=W:this._bottomSheetRefAtThisLevel=W}constructor(W,xe,q,Ae){this._overlay=W,this._parentBottomSheet=q,this._defaultOptions=Ae,this._bottomSheetRefAtThisLevel=null,this._dialog=xe.get(d.lG)}open(W,xe){const q={...this._defaultOptions||new ue,...xe};let Ae;return this._dialog.open(W,{...q,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:F,scrollStrategy:q.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:Ae}),providers:(Xe,yt,Je)=>(Ae=new ce(Xe,q,Je),[{provide:ce,useValue:Ae},{provide:J,useValue:q.data}])}),Ae.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===Ae&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>Ae.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):Ae.containerInstance.enter(),this._openedBottomSheetRef=Ae,Ae}dismiss(W){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(W)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(xe){return new(xe||X)(w.KVO(I.hJ),w.KVO(w.zZn),w.KVO(X,12),w.KVO(re,8))};static#t=this.\u0275prov=w.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})(),j=(()=>{class X{static#e=this.\u0275fac=function(xe){return new(xe||X)};static#t=this.\u0275mod=w.$C({type:X});static#n=this.\u0275inj=w.G2t({providers:[be],imports:[d.Ph,D.yE,A.jc,D.yE]})}return X})()},9864:(hn,Re,_)=>{"use strict";_.d(Re,{Vg:()=>ce});var d=_(2102),D=(_(7989),_(4879),_(7404)),I=(_(3680),_(4456),_(5060));const E=["button"],y=["*"];function x(re,be){if(1&re&&D.nrm(0,"mat-pseudo-checkbox",3),2&re){const j=D.XpG();D.Y8G("disabled",j.disabled)}}function $(re,be){if(1&re&&D.nrm(0,"mat-pseudo-checkbox",3),2&re){const j=D.XpG();D.Y8G("disabled",j.disabled)}}const R=new D.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function O(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),M=new D.nKC("MatButtonToggleGroup");let U=0;class F{constructor(be,j){this.source=be,this.value=j}}let ue=(()=>{class re{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(j){this._tabIndex=j,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(j){this._appearance=j}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(j){j!==this._checked&&(this._checked=j,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(j){this._disabled=j}constructor(j,X,se,W,xe,q){this._changeDetectorRef=X,this._elementRef=se,this._focusMonitor=W,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new D.bkB;const Ae=Number(xe);this.tabIndex=Ae||0===Ae?Ae:null,this.buttonToggleGroup=j,this.appearance=q&&q.appearance?q.appearance:"standard"}ngOnInit(){const j=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+U++,j&&(j._isPrechecked(this)?this.checked=!0:j._isSelected(this)!==this._checked&&j._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const j=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),j&&j._isSelected(this)&&j._syncButtonToggle(this,!1,!1,!0)}focus(j){this._buttonElement.nativeElement.focus(j)}_onButtonClick(){const j=!!this.isSingleSelector()||!this._checked;if(j!==this._checked&&(this._checked=j,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const X=this.buttonToggleGroup._buttonToggles.find(se=>0===se.tabIndex);X&&(X.tabIndex=-1),this.tabIndex=0}this.change.emit(new F(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(X){return new(X||re)(D.rXU(M,8),D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(d.FN),D.kS0("tabindex"),D.rXU(R,8))};static#t=this.\u0275cmp=D.VBU({type:re,selectors:[["mat-button-toggle"]],viewQuery:function(X,se){if(1&X&&D.GBs(E,5),2&X){let W;D.mGM(W=D.lsd())&&(se._buttonElement=W.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(X,se){1&X&&D.bIt("focus",function(){return se.focus()}),2&X&&(D.BMQ("aria-label",null)("aria-labelledby",null)("id",se.id)("name",null),D.AVh("mat-button-toggle-standalone",!se.buttonToggleGroup)("mat-button-toggle-checked",se.checked)("mat-button-toggle-disabled",se.disabled)("mat-button-toggle-appearance-standard","standard"===se.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",D.L39],appearance:"appearance",checked:[2,"checked","checked",D.L39],disabled:[2,"disabled","disabled",D.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[D.GFd,D.aNF],ngContentSelectors:y,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(X,se){if(1&X){const W=D.RV6();D.NAR(),D.j41(0,"button",1,0),D.bIt("click",function(){return D.eBV(W),D.Njj(se._onButtonClick())}),D.j41(2,"span",2),D.DNE(3,x,1,1,"mat-pseudo-checkbox",3)(4,$,1,1,"mat-pseudo-checkbox",3),D.SdG(5),D.k0s()(),D.nrm(6,"span",4)(7,"span",5)}if(2&X){const W=D.sdS(1);D.Y8G("id",se.buttonId)("disabled",se.disabled||null),D.BMQ("role",se.isSingleSelector()?"radio":"button")("tabindex",se.disabled?-1:se.tabIndex)("aria-pressed",se.isSingleSelector()?null:se.checked)("aria-checked",se.isSingleSelector()?se.checked:null)("name",se._getButtonName())("aria-label",se.ariaLabel)("aria-labelledby",se.ariaLabelledby),D.R7$(3),D.vxM(se.buttonToggleGroup&&se.checked&&!se.buttonToggleGroup.multiple&&!se.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),D.R7$(),D.vxM(se.buttonToggleGroup&&se.checked&&se.buttonToggleGroup.multiple&&!se.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),D.R7$(3),D.Y8G("matRippleTrigger",W)("matRippleDisabled",se.disableRipple||se.disabled)}},dependencies:[I.r6,I.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}return re})(),ce=(()=>{class re{static#e=this.\u0275fac=function(X){return new(X||re)};static#t=this.\u0275mod=D.$C({type:re});static#n=this.\u0275inj=D.G2t({imports:[I.yE,I.pZ,ue,I.yE]})}return re})()},4175:(hn,Re,_)=>{"use strict";_.d(Re,{$z:()=>be,Hl:()=>je,iY:()=>yt});var d=_(7699),A=_(7404),w=_(2102),D=_(5060);const C=["mat-button",""],S=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],I=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],O=["mat-icon-button",""],M=["*"],U=new A.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ue=(()=>{class K{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ge){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ge)}get disableRipple(){return this._disableRipple}set disableRipple(ge){this._disableRipple=ge,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ge){this._disabled=ge,this._updateRippleDisabled()}constructor(ge,ye,Ne,Be){this._elementRef=ge,this._platform=ye,this._ngZone=Ne,this._animationMode=Be,this._focusMonitor=(0,A.WQX)(w.FN),this._rippleLoader=(0,A.WQX)(D.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Qe=(0,A.WQX)(U,{optional:!0}),Pt=ge.nativeElement,Ce=Pt.classList;this.disabledInteractive=Qe?.disabledInteractive??!1,this.color=Qe?.color??null,this._rippleLoader?.configureRipple(Pt,{className:"mat-mdc-button-ripple"});for(const{attribute:Qt,mdcClasses:Vt}of J)Pt.hasAttribute(Qt)&&Ce.add(...Vt)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ge="program",ye){ge?this._focusMonitor.focusVia(this._elementRef.nativeElement,ge,ye):this._elementRef.nativeElement.focus(ye)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(ye){A.QTQ()};static#t=this.\u0275dir=A.FsC({type:K,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",A.L39],disabled:[2,"disabled","disabled",A.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",A.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A.L39]},features:[A.GFd]})}return K})(),be=(()=>{class K extends ue{constructor(ge,ye,Ne,Be){super(ge,ye,Ne,Be)}static#e=this.\u0275fac=function(ye){return new(ye||K)(A.rXU(A.aKT),A.rXU(d.OD),A.rXU(A.SKi),A.rXU(A.bc$,8))};static#t=this.\u0275cmp=A.VBU({type:K,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ye,Ne){2&ye&&(A.BMQ("disabled",Ne._getDisabledAttribute())("aria-disabled",Ne._getAriaDisabled()),A.HbH(Ne.color?"mat-"+Ne.color:""),A.AVh("mat-mdc-button-disabled",Ne.disabled)("mat-mdc-button-disabled-interactive",Ne.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[A.Vt3,A.aNF],attrs:C,ngContentSelectors:I,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ye,Ne){1&ye&&(A.NAR(S),A.nrm(0,"span",0),A.SdG(1),A.j41(2,"span",1),A.SdG(3,1),A.k0s(),A.SdG(4,2),A.nrm(5,"span",2)(6,"span",3)),2&ye&&A.AVh("mdc-button__ripple",!Ne._isFab)("mdc-fab__ripple",Ne._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return K})(),yt=(()=>{class K extends ue{constructor(ge,ye,Ne,Be){super(ge,ye,Ne,Be),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(ye){return new(ye||K)(A.rXU(A.aKT),A.rXU(d.OD),A.rXU(A.SKi),A.rXU(A.bc$,8))};static#t=this.\u0275cmp=A.VBU({type:K,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ye,Ne){2&ye&&(A.BMQ("disabled",Ne._getDisabledAttribute())("aria-disabled",Ne._getAriaDisabled()),A.HbH(Ne.color?"mat-"+Ne.color:""),A.AVh("mat-mdc-button-disabled",Ne.disabled)("mat-mdc-button-disabled-interactive",Ne.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Ne._animationMode)("mat-unthemed",!Ne.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[A.Vt3,A.aNF],attrs:O,ngContentSelectors:M,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ye,Ne){1&ye&&(A.NAR(),A.nrm(0,"span",0),A.SdG(1),A.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return K})(),je=(()=>{class K{static#e=this.\u0275fac=function(ye){return new(ye||K)};static#t=this.\u0275mod=A.$C({type:K});static#n=this.\u0275inj=A.G2t({imports:[D.yE,D.pZ,D.yE]})}return K})()},7024:(hn,Re,_)=>{"use strict";_.d(Re,{So:()=>M,g7:()=>J});var d=_(7404),A=_(4456),w=_(5060);const D=["input"],C=["label"],S=["*"],I=new d.nKC("mat-checkbox-default-options",{providedIn:"root",factory:E});function E(){return{color:"accent",clickAction:"check-indeterminate"}}var y=function(ue){return ue[ue.Init=0]="Init",ue[ue.Checked=1]="Checked",ue[ue.Unchecked=2]="Unchecked",ue[ue.Indeterminate=3]="Indeterminate",ue}(y||{});const x={provide:A.kq,useExisting:(0,d.Rfq)(()=>M),multi:!0};class ${}let R=0;const O=E();let M=(()=>{class ue{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(re){const be=new $;return be.source=this,be.checked=re,be}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(re,be,j,X,se,W){this._elementRef=re,this._changeDetectorRef=be,this._ngZone=j,this._animationMode=se,this._options=W,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new d.bkB,this.indeterminateChange=new d.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=y.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||O,this.color=this._options.color||O.color,this.tabIndex=parseInt(X)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++R}ngOnChanges(re){re.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(re){re!=this.checked&&(this._checked=re,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(re){re!==this.disabled&&(this._disabled=re,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(re){const be=re!=this._indeterminate;this._indeterminate=re,be&&(this._transitionCheckState(this._indeterminate?y.Indeterminate:this.checked?y.Checked:y.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(re){this.checked=!!re}registerOnChange(re){this._controlValueAccessorChangeFn=re}registerOnTouched(re){this._onTouched=re}setDisabledState(re){this.disabled=re}validate(re){return this.required&&!0!==re.value?{required:!0}:null}registerOnValidatorChange(re){this._validatorChangeFn=re}_transitionCheckState(re){let be=this._currentCheckState,j=this._getAnimationTargetElement();if(be!==re&&j&&(this._currentAnimationClass&&j.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(be,re),this._currentCheckState=re,this._currentAnimationClass.length>0)){j.classList.add(this._currentAnimationClass);const X=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{j.classList.remove(X)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const re=this._options?.clickAction;this.disabled||"noop"===re?!this.disabled&&"noop"===re&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==re&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?y.Checked:y.Unchecked),this._emitChangeEvent())}_onInteractionEvent(re){re.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(re,be){if("NoopAnimations"===this._animationMode)return"";switch(re){case y.Init:if(be===y.Checked)return this._animationClasses.uncheckedToChecked;if(be==y.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case y.Unchecked:return be===y.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case y.Checked:return be===y.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case y.Indeterminate:return be===y.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(re){const be=this._inputElement;be&&(be.nativeElement.indeterminate=re)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(re){re.target&&this._labelElement.nativeElement.contains(re.target)&&re.stopPropagation()}static#e=this.\u0275fac=function(be){return new(be||ue)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.kS0("tabindex"),d.rXU(d.bc$,8),d.rXU(I,8))};static#t=this.\u0275cmp=d.VBU({type:ue,selectors:[["mat-checkbox"]],viewQuery:function(be,j){if(1&be&&(d.GBs(D,5),d.GBs(C,5),d.GBs(w.r6,5)),2&be){let X;d.mGM(X=d.lsd())&&(j._inputElement=X.first),d.mGM(X=d.lsd())&&(j._labelElement=X.first),d.mGM(X=d.lsd())&&(j.ripple=X.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(be,j){2&be&&(d.Mr5("id",j.id),d.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),d.HbH(j.color?"mat-"+j.color:"mat-accent"),d.AVh("_mat-animation-noopable","NoopAnimations"===j._animationMode)("mdc-checkbox--disabled",j.disabled)("mat-mdc-checkbox-disabled",j.disabled)("mat-mdc-checkbox-checked",j.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",d.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",re=>null==re?void 0:(0,d.Udg)(re)],color:"color",checked:[2,"checked","checked",d.L39],disabled:[2,"disabled","disabled",d.L39],indeterminate:[2,"indeterminate","indeterminate",d.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[d.Jv_([x,{provide:A.cz,useExisting:ue,multi:!0}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:S,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(be,j){if(1&be){const X=d.RV6();d.NAR(),d.j41(0,"div",3),d.bIt("click",function(W){return d.eBV(X),d.Njj(j._preventBubblingFromLabel(W))}),d.j41(1,"div",4,0)(3,"div",5),d.bIt("click",function(){return d.eBV(X),d.Njj(j._onTouchTargetClick())}),d.k0s(),d.j41(4,"input",6,1),d.bIt("blur",function(){return d.eBV(X),d.Njj(j._onBlur())})("click",function(){return d.eBV(X),d.Njj(j._onInputClick())})("change",function(W){return d.eBV(X),d.Njj(j._onInteractionEvent(W))}),d.k0s(),d.nrm(6,"div",7),d.j41(7,"div",8),d.qSk(),d.j41(8,"svg",9),d.nrm(9,"path",10),d.k0s(),d.joV(),d.nrm(10,"div",11),d.k0s(),d.nrm(11,"div",12),d.k0s(),d.j41(12,"label",13,2),d.SdG(14),d.k0s()()}if(2&be){const X=d.sdS(2);d.Y8G("labelPosition",j.labelPosition),d.R7$(4),d.AVh("mdc-checkbox--selected",j.checked),d.Y8G("checked",j.checked)("indeterminate",j.indeterminate)("disabled",j.disabled)("id",j.inputId)("required",j.required)("tabIndex",j.disabled?-1:j.tabIndex),d.BMQ("aria-label",j.ariaLabel||null)("aria-labelledby",j.ariaLabelledby)("aria-describedby",j.ariaDescribedby)("aria-checked",j.indeterminate?"mixed":null)("name",j.name)("value",j.value),d.R7$(7),d.Y8G("matRippleTrigger",X)("matRippleDisabled",j.disableRipple||j.disabled)("matRippleCentered",!0),d.R7$(),d.Y8G("for",j.inputId)}},dependencies:[w.r6,w.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ue})(),J=(()=>{class ue{static#e=this.\u0275fac=function(be){return new(be||ue)};static#t=this.\u0275mod=d.$C({type:ue});static#n=this.\u0275inj=d.G2t({imports:[M,w.yE,w.yE]})}return ue})()},2772:(hn,Re,_)=>{"use strict";_.d(Re,{D7:()=>Nt,HW:()=>at,YN:()=>wt,Zv:()=>Qe,jH:()=>Ot});var d=_(2102),A=_(4879),w=_(316),D=_(7404),C=_(5060),S=_(3119),I=_(7405),E=_(7464),y=_(9273),x=_(1963),$=_(3680),R=_(4456),O=_(5944);const M=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],L=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function U(ut,dt){1&ut&&(D.j41(0,"span",3),D.SdG(1,1),D.k0s())}function F(ut,dt){1&ut&&(D.j41(0,"span",6),D.SdG(1,2),D.k0s())}const re=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],be=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function j(ut,dt){1&ut&&D.nrm(0,"span",0)}function X(ut,dt){1&ut&&(D.j41(0,"span",2),D.SdG(1),D.k0s())}function se(ut,dt){1&ut&&D.SdG(0,1)}function W(ut,dt){1&ut&&D.nrm(0,"span",7)}function xe(ut,dt){if(1&ut&&D.DNE(0,se,1,0)(1,W,1,0,"span",7),2&ut){const Z=D.XpG();D.vxM(Z.contentEditInput?0:1)}}function q(ut,dt){1&ut&&D.SdG(0,2)}function Ae(ut,dt){1&ut&&(D.j41(0,"span",5),D.SdG(1,3),D.k0s())}const Xe=["*"],Je=new D.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[A.Fm]})}),je=new D.nKC("MatChipAvatar"),K=new D.nKC("MatChipTrailingIcon"),oe=new D.nKC("MatChipRemove"),ge=new D.nKC("MatChip");let ye=(()=>{class ut{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(Z){this._disabled=Z}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(Z,Pe){this._elementRef=Z,this._parentChip=Pe,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===Z.nativeElement.nodeName&&Z.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(Z){!this.disabled&&this.isInteractive&&this._isPrimary&&(Z.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(Z){(Z.keyCode===A.Fm||Z.keyCode===A.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(Z.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.aKT),D.rXU(ge))};static#t=this.\u0275dir=D.FsC({type:ut,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Pe,pe){1&Pe&&D.bIt("click",function(Gt){return pe._handleClick(Gt)})("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Pe&&(D.BMQ("tabindex",pe._getTabindex())("disabled",pe._getDisabledAttribute())("aria-disabled",pe.disabled),D.AVh("mdc-evolution-chip__action--primary",pe._isPrimary)("mdc-evolution-chip__action--presentational",!pe.isInteractive)("mdc-evolution-chip__action--trailing",!pe._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",D.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?-1:(0,D.Udg)(Z)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[D.GFd]})}return ut})(),Qe=(()=>{class ut extends ye{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(Z){this.disabled||(Z.stopPropagation(),Z.preventDefault(),this._parentChip.remove())}_handleKeydown(Z){(Z.keyCode===A.Fm||Z.keyCode===A.t6)&&!this.disabled&&(Z.stopPropagation(),Z.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let Z;return function(pe){return(Z||(Z=D.xGo(ut)))(pe||ut)}})();static#t=this.\u0275dir=D.FsC({type:ut,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(Pe,pe){2&Pe&&D.BMQ("aria-hidden",null)},standalone:!0,features:[D.Jv_([{provide:oe,useExisting:ut}]),D.Vt3]})}return ut})(),Pt=0,Ce=(()=>{class ut{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(Z){this._value=Z}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(Z){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,Z)}constructor(Z,Pe,pe,lt,Gt,rn,Hn,Ei){this._changeDetectorRef=Z,this._elementRef=Pe,this._ngZone=pe,this._focusMonitor=lt,this._globalRippleOptions=Hn,this._onFocus=new S.B7,this._onBlur=new S.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Pt++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new D.bkB,this.destroyed=new D.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,D.WQX)(C.Ej),this._injector=(0,D.WQX)(D.zZn),this._document=Gt,this._animationsDisabled="NoopAnimations"===rn,null!=Ei&&(this.tabIndex=parseInt(Ei)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const Z=this._elementRef.nativeElement;this._isBasicChip=Z.hasAttribute(this.basicChipAttrName)||Z.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,I.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(Z){(Z.keyCode===A.G_&&!Z.repeat||Z.keyCode===A.SJ)&&(Z.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(Z){return this._getActions().find(Pe=>{const pe=Pe._elementRef.nativeElement;return pe===Z||pe.contains(Z)})}_getActions(){const Z=[];return this.primaryAction&&Z.push(this.primaryAction),this.removeIcon&&Z.push(this.removeIcon),this.trailingIcon&&Z.push(this.trailingIcon),Z}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Z=>{const Pe=null!==Z;Pe!==this._hasFocusInternal&&(this._hasFocusInternal=Pe,Pe?this._onFocus.next({chip:this}):(0,D.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.SKi),D.rXU(d.FN),D.rXU(w.qQ),D.rXU(D.bc$,8),D.rXU(C.$E,8),D.kS0("tabindex"))};static#t=this.\u0275cmp=D.VBU({type:ut,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Pe,pe,lt){if(1&Pe&&(D.wni(lt,je,5),D.wni(lt,K,5),D.wni(lt,oe,5),D.wni(lt,je,5),D.wni(lt,K,5),D.wni(lt,oe,5)),2&Pe){let Gt;D.mGM(Gt=D.lsd())&&(pe.leadingIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe.trailingIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe.removeIcon=Gt.first),D.mGM(Gt=D.lsd())&&(pe._allLeadingIcons=Gt),D.mGM(Gt=D.lsd())&&(pe._allTrailingIcons=Gt),D.mGM(Gt=D.lsd())&&(pe._allRemoveIcons=Gt)}},viewQuery:function(Pe,pe){if(1&Pe&&D.GBs(ye,5),2&Pe){let lt;D.mGM(lt=D.lsd())&&(pe.primaryAction=lt.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(Pe,pe){1&Pe&&D.bIt("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Pe&&(D.Mr5("id",pe.id),D.BMQ("role",pe.role)("tabindex",pe._getTabIndex())("aria-label",pe.ariaLabel),D.HbH("mat-"+(pe.color||"primary")),D.AVh("mdc-evolution-chip",!pe._isBasicChip)("mdc-evolution-chip--disabled",pe.disabled)("mdc-evolution-chip--with-trailing-action",pe._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",pe.leadingIcon)("mdc-evolution-chip--with-primary-icon",pe.leadingIcon)("mdc-evolution-chip--with-avatar",pe.leadingIcon)("mat-mdc-chip-with-avatar",pe.leadingIcon)("mat-mdc-chip-highlighted",pe.highlighted)("mat-mdc-chip-disabled",pe.disabled)("mat-mdc-basic-chip",pe._isBasicChip)("mat-mdc-standard-chip",!pe._isBasicChip)("mat-mdc-chip-with-trailing-icon",pe._hasTrailingIcon())("_mat-animation-noopable",pe._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",D.L39],highlighted:[2,"highlighted","highlighted",D.L39],disableRipple:[2,"disableRipple","disableRipple",D.L39],disabled:[2,"disabled","disabled",D.L39],tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?void 0:(0,D.Udg)(Z)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[D.Jv_([{provide:ge,useExisting:ut}]),D.GFd,D.aNF],ngContentSelectors:L,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Pe,pe){1&Pe&&(D.NAR(M),D.nrm(0,"span",0),D.j41(1,"span",1)(2,"span",2),D.DNE(3,U,2,0,"span",3),D.j41(4,"span",4),D.SdG(5),D.nrm(6,"span",5),D.k0s()()(),D.DNE(7,F,2,0,"span",6)),2&Pe&&(D.R7$(2),D.Y8G("isInteractive",!1),D.R7$(),D.vxM(pe.leadingIcon?3:-1),D.R7$(4),D.vxM(pe._hasTrailingIcon()?7:-1))},dependencies:[ye],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ut})(),Tt=(()=>{class ut{constructor(Z,Pe){this._elementRef=Z,this._document=Pe}initialize(Z){this.getNativeElement().focus(),this.setValue(Z)}getNativeElement(){return this._elementRef.nativeElement}setValue(Z){this.getNativeElement().textContent=Z,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const Z=this._document.createRange();Z.selectNodeContents(this.getNativeElement()),Z.collapse(!1);const Pe=window.getSelection();Pe.removeAllRanges(),Pe.addRange(Z)}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.aKT),D.rXU(w.qQ))};static#t=this.\u0275dir=D.FsC({type:ut,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return ut})(),Ot=(()=>{class ut extends Ce{constructor(Z,Pe,pe,lt,Gt,rn,Hn,Ei){super(Z,Pe,pe,lt,Gt,rn,Hn,Ei),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new D.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,E.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(Z){Z.keyCode!==A.Fm||this.disabled?this._isEditing?Z.stopPropagation():super._handleKeydown(Z):this._isEditing?(Z.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(Z)}_handleDoubleclick(Z){!this.disabled&&this.editable&&this._startEditing(Z)}_startEditing(Z){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(Z.target)===this.removeIcon)return;const Pe=this.value;this._isEditing=this._editStartPending=!0,(0,D.mal)(()=>{this._getEditInput().initialize(Pe),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.SKi),D.rXU(d.FN),D.rXU(w.qQ),D.rXU(D.bc$,8),D.rXU(C.$E,8),D.kS0("tabindex"))};static#t=this.\u0275cmp=D.VBU({type:ut,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(Pe,pe,lt){if(1&Pe&&D.wni(lt,Tt,5),2&Pe){let Gt;D.mGM(Gt=D.lsd())&&(pe.contentEditInput=Gt.first)}},viewQuery:function(Pe,pe){if(1&Pe&&D.GBs(Tt,5),2&Pe){let lt;D.mGM(lt=D.lsd())&&(pe.defaultEditInput=lt.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(Pe,pe){1&Pe&&D.bIt("focus",function(Gt){return pe._handleFocus(Gt)})("dblclick",function(Gt){return pe._handleDoubleclick(Gt)}),2&Pe&&(D.Mr5("id",pe.id),D.BMQ("tabindex",pe.disabled?null:-1)("aria-label",null)("aria-description",null)("role",pe.role),D.AVh("mat-mdc-chip-with-avatar",pe.leadingIcon)("mat-mdc-chip-disabled",pe.disabled)("mat-mdc-chip-editing",pe._isEditing)("mat-mdc-chip-editable",pe.editable)("mdc-evolution-chip--disabled",pe.disabled)("mdc-evolution-chip--with-trailing-action",pe._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",pe.leadingIcon)("mdc-evolution-chip--with-primary-icon",pe.leadingIcon)("mdc-evolution-chip--with-avatar",pe.leadingIcon)("mat-mdc-chip-highlighted",pe.highlighted)("mat-mdc-chip-with-trailing-icon",pe._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[D.Jv_([{provide:Ce,useExisting:ut},{provide:ge,useExisting:ut}]),D.Vt3,D.aNF],ngContentSelectors:be,decls:10,vars:10,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(Pe,pe){1&Pe&&(D.NAR(re),D.DNE(0,j,1,0,"span",0),D.j41(1,"span",1),D.DNE(2,X,2,0,"span",2),D.j41(3,"span",3),D.DNE(4,xe,2,1)(5,q,1,0),D.nrm(6,"span",4),D.k0s()(),D.DNE(7,Ae,2,0,"span",5),D.j41(8,"span",6),D.EFF(9),D.k0s()),2&Pe&&(D.vxM(pe._isEditing?-1:0),D.R7$(),D.Y8G("tabIndex",pe.tabIndex)("disabled",pe.disabled),D.BMQ("aria-label",pe.ariaLabel)("aria-describedby",pe._ariaDescriptionId),D.R7$(),D.vxM(pe.leadingIcon?2:-1),D.R7$(2),D.vxM(pe._isEditing?4:5),D.R7$(3),D.vxM(pe._hasTrailingIcon()?7:-1),D.R7$(),D.Y8G("id",pe._ariaDescriptionId),D.R7$(),D.JRh(pe.ariaDescription))},dependencies:[ye,Tt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ut})(),ft=(()=>{class ut{get chipFocusChanges(){return this._getChipStream(Z=>Z._onFocus)}get chipDestroyedChanges(){return this._getChipStream(Z=>Z.destroyed)}get chipRemovedChanges(){return this._getChipStream(Z=>Z.removed)}get disabled(){return this._disabled}set disabled(Z){this._disabled=Z,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(Z){this._explicitRole=Z}get focused(){return this._hasFocusedChip()}constructor(Z,Pe,pe){this._elementRef=Z,this._changeDetectorRef=Pe,this._dir=pe,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new S.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new D.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(Z=>Z._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(Z=>{Z.disabled=this._disabled,Z._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(Z){this._originatesFromChip(Z)&&this._keyManager.onKeydown(Z)}_isValidIndex(Z){return Z>=0&&Z<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const Z=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=Z,this._changeDetectorRef.markForCheck()})}}_getChipStream(Z){return this._chips.changes.pipe((0,y.Z)(null),(0,x.n)(()=>(0,I.h)(...this._chips.map(Z))))}_originatesFromChip(Z){let Pe=Z.target;for(;Pe&&Pe!==this._elementRef.nativeElement;){if(Pe.classList.contains("mat-mdc-chip"))return!0;Pe=Pe.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,y.Z)(this._chips)).subscribe(Z=>{const Pe=[];Z.forEach(pe=>pe._getActions().forEach(lt=>Pe.push(lt))),this._chipActions.reset(Pe),this._chipActions.notifyOnChanges()}),this._keyManager=new d.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(Z=>this._skipPredicate(Z)),this.chipFocusChanges.pipe((0,E.Q)(this._destroyed)).subscribe(({chip:Z})=>{const Pe=Z._getSourceAction(document.activeElement);Pe&&this._keyManager.updateActiveItem(Pe)}),this._dir?.change.pipe((0,E.Q)(this._destroyed)).subscribe(Z=>this._keyManager.withHorizontalOrientation(Z))}_skipPredicate(Z){return!Z.isInteractive||Z.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,y.Z)(null),(0,E.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,E.Q)(this._destroyed)).subscribe(Z=>{const pe=this._chips.toArray().indexOf(Z.chip);this._isValidIndex(pe)&&Z.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=pe)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const Z=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Pe=this._chips.toArray()[Z];Pe.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Pe.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.aKT),D.rXU(D.gRc),D.rXU($.dS,8))};static#t=this.\u0275cmp=D.VBU({type:ut,selectors:[["mat-chip-set"]],contentQueries:function(Pe,pe,lt){if(1&Pe&&D.wni(lt,Ce,5),2&Pe){let Gt;D.mGM(Gt=D.lsd())&&(pe._chips=Gt)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Pe,pe){1&Pe&&D.bIt("keydown",function(Gt){return pe._handleKeydown(Gt)}),2&Pe&&D.BMQ("role",pe.role)},inputs:{disabled:[2,"disabled","disabled",D.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",Z=>null==Z?0:(0,D.Udg)(Z)]},standalone:!0,features:[D.GFd,D.aNF],ngContentSelectors:Xe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Pe,pe){1&Pe&&(D.NAR(),D.j41(0,"div",0),D.SdG(1),D.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return ut})();class It{constructor(dt,Z){this.source=dt,this.value=Z}}let at=(()=>{class ut extends ft{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(Z){this._disabled=Z,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(Z){this._placeholder=Z,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(R.k0.required)??!1}set required(Z){this._required=Z,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(Z){this._value=Z}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Z){this._errorStateTracker.matcher=Z}get chipBlurChanges(){return this._getChipStream(Z=>Z._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(Z){this._errorStateTracker.errorState=Z}constructor(Z,Pe,pe,lt,Gt,rn,Hn){super(Z,Pe,pe),this.ngControl=Hn,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new D.bkB,this.valueChange=new D.bkB,this._chips=void 0,this.stateChanges=new S.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new C.X0(rn,Hn,Gt,lt,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,E.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,I.h)(this.chipFocusChanges,this._chips.changes).pipe((0,E.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(Z){this._chipInput=Z,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(Z){!this.disabled&&!this._originatesFromChip(Z)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(Z){this._ariaDescribedbyIds=Z,this._chipInput?.setDescribedByIds(Z)}writeValue(Z){this._value=Z}registerOnChange(Z){this._onChange=Z}registerOnTouched(Z){this._onTouched=Z}setDisabledState(Z){this.disabled=Z,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(Z){const Pe=Z.keyCode,pe=this._keyManager.activeItem;if(Pe===A.wn)this._chipInput.focused&&(0,A.rp)(Z,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(Z.preventDefault(),pe?this._keyManager.setActiveItem(pe):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(Pe!==A.i7&&Pe!==A.n6||!pe)super._handleKeydown(Z);else{const lt=this._chipActions.filter(Hn=>Hn._isPrimary===pe._isPrimary&&!this._skipPredicate(Hn)),Gt=lt.indexOf(pe),rn=Z.keyCode===A.i7?-1:1;Z.preventDefault(),Gt>-1&&this._isValidIndex(Gt+rn)&&this._keyManager.setActiveItem(lt[Gt+rn])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const Z=this._chips.length?this._chips.toArray().map(Pe=>Pe.value):[];this._value=Z,this.change.emit(new It(this,Z)),this.valueChange.emit(Z),this._onChange(Z),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.aKT),D.rXU(D.gRc),D.rXU($.dS,8),D.rXU(R.cV,8),D.rXU(R.j4,8),D.rXU(C.es),D.rXU(R.vO,10))};static#t=this.\u0275cmp=D.VBU({type:ut,selectors:[["mat-chip-grid"]],contentQueries:function(Pe,pe,lt){if(1&Pe&&D.wni(lt,Ot,5),2&Pe){let Gt;D.mGM(Gt=D.lsd())&&(pe._chips=Gt)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(Pe,pe){1&Pe&&D.bIt("focus",function(){return pe.focus()})("blur",function(){return pe._blur()}),2&Pe&&(D.BMQ("role",pe.role)("tabindex",pe.disabled||pe._chips&&0===pe._chips.length?-1:pe.tabIndex)("aria-disabled",pe.disabled.toString())("aria-invalid",pe.errorState),D.AVh("mat-mdc-chip-list-disabled",pe.disabled)("mat-mdc-chip-list-invalid",pe.errorState)("mat-mdc-chip-list-required",pe.required))},inputs:{disabled:[2,"disabled","disabled",D.L39],placeholder:"placeholder",required:[2,"required","required",D.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[D.Jv_([{provide:O.qT,useExisting:ut}]),D.GFd,D.Vt3,D.aNF],ngContentSelectors:Xe,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Pe,pe){1&Pe&&(D.NAR(),D.j41(0,"div",0),D.SdG(1),D.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return ut})(),ot=0,Nt=(()=>{class ut{get chipGrid(){return this._chipGrid}set chipGrid(Z){Z&&(this._chipGrid=Z,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(Z){this._disabled=Z}get empty(){return!this.inputElement.value}constructor(Z,Pe,pe){this._elementRef=Z,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new D.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+ot++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=Pe.separatorKeyCodes,pe&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(Z){this.empty&&Z.keyCode===A.G_?(Z.repeat||this._chipGrid._focusLastChip(),Z.preventDefault()):this._emitChipEnd(Z)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(Z){(!Z||this._isSeparatorKey(Z))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),Z?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(Z){const Pe=this._elementRef.nativeElement;Z.length?Pe.setAttribute("aria-describedby",Z.join(" ")):Pe.removeAttribute("aria-describedby")}_isSeparatorKey(Z){return!(0,A.rp)(Z)&&new Set(this.separatorKeyCodes).has(Z.keyCode)}static#e=this.\u0275fac=function(Pe){return new(Pe||ut)(D.rXU(D.aKT),D.rXU(Je),D.rXU(O.xb,8))};static#t=this.\u0275dir=D.FsC({type:ut,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(Pe,pe){1&Pe&&D.bIt("keydown",function(Gt){return pe._keydown(Gt)})("blur",function(){return pe._blur()})("focus",function(){return pe._focus()})("input",function(){return pe._onInput()}),2&Pe&&(D.Mr5("id",pe.id),D.BMQ("disabled",pe.disabled||null)("placeholder",pe.placeholder||null)("aria-invalid",pe._chipGrid&&pe._chipGrid.ngControl?pe._chipGrid.ngControl.invalid:null)("aria-required",pe._chipGrid&&pe._chipGrid.required||null)("required",pe._chipGrid&&pe._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",D.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",D.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[D.GFd,D.OA$]})}return ut})(),wt=(()=>{class ut{static#e=this.\u0275fac=function(Pe){return new(Pe||ut)};static#t=this.\u0275mod=D.$C({type:ut});static#n=this.\u0275inj=D.G2t({providers:[C.es,{provide:Je,useValue:{separatorKeyCodes:[A.Fm]}}],imports:[C.yE,C.pZ,C.yE]})}return ut})()},5060:(hn,Re,_)=>{"use strict";_.d(Re,{r5:()=>re,ed:()=>be,MJ:()=>Ne,es:()=>Oe,de:()=>Be,QC:()=>$t,is:()=>xt,$E:()=>rn,yE:()=>se,D7:()=>bn,wT:()=>Dn,Sy:()=>Xn,MI:()=>Ri,wg:()=>on,r6:()=>Hn,Ej:()=>_n,pZ:()=>Ei,Ex:()=>ot,X0:()=>je,tO:()=>ct,jb:()=>Kn,TL:()=>xn});var d=_(7404),A=_(2102),w=_(3680),C=_(316),S=_(7699),I=_(2814),E=_(3119),y=_(4879);const x=["*",[["mat-option"],["ng-container"]]],$=["*","mat-option, ng-container"],R=["text"],O=[[["mat-icon"]],"*"],M=["mat-icon","*"];function L(De,st){if(1&De&&d.nrm(0,"mat-pseudo-checkbox",1),2&De){const Fe=d.XpG();d.Y8G("disabled",Fe.disabled)("state",Fe.selected?"checked":"unchecked")}}function U(De,st){if(1&De&&d.nrm(0,"mat-pseudo-checkbox",3),2&De){const Fe=d.XpG();d.Y8G("disabled",Fe.disabled)}}function F(De,st){if(1&De&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&De){const Fe=d.XpG();d.R7$(),d.SpI("(",Fe.group.label,")")}}const J=["mat-internal-form-field",""],ue=["*"];let re=(()=>{class De{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return De})(),be=(()=>{class De{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return De})();const X=new d.nKC("mat-sanity-checks",{providedIn:"root",factory:function j(){return!0}});let se=(()=>{class De{constructor(Fe,bt,Ft){this._sanityChecks=bt,this._document=Ft,this._hasDoneGlobalChecks=!1,Fe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Fe){return!(0,S.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Fe])}static#e=this.\u0275fac=function(bt){return new(bt||De)(d.KVO(A.Q_),d.KVO(X,8),d.KVO(C.qQ))};static#t=this.\u0275mod=d.$C({type:De});static#n=this.\u0275inj=d.G2t({imports:[w.jI,w.jI]})}return De})();class je{constructor(st,Fe,bt,Ft,An){this._defaultMatcher=st,this.ngControl=Fe,this._parentFormGroup=bt,this._parentForm=Ft,this._stateChanges=An,this.errorState=!1}updateErrorState(){const st=this.errorState,Fe=this._parentFormGroup||this._parentForm,bt=this.matcher||this._defaultMatcher,Ft=this.ngControl?this.ngControl.control:null,An=bt?.isErrorState(Ft,Fe)??!1;An!==st&&(this.errorState=An,this._stateChanges.next())}}class Ne{constructor(){this._localeChanges=new E.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(st){return this.isDateInstance(st)&&this.isValid(st)?st:null}deserialize(st){return null==st||this.isDateInstance(st)&&this.isValid(st)?st:this.invalid()}setLocale(st){this.locale=st,this._localeChanges.next()}compareDate(st,Fe){return this.getYear(st)-this.getYear(Fe)||this.getMonth(st)-this.getMonth(Fe)||this.getDate(st)-this.getDate(Fe)}sameDate(st,Fe){if(st&&Fe){let bt=this.isValid(st),Ft=this.isValid(Fe);return bt&&Ft?!this.compareDate(st,Fe):bt==Ft}return st==Fe}clampDate(st,Fe,bt){return Fe&&this.compareDate(st,Fe)<0?Fe:bt&&this.compareDate(st,bt)>0?bt:st}}const Be=new d.nKC("mat-date-formats");let Oe=(()=>{class De{isErrorState(Fe,bt){return!!(Fe&&Fe.invalid&&(Fe.touched||bt&&bt.submitted))}static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275prov=d.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();var ot=function(De){return De[De.FADING_IN=0]="FADING_IN",De[De.VISIBLE=1]="VISIBLE",De[De.FADING_OUT=2]="FADING_OUT",De[De.HIDDEN=3]="HIDDEN",De}(ot||{});class Nt{constructor(st,Fe,bt,Ft=!1){this._renderer=st,this.element=Fe,this.config=bt,this._animationForciblyDisabledThroughCss=Ft,this.state=ot.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ut=(0,S.BQ)({passive:!0,capture:!0});class wt{constructor(){this._events=new Map,this._delegateEventHandler=st=>{const Fe=(0,S.Fb)(st);Fe&&this._events.get(st.type)?.forEach((bt,Ft)=>{(Ft===Fe||Ft.contains(Fe))&&bt.forEach(An=>An.handleEvent(st))})}}addHandler(st,Fe,bt,Ft){const An=this._events.get(Fe);if(An){const Rn=An.get(bt);Rn?Rn.add(Ft):An.set(bt,new Set([Ft]))}else this._events.set(Fe,new Map([[bt,new Set([Ft])]])),st.runOutsideAngular(()=>{document.addEventListener(Fe,this._delegateEventHandler,Ut)})}removeHandler(st,Fe,bt){const Ft=this._events.get(st);if(!Ft)return;const An=Ft.get(Fe);An&&(An.delete(bt),0===An.size&&Ft.delete(Fe),0===Ft.size&&(this._events.delete(st),document.removeEventListener(st,this._delegateEventHandler,Ut)))}}const ut={enterDuration:225,exitDuration:150},Z=(0,S.BQ)({passive:!0,capture:!0}),Pe=["mousedown","touchstart"],pe=["mouseup","mouseleave","touchend","touchcancel"];class lt{static#e=this._eventManager=new wt;constructor(st,Fe,bt,Ft){this._target=st,this._ngZone=Fe,this._platform=Ft,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ft.isBrowser&&(this._containerElement=(0,I.i8)(bt))}fadeInRipple(st,Fe,bt={}){const Ft=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),An={...ut,...bt.animation};bt.centered&&(st=Ft.left+Ft.width/2,Fe=Ft.top+Ft.height/2);const Rn=bt.radius||function Gt(De,st,Fe){const bt=Math.max(Math.abs(De-Fe.left),Math.abs(De-Fe.right)),Ft=Math.max(Math.abs(st-Fe.top),Math.abs(st-Fe.bottom));return Math.sqrt(bt*bt+Ft*Ft)}(st,Fe,Ft),ni=st-Ft.left,gi=Fe-Ft.top,Ui=An.enterDuration,Ti=document.createElement("div");Ti.classList.add("mat-ripple-element"),Ti.style.left=ni-Rn+"px",Ti.style.top=gi-Rn+"px",Ti.style.height=2*Rn+"px",Ti.style.width=2*Rn+"px",null!=bt.color&&(Ti.style.backgroundColor=bt.color),Ti.style.transitionDuration=`${Ui}ms`,this._containerElement.appendChild(Ti);const Hi=window.getComputedStyle(Ti),Gi=Hi.transitionDuration,lr="none"===Hi.transitionProperty||"0s"===Gi||"0s, 0s"===Gi||0===Ft.width&&0===Ft.height,ir=new Nt(this,Ti,bt,lr);Ti.style.transform="scale3d(1, 1, 1)",ir.state=ot.FADING_IN,bt.persistent||(this._mostRecentTransientRipple=ir);let Sr=null;return!lr&&(Ui||An.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Hr=()=>{Sr&&(Sr.fallbackTimer=null),clearTimeout(Vr),this._finishRippleTransition(ir)},vs=()=>this._destroyRipple(ir),Vr=setTimeout(vs,Ui+100);Ti.addEventListener("transitionend",Hr),Ti.addEventListener("transitioncancel",vs),Sr={onTransitionEnd:Hr,onTransitionCancel:vs,fallbackTimer:Vr}}),this._activeRipples.set(ir,Sr),(lr||!Ui)&&this._finishRippleTransition(ir),ir}fadeOutRipple(st){if(st.state===ot.FADING_OUT||st.state===ot.HIDDEN)return;const Fe=st.element,bt={...ut,...st.config.animation};Fe.style.transitionDuration=`${bt.exitDuration}ms`,Fe.style.opacity="0",st.state=ot.FADING_OUT,(st._animationForciblyDisabledThroughCss||!bt.exitDuration)&&this._finishRippleTransition(st)}fadeOutAll(){this._getActiveRipples().forEach(st=>st.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(st=>{st.config.persistent||st.fadeOut()})}setupTriggerEvents(st){const Fe=(0,I.i8)(st);!this._platform.isBrowser||!Fe||Fe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Fe,Pe.forEach(bt=>{lt._eventManager.addHandler(this._ngZone,bt,Fe,this)}))}handleEvent(st){"mousedown"===st.type?this._onMousedown(st):"touchstart"===st.type?this._onTouchStart(st):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{pe.forEach(Fe=>{this._triggerElement.addEventListener(Fe,this,Z)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(st){st.state===ot.FADING_IN?this._startFadeOutTransition(st):st.state===ot.FADING_OUT&&this._destroyRipple(st)}_startFadeOutTransition(st){const Fe=st===this._mostRecentTransientRipple,{persistent:bt}=st.config;st.state=ot.VISIBLE,!bt&&(!Fe||!this._isPointerDown)&&st.fadeOut()}_destroyRipple(st){const Fe=this._activeRipples.get(st)??null;this._activeRipples.delete(st),this._activeRipples.size||(this._containerRect=null),st===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),st.state=ot.HIDDEN,null!==Fe&&(st.element.removeEventListener("transitionend",Fe.onTransitionEnd),st.element.removeEventListener("transitioncancel",Fe.onTransitionCancel),null!==Fe.fallbackTimer&&clearTimeout(Fe.fallbackTimer)),st.element.remove()}_onMousedown(st){const Fe=(0,A._G)(st),bt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Fe&&!bt&&(this._isPointerDown=!0,this.fadeInRipple(st.clientX,st.clientY,this._target.rippleConfig))}_onTouchStart(st){if(!this._target.rippleDisabled&&!(0,A.w6)(st)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Fe=st.changedTouches;if(Fe)for(let bt=0;bt<Fe.length;bt++)this.fadeInRipple(Fe[bt].clientX,Fe[bt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(st=>{!st.config.persistent&&(st.state===ot.VISIBLE||st.config.terminateOnPointerUp&&st.state===ot.FADING_IN)&&st.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const st=this._triggerElement;st&&(Pe.forEach(Fe=>lt._eventManager.removeHandler(Fe,st,this)),this._pointerUpEventsRegistered&&(pe.forEach(Fe=>st.removeEventListener(Fe,this,Z)),this._pointerUpEventsRegistered=!1))}}const rn=new d.nKC("mat-ripple-global-options");let Hn=(()=>{class De{get disabled(){return this._disabled}set disabled(Fe){Fe&&this.fadeOutAllNonPersistent(),this._disabled=Fe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Fe){this._trigger=Fe,this._setupTriggerEventsIfEnabled()}constructor(Fe,bt,Ft,An,Rn){this._elementRef=Fe,this._animationMode=Rn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=An||{},this._rippleRenderer=new lt(this,bt,Fe,Ft)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Fe,bt=0,Ft){return"number"==typeof Fe?this._rippleRenderer.fadeInRipple(Fe,bt,{...this.rippleConfig,...Ft}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Fe})}static#e=this.\u0275fac=function(bt){return new(bt||De)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(S.OD),d.rXU(rn,8),d.rXU(d.bc$,8))};static#t=this.\u0275dir=d.FsC({type:De,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(bt,Ft){2&bt&&d.AVh("mat-ripple-unbounded",Ft.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return De})(),Ei=(()=>{class De{static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275mod=d.$C({type:De});static#n=this.\u0275inj=d.G2t({imports:[se,se]})}return De})(),on=(()=>{class De{constructor(Fe){this._animationMode=Fe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(bt){return new(bt||De)(d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:De,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(bt,Ft){2&bt&&d.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Ft.state)("mat-pseudo-checkbox-checked","checked"===Ft.state)("mat-pseudo-checkbox-disabled",Ft.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ft.appearance)("mat-pseudo-checkbox-full","full"===Ft.appearance)("_mat-animation-noopable","NoopAnimations"===Ft._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[d.aNF],decls:0,vars:0,template:function(bt,Ft){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return De})(),nn=(()=>{class De{static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275mod=d.$C({type:De});static#n=this.\u0275inj=d.G2t({imports:[se]})}return De})();const xt=new d.nKC("MAT_OPTION_PARENT_COMPONENT");let zt=0;const $t=new d.nKC("MatOptgroup");let bn=(()=>{class De{constructor(Fe){this.disabled=!1,this._labelId="mat-optgroup-label-"+zt++,this._inert=Fe?.inertGroups??!1}static#e=this.\u0275fac=function(bt){return new(bt||De)(d.rXU(xt,8))};static#t=this.\u0275cmp=d.VBU({type:De,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(bt,Ft){2&bt&&d.BMQ("role",Ft._inert?null:"group")("aria-disabled",Ft._inert?null:Ft.disabled.toString())("aria-labelledby",Ft._inert?null:Ft._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",d.L39]},exportAs:["matOptgroup"],standalone:!0,features:[d.Jv_([{provide:$t,useExisting:De}]),d.GFd,d.aNF],ngContentSelectors:$,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(bt,Ft){1&bt&&(d.NAR(x),d.j41(0,"span",0)(1,"span",1),d.EFF(2),d.SdG(3),d.k0s()(),d.SdG(4,1)),2&bt&&(d.AVh("mdc-list-item--disabled",Ft.disabled),d.Y8G("id",Ft._labelId),d.R7$(2),d.SpI("",Ft.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color);font-family:var(--mat-optgroup-label-text-font);line-height:var(--mat-optgroup-label-text-line-height);font-size:var(--mat-optgroup-label-text-size);letter-spacing:var(--mat-optgroup-label-text-tracking);font-weight:var(--mat-optgroup-label-text-weight)}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return De})(),Pn=0;class Ri{constructor(st,Fe=!1){this.source=st,this.isUserInput=Fe}}let Dn=(()=>{class De{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Fe){this._disabled=Fe}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Fe,bt,Ft,An){this._element=Fe,this._changeDetectorRef=bt,this._parent=Ft,this.group=An,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Pn++,this.onSelectionChange=new d.bkB,this._stateChanges=new E.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Fe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Fe&&this._emitSelectionChangeEvent())}deselect(Fe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Fe&&this._emitSelectionChangeEvent())}focus(Fe,bt){const Ft=this._getHostElement();"function"==typeof Ft.focus&&Ft.focus(bt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Fe){(Fe.keyCode===y.Fm||Fe.keyCode===y.t6)&&!(0,y.rp)(Fe)&&(this._selectViaInteraction(),Fe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Fe=this.viewValue;Fe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Fe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Fe=!1){this.onSelectionChange.emit(new Ri(this,Fe))}static#e=this.\u0275fac=function(bt){return new(bt||De)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(xt,8),d.rXU($t,8))};static#t=this.\u0275cmp=d.VBU({type:De,selectors:[["mat-option"]],viewQuery:function(bt,Ft){if(1&bt&&d.GBs(R,7),2&bt){let An;d.mGM(An=d.lsd())&&(Ft._text=An.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(bt,Ft){1&bt&&d.bIt("click",function(){return Ft._selectViaInteraction()})("keydown",function(Rn){return Ft._handleKeydown(Rn)}),2&bt&&(d.Mr5("id",Ft.id),d.BMQ("aria-selected",Ft.selected)("aria-disabled",Ft.disabled.toString()),d.AVh("mdc-list-item--selected",Ft.selected)("mat-mdc-option-multiple",Ft.multiple)("mat-mdc-option-active",Ft.active)("mdc-list-item--disabled",Ft.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",d.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:M,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(bt,Ft){1&bt&&(d.NAR(O),d.DNE(0,L,1,2,"mat-pseudo-checkbox",1),d.SdG(1),d.j41(2,"span",2,0),d.SdG(4,1),d.k0s(),d.DNE(5,U,1,1,"mat-pseudo-checkbox",3)(6,F,2,1,"span",4),d.nrm(7,"div",5)),2&bt&&(d.vxM(Ft.multiple?0:-1),d.R7$(5),d.vxM(Ft.multiple||!Ft.selected||Ft.hideSingleSelectionIndicator?-1:5),d.R7$(),d.vxM(Ft.group&&Ft.group._inert?6:-1),d.R7$(),d.Y8G("matRippleTrigger",Ft._getHostElement())("matRippleDisabled",Ft.disabled||Ft.disableRipple))},dependencies:[on,Hn],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return De})();function Kn(De,st,Fe){if(Fe.length){let bt=st.toArray(),Ft=Fe.toArray(),An=0;for(let Rn=0;Rn<De+1;Rn++)bt[Rn].group&&bt[Rn].group===Ft[An]&&An++;return An}return 0}function xn(De,st,Fe,bt){return De<Fe?De:De+st>Fe+bt?Math.max(0,De-bt+st):Fe}let Xn=(()=>{class De{static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275mod=d.$C({type:De});static#n=this.\u0275inj=d.G2t({imports:[Ei,se,nn]})}return De})();const pt={capture:!0},Le=["focus","mousedown","mouseenter","touchstart"],We="mat-ripple-loader-uninitialized",$e="mat-ripple-loader-class-name",gt="mat-ripple-loader-centered",Zt="mat-ripple-loader-disabled";let _n=(()=>{class De{constructor(){this._document=(0,d.WQX)(C.qQ,{optional:!0}),this._animationMode=(0,d.WQX)(d.bc$,{optional:!0}),this._globalRippleOptions=(0,d.WQX)(rn,{optional:!0}),this._platform=(0,d.WQX)(S.OD),this._ngZone=(0,d.WQX)(d.SKi),this._hosts=new Map,this._onInteraction=Fe=>{const bt=(0,S.Fb)(Fe);if(bt instanceof HTMLElement){const Ft=bt.closest(`[${We}="${this._globalRippleOptions?.namespace??""}"]`);Ft&&this._createRipple(Ft)}},this._ngZone.runOutsideAngular(()=>{for(const Fe of Le)this._document?.addEventListener(Fe,this._onInteraction,pt)})}ngOnDestroy(){const Fe=this._hosts.keys();for(const bt of Fe)this.destroyRipple(bt);for(const bt of Le)this._document?.removeEventListener(bt,this._onInteraction,pt)}configureRipple(Fe,bt){Fe.setAttribute(We,this._globalRippleOptions?.namespace??""),(bt.className||!Fe.hasAttribute($e))&&Fe.setAttribute($e,bt.className||""),bt.centered&&Fe.setAttribute(gt,""),bt.disabled&&Fe.setAttribute(Zt,"")}getRipple(Fe){return this._hosts.get(Fe)||this._createRipple(Fe)}setDisabled(Fe,bt){const Ft=this._hosts.get(Fe);Ft?Ft.disabled=bt:bt?Fe.setAttribute(Zt,""):Fe.removeAttribute(Zt)}_createRipple(Fe){if(!this._document)return;const bt=this._hosts.get(Fe);if(bt)return bt;Fe.querySelector(".mat-ripple")?.remove();const Ft=this._document.createElement("span");Ft.classList.add("mat-ripple",Fe.getAttribute($e)),Fe.append(Ft);const An=new Hn(new d.aKT(Ft),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return An._isInitialized=!0,An.trigger=Fe,An.centered=Fe.hasAttribute(gt),An.disabled=Fe.hasAttribute(Zt),this.attachRipple(Fe,An),An}attachRipple(Fe,bt){Fe.removeAttribute(We),this._hosts.set(Fe,bt)}destroyRipple(Fe){const bt=this._hosts.get(Fe);bt&&(bt.ngOnDestroy(),this._hosts.delete(Fe))}static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275prov=d.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),ct=(()=>{class De{static#e=this.\u0275fac=function(bt){return new(bt||De)};static#t=this.\u0275cmp=d.VBU({type:De,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(bt,Ft){2&bt&&d.AVh("mdc-form-field--align-end","before"===Ft.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[d.aNF],attrs:J,ngContentSelectors:ue,decls:1,vars:0,template:function(bt,Ft){1&bt&&(d.NAR(),d.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return De})()},1977:(hn,Re,_)=>{"use strict";_.d(Re,{X6:()=>si});var d=_(2102),A=_(1570),w=_(9168),D=_(316),C=_(7404),S=_(4175),I=_(4053),E=_(5060),y=_(3119),x=_(2672),$=_(1536),R=_(7405),O=_(4879),M=_(3680),L=_(7699),U=_(9273),F=_(7172);_(4456),_(5944),_(7984);const re=["mat-calendar-body",""];function be(Ge,Mt){return this._trackRow(Mt)}const j=(Ge,Mt)=>Mt.id;function X(Ge,Mt){if(1&Ge&&(C.j41(0,"tr",0)(1,"td",3),C.EFF(2),C.k0s()()),2&Ge){const ne=C.XpG();C.R7$(),C.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),C.BMQ("colspan",ne.numCols),C.R7$(),C.SpI(" ",ne.label," ")}}function se(Ge,Mt){if(1&Ge&&(C.j41(0,"td",3),C.EFF(1),C.k0s()),2&Ge){const ne=C.XpG(2);C.xc7("padding-top",ne._cellPadding)("padding-bottom",ne._cellPadding),C.BMQ("colspan",ne._firstRowOffset),C.R7$(),C.SpI(" ",ne._firstRowOffset>=ne.labelMinRequiredCells?ne.label:""," ")}}function W(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"td",6)(1,"button",7),C.bIt("click",function(He){const kt=C.eBV(ne).$implicit,Bt=C.XpG(2);return C.Njj(Bt._cellClicked(kt,He))})("focus",function(He){const kt=C.eBV(ne).$implicit,Bt=C.XpG(2);return C.Njj(Bt._emitActiveDateChange(kt,He))}),C.j41(2,"span",8),C.EFF(3),C.k0s(),C.nrm(4,"span",9),C.k0s()()}if(2&Ge){const ne=Mt.$implicit,et=Mt.$index,He=C.XpG().$index,kt=C.XpG();C.xc7("width",kt._cellWidth)("padding-top",kt._cellPadding)("padding-bottom",kt._cellPadding),C.BMQ("data-mat-row",He)("data-mat-col",et),C.R7$(),C.AVh("mat-calendar-body-disabled",!ne.enabled)("mat-calendar-body-active",kt._isActiveCell(He,et))("mat-calendar-body-range-start",kt._isRangeStart(ne.compareValue))("mat-calendar-body-range-end",kt._isRangeEnd(ne.compareValue))("mat-calendar-body-in-range",kt._isInRange(ne.compareValue))("mat-calendar-body-comparison-bridge-start",kt._isComparisonBridgeStart(ne.compareValue,He,et))("mat-calendar-body-comparison-bridge-end",kt._isComparisonBridgeEnd(ne.compareValue,He,et))("mat-calendar-body-comparison-start",kt._isComparisonStart(ne.compareValue))("mat-calendar-body-comparison-end",kt._isComparisonEnd(ne.compareValue))("mat-calendar-body-in-comparison-range",kt._isInComparisonRange(ne.compareValue))("mat-calendar-body-preview-start",kt._isPreviewStart(ne.compareValue))("mat-calendar-body-preview-end",kt._isPreviewEnd(ne.compareValue))("mat-calendar-body-in-preview",kt._isInPreview(ne.compareValue)),C.Y8G("ngClass",ne.cssClasses)("tabindex",kt._isActiveCell(He,et)?0:-1),C.BMQ("aria-label",ne.ariaLabel)("aria-disabled",!ne.enabled||null)("aria-pressed",kt._isSelected(ne.compareValue))("aria-current",kt.todayValue===ne.compareValue?"date":null)("aria-describedby",kt._getDescribedby(ne.compareValue)),C.R7$(),C.AVh("mat-calendar-body-selected",kt._isSelected(ne.compareValue))("mat-calendar-body-comparison-identical",kt._isComparisonIdentical(ne.compareValue))("mat-calendar-body-today",kt.todayValue===ne.compareValue),C.R7$(),C.SpI(" ",ne.displayValue," ")}}function xe(Ge,Mt){if(1&Ge&&(C.j41(0,"tr",1),C.DNE(1,se,2,6,"td",4),C.Z7z(2,W,5,48,"td",5,j),C.k0s()),2&Ge){const ne=Mt.$implicit,et=Mt.$index,He=C.XpG();C.R7$(),C.vxM(0===et&&He._firstRowOffset?1:-1),C.R7$(),C.Dyx(ne)}}function q(Ge,Mt){if(1&Ge&&(C.j41(0,"th",2)(1,"span",6),C.EFF(2),C.k0s(),C.j41(3,"span",3),C.EFF(4),C.k0s()()),2&Ge){const ne=Mt.$implicit;C.R7$(2),C.JRh(ne.long),C.R7$(2),C.JRh(ne.narrow)}}const Ae=["*"];function Xe(Ge,Mt){}function yt(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-month-view",4),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("_userSelection",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dateSelected(He))})("dragStarted",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dragStarted(He))})("dragEnded",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._dragEnded(He))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)("comparisonStart",ne.comparisonStart)("comparisonEnd",ne.comparisonEnd)("startDateAccessibleName",ne.startDateAccessibleName)("endDateAccessibleName",ne.endDateAccessibleName)("activeDrag",ne._activeDrag)}}function Je(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-year-view",5),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("monthSelected",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._monthSelectedInYearView(He))})("selectedChange",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._goToDateInView(He,"month"))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function je(Ge,Mt){if(1&Ge){const ne=C.RV6();C.j41(0,"mat-multi-year-view",6),C.mxI("activeDateChange",function(He){C.eBV(ne);const kt=C.XpG();return C.DH7(kt.activeDate,He)||(kt.activeDate=He),C.Njj(He)}),C.bIt("yearSelected",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._yearSelectedInMultiYearView(He))})("selectedChange",function(He){C.eBV(ne);const kt=C.XpG();return C.Njj(kt._goToDateInView(He,"year"))}),C.k0s()}if(2&Ge){const ne=C.XpG();C.R50("activeDate",ne.activeDate),C.Y8G("selected",ne.selected)("dateFilter",ne.dateFilter)("maxDate",ne.maxDate)("minDate",ne.minDate)("dateClass",ne.dateClass)}}function K(Ge,Mt){}const oe=["button"],ge=[[["","matDatepickerToggleIcon",""]]],ye=["[matDatepickerToggleIcon]"];function Ne(Ge,Mt){1&Ge&&(C.qSk(),C.j41(0,"svg",2),C.nrm(1,"path",3),C.k0s())}let Qt=(()=>{class Ge{constructor(){this.changes=new y.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ne,et){return`${ne} \u2013 ${et}`}formatYearRangeLabel(ne,et){return`${ne} to ${et}`}static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Vt=0;class Tt{constructor(Mt,ne,et,He,kt={},Bt=Mt,Jn){this.value=Mt,this.displayValue=ne,this.ariaLabel=et,this.enabled=He,this.cssClasses=kt,this.compareValue=Bt,this.rawValue=Jn,this.id=Vt++}}let Ot=1;const ft=(0,L.BQ)({passive:!1,capture:!0}),Oe=(0,L.BQ)({passive:!0,capture:!0}),Ye=(0,L.BQ)({passive:!0});let vt=(()=>{class Ge{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ne,et){this._elementRef=ne,this._ngZone=et,this._platform=(0,C.WQX)(L.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new C.bkB,this.previewChange=new C.bkB,this.activeDateChange=new C.bkB,this.dragStarted=new C.bkB,this.dragEnded=new C.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,C.WQX)(C.zZn),this._trackRow=He=>He,this._enterHandler=He=>{if(this._skipNextFocus&&"focus"===He.type)this._skipNextFocus=!1;else if(He.target&&this.isRange){const kt=this._getCellFromElement(He.target);kt&&this._ngZone.run(()=>this.previewChange.emit({value:kt.enabled?kt:null,event:He}))}},this._touchmoveHandler=He=>{if(!this.isRange)return;const kt=wt(He),Bt=kt?this._getCellFromElement(kt):null;kt!==He.target&&(this._didDragSinceMouseDown=!0),at(He.target)&&He.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Bt?.enabled?Bt:null,event:He}))},this._leaveHandler=He=>{null!==this.previewEnd&&this.isRange&&("blur"!==He.type&&(this._didDragSinceMouseDown=!0),He.target&&this._getCellFromElement(He.target)&&(!He.relatedTarget||!this._getCellFromElement(He.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:He})))},this._mousedownHandler=He=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const kt=He.target&&this._getCellFromElement(He.target);!kt||!this._isInRange(kt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:kt.rawValue,event:He})})},this._mouseupHandler=He=>{if(!this.isRange)return;const kt=at(He.target);kt?kt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Bt=this._getCellFromElement(kt);this.dragEnded.emit({value:Bt?.rawValue??null,event:He})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:He})})},this._touchendHandler=He=>{const kt=wt(He);kt&&this._mouseupHandler({target:kt})},this._id="mat-calendar-body-"+Ot++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,et.runOutsideAngular(()=>{const He=ne.nativeElement;He.addEventListener("touchmove",this._touchmoveHandler,ft),He.addEventListener("mouseenter",this._enterHandler,Oe),He.addEventListener("focus",this._enterHandler,Oe),He.addEventListener("mouseleave",this._leaveHandler,Oe),He.addEventListener("blur",this._leaveHandler,Oe),He.addEventListener("mousedown",this._mousedownHandler,Ye),He.addEventListener("touchstart",this._mousedownHandler,Ye),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ne,et){this._didDragSinceMouseDown||ne.enabled&&this.selectedValueChange.emit({value:ne.value,event:et})}_emitActiveDateChange(ne,et){ne.enabled&&this.activeDateChange.emit({value:ne.value,event:et})}_isSelected(ne){return this.startValue===ne||this.endValue===ne}ngOnChanges(ne){const et=ne.numCols,{rows:He,numCols:kt}=this;(ne.rows||et)&&(this._firstRowOffset=He&&He.length&&He[0].length?kt-He[0].length:0),(ne.cellAspectRatio||et||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/kt+"%"),(et||!this._cellWidth)&&(this._cellWidth=100/kt+"%")}ngOnDestroy(){const ne=this._elementRef.nativeElement;ne.removeEventListener("touchmove",this._touchmoveHandler,ft),ne.removeEventListener("mouseenter",this._enterHandler,Oe),ne.removeEventListener("focus",this._enterHandler,Oe),ne.removeEventListener("mouseleave",this._leaveHandler,Oe),ne.removeEventListener("blur",this._leaveHandler,Oe),ne.removeEventListener("mousedown",this._mousedownHandler,Ye),ne.removeEventListener("touchstart",this._mousedownHandler,Ye),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ne,et){let He=ne*this.numCols+et;return ne&&(He-=this._firstRowOffset),He==this.activeCell}_focusActiveCell(ne=!0){(0,C.mal)(()=>{setTimeout(()=>{const et=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");et&&(ne||(this._skipNextFocus=!0),et.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ne){return ot(ne,this.startValue,this.endValue)}_isRangeEnd(ne){return Nt(ne,this.startValue,this.endValue)}_isInRange(ne){return Ut(ne,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ne){return ot(ne,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ne,et,He){if(!this._isComparisonStart(ne)||this._isRangeStart(ne)||!this._isInRange(ne))return!1;let kt=this.rows[et][He-1];if(!kt){const Bt=this.rows[et-1];kt=Bt&&Bt[Bt.length-1]}return kt&&!this._isRangeEnd(kt.compareValue)}_isComparisonBridgeEnd(ne,et,He){if(!this._isComparisonEnd(ne)||this._isRangeEnd(ne)||!this._isInRange(ne))return!1;let kt=this.rows[et][He+1];if(!kt){const Bt=this.rows[et+1];kt=Bt&&Bt[0]}return kt&&!this._isRangeStart(kt.compareValue)}_isComparisonEnd(ne){return Nt(ne,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ne){return Ut(ne,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ne){return this.comparisonStart===this.comparisonEnd&&ne===this.comparisonStart}_isPreviewStart(ne){return ot(ne,this.previewStart,this.previewEnd)}_isPreviewEnd(ne){return Nt(ne,this.previewStart,this.previewEnd)}_isInPreview(ne){return Ut(ne,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ne){return this.isRange?this.startValue===ne&&this.endValue===ne?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ne?this._startDateLabelId:this.endValue===ne?this._endDateLabelId:null:null}_getCellFromElement(ne){const et=at(ne);if(et){const He=et.getAttribute("data-mat-row"),kt=et.getAttribute("data-mat-col");if(He&&kt)return this.rows[parseInt(He)][parseInt(kt)]}return null}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.aKT),C.rXU(C.SKi))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[C.OA$,C.aNF],attrs:re,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(et,He){1&et&&(C.DNE(0,X,3,6,"tr",0),C.Z7z(1,xe,4,1,"tr",1,be,!0),C.j41(3,"label",2),C.EFF(4),C.k0s(),C.j41(5,"label",2),C.EFF(6),C.k0s()),2&et&&(C.vxM(He._firstRowOffset<He.labelMinRequiredCells?0:-1),C.R7$(),C.Dyx(He.rows),C.R7$(2),C.Y8G("id",He._startDateLabelId),C.R7$(),C.SpI(" ",He.startDateAccessibleName,"\n"),C.R7$(),C.Y8G("id",He._endDateLabelId),C.R7$(),C.SpI(" ",He.endDateAccessibleName,"\n"))},dependencies:[D.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return Ge})();function It(Ge){return"TD"===Ge?.nodeName}function at(Ge){let Mt;return It(Ge)?Mt=Ge:It(Ge.parentNode)?Mt=Ge.parentNode:It(Ge.parentNode?.parentNode)&&(Mt=Ge.parentNode.parentNode),null!=Mt?.getAttribute("data-mat-row")?Mt:null}function ot(Ge,Mt,ne){return null!==ne&&Mt!==ne&&Ge<ne&&Ge===Mt}function Nt(Ge,Mt,ne){return null!==Mt&&Mt!==ne&&Ge>=Mt&&Ge===ne}function Ut(Ge,Mt,ne,et){return et&&null!==Mt&&null!==ne&&Mt!==ne&&Ge>=Mt&&Ge<=ne}function wt(Ge){const Mt=Ge.changedTouches[0];return document.elementFromPoint(Mt.clientX,Mt.clientY)}class ut{constructor(Mt,ne){this.start=Mt,this.end=ne}}let dt=(()=>{class Ge{constructor(ne,et){this.selection=ne,this._adapter=et,this._selectionChanged=new y.B7,this.selectionChanged=this._selectionChanged,this.selection=ne}updateSelection(ne,et){const He=this.selection;this.selection=ne,this._selectionChanged.next({selection:ne,source:et,oldValue:He})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ne){return this._adapter.isDateInstance(ne)&&this._adapter.isValid(ne)}static#e=this.\u0275fac=function(et){C.QTQ()};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})(),Z=(()=>{class Ge extends dt{constructor(ne){super(null,ne)}add(ne){super.updateSelection(ne,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ne=new Ge(this._adapter);return ne.updateSelection(this.selection,this),ne}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.KVO(E.MJ))};static#t=this.\u0275prov=C.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();const lt={provide:dt,deps:[[new C.Xx1,new C.kdw,dt],E.MJ],useFactory:function pe(Ge,Mt){return Ge||new Z(Mt)}},Hn=new C.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let zt=0,$t=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){const et=this._activeDate,He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._hasSameMonthAndYear(et,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ut?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He,kt,Bt){this._changeDetectorRef=ne,this._dateFormats=et,this._dateAdapter=He,this._dir=kt,this._rangeStrategy=Bt,this._rerenderSubscription=x.y.EMPTY,this.activeDrag=null,this.selectedChange=new C.bkB,this._userSelection=new C.bkB,this.dragStarted=new C.bkB,this.dragEnded=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,U.Z)(null)).subscribe(()=>this._init())}ngOnChanges(ne){const et=ne.comparisonStart||ne.comparisonEnd;et&&!et.firstChange&&this._setRanges(this.selected),ne.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ne){const et=ne.value,He=this._getDateFromDayOfMonth(et);let kt,Bt;this._selected instanceof ut?(kt=this._getDateInCurrentMonth(this._selected.start),Bt=this._getDateInCurrentMonth(this._selected.end)):kt=Bt=this._getDateInCurrentMonth(this._selected),(kt!==et||Bt!==et)&&this.selectedChange.emit(He),this._userSelection.emit({value:He,event:ne.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case O.w_:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case O.dB:this.activeDate=ne.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case O.Fm:case O.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ne.preventDefault());case O._f:return void(null!=this._previewEnd&&!(0,O.rp)(ne)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ne}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ne})),ne.preventDefault(),ne.stopPropagation()));default:return}this._dateAdapter.compareDate(et,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ne=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ne)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ne){this._matCalendarBody._focusActiveCell(ne)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ne,value:et}){if(this._rangeStrategy){const He=et?et.rawValue:null,kt=this._rangeStrategy.createPreview(He,this.selected,ne);if(this._previewStart=this._getCellCompareValue(kt.start),this._previewEnd=this._getCellCompareValue(kt.end),this.activeDrag&&He){const Bt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,He,ne);Bt&&(this._previewStart=this._getCellCompareValue(Bt.start),this._previewEnd=this._getCellCompareValue(Bt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ne){if(this.activeDrag)if(ne.value){const et=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ne.value,ne.event);this.dragEnded.emit({value:et??null,event:ne.event})}else this.dragEnded.emit({value:null,event:ne.event})}_getDateFromDayOfMonth(ne){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ne)}_initWeekdays(){const ne=this._dateAdapter.getFirstDayOfWeek(),et=this._dateAdapter.getDayOfWeekNames("narrow");let kt=this._dateAdapter.getDayOfWeekNames("long").map((Bt,Jn)=>({long:Bt,narrow:et[Jn],id:zt++}));this._weekdays=kt.slice(ne).concat(kt.slice(0,ne))}_createWeekCells(){const ne=this._dateAdapter.getNumDaysInMonth(this.activeDate),et=this._dateAdapter.getDateNames();this._weeks=[[]];for(let He=0,kt=this._firstWeekOffset;He<ne;He++,kt++){7==kt&&(this._weeks.push([]),kt=0);const Bt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),He+1),Jn=this._shouldEnableDate(Bt),Pi=this._dateAdapter.format(Bt,this._dateFormats.display.dateA11yLabel),sr=this.dateClass?this.dateClass(Bt,"month"):void 0;this._weeks[this._weeks.length-1].push(new Tt(He+1,et[He],Pi,Jn,sr,this._getCellCompareValue(Bt),Bt))}}_shouldEnableDate(ne){return!!ne&&(!this.minDate||this._dateAdapter.compareDate(ne,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ne,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ne))}_getDateInCurrentMonth(ne){return ne&&this._hasSameMonthAndYear(ne,this.activeDate)?this._dateAdapter.getDate(ne):null}_hasSameMonthAndYear(ne,et){return!(!ne||!et||this._dateAdapter.getMonth(ne)!=this._dateAdapter.getMonth(et)||this._dateAdapter.getYear(ne)!=this._dateAdapter.getYear(et))}_getCellCompareValue(ne){if(ne){const et=this._dateAdapter.getYear(ne),He=this._dateAdapter.getMonth(ne),kt=this._dateAdapter.getDate(ne);return new Date(et,He,kt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ne){ne instanceof ut?(this._rangeStart=this._getCellCompareValue(ne.start),this._rangeEnd=this._getCellCompareValue(ne.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ne),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ne){return!this.dateFilter||this.dateFilter(ne)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.de,8),C.rXU(E.MJ,8),C.rXU(M.dS,8),C.rXU(Hn,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-month-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[C.OA$,C.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.Z7z(3,q,5,2,"th",2,j),C.k0s(),C.j41(5,"tr",3),C.nrm(6,"th",4),C.k0s()(),C.j41(7,"tbody",5),C.bIt("selectedValueChange",function(Bt){return He._dateSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("previewChange",function(Bt){return He._previewChanged(Bt)})("dragStarted",function(Bt){return He.dragStarted.emit(Bt)})("dragEnded",function(Bt){return He._dragEnded(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(3),C.Dyx(He._weekdays),C.R7$(4),C.Y8G("label",He._monthLabel)("rows",He._weeks)("todayValue",He._todayDate)("startValue",He._rangeStart)("endValue",He._rangeEnd)("comparisonStart",He._comparisonRangeStart)("comparisonEnd",He._comparisonRangeEnd)("previewStart",He._previewStart)("previewEnd",He._previewEnd)("isRange",He._isRange)("labelMinRequiredCells",3)("activeCell",He._dateAdapter.getDate(He.activeDate)-1)("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})();const bn=24;let Ri=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){let et=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),Dn(this._dateAdapter,et,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ut?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedYear(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He){this._changeDetectorRef=ne,this._dateAdapter=et,this._dir=He,this._rerenderSubscription=x.y.EMPTY,this.selectedChange=new C.bkB,this.yearSelected=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,U.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const et=this._dateAdapter.getYear(this._activeDate)-Kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let He=0,kt=[];He<bn;He++)kt.push(et+He),4==kt.length&&(this._years.push(kt.map(Bt=>this._createCellForYear(Bt))),kt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ne){const et=ne.value,He=this._dateAdapter.createDate(et,0,1),kt=this._getDateFromYear(et);this.yearSelected.emit(He),this.selectedChange.emit(kt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromYear(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,bn-Kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case O.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*-bn:-bn);break;case O.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10*bn:bn);break;case O.Fm:case O.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(et,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_getActiveCell(){return Kn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ne){const et=this._dateAdapter.getMonth(this.activeDate),He=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ne,et,1));return this._dateAdapter.createDate(ne,et,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForYear(ne){const et=this._dateAdapter.createDate(ne,0,1),He=this._dateAdapter.getYearName(et),kt=this.dateClass?this.dateClass(et,"multi-year"):void 0;return new Tt(ne,He,He,this._shouldEnableYear(ne),kt)}_shouldEnableYear(ne){if(null==ne||this.maxDate&&ne>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ne<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let He=this._dateAdapter.createDate(ne,0,1);this._dateAdapter.getYear(He)==ne;He=this._dateAdapter.addCalendarDays(He,1))if(this.dateFilter(He))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ne){if(this._selectedYear=null,ne instanceof ut){const et=ne.start||ne.end;et&&(this._selectedYear=this._dateAdapter.getYear(et))}else ne&&(this._selectedYear=this._dateAdapter.getYear(ne))}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.MJ,8),C.rXU(M.dS,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-multi-year-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[C.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.nrm(3,"th",2),C.k0s()(),C.j41(4,"tbody",3),C.bIt("selectedValueChange",function(Bt){return He._yearSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(4),C.Y8G("rows",He._years)("todayValue",He._todayYear)("startValue",He._selectedYear)("endValue",He._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._getActiveCell()))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})();function Dn(Ge,Mt,ne,et,He){const kt=Ge.getYear(Mt),Bt=Ge.getYear(ne),Jn=xn(Ge,et,He);return Math.floor((kt-Jn)/bn)===Math.floor((Bt-Jn)/bn)}function Kn(Ge,Mt,ne,et){return function Xn(Ge,Mt){return(Ge%Mt+Mt)%Mt}(Ge.getYear(Mt)-xn(Ge,ne,et),bn)}function xn(Ge,Mt,ne){let et=0;return ne?et=Ge.getYear(ne)-bn+1:Mt&&(et=Ge.getYear(Mt)),et}let pt=(()=>{class Ge{get activeDate(){return this._activeDate}set activeDate(ne){let et=this._activeDate;const He=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(He,this.minDate,this.maxDate),this._dateAdapter.getYear(et)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ut?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne)),this._setSelectedMonth(ne)}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}constructor(ne,et,He,kt){this._changeDetectorRef=ne,this._dateFormats=et,this._dateAdapter=He,this._dir=kt,this._rerenderSubscription=x.y.EMPTY,this.selectedChange=new C.bkB,this.monthSelected=new C.bkB,this.activeDateChange=new C.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,U.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ne){const et=ne.value,He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),et,1);this.monthSelected.emit(He);const kt=this._getDateFromMonth(et);this.selectedChange.emit(kt)}_updateActiveDate(ne){const He=this._activeDate;this.activeDate=this._getDateFromMonth(ne.value),this._dateAdapter.compareDate(He,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ne){const et=this._activeDate,He=this._isRtl();switch(ne.keyCode){case O.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?1:-1);break;case O.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,He?-1:1);break;case O.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case O.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case O.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case O.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case O.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?-10:-1);break;case O.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne.altKey?10:1);break;case O.Fm:case O.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(et,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ne.preventDefault()}_handleCalendarBodyKeyup(ne){(ne.keyCode===O.t6||ne.keyCode===O.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ne}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ne=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(et=>et.map(He=>this._createCellForMonth(He,ne[He]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ne){return ne&&this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ne):null}_getDateFromMonth(ne){const et=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),He=this._dateAdapter.getNumDaysInMonth(et);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,Math.min(this._dateAdapter.getDate(this.activeDate),He))}_createCellForMonth(ne,et){const He=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ne,1),kt=this._dateAdapter.format(He,this._dateFormats.display.monthYearA11yLabel),Bt=this.dateClass?this.dateClass(He,"year"):void 0;return new Tt(ne,et.toLocaleUpperCase(),kt,this._shouldEnableMonth(ne),Bt)}_shouldEnableMonth(ne){const et=this._dateAdapter.getYear(this.activeDate);if(null==ne||this._isYearAndMonthAfterMaxDate(et,ne)||this._isYearAndMonthBeforeMinDate(et,ne))return!1;if(!this.dateFilter)return!0;for(let kt=this._dateAdapter.createDate(et,ne,1);this._dateAdapter.getMonth(kt)==ne;kt=this._dateAdapter.addCalendarDays(kt,1))if(this.dateFilter(kt))return!0;return!1}_isYearAndMonthAfterMaxDate(ne,et){if(this.maxDate){const He=this._dateAdapter.getYear(this.maxDate),kt=this._dateAdapter.getMonth(this.maxDate);return ne>He||ne===He&&et>kt}return!1}_isYearAndMonthBeforeMinDate(ne,et){if(this.minDate){const He=this._dateAdapter.getYear(this.minDate),kt=this._dateAdapter.getMonth(this.minDate);return ne<He||ne===He&&et<kt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ne){this._selectedMonth=ne instanceof ut?this._getMonthInCurrentYear(ne.start)||this._getMonthInCurrentYear(ne.end):this._getMonthInCurrentYear(ne)}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.gRc),C.rXU(E.de,8),C.rXU(E.MJ,8),C.rXU(M.dS,8))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-year-view"]],viewQuery:function(et,He){if(1&et&&C.GBs(vt,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._matCalendarBody=kt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[C.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(et,He){1&et&&(C.j41(0,"table",0)(1,"thead",1)(2,"tr"),C.nrm(3,"th",2),C.k0s()(),C.j41(4,"tbody",3),C.bIt("selectedValueChange",function(Bt){return He._monthSelected(Bt)})("activeDateChange",function(Bt){return He._updateActiveDate(Bt)})("keyup",function(Bt){return He._handleCalendarBodyKeyup(Bt)})("keydown",function(Bt){return He._handleCalendarBodyKeydown(Bt)}),C.k0s()()),2&et&&(C.R7$(4),C.Y8G("label",He._yearLabel)("rows",He._months)("todayValue",He._todayMonth)("startValue",He._selectedMonth)("endValue",He._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",He._dateAdapter.getMonth(He.activeDate)))},dependencies:[vt],encapsulation:2,changeDetection:0})}return Ge})(),Le=1,We=(()=>{class Ge{constructor(ne,et,He,kt,Bt){this._intl=ne,this.calendar=et,this._dateAdapter=He,this._dateFormats=kt,this._id="mat-calendar-header-"+Le++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Bt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-bn)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:bn)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ne,et){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(et)&&this._dateAdapter.getMonth(ne)==this._dateAdapter.getMonth(et):"year"==this.calendar.currentView?this._dateAdapter.getYear(ne)==this._dateAdapter.getYear(et):Dn(this._dateAdapter,ne,et,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const et=this._dateAdapter.getYear(this.calendar.activeDate)-Kn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),He=et+bn-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(et,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(He,0,1))]}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(Qt),C.rXU((0,C.Rfq)(()=>$e)),C.rXU(E.MJ,8),C.rXU(E.de,8),C.rXU(C.gRc))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[C.aNF],ngContentSelectors:Ae,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(et,He){1&et&&(C.NAR(),C.j41(0,"div",0)(1,"div",1)(2,"label",2),C.EFF(3),C.k0s(),C.j41(4,"button",3),C.bIt("click",function(){return He.currentPeriodClicked()}),C.j41(5,"span",4),C.EFF(6),C.k0s(),C.qSk(),C.j41(7,"svg",5),C.nrm(8,"polygon",6),C.k0s()(),C.joV(),C.nrm(9,"div",7),C.SdG(10),C.j41(11,"button",8),C.bIt("click",function(){return He.previousClicked()}),C.k0s(),C.j41(12,"button",9),C.bIt("click",function(){return He.nextClicked()}),C.k0s()()()),2&et&&(C.R7$(2),C.Y8G("id",He._periodButtonLabelId),C.R7$(),C.JRh(He.periodButtonDescription),C.R7$(),C.BMQ("aria-label",He.periodButtonLabel)("aria-describedby",He._periodButtonLabelId),C.R7$(2),C.JRh(He.periodButtonText),C.R7$(),C.AVh("mat-calendar-invert","month"!==He.calendar.currentView),C.R7$(4),C.Y8G("disabled",!He.previousEnabled()),C.BMQ("aria-label",He.prevButtonLabel),C.R7$(),C.Y8G("disabled",!He.nextEnabled()),C.BMQ("aria-label",He.nextButtonLabel))},dependencies:[S.$z,S.iY],encapsulation:2,changeDetection:0})}return Ge})(),$e=(()=>{class Ge{get startAt(){return this._startAt}set startAt(ne){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get selected(){return this._selected}set selected(ne){this._selected=ne instanceof ut?ne:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get minDate(){return this._minDate}set minDate(ne){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get maxDate(){return this._maxDate}set maxDate(ne){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ne))}get activeDate(){return this._clampedActiveDate}set activeDate(ne){this._clampedActiveDate=this._dateAdapter.clampDate(ne,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ne){const et=this._currentView!==ne?ne:null;this._currentView=ne,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),et&&this.viewChanged.emit(et)}constructor(ne,et,He,kt){this._dateAdapter=et,this._dateFormats=He,this._changeDetectorRef=kt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new C.bkB,this.yearSelected=new C.bkB,this.monthSelected=new C.bkB,this.viewChanged=new C.bkB(!0),this._userSelection=new C.bkB,this._userDragDrop=new C.bkB,this._activeDrag=null,this.stateChanges=new y.B7,this._intlChanges=ne.changes.subscribe(()=>{kt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new w.A8(this.headerComponent||We),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ne){const et=ne.minDate&&!this._dateAdapter.sameDate(ne.minDate.previousValue,ne.minDate.currentValue)?ne.minDate:void 0,He=ne.maxDate&&!this._dateAdapter.sameDate(ne.maxDate.previousValue,ne.maxDate.currentValue)?ne.maxDate:void 0,kt=et||He||ne.dateFilter;if(kt&&!kt.firstChange){const Bt=this._getCurrentViewComponent();Bt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),Bt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ne){const et=ne.value;(this.selected instanceof ut||et&&!this._dateAdapter.sameDate(et,this.selected))&&this.selectedChange.emit(et),this._userSelection.emit(ne)}_yearSelectedInMultiYearView(ne){this.yearSelected.emit(ne)}_monthSelectedInYearView(ne){this.monthSelected.emit(ne)}_goToDateInView(ne,et){this.activeDate=ne,this.currentView=et}_dragStarted(ne){this._activeDrag=ne}_dragEnded(ne){this._activeDrag&&(ne.value&&this._userDragDrop.emit(ne),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(Qt),C.rXU(E.MJ,8),C.rXU(E.de,8),C.rXU(C.gRc))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-calendar"]],viewQuery:function(et,He){if(1&et&&(C.GBs($t,5),C.GBs(pt,5),C.GBs(Ri,5)),2&et){let kt;C.mGM(kt=C.lsd())&&(He.monthView=kt.first),C.mGM(kt=C.lsd())&&(He.yearView=kt.first),C.mGM(kt=C.lsd())&&(He.multiYearView=kt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[C.Jv_([lt]),C.OA$,C.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(et,He){if(1&et&&(C.DNE(0,Xe,0,0,"ng-template",0),C.j41(1,"div",1),C.DNE(2,yt,1,11,"mat-month-view",2)(3,Je,1,6,"mat-year-view",3)(4,je,1,6,"mat-multi-year-view",3),C.k0s()),2&et){let kt;C.Y8G("cdkPortalOutlet",He._calendarHeaderPortal),C.R7$(2),C.vxM("month"===(kt=He.currentView)?2:"year"===kt?3:"multi-year"===kt?4:-1)}},dependencies:[w.I3,d.vR,$t,pt,Ri],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Ge})();const gt={transformPanel:(0,F.hZ)("transformPanel",[(0,F.kY)("void => enter-dropdown",(0,F.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,F.i7)([(0,F.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,F.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,F.kY)("void => enter-dialog",(0,F.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,F.i7)([(0,F.iF)({opacity:0,transform:"scale(0.7)"}),(0,F.iF)({transform:"none",opacity:1})]))),(0,F.kY)("* => void",(0,F.i0)("100ms linear",(0,F.iF)({opacity:0})))]),fadeInCalendar:(0,F.hZ)("fadeInCalendar",[(0,F.wk)("void",(0,F.iF)({opacity:0})),(0,F.wk)("enter",(0,F.iF)({opacity:1})),(0,F.kY)("void => *",(0,F.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},De={provide:new C.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const Ge=(0,C.WQX)(A.hJ);return()=>Ge.scrollStrategies.reposition()}}),deps:[A.hJ],useFactory:function ct(Ge){return()=>Ge.scrollStrategies.reposition()}};let st=(()=>{class Ge{constructor(ne,et,He,kt,Bt,Jn){this._elementRef=ne,this._changeDetectorRef=et,this._globalModel=He,this._dateAdapter=kt,this._rangeSelectionStrategy=Bt,this._subscriptions=new x.y,this._animationDone=new y.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Jn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ne){const et=this._model.selection,He=ne.value,kt=et instanceof ut;if(kt&&this._rangeSelectionStrategy){const Bt=this._rangeSelectionStrategy.selectionFinished(He,et,ne.event);this._model.updateSelection(Bt,this)}else He&&(kt||!this._dateAdapter.sameDate(He,et))&&this._model.add(He);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ne){this._model.updateSelection(ne.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ne){this._isAnimating="start"===ne.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ne,et){this._model=ne?this._globalModel.clone():this._globalModel,this._actionsPortal=ne,et&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(C.aKT),C.rXU(C.gRc),C.rXU(dt),C.rXU(E.MJ),C.rXU(Hn,8),C.rXU(Qt))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-datepicker-content"]],viewQuery:function(et,He){if(1&et&&C.GBs($e,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._calendar=kt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(et,He){1&et&&C.Kam("@transformPanel.start",function(Bt){return He._handleAnimationEvent(Bt)})("@transformPanel.done",function(Bt){return He._handleAnimationEvent(Bt)}),2&et&&(C.zvX("@transformPanel",He._animationState),C.HbH(He.color?"mat-"+He.color:""),C.AVh("mat-datepicker-content-touch",He.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[C.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(et,He){if(1&et&&(C.j41(0,"div",0)(1,"mat-calendar",1),C.bIt("yearSelected",function(Bt){return He.datepicker._selectYear(Bt)})("monthSelected",function(Bt){return He.datepicker._selectMonth(Bt)})("viewChanged",function(Bt){return He.datepicker._viewChanged(Bt)})("_userSelection",function(Bt){return He._handleUserSelection(Bt)})("_userDragDrop",function(Bt){return He._handleUserDragDrop(Bt)}),C.k0s(),C.DNE(2,K,0,0,"ng-template",2),C.j41(3,"button",3),C.bIt("focus",function(){return He._closeButtonFocused=!0})("blur",function(){return He._closeButtonFocused=!1})("click",function(){return He.datepicker.close()}),C.EFF(4),C.k0s()()),2&et){let kt;C.AVh("mat-datepicker-content-container-with-custom-header",He.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",He._actionsPortal),C.BMQ("aria-modal",!0)("aria-labelledby",null!==(kt=He._dialogLabelId)&&void 0!==kt?kt:void 0),C.R7$(),C.HbH(He.datepicker.panelClass),C.Y8G("id",He.datepicker.id)("startAt",He.datepicker.startAt)("startView",He.datepicker.startView)("minDate",He.datepicker._getMinDate())("maxDate",He.datepicker._getMaxDate())("dateFilter",He.datepicker._getDateFilter())("headerComponent",He.datepicker.calendarHeaderComponent)("selected",He._getSelected())("dateClass",He.datepicker.dateClass)("comparisonStart",He.comparisonStart)("comparisonEnd",He.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",He.startDateAccessibleName)("endDateAccessibleName",He.endDateAccessibleName),C.R7$(),C.Y8G("cdkPortalOutlet",He._actionsPortal),C.R7$(),C.AVh("cdk-visually-hidden",!He._closeButtonFocused),C.Y8G("color",He.color||"primary"),C.R7$(),C.JRh(He._closeButtonText)}},dependencies:[d.kB,$e,w.I3,S.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[gt.transformPanel,gt.fadeInCalendar]},changeDetection:0})}return Ge})(),Ti=(()=>{class Ge{static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275dir=C.FsC({type:Ge,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return Ge})(),Hi=(()=>{class Ge{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ne){this._disabled=ne}constructor(ne,et,He){this._intl=ne,this._changeDetectorRef=et,this._stateChanges=x.y.EMPTY;const kt=Number(He);this.tabIndex=kt||0===kt?kt:null}ngOnChanges(ne){ne.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ne){this.datepicker&&!this.disabled&&(this.datepicker.open(),ne.stopPropagation())}_watchStateChanges(){const ne=this.datepicker?this.datepicker.stateChanges:(0,$.of)(),et=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,$.of)(),He=this.datepicker?(0,R.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,$.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,R.h)(this._intl.changes,ne,et,He).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(et){return new(et||Ge)(C.rXU(Qt),C.rXU(C.gRc),C.kS0("tabindex"))};static#t=this.\u0275cmp=C.VBU({type:Ge,selectors:[["mat-datepicker-toggle"]],contentQueries:function(et,He,kt){if(1&et&&C.wni(kt,Ti,5),2&et){let Bt;C.mGM(Bt=C.lsd())&&(He._customIcon=Bt.first)}},viewQuery:function(et,He){if(1&et&&C.GBs(oe,5),2&et){let kt;C.mGM(kt=C.lsd())&&(He._button=kt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(et,He){1&et&&C.bIt("click",function(Bt){return He._open(Bt)}),2&et&&(C.BMQ("tabindex",null)("data-mat-calendar",He.datepicker?He.datepicker.id:null),C.AVh("mat-datepicker-toggle-active",He.datepicker&&He.datepicker.opened)("mat-accent",He.datepicker&&"accent"===He.datepicker.color)("mat-warn",He.datepicker&&"warn"===He.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",C.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[C.GFd,C.OA$,C.aNF],ngContentSelectors:ye,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(et,He){1&et&&(C.NAR(ge),C.j41(0,"button",1,0),C.DNE(2,Ne,2,0,":svg:svg",2),C.SdG(3),C.k0s()),2&et&&(C.Y8G("disabled",He.disabled)("disableRipple",He.disableRipple),C.BMQ("aria-haspopup",He.datepicker?"dialog":null)("aria-label",He.ariaLabel||He._intl.openCalendarLabel)("tabindex",He.disabled?-1:He.tabIndex),C.R7$(2),C.vxM(He._customIcon?-1:2))},dependencies:[S.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return Ge})(),si=(()=>{class Ge{static#e=this.\u0275fac=function(et){return new(et||Ge)};static#t=this.\u0275mod=C.$C({type:Ge});static#n=this.\u0275inj=C.G2t({providers:[Qt,De],imports:[D.MD,S.Hl,A.z_,d.Pd,w.jc,E.yE,st,Hi,We,I.Gj]})}return Ge})()},2587:(hn,Re,_)=>{"use strict";_.d(Re,{BI:()=>Pt,CP:()=>Ae,Vh:()=>yt,bZ:()=>ye,hM:()=>Ot,tx:()=>Be});var d=_(1570),A=_(316),w=_(7404),D=_(2102),C=_(3482),S=_(2814),I=_(9168),E=_(3119),y=_(7405),x=_(6965),$=_(8627),R=_(3602),O=_(9273),M=_(4879),U=(_(4053),_(5060));function J(Ye,vt){}_(7172);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ce="mdc-dialog--open",re="mdc-dialog--opening",be="mdc-dialog--closing";let se=(()=>{class Ye extends C.sU{constructor(It,at,ot,Nt,Ut,wt,ut,dt,Z){super(It,at,ot,Nt,Ut,wt,ut,Z),this._animationMode=dt,this._animationStateChanged=new w.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?xe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?xe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(W,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(re,ce)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ce),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ce),this._animationsEnabled?(this._hostElement.style.setProperty(W,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(be)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(It){this._actionSectionCount+=It,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(re,be)}_waitForAnimationToComplete(It,at){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(at,It)}_requestAnimationFrame(It){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(It):It()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(It){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:It})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(It){const at=super.attachComponentPortal(It);return at.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),at}static#e=this.\u0275fac=function(at){return new(at||Ye)(w.rXU(w.aKT),w.rXU(D.GX),w.rXU(A.qQ,8),w.rXU(ue),w.rXU(D.Z7),w.rXU(w.SKi),w.rXU(d.yY),w.rXU(w.bc$,8),w.rXU(D.FN))};static#t=this.\u0275cmp=w.VBU({type:Ye,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(at,ot){2&at&&(w.Mr5("id",ot._config.id),w.BMQ("aria-modal",ot._config.ariaModal)("role",ot._config.role)("aria-labelledby",ot._config.ariaLabel?null:ot._ariaLabelledByQueue[0])("aria-label",ot._config.ariaLabel)("aria-describedby",ot._config.ariaDescribedBy||null),w.AVh("_mat-animation-noopable",!ot._animationsEnabled)("mat-mdc-dialog-container-with-actions",ot._actionSectionCount>0))},standalone:!0,features:[w.Vt3,w.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(at,ot){1&at&&(w.j41(0,"div",0)(1,"div",1),w.DNE(2,J,0,0,"ng-template",2),w.k0s()())},dependencies:[I.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Ye})();const W="--mat-dialog-transition-duration";function xe(Ye){return null==Ye?null:"number"==typeof Ye?Ye:Ye.endsWith("ms")?(0,S.OE)(Ye.substring(0,Ye.length-2)):Ye.endsWith("s")?1e3*(0,S.OE)(Ye.substring(0,Ye.length-1)):"0"===Ye?0:null}var q=function(Ye){return Ye[Ye.OPEN=0]="OPEN",Ye[Ye.CLOSING=1]="CLOSING",Ye[Ye.CLOSED=2]="CLOSED",Ye}(q||{});class Ae{constructor(vt,It,at){this._ref=vt,this._containerInstance=at,this._afterOpened=new E.B7,this._beforeClosed=new E.B7,this._state=q.OPEN,this.disableClose=It.disableClose,this.id=vt.id,vt.addPanelClass("mat-mdc-dialog-panel"),at._animationStateChanged.pipe((0,$.p)(ot=>"opened"===ot.state),(0,R.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),at._animationStateChanged.pipe((0,$.p)(ot=>"closed"===ot.state),(0,R.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),vt.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,y.h)(this.backdropClick(),this.keydownEvents().pipe((0,$.p)(ot=>ot.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(ot)))).subscribe(ot=>{this.disableClose||(ot.preventDefault(),Xe(this,"keydown"===ot.type?"keyboard":"mouse"))})}close(vt){this._result=vt,this._containerInstance._animationStateChanged.pipe((0,$.p)(It=>"closing"===It.state),(0,R.s)(1)).subscribe(It=>{this._beforeClosed.next(vt),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),It.totalTime+100)}),this._state=q.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(vt){let It=this._ref.config.positionStrategy;return vt&&(vt.left||vt.right)?vt.left?It.left(vt.left):It.right(vt.right):It.centerHorizontally(),vt&&(vt.top||vt.bottom)?vt.top?It.top(vt.top):It.bottom(vt.bottom):It.centerVertically(),this._ref.updatePosition(),this}updateSize(vt="",It=""){return this._ref.updateSize(vt,It),this}addPanelClass(vt){return this._ref.addPanelClass(vt),this}removePanelClass(vt){return this._ref.removePanelClass(vt),this}getState(){return this._state}_finishDialogClose(){this._state=q.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Xe(Ye,vt,It){return Ye._closeInteractionType=vt,Ye.close(It)}const yt=new w.nKC("MatMdcDialogData"),Je=new w.nKC("mat-mdc-dialog-default-options"),je=new w.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Ye=(0,w.WQX)(d.hJ);return()=>Ye.scrollStrategies.block()}});let ge=0,ye=(()=>{class Ye{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const It=this._parentDialog;return It?It._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(It,at,ot,Nt,Ut,wt,ut,dt){this._overlay=It,this._defaultOptions=Nt,this._scrollStrategy=Ut,this._parentDialog=wt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.B7,this._afterOpenedAtThisLevel=new E.B7,this.dialogConfigClass=ue,this.afterAllClosed=(0,x.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,O.Z)(void 0))),this._dialog=at.get(C.lG),this._dialogRefConstructor=Ae,this._dialogContainerType=se,this._dialogDataToken=yt}open(It,at){let ot;(at={...this._defaultOptions||new ue,...at}).id=at.id||"mat-mdc-dialog-"+ge++,at.scrollStrategy=at.scrollStrategy||this._scrollStrategy();const Nt=this._dialog.open(It,{...at,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:at},{provide:C.Pe,useValue:at}]},templateContext:()=>({dialogRef:ot}),providers:(Ut,wt,ut)=>(ot=new this._dialogRefConstructor(Ut,at,ut),ot.updatePosition(at?.position),[{provide:this._dialogContainerType,useValue:ut},{provide:this._dialogDataToken,useValue:wt.data},{provide:this._dialogRefConstructor,useValue:ot}])});return ot.componentRef=Nt.componentRef,ot.componentInstance=Nt.componentInstance,this.openDialogs.push(ot),this.afterOpened.next(ot),ot.afterClosed().subscribe(()=>{const Ut=this.openDialogs.indexOf(ot);Ut>-1&&(this.openDialogs.splice(Ut,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ot}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(It){return this.openDialogs.find(at=>at.id===It)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(It){let at=It.length;for(;at--;)It[at].close()}static#e=this.\u0275fac=function(at){return new(at||Ye)(w.KVO(d.hJ),w.KVO(w.zZn),w.KVO(A.aZ,8),w.KVO(Je,8),w.KVO(je),w.KVO(Ye,12),w.KVO(d.Sf),w.KVO(w.bc$,8))};static#t=this.\u0275prov=w.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})(),Ne=0,Be=(()=>{class Ye{constructor(It,at,ot){this.dialogRef=It,this._elementRef=at,this._dialog=ot,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Vt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(It){const at=It._matDialogClose||It._matDialogCloseResult;at&&(this.dialogResult=at.currentValue)}_onButtonClick(It){Xe(this.dialogRef,0===It.screenX&&0===It.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(at){return new(at||Ye)(w.rXU(Ae,8),w.rXU(w.aKT),w.rXU(ye))};static#t=this.\u0275dir=w.FsC({type:Ye,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(at,ot){1&at&&w.bIt("click",function(Ut){return ot._onButtonClick(Ut)}),2&at&&w.BMQ("aria-label",ot.ariaLabel||null)("type",ot.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[w.OA$]})}return Ye})(),Qe=(()=>{class Ye{constructor(It,at,ot){this._dialogRef=It,this._elementRef=at,this._dialog=ot}ngOnInit(){this._dialogRef||(this._dialogRef=Vt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(at){return new(at||Ye)(w.rXU(Ae,8),w.rXU(w.aKT),w.rXU(ye))};static#t=this.\u0275dir=w.FsC({type:Ye,standalone:!0})}return Ye})(),Pt=(()=>{class Ye extends Qe{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Ne++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let It;return function(ot){return(It||(It=w.xGo(Ye)))(ot||Ye)}})();static#t=this.\u0275dir=w.FsC({type:Ye,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(at,ot){2&at&&w.Mr5("id",ot.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[w.Vt3]})}return Ye})();function Vt(Ye,vt){let It=Ye.nativeElement.parentElement;for(;It&&!It.classList.contains("mat-mdc-dialog-container");)It=It.parentElement;return It?vt.find(at=>at.id===It.id):null}let Ot=(()=>{class Ye{static#e=this.\u0275fac=function(at){return new(at||Ye)};static#t=this.\u0275mod=w.$C({type:Ye});static#n=this.\u0275inj=w.G2t({providers:[ye],imports:[C.Ph,d.z_,I.jc,U.yE,U.yE]})}return Ye})()},5944:(hn,Re,_)=>{"use strict";_.d(Re,{xb:()=>Ei,TL:()=>ft,rl:()=>Pn,qT:()=>lt,RG:()=>Ri,MV:()=>Ye,JW:()=>It,yw:()=>ot});var d=_(7404),A=_(3680),w=_(2814),D=_(7699),C=_(316),S=_(2672),I=_(3119),E=_(7405),y=_(7464),x=_(434),$=_(8627),R=_(7841);class M{constructor(Kn){this._box=Kn,this._destroyed=new I.B7,this._resizeSubject=new I.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(xn=>this._resizeSubject.next(xn)))}observe(Kn){return this._elementObservables.has(Kn)||this._elementObservables.set(Kn,new x.c(xn=>{const Xn=this._resizeSubject.subscribe(xn);return this._resizeObserver?.observe(Kn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Kn),Xn.unsubscribe(),this._elementObservables.delete(Kn)}}).pipe((0,$.p)(xn=>xn.some(Xn=>Xn.target===Kn)),(0,R.t)({bufferSize:1,refCount:!0}),(0,y.Q)(this._destroyed))),this._elementObservables.get(Kn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let L=(()=>{class Dn{constructor(){this._observers=new Map,this._ngZone=(0,d.WQX)(d.SKi)}ngOnDestroy(){for(const[,xn]of this._observers)xn.destroy();this._observers.clear()}observe(xn,Xn){const pt=Xn?.box||"content-box";return this._observers.has(pt)||this._observers.set(pt,new M(pt)),this._observers.get(pt).observe(xn)}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275prov=d.jDH({token:Dn,factory:Dn.\u0275fac,providedIn:"root"})}return Dn})();var U=_(7172),F=_(9539),J=_(5060);const ue=["notch"],ce=["matFormFieldNotchedOutline",""],re=["*"],be=["textField"],j=["iconPrefixContainer"],X=["textPrefixContainer"],se=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],W=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function xe(Dn,Kn){1&Dn&&d.nrm(0,"span",19)}function q(Dn,Kn){if(1&Dn&&(d.j41(0,"label",18),d.SdG(1,1),d.DNE(2,xe,1,0,"span",19),d.k0s()),2&Dn){const xn=d.XpG(2);d.Y8G("floating",xn._shouldLabelFloat())("monitorResize",xn._hasOutline())("id",xn._labelId),d.BMQ("for",xn._control.disableAutomaticLabeling?null:xn._control.id),d.R7$(2),d.vxM(!xn.hideRequiredMarker&&xn._control.required?2:-1)}}function Ae(Dn,Kn){if(1&Dn&&d.DNE(0,q,3,5,"label",18),2&Dn){const xn=d.XpG();d.vxM(xn._hasFloatingLabel()?0:-1)}}function Xe(Dn,Kn){1&Dn&&d.nrm(0,"div",5)}function yt(Dn,Kn){}function Je(Dn,Kn){if(1&Dn&&d.DNE(0,yt,0,0,"ng-template",11),2&Dn){d.XpG(2);const xn=d.sdS(1);d.Y8G("ngTemplateOutlet",xn)}}function je(Dn,Kn){if(1&Dn&&(d.j41(0,"div",7),d.DNE(1,Je,1,1,null,11),d.k0s()),2&Dn){const xn=d.XpG();d.Y8G("matFormFieldNotchedOutlineOpen",xn._shouldLabelFloat()),d.R7$(),d.vxM(xn._forceDisplayInfixLabel()?-1:1)}}function K(Dn,Kn){1&Dn&&(d.j41(0,"div",8,2),d.SdG(2,2),d.k0s())}function oe(Dn,Kn){1&Dn&&(d.j41(0,"div",9,3),d.SdG(2,3),d.k0s())}function ge(Dn,Kn){}function ye(Dn,Kn){if(1&Dn&&d.DNE(0,ge,0,0,"ng-template",11),2&Dn){d.XpG();const xn=d.sdS(1);d.Y8G("ngTemplateOutlet",xn)}}function Ne(Dn,Kn){1&Dn&&(d.j41(0,"div",12),d.SdG(1,4),d.k0s())}function Be(Dn,Kn){1&Dn&&(d.j41(0,"div",13),d.SdG(1,5),d.k0s())}function Qe(Dn,Kn){1&Dn&&d.nrm(0,"div",14)}function Pt(Dn,Kn){if(1&Dn&&(d.j41(0,"div",16),d.SdG(1,6),d.k0s()),2&Dn){const xn=d.XpG();d.Y8G("@transitionMessages",xn._subscriptAnimationState)}}function Ce(Dn,Kn){if(1&Dn&&(d.j41(0,"mat-hint",20),d.EFF(1),d.k0s()),2&Dn){const xn=d.XpG(2);d.Y8G("id",xn._hintLabelId),d.R7$(),d.JRh(xn.hintLabel)}}function Qt(Dn,Kn){if(1&Dn&&(d.j41(0,"div",17),d.DNE(1,Ce,2,2,"mat-hint",20),d.SdG(2,7),d.nrm(3,"div",21),d.SdG(4,8),d.k0s()),2&Dn){const xn=d.XpG();d.Y8G("@transitionMessages",xn._subscriptAnimationState),d.R7$(),d.vxM(xn.hintLabel?1:-1)}}let Vt=(()=>{class Dn{static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["mat-label"]],standalone:!0})}return Dn})(),Tt=0;const Ot=new d.nKC("MatError");let ft=(()=>{class Dn{constructor(xn,Xn){this.id="mat-mdc-error-"+Tt++,xn||Xn.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)(d.kS0("aria-live"),d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Xn,pt){2&Xn&&d.Mr5("id",pt.id)},inputs:{id:"id"},standalone:!0,features:[d.Jv_([{provide:Ot,useExisting:Dn}])]})}return Dn})(),Oe=0,Ye=(()=>{class Dn{constructor(){this.align="start",this.id="mat-mdc-hint-"+Oe++}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Xn,pt){2&Xn&&(d.Mr5("id",pt.id),d.BMQ("align",null),d.AVh("mat-mdc-form-field-hint-end","end"===pt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Dn})();const vt=new d.nKC("MatPrefix");let It=(()=>{class Dn{constructor(){this._isText=!1}set _isTextSelector(xn){this._isText=!0}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[d.Jv_([{provide:vt,useExisting:Dn}])]})}return Dn})();const at=new d.nKC("MatSuffix");let ot=(()=>{class Dn{constructor(){this._isText=!1}set _isTextSelector(xn){this._isText=!0}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[d.Jv_([{provide:at,useExisting:Dn}])]})}return Dn})();const Nt=new d.nKC("FloatingLabelParent");let Ut=(()=>{class Dn{get floating(){return this._floating}set floating(xn){this._floating=xn,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(xn){this._monitorResize=xn,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(xn){this._elementRef=xn,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.WQX)(L),this._ngZone=(0,d.WQX)(d.SKi),this._parent=(0,d.WQX)(Nt),this._resizeSubscription=new S.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function wt(Dn){if(null!==Dn.offsetParent)return Dn.scrollWidth;const xn=Dn.cloneNode(!0);xn.style.setProperty("position","absolute"),xn.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(xn);const Xn=xn.scrollWidth;return xn.remove(),Xn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Xn,pt){2&Xn&&d.AVh("mdc-floating-label--float-above",pt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Dn})();const ut="mdc-line-ripple--active",dt="mdc-line-ripple--deactivating";let Z=(()=>{class Dn{constructor(xn,Xn){this._elementRef=xn,this._handleTransitionEnd=pt=>{const Le=this._elementRef.nativeElement.classList,We=Le.contains(dt);"opacity"===pt.propertyName&&We&&Le.remove(ut,dt)},Xn.runOutsideAngular(()=>{xn.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const xn=this._elementRef.nativeElement.classList;xn.remove(dt),xn.add(ut)}deactivate(){this._elementRef.nativeElement.classList.add(dt)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:Dn,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Dn})(),Pe=(()=>{class Dn{constructor(xn,Xn){this._elementRef=xn,this._ngZone=Xn,this.open=!1}ngAfterViewInit(){const xn=this._elementRef.nativeElement.querySelector(".mdc-floating-label");xn?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(xn.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>xn.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(xn){this._notch.nativeElement.style.width=this.open&&xn?`calc(${xn}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)(d.rXU(d.aKT),d.rXU(d.SKi))};static#t=this.\u0275cmp=d.VBU({type:Dn,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Xn,pt){if(1&Xn&&d.GBs(ue,5),2&Xn){let Le;d.mGM(Le=d.lsd())&&(pt._notch=Le.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Xn,pt){2&Xn&&d.AVh("mdc-notched-outline--notched",pt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[d.aNF],attrs:ce,ngContentSelectors:re,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Xn,pt){1&Xn&&(d.NAR(),d.nrm(0,"div",1),d.j41(1,"div",2,0),d.SdG(3),d.k0s(),d.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Dn})();const pe={transitionMessages:(0,U.hZ)("transitionMessages",[(0,U.wk)("enter",(0,U.iF)({opacity:1,transform:"translateY(0%)"})),(0,U.kY)("void => enter",[(0,U.iF)({opacity:0,transform:"translateY(-5px)"}),(0,U.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lt=(()=>{class Dn{static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275dir=d.FsC({type:Dn})}return Dn})();const Ei=new d.nKC("MatFormField"),on=new d.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let nn=0,Pn=(()=>{class Dn{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(xn){this._hideRequiredMarker=(0,w.he)(xn)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(xn){xn!==this._floatLabel&&(this._floatLabel=xn,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(xn){const Xn=this._appearance;this._appearance=xn||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Xn&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(xn){this._subscriptSizing=xn||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(xn){this._hintLabel=xn,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(xn){this._explicitFormFieldControl=xn}constructor(xn,Xn,pt,Le,We,$e,gt,Zt){this._elementRef=xn,this._changeDetectorRef=Xn,this._dir=Le,this._platform=We,this._defaults=$e,this._animationMode=gt,this._labelChild=(0,d.sbv)(Vt),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+nn++,this._hintLabelId="mat-mdc-hint-"+nn++,this._subscriptAnimationState="",this._destroyed=new I.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,d.WQX)(d.zZn),this.getLabelId=(0,d.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,d.EWP)(()=>!!this._labelChild()),$e&&($e.appearance&&(this.appearance=$e.appearance),this._hideRequiredMarker=!!$e?.hideRequiredMarker,$e.color&&(this.color=$e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const xn=this._control;xn.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${xn.controlType}`),xn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),xn.ngControl&&xn.ngControl.valueChanges&&xn.ngControl.valueChanges.pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(xn=>!xn._isText),this._hasTextPrefix=!!this._prefixChildren.find(xn=>xn._isText),this._hasIconSuffix=!!this._suffixChildren.find(xn=>!xn._isText),this._hasTextSuffix=!!this._suffixChildren.find(xn=>xn._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,E.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,d.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(xn){const Xn=this._control?this._control.ngControl:null;return Xn&&Xn[xn]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let xn=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&xn.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Xn=this._hintChildren?this._hintChildren.find(Le=>"start"===Le.align):null,pt=this._hintChildren?this._hintChildren.find(Le=>"end"===Le.align):null;Xn?xn.push(Xn.id):this._hintLabel&&xn.push(this._hintLabelId),pt&&xn.push(pt.id)}else this._errorChildren&&xn.push(...this._errorChildren.map(Xn=>Xn.id));this._control.setDescribedByIds(xn)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const xn=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(xn.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Xn=this._iconPrefixContainer?.nativeElement,pt=this._textPrefixContainer?.nativeElement,Le=Xn?.getBoundingClientRect().width??0,We=pt?.getBoundingClientRect().width??0;xn.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Le+We}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const xn=this._elementRef.nativeElement;if(xn.getRootNode){const Xn=xn.getRootNode();return Xn&&Xn!==xn}return document.documentElement.contains(xn)}static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)(d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(A.dS),d.rXU(D.OD),d.rXU(on,8),d.rXU(d.bc$,8),d.rXU(C.qQ))};static#t=this.\u0275cmp=d.VBU({type:Dn,selectors:[["mat-form-field"]],contentQueries:function(Xn,pt,Le){if(1&Xn&&(d.C6U(Le,pt._labelChild,Vt,5),d.wni(Le,lt,5),d.wni(Le,vt,5),d.wni(Le,at,5),d.wni(Le,Ot,5),d.wni(Le,Ye,5)),2&Xn){let We;d.NyB(),d.mGM(We=d.lsd())&&(pt._formFieldControl=We.first),d.mGM(We=d.lsd())&&(pt._prefixChildren=We),d.mGM(We=d.lsd())&&(pt._suffixChildren=We),d.mGM(We=d.lsd())&&(pt._errorChildren=We),d.mGM(We=d.lsd())&&(pt._hintChildren=We)}},viewQuery:function(Xn,pt){if(1&Xn&&(d.GBs(be,5),d.GBs(j,5),d.GBs(X,5),d.GBs(Ut,5),d.GBs(Pe,5),d.GBs(Z,5)),2&Xn){let Le;d.mGM(Le=d.lsd())&&(pt._textField=Le.first),d.mGM(Le=d.lsd())&&(pt._iconPrefixContainer=Le.first),d.mGM(Le=d.lsd())&&(pt._textPrefixContainer=Le.first),d.mGM(Le=d.lsd())&&(pt._floatingLabel=Le.first),d.mGM(Le=d.lsd())&&(pt._notchedOutline=Le.first),d.mGM(Le=d.lsd())&&(pt._lineRipple=Le.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Xn,pt){2&Xn&&d.AVh("mat-mdc-form-field-label-always-float",pt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",pt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",pt._hasIconSuffix)("mat-form-field-invalid",pt._control.errorState)("mat-form-field-disabled",pt._control.disabled)("mat-form-field-autofilled",pt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===pt._animationMode)("mat-form-field-appearance-fill","fill"==pt.appearance)("mat-form-field-appearance-outline","outline"==pt.appearance)("mat-form-field-hide-placeholder",pt._hasFloatingLabel()&&!pt._shouldLabelFloat())("mat-focused",pt._control.focused)("mat-primary","accent"!==pt.color&&"warn"!==pt.color)("mat-accent","accent"===pt.color)("mat-warn","warn"===pt.color)("ng-untouched",pt._shouldForward("untouched"))("ng-touched",pt._shouldForward("touched"))("ng-pristine",pt._shouldForward("pristine"))("ng-dirty",pt._shouldForward("dirty"))("ng-valid",pt._shouldForward("valid"))("ng-invalid",pt._shouldForward("invalid"))("ng-pending",pt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[d.Jv_([{provide:Ei,useExisting:Dn},{provide:Nt,useExisting:Dn}]),d.aNF],ngContentSelectors:W,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Xn,pt){if(1&Xn){const Le=d.RV6();d.NAR(se),d.DNE(0,Ae,1,1,"ng-template",null,0,d.C5r),d.j41(2,"div",4,1),d.bIt("click",function($e){return d.eBV(Le),d.Njj(pt._control.onContainerClick($e))}),d.DNE(4,Xe,1,0,"div",5),d.j41(5,"div",6),d.DNE(6,je,2,2,"div",7)(7,K,3,0,"div",8)(8,oe,3,0,"div",9),d.j41(9,"div",10),d.DNE(10,ye,1,1,null,11),d.SdG(11),d.k0s(),d.DNE(12,Ne,2,0,"div",12)(13,Be,2,0,"div",13),d.k0s(),d.DNE(14,Qe,1,0,"div",14),d.k0s(),d.j41(15,"div",15),d.DNE(16,Pt,2,1,"div",16)(17,Qt,5,2,"div",17),d.k0s()}if(2&Xn){let Le;d.R7$(2),d.AVh("mdc-text-field--filled",!pt._hasOutline())("mdc-text-field--outlined",pt._hasOutline())("mdc-text-field--no-label",!pt._hasFloatingLabel())("mdc-text-field--disabled",pt._control.disabled)("mdc-text-field--invalid",pt._control.errorState),d.R7$(2),d.vxM(pt._hasOutline()||pt._control.disabled?-1:4),d.R7$(2),d.vxM(pt._hasOutline()?6:-1),d.R7$(),d.vxM(pt._hasIconPrefix?7:-1),d.R7$(),d.vxM(pt._hasTextPrefix?8:-1),d.R7$(2),d.vxM(!pt._hasOutline()||pt._forceDisplayInfixLabel()?10:-1),d.R7$(2),d.vxM(pt._hasTextSuffix?12:-1),d.R7$(),d.vxM(pt._hasIconSuffix?13:-1),d.R7$(),d.vxM(pt._hasOutline()?-1:14),d.R7$(),d.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===pt.subscriptSizing),d.R7$(),d.vxM("error"===(Le=pt._getDisplayedMessages())?16:"hint"===Le?17:-1)}},dependencies:[Ut,Pe,C.T3,Z,Ye],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[pe.transitionMessages]},changeDetection:0})}return Dn})(),Ri=(()=>{class Dn{static#e=this.\u0275fac=function(Xn){return new(Xn||Dn)};static#t=this.\u0275mod=d.$C({type:Dn});static#n=this.\u0275inj=d.G2t({imports:[J.yE,C.MD,F.w5,J.yE]})}return Dn})()},7984:(hn,Re,_)=>{"use strict";_.d(Re,{Oh:()=>L,fg:()=>J,fS:()=>ue});var d=_(2814),A=_(7699),w=_(7404),D=_(4380),C=_(3119);const S=(0,A.BQ)({passive:!0});let I=(()=>{class ce{constructor(be,j){this._platform=be,this._ngZone=j,this._monitoredElements=new Map}monitor(be){if(!this._platform.isBrowser)return D.w;const j=(0,d.i8)(be),X=this._monitoredElements.get(j);if(X)return X.subject;const se=new C.B7,W="cdk-text-field-autofilled",xe=q=>{"cdk-text-field-autofill-start"!==q.animationName||j.classList.contains(W)?"cdk-text-field-autofill-end"===q.animationName&&j.classList.contains(W)&&(j.classList.remove(W),this._ngZone.run(()=>se.next({target:q.target,isAutofilled:!1}))):(j.classList.add(W),this._ngZone.run(()=>se.next({target:q.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{j.addEventListener("animationstart",xe,S),j.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(j,{subject:se,unlisten:()=>{j.removeEventListener("animationstart",xe,S)}}),se}stopMonitoring(be){const j=(0,d.i8)(be),X=this._monitoredElements.get(j);X&&(X.unlisten(),X.subject.complete(),j.classList.remove("cdk-text-field-autofill-monitored"),j.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(j))}ngOnDestroy(){this._monitoredElements.forEach((be,j)=>this.stopMonitoring(j))}static#e=this.\u0275fac=function(j){return new(j||ce)(w.KVO(A.OD),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),x=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=w.$C({type:ce});static#n=this.\u0275inj=w.G2t({})}return ce})();var $=_(4456),R=_(5060),O=_(5944);const L=new w.nKC("MAT_INPUT_VALUE_ACCESSOR"),U=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F=0,J=(()=>{class ce{get disabled(){return this._disabled}set disabled(be){this._disabled=(0,d.he)(be),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(be){this._id=be||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator($.k0.required)??!1}set required(be){this._required=(0,d.he)(be)}get type(){return this._type}set type(be){this._type=be||"text",this._validateType(),!this._isTextarea&&(0,A.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(be){this._errorStateTracker.matcher=be}get value(){return this._inputValueAccessor.value}set value(be){be!==this.value&&(this._inputValueAccessor.value=be,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(be){this._readonly=(0,d.he)(be)}get errorState(){return this._errorStateTracker.errorState}set errorState(be){this._errorStateTracker.errorState=be}constructor(be,j,X,se,W,xe,q,Ae,Xe,yt){this._elementRef=be,this._platform=j,this.ngControl=X,this._autofillMonitor=Ae,this._ngZone=Xe,this._formField=yt,this._uid="mat-input-"+F++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new C.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>(0,A.MU)().has(K)),this._iOSKeyupListener=K=>{const oe=K.target;!oe.value&&0===oe.selectionStart&&0===oe.selectionEnd&&(oe.setSelectionRange(1,1),oe.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const Je=this._elementRef.nativeElement,je=Je.nodeName.toLowerCase();this._inputValueAccessor=q||Je,this._previousNativeValue=this.value,this.id=this.id,j.IOS&&Xe.runOutsideAngular(()=>{be.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new R.X0(xe,X,W,se,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===je,this._isTextarea="textarea"===je,this._isInFormField=!!yt,this._isNativeSelect&&(this.controlType=Je.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(be=>{this.autofilled=be.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(be){this._elementRef.nativeElement.focus(be)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(be){be!==this.focused&&(this.focused=be,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const be=this._elementRef.nativeElement.value;this._previousNativeValue!==be&&(this._previousNativeValue=be,this.stateChanges.next())}_dirtyCheckPlaceholder(){const be=this._getPlaceholder();if(be!==this._previousPlaceholder){const j=this._elementRef.nativeElement;this._previousPlaceholder=be,be?j.setAttribute("placeholder",be):j.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){U.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let be=this._elementRef.nativeElement.validity;return be&&be.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const be=this._elementRef.nativeElement,j=be.options[0];return this.focused||be.multiple||!this.empty||!!(be.selectedIndex>-1&&j&&j.label)}return this.focused||!this.empty}setDescribedByIds(be){be.length?this._elementRef.nativeElement.setAttribute("aria-describedby",be.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const be=this._elementRef.nativeElement;return this._isNativeSelect&&(be.multiple||be.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(j){return new(j||ce)(w.rXU(w.aKT),w.rXU(A.OD),w.rXU($.vO,10),w.rXU($.cV,8),w.rXU($.j4,8),w.rXU(R.es),w.rXU(L,10),w.rXU(I),w.rXU(w.SKi),w.rXU(O.xb,8))};static#t=this.\u0275dir=w.FsC({type:ce,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(j,X){1&j&&w.bIt("focus",function(){return X._focusChanged(!0)})("blur",function(){return X._focusChanged(!1)})("input",function(){return X._onInput()}),2&j&&(w.Mr5("id",X.id)("disabled",X.disabled)("required",X.required),w.BMQ("name",X.name||null)("readonly",X.readonly&&!X._isNativeSelect||null)("aria-invalid",X.empty&&X.required?null:X.errorState)("aria-required",X.required)("id",X.id),w.AVh("mat-input-server",X._isServer)("mat-mdc-form-field-textarea-control",X._isInFormField&&X._isTextarea)("mat-mdc-form-field-input-control",X._isInFormField)("mdc-text-field__input",X._isInFormField)("mat-mdc-native-select-inline",X._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[w.Jv_([{provide:O.qT,useExisting:ce}]),w.OA$]})}return ce})(),ue=(()=>{class ce{static#e=this.\u0275fac=function(j){return new(j||ce)};static#t=this.\u0275mod=w.$C({type:ce});static#n=this.\u0275inj=w.G2t({imports:[R.yE,O.RG,O.RG,x,R.yE]})}return ce})()},1034:(hn,Re,_)=>{"use strict";_.d(Re,{Cn:()=>Ye,Cp:()=>Oe,fb:()=>Xe,kk:()=>Ce});var d=_(7404),A=_(2102),w=_(4879),D=_(3119),C=_(7405),S=_(2672),I=_(1536),E=_(2800),y=_(9273),x=_(1963),$=_(7464),R=_(8627),O=_(3602),M=_(9277),L=_(316),U=_(5060),F=_(9168),J=_(7172),ue=_(3680),ce=_(1570),re=_(7699),be=_(4053);const j=["mat-menu-item",""],X=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],se=["mat-icon, [matMenuItemIcon]","*"];function W(vt,It){1&vt&&(d.qSk(),d.j41(0,"svg",2),d.nrm(1,"polygon",3),d.k0s())}const xe=["*"];function q(vt,It){if(1&vt){const at=d.RV6();d.j41(0,"div",0),d.bIt("keydown",function(Nt){d.eBV(at);const Ut=d.XpG();return d.Njj(Ut._handleKeydown(Nt))})("click",function(){d.eBV(at);const Nt=d.XpG();return d.Njj(Nt.closed.emit("click"))})("@transformMenu.start",function(Nt){d.eBV(at);const Ut=d.XpG();return d.Njj(Ut._onAnimationStart(Nt))})("@transformMenu.done",function(Nt){d.eBV(at);const Ut=d.XpG();return d.Njj(Ut._onAnimationDone(Nt))}),d.j41(1,"div",1),d.SdG(2),d.k0s()()}if(2&vt){const at=d.XpG();d.HbH(at._classList),d.Y8G("id",at.panelId)("@transformMenu",at._panelAnimationState),d.BMQ("aria-label",at.ariaLabel||null)("aria-labelledby",at.ariaLabelledby||null)("aria-describedby",at.ariaDescribedby||null)}}const Ae=new d.nKC("MAT_MENU_PANEL");let Xe=(()=>{class vt{constructor(at,ot,Nt,Ut,wt){this._elementRef=at,this._document=ot,this._focusMonitor=Nt,this._parentMenu=Ut,this._changeDetectorRef=wt,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new D.B7,this._focused=new D.B7,this._highlighted=!1,this._triggersSubmenu=!1,Ut?.addItem?.(this)}focus(at,ot){this._focusMonitor&&at?this._focusMonitor.focusVia(this._getHostElement(),at,ot):this._getHostElement().focus(ot),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(at){this.disabled&&(at.preventDefault(),at.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const at=this._elementRef.nativeElement.cloneNode(!0),ot=at.querySelectorAll("mat-icon, .material-icons");for(let Nt=0;Nt<ot.length;Nt++)ot[Nt].remove();return at.textContent?.trim()||""}_setHighlighted(at){this._highlighted=at,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(at){this._triggersSubmenu=at,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ot){return new(ot||vt)(d.rXU(d.aKT),d.rXU(L.qQ),d.rXU(A.FN),d.rXU(Ae,8),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ot,Nt){1&ot&&d.bIt("click",function(wt){return Nt._checkDisabled(wt)})("mouseenter",function(){return Nt._handleMouseEnter()}),2&ot&&(d.BMQ("role",Nt.role)("tabindex",Nt._getTabIndex())("aria-disabled",Nt.disabled)("disabled",Nt.disabled||null),d.AVh("mat-mdc-menu-item-highlighted",Nt._highlighted)("mat-mdc-menu-item-submenu-trigger",Nt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39]},exportAs:["matMenuItem"],standalone:!0,features:[d.GFd,d.aNF],attrs:j,ngContentSelectors:se,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ot,Nt){1&ot&&(d.NAR(X),d.SdG(0),d.j41(1,"span",0),d.SdG(2,1),d.k0s(),d.nrm(3,"div",1),d.DNE(4,W,2,0,":svg:svg",2)),2&ot&&(d.R7$(3),d.Y8G("matRippleDisabled",Nt.disableRipple||Nt.disabled)("matRippleTrigger",Nt._getHostElement()),d.R7$(),d.vxM(Nt._triggersSubmenu?4:-1))},dependencies:[U.r6],encapsulation:2,changeDetection:0})}return vt})();const K=new d.nKC("MatMenuContent"),ge={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Be=0;const Qe=new d.nKC("mat-menu-default-options",{providedIn:"root",factory:function Pt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ce=(()=>{class vt{get xPosition(){return this._xPosition}set xPosition(at){this._xPosition=at,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(at){this._yPosition=at,this.setPositionClasses()}set panelClass(at){const ot=this._previousPanelClass,Nt={...this._classList};ot&&ot.length&&ot.split(" ").forEach(Ut=>{Nt[Ut]=!1}),this._previousPanelClass=at,at&&at.length&&(at.split(" ").forEach(Ut=>{Nt[Ut]=!0}),this._elementRef.nativeElement.className=""),this._classList=Nt}get classList(){return this.panelClass}set classList(at){this.panelClass=at}constructor(at,ot,Nt,Ut){this._elementRef=at,this._changeDetectorRef=Ut,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new d.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new D.B7,this.closed=new d.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Be++,this._injector=(0,d.WQX)(d.zZn),this.overlayPanelClass=Nt.overlayPanelClass||"",this._xPosition=Nt.xPosition,this._yPosition=Nt.yPosition,this.backdropClass=Nt.backdropClass,this.overlapTrigger=Nt.overlapTrigger,this.hasBackdrop=Nt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new A.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,y.Z)(this._directDescendantItems),(0,x.n)(at=>(0,C.h)(...at.map(ot=>ot._focused)))).subscribe(at=>this._keyManager.updateActiveItem(at)),this._directDescendantItems.changes.subscribe(at=>{const ot=this._keyManager;if("enter"===this._panelAnimationState&&ot.activeItem?._hasFocus()){const Nt=at.toArray(),Ut=Math.max(0,Math.min(Nt.length-1,ot.activeItemIndex||0));Nt[Ut]&&!Nt[Ut].disabled?ot.setActiveItem(Ut):ot.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,y.Z)(this._directDescendantItems),(0,x.n)(ot=>(0,C.h)(...ot.map(Nt=>Nt._hovered))))}addItem(at){}removeItem(at){}_handleKeydown(at){const ot=at.keyCode,Nt=this._keyManager;switch(ot){case w._f:(0,w.rp)(at)||(at.preventDefault(),this.closed.emit("keydown"));break;case w.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case w.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ot===w.i7||ot===w.n6)&&Nt.setFocusOrigin("keyboard"),void Nt.onKeydown(at)}at.stopPropagation()}focusFirstItem(at="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,d.mal)(()=>{let ot=null;if(this._directDescendantItems.length&&(ot=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ot||!ot.contains(document.activeElement)){const Nt=this._keyManager;Nt.setFocusOrigin(at).setFirstItemActive(),!Nt.activeItem&&ot&&ot.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(at){if(null===this._baseElevation){const ut=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(ut)}const ot=Math.min(this._baseElevation+at,24),Nt=`${this._elevationPrefix}${ot}`,Ut=Object.keys(this._classList).find(wt=>wt.startsWith(this._elevationPrefix));if(!Ut||Ut===this._previousElevation){const wt={...this._classList};this._previousElevation&&(wt[this._previousElevation]=!1),wt[Nt]=!0,this._previousElevation=Nt,this._classList=wt}}setPositionClasses(at=this.xPosition,ot=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===at,"mat-menu-after":"after"===at,"mat-menu-above":"above"===ot,"mat-menu-below":"below"===ot},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(at){this._animationDone.next(at),this._isAnimating=!1}_onAnimationStart(at){this._isAnimating=!0,"enter"===at.toState&&0===this._keyManager.activeItemIndex&&(at.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,y.Z)(this._allItems)).subscribe(at=>{this._directDescendantItems.reset(at.filter(ot=>ot._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ot){return new(ot||vt)(d.rXU(d.aKT),d.rXU(d.SKi),d.rXU(Qe),d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:vt,selectors:[["mat-menu"]],contentQueries:function(ot,Nt,Ut){if(1&ot&&(d.wni(Ut,K,5),d.wni(Ut,Xe,5),d.wni(Ut,Xe,4)),2&ot){let wt;d.mGM(wt=d.lsd())&&(Nt.lazyContent=wt.first),d.mGM(wt=d.lsd())&&(Nt._allItems=wt),d.mGM(wt=d.lsd())&&(Nt.items=wt)}},viewQuery:function(ot,Nt){if(1&ot&&d.GBs(d.C4Q,5),2&ot){let Ut;d.mGM(Ut=d.lsd())&&(Nt.templateRef=Ut.first)}},hostVars:3,hostBindings:function(ot,Nt){2&ot&&d.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",d.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",at=>null==at?null:(0,d.L39)(at)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[d.Jv_([{provide:Ae,useExisting:vt}]),d.GFd,d.aNF],ngContentSelectors:xe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ot,Nt){1&ot&&(d.NAR(),d.DNE(0,q,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ge.transformMenu,ge.fadeInItems]},changeDetection:0})}return vt})();const Qt=new d.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const vt=(0,d.WQX)(ce.hJ);return()=>vt.scrollStrategies.reposition()}}),Tt={provide:Qt,deps:[ce.hJ],useFactory:function Vt(vt){return()=>vt.scrollStrategies.reposition()}},Ot=(0,re.BQ)({passive:!0});let Oe=(()=>{class vt{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(at){this.menu=at}get menu(){return this._menu}set menu(at){at!==this._menu&&(this._menu=at,this._menuCloseSubscription.unsubscribe(),at&&(this._menuCloseSubscription=at.close.subscribe(ot=>{this._destroyMenu(ot),("click"===ot||"tab"===ot)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ot)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(at,ot,Nt,Ut,wt,ut,dt,Z,Pe){this._overlay=at,this._element=ot,this._viewContainerRef=Nt,this._menuItemInstance=ut,this._dir=dt,this._focusMonitor=Z,this._ngZone=Pe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=S.y.EMPTY,this._hoverSubscription=S.y.EMPTY,this._menuCloseSubscription=S.y.EMPTY,this._changeDetectorRef=(0,d.WQX)(d.gRc),this._handleTouchStart=pe=>{(0,A.w6)(pe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ut,this._parentMaterialMenu=wt instanceof Ce?wt:void 0,ot.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ot)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ot),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const at=this.menu;if(this._menuOpen||!at)return;const ot=this._createOverlay(at),Nt=ot.getConfig(),Ut=Nt.positionStrategy;this._setPosition(at,Ut),Nt.hasBackdrop=null==at.hasBackdrop?!this.triggersSubmenu():at.hasBackdrop,ot.attach(this._getPortal(at)),at.lazyContent&&at.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(at),at instanceof Ce&&(at._startAnimation(),at._directDescendantItems.changes.pipe((0,$.Q)(at.close)).subscribe(()=>{Ut.withLockedPosition(!1).reapplyLastPosition(),Ut.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(at,ot){this._focusMonitor&&at?this._focusMonitor.focusVia(this._element,at,ot):this._element.nativeElement.focus(ot)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(at){if(!this._overlayRef||!this.menuOpen)return;const ot=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===at||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ot instanceof Ce?(ot._resetAnimation(),ot.lazyContent?ot._animationDone.pipe((0,R.p)(Nt=>"void"===Nt.toState),(0,O.s)(1),(0,$.Q)(ot.lazyContent._attached)).subscribe({next:()=>ot.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ot?.lazyContent?.detach())}_initMenu(at){at.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,at.direction=this.dir,this._setMenuElevation(at),at.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(at){if(at.setElevation){let ot=0,Nt=at.parentMenu;for(;Nt;)ot++,Nt=Nt.parentMenu;at.setElevation(ot)}}_setIsMenuOpen(at){at!==this._menuOpen&&(this._menuOpen=at,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(at),this._changeDetectorRef.markForCheck())}_createOverlay(at){if(!this._overlayRef){const ot=this._getOverlayConfig(at);this._subscribeToPositions(at,ot.positionStrategy),this._overlayRef=this._overlay.create(ot),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(at){return new ce.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:at.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:at.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(at,ot){at.setPositionClasses&&ot.positionChanges.subscribe(Nt=>{const Ut="start"===Nt.connectionPair.overlayX?"after":"before",wt="top"===Nt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>at.setPositionClasses(Ut,wt)):at.setPositionClasses(Ut,wt)})}_setPosition(at,ot){let[Nt,Ut]="before"===at.xPosition?["end","start"]:["start","end"],[wt,ut]="above"===at.yPosition?["bottom","top"]:["top","bottom"],[dt,Z]=[wt,ut],[Pe,pe]=[Nt,Ut],lt=0;if(this.triggersSubmenu()){if(pe=Nt="before"===at.xPosition?"start":"end",Ut=Pe="end"===Nt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Gt=this._parentMaterialMenu.items.first;this._parentInnerPadding=Gt?Gt._getHostElement().offsetTop:0}lt="bottom"===wt?this._parentInnerPadding:-this._parentInnerPadding}}else at.overlapTrigger||(dt="top"===wt?"bottom":"top",Z="top"===ut?"bottom":"top");ot.withPositions([{originX:Nt,originY:dt,overlayX:Pe,overlayY:wt,offsetY:lt},{originX:Ut,originY:dt,overlayX:pe,overlayY:wt,offsetY:lt},{originX:Nt,originY:Z,overlayX:Pe,overlayY:ut,offsetY:-lt},{originX:Ut,originY:Z,overlayX:pe,overlayY:ut,offsetY:-lt}])}_menuClosingActions(){const at=this._overlayRef.backdropClick(),ot=this._overlayRef.detachments(),Nt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,I.of)(),Ut=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,R.p)(wt=>wt!==this._menuItemInstance),(0,R.p)(()=>this._menuOpen)):(0,I.of)();return(0,C.h)(at,Nt,Ut,ot)}_handleMousedown(at){(0,A._G)(at)||(this._openedBy=0===at.button?"mouse":void 0,this.triggersSubmenu()&&at.preventDefault())}_handleKeydown(at){const ot=at.keyCode;(ot===w.Fm||ot===w.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ot===w.LE&&"ltr"===this.dir||ot===w.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(at){this.triggersSubmenu()?(at.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,R.p)(at=>at===this._menuItemInstance&&!at.disabled),(0,M.c)(0,E.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ce&&this.menu._isAnimating?this.menu._animationDone.pipe((0,O.s)(1),(0,M.c)(0,E.$),(0,$.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(at){return(!this._portal||this._portal.templateRef!==at.templateRef)&&(this._portal=new F.VA(at.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ot){return new(ot||vt)(d.rXU(ce.hJ),d.rXU(d.aKT),d.rXU(d.c1b),d.rXU(Qt),d.rXU(Ae,8),d.rXU(Xe,10),d.rXU(ue.dS,8),d.rXU(A.FN),d.rXU(d.SKi))};static#t=this.\u0275dir=d.FsC({type:vt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ot,Nt){1&ot&&d.bIt("click",function(wt){return Nt._handleClick(wt)})("mousedown",function(wt){return Nt._handleMousedown(wt)})("keydown",function(wt){return Nt._handleKeydown(wt)}),2&ot&&d.BMQ("aria-haspopup",Nt.menu?"menu":null)("aria-expanded",Nt.menuOpen)("aria-controls",Nt.menuOpen?Nt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return vt})(),Ye=(()=>{class vt{static#e=this.\u0275fac=function(ot){return new(ot||vt)};static#t=this.\u0275mod=d.$C({type:vt});static#n=this.\u0275inj=d.G2t({providers:[Tt],imports:[L.MD,U.pZ,U.yE,ce.z_,be.Gj,U.yE]})}return vt})()},4624:(hn,Re,_)=>{"use strict";_.d(Re,{Ou:()=>j,iy:()=>be});var d=_(7404),A=_(3119),w=_(7675),D=_(4175),C=_(5175),S=_(640),I=_(5060),E=_(5944);function y(X,se){if(1&X&&(d.j41(0,"mat-option",17),d.EFF(1),d.k0s()),2&X){const W=se.$implicit;d.Y8G("value",W),d.R7$(),d.SpI(" ",W," ")}}function x(X,se){if(1&X){const W=d.RV6();d.j41(0,"mat-form-field",14)(1,"mat-select",16,0),d.bIt("selectionChange",function(q){d.eBV(W);const Ae=d.XpG(2);return d.Njj(Ae._changePageSize(q.value))}),d.Z7z(3,y,2,2,"mat-option",17,d.fX1),d.k0s(),d.j41(5,"div",18),d.bIt("click",function(){d.eBV(W);const q=d.sdS(2);return d.Njj(q.open())}),d.k0s()()}if(2&X){const W=d.XpG(2);d.Y8G("appearance",W._formFieldAppearance)("color",W.color),d.R7$(),d.Y8G("value",W.pageSize)("disabled",W.disabled)("aria-labelledby",W._pageSizeLabelId)("panelClass",W.selectConfig.panelClass||"")("disableOptionCentering",W.selectConfig.disableOptionCentering),d.R7$(2),d.Dyx(W._displayedPageSizeOptions)}}function $(X,se){if(1&X&&(d.j41(0,"div",15),d.EFF(1),d.k0s()),2&X){const W=d.XpG(2);d.R7$(),d.JRh(W.pageSize)}}function R(X,se){if(1&X&&(d.j41(0,"div",3)(1,"div",13),d.EFF(2),d.k0s(),d.DNE(3,x,6,7,"mat-form-field",14)(4,$,2,1,"div",15),d.k0s()),2&X){const W=d.XpG();d.R7$(),d.BMQ("id",W._pageSizeLabelId),d.R7$(),d.SpI(" ",W._intl.itemsPerPageLabel," "),d.R7$(),d.vxM(W._displayedPageSizeOptions.length>1?3:-1),d.R7$(),d.vxM(W._displayedPageSizeOptions.length<=1?4:-1)}}function O(X,se){if(1&X){const W=d.RV6();d.j41(0,"button",19),d.bIt("click",function(){d.eBV(W);const q=d.XpG();return d.Njj(q.firstPage())}),d.qSk(),d.j41(1,"svg",8),d.nrm(2,"path",20),d.k0s()()}if(2&X){const W=d.XpG();d.Y8G("matTooltip",W._intl.firstPageLabel)("matTooltipDisabled",W._previousButtonsDisabled())("matTooltipPosition","above")("disabled",W._previousButtonsDisabled()),d.BMQ("aria-label",W._intl.firstPageLabel)}}function M(X,se){if(1&X){const W=d.RV6();d.j41(0,"button",21),d.bIt("click",function(){d.eBV(W);const q=d.XpG();return d.Njj(q.lastPage())}),d.qSk(),d.j41(1,"svg",8),d.nrm(2,"path",22),d.k0s()()}if(2&X){const W=d.XpG();d.Y8G("matTooltip",W._intl.lastPageLabel)("matTooltipDisabled",W._nextButtonsDisabled())("matTooltipPosition","above")("disabled",W._nextButtonsDisabled()),d.BMQ("aria-label",W._intl.lastPageLabel)}}let L=(()=>{class X{constructor(){this.changes=new A.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(W,xe,q)=>{if(0==q||0==xe)return`0 of ${q}`;const Ae=W*xe;return`${Ae+1} \u2013 ${Ae<(q=Math.max(q,0))?Math.min(Ae+xe,q):Ae+xe} of ${q}`}}static#e=this.\u0275fac=function(xe){return new(xe||X)};static#t=this.\u0275prov=d.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();const F={provide:L,deps:[[new d.Xx1,new d.kdw,L]],useFactory:function U(X){return X||new L}},ce=new d.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let re=0,be=(()=>{class X{get pageIndex(){return this._pageIndex}set pageIndex(W){this._pageIndex=Math.max(W||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(W){this._length=W||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(W){this._pageSize=Math.max(W||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(W){this._pageSizeOptions=(W||[]).map(xe=>(0,d.Udg)(xe,0)),this._updateDisplayedPageSizeOptions()}constructor(W,xe,q){if(this._intl=W,this._changeDetectorRef=xe,this._pageSizeLabelId="mat-paginator-page-size-label-"+re++,this._isInitialized=!1,this._initializedStream=new w.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new d.bkB,this.initialized=this._initializedStream,this._intlChanges=W.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),q){const{pageSize:Ae,pageSizeOptions:Xe,hidePageSize:yt,showFirstLastButtons:Je}=q;null!=Ae&&(this._pageSize=Ae),null!=Xe&&(this._pageSizeOptions=Xe),null!=yt&&(this.hidePageSize=yt),null!=Je&&(this.showFirstLastButtons=Je)}this._formFieldAppearance=q?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const W=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(W)}previousPage(){if(!this.hasPreviousPage())return;const W=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(W)}firstPage(){if(!this.hasPreviousPage())return;const W=this.pageIndex;this.pageIndex=0,this._emitPageEvent(W)}lastPage(){if(!this.hasNextPage())return;const W=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(W)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const W=this.getNumberOfPages()-1;return this.pageIndex<W&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(W){const q=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/W)||0,this.pageSize=W,this._emitPageEvent(q)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((W,xe)=>W-xe),this._changeDetectorRef.markForCheck())}_emitPageEvent(W){this.page.emit({previousPageIndex:W,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(xe){return new(xe||X)(d.rXU(L),d.rXU(d.gRc),d.rXU(ce,8))};static#t=this.\u0275cmp=d.VBU({type:X,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",d.Udg],length:[2,"length","length",d.Udg],pageSize:[2,"pageSize","pageSize",d.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",d.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",d.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",d.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[d.GFd,d.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(xe,q){1&xe&&(d.j41(0,"div",1)(1,"div",2),d.DNE(2,R,5,4,"div",3),d.j41(3,"div",4)(4,"div",5),d.EFF(5),d.k0s(),d.DNE(6,O,3,5,"button",6),d.j41(7,"button",7),d.bIt("click",function(){return q.previousPage()}),d.qSk(),d.j41(8,"svg",8),d.nrm(9,"path",9),d.k0s()(),d.joV(),d.j41(10,"button",10),d.bIt("click",function(){return q.nextPage()}),d.qSk(),d.j41(11,"svg",8),d.nrm(12,"path",11),d.k0s()(),d.DNE(13,M,3,5,"button",12),d.k0s()()()),2&xe&&(d.R7$(2),d.vxM(q.hidePageSize?-1:2),d.R7$(3),d.SpI(" ",q._intl.getRangeLabel(q.pageIndex,q.pageSize,q.length)," "),d.R7$(),d.vxM(q.showFirstLastButtons?6:-1),d.R7$(),d.Y8G("matTooltip",q._intl.previousPageLabel)("matTooltipDisabled",q._previousButtonsDisabled())("matTooltipPosition","above")("disabled",q._previousButtonsDisabled()),d.BMQ("aria-label",q._intl.previousPageLabel),d.R7$(3),d.Y8G("matTooltip",q._intl.nextPageLabel)("matTooltipDisabled",q._nextButtonsDisabled())("matTooltipPosition","above")("disabled",q._nextButtonsDisabled()),d.BMQ("aria-label",q._intl.nextPageLabel),d.R7$(3),d.vxM(q.showFirstLastButtons?13:-1))},dependencies:[E.rl,C.VO,I.wT,D.iY,S.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return X})(),j=(()=>{class X{static#e=this.\u0275fac=function(xe){return new(xe||X)};static#t=this.\u0275mod=d.$C({type:X});static#n=this.\u0275inj=d.G2t({providers:[F],imports:[D.Hl,C.Ve,S.uc,be]})}return X})()},1134:(hn,Re,_)=>{"use strict";_.d(Re,{D6:()=>R,LG:()=>x});var d=_(7404),A=_(316),w=_(5060);const D=["determinateSpinner"];function C(O,M){if(1&O&&(d.qSk(),d.j41(0,"svg",11),d.nrm(1,"circle",12),d.k0s()),2&O){const L=d.XpG();d.BMQ("viewBox",L._viewBox()),d.R7$(),d.xc7("stroke-dasharray",L._strokeCircumference(),"px")("stroke-dashoffset",L._strokeCircumference()/2,"px")("stroke-width",L._circleStrokeWidth(),"%"),d.BMQ("r",L._circleRadius())}}const S=new d.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function I(){return{diameter:E}}}),E=100;let x=(()=>{class O{get color(){return this._color||this._defaultColor}set color(L){this._color=L}constructor(L,U,F){this._elementRef=L,this._defaultColor="primary",this._value=0,this._diameter=E,this._noopAnimations="NoopAnimations"===U&&!!F&&!F._forceAnimations,this.mode="mat-spinner"===L.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",F&&(F.color&&(this.color=this._defaultColor=F.color),F.diameter&&(this.diameter=F.diameter),F.strokeWidth&&(this.strokeWidth=F.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(L){this._value=Math.max(0,Math.min(100,L||0))}get diameter(){return this._diameter}set diameter(L){this._diameter=L||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(L){this._strokeWidth=L||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const L=2*this._circleRadius()+this.strokeWidth;return`0 0 ${L} ${L}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(U){return new(U||O)(d.rXU(d.aKT),d.rXU(d.bc$,8),d.rXU(S))};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(U,F){if(1&U&&d.GBs(D,5),2&U){let J;d.mGM(J=d.lsd())&&(F._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(U,F){2&U&&(d.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===F.mode?F.value:null)("mode",F.mode),d.HbH("mat-"+F.color),d.xc7("width",F.diameter,"px")("height",F.diameter,"px")("--mdc-circular-progress-size",F.diameter+"px")("--mdc-circular-progress-active-indicator-width",F.diameter+"px"),d.AVh("_mat-animation-noopable",F._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===F.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",d.Udg],diameter:[2,"diameter","diameter",d.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",d.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[d.GFd,d.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(U,F){if(1&U&&(d.DNE(0,C,2,8,"ng-template",null,0,d.C5r),d.j41(2,"div",2,1),d.qSk(),d.j41(4,"svg",3),d.nrm(5,"circle",4),d.k0s()(),d.joV(),d.j41(6,"div",5)(7,"div",6)(8,"div",7),d.eu8(9,8),d.k0s(),d.j41(10,"div",9),d.eu8(11,8),d.k0s(),d.j41(12,"div",10),d.eu8(13,8),d.k0s()()()),2&U){const J=d.sdS(1);d.R7$(4),d.BMQ("viewBox",F._viewBox()),d.R7$(),d.xc7("stroke-dasharray",F._strokeCircumference(),"px")("stroke-dashoffset",F._strokeDashOffset(),"px")("stroke-width",F._circleStrokeWidth(),"%"),d.BMQ("r",F._circleRadius()),d.R7$(4),d.Y8G("ngTemplateOutlet",J),d.R7$(2),d.Y8G("ngTemplateOutlet",J),d.R7$(2),d.Y8G("ngTemplateOutlet",J)}},dependencies:[A.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return O})(),R=(()=>{class O{static#e=this.\u0275fac=function(U){return new(U||O)};static#t=this.\u0275mod=d.$C({type:O});static#n=this.\u0275inj=d.G2t({imports:[A.MD,w.yE]})}return O})()},3804:(hn,Re,_)=>{"use strict";_.d(Re,{VT:()=>U,Wk:()=>J,_g:()=>F});var d=_(2102),A=_(7989),w=_(7404),D=_(4456),C=_(5060),S=_(316);const I=["input"],E=["formField"],y=["*"];let x=0;class ${constructor(ce,re){this.source=ce,this.value=re}}const R={provide:D.kq,useExisting:(0,w.Rfq)(()=>U),multi:!0},O=new w.nKC("MatRadioGroup"),M=new w.nKC("mat-radio-default-options",{providedIn:"root",factory:function L(){return{color:"accent"}}});let U=(()=>{class ue{get name(){return this._name}set name(re){this._name=re,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(re){this._labelPosition="before"===re?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(re){this._value!==re&&(this._value=re,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(re){this._selected=re,this.value=re?re.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._markRadiosForCheck()}get required(){return this._required}set required(re){this._required=re,this._markRadiosForCheck()}constructor(re){this._changeDetector=re,this._value=null,this._name="mat-radio-group-"+x++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new w.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(re=>re===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(re=>{re.name=this.name,re._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(be=>{be.checked=this.value===be.value,be.checked&&(this._selected=be)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new $(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(re=>re._markForCheck())}writeValue(re){this.value=re,this._changeDetector.markForCheck()}registerOnChange(re){this._controlValueAccessorChangeFn=re}registerOnTouched(re){this.onTouched=re}setDisabledState(re){this.disabled=re,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(be){return new(be||ue)(w.rXU(w.gRc))};static#t=this.\u0275dir=w.FsC({type:ue,selectors:[["mat-radio-group"]],contentQueries:function(be,j,X){if(1&be&&w.wni(X,F,5),2&be){let se;w.mGM(se=w.lsd())&&(j._radios=se)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",w.L39],required:[2,"required","required",w.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[w.Jv_([R,{provide:O,useExisting:ue}]),w.GFd]})}return ue})(),F=(()=>{class ue{get checked(){return this._checked}set checked(re){this._checked!==re&&(this._checked=re,re&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!re&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),re&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(re){this._value!==re&&(this._value=re,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===re),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(re){this._labelPosition=re}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(re){this._setDisabled(re)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(re){this._required=re}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(re){this._color=re}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(re,be,j,X,se,W,xe,q){this._elementRef=be,this._changeDetector=j,this._focusMonitor=X,this._radioDispatcher=se,this._providerOverride=xe,this._uniqueId="mat-radio-"+ ++x,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new w.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,w.WQX)(w.zZn),this.radioGroup=re,this._noopAnimations="NoopAnimations"===W,q&&(this.tabIndex=(0,w.Udg)(q,0))}focus(re,be){be?this._focusMonitor.focusVia(this._inputElement,be,re):this._inputElement.nativeElement.focus(re)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((re,be)=>{re!==this.id&&be===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(re=>{!re&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new $(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(re){re.stopPropagation()}_onInputInteraction(re){if(re.stopPropagation(),!this.checked&&!this.disabled){const be=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),be&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(re){this._onInputInteraction(re),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(re){this._disabled!==re&&(this._disabled=re,this._changeDetector.markForCheck())}_updateTabIndex(){const re=this.radioGroup;let be;if(be=re&&re.selected&&!this.disabled?re.selected===this?this.tabIndex:-1:this.tabIndex,be!==this._previousTabIndex){const j=this._inputElement?.nativeElement;j&&(j.setAttribute("tabindex",be+""),this._previousTabIndex=be,(0,w.mal)(()=>{queueMicrotask(()=>{re&&re.selected&&re.selected!==this&&document.activeElement===j&&(re.selected?._inputElement.nativeElement.focus(),document.activeElement===j&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(be){return new(be||ue)(w.rXU(O,8),w.rXU(w.aKT),w.rXU(w.gRc),w.rXU(d.FN),w.rXU(A.zP),w.rXU(w.bc$,8),w.rXU(M,8),w.kS0("tabindex"))};static#t=this.\u0275cmp=w.VBU({type:ue,selectors:[["mat-radio-button"]],viewQuery:function(be,j){if(1&be&&(w.GBs(I,5),w.GBs(E,7,w.aKT)),2&be){let X;w.mGM(X=w.lsd())&&(j._inputElement=X.first),w.mGM(X=w.lsd())&&(j._rippleTrigger=X.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(be,j){1&be&&w.bIt("focus",function(){return j._inputElement.nativeElement.focus()}),2&be&&(w.BMQ("id",j.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),w.AVh("mat-primary","primary"===j.color)("mat-accent","accent"===j.color)("mat-warn","warn"===j.color)("mat-mdc-radio-checked",j.checked)("_mat-animation-noopable",j._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",w.L39],tabIndex:[2,"tabIndex","tabIndex",re=>null==re?0:(0,w.Udg)(re)],checked:[2,"checked","checked",w.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",w.L39],required:[2,"required","required",w.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[w.GFd,w.aNF],ngContentSelectors:y,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(be,j){if(1&be){const X=w.RV6();w.NAR(),w.j41(0,"div",2,0)(2,"div",3)(3,"div",4),w.bIt("click",function(W){return w.eBV(X),w.Njj(j._onTouchTargetClick(W))}),w.k0s(),w.j41(4,"input",5,1),w.bIt("change",function(W){return w.eBV(X),w.Njj(j._onInputInteraction(W))}),w.k0s(),w.j41(6,"div",6),w.nrm(7,"div",7)(8,"div",8),w.k0s(),w.j41(9,"div",9),w.nrm(10,"div",10),w.k0s()(),w.j41(11,"label",11),w.SdG(12),w.k0s()()}2&be&&(w.Y8G("labelPosition",j.labelPosition),w.R7$(2),w.AVh("mdc-radio--disabled",j.disabled),w.R7$(2),w.Y8G("id",j.inputId)("checked",j.checked)("disabled",j.disabled)("required",j.required),w.BMQ("name",j.name)("value",j.value)("aria-label",j.ariaLabel)("aria-labelledby",j.ariaLabelledby)("aria-describedby",j.ariaDescribedby),w.R7$(5),w.Y8G("matRippleTrigger",j._rippleTrigger.nativeElement)("matRippleDisabled",j._isRippleDisabled())("matRippleCentered",!0),w.R7$(2),w.Y8G("for",j.inputId))},dependencies:[C.r6,C.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ue})(),J=(()=>{class ue{static#e=this.\u0275fac=function(be){return new(be||ue)};static#t=this.\u0275mod=w.$C({type:ue});static#n=this.\u0275inj=w.G2t({imports:[C.yE,S.MD,C.pZ,F,C.yE]})}return ue})()},5175:(hn,Re,_)=>{"use strict";_.d(Re,{VO:()=>Qt,Ve:()=>Tt});var d=_(1570),A=_(316),w=_(7404),D=_(5060),C=_(5944),S=_(4053),I=_(2102),E=_(3680),y=_(7989),x=_(4879),$=_(4456),R=_(3119),O=_(6965),M=_(7405),L=_(9273),U=_(1963),F=_(8627),J=_(5443),ue=_(6109),ce=_(7464),re=_(3602),be=_(7172);const j=["trigger"],X=["panel"],se=[[["mat-select-trigger"]],"*"],W=["mat-select-trigger","*"];function xe(Ot,ft){if(1&Ot&&(w.j41(0,"span",4),w.EFF(1),w.k0s()),2&Ot){const Oe=w.XpG();w.R7$(),w.JRh(Oe.placeholder)}}function q(Ot,ft){1&Ot&&w.SdG(0)}function Ae(Ot,ft){if(1&Ot&&(w.j41(0,"span",11),w.EFF(1),w.k0s()),2&Ot){const Oe=w.XpG(2);w.R7$(),w.JRh(Oe.triggerValue)}}function Xe(Ot,ft){if(1&Ot&&(w.j41(0,"span",5),w.DNE(1,q,1,0)(2,Ae,2,1,"span",11),w.k0s()),2&Ot){const Oe=w.XpG();w.R7$(),w.vxM(Oe.customTrigger?1:2)}}function yt(Ot,ft){if(1&Ot){const Oe=w.RV6();w.j41(0,"div",12,1),w.bIt("@transformPanel.done",function(vt){w.eBV(Oe);const It=w.XpG();return w.Njj(It._panelDoneAnimatingStream.next(vt.toState))})("keydown",function(vt){w.eBV(Oe);const It=w.XpG();return w.Njj(It._handleKeydown(vt))}),w.SdG(2,1),w.k0s()}if(2&Ot){const Oe=w.XpG();w.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Oe._getPanelTheme(),""),w.Y8G("ngClass",Oe.panelClass)("@transformPanel","showing"),w.BMQ("id",Oe.id+"-panel")("aria-multiselectable",Oe.multiple)("aria-label",Oe.ariaLabel||null)("aria-labelledby",Oe._getPanelAriaLabelledby())}}const Je={transformPanelWrap:(0,be.hZ)("transformPanelWrap",[(0,be.kY)("* => void",(0,be.P)("@transformPanel",[(0,be.MA)()],{optional:!0}))]),transformPanel:(0,be.hZ)("transformPanel",[(0,be.wk)("void",(0,be.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,be.kY)("void => showing",(0,be.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,be.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,be.kY)("* => void",(0,be.i0)("100ms linear",(0,be.iF)({opacity:0})))])};let ge=0;const ye=new w.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ot=(0,w.WQX)(d.hJ);return()=>Ot.scrollStrategies.reposition()}}),Be=new w.nKC("MAT_SELECT_CONFIG"),Qe={provide:ye,deps:[d.hJ],useFactory:function Ne(Ot){return()=>Ot.scrollStrategies.reposition()}},Pt=new w.nKC("MatSelectTrigger");class Ce{constructor(ft,Oe){this.source=ft,this.value=Oe}}let Qt=(()=>{class Ot{_scrollOptionIntoView(Oe){const Ye=this.options.toArray()[Oe];if(Ye){const vt=this.panel.nativeElement,It=(0,D.jb)(Oe,this.options,this.optionGroups),at=Ye._getHostElement();vt.scrollTop=0===Oe&&1===It?0:(0,D.TL)(at.offsetTop,at.offsetHeight,vt.scrollTop,vt.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Oe){return new Ce(this,Oe)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Oe){this._hideSingleSelectionIndicator=Oe,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(Oe){this._placeholder=Oe,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator($.k0.required)??!1}set required(Oe){this._required=Oe,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Oe){this._multiple=Oe}get compareWith(){return this._compareWith}set compareWith(Oe){this._compareWith=Oe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Oe){this._assignValue(Oe)&&this._onChange(Oe)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Oe){this._errorStateTracker.matcher=Oe}get id(){return this._id}set id(Oe){this._id=Oe||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(Oe){this._errorStateTracker.errorState=Oe}constructor(Oe,Ye,vt,It,at,ot,Nt,Ut,wt,ut,dt,Z,Pe,pe){this._viewportRuler=Oe,this._changeDetectorRef=Ye,this._elementRef=at,this._dir=ot,this._parentFormField=wt,this.ngControl=ut,this._liveAnnouncer=Pe,this._defaultOptions=pe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(lt,Gt)=>lt===Gt,this._uid="mat-select-"+ge++,this._triggerAriaLabelledBy=null,this._destroy=new R.B7,this.stateChanges=new R.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ge++,this._panelDoneAnimatingStream=new R.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new R.B7,this.optionSelectionChanges=(0,O.v)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,L.Z)(lt),(0,U.n)(()=>(0,M.h)(...lt.map(Gt=>Gt.onSelectionChange)))):this._initialized.pipe((0,U.n)(()=>this.optionSelectionChanges))}),this.openedChange=new w.bkB,this._openedStream=this.openedChange.pipe((0,F.p)(lt=>lt),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,F.p)(lt=>!lt),(0,J.T)(()=>{})),this.selectionChange=new w.bkB,this.valueChange=new w.bkB,this._trackedModal=null,this._skipPredicate=lt=>!this.panelOpen&&lt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=pe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=pe.typeaheadDebounceInterval),this._errorStateTracker=new D.X0(It,ut,Ut,Nt,this.stateChanges),this._scrollStrategyFactory=Z,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(dt)||0,this.id=this.id}ngOnInit(){this._selectionModel=new y.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ue.F)(),(0,ce.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ce.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ce.Q)(this._destroy)).subscribe(Oe=>{Oe.added.forEach(Ye=>Ye.select()),Oe.removed.forEach(Ye=>Ye.deselect())}),this.options.changes.pipe((0,L.Z)(null),(0,ce.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Oe=this._getTriggerAriaLabelledby(),Ye=this.ngControl;if(Oe!==this._triggerAriaLabelledBy){const vt=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Oe,Oe?vt.setAttribute("aria-labelledby",Oe):vt.removeAttribute("aria-labelledby")}Ye&&(this._previousControl!==Ye.control&&(void 0!==this._previousControl&&null!==Ye.disabled&&Ye.disabled!==this.disabled&&(this.disabled=Ye.disabled),this._previousControl=Ye.control),this.updateErrorState())}ngOnChanges(Oe){(Oe.disabled||Oe.userAriaDescribedBy)&&this.stateChanges.next(),Oe.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const Oe=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Oe)return;const Ye=`${this.id}-panel`;this._trackedModal&&(0,I.Ae)(this._trackedModal,"aria-owns",Ye),(0,I.px)(Oe,"aria-owns",Ye),this._trackedModal=Oe}_clearFromModal(){this._trackedModal&&((0,I.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(Oe){this._assignValue(Oe)}registerOnChange(Oe){this._onChange=Oe}registerOnTouched(Oe){this._onTouched=Oe}setDisabledState(Oe){this.disabled=Oe,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Oe=this._selectionModel.selected.map(Ye=>Ye.viewValue);return this._isRtl()&&Oe.reverse(),Oe.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Oe){this.disabled||(this.panelOpen?this._handleOpenKeydown(Oe):this._handleClosedKeydown(Oe))}_handleClosedKeydown(Oe){const Ye=Oe.keyCode,vt=Ye===x.n6||Ye===x.i7||Ye===x.UQ||Ye===x.LE,It=Ye===x.Fm||Ye===x.t6,at=this._keyManager;if(!at.isTyping()&&It&&!(0,x.rp)(Oe)||(this.multiple||Oe.altKey)&&vt)Oe.preventDefault(),this.open();else if(!this.multiple){const ot=this.selected;at.onKeydown(Oe);const Nt=this.selected;Nt&&ot!==Nt&&this._liveAnnouncer.announce(Nt.viewValue,1e4)}}_handleOpenKeydown(Oe){const Ye=this._keyManager,vt=Oe.keyCode,It=vt===x.n6||vt===x.i7,at=Ye.isTyping();if(It&&Oe.altKey)Oe.preventDefault(),this.close();else if(at||vt!==x.Fm&&vt!==x.t6||!Ye.activeItem||(0,x.rp)(Oe))if(!at&&this._multiple&&vt===x.A&&Oe.ctrlKey){Oe.preventDefault();const ot=this.options.some(Nt=>!Nt.disabled&&!Nt.selected);this.options.forEach(Nt=>{Nt.disabled||(ot?Nt.select():Nt.deselect())})}else{const ot=Ye.activeItemIndex;Ye.onKeydown(Oe),this._multiple&&It&&Oe.shiftKey&&Ye.activeItem&&Ye.activeItemIndex!==ot&&Ye.activeItem._selectViaInteraction()}else Oe.preventDefault(),Ye.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,re.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Oe){if(this.options.forEach(Ye=>Ye.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Oe)Array.isArray(Oe),Oe.forEach(Ye=>this._selectOptionByValue(Ye)),this._sortValues();else{const Ye=this._selectOptionByValue(Oe);Ye?this._keyManager.updateActiveItem(Ye):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Oe){const Ye=this.options.find(vt=>{if(this._selectionModel.isSelected(vt))return!1;try{return null!=vt.value&&this._compareWith(vt.value,Oe)}catch{return!1}});return Ye&&this._selectionModel.select(Ye),Ye}_assignValue(Oe){return!!(Oe!==this._value||this._multiple&&Array.isArray(Oe))&&(this.options&&this._setSelectionByValue(Oe),this._value=Oe,!0)}_getOverlayWidth(Oe){return"auto"===this.panelWidth?(Oe instanceof d.$Q?Oe.elementRef:Oe||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const Oe of this.options)Oe._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new I.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Oe=(0,M.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ce.Q)(Oe)).subscribe(Ye=>{this._onSelect(Ye.source,Ye.isUserInput),Ye.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,M.h)(...this.options.map(Ye=>Ye._stateChanges)).pipe((0,ce.Q)(Oe)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Oe,Ye){const vt=this._selectionModel.isSelected(Oe);null!=Oe.value||this._multiple?(vt!==Oe.selected&&(Oe.selected?this._selectionModel.select(Oe):this._selectionModel.deselect(Oe)),Ye&&this._keyManager.setActiveItem(Oe),this.multiple&&(this._sortValues(),Ye&&this.focus())):(Oe.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Oe.value)),vt!==this._selectionModel.isSelected(Oe)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Oe=this.options.toArray();this._selectionModel.sort((Ye,vt)=>this.sortComparator?this.sortComparator(Ye,vt,Oe):Oe.indexOf(Ye)-Oe.indexOf(vt)),this.stateChanges.next()}}_propagateChanges(Oe){let Ye;Ye=this.multiple?this.selected.map(vt=>vt.value):this.selected?this.selected.value:Oe,this._value=Ye,this.valueChange.emit(Ye),this._onChange(Ye),this.selectionChange.emit(this._getChangeEvent(Ye)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Oe=-1;for(let Ye=0;Ye<this.options.length;Ye++)if(!this.options.get(Ye).disabled){Oe=Ye;break}this._keyManager.setActiveItem(Oe)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Oe){this._elementRef.nativeElement.focus(Oe)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Oe=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Oe?Oe+" ":"")+this.ariaLabelledby:Oe}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Oe=this._parentFormField?.getLabelId();let Ye=(Oe?Oe+" ":"")+this._valueId;return this.ariaLabelledby&&(Ye+=" "+this.ariaLabelledby),Ye}_panelDoneAnimating(Oe){this.openedChange.emit(Oe)}setDescribedByIds(Oe){Oe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Oe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)(w.rXU(S.Xj),w.rXU(w.gRc),w.rXU(w.SKi),w.rXU(D.es),w.rXU(w.aKT),w.rXU(E.dS,8),w.rXU($.cV,8),w.rXU($.j4,8),w.rXU(C.xb,8),w.rXU($.vO,10),w.kS0("tabindex"),w.rXU(ye),w.rXU(I.Ai),w.rXU(Be,8))};static#t=this.\u0275cmp=w.VBU({type:Ot,selectors:[["mat-select"]],contentQueries:function(Ye,vt,It){if(1&Ye&&(w.wni(It,Pt,5),w.wni(It,D.wT,5),w.wni(It,D.QC,5)),2&Ye){let at;w.mGM(at=w.lsd())&&(vt.customTrigger=at.first),w.mGM(at=w.lsd())&&(vt.options=at),w.mGM(at=w.lsd())&&(vt.optionGroups=at)}},viewQuery:function(Ye,vt){if(1&Ye&&(w.GBs(j,5),w.GBs(X,5),w.GBs(d.WB,5)),2&Ye){let It;w.mGM(It=w.lsd())&&(vt.trigger=It.first),w.mGM(It=w.lsd())&&(vt.panel=It.first),w.mGM(It=w.lsd())&&(vt._overlayDir=It.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ye,vt){1&Ye&&w.bIt("keydown",function(at){return vt._handleKeydown(at)})("focus",function(){return vt._onFocus()})("blur",function(){return vt._onBlur()}),2&Ye&&(w.BMQ("id",vt.id)("tabindex",vt.disabled?-1:vt.tabIndex)("aria-controls",vt.panelOpen?vt.id+"-panel":null)("aria-expanded",vt.panelOpen)("aria-label",vt.ariaLabel||null)("aria-required",vt.required.toString())("aria-disabled",vt.disabled.toString())("aria-invalid",vt.errorState)("aria-activedescendant",vt._getAriaActiveDescendant()),w.AVh("mat-mdc-select-disabled",vt.disabled)("mat-mdc-select-invalid",vt.errorState)("mat-mdc-select-required",vt.required)("mat-mdc-select-empty",vt.empty)("mat-mdc-select-multiple",vt.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",w.L39],disableRipple:[2,"disableRipple","disableRipple",w.L39],tabIndex:[2,"tabIndex","tabIndex",Oe=>null==Oe?0:(0,w.Udg)(Oe)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",w.L39],placeholder:"placeholder",required:[2,"required","required",w.L39],multiple:[2,"multiple","multiple",w.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",w.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",w.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[w.Jv_([{provide:C.qT,useExisting:Ot},{provide:D.is,useExisting:Ot}]),w.GFd,w.OA$,w.aNF],ngContentSelectors:W,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ye,vt){if(1&Ye){const It=w.RV6();w.NAR(se),w.j41(0,"div",2,0),w.bIt("click",function(){return w.eBV(It),w.Njj(vt.open())}),w.j41(3,"div",3),w.DNE(4,xe,2,1,"span",4)(5,Xe,3,1,"span",5),w.k0s(),w.j41(6,"div",6)(7,"div",7),w.qSk(),w.j41(8,"svg",8),w.nrm(9,"path",9),w.k0s()()()(),w.DNE(10,yt,3,9,"ng-template",10),w.bIt("backdropClick",function(){return w.eBV(It),w.Njj(vt.close())})("attach",function(){return w.eBV(It),w.Njj(vt._onAttached())})("detach",function(){return w.eBV(It),w.Njj(vt.close())})}if(2&Ye){const It=w.sdS(1);w.R7$(3),w.BMQ("id",vt._valueId),w.R7$(),w.vxM(vt.empty?4:5),w.R7$(6),w.Y8G("cdkConnectedOverlayPanelClass",vt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",vt._scrollStrategy)("cdkConnectedOverlayOrigin",vt._preferredOverlayOrigin||It)("cdkConnectedOverlayOpen",vt.panelOpen)("cdkConnectedOverlayPositions",vt._positions)("cdkConnectedOverlayWidth",vt._overlayWidth)}},dependencies:[d.$Q,d.WB,A.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Je.transformPanel]},changeDetection:0})}return Ot})(),Tt=(()=>{class Ot{static#e=this.\u0275fac=function(Ye){return new(Ye||Ot)};static#t=this.\u0275mod=w.$C({type:Ot});static#n=this.\u0275inj=w.G2t({providers:[Qe],imports:[A.MD,d.z_,D.Sy,D.yE,S.Gj,C.RG,D.Sy,D.yE]})}return Ot})()},8827:(hn,Re,_)=>{"use strict";_.d(Re,{mV:()=>U,sG:()=>R});var d=_(7404),A=_(4456),w=_(2102),D=_(5060);const C=["switch"],S=["*"];function I(F,J){1&F&&(d.j41(0,"div",10),d.qSk(),d.j41(1,"svg",12),d.nrm(2,"path",13),d.k0s(),d.j41(3,"svg",14),d.nrm(4,"path",15),d.k0s()())}const E=new d.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),y={provide:A.kq,useExisting:(0,d.Rfq)(()=>R),multi:!0};class x{constructor(J,ue){this.source=J,this.checked=ue}}let $=0,R=(()=>{class F{_createChangeEvent(ue){return new x(this,ue)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(ue){this._checked=ue,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ue,ce,re,be,j,X){this._elementRef=ue,this._focusMonitor=ce,this._changeDetectorRef=re,this.defaults=j,this._onChange=se=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new d.bkB,this.toggleChange=new d.bkB,this.tabIndex=parseInt(be)||0,this.color=j.color||"accent",this._noopAnimations="NoopAnimations"===X,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++$,this.hideIcon=j.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ue=>{"keyboard"===ue||"program"===ue?(this._focused=!0,this._changeDetectorRef.markForCheck()):ue||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(ue){ue.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(ue){this.checked=!!ue}registerOnChange(ue){this._onChange=ue}registerOnTouched(ue){this._onTouched=ue}validate(ue){return this.required&&!0!==ue.value?{required:!0}:null}registerOnValidatorChange(ue){this._validatorOnChange=ue}setDisabledState(ue){this.disabled=ue,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new x(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(ce){return new(ce||F)(d.rXU(d.aKT),d.rXU(w.FN),d.rXU(d.gRc),d.kS0("tabindex"),d.rXU(E),d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:F,selectors:[["mat-slide-toggle"]],viewQuery:function(ce,re){if(1&ce&&d.GBs(C,5),2&ce){let be;d.mGM(be=d.lsd())&&(re._switchElement=be.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(ce,re){2&ce&&(d.Mr5("id",re.id),d.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),d.HbH(re.color?"mat-"+re.color:""),d.AVh("mat-mdc-slide-toggle-focused",re._focused)("mat-mdc-slide-toggle-checked",re.checked)("_mat-animation-noopable",re._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",d.L39],color:"color",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",ue=>null==ue?0:(0,d.Udg)(ue)],checked:[2,"checked","checked",d.L39],hideIcon:[2,"hideIcon","hideIcon",d.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[d.Jv_([y,{provide:A.cz,useExisting:F,multi:!0}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:S,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(ce,re){if(1&ce){const be=d.RV6();d.NAR(),d.j41(0,"div",1)(1,"button",2,0),d.bIt("click",function(){return d.eBV(be),d.Njj(re._handleClick())}),d.nrm(3,"div",3),d.j41(4,"div",4)(5,"div",5)(6,"div",6),d.nrm(7,"div",7),d.k0s(),d.j41(8,"div",8),d.nrm(9,"div",9),d.k0s(),d.DNE(10,I,5,0,"div",10),d.k0s()()(),d.j41(11,"label",11),d.bIt("click",function(X){return d.eBV(be),d.Njj(X.stopPropagation())}),d.SdG(12),d.k0s()()}if(2&ce){const be=d.sdS(2);d.Y8G("labelPosition",re.labelPosition),d.R7$(),d.AVh("mdc-switch--selected",re.checked)("mdc-switch--unselected",!re.checked)("mdc-switch--checked",re.checked)("mdc-switch--disabled",re.disabled),d.Y8G("tabIndex",re.disabled?-1:re.tabIndex)("disabled",re.disabled),d.BMQ("id",re.buttonId)("name",re.name)("aria-label",re.ariaLabel)("aria-labelledby",re._getAriaLabelledBy())("aria-describedby",re.ariaDescribedby)("aria-required",re.required||null)("aria-checked",re.checked),d.R7$(8),d.Y8G("matRippleTrigger",be)("matRippleDisabled",re.disableRipple||re.disabled)("matRippleCentered",!0),d.R7$(),d.vxM(re.hideIcon?-1:10),d.R7$(),d.Y8G("for",re.buttonId),d.BMQ("id",re._labelId)}},dependencies:[D.r6,D.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return F})(),U=(()=>{class F{static#e=this.\u0275fac=function(ce){return new(ce||F)};static#t=this.\u0275mod=d.$C({type:F});static#n=this.\u0275inj=d.G2t({imports:[R,D.yE,D.yE]})}return F})()},4992:(hn,Re,_)=>{"use strict";_.d(Re,{Ez:()=>yt,IV:()=>X,OU:()=>Ae});var d=_(3680),A=_(7699),w=_(7404),D=_(5060),C=_(4456),S=_(3119);const I=["knob"],E=["valueIndicatorContainer"];function y(Je,je){if(1&Je&&(w.j41(0,"div",2,1)(2,"div",5)(3,"span",6),w.EFF(4),w.k0s()()()),2&Je){const K=w.XpG();w.R7$(4),w.JRh(K.valueIndicatorText)}}const x=["trackActive"],$=["*"];function R(Je,je){if(1&Je&&w.nrm(0,"div"),2&Je){const K=je.$implicit,oe=je.$index,ge=w.XpG(3);w.HbH(0===K?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),w.xc7("transform",ge._calcTickMarkTransform(oe))}}function O(Je,je){if(1&Je&&w.Z7z(0,R,1,4,"div",8,w.Vm6),2&Je){const K=w.XpG(2);w.Dyx(K._tickMarks)}}function M(Je,je){if(1&Je&&(w.j41(0,"div",6,1),w.DNE(2,O,2,0),w.k0s()),2&Je){const K=w.XpG();w.R7$(2),w.vxM(K._cachedWidth?2:-1)}}function L(Je,je){if(1&Je&&w.nrm(0,"mat-slider-visual-thumb",7),2&Je){const K=w.XpG();w.Y8G("discrete",K.discrete)("thumbPosition",1)("valueIndicatorText",K.startValueIndicatorText)}}var U=function(Je){return Je[Je.START=1]="START",Je[Je.END=2]="END",Je}(U||{}),F=function(Je){return Je[Je.ACTIVE=0]="ACTIVE",Je[Je.INACTIVE=1]="INACTIVE",Je}(F||{});const J=new w.nKC("_MatSlider"),ue=new w.nKC("_MatSliderThumb"),ce=new w.nKC("_MatSliderRangeThumb"),re=new w.nKC("_MatSliderVisualThumb");let j=(()=>{class Je{constructor(K,oe,ge,ye){this._cdr=K,this._ngZone=oe,this._slider=ye,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,w.WQX)(A.OD),this._onPointerMove=Ne=>{if(this._sliderInput._isFocused)return;const Be=this._hostElement.getBoundingClientRect(),Qe=this._slider._isCursorOnSliderThumb(Ne,Be);this._isHovered=Qe,Qe?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Ne=>{0===Ne.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=ge.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const K=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{K.addEventListener("pointermove",this._onPointerMove),K.addEventListener("pointerdown",this._onDragStart),K.addEventListener("pointerup",this._onDragEnd),K.addEventListener("pointerleave",this._onMouseLeave),K.addEventListener("focus",this._onFocus),K.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const K=this._sliderInputEl;K&&(K.removeEventListener("pointermove",this._onPointerMove),K.removeEventListener("pointerdown",this._onDragStart),K.removeEventListener("pointerup",this._onDragEnd),K.removeEventListener("pointerleave",this._onMouseLeave),K.removeEventListener("focus",this._onFocus),K.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(K){return K?.state===D.Ex.FADING_IN||K?.state===D.Ex.VISIBLE}_showRipple(K,oe){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===U.START?U.END:U.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||oe))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:K,centered:!0,persistent:!0})}_hideRipple(K){if(K?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const oe=this._getSibling();oe._isShowingAnyRipple()||(this._hideValueIndicator(),oe._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===U.START?U.END:U.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.gRc),w.rXU(w.SKi),w.rXU(w.aKT),w.rXU(J))};static#t=this.\u0275cmp=w.VBU({type:Je,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(oe,ge){if(1&oe&&(w.GBs(D.r6,5),w.GBs(I,5),w.GBs(E,5)),2&oe){let ye;w.mGM(ye=w.lsd())&&(ge._ripple=ye.first),w.mGM(ye=w.lsd())&&(ge._knob=ye.first),w.mGM(ye=w.lsd())&&(ge._valueIndicatorContainer=ye.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[w.Jv_([{provide:re,useExisting:Je}]),w.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(oe,ge){1&oe&&(w.DNE(0,y,5,1,"div",2),w.nrm(1,"div",3,0)(3,"div",4)),2&oe&&(w.vxM(ge.discrete?0:-1),w.R7$(3),w.Y8G("matRippleDisabled",!0))},dependencies:[D.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return Je})(),X=(()=>{class Je{get disabled(){return this._disabled}set disabled(K){this._disabled=K;const oe=this._getInput(U.END),ge=this._getInput(U.START);oe&&(oe.disabled=this._disabled),ge&&(ge.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(K){this._discrete=K,this._updateValueIndicatorUIs()}get min(){return this._min}set min(K){const oe=isNaN(K)?this._min:K;this._min!==oe&&this._updateMin(oe)}_updateMin(K){const oe=this._min;this._min=K,this._isRange?this._updateMinRange({old:oe,new:K}):this._updateMinNonRange(K),this._onMinMaxOrStepChange()}_updateMinRange(K){const oe=this._getInput(U.END),ge=this._getInput(U.START),ye=oe.value,Ne=ge.value;ge.min=K.new,oe.min=Math.max(K.new,ge.value),ge.max=Math.min(oe.max,oe.value),ge._updateWidthInactive(),oe._updateWidthInactive(),K.new<K.old?this._onTranslateXChangeBySideEffect(oe,ge):this._onTranslateXChangeBySideEffect(ge,oe),ye!==oe.value&&this._onValueChange(oe),Ne!==ge.value&&this._onValueChange(ge)}_updateMinNonRange(K){const oe=this._getInput(U.END);if(oe){const ge=oe.value;oe.min=K,oe._updateThumbUIByValue(),this._updateTrackUI(oe),ge!==oe.value&&this._onValueChange(oe)}}get max(){return this._max}set max(K){const oe=isNaN(K)?this._max:K;this._max!==oe&&this._updateMax(oe)}_updateMax(K){const oe=this._max;this._max=K,this._isRange?this._updateMaxRange({old:oe,new:K}):this._updateMaxNonRange(K),this._onMinMaxOrStepChange()}_updateMaxRange(K){const oe=this._getInput(U.END),ge=this._getInput(U.START),ye=oe.value,Ne=ge.value;oe.max=K.new,ge.max=Math.min(K.new,oe.value),oe.min=ge.value,oe._updateWidthInactive(),ge._updateWidthInactive(),K.new>K.old?this._onTranslateXChangeBySideEffect(ge,oe):this._onTranslateXChangeBySideEffect(oe,ge),ye!==oe.value&&this._onValueChange(oe),Ne!==ge.value&&this._onValueChange(ge)}_updateMaxNonRange(K){const oe=this._getInput(U.END);if(oe){const ge=oe.value;oe.max=K,oe._updateThumbUIByValue(),this._updateTrackUI(oe),ge!==oe.value&&this._onValueChange(oe)}}get step(){return this._step}set step(K){const oe=isNaN(K)?this._step:K;this._step!==oe&&this._updateStep(oe)}_updateStep(K){this._step=K,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const K=this._getInput(U.END),oe=this._getInput(U.START),ge=K.value,ye=oe.value,Ne=oe.value;K.min=this._min,oe.max=this._max,K.step=this._step,oe.step=this._step,this._platform.SAFARI&&(K.value=K.value,oe.value=oe.value),K.min=Math.max(this._min,oe.value),oe.max=Math.min(this._max,K.value),oe._updateWidthInactive(),K._updateWidthInactive(),K.value<Ne?this._onTranslateXChangeBySideEffect(oe,K):this._onTranslateXChangeBySideEffect(K,oe),ge!==K.value&&this._onValueChange(K),ye!==oe.value&&this._onValueChange(oe)}_updateStepNonRange(){const K=this._getInput(U.END);if(K){const oe=K.value;K.step=this._step,this._platform.SAFARI&&(K.value=K.value),K._updateThumbUIByValue(),oe!==K.value&&this._onValueChange(K)}}constructor(K,oe,ge,ye,Ne,Be){this._ngZone=K,this._cdr=oe,this._elementRef=ge,this._dir=ye,this._globalRippleOptions=Ne,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Qe=>`${Qe}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,w.WQX)(A.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===Be,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const K=this._getInput(U.END),oe=this._getInput(U.START);this._isRange=!!K&&!!oe,this._cdr.detectChanges();const ge=this._getThumb(U.END);this._rippleRadius=ge._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(K,oe):this._initUINonRange(K),this._updateTrackUI(K),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(K){K.initProps(),K.initUI(),this._updateValueIndicatorUI(K),this._hasViewInitialized=!0,K._updateThumbUIByValue()}_initUIRange(K,oe){K.initProps(),K.initUI(),oe.initProps(),oe.initUI(),K._updateMinMax(),oe._updateMinMax(),K._updateStaticStyles(),oe._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,K._updateThumbUIByValue(),oe._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const K=this._getInput(U.END),oe=this._getInput(U.START);K._setIsLeftThumb(),oe._setIsLeftThumb(),K.translateX=K._calcTranslateXByValue(),oe.translateX=oe._calcTranslateXByValue(),K._updateStaticStyles(),oe._updateStaticStyles(),K._updateWidthInactive(),oe._updateWidthInactive(),K._updateThumbUIByValue(),oe._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(U.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(U.START)._isActive||this._getThumb(U.END)._isActive}_getValue(K=U.END){const oe=this._getInput(K);return oe?oe.value:this.min}_skipUpdate(){return!(!this._getInput(U.START)?._skipUIUpdate&&!this._getInput(U.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(K){const oe=this._trackActive.nativeElement.style;oe.left=K.left,oe.right=K.right,oe.transformOrigin=K.transformOrigin,oe.transform=K.transform}_calcTickMarkTransform(K){return`translateX(${K*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(K){this._hasViewInitialized&&(this._updateThumbUI(K),this._updateTrackUI(K),this._updateOverlappingThumbUI(K))}_onTranslateXChangeBySideEffect(K,oe){this._hasViewInitialized&&(K._updateThumbUIByValue(),oe._updateThumbUIByValue())}_onValueChange(K){this._hasViewInitialized&&(this._updateValueIndicatorUI(K),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const K=this._getInput(U.END),oe=this._getInput(U.START);K._updateThumbUIByValue(),oe._updateThumbUIByValue(),K._updateStaticStyles(),oe._updateStaticStyles(),K._updateMinMax(),oe._updateMinMax(),K._updateWidthInactive(),oe._updateWidthInactive()}else{const K=this._getInput(U.END);K&&K._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const K=this._getInput(U.START),oe=this._getInput(U.END);return!(!K||!oe)&&oe.translateX-K.translateX<20}_updateOverlappingThumbClassNames(K){const oe=K.getSibling(),ge=this._getThumb(K.thumbPosition);this._getThumb(oe.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),ge._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(K){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(K))}_updateThumbUI(K){this._skipUpdate()||(this._getThumb(K.thumbPosition===U.END?U.END:U.START)._hostElement.style.transform=`translateX(${K.translateX}px)`)}_updateValueIndicatorUI(K){if(this._skipUpdate())return;const oe=this.displayWith(K.value);if(this._hasViewInitialized?K._valuetext.set(oe):K._hostElement.setAttribute("aria-valuetext",oe),this.discrete){K.thumbPosition===U.START?this.startValueIndicatorText=oe:this.endValueIndicatorText=oe;const ge=this._getThumb(K.thumbPosition);oe.length<3?ge._hostElement.classList.add("mdc-slider__thumb--short-value"):ge._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const K=this._getInput(U.END),oe=this._getInput(U.START);K&&this._updateValueIndicatorUI(K),oe&&this._updateValueIndicatorUI(oe)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const K=this._step&&this._step>0?this._step:1,ge=(Math.floor(this.max/K)*K-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*ge-6}_updateTrackUI(K){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(K):this._updateTrackUINonRange(K))}_updateTrackUIRange(K){const oe=K.getSibling();if(!oe||!this._cachedWidth)return;const ge=Math.abs(oe.translateX-K.translateX)/this._cachedWidth;this._setTrackActiveStyles(K._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-oe.translateX+"px",transformOrigin:"right",transform:`scaleX(${ge})`}:{left:`${oe.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${ge})`})}_updateTrackUINonRange(K){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-K.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${K.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const K=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(K):this._updateTickMarkUINonRange(K),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(K){const oe=this._getValue();let ge=Math.max(Math.round((oe-this.min)/K),0),ye=Math.max(Math.round((this.max-oe)/K),0);this._isRtl?ge++:ye++,this._tickMarks=Array(ge).fill(F.ACTIVE).concat(Array(ye).fill(F.INACTIVE))}_updateTickMarkUIRange(K){const oe=this._getValue(),ge=this._getValue(U.START),ye=Math.max(Math.round((ge-this.min)/K),0),Ne=Math.max(Math.round((oe-ge)/K)+1,0),Be=Math.max(Math.round((this.max-oe)/K),0);this._tickMarks=Array(ye).fill(F.INACTIVE).concat(Array(Ne).fill(F.ACTIVE),Array(Be).fill(F.INACTIVE))}_getInput(K){return K===U.END&&this._input?this._input:this._inputs?.length?K===U.START?this._inputs.first:this._inputs.last:void 0}_getThumb(K){return K===U.END?this._thumbs?.last:this._thumbs?.first}_setTransition(K){this._hasAnimation=!this._platform.IOS&&K&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(K,oe){const ge=oe.width/2,Qe=K.clientY-(oe.y+ge);return Math.pow(K.clientX-(oe.x+ge),2)+Math.pow(Qe,2)<Math.pow(ge,2)}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.SKi),w.rXU(w.gRc),w.rXU(w.aKT),w.rXU(d.dS,8),w.rXU(D.$E,8),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:Je,selectors:[["mat-slider"]],contentQueries:function(oe,ge,ye){if(1&oe&&(w.wni(ye,ue,5),w.wni(ye,ce,4)),2&oe){let Ne;w.mGM(Ne=w.lsd())&&(ge._input=Ne.first),w.mGM(Ne=w.lsd())&&(ge._inputs=Ne)}},viewQuery:function(oe,ge){if(1&oe&&(w.GBs(x,5),w.GBs(re,5)),2&oe){let ye;w.mGM(ye=w.lsd())&&(ge._trackActive=ye.first),w.mGM(ye=w.lsd())&&(ge._thumbs=ye)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(oe,ge){2&oe&&(w.HbH("mat-"+(ge.color||"primary")),w.AVh("mdc-slider--range",ge._isRange)("mdc-slider--disabled",ge.disabled)("mdc-slider--discrete",ge.discrete)("mdc-slider--tick-marks",ge.showTickMarks)("_mat-animation-noopable",ge._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",w.L39],discrete:[2,"discrete","discrete",w.L39],showTickMarks:[2,"showTickMarks","showTickMarks",w.L39],min:[2,"min","min",w.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",w.L39],max:[2,"max","max",w.Udg],step:[2,"step","step",w.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[w.Jv_([{provide:J,useExisting:Je}]),w.GFd,w.aNF],ngContentSelectors:$,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(oe,ge){1&oe&&(w.NAR(),w.SdG(0),w.j41(1,"div",2),w.nrm(2,"div",3),w.j41(3,"div",4),w.nrm(4,"div",5,0),w.k0s(),w.DNE(6,M,3,1,"div",6),w.k0s(),w.DNE(7,L,1,3,"mat-slider-visual-thumb",7),w.nrm(8,"mat-slider-visual-thumb",7)),2&oe&&(w.R7$(6),w.vxM(ge.showTickMarks?6:-1),w.R7$(),w.vxM(ge._isRange?7:-1),w.R7$(),w.Y8G("discrete",ge.discrete)("thumbPosition",2)("valueIndicatorText",ge.endValueIndicatorText))},dependencies:[j],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape);height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color);border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color);height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape)}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color);color:var(--mdc-slider-label-label-text-color);width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color)}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font);font-size:var(--mdc-slider-label-label-text-size);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height);letter-spacing:var(--mdc-slider-label-label-text-tracking)}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation);background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color);border-radius:var(--mdc-slider-handle-shape)}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color)}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color)}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color)}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Je})();const xe={provide:C.kq,useExisting:(0,w.Rfq)(()=>Ae),multi:!0};let Ae=(()=>{class Je{get value(){return(0,w.Udg)(this._hostElement.value,0)}set value(K){const oe=(K=isNaN(K)?0:K)+"";this._hasSetInitialValue?this._isActive||this._setValue(oe):this._initialValue=oe}_setValue(K){this._hostElement.value=K,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(K){this._translateX=K}get min(){return(0,w.Udg)(this._hostElement.min,0)}set min(K){this._hostElement.min=K+"",this._cdr.detectChanges()}get max(){return(0,w.Udg)(this._hostElement.max,0)}set max(K){this._hostElement.max=K+"",this._cdr.detectChanges()}get step(){return(0,w.Udg)(this._hostElement.step,0)}set step(K){this._hostElement.step=K+"",this._cdr.detectChanges()}get disabled(){return(0,w.L39)(this._hostElement.disabled)}set disabled(K){this._hostElement.disabled=K,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(K){this._isFocused=K}constructor(K,oe,ge,ye){this._ngZone=K,this._elementRef=oe,this._cdr=ge,this._slider=ye,this.valueChange=new w.bkB,this.dragStart=new w.bkB,this.dragEnd=new w.bkB,this.thumbPosition=U.END,this._valuetext=(0,w.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new S.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,w.WQX)(A.OD),this._hostElement=oe.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(K){if(!this.disabled&&0===K.button){if(this._platform.IOS){const oe=this._slider._isCursorOnSliderThumb(K,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=oe,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(K,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(K),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(K){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(K)},0)}_fixValue(K){const oe=K.clientX-this._slider._cachedLeft,ge=this._slider._cachedWidth,ye=0===this._slider.step?1:this._slider.step,Ne=Math.floor((this._slider.max-this._slider.min)/ye),Pt=Math.round((this._slider._isRtl?1-oe/ge:oe/ge)*Ne)/Ne*(this._slider.max-this._slider.min)+this._slider.min,Ce=Math.round(Pt/ye)*ye;if(Ce===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(K,{withAnimation:this._slider._hasAnimation}));this.value=Ce,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(K,{withAnimation:this._slider._hasAnimation})}_onPointerMove(K){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(K)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(K){const oe=this._tickMarkOffset;return Math.max(Math.min(K,this._slider._cachedWidth-this._tickMarkOffset),oe)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(K){return K.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(K){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(K)}_updateThumbUIByPointerEvent(K,oe){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(K)),this._updateThumbUI(oe)}_updateThumbUI(K){this._slider._setTransition(!!K?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(K){(this._isControlInitialized||null!==K)&&(this.value=K)}registerOnChange(K){this._onChangeFn=K,this._isControlInitialized=!0}registerOnTouched(K){this._onTouchedFn=K}setDisabledState(K){this.disabled=K}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(oe){return new(oe||Je)(w.rXU(w.SKi),w.rXU(w.aKT),w.rXU(w.gRc),w.rXU(J))};static#t=this.\u0275dir=w.FsC({type:Je,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(oe,ge){1&oe&&w.bIt("change",function(){return ge._onChange()})("input",function(){return ge._onInput()})("blur",function(){return ge._onBlur()})("focus",function(){return ge._onFocus()}),2&oe&&w.BMQ("aria-valuetext",ge._valuetext())},inputs:{value:[2,"value","value",w.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[w.Jv_([xe,{provide:ue,useExisting:Je}]),w.GFd]})}return Je})(),yt=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275mod=w.$C({type:Je});static#n=this.\u0275inj=w.G2t({imports:[D.yE,D.pZ]})}return Je})()},3347:(hn,Re,_)=>{"use strict";_.d(Re,{UG:()=>Ae,_T:()=>yt});var d=_(7404),A=_(4175),w=_(3119),D=_(316),C=_(7172),S=_(9168),I=_(7699),E=_(2102),y=_(7912),x=_(1570),$=_(7464),R=_(5060);function O(Je,je){if(1&Je){const K=d.RV6();d.j41(0,"div",1)(1,"button",2),d.bIt("click",function(){d.eBV(K);const ge=d.XpG();return d.Njj(ge.action())}),d.EFF(2),d.k0s()()}if(2&Je){const K=d.XpG();d.R7$(2),d.SpI(" ",K.data.action," ")}}const M=["label"];function L(Je,je){}const U=Math.pow(2,31)-1;class F{constructor(je,K){this._overlayRef=K,this._afterDismissed=new w.B7,this._afterOpened=new w.B7,this._onAction=new w.B7,this._dismissedByAction=!1,this.containerInstance=je,je._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(je){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(je,U))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const J=new d.nKC("MatSnackBarData");class ue{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ce=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return Je})(),re=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return Je})(),be=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275dir=d.FsC({type:Je,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return Je})(),j=(()=>{class Je{constructor(K,oe){this.snackBarRef=K,this.data=oe}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.rXU(F),d.rXU(J))};static#t=this.\u0275cmp=d.VBU({type:Je,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[d.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(oe,ge){1&oe&&(d.j41(0,"div",0),d.EFF(1),d.k0s(),d.DNE(2,O,3,1,"div",1)),2&oe&&(d.R7$(),d.SpI(" ",ge.data.message,"\n"),d.R7$(),d.vxM(ge.hasAction?2:-1))},dependencies:[A.$z,ce,re,be],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return Je})();const X={snackBarState:(0,C.hZ)("state",[(0,C.wk)("void, hidden",(0,C.iF)({transform:"scale(0.8)",opacity:0})),(0,C.wk)("visible",(0,C.iF)({transform:"scale(1)",opacity:1})),(0,C.kY)("* => visible",(0,C.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,C.kY)("* => void, * => hidden",(0,C.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,C.iF)({opacity:0})))])};let se=0,W=(()=>{class Je extends S.lb{constructor(K,oe,ge,ye,Ne){super(),this._ngZone=K,this._elementRef=oe,this._changeDetectorRef=ge,this._platform=ye,this.snackBarConfig=Ne,this._document=(0,d.WQX)(D.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new w.B7,this._onExit=new w.B7,this._onEnter=new w.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+se++,this.attachDomPortal=Be=>{this._assertNotAttached();const Qe=this._portalOutlet.attachDomPortal(Be);return this._afterPortalAttached(),Qe},this._live="assertive"!==Ne.politeness||Ne.announcementMessage?"off"===Ne.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(K){this._assertNotAttached();const oe=this._portalOutlet.attachComponentPortal(K);return this._afterPortalAttached(),oe}attachTemplatePortal(K){this._assertNotAttached();const oe=this._portalOutlet.attachTemplatePortal(K);return this._afterPortalAttached(),oe}onAnimationEnd(K){const{fromState:oe,toState:ge}=K;if(("void"===ge&&"void"!==oe||"hidden"===ge)&&this._completeExit(),"visible"===ge){const ye=this._onEnter;this._ngZone.run(()=>{ye.next(),ye.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const K=this._elementRef.nativeElement,oe=this.snackBarConfig.panelClass;oe&&(Array.isArray(oe)?oe.forEach(Ne=>K.classList.add(Ne)):K.classList.add(oe)),this._exposeToModals();const ge=this._label.nativeElement,ye="mdc-snackbar__label";ge.classList.toggle(ye,!ge.querySelector(`.${ye}`))}_exposeToModals(){const K=this._liveElementId,oe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ge=0;ge<oe.length;ge++){const ye=oe[ge],Ne=ye.getAttribute("aria-owns");this._trackedModals.add(ye),Ne?-1===Ne.indexOf(K)&&ye.setAttribute("aria-owns",Ne+" "+K):ye.setAttribute("aria-owns",K)}}_clearFromModals(){this._trackedModals.forEach(K=>{const oe=K.getAttribute("aria-owns");if(oe){const ge=oe.replace(this._liveElementId,"").trim();ge.length>0?K.setAttribute("aria-owns",ge):K.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const K=this._elementRef.nativeElement.querySelector("[aria-hidden]"),oe=this._elementRef.nativeElement.querySelector("[aria-live]");if(K&&oe){let ge=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&K.contains(document.activeElement)&&(ge=document.activeElement),K.removeAttribute("aria-hidden"),oe.appendChild(K),ge?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(I.OD),d.rXU(ue))};static#t=this.\u0275cmp=d.VBU({type:Je,selectors:[["mat-snack-bar-container"]],viewQuery:function(oe,ge){if(1&oe&&(d.GBs(S.I3,7),d.GBs(M,7)),2&oe){let ye;d.mGM(ye=d.lsd())&&(ge._portalOutlet=ye.first),d.mGM(ye=d.lsd())&&(ge._label=ye.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(oe,ge){1&oe&&d.Kam("@state.done",function(Ne){return ge.onAnimationEnd(Ne)}),2&oe&&d.zvX("@state",ge._animationState)},standalone:!0,features:[d.Vt3,d.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(oe,ge){1&oe&&(d.j41(0,"div",1)(1,"div",2,0)(3,"div",3),d.DNE(4,L,0,0,"ng-template",4),d.k0s(),d.nrm(5,"div"),d.k0s()()),2&oe&&(d.R7$(5),d.BMQ("aria-live",ge._live)("role",ge._role)("id",ge._liveElementId))},dependencies:[S.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[X.snackBarState]}})}return Je})();const q=new d.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function xe(){return new ue}});let Ae=(()=>{class Je{get _openedSnackBarRef(){const K=this._parentSnackBar;return K?K._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(K){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=K:this._snackBarRefAtThisLevel=K}constructor(K,oe,ge,ye,Ne,Be){this._overlay=K,this._live=oe,this._injector=ge,this._breakpointObserver=ye,this._parentSnackBar=Ne,this._defaultConfig=Be,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=j,this.snackBarContainerComponent=W,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(K,oe){return this._attach(K,oe)}openFromTemplate(K,oe){return this._attach(K,oe)}open(K,oe="",ge){const ye={...this._defaultConfig,...ge};return ye.data={message:K,action:oe},ye.announcementMessage===K&&(ye.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ye)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(K,oe){const ye=d.zZn.create({parent:oe&&oe.viewContainerRef&&oe.viewContainerRef.injector||this._injector,providers:[{provide:ue,useValue:oe}]}),Ne=new S.A8(this.snackBarContainerComponent,oe.viewContainerRef,ye),Be=K.attach(Ne);return Be.instance.snackBarConfig=oe,Be.instance}_attach(K,oe){const ge={...new ue,...this._defaultConfig,...oe},ye=this._createOverlay(ge),Ne=this._attachSnackBarContainer(ye,ge),Be=new F(Ne,ye);if(K instanceof d.C4Q){const Qe=new S.VA(K,null,{$implicit:ge.data,snackBarRef:Be});Be.instance=Ne.attachTemplatePortal(Qe)}else{const Qe=this._createInjector(ge,Be),Pt=new S.A8(K,void 0,Qe),Ce=Ne.attachComponentPortal(Pt);Be.instance=Ce.instance}return this._breakpointObserver.observe(y.Rp.HandsetPortrait).pipe((0,$.Q)(ye.detachments())).subscribe(Qe=>{ye.overlayElement.classList.toggle(this.handsetCssClass,Qe.matches)}),ge.announcementMessage&&Ne._onAnnounce.subscribe(()=>{this._live.announce(ge.announcementMessage,ge.politeness)}),this._animateSnackBar(Be,ge),this._openedSnackBarRef=Be,this._openedSnackBarRef}_animateSnackBar(K,oe){K.afterDismissed().subscribe(()=>{this._openedSnackBarRef==K&&(this._openedSnackBarRef=null),oe.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{K.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):K.containerInstance.enter(),oe.duration&&oe.duration>0&&K.afterOpened().subscribe(()=>K._dismissAfter(oe.duration))}_createOverlay(K){const oe=new x.rR;oe.direction=K.direction;let ge=this._overlay.position().global();const ye="rtl"===K.direction,Ne="left"===K.horizontalPosition||"start"===K.horizontalPosition&&!ye||"end"===K.horizontalPosition&&ye,Be=!Ne&&"center"!==K.horizontalPosition;return Ne?ge.left("0"):Be?ge.right("0"):ge.centerHorizontally(),"top"===K.verticalPosition?ge.top("0"):ge.bottom("0"),oe.positionStrategy=ge,this._overlay.create(oe)}_createInjector(K,oe){return d.zZn.create({parent:K&&K.viewContainerRef&&K.viewContainerRef.injector||this._injector,providers:[{provide:F,useValue:oe},{provide:J,useValue:K.data}]})}static#e=this.\u0275fac=function(oe){return new(oe||Je)(d.KVO(x.hJ),d.KVO(E.Ai),d.KVO(d.zZn),d.KVO(y.QP),d.KVO(Je,12),d.KVO(q))};static#t=this.\u0275prov=d.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})}return Je})(),yt=(()=>{class Je{static#e=this.\u0275fac=function(oe){return new(oe||Je)};static#t=this.\u0275mod=d.$C({type:Je});static#n=this.\u0275inj=d.G2t({providers:[Ae],imports:[x.z_,S.jc,A.Hl,R.yE,j,R.yE]})}return Je})()},2047:(hn,Re,_)=>{"use strict";_.d(Re,{B4:()=>F,NQ:()=>se,aE:()=>X});var d=_(7404),A=_(2102),w=_(4879),D=_(7675),C=_(3119),S=_(7405),I=_(7172),E=_(5060);const y=["mat-sort-header",""],x=["*"];function $(W,xe){if(1&W){const q=d.RV6();d.j41(0,"div",2),d.bIt("@arrowPosition.start",function(){d.eBV(q);const Xe=d.XpG();return d.Njj(Xe._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){d.eBV(q);const Xe=d.XpG();return d.Njj(Xe._disableViewStateAnimation=!1)}),d.nrm(1,"div",3),d.j41(2,"div",4),d.nrm(3,"div",5)(4,"div",6)(5,"div",7),d.k0s()()}if(2&W){const q=d.XpG();d.Y8G("@arrowOpacity",q._getArrowViewState())("@arrowPosition",q._getArrowViewState())("@allowChildren",q._getArrowDirectionState()),d.R7$(2),d.Y8G("@indicator",q._getArrowDirectionState()),d.R7$(),d.Y8G("@leftPointer",q._getArrowDirectionState()),d.R7$(),d.Y8G("@rightPointer",q._getArrowDirectionState())}}const U=new d.nKC("MAT_SORT_DEFAULT_OPTIONS");let F=(()=>{class W{get direction(){return this._direction}set direction(q){this._direction=q}constructor(q){this._defaultOptions=q,this._initializedStream=new D.m(1),this.sortables=new Map,this._stateChanges=new C.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new d.bkB,this.initialized=this._initializedStream}register(q){this.sortables.set(q.id,q)}deregister(q){this.sortables.delete(q.id)}sort(q){this.active!=q.id?(this.active=q.id,this.direction=q.start?q.start:this.start):this.direction=this.getNextSortDirection(q),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(q){if(!q)return"";let Xe=function J(W,xe){let q=["asc","desc"];return"desc"==W&&q.reverse(),xe||q.push(""),q}(q.start||this.start,q?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),yt=Xe.indexOf(this.direction)+1;return yt>=Xe.length&&(yt=0),Xe[yt]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(Ae){return new(Ae||W)(d.rXU(U,8))};static#t=this.\u0275dir=d.FsC({type:W,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",d.L39],disabled:[2,"matSortDisabled","disabled",d.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[d.GFd,d.OA$]})}return W})();const ue=E.ed.ENTERING+" "+E.r5.STANDARD_CURVE,ce={indicator:(0,I.hZ)("indicator",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"translateY(0px)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"translateY(10px)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),leftPointer:(0,I.hZ)("leftPointer",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"rotate(-45deg)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"rotate(45deg)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),rightPointer:(0,I.hZ)("rightPointer",[(0,I.wk)("active-asc, asc",(0,I.iF)({transform:"rotate(45deg)"})),(0,I.wk)("active-desc, desc",(0,I.iF)({transform:"rotate(-45deg)"})),(0,I.kY)("active-asc <=> active-desc",(0,I.i0)(ue))]),arrowOpacity:(0,I.hZ)("arrowOpacity",[(0,I.wk)("desc-to-active, asc-to-active, active",(0,I.iF)({opacity:1})),(0,I.wk)("desc-to-hint, asc-to-hint, hint",(0,I.iF)({opacity:.54})),(0,I.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,I.iF)({opacity:0})),(0,I.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,I.i0)("0ms")),(0,I.kY)("* <=> *",(0,I.i0)(ue))]),arrowPosition:(0,I.hZ)("arrowPosition",[(0,I.kY)("* => desc-to-hint, * => desc-to-active",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(-25%)"}),(0,I.iF)({transform:"translateY(0)"})]))),(0,I.kY)("* => hint-to-desc, * => active-to-desc",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(0)"}),(0,I.iF)({transform:"translateY(25%)"})]))),(0,I.kY)("* => asc-to-hint, * => asc-to-active",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(25%)"}),(0,I.iF)({transform:"translateY(0)"})]))),(0,I.kY)("* => hint-to-asc, * => active-to-asc",(0,I.i0)(ue,(0,I.i7)([(0,I.iF)({transform:"translateY(0)"}),(0,I.iF)({transform:"translateY(-25%)"})]))),(0,I.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,I.iF)({transform:"translateY(0)"})),(0,I.wk)("hint-to-desc, active-to-desc, desc",(0,I.iF)({transform:"translateY(-25%)"})),(0,I.wk)("hint-to-asc, active-to-asc, asc",(0,I.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,I.hZ)("allowChildren",[(0,I.kY)("* <=> *",[(0,I.P)("@*",(0,I.MA)(),{optional:!0})])])};let re=(()=>{class W{constructor(){this.changes=new C.B7}static#e=this.\u0275fac=function(Ae){return new(Ae||W)};static#t=this.\u0275prov=d.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})();const j={provide:re,deps:[[new d.Xx1,new d.kdw,re]],useFactory:function be(W){return W||new re}};let X=(()=>{class W{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(q){this._updateSortActionDescription(q)}constructor(q,Ae,Xe,yt,Je,je,K,oe){this._intl=q,this._changeDetectorRef=Ae,this._sort=Xe,this._columnDef=yt,this._focusMonitor=Je,this._elementRef=je,this._ariaDescriber=K,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",oe?.arrowPosition&&(this.arrowPosition=oe?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(q=>{const Ae=!!q;Ae!==this._showIndicatorHint&&(this._setIndicatorHintVisible(Ae),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(q){this._isDisabled()&&q||(this._showIndicatorHint=q,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(q){this._viewState=q||{},this._disableViewStateAnimation&&(this._viewState={toState:q.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(q){!this._isDisabled()&&(q.keyCode===w.t6||q.keyCode===w.Fm)&&(q.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const q=this._viewState.fromState;return(q?`${q}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(q){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,q)),this._sortActionDescription=q}_handleStateChanges(){this._rerenderSubscription=(0,S.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Ae){return new(Ae||W)(d.rXU(re),d.rXU(d.gRc),d.rXU(F,8),d.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),d.rXU(A.FN),d.rXU(d.aKT),d.rXU(A.vr,8),d.rXU(U,8))};static#t=this.\u0275cmp=d.VBU({type:W,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(Ae,Xe){1&Ae&&d.bIt("click",function(){return Xe._handleClick()})("keydown",function(Je){return Xe._handleKeydown(Je)})("mouseenter",function(){return Xe._setIndicatorHintVisible(!0)})("mouseleave",function(){return Xe._setIndicatorHintVisible(!1)}),2&Ae&&(d.BMQ("aria-sort",Xe._getAriaSortAttribute()),d.AVh("mat-sort-header-disabled",Xe._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",d.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",d.L39]},exportAs:["matSortHeader"],standalone:!0,features:[d.GFd,d.aNF],attrs:y,ngContentSelectors:x,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(Ae,Xe){1&Ae&&(d.NAR(),d.j41(0,"div",0)(1,"div",1),d.SdG(2),d.k0s(),d.DNE(3,$,6,6,"div",2),d.k0s()),2&Ae&&(d.AVh("mat-sort-header-sorted",Xe._isSorted())("mat-sort-header-position-before","before"===Xe.arrowPosition),d.BMQ("tabindex",Xe._isDisabled()?null:0)("role",Xe._isDisabled()?null:"button"),d.R7$(3),d.vxM(Xe._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ce.indicator,ce.leftPointer,ce.rightPointer,ce.arrowOpacity,ce.arrowPosition,ce.allowChildren]},changeDetection:0})}return W})(),se=(()=>{class W{static#e=this.\u0275fac=function(Ae){return new(Ae||W)};static#t=this.\u0275mod=d.$C({type:W});static#n=this.\u0275inj=d.G2t({providers:[j],imports:[E.yE]})}return W})()},7697:(hn,Re,_)=>{"use strict";_.d(Re,{I6:()=>Be}),_(7404),_(198);var w=_(7989),D=_(521),C=_(3119),S=_(7405),I=_(1536),E=_(2175),y=_(2814),x=_(5443);class Be extends w.qS{get data(){return this._data.value}set data(Pt){Pt=Array.isArray(Pt)?Pt:[],this._data.next(Pt),this._renderChangesSubscription||this._filterData(Pt)}get filter(){return this._filter.value}set filter(Pt){this._filter.next(Pt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Pt){this._sort=Pt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Pt){this._paginator=Pt,this._updateChangeSubscription()}constructor(Pt=[]){super(),this._renderData=new D.t([]),this._filter=new D.t(""),this._internalPageChanges=new C.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ce,Qt)=>{const Vt=Ce[Qt];if((0,y.o1)(Vt)){const Tt=Number(Vt);return Tt<9007199254740991?Tt:Vt}return Vt},this.sortData=(Ce,Qt)=>{const Vt=Qt.active,Tt=Qt.direction;return Vt&&""!=Tt?Ce.sort((Ot,ft)=>{let Oe=this.sortingDataAccessor(Ot,Vt),Ye=this.sortingDataAccessor(ft,Vt);const vt=typeof Oe,It=typeof Ye;vt!==It&&("number"===vt&&(Oe+=""),"number"===It&&(Ye+=""));let at=0;return null!=Oe&&null!=Ye?Oe>Ye?at=1:Oe<Ye&&(at=-1):null!=Oe?at=1:null!=Ye&&(at=-1),at*("asc"==Tt?1:-1)}):Ce},this.filterPredicate=(Ce,Qt)=>{const Vt=Object.keys(Ce).reduce((Ot,ft)=>Ot+Ce[ft]+"\u25ec","").toLowerCase(),Tt=Qt.trim().toLowerCase();return-1!=Vt.indexOf(Tt)},this._data=new D.t(Pt),this._updateChangeSubscription()}_updateChangeSubscription(){const Pt=this._sort?(0,S.h)(this._sort.sortChange,this._sort.initialized):(0,I.of)(null),Ce=this._paginator?(0,S.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,I.of)(null),Vt=(0,E.zV)([this._data,this._filter]).pipe((0,x.T)(([ft])=>this._filterData(ft))),Tt=(0,E.zV)([Vt,Pt]).pipe((0,x.T)(([ft])=>this._orderData(ft))),Ot=(0,E.zV)([Tt,Ce]).pipe((0,x.T)(([ft])=>this._pageData(ft)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Ot.subscribe(ft=>this._renderData.next(ft))}_filterData(Pt){return this.filteredData=null==this.filter||""===this.filter?Pt:Pt.filter(Ce=>this.filterPredicate(Ce,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Pt){return this.sort?this.sortData(Pt.slice(),this.sort):Pt}_pageData(Pt){if(!this.paginator)return Pt;const Ce=this.paginator.pageIndex*this.paginator.pageSize;return Pt.slice(Ce,Ce+this.paginator.pageSize)}_updatePaginator(Pt){Promise.resolve().then(()=>{const Ce=this.paginator;if(Ce&&(Ce.length=Pt,Ce.pageIndex>0)){const Qt=Math.ceil(Ce.length/Ce.pageSize)-1||0,Vt=Math.min(Ce.pageIndex,Qt);Vt!==Ce.pageIndex&&(Ce.pageIndex=Vt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},640:(hn,Re,_)=>{"use strict";_.d(Re,{oV:()=>Xe,uc:()=>je});var d=_(7464),A=_(2814),w=_(4879),D=_(7404),C=_(316),S=_(7699),I=_(2102),E=_(3680),y=_(1570),x=_(4053),$=_(9168),R=_(3119),M=(_(7172),_(5060));const L=["tooltip"],J=new D.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const K=(0,D.WQX)(y.hJ);return()=>K.scrollStrategies.reposition({scrollThrottle:20})}}),ce={provide:J,deps:[y.hJ],useFactory:function ue(K){return()=>K.scrollStrategies.reposition({scrollThrottle:20})}},be=new D.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function re(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),X="tooltip-panel",se=(0,S.BQ)({passive:!0});let Xe=(()=>{class K{get position(){return this._position}set position(ge){ge!==this._position&&(this._position=ge,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(ge){this._positionAtOrigin=(0,A.he)(ge),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,A.he)(ge),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ge){this._showDelay=(0,A.OE)(ge)}get hideDelay(){return this._hideDelay}set hideDelay(ge){this._hideDelay=(0,A.OE)(ge),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ge){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ge?String(ge).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ge){this._tooltipClass=ge,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(ge,ye,Ne,Be,Qe,Pt,Ce,Qt,Vt,Tt,Ot,ft){this._overlay=ge,this._elementRef=ye,this._scrollDispatcher=Ne,this._viewContainerRef=Be,this._ngZone=Qe,this._platform=Pt,this._ariaDescriber=Ce,this._focusMonitor=Qt,this._dir=Tt,this._defaultOptions=Ot,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=yt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new R.B7,this._injector=(0,D.WQX)(D.zZn),this._scrollStrategy=Vt,this._document=ft,Ot&&(this._showDelay=Ot.showDelay,this._hideDelay=Ot.hideDelay,Ot.position&&(this.position=Ot.position),Ot.positionAtOrigin&&(this.positionAtOrigin=Ot.positionAtOrigin),Ot.touchGestures&&(this.touchGestures=Ot.touchGestures)),Tt.change.pipe((0,d.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,d.Q)(this._destroyed)).subscribe(ge=>{ge?"keyboard"===ge&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ge=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ye,Ne])=>{ge.removeEventListener(ye,Ne,se)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ge,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ge)}show(ge=this.showDelay,ye){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Ne=this._createOverlay(ye);this._detach(),this._portal=this._portal||new $.A8(this._tooltipComponent,this._viewContainerRef);const Be=this._tooltipInstance=Ne.attach(this._portal).instance;Be._triggerElement=this._elementRef.nativeElement,Be._mouseLeaveHideDelay=this._hideDelay,Be.afterHidden().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Be.show(ge)}hide(ge=this.hideDelay){const ye=this._tooltipInstance;ye&&(ye.isVisible()?ye.hide(ge):(ye._cancelPendingAnimations(),this._detach()))}toggle(ge){this._isTooltipVisible()?this.hide():this.show(void 0,ge)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(ge){if(this._overlayRef){const Be=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!ge)&&Be._origin instanceof D.aKT)return this._overlayRef;this._detach()}const ye=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Ne=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&ge||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ye);return Ne.positionChanges.pipe((0,d.Q)(this._destroyed)).subscribe(Be=>{this._updateCurrentPositionClass(Be.connectionPair),this._tooltipInstance&&Be.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Ne,panelClass:`${this._cssClassPrefix}-${X}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,d.Q)(this._destroyed)).subscribe(Be=>{this._isTooltipVisible()&&Be.keyCode===w._f&&!(0,w.rp)(Be)&&(Be.preventDefault(),Be.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ge){const ye=ge.getConfig().positionStrategy,Ne=this._getOrigin(),Be=this._getOverlayPosition();ye.withPositions([this._addOffset({...Ne.main,...Be.main}),this._addOffset({...Ne.fallback,...Be.fallback})])}_addOffset(ge){const Ne=!this._dir||"ltr"==this._dir.value;return"top"===ge.originY?ge.offsetY=-8:"bottom"===ge.originY?ge.offsetY=8:"start"===ge.originX?ge.offsetX=Ne?-8:8:"end"===ge.originX&&(ge.offsetX=Ne?8:-8),ge}_getOrigin(){const ge=!this._dir||"ltr"==this._dir.value,ye=this.position;let Ne;"above"==ye||"below"==ye?Ne={originX:"center",originY:"above"==ye?"top":"bottom"}:"before"==ye||"left"==ye&&ge||"right"==ye&&!ge?Ne={originX:"start",originY:"center"}:("after"==ye||"right"==ye&&ge||"left"==ye&&!ge)&&(Ne={originX:"end",originY:"center"});const{x:Be,y:Qe}=this._invertPosition(Ne.originX,Ne.originY);return{main:Ne,fallback:{originX:Be,originY:Qe}}}_getOverlayPosition(){const ge=!this._dir||"ltr"==this._dir.value,ye=this.position;let Ne;"above"==ye?Ne={overlayX:"center",overlayY:"bottom"}:"below"==ye?Ne={overlayX:"center",overlayY:"top"}:"before"==ye||"left"==ye&&ge||"right"==ye&&!ge?Ne={overlayX:"end",overlayY:"center"}:("after"==ye||"right"==ye&&ge||"left"==ye&&!ge)&&(Ne={overlayX:"start",overlayY:"center"});const{x:Be,y:Qe}=this._invertPosition(Ne.overlayX,Ne.overlayY);return{main:Ne,fallback:{overlayX:Be,overlayY:Qe}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,D.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(ge){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ge,this._tooltipInstance._markForCheck())}_invertPosition(ge,ye){return"above"===this.position||"below"===this.position?"top"===ye?ye="bottom":"bottom"===ye&&(ye="top"):"end"===ge?ge="start":"start"===ge&&(ge="end"),{x:ge,y:ye}}_updateCurrentPositionClass(ge){const{overlayY:ye,originX:Ne,originY:Be}=ge;let Qe;if(Qe="center"===ye?this._dir&&"rtl"===this._dir.value?"end"===Ne?"left":"right":"start"===Ne?"left":"right":"bottom"===ye&&"top"===Be?"above":"below",Qe!==this._currentPosition){const Pt=this._overlayRef;if(Pt){const Ce=`${this._cssClassPrefix}-${X}-`;Pt.removePanelClass(Ce+this._currentPosition),Pt.addPanelClass(Ce+Qe)}this._currentPosition=Qe}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",ge=>{let ye;this._setupPointerExitEventsIfNeeded(),void 0!==ge.x&&void 0!==ge.y&&(ye=ge),this.show(void 0,ye)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",ge=>{const ye=ge.targetTouches?.[0],Ne=ye?{x:ye.clientX,y:ye.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Ne),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ge=[];if(this._platformSupportsMouseEvents())ge.push(["mouseleave",ye=>{const Ne=ye.relatedTarget;(!Ne||!this._overlayRef?.overlayElement.contains(Ne))&&this.hide()}],["wheel",ye=>this._wheelListener(ye)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ye=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ge.push(["touchend",ye],["touchcancel",ye])}this._addListeners(ge),this._passiveListeners.push(...ge)}_addListeners(ge){ge.forEach(([ye,Ne])=>{this._elementRef.nativeElement.addEventListener(ye,Ne,se)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ge){if(this._isTooltipVisible()){const ye=this._document.elementFromPoint(ge.clientX,ge.clientY),Ne=this._elementRef.nativeElement;ye!==Ne&&!Ne.contains(ye)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ge=this.touchGestures;if("off"!==ge){const ye=this._elementRef.nativeElement,Ne=ye.style;("on"===ge||"INPUT"!==ye.nodeName&&"TEXTAREA"!==ye.nodeName)&&(Ne.userSelect=Ne.msUserSelect=Ne.webkitUserSelect=Ne.MozUserSelect="none"),("on"===ge||!ye.draggable)&&(Ne.webkitUserDrag="none"),Ne.touchAction="none",Ne.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(ye){return new(ye||K)(D.rXU(y.hJ),D.rXU(D.aKT),D.rXU(x.R),D.rXU(D.c1b),D.rXU(D.SKi),D.rXU(S.OD),D.rXU(I.vr),D.rXU(I.FN),D.rXU(J),D.rXU(E.dS),D.rXU(be,8),D.rXU(C.qQ))};static#t=this.\u0275dir=D.FsC({type:K,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(ye,Ne){2&ye&&D.AVh("mat-mdc-tooltip-disabled",Ne.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return K})(),yt=(()=>{class K{constructor(ge,ye,Ne){this._changeDetectorRef=ge,this._elementRef=ye,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new R.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Ne}show(ge){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ge)}hide(ge){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ge)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ge}){(!ge||!this._triggerElement.contains(ge))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const ge=this._elementRef.nativeElement.getBoundingClientRect();return ge.height>24&&ge.width>=200}_handleAnimationEnd({animationName:ge}){(ge===this._showAnimation||ge===this._hideAnimation)&&this._finalizeAnimation(ge===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(ge){ge?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ge){const ye=this._tooltip.nativeElement,Ne=this._showAnimation,Be=this._hideAnimation;if(ye.classList.remove(ge?Be:Ne),ye.classList.add(ge?Ne:Be),this._isVisible!==ge&&(this._isVisible=ge,this._changeDetectorRef.markForCheck()),ge&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Qe=getComputedStyle(ye);("0s"===Qe.getPropertyValue("animation-duration")||"none"===Qe.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ge&&this._onShow(),this._animationsDisabled&&(ye.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ge))}static#e=this.\u0275fac=function(ye){return new(ye||K)(D.rXU(D.gRc),D.rXU(D.aKT),D.rXU(D.bc$,8))};static#t=this.\u0275cmp=D.VBU({type:K,selectors:[["mat-tooltip-component"]],viewQuery:function(ye,Ne){if(1&ye&&D.GBs(L,7),2&ye){let Be;D.mGM(Be=D.lsd())&&(Ne._tooltip=Be.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ye,Ne){1&ye&&D.bIt("mouseleave",function(Qe){return Ne._handleMouseLeave(Qe)}),2&ye&&D.xc7("zoom",Ne.isVisible()?1:null)},standalone:!0,features:[D.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(ye,Ne){if(1&ye){const Be=D.RV6();D.j41(0,"div",1,0),D.bIt("animationend",function(Pt){return D.eBV(Be),D.Njj(Ne._handleAnimationEnd(Pt))}),D.j41(2,"div",2),D.EFF(3),D.k0s()()}2&ye&&(D.AVh("mdc-tooltip--multiline",Ne._isMultiline),D.Y8G("ngClass",Ne.tooltipClass),D.R7$(3),D.JRh(Ne.message))},dependencies:[C.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return K})(),je=(()=>{class K{static#e=this.\u0275fac=function(ye){return new(ye||K)};static#t=this.\u0275mod=D.$C({type:K});static#n=this.\u0275inj=D.G2t({providers:[ce],imports:[I.Pd,C.MD,y.z_,M.yE,M.yE,x.Gj]})}return K})()},2552:(hn,Re,_)=>{"use strict";_.d(Re,{wb:()=>ks});var d=_(7404),A=_(436),w=_(7172);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */function C(jt){return new d.wOt(3e3,!1)}function Ce(jt){switch(jt.length){case 0:return new w.sf;case 1:return jt[0];default:return new w.ui(jt)}}function Qt(jt,de,Se=new Map,H=new Map){const le=[],ie=[];let ze=-1,Ct=null;if(de.forEach(En=>{const Fn=En.get("offset"),ki=Fn==ze,Nn=ki&&Ct||new Map;En.forEach((fr,Ur)=>{let ur=Ur,Or=fr;if("offset"!==Ur)switch(ur=jt.normalizePropertyName(ur,le),Or){case w.FX:Or=Se.get(Ur);break;case w.kp:Or=H.get(Ur);break;default:Or=jt.normalizeStyleValue(Ur,ur,Or,le)}Nn.set(ur,Or)}),ki||ie.push(Nn),Ct=Nn,ze=Fn}),le.length)throw function Ae(jt){return new d.wOt(3502,!1)}();return ie}function Vt(jt,de,Se,H){switch(de){case"start":jt.onStart(()=>H(Se&&Tt(Se,"start",jt)));break;case"done":jt.onDone(()=>H(Se&&Tt(Se,"done",jt)));break;case"destroy":jt.onDestroy(()=>H(Se&&Tt(Se,"destroy",jt)))}}function Tt(jt,de,Se){const ie=Ot(jt.element,jt.triggerName,jt.fromState,jt.toState,de||jt.phaseName,Se.totalTime??jt.totalTime,!!Se.disabled),ze=jt._data;return null!=ze&&(ie._data=ze),ie}function Ot(jt,de,Se,H,le="",ie=0,ze){return{element:jt,triggerName:de,fromState:Se,toState:H,phaseName:le,totalTime:ie,disabled:!!ze}}function ft(jt,de,Se){let H=jt.get(de);return H||jt.set(de,H=Se),H}function Oe(jt){const de=jt.indexOf(":");return[jt.substring(1,de),jt.slice(de+1)]}const Ye=typeof document>"u"?null:document.documentElement;function vt(jt){const de=jt.parentNode||jt.host||null;return de===Ye?null:de}let at=null,ot=!1;function ut(jt,de){for(;de;){if(de===jt)return!0;de=vt(de)}return!1}function dt(jt,de,Se){if(Se)return Array.from(jt.querySelectorAll(de));const H=jt.querySelector(de);return H?[H]:[]}let Pe=(()=>{class jt{validateStyleProperty(Se){return function Nt(jt){at||(at=function wt(){return typeof document<"u"?document.body:null}()||{},ot=!!at.style&&"WebkitAppearance"in at.style);let de=!0;return at.style&&!function It(jt){return"ebkit"==jt.substring(1,6)}(jt)&&(de=jt in at.style,!de&&ot&&(de="Webkit"+jt.charAt(0).toUpperCase()+jt.slice(1)in at.style)),de}(Se)}containsElement(Se,H){return ut(Se,H)}getParentElement(Se){return vt(Se)}query(Se,H,le){return dt(Se,H,le)}computeStyle(Se,H,le){return le||""}animate(Se,H,le,ie,ze,Ct=[],En){return new w.sf(le,ie)}static#e=this.\u0275fac=function(H){return new(H||jt)};static#t=this.\u0275prov=d.jDH({token:jt,factory:jt.\u0275fac})}return jt})();class pe{static#e=this.NOOP=new Pe}class lt{}const rn=1e3,on="ng-enter",nn="ng-leave",xt="ng-trigger",zt=".ng-trigger",$t="ng-animating",bn=".ng-animating";function Pn(jt){if("number"==typeof jt)return jt;const de=jt.match(/^(-?[\.\d]+)(m?s)/);return!de||de.length<2?0:Ri(parseFloat(de[1]),de[2])}function Ri(jt,de){return"s"===de?jt*rn:jt}function Dn(jt,de,Se){return jt.hasOwnProperty("duration")?jt:function Kn(jt,de,Se){let le,ie=0,ze="";if("string"==typeof jt){const Ct=jt.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ct)return de.push(C()),{duration:0,delay:0,easing:""};le=Ri(parseFloat(Ct[1]),Ct[2]);const En=Ct[3];null!=En&&(ie=Ri(parseFloat(En),Ct[4]));const Fn=Ct[5];Fn&&(ze=Fn)}else le=jt;if(!Se){let Ct=!1,En=de.length;le<0&&(de.push(function S(){return new d.wOt(3100,!1)}()),Ct=!0),ie<0&&(de.push(function I(){return new d.wOt(3101,!1)}()),Ct=!0),Ct&&de.splice(En,0,C())}return{duration:le,delay:ie,easing:ze}}(jt,de,Se)}function pt(jt,de,Se){de.forEach((H,le)=>{const ie=De(le);Se&&!Se.has(le)&&Se.set(le,jt.style[ie]),jt.style[ie]=H})}function Le(jt,de){de.forEach((Se,H)=>{const le=De(H);jt.style[le]=""})}function We(jt){return Array.isArray(jt)?1==jt.length?jt[0]:(0,w.K2)(jt):jt}const gt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zt(jt){let de=[];if("string"==typeof jt){let Se;for(;Se=gt.exec(jt);)de.push(Se[1]);gt.lastIndex=0}return de}function _n(jt,de,Se){const H=`${jt}`,le=H.replace(gt,(ie,ze)=>{let Ct=de[ze];return null==Ct&&(Se.push(function y(jt){return new d.wOt(3003,!1)}()),Ct=""),Ct.toString()});return le==H?jt:le}const ct=/-+([a-z0-9])/g;function De(jt){return jt.replace(ct,(...de)=>de[1].toUpperCase())}function Ft(jt,de,Se){switch(de.type){case w.If.Trigger:return jt.visitTrigger(de,Se);case w.If.State:return jt.visitState(de,Se);case w.If.Transition:return jt.visitTransition(de,Se);case w.If.Sequence:return jt.visitSequence(de,Se);case w.If.Group:return jt.visitGroup(de,Se);case w.If.Animate:return jt.visitAnimate(de,Se);case w.If.Keyframes:return jt.visitKeyframes(de,Se);case w.If.Style:return jt.visitStyle(de,Se);case w.If.Reference:return jt.visitReference(de,Se);case w.If.AnimateChild:return jt.visitAnimateChild(de,Se);case w.If.AnimateRef:return jt.visitAnimateRef(de,Se);case w.If.Query:return jt.visitQuery(de,Se);case w.If.Stagger:return jt.visitStagger(de,Se);default:throw function x(jt){return new d.wOt(3004,!1)}()}}function An(jt,de){return window.getComputedStyle(jt)[de]}const Rn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ni extends lt{normalizePropertyName(de,Se){return De(de)}normalizeStyleValue(de,Se,H,le){let ie="";const ze=H.toString().trim();if(Rn.has(Se)&&0!==H&&"0"!==H)if("number"==typeof H)ie="px";else{const Ct=H.match(/^[+-]?[\d\.]+([a-z]*)$/);Ct&&0==Ct[1].length&&le.push(function $(jt,de){return new d.wOt(3005,!1)}())}return ze+ie}}const lr="*";const vs=new Set(["true","1"]),Vr=new Set(["false","0"]);function bs(jt,de){const Se=vs.has(jt)||Vr.has(jt),H=vs.has(de)||Vr.has(de);return(le,ie)=>{let ze=jt==lr||jt==le,Ct=de==lr||de==ie;return!ze&&Se&&"boolean"==typeof le&&(ze=le?vs.has(jt):Vr.has(jt)),!Ct&&H&&"boolean"==typeof ie&&(Ct=ie?vs.has(de):Vr.has(de)),ze&&Ct}}const ss=new RegExp("s*:selfs*,?","g");function Yi(jt,de,Se,H){return new ar(jt).build(de,Se,H)}class ar{constructor(de){this._driver=de}build(de,Se,H){const le=new Ge(Se);return this._resetContextStyleTimingState(le),Ft(this,We(de),le)}_resetContextStyleTimingState(de){de.currentQuerySelector="",de.collectedStyles=new Map,de.collectedStyles.set("",new Map),de.currentTime=0}visitTrigger(de,Se){let H=Se.queryCount=0,le=Se.depCount=0;const ie=[],ze=[];return"@"==de.name.charAt(0)&&Se.errors.push(function R(){return new d.wOt(3006,!1)}()),de.definitions.forEach(Ct=>{if(this._resetContextStyleTimingState(Se),Ct.type==w.If.State){const En=Ct,Fn=En.name;Fn.toString().split(/\s*,\s*/).forEach(ki=>{En.name=ki,ie.push(this.visitState(En,Se))}),En.name=Fn}else if(Ct.type==w.If.Transition){const En=this.visitTransition(Ct,Se);H+=En.queryCount,le+=En.depCount,ze.push(En)}else Se.errors.push(function O(){return new d.wOt(3007,!1)}())}),{type:w.If.Trigger,name:de.name,states:ie,transitions:ze,queryCount:H,depCount:le,options:null}}visitState(de,Se){const H=this.visitStyle(de.styles,Se),le=de.options&&de.options.params||null;if(H.containsDynamicStyles){const ie=new Set,ze=le||{};H.styles.forEach(Ct=>{Ct instanceof Map&&Ct.forEach(En=>{Zt(En).forEach(Fn=>{ze.hasOwnProperty(Fn)||ie.add(Fn)})})}),ie.size&&Se.errors.push(function M(jt,de){return new d.wOt(3008,!1)}(0,ie.values()))}return{type:w.If.State,name:de.name,style:H,options:le?{params:le}:null}}visitTransition(de,Se){Se.queryCount=0,Se.depCount=0;const H=Ft(this,We(de.animation),Se),le=function ir(jt,de){const Se=[];return"string"==typeof jt?jt.split(/\s*,\s*/).forEach(H=>function Sr(jt,de,Se){if(":"==jt[0]){const En=function Hr(jt,de){switch(jt){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(Se,H)=>parseFloat(H)>parseFloat(Se);case":decrement":return(Se,H)=>parseFloat(H)<parseFloat(Se);default:return de.push(function se(jt){return new d.wOt(3016,!1)}()),"* => *"}}(jt,Se);if("function"==typeof En)return void de.push(En);jt=En}const H=jt.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==H||H.length<4)return Se.push(function X(jt){return new d.wOt(3015,!1)}()),de;const le=H[1],ie=H[2],ze=H[3];de.push(bs(le,ze)),"<"==ie[0]&&(le!=lr||ze!=lr)&&de.push(bs(ze,le))}(H,Se,de)):Se.push(jt),Se}(de.expr,Se.errors);return{type:w.If.Transition,matchers:le,animation:H,queryCount:Se.queryCount,depCount:Se.depCount,options:et(de.options)}}visitSequence(de,Se){return{type:w.If.Sequence,steps:de.steps.map(H=>Ft(this,H,Se)),options:et(de.options)}}visitGroup(de,Se){const H=Se.currentTime;let le=0;const ie=de.steps.map(ze=>{Se.currentTime=H;const Ct=Ft(this,ze,Se);return le=Math.max(le,Se.currentTime),Ct});return Se.currentTime=le,{type:w.If.Group,steps:ie,options:et(de.options)}}visitAnimate(de,Se){const H=function ne(jt,de){if(jt.hasOwnProperty("duration"))return jt;if("number"==typeof jt)return He(Dn(jt,de).duration,0,"");const Se=jt;if(Se.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=He(0,0,"");return ie.dynamic=!0,ie.strValue=Se,ie}const le=Dn(Se,de);return He(le.duration,le.delay,le.easing)}(de.timings,Se.errors);Se.currentAnimateTimings=H;let le,ie=de.styles?de.styles:(0,w.iF)({});if(ie.type==w.If.Keyframes)le=this.visitKeyframes(ie,Se);else{let ze=de.styles,Ct=!1;if(!ze){Ct=!0;const Fn={};H.easing&&(Fn.easing=H.easing),ze=(0,w.iF)(Fn)}Se.currentTime+=H.duration+H.delay;const En=this.visitStyle(ze,Se);En.isEmptyStep=Ct,le=En}return Se.currentAnimateTimings=null,{type:w.If.Animate,timings:H,style:le,options:null}}visitStyle(de,Se){const H=this._makeStyleAst(de,Se);return this._validateStyleAst(H,Se),H}_makeStyleAst(de,Se){const H=[],le=Array.isArray(de.styles)?de.styles:[de.styles];for(let Ct of le)"string"==typeof Ct?Ct===w.kp?H.push(Ct):Se.errors.push(new d.wOt(3002,!1)):H.push(new Map(Object.entries(Ct)));let ie=!1,ze=null;return H.forEach(Ct=>{if(Ct instanceof Map&&(Ct.has("easing")&&(ze=Ct.get("easing"),Ct.delete("easing")),!ie))for(let En of Ct.values())if(En.toString().indexOf("{{")>=0){ie=!0;break}}),{type:w.If.Style,styles:H,easing:ze,offset:de.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(de,Se){const H=Se.currentAnimateTimings;let le=Se.currentTime,ie=Se.currentTime;H&&ie>0&&(ie-=H.duration+H.delay),de.styles.forEach(ze=>{"string"!=typeof ze&&ze.forEach((Ct,En)=>{const Fn=Se.collectedStyles.get(Se.currentQuerySelector),ki=Fn.get(En);let Nn=!0;ki&&(ie!=le&&ie>=ki.startTime&&le<=ki.endTime&&(Se.errors.push(function F(jt,de,Se,H,le){return new d.wOt(3010,!1)}()),Nn=!1),ie=ki.startTime),Nn&&Fn.set(En,{startTime:ie,endTime:le}),Se.options&&function $e(jt,de,Se){const H=de.params||{},le=Zt(jt);le.length&&le.forEach(ie=>{H.hasOwnProperty(ie)||Se.push(function E(jt){return new d.wOt(3001,!1)}())})}(Ct,Se.options,Se.errors)})})}visitKeyframes(de,Se){const H={type:w.If.Keyframes,styles:[],options:null};if(!Se.currentAnimateTimings)return Se.errors.push(function J(){return new d.wOt(3011,!1)}()),H;let ie=0;const ze=[];let Ct=!1,En=!1,Fn=0;const ki=de.steps.map(Cr=>{const zs=this._makeStyleAst(Cr,Se);let Ns=null!=zs.offset?zs.offset:function Mt(jt){if("string"==typeof jt)return null;let de=null;if(Array.isArray(jt))jt.forEach(Se=>{if(Se instanceof Map&&Se.has("offset")){const H=Se;de=parseFloat(H.get("offset")),H.delete("offset")}});else if(jt instanceof Map&&jt.has("offset")){const Se=jt;de=parseFloat(Se.get("offset")),Se.delete("offset")}return de}(zs.styles),Xs=0;return null!=Ns&&(ie++,Xs=zs.offset=Ns),En=En||Xs<0||Xs>1,Ct=Ct||Xs<Fn,Fn=Xs,ze.push(Xs),zs});En&&Se.errors.push(function ue(){return new d.wOt(3012,!1)}()),Ct&&Se.errors.push(function ce(){return new d.wOt(3200,!1)}());const Nn=de.steps.length;let fr=0;ie>0&&ie<Nn?Se.errors.push(function re(){return new d.wOt(3202,!1)}()):0==ie&&(fr=1/(Nn-1));const Ur=Nn-1,ur=Se.currentTime,Or=Se.currentAnimateTimings,Zs=Or.duration;return ki.forEach((Cr,zs)=>{const Ns=fr>0?zs==Ur?1:fr*zs:ze[zs],Xs=Ns*Zs;Se.currentTime=ur+Or.delay+Xs,Or.duration=Xs,this._validateStyleAst(Cr,Se),Cr.offset=Ns,H.styles.push(Cr)}),H}visitReference(de,Se){return{type:w.If.Reference,animation:Ft(this,We(de.animation),Se),options:et(de.options)}}visitAnimateChild(de,Se){return Se.depCount++,{type:w.If.AnimateChild,options:et(de.options)}}visitAnimateRef(de,Se){return{type:w.If.AnimateRef,animation:this.visitReference(de.animation,Se),options:et(de.options)}}visitQuery(de,Se){const H=Se.currentQuerySelector,le=de.options||{};Se.queryCount++,Se.currentQuery=de;const[ie,ze]=function zi(jt){const de=!!jt.split(/\s*,\s*/).find(Se=>":self"==Se);return de&&(jt=jt.replace(ss,"")),jt=jt.replace(/@\*/g,zt).replace(/@\w+/g,Se=>zt+"-"+Se.slice(1)).replace(/:animating/g,bn),[jt,de]}(de.selector);Se.currentQuerySelector=H.length?H+" "+ie:ie,ft(Se.collectedStyles,Se.currentQuerySelector,new Map);const Ct=Ft(this,We(de.animation),Se);return Se.currentQuery=null,Se.currentQuerySelector=H,{type:w.If.Query,selector:ie,limit:le.limit||0,optional:!!le.optional,includeSelf:ze,animation:Ct,originalSelector:de.selector,options:et(de.options)}}visitStagger(de,Se){Se.currentQuery||Se.errors.push(function be(){return new d.wOt(3013,!1)}());const H="full"===de.timings?{duration:0,delay:0,easing:"full"}:Dn(de.timings,Se.errors,!0);return{type:w.If.Stagger,animation:Ft(this,We(de.animation),Se),timings:H,options:null}}}class Ge{constructor(de){this.errors=de,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function et(jt){return jt?(jt={...jt}).params&&(jt.params=function si(jt){return jt?{...jt}:null}(jt.params)):jt={},jt}function He(jt,de,Se){return{duration:jt,delay:de,easing:Se}}function kt(jt,de,Se,H,le,ie,ze=null,Ct=!1){return{type:1,element:jt,keyframes:de,preStyleProps:Se,postStyleProps:H,duration:le,delay:ie,totalTime:le+ie,easing:ze,subTimeline:Ct}}class Bt{constructor(){this._map=new Map}get(de){return this._map.get(de)||[]}append(de,Se){let H=this._map.get(de);H||this._map.set(de,H=[]),H.push(...Se)}has(de){return this._map.has(de)}clear(){this._map.clear()}}const sr=new RegExp(":enter","g"),Fr=new RegExp(":leave","g");function Zr(jt,de,Se,H,le,ie=new Map,ze=new Map,Ct,En,Fn=[]){return(new ds).buildKeyframes(jt,de,Se,H,le,ie,ze,Ct,En,Fn)}class ds{buildKeyframes(de,Se,H,le,ie,ze,Ct,En,Fn,ki=[]){Fn=Fn||new Bt;const Nn=new Er(de,Se,Fn,le,ie,ki,[]);Nn.options=En;const fr=En.delay?Pn(En.delay):0;Nn.currentTimeline.delayNextStep(fr),Nn.currentTimeline.setStyles([ze],null,Nn.errors,En),Ft(this,H,Nn);const Ur=Nn.timelines.filter(ur=>ur.containsAnimation());if(Ur.length&&Ct.size){let ur;for(let Or=Ur.length-1;Or>=0;Or--){const Zs=Ur[Or];if(Zs.element===Se){ur=Zs;break}}ur&&!ur.allowOnlyTimelineStyles()&&ur.setStyles([Ct],null,Nn.errors,En)}return Ur.length?Ur.map(ur=>ur.buildKeyframes()):[kt(Se,[],[],[],0,fr,"",!1)]}visitTrigger(de,Se){}visitState(de,Se){}visitTransition(de,Se){}visitAnimateChild(de,Se){const H=Se.subInstructions.get(Se.element);if(H){const le=Se.createSubContext(de.options),ie=Se.currentTimeline.currentTime,ze=this._visitSubInstructions(H,le,le.options);ie!=ze&&Se.transformIntoNewTimeline(ze)}Se.previousNode=de}visitAnimateRef(de,Se){const H=Se.createSubContext(de.options);H.transformIntoNewTimeline(),this._applyAnimationRefDelays([de.options,de.animation.options],Se,H),this.visitReference(de.animation,H),Se.transformIntoNewTimeline(H.currentTimeline.currentTime),Se.previousNode=de}_applyAnimationRefDelays(de,Se,H){for(const le of de){const ie=le?.delay;if(ie){const ze="number"==typeof ie?ie:Pn(_n(ie,le?.params??{},Se.errors));H.delayNextStep(ze)}}}_visitSubInstructions(de,Se,H){let ie=Se.currentTimeline.currentTime;const ze=null!=H.duration?Pn(H.duration):null,Ct=null!=H.delay?Pn(H.delay):null;return 0!==ze&&de.forEach(En=>{const Fn=Se.appendInstructionToTimeline(En,ze,Ct);ie=Math.max(ie,Fn.duration+Fn.delay)}),ie}visitReference(de,Se){Se.updateOptions(de.options,!0),Ft(this,de.animation,Se),Se.previousNode=de}visitSequence(de,Se){const H=Se.subContextCount;let le=Se;const ie=de.options;if(ie&&(ie.params||ie.delay)&&(le=Se.createSubContext(ie),le.transformIntoNewTimeline(),null!=ie.delay)){le.previousNode.type==w.If.Style&&(le.currentTimeline.snapshotCurrentStyles(),le.previousNode=Os);const ze=Pn(ie.delay);le.delayNextStep(ze)}de.steps.length&&(de.steps.forEach(ze=>Ft(this,ze,le)),le.currentTimeline.applyStylesToKeyframe(),le.subContextCount>H&&le.transformIntoNewTimeline()),Se.previousNode=de}visitGroup(de,Se){const H=[];let le=Se.currentTimeline.currentTime;const ie=de.options&&de.options.delay?Pn(de.options.delay):0;de.steps.forEach(ze=>{const Ct=Se.createSubContext(de.options);ie&&Ct.delayNextStep(ie),Ft(this,ze,Ct),le=Math.max(le,Ct.currentTimeline.currentTime),H.push(Ct.currentTimeline)}),H.forEach(ze=>Se.currentTimeline.mergeTimelineCollectedStyles(ze)),Se.transformIntoNewTimeline(le),Se.previousNode=de}_visitTiming(de,Se){if(de.dynamic){const H=de.strValue;return Dn(Se.params?_n(H,Se.params,Se.errors):H,Se.errors)}return{duration:de.duration,delay:de.delay,easing:de.easing}}visitAnimate(de,Se){const H=Se.currentAnimateTimings=this._visitTiming(de.timings,Se),le=Se.currentTimeline;H.delay&&(Se.incrementTime(H.delay),le.snapshotCurrentStyles());const ie=de.style;ie.type==w.If.Keyframes?this.visitKeyframes(ie,Se):(Se.incrementTime(H.duration),this.visitStyle(ie,Se),le.applyStylesToKeyframe()),Se.currentAnimateTimings=null,Se.previousNode=de}visitStyle(de,Se){const H=Se.currentTimeline,le=Se.currentAnimateTimings;!le&&H.hasCurrentStyleProperties()&&H.forwardFrame();const ie=le&&le.easing||de.easing;de.isEmptyStep?H.applyEmptyStep(ie):H.setStyles(de.styles,ie,Se.errors,Se.options),Se.previousNode=de}visitKeyframes(de,Se){const H=Se.currentAnimateTimings,le=Se.currentTimeline.duration,ie=H.duration,Ct=Se.createSubContext().currentTimeline;Ct.easing=H.easing,de.styles.forEach(En=>{Ct.forwardTime((En.offset||0)*ie),Ct.setStyles(En.styles,En.easing,Se.errors,Se.options),Ct.applyStylesToKeyframe()}),Se.currentTimeline.mergeTimelineCollectedStyles(Ct),Se.transformIntoNewTimeline(le+ie),Se.previousNode=de}visitQuery(de,Se){const H=Se.currentTimeline.currentTime,le=de.options||{},ie=le.delay?Pn(le.delay):0;ie&&(Se.previousNode.type===w.If.Style||0==H&&Se.currentTimeline.hasCurrentStyleProperties())&&(Se.currentTimeline.snapshotCurrentStyles(),Se.previousNode=Os);let ze=H;const Ct=Se.invokeQuery(de.selector,de.originalSelector,de.limit,de.includeSelf,!!le.optional,Se.errors);Se.currentQueryTotal=Ct.length;let En=null;Ct.forEach((Fn,ki)=>{Se.currentQueryIndex=ki;const Nn=Se.createSubContext(de.options,Fn);ie&&Nn.delayNextStep(ie),Fn===Se.element&&(En=Nn.currentTimeline),Ft(this,de.animation,Nn),Nn.currentTimeline.applyStylesToKeyframe(),ze=Math.max(ze,Nn.currentTimeline.currentTime)}),Se.currentQueryIndex=0,Se.currentQueryTotal=0,Se.transformIntoNewTimeline(ze),En&&(Se.currentTimeline.mergeTimelineCollectedStyles(En),Se.currentTimeline.snapshotCurrentStyles()),Se.previousNode=de}visitStagger(de,Se){const H=Se.parentContext,le=Se.currentTimeline,ie=de.timings,ze=Math.abs(ie.duration),Ct=ze*(Se.currentQueryTotal-1);let En=ze*Se.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":En=Ct-En;break;case"full":En=H.currentStaggerTime}const ki=Se.currentTimeline;En&&ki.delayNextStep(En);const Nn=ki.currentTime;Ft(this,de.animation,Se),Se.previousNode=de,H.currentStaggerTime=le.currentTime-Nn+(le.startTime-H.currentTimeline.startTime)}}const Os={};class Er{constructor(de,Se,H,le,ie,ze,Ct,En){this._driver=de,this.element=Se,this.subInstructions=H,this._enterClassName=le,this._leaveClassName=ie,this.errors=ze,this.timelines=Ct,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Os,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=En||new Jr(this._driver,Se,0),Ct.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(de,Se){if(!de)return;const H=de;let le=this.options;null!=H.duration&&(le.duration=Pn(H.duration)),null!=H.delay&&(le.delay=Pn(H.delay));const ie=H.params;if(ie){let ze=le.params;ze||(ze=this.options.params={}),Object.keys(ie).forEach(Ct=>{(!Se||!ze.hasOwnProperty(Ct))&&(ze[Ct]=_n(ie[Ct],ze,this.errors))})}}_copyOptions(){const de={};if(this.options){const Se=this.options.params;if(Se){const H=de.params={};Object.keys(Se).forEach(le=>{H[le]=Se[le]})}}return de}createSubContext(de=null,Se,H){const le=Se||this.element,ie=new Er(this._driver,le,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(le,H||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(de),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(de){return this.previousNode=Os,this.currentTimeline=this.currentTimeline.fork(this.element,de),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(de,Se,H){const le={duration:Se??de.duration,delay:this.currentTimeline.currentTime+(H??0)+de.delay,easing:""},ie=new Ds(this._driver,de.element,de.keyframes,de.preStyleProps,de.postStyleProps,le,de.stretchStartingKeyframe);return this.timelines.push(ie),le}incrementTime(de){this.currentTimeline.forwardTime(this.currentTimeline.duration+de)}delayNextStep(de){de>0&&this.currentTimeline.delayNextStep(de)}invokeQuery(de,Se,H,le,ie,ze){let Ct=[];if(le&&Ct.push(this.element),de.length>0){de=(de=de.replace(sr,"."+this._enterClassName)).replace(Fr,"."+this._leaveClassName);let Fn=this._driver.query(this.element,de,1!=H);0!==H&&(Fn=H<0?Fn.slice(Fn.length+H,Fn.length):Fn.slice(0,H)),Ct.push(...Fn)}return!ie&&0==Ct.length&&ze.push(function j(jt){return new d.wOt(3014,!1)}()),Ct}}class Jr{constructor(de,Se,H,le){this._driver=de,this.element=Se,this.startTime=H,this._elementTimelineStylesLookup=le,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(Se),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(Se,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(de){const Se=1===this._keyframes.size&&this._pendingStyles.size;this.duration||Se?(this.forwardTime(this.currentTime+de),Se&&this.snapshotCurrentStyles()):this.startTime+=de}fork(de,Se){return this.applyStylesToKeyframe(),new Jr(this._driver,de,Se||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(de){this.applyStylesToKeyframe(),this.duration=de,this._loadKeyframe()}_updateStyle(de,Se){this._localTimelineStyles.set(de,Se),this._globalTimelineStyles.set(de,Se),this._styleSummary.set(de,{time:this.currentTime,value:Se})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(de){de&&this._previousKeyframe.set("easing",de);for(let[Se,H]of this._globalTimelineStyles)this._backFill.set(Se,H||w.kp),this._currentKeyframe.set(Se,w.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(de,Se,H,le){Se&&this._previousKeyframe.set("easing",Se);const ie=le&&le.params||{},ze=function Br(jt,de){const Se=new Map;let H;return jt.forEach(le=>{if("*"===le){H??=de.keys();for(let ie of H)Se.set(ie,w.kp)}else for(let[ie,ze]of le)Se.set(ie,ze)}),Se}(de,this._globalTimelineStyles);for(let[Ct,En]of ze){const Fn=_n(En,ie,H);this._pendingStyles.set(Ct,Fn),this._localTimelineStyles.has(Ct)||this._backFill.set(Ct,this._globalTimelineStyles.get(Ct)??w.kp),this._updateStyle(Ct,Fn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((de,Se)=>{this._currentKeyframe.set(Se,de)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((de,Se)=>{this._currentKeyframe.has(Se)||this._currentKeyframe.set(Se,de)}))}snapshotCurrentStyles(){for(let[de,Se]of this._localTimelineStyles)this._pendingStyles.set(de,Se),this._updateStyle(de,Se)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const de=[];for(let Se in this._currentKeyframe)de.push(Se);return de}mergeTimelineCollectedStyles(de){de._styleSummary.forEach((Se,H)=>{const le=this._styleSummary.get(H);(!le||Se.time>le.time)&&this._updateStyle(H,Se.value)})}buildKeyframes(){this.applyStylesToKeyframe();const de=new Set,Se=new Set,H=1===this._keyframes.size&&0===this.duration;let le=[];this._keyframes.forEach((Ct,En)=>{const Fn=new Map([...this._backFill,...Ct]);Fn.forEach((ki,Nn)=>{ki===w.FX?de.add(Nn):ki===w.kp&&Se.add(Nn)}),H||Fn.set("offset",En/this.duration),le.push(Fn)});const ie=[...de.values()],ze=[...Se.values()];if(H){const Ct=le[0],En=new Map(Ct);Ct.set("offset",0),En.set("offset",1),le=[Ct,En]}return kt(this.element,le,ie,ze,this.duration,this.startTime,this.easing,!1)}}class Ds extends Jr{constructor(de,Se,H,le,ie,ze,Ct=!1){super(de,Se,ze.delay),this.keyframes=H,this.preStyleProps=le,this.postStyleProps=ie,this._stretchStartingKeyframe=Ct,this.timings={duration:ze.duration,delay:ze.delay,easing:ze.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let de=this.keyframes,{delay:Se,duration:H,easing:le}=this.timings;if(this._stretchStartingKeyframe&&Se){const ie=[],ze=H+Se,Ct=Se/ze,En=new Map(de[0]);En.set("offset",0),ie.push(En);const Fn=new Map(de[0]);Fn.set("offset",ia(Ct)),ie.push(Fn);const ki=de.length-1;for(let Nn=1;Nn<=ki;Nn++){let fr=new Map(de[Nn]);const Ur=fr.get("offset");fr.set("offset",ia((Se+Ur*H)/ze)),ie.push(fr)}H=ze,Se=0,le="",de=ie}return kt(this.element,de,this.preStyleProps,this.postStyleProps,H,Se,le,!0)}}function ia(jt,de=3){const Se=Math.pow(10,de-1);return Math.round(jt*Se)/Se}function Mo(jt,de,Se,H,le,ie,ze,Ct,En,Fn,ki,Nn,fr){return{type:0,element:jt,triggerName:de,isRemovalTransition:le,fromState:Se,fromStyles:ie,toState:H,toStyles:ze,timelines:Ct,queriedElements:En,preStyleProps:Fn,postStyleProps:ki,totalTime:Nn,errors:fr}}const Yo={};class Fo{constructor(de,Se,H){this._triggerName=de,this.ast=Se,this._stateStyles=H}match(de,Se,H,le){return function Ya(jt,de,Se,H,le){return jt.some(ie=>ie(de,Se,H,le))}(this.ast.matchers,de,Se,H,le)}buildStyles(de,Se,H){let le=this._stateStyles.get("*");return void 0!==de&&(le=this._stateStyles.get(de?.toString())||le),le?le.buildStyles(Se,H):new Map}build(de,Se,H,le,ie,ze,Ct,En,Fn,ki){const Nn=[],fr=this.ast.options&&this.ast.options.params||Yo,ur=this.buildStyles(H,Ct&&Ct.params||Yo,Nn),Or=En&&En.params||Yo,Zs=this.buildStyles(le,Or,Nn),Cr=new Set,zs=new Map,Ns=new Map,Xs="void"===le,Sa={params:qa(Or,fr),delay:this.ast.options?.delay},ca=ki?[]:Zr(de,Se,this.ast.animation,ie,ze,ur,Zs,Sa,Fn,Nn);let P=0;return ca.forEach(Et=>{P=Math.max(Et.duration+Et.delay,P)}),Nn.length?Mo(Se,this._triggerName,H,le,Xs,ur,Zs,[],[],zs,Ns,P,Nn):(ca.forEach(Et=>{const Kt=Et.element,cn=ft(zs,Kt,new Set);Et.preStyleProps.forEach(kn=>cn.add(kn));const tn=ft(Ns,Kt,new Set);Et.postStyleProps.forEach(kn=>tn.add(kn)),Kt!==Se&&Cr.add(Kt)}),Mo(Se,this._triggerName,H,le,Xs,ur,Zs,ca,[...Cr.values()],zs,Ns,P))}}function qa(jt,de){const Se={...de};return Object.entries(jt).forEach(([H,le])=>{null!=le&&(Se[H]=le)}),Se}class ya{constructor(de,Se,H){this.styles=de,this.defaultParams=Se,this.normalizer=H}buildStyles(de,Se){const H=new Map,le=qa(de,this.defaultParams);return this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ze,Ct)=>{ze&&(ze=_n(ze,le,Se));const En=this.normalizer.normalizePropertyName(Ct,Se);ze=this.normalizer.normalizeStyleValue(Ct,En,ze,Se),H.set(Ct,ze)})}),H}}class bl{constructor(de,Se,H){this.name=de,this.ast=Se,this._normalizer=H,this.transitionFactories=[],this.states=new Map,Se.states.forEach(le=>{this.states.set(le.name,new ya(le.style,le.options&&le.options.params||{},H))}),Fa(this.states,"true","1"),Fa(this.states,"false","0"),Se.transitions.forEach(le=>{this.transitionFactories.push(new Fo(de,le,this.states))}),this.fallbackTransition=function Ml(jt,de,Se){return new Fo(jt,{type:w.If.Transition,animation:{type:w.If.Sequence,steps:[],options:null},matchers:[(ze,Ct)=>!0],options:null,queryCount:0,depCount:0},de)}(de,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(de,Se,H,le){return this.transitionFactories.find(ze=>ze.match(de,Se,H,le))||null}matchStyles(de,Se,H){return this.fallbackTransition.buildStyles(de,Se,H)}}function Fa(jt,de,Se){jt.has(de)?jt.has(Se)||jt.set(Se,jt.get(de)):jt.has(Se)&&jt.set(de,jt.get(Se))}const va=new Bt;class La{constructor(de,Se,H){this.bodyNode=de,this._driver=Se,this._normalizer=H,this._animations=new Map,this._playersById=new Map,this.players=[]}register(de,Se){const H=[],ie=Yi(this._driver,Se,H,[]);if(H.length)throw function Xe(jt){return new d.wOt(3503,!1)}();this._animations.set(de,ie)}_buildPlayer(de,Se,H){const le=de.element,ie=Qt(this._normalizer,de.keyframes,Se,H);return this._driver.animate(le,ie,de.duration,de.delay,de.easing,[],!0)}create(de,Se,H={}){const le=[],ie=this._animations.get(de);let ze;const Ct=new Map;if(ie?(ze=Zr(this._driver,Se,ie,on,nn,new Map,new Map,H,va,le),ze.forEach(ki=>{const Nn=ft(Ct,ki.element,new Map);ki.postStyleProps.forEach(fr=>Nn.set(fr,null))})):(le.push(function yt(){return new d.wOt(3300,!1)}()),ze=[]),le.length)throw function Je(jt){return new d.wOt(3504,!1)}();Ct.forEach((ki,Nn)=>{ki.forEach((fr,Ur)=>{ki.set(Ur,this._driver.computeStyle(Nn,Ur,w.kp))})});const Fn=Ce(ze.map(ki=>{const Nn=Ct.get(ki.element);return this._buildPlayer(ki,new Map,Nn)}));return this._playersById.set(de,Fn),Fn.onDestroy(()=>this.destroy(de)),this.players.push(Fn),Fn}destroy(de){const Se=this._getPlayer(de);Se.destroy(),this._playersById.delete(de);const H=this.players.indexOf(Se);H>=0&&this.players.splice(H,1)}_getPlayer(de){const Se=this._playersById.get(de);if(!Se)throw function je(jt){return new d.wOt(3301,!1)}();return Se}listen(de,Se,H,le){const ie=Ot(Se,"","","");return Vt(this._getPlayer(de),H,ie,le),()=>{}}command(de,Se,H,le){if("register"==H)return void this.register(de,le[0]);if("create"==H)return void this.create(de,Se,le[0]||{});const ie=this._getPlayer(de);switch(H){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(le[0]));break;case"destroy":this.destroy(de)}}}const hc="ng-animate-queued",Bl="ng-animate-disabled",Gs=[],ql={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed";class lo{get params(){return this.options.params}constructor(de,Se=""){this.namespaceId=Se;const H=de&&de.hasOwnProperty("value");if(this.value=function qo(jt){return jt??null}(H?de.value:de),H){const{value:ie,...ze}=de;this.options=ze}else this.options={};this.options.params||(this.options.params={})}absorbOptions(de){const Se=de.params;if(Se){const H=this.options.params;Object.keys(Se).forEach(le=>{null==H[le]&&(H[le]=Se[le])})}}}const ba="void",Lo=new lo(ba);class ol{constructor(de,Se,H){this.id=de,this.hostElement=Se,this._engine=H,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+de,go(Se,this._hostClassName)}listen(de,Se,H,le){if(!this._triggers.has(Se))throw function K(jt,de){return new d.wOt(3302,!1)}();if(null==H||0==H.length)throw function oe(jt){return new d.wOt(3303,!1)}();if(!function wa(jt){return"start"==jt||"done"==jt}(H))throw function ge(jt,de){return new d.wOt(3400,!1)}();const ie=ft(this._elementListeners,de,[]),ze={name:Se,phase:H,callback:le};ie.push(ze);const Ct=ft(this._engine.statesByElement,de,new Map);return Ct.has(Se)||(go(de,xt),go(de,xt+"-"+Se),Ct.set(Se,Lo)),()=>{this._engine.afterFlush(()=>{const En=ie.indexOf(ze);En>=0&&ie.splice(En,1),this._triggers.has(Se)||Ct.delete(Se)})}}register(de,Se){return!this._triggers.has(de)&&(this._triggers.set(de,Se),!0)}_getTrigger(de){const Se=this._triggers.get(de);if(!Se)throw function ye(jt){return new d.wOt(3401,!1)}();return Se}trigger(de,Se,H,le=!0){const ie=this._getTrigger(Se),ze=new Eo(this.id,Se,de);let Ct=this._engine.statesByElement.get(de);Ct||(go(de,xt),go(de,xt+"-"+Se),this._engine.statesByElement.set(de,Ct=new Map));let En=Ct.get(Se);const Fn=new lo(H,this.id);if(!(H&&H.hasOwnProperty("value"))&&En&&Fn.absorbOptions(En.options),Ct.set(Se,Fn),En||(En=Lo),Fn.value!==ba&&En.value===Fn.value){if(!function Oo(jt,de){const Se=Object.keys(jt),H=Object.keys(de);if(Se.length!=H.length)return!1;for(let le=0;le<Se.length;le++){const ie=Se[le];if(!de.hasOwnProperty(ie)||jt[ie]!==de[ie])return!1}return!0}(En.params,Fn.params)){const Or=[],Zs=ie.matchStyles(En.value,En.params,Or),Cr=ie.matchStyles(Fn.value,Fn.params,Or);Or.length?this._engine.reportError(Or):this._engine.afterFlush(()=>{Le(de,Zs),pt(de,Cr)})}return}const fr=ft(this._engine.playersByElement,de,[]);fr.forEach(Or=>{Or.namespaceId==this.id&&Or.triggerName==Se&&Or.queued&&Or.destroy()});let Ur=ie.matchTransition(En.value,Fn.value,de,Fn.params),ur=!1;if(!Ur){if(!le)return;Ur=ie.fallbackTransition,ur=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:de,triggerName:Se,transition:Ur,fromState:En,toState:Fn,player:ze,isFallbackTransition:ur}),ur||(go(de,hc),ze.onStart(()=>{Qa(de,hc)})),ze.onDone(()=>{let Or=this.players.indexOf(ze);Or>=0&&this.players.splice(Or,1);const Zs=this._engine.playersByElement.get(de);if(Zs){let Cr=Zs.indexOf(ze);Cr>=0&&Zs.splice(Cr,1)}}),this.players.push(ze),fr.push(ze),ze}deregister(de){this._triggers.delete(de),this._engine.statesByElement.forEach(Se=>Se.delete(de)),this._elementListeners.forEach((Se,H)=>{this._elementListeners.set(H,Se.filter(le=>le.name!=de))})}clearElementCache(de){this._engine.statesByElement.delete(de),this._elementListeners.delete(de);const Se=this._engine.playersByElement.get(de);Se&&(Se.forEach(H=>H.destroy()),this._engine.playersByElement.delete(de))}_signalRemovalForInnerTriggers(de,Se){const H=this._engine.driver.query(de,zt,!0);H.forEach(le=>{if(le[Ks])return;const ie=this._engine.fetchNamespacesByElement(le);ie.size?ie.forEach(ze=>ze.triggerLeaveAnimation(le,Se,!1,!0)):this.clearElementCache(le)}),this._engine.afterFlushAnimationsDone(()=>H.forEach(le=>this.clearElementCache(le)))}triggerLeaveAnimation(de,Se,H,le){const ie=this._engine.statesByElement.get(de),ze=new Map;if(ie){const Ct=[];if(ie.forEach((En,Fn)=>{if(ze.set(Fn,En.value),this._triggers.has(Fn)){const ki=this.trigger(de,Fn,ba,le);ki&&Ct.push(ki)}}),Ct.length)return this._engine.markElementAsRemoved(this.id,de,!0,Se,ze),H&&Ce(Ct).onDone(()=>this._engine.processLeaveNode(de)),!0}return!1}prepareLeaveAnimationListeners(de){const Se=this._elementListeners.get(de),H=this._engine.statesByElement.get(de);if(Se&&H){const le=new Set;Se.forEach(ie=>{const ze=ie.name;if(le.has(ze))return;le.add(ze);const En=this._triggers.get(ze).fallbackTransition,Fn=H.get(ze)||Lo,ki=new lo(ba),Nn=new Eo(this.id,ze,de);this._engine.totalQueuedPlayers++,this._queue.push({element:de,triggerName:ze,transition:En,fromState:Fn,toState:ki,player:Nn,isFallbackTransition:!0})})}}removeNode(de,Se){const H=this._engine;if(de.childElementCount&&this._signalRemovalForInnerTriggers(de,Se),this.triggerLeaveAnimation(de,Se,!0))return;let le=!1;if(H.totalAnimations){const ie=H.players.length?H.playersByQueriedElement.get(de):[];if(ie&&ie.length)le=!0;else{let ze=de;for(;ze=ze.parentNode;)if(H.statesByElement.get(ze)){le=!0;break}}}if(this.prepareLeaveAnimationListeners(de),le)H.markElementAsRemoved(this.id,de,!1,Se);else{const ie=de[Ks];(!ie||ie===ql)&&(H.afterFlush(()=>this.clearElementCache(de)),H.destroyInnerAnimations(de),H._onRemovalComplete(de,Se))}}insertNode(de,Se){go(de,this._hostClassName)}drainQueuedTransitions(de){const Se=[];return this._queue.forEach(H=>{const le=H.player;if(le.destroyed)return;const ie=H.element,ze=this._elementListeners.get(ie);ze&&ze.forEach(Ct=>{if(Ct.name==H.triggerName){const En=Ot(ie,H.triggerName,H.fromState.value,H.toState.value);En._data=de,Vt(H.player,Ct.phase,En,Ct.callback)}}),le.markedForDestroy?this._engine.afterFlush(()=>{le.destroy()}):Se.push(H)}),this._queue=[],Se.sort((H,le)=>{const ie=H.transition.ast.depCount,ze=le.transition.ast.depCount;return 0==ie||0==ze?ie-ze:this._engine.driver.containsElement(H.element,le.element)?1:-1})}destroy(de){this.players.forEach(Se=>Se.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,de)}}class wo{_onRemovalComplete(de,Se){this.onRemovalComplete(de,Se)}constructor(de,Se,H){this.bodyNode=de,this.driver=Se,this._normalizer=H,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(le,ie)=>{}}get queuedPlayers(){const de=[];return this._namespaceList.forEach(Se=>{Se.players.forEach(H=>{H.queued&&de.push(H)})}),de}createNamespace(de,Se){const H=new ol(de,Se,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,Se)?this._balanceNamespaceList(H,Se):(this.newHostElements.set(Se,H),this.collectEnterElement(Se)),this._namespaceLookup[de]=H}_balanceNamespaceList(de,Se){const H=this._namespaceList,le=this.namespacesByHostElement;if(H.length-1>=0){let ze=!1,Ct=this.driver.getParentElement(Se);for(;Ct;){const En=le.get(Ct);if(En){const Fn=H.indexOf(En);H.splice(Fn+1,0,de),ze=!0;break}Ct=this.driver.getParentElement(Ct)}ze||H.unshift(de)}else H.push(de);return le.set(Se,de),de}register(de,Se){let H=this._namespaceLookup[de];return H||(H=this.createNamespace(de,Se)),H}registerTrigger(de,Se,H){let le=this._namespaceLookup[de];le&&le.register(Se,H)&&this.totalAnimations++}destroy(de,Se){de&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const H=this._fetchNamespace(de);this.namespacesByHostElement.delete(H.hostElement);const le=this._namespaceList.indexOf(H);le>=0&&this._namespaceList.splice(le,1),H.destroy(Se),delete this._namespaceLookup[de]}))}_fetchNamespace(de){return this._namespaceLookup[de]}fetchNamespacesByElement(de){const Se=new Set,H=this.statesByElement.get(de);if(H)for(let le of H.values())if(le.namespaceId){const ie=this._fetchNamespace(le.namespaceId);ie&&Se.add(ie)}return Se}trigger(de,Se,H,le){if(Ol(Se)){const ie=this._fetchNamespace(de);if(ie)return ie.trigger(Se,H,le),!0}return!1}insertNode(de,Se,H,le){if(!Ol(Se))return;const ie=Se[Ks];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const ze=this.collectedLeaveElements.indexOf(Se);ze>=0&&this.collectedLeaveElements.splice(ze,1)}if(de){const ze=this._fetchNamespace(de);ze&&ze.insertNode(Se,H)}le&&this.collectEnterElement(Se)}collectEnterElement(de){this.collectedEnterElements.push(de)}markElementAsDisabled(de,Se){Se?this.disabledNodes.has(de)||(this.disabledNodes.add(de),go(de,Bl)):this.disabledNodes.has(de)&&(this.disabledNodes.delete(de),Qa(de,Bl))}removeNode(de,Se,H){if(Ol(Se)){const le=de?this._fetchNamespace(de):null;le?le.removeNode(Se,H):this.markElementAsRemoved(de,Se,!1,H);const ie=this.namespacesByHostElement.get(Se);ie&&ie.id!==de&&ie.removeNode(Se,H)}else this._onRemovalComplete(Se,H)}markElementAsRemoved(de,Se,H,le,ie){this.collectedLeaveElements.push(Se),Se[Ks]={namespaceId:de,setForRemoval:le,hasAnimation:H,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(de,Se,H,le,ie){return Ol(Se)?this._fetchNamespace(de).listen(Se,H,le,ie):()=>{}}_buildInstruction(de,Se,H,le,ie){return de.transition.build(this.driver,de.element,de.fromState.value,de.toState.value,H,le,de.fromState.options,de.toState.options,Se,ie)}destroyInnerAnimations(de){let Se=this.driver.query(de,zt,!0);Se.forEach(H=>this.destroyActiveAnimationsForElement(H)),0!=this.playersByQueriedElement.size&&(Se=this.driver.query(de,bn,!0),Se.forEach(H=>this.finishActiveQueriedAnimationOnElement(H)))}destroyActiveAnimationsForElement(de){const Se=this.playersByElement.get(de);Se&&Se.forEach(H=>{H.queued?H.markedForDestroy=!0:H.destroy()})}finishActiveQueriedAnimationOnElement(de){const Se=this.playersByQueriedElement.get(de);Se&&Se.forEach(H=>H.finish())}whenRenderingDone(){return new Promise(de=>{if(this.players.length)return Ce(this.players).onDone(()=>de());de()})}processLeaveNode(de){const Se=de[Ks];if(Se&&Se.setForRemoval){if(de[Ks]=ql,Se.namespaceId){this.destroyInnerAnimations(de);const H=this._fetchNamespace(Se.namespaceId);H&&H.clearElementCache(de)}this._onRemovalComplete(de,Se.setForRemoval)}de.classList?.contains(Bl)&&this.markElementAsDisabled(de,!1),this.driver.query(de,".ng-animate-disabled",!0).forEach(H=>{this.markElementAsDisabled(H,!1)})}flush(de=-1){let Se=[];if(this.newHostElements.size&&(this.newHostElements.forEach((H,le)=>this._balanceNamespaceList(H,le)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let H=0;H<this.collectedEnterElements.length;H++)go(this.collectedEnterElements[H],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const H=[];try{Se=this._flushAnimations(H,de)}finally{for(let le=0;le<H.length;le++)H[le]()}}else for(let H=0;H<this.collectedLeaveElements.length;H++)this.processLeaveNode(this.collectedLeaveElements[H]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(H=>H()),this._flushFns=[],this._whenQuietFns.length){const H=this._whenQuietFns;this._whenQuietFns=[],Se.length?Ce(Se).onDone(()=>{H.forEach(le=>le())}):H.forEach(le=>le())}}reportError(de){throw function Ne(jt){return new d.wOt(3402,!1)}()}_flushAnimations(de,Se){const H=new Bt,le=[],ie=new Map,ze=[],Ct=new Map,En=new Map,Fn=new Map,ki=new Set;this.disabledNodes.forEach(jn=>{ki.add(jn);const mi=this.driver.query(jn,".ng-animate-queued",!0);for(let ti=0;ti<mi.length;ti++)ki.add(mi[ti])});const Nn=this.bodyNode,fr=Array.from(this.statesByElement.keys()),Ur=oa(fr,this.collectedEnterElements),ur=new Map;let Or=0;Ur.forEach((jn,mi)=>{const ti=on+Or++;ur.set(mi,ti),jn.forEach(Ii=>go(Ii,ti))});const Zs=[],Cr=new Set,zs=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const mi=this.collectedLeaveElements[jn],ti=mi[Ks];ti&&ti.setForRemoval&&(Zs.push(mi),Cr.add(mi),ti.hasAnimation?this.driver.query(mi,".ng-star-inserted",!0).forEach(Ii=>Cr.add(Ii)):zs.add(mi))}const Ns=new Map,Xs=oa(fr,Array.from(Cr));Xs.forEach((jn,mi)=>{const ti=nn+Or++;Ns.set(mi,ti),jn.forEach(Ii=>go(Ii,ti))}),de.push(()=>{Ur.forEach((jn,mi)=>{const ti=ur.get(mi);jn.forEach(Ii=>Qa(Ii,ti))}),Xs.forEach((jn,mi)=>{const ti=Ns.get(mi);jn.forEach(Ii=>Qa(Ii,ti))}),Zs.forEach(jn=>{this.processLeaveNode(jn)})});const Sa=[],ca=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(Se).forEach(ti=>{const Ii=ti.player,Ji=ti.element;if(Sa.push(Ii),this.collectedEnterElements.length){const Ro=Ji[Ks];if(Ro&&Ro.setForMove){if(Ro.previousTriggersValues&&Ro.previousTriggersValues.has(ti.triggerName)){const Jo=Ro.previousTriggersValues.get(ti.triggerName),Js=this.statesByElement.get(ti.element);if(Js&&Js.has(ti.triggerName)){const El=Js.get(ti.triggerName);El.value=Jo,Js.set(ti.triggerName,El)}}return void Ii.destroy()}}const $r=!Nn||!this.driver.containsElement(Nn,Ji),os=Ns.get(Ji),js=ur.get(Ji),Gr=this._buildInstruction(ti,H,js,os,$r);if(Gr.errors&&Gr.errors.length)return void ca.push(Gr);if($r)return Ii.onStart(()=>Le(Ji,Gr.fromStyles)),Ii.onDestroy(()=>pt(Ji,Gr.toStyles)),void le.push(Ii);if(ti.isFallbackTransition)return Ii.onStart(()=>Le(Ji,Gr.fromStyles)),Ii.onDestroy(()=>pt(Ji,Gr.toStyles)),void le.push(Ii);const ns=[];Gr.timelines.forEach(Ro=>{Ro.stretchStartingKeyframe=!0,this.disabledNodes.has(Ro.element)||ns.push(Ro)}),Gr.timelines=ns,H.append(Ji,Gr.timelines),ze.push({instruction:Gr,player:Ii,element:Ji}),Gr.queriedElements.forEach(Ro=>ft(Ct,Ro,[]).push(Ii)),Gr.preStyleProps.forEach((Ro,Jo)=>{if(Ro.size){let Js=En.get(Jo);Js||En.set(Jo,Js=new Set),Ro.forEach((El,ua)=>Js.add(ua))}}),Gr.postStyleProps.forEach((Ro,Jo)=>{let Js=Fn.get(Jo);Js||Fn.set(Jo,Js=new Set),Ro.forEach((El,ua)=>Js.add(ua))})});if(ca.length){const jn=[];ca.forEach(mi=>{jn.push(function Qe(jt,de){return new d.wOt(3505,!1)}())}),Sa.forEach(mi=>mi.destroy()),this.reportError(jn)}const P=new Map,Et=new Map;ze.forEach(jn=>{const mi=jn.element;H.has(mi)&&(Et.set(mi,mi),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,P))}),le.forEach(jn=>{const mi=jn.element;this._getPreviousPlayers(mi,!1,jn.namespaceId,jn.triggerName,null).forEach(Ii=>{ft(P,mi,[]).push(Ii),Ii.destroy()})});const Kt=Zs.filter(jn=>_o(jn,En,Fn)),cn=new Map;ws(cn,this.driver,zs,Fn,w.kp).forEach(jn=>{_o(jn,En,Fn)&&Kt.push(jn)});const kn=new Map;Ur.forEach((jn,mi)=>{ws(kn,this.driver,new Set(jn),En,w.FX)}),Kt.forEach(jn=>{const mi=cn.get(jn),ti=kn.get(jn);cn.set(jn,new Map([...mi?.entries()??[],...ti?.entries()??[]]))});const ln=[],Ln=[],Qn={};ze.forEach(jn=>{const{element:mi,player:ti,instruction:Ii}=jn;if(H.has(mi)){if(ki.has(mi))return ti.onDestroy(()=>pt(mi,Ii.toStyles)),ti.disabled=!0,ti.overrideTotalTime(Ii.totalTime),void le.push(ti);let Ji=Qn;if(Et.size>1){let os=mi;const js=[];for(;os=os.parentNode;){const Gr=Et.get(os);if(Gr){Ji=Gr;break}js.push(os)}js.forEach(Gr=>Et.set(Gr,Ji))}const $r=this._buildAnimation(ti.namespaceId,Ii,P,ie,kn,cn);if(ti.setRealPlayer($r),Ji===Qn)ln.push(ti);else{const os=this.playersByElement.get(Ji);os&&os.length&&(ti.parentPlayer=Ce(os)),le.push(ti)}}else Le(mi,Ii.fromStyles),ti.onDestroy(()=>pt(mi,Ii.toStyles)),Ln.push(ti),ki.has(mi)&&le.push(ti)}),Ln.forEach(jn=>{const mi=ie.get(jn.element);if(mi&&mi.length){const ti=Ce(mi);jn.setRealPlayer(ti)}}),le.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<Zs.length;jn++){const mi=Zs[jn],ti=mi[Ks];if(Qa(mi,nn),ti&&ti.hasAnimation)continue;let Ii=[];if(Ct.size){let $r=Ct.get(mi);$r&&$r.length&&Ii.push(...$r);let os=this.driver.query(mi,bn,!0);for(let js=0;js<os.length;js++){let Gr=Ct.get(os[js]);Gr&&Gr.length&&Ii.push(...Gr)}}const Ji=Ii.filter($r=>!$r.destroyed);Ji.length?Za(this,mi,Ji):this.processLeaveNode(mi)}return Zs.length=0,ln.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const mi=this.players.indexOf(jn);this.players.splice(mi,1)}),jn.play()}),ln}afterFlush(de){this._flushFns.push(de)}afterFlushAnimationsDone(de){this._whenQuietFns.push(de)}_getPreviousPlayers(de,Se,H,le,ie){let ze=[];if(Se){const Ct=this.playersByQueriedElement.get(de);Ct&&(ze=Ct)}else{const Ct=this.playersByElement.get(de);if(Ct){const En=!ie||ie==ba;Ct.forEach(Fn=>{Fn.queued||!En&&Fn.triggerName!=le||ze.push(Fn)})}}return(H||le)&&(ze=ze.filter(Ct=>!(H&&H!=Ct.namespaceId||le&&le!=Ct.triggerName))),ze}_beforeAnimationBuild(de,Se,H){const ie=Se.element,ze=Se.isRemovalTransition?void 0:de,Ct=Se.isRemovalTransition?void 0:Se.triggerName;for(const En of Se.timelines){const Fn=En.element,ki=Fn!==ie,Nn=ft(H,Fn,[]);this._getPreviousPlayers(Fn,ki,ze,Ct,Se.toState).forEach(Ur=>{const ur=Ur.getRealPlayer();ur.beforeDestroy&&ur.beforeDestroy(),Ur.destroy(),Nn.push(Ur)})}Le(ie,Se.fromStyles)}_buildAnimation(de,Se,H,le,ie,ze){const Ct=Se.triggerName,En=Se.element,Fn=[],ki=new Set,Nn=new Set,fr=Se.timelines.map(ur=>{const Or=ur.element;ki.add(Or);const Zs=Or[Ks];if(Zs&&Zs.removedBeforeQueried)return new w.sf(ur.duration,ur.delay);const Cr=Or!==En,zs=function al(jt){const de=[];return Oi(jt,de),de}((H.get(Or)||Gs).map(P=>P.getRealPlayer())).filter(P=>!!P.element&&P.element===Or),Ns=ie.get(Or),Xs=ze.get(Or),Sa=Qt(this._normalizer,ur.keyframes,Ns,Xs),ca=this._buildPlayer(ur,Sa,zs);if(ur.subTimeline&&le&&Nn.add(Or),Cr){const P=new Eo(de,Ct,Or);P.setRealPlayer(ca),Fn.push(P)}return ca});Fn.forEach(ur=>{ft(this.playersByQueriedElement,ur.element,[]).push(ur),ur.onDone(()=>function Ba(jt,de,Se){let H=jt.get(de);if(H){if(H.length){const le=H.indexOf(Se);H.splice(le,1)}0==H.length&&jt.delete(de)}return H}(this.playersByQueriedElement,ur.element,ur))}),ki.forEach(ur=>go(ur,$t));const Ur=Ce(fr);return Ur.onDestroy(()=>{ki.forEach(ur=>Qa(ur,$t)),pt(En,Se.toStyles)}),Nn.forEach(ur=>{ft(le,ur,[]).push(Ur)}),Ur}_buildPlayer(de,Se,H){return Se.length>0?this.driver.animate(de.element,Se,de.duration,de.delay,de.easing,H):new w.sf(de.duration,de.delay)}}class Eo{constructor(de,Se,H){this.namespaceId=de,this.triggerName=Se,this.element=H,this._player=new w.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(de){this._containsRealPlayer||(this._player=de,this._queuedCallbacks.forEach((Se,H)=>{Se.forEach(le=>Vt(de,H,void 0,le))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(de.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(de){this.totalTime=de}syncPlayerEvents(de){const Se=this._player;Se.triggerCallback&&de.onStart(()=>Se.triggerCallback("start")),de.onDone(()=>this.finish()),de.onDestroy(()=>this.destroy())}_queueEvent(de,Se){ft(this._queuedCallbacks,de,[]).push(Se)}onDone(de){this.queued&&this._queueEvent("done",de),this._player.onDone(de)}onStart(de){this.queued&&this._queueEvent("start",de),this._player.onStart(de)}onDestroy(de){this.queued&&this._queueEvent("destroy",de),this._player.onDestroy(de)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(de){this.queued||this._player.setPosition(de)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(de){const Se=this._player;Se.triggerCallback&&Se.triggerCallback(de)}}function Ol(jt){return jt&&1===jt.nodeType}function kr(jt,de){const Se=jt.style.display;return jt.style.display=de??"none",Se}function ws(jt,de,Se,H,le){const ie=[];Se.forEach(En=>ie.push(kr(En)));const ze=[];H.forEach((En,Fn)=>{const ki=new Map;En.forEach(Nn=>{const fr=de.computeStyle(Fn,Nn,le);ki.set(Nn,fr),(!fr||0==fr.length)&&(Fn[Ks]=sa,ze.push(Fn))}),jt.set(Fn,ki)});let Ct=0;return Se.forEach(En=>kr(En,ie[Ct++])),ze}function oa(jt,de){const Se=new Map;if(jt.forEach(Ct=>Se.set(Ct,[])),0==de.length)return Se;const le=new Set(de),ie=new Map;function ze(Ct){if(!Ct)return 1;let En=ie.get(Ct);if(En)return En;const Fn=Ct.parentNode;return En=Se.has(Fn)?Fn:le.has(Fn)?1:ze(Fn),ie.set(Ct,En),En}return de.forEach(Ct=>{const En=ze(Ct);1!==En&&Se.get(En).push(Ct)}),Se}function go(jt,de){jt.classList?.add(de)}function Qa(jt,de){jt.classList?.remove(de)}function Za(jt,de,Se){Ce(Se).onDone(()=>jt.processLeaveNode(de))}function Oi(jt,de){for(let Se=0;Se<jt.length;Se++){const H=jt[Se];H instanceof w.ui?Oi(H.players,de):de.push(H)}}function _o(jt,de,Se){const H=Se.get(jt);if(!H)return!1;let le=de.get(jt);return le?H.forEach(ie=>le.add(ie)):de.set(jt,H),Se.delete(jt),!0}class $o{constructor(de,Se,H){this._driver=Se,this._normalizer=H,this._triggerCache={},this.onRemovalComplete=(le,ie)=>{},this._transitionEngine=new wo(de.body,Se,H),this._timelineEngine=new La(de.body,Se,H),this._transitionEngine.onRemovalComplete=(le,ie)=>this.onRemovalComplete(le,ie)}registerTrigger(de,Se,H,le,ie){const ze=de+"-"+le;let Ct=this._triggerCache[ze];if(!Ct){const En=[],ki=Yi(this._driver,ie,En,[]);if(En.length)throw function q(jt,de){return new d.wOt(3404,!1)}();Ct=function ra(jt,de,Se){return new bl(jt,de,Se)}(le,ki,this._normalizer),this._triggerCache[ze]=Ct}this._transitionEngine.registerTrigger(Se,le,Ct)}register(de,Se){this._transitionEngine.register(de,Se)}destroy(de,Se){this._transitionEngine.destroy(de,Se)}onInsert(de,Se,H,le){this._transitionEngine.insertNode(de,Se,H,le)}onRemove(de,Se,H){this._transitionEngine.removeNode(de,Se,H)}disableAnimations(de,Se){this._transitionEngine.markElementAsDisabled(de,Se)}process(de,Se,H,le){if("@"==H.charAt(0)){const[ie,ze]=Oe(H);this._timelineEngine.command(ie,Se,ze,le)}else this._transitionEngine.trigger(de,Se,H,le)}listen(de,Se,H,le,ie){if("@"==H.charAt(0)){const[ze,Ct]=Oe(H);return this._timelineEngine.listen(ze,Se,Ct,ie)}return this._transitionEngine.listen(de,Se,H,le,ie)}flush(de=-1){this._transitionEngine.flush(de)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(de){this._transitionEngine.afterFlushAnimationsDone(de)}}class Go{static#e=this.initialStylesByElement=new WeakMap;constructor(de,Se,H){this._element=de,this._startStyles=Se,this._endStyles=H,this._state=0;let le=Go.initialStylesByElement.get(de);le||Go.initialStylesByElement.set(de,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&pt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pt(this._element,this._initialStyles),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Go.initialStylesByElement.delete(this._element),this._startStyles&&(Le(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),pt(this._element,this._initialStyles),this._state=3)}}function Qs(jt){let de=null;return jt.forEach((Se,H)=>{(function Qo(jt){return"display"===jt||"position"===jt})(H)&&(de=de||new Map,de.set(H,Se))}),de}class aa{constructor(de,Se,H,le){this.element=de,this.keyframes=Se,this.options=H,this._specialStyles=le,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=H.duration,this._delay=H.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const de=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,de,this.options),this._finalKeyframe=de.length?de[de.length-1]:new Map;const Se=()=>this._onFinish();this.domPlayer.addEventListener("finish",Se),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",Se)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(de){const Se=[];return de.forEach(H=>{Se.push(Object.fromEntries(H))}),Se}_triggerWebAnimation(de,Se,H){return de.animate(this._convertKeyframesToObject(Se),H)}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(de=>de()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}setPosition(de){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=de*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const de=new Map;this.hasStarted()&&this._finalKeyframe.forEach((H,le)=>{"offset"!==le&&de.set(le,this._finished?H:An(this.element,le))}),this.currentSnapshot=de}triggerCallback(de){const Se="start"===de?this._onStartFns:this._onDoneFns;Se.forEach(H=>H()),Se.length=0}}class Va{validateStyleProperty(de){return!0}validateAnimatableStyleProperty(de){return!0}containsElement(de,Se){return ut(de,Se)}getParentElement(de){return vt(de)}query(de,Se,H){return dt(de,Se,H)}computeStyle(de,Se,H){return An(de,Se)}animate(de,Se,H,le,ie,ze=[]){const En={duration:H,delay:le,fill:0==le?"both":"forwards"};ie&&(En.easing=ie);const Fn=new Map,ki=ze.filter(Ur=>Ur instanceof aa);(function Fe(jt,de){return 0===jt||0===de})(H,le)&&ki.forEach(Ur=>{Ur.currentSnapshot.forEach((ur,Or)=>Fn.set(Or,ur))});let Nn=function xn(jt){return jt.length?jt[0]instanceof Map?jt:jt.map(de=>new Map(Object.entries(de))):[]}(Se).map(Ur=>new Map(Ur));Nn=function bt(jt,de,Se){if(Se.size&&de.length){let H=de[0],le=[];if(Se.forEach((ie,ze)=>{H.has(ze)||le.push(ze),H.set(ze,ie)}),le.length)for(let ie=1;ie<de.length;ie++){let ze=de[ie];le.forEach(Ct=>ze.set(Ct,An(jt,Ct)))}}return de}(de,Nn,Fn);const fr=function Ql(jt,de){let Se=null,H=null;return Array.isArray(de)&&de.length?(Se=Qs(de[0]),de.length>1&&(H=Qs(de[de.length-1]))):de instanceof Map&&(Se=Qs(de)),Se||H?new Go(jt,Se,H):null}(de,Nn);return new aa(de,Nn,En,fr)}}const ll="@.disabled";class wl{constructor(de,Se,H,le){this.namespaceId=de,this.delegate=Se,this.engine=H,this._onDestroy=le,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(de){this.delegate.destroyNode?.(de)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(de,Se){return this.delegate.createElement(de,Se)}createComment(de){return this.delegate.createComment(de)}createText(de){return this.delegate.createText(de)}appendChild(de,Se){this.delegate.appendChild(de,Se),this.engine.onInsert(this.namespaceId,Se,de,!1)}insertBefore(de,Se,H,le=!0){this.delegate.insertBefore(de,Se,H),this.engine.onInsert(this.namespaceId,Se,de,le)}removeChild(de,Se,H){this.engine.onRemove(this.namespaceId,Se,this.delegate)}selectRootElement(de,Se){return this.delegate.selectRootElement(de,Se)}parentNode(de){return this.delegate.parentNode(de)}nextSibling(de){return this.delegate.nextSibling(de)}setAttribute(de,Se,H,le){this.delegate.setAttribute(de,Se,H,le)}removeAttribute(de,Se,H){this.delegate.removeAttribute(de,Se,H)}addClass(de,Se){this.delegate.addClass(de,Se)}removeClass(de,Se){this.delegate.removeClass(de,Se)}setStyle(de,Se,H,le){this.delegate.setStyle(de,Se,H,le)}removeStyle(de,Se,H){this.delegate.removeStyle(de,Se,H)}setProperty(de,Se,H){"@"==Se.charAt(0)&&Se==ll?this.disableAnimations(de,!!H):this.delegate.setProperty(de,Se,H)}setValue(de,Se){this.delegate.setValue(de,Se)}listen(de,Se,H){return this.delegate.listen(de,Se,H)}disableAnimations(de,Se){this.engine.disableAnimations(de,Se)}}class Rs extends wl{constructor(de,Se,H,le,ie){super(Se,H,le,ie),this.factory=de,this.namespaceId=Se}setProperty(de,Se,H){"@"==Se.charAt(0)?"."==Se.charAt(1)&&Se==ll?this.disableAnimations(de,H=void 0===H||!!H):this.engine.process(this.namespaceId,de,Se.slice(1),H):this.delegate.setProperty(de,Se,H)}listen(de,Se,H){if("@"==Se.charAt(0)){const le=function cl(jt){switch(jt){case"body":return document.body;case"document":return document;case"window":return window;default:return jt}}(de);let ie=Se.slice(1),ze="";return"@"!=ie.charAt(0)&&([ie,ze]=function la(jt){const de=jt.indexOf(".");return[jt.substring(0,de),jt.slice(de+1)]}(ie)),this.engine.listen(this.namespaceId,le,ie,ze,Ct=>{this.factory.scheduleListenerCallback(Ct._data||-1,H,Ct)})}return this.delegate.listen(de,Se,H)}}class es{constructor(de,Se,H){this.delegate=de,this.engine=Se,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,Se.onRemovalComplete=(le,ie)=>{const ze=ie?.parentNode(le);ze&&ie.removeChild(ze,le)}}createRenderer(de,Se){const le=this.delegate.createRenderer(de,Se);if(!de||!Se?.data?.animation){const Fn=this._rendererCache;let ki=Fn.get(le);return ki||(ki=new wl("",le,this.engine,()=>Fn.delete(le)),Fn.set(le,ki)),ki}const ie=Se.id,ze=Se.id+"-"+this._currentId;this._currentId++,this.engine.register(ze,de);const Ct=Fn=>{Array.isArray(Fn)?Fn.forEach(Ct):this.engine.registerTrigger(ie,ze,de,Fn.name,Fn)};return Se.data.animation.forEach(Ct),new Rs(this,ze,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(de,Se,H){if(de>=0&&de<this._microtaskId)return void this._zone.run(()=>Se(H));const le=this._animationCallbacksBuffer;0==le.length&&queueMicrotask(()=>{this._zone.run(()=>{le.forEach(ie=>{const[ze,Ct]=ie;ze(Ct)}),this._animationCallbacksBuffer=[]})}),le.push([Se,H])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Ja=_(316);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const Zo=[{provide:lt,useFactory:function xa(){return new ni}},{provide:$o,useClass:(()=>{class jt extends $o{constructor(Se,H,le){super(Se,H,le)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(H){return new(H||jt)(d.KVO(Ja.qQ),d.KVO(pe),d.KVO(lt))};static#t=this.\u0275prov=d.jDH({token:jt,factory:jt.\u0275fac})}return jt})()},{provide:d._9s,useFactory:function Ca(jt,de,Se){return new es(jt,de,Se)},deps:[A.B7,$o,d.SKi]}],ul=[{provide:pe,useFactory:()=>new Va},{provide:d.bc$,useValue:"BrowserAnimations"},...Zo],hr=[{provide:pe,useClass:Pe},{provide:d.bc$,useValue:"NoopAnimations"},...Zo];let ks=(()=>{class jt{static withConfig(Se){return{ngModule:jt,providers:Se.disableAnimations?hr:ul}}static#e=this.\u0275fac=function(H){return new(H||jt)};static#t=this.\u0275mod=d.$C({type:jt});static#n=this.\u0275inj=d.G2t({providers:ul,imports:[A.Bb]})}return jt})()},436:(hn,Re,_)=>{"use strict";_.d(Re,{B7:()=>se,Bb:()=>It,hE:()=>Nt,sG:()=>ft,up:()=>xt});var d=_(316),A=_(7404);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */class w extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class D extends w{static makeCurrent(){(0,d.ZD)(new D)}onAndCancel(We,$e,gt){return We.addEventListener($e,gt),()=>{We.removeEventListener($e,gt)}}dispatchEvent(We,$e){We.dispatchEvent($e)}remove(We){We.parentNode&&We.parentNode.removeChild(We)}createElement(We,$e){return($e=$e||this.getDefaultDocument()).createElement(We)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(We){return We.nodeType===Node.ELEMENT_NODE}isShadowRoot(We){return We instanceof DocumentFragment}getGlobalEventTarget(We,$e){return"window"===$e?window:"document"===$e?We:"body"===$e?We.body:null}getBaseHref(We){const $e=function S(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==$e?null:function I(Le){return new URL(Le,document.baseURI).pathname}($e)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(We){return(0,d._b)(document.cookie,We)}}let C=null,y=(()=>{class Le{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(gt){return new(gt||Le)};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();const x=new A.nKC("");let $=(()=>{class Le{constructor($e,gt){this._zone=gt,this._eventNameToPlugin=new Map,$e.forEach(Zt=>{Zt.manager=this}),this._plugins=$e.slice().reverse()}addEventListener($e,gt,Zt){return this._findPluginFor(gt).addEventListener($e,gt,Zt)}getZone(){return this._zone}_findPluginFor($e){let gt=this._eventNameToPlugin.get($e);if(gt)return gt;if(gt=this._plugins.find(_n=>_n.supports($e)),!gt)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set($e,gt),gt}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(x),A.KVO(A.SKi))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();class R{constructor(We){this._doc=We}}const O="ng-app-id";let M=(()=>{class Le{constructor($e,gt,Zt,_n={}){this.doc=$e,this.appId=gt,this.nonce=Zt,this.platformId=_n,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(_n),this.resetHostNodes()}addStyles($e){for(const gt of $e)1===this.changeUsageCount(gt,1)&&this.onStyleAdded(gt)}removeStyles($e){for(const gt of $e)this.changeUsageCount(gt,-1)<=0&&this.onStyleRemoved(gt)}ngOnDestroy(){const $e=this.styleNodesInDOM;$e&&($e.forEach(gt=>gt.remove()),$e.clear());for(const gt of this.getAllStyles())this.onStyleRemoved(gt);this.resetHostNodes()}addHost($e){this.hostNodes.add($e);for(const gt of this.getAllStyles())this.addStyleToHost($e,gt)}removeHost($e){this.hostNodes.delete($e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($e){for(const gt of this.hostNodes)this.addStyleToHost(gt,$e)}onStyleRemoved($e){const gt=this.styleRef;gt.get($e)?.elements?.forEach(Zt=>Zt.remove()),gt.delete($e)}collectServerRenderedStyles(){const $e=this.doc.head?.querySelectorAll(`style[${O}="${this.appId}"]`);if($e?.length){const gt=new Map;return $e.forEach(Zt=>{null!=Zt.textContent&&gt.set(Zt.textContent,Zt)}),gt}return null}changeUsageCount($e,gt){const Zt=this.styleRef;if(Zt.has($e)){const _n=Zt.get($e);return _n.usage+=gt,_n.usage}return Zt.set($e,{usage:gt,elements:[]}),gt}getStyleElement($e,gt){const Zt=this.styleNodesInDOM,_n=Zt?.get(gt);if(_n?.parentNode===$e)return Zt.delete(gt),_n.removeAttribute(O),_n;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=gt,this.platformIsServer&&ct.setAttribute(O,this.appId),$e.appendChild(ct),ct}}addStyleToHost($e,gt){const Zt=this.getStyleElement($e,gt),_n=this.styleRef,ct=_n.get(gt)?.elements;ct?ct.push(Zt):_n.set(gt,{elements:[Zt],usage:1})}resetHostNodes(){const $e=this.hostNodes;$e.clear(),$e.add(this.doc.head)}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();const L={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},U=/%COMP%/g,F="%COMP%",J=`_nghost-${F}`,ue=`_ngcontent-${F}`,re=new A.nKC("",{providedIn:"root",factory:()=>!0});function X(Le,We){return We.map($e=>$e.replace(U,Le))}let se=(()=>{class Le{constructor($e,gt,Zt,_n,ct,De,st,Fe=null){this.eventManager=$e,this.sharedStylesHost=gt,this.appId=Zt,this.removeStylesOnCompDestroy=_n,this.doc=ct,this.platformId=De,this.ngZone=st,this.nonce=Fe,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(De),this.defaultRenderer=new W($e,ct,st,this.platformIsServer)}createRenderer($e,gt){if(!$e||!gt)return this.defaultRenderer;this.platformIsServer&&gt.encapsulation===A.gXe.ShadowDom&&(gt={...gt,encapsulation:A.gXe.Emulated});const Zt=this.getOrCreateRenderer($e,gt);return Zt instanceof Je?Zt.applyToHost($e):Zt instanceof yt&&Zt.applyStyles(),Zt}getOrCreateRenderer($e,gt){const Zt=this.rendererByCompId;let _n=Zt.get(gt.id);if(!_n){const ct=this.doc,De=this.ngZone,st=this.eventManager,Fe=this.sharedStylesHost,bt=this.removeStylesOnCompDestroy,Ft=this.platformIsServer;switch(gt.encapsulation){case A.gXe.Emulated:_n=new Je(st,Fe,gt,this.appId,bt,ct,De,Ft);break;case A.gXe.ShadowDom:return new Xe(st,Fe,$e,gt,ct,De,this.nonce,Ft);default:_n=new yt(st,Fe,gt,bt,ct,De,Ft)}Zt.set(gt.id,_n)}return _n}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO($),A.KVO(M),A.KVO(A.sZ2),A.KVO(re),A.KVO(d.qQ),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();class W{constructor(We,$e,gt,Zt){this.eventManager=We,this.doc=$e,this.ngZone=gt,this.platformIsServer=Zt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(We,$e){return $e?this.doc.createElementNS(L[$e]||$e,We):this.doc.createElement(We)}createComment(We){return this.doc.createComment(We)}createText(We){return this.doc.createTextNode(We)}appendChild(We,$e){(Ae(We)?We.content:We).appendChild($e)}insertBefore(We,$e,gt){We&&(Ae(We)?We.content:We).insertBefore($e,gt)}removeChild(We,$e){We&&We.removeChild($e)}selectRootElement(We,$e){let gt="string"==typeof We?this.doc.querySelector(We):We;if(!gt)throw new A.wOt(-5104,!1);return $e||(gt.textContent=""),gt}parentNode(We){return We.parentNode}nextSibling(We){return We.nextSibling}setAttribute(We,$e,gt,Zt){if(Zt){$e=Zt+":"+$e;const _n=L[Zt];_n?We.setAttributeNS(_n,$e,gt):We.setAttribute($e,gt)}else We.setAttribute($e,gt)}removeAttribute(We,$e,gt){if(gt){const Zt=L[gt];Zt?We.removeAttributeNS(Zt,$e):We.removeAttribute(`${gt}:${$e}`)}else We.removeAttribute($e)}addClass(We,$e){We.classList.add($e)}removeClass(We,$e){We.classList.remove($e)}setStyle(We,$e,gt,Zt){Zt&(A.czy.DashCase|A.czy.Important)?We.style.setProperty($e,gt,Zt&A.czy.Important?"important":""):We.style[$e]=gt}removeStyle(We,$e,gt){gt&A.czy.DashCase?We.style.removeProperty($e):We.style[$e]=""}setProperty(We,$e,gt){null!=We&&(We[$e]=gt)}setValue(We,$e){We.nodeValue=$e}listen(We,$e,gt){if("string"==typeof We&&!(We=(0,d.QT)().getGlobalEventTarget(this.doc,We)))throw new Error(`Unsupported event target ${We} for event ${$e}`);return this.eventManager.addEventListener(We,$e,this.decoratePreventDefault(gt))}decoratePreventDefault(We){return $e=>{if("__ngUnwrap__"===$e)return We;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>We($e)):We($e))&&$e.preventDefault()}}}function Ae(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class Xe extends W{constructor(We,$e,gt,Zt,_n,ct,De,st){super(We,_n,ct,st),this.sharedStylesHost=$e,this.hostEl=gt,this.shadowRoot=gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Fe=X(Zt.id,Zt.styles);for(const bt of Fe){const Ft=document.createElement("style");De&&Ft.setAttribute("nonce",De),Ft.textContent=bt,this.shadowRoot.appendChild(Ft)}}nodeOrShadowRoot(We){return We===this.hostEl?this.shadowRoot:We}appendChild(We,$e){return super.appendChild(this.nodeOrShadowRoot(We),$e)}insertBefore(We,$e,gt){return super.insertBefore(this.nodeOrShadowRoot(We),$e,gt)}removeChild(We,$e){return super.removeChild(this.nodeOrShadowRoot(We),$e)}parentNode(We){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(We)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yt extends W{constructor(We,$e,gt,Zt,_n,ct,De,st){super(We,_n,ct,De),this.sharedStylesHost=$e,this.removeStylesOnCompDestroy=Zt,this.styles=st?X(st,gt.styles):gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Je extends yt{constructor(We,$e,gt,Zt,_n,ct,De,st){const Fe=Zt+"-"+gt.id;super(We,$e,gt,_n,ct,De,st,Fe),this.contentAttr=function be(Le){return ue.replace(U,Le)}(Fe),this.hostAttr=function j(Le){return J.replace(U,Le)}(Fe)}applyToHost(We){this.applyStyles(),this.setAttribute(We,this.hostAttr,"")}createElement(We,$e){const gt=super.createElement(We,$e);return super.setAttribute(gt,this.contentAttr,""),gt}}let je=(()=>{class Le extends R{constructor($e){super($e)}supports($e){return!0}addEventListener($e,gt,Zt){return $e.addEventListener(gt,Zt,!1),()=>this.removeEventListener($e,gt,Zt)}removeEventListener($e,gt,Zt){return $e.removeEventListener(gt,Zt)}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})(),K=(()=>{class Le extends R{constructor($e){super($e),this.delegate=(0,A.WQX)(A.zAP,{optional:!0})}supports($e){return!!this.delegate&&this.delegate.supports($e)}addEventListener($e,gt,Zt){return this.delegate.addEventListener($e,gt,Zt)}removeEventListener($e,gt,Zt){return this.delegate.removeEventListener($e,gt,Zt)}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();const oe=["alt","control","meta","shift"],ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ye={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let Ne=(()=>{class Le extends R{constructor($e){super($e)}supports($e){return null!=Le.parseEventName($e)}addEventListener($e,gt,Zt){const _n=Le.parseEventName(gt),ct=Le.eventCallback(_n.fullKey,Zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel($e,_n.domEventName,ct))}static parseEventName($e){const gt=$e.toLowerCase().split("."),Zt=gt.shift();if(0===gt.length||"keydown"!==Zt&&"keyup"!==Zt)return null;const _n=Le._normalizeKey(gt.pop());let ct="",De=gt.indexOf("code");if(De>-1&&(gt.splice(De,1),ct="code."),oe.forEach(Fe=>{const bt=gt.indexOf(Fe);bt>-1&&(gt.splice(bt,1),ct+=Fe+".")}),ct+=_n,0!=gt.length||0===_n.length)return null;const st={};return st.domEventName=Zt,st.fullKey=ct,st}static matchEventFullKeyCode($e,gt){let Zt=ge[$e.key]||$e.key,_n="";return gt.indexOf("code.")>-1&&(Zt=$e.code,_n="code."),!(null==Zt||!Zt)&&(Zt=Zt.toLowerCase()," "===Zt?Zt="space":"."===Zt&&(Zt="dot"),oe.forEach(ct=>{ct!==Zt&&(0,ye[ct])($e)&&(_n+=ct+".")}),_n+=Zt,_n===gt)}static eventCallback($e,gt,Zt){return _n=>{Le.matchEventFullKeyCode(_n,$e)&&Zt.runGuarded(()=>gt(_n))}}static _normalizeKey($e){return"esc"===$e?"escape":$e}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac})}return Le})();const ft=(0,A.oH4)(A.fpN,"browser",[{provide:A.Agw,useValue:d.AJ},{provide:A.PLl,useValue:function Qt(){D.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Tt(){return(0,A.TL$)(document),document},deps:[]}]),Oe=new A.nKC(""),Ye=[{provide:A.e01,useClass:class E{addToWindow(We){A.JZv.getAngularTestability=(gt,Zt=!0)=>{const _n=We.findTestabilityInTree(gt,Zt);if(null==_n)throw new A.wOt(5103,!1);return _n},A.JZv.getAllAngularTestabilities=()=>We.getAllTestabilities(),A.JZv.getAllAngularRootElements=()=>We.getAllRootElements(),A.JZv.frameworkStabilizers||(A.JZv.frameworkStabilizers=[]),A.JZv.frameworkStabilizers.push(gt=>{const Zt=A.JZv.getAllAngularTestabilities();let _n=Zt.length;const ct=function(){_n--,0==_n&&gt()};Zt.forEach(De=>{De.whenStable(ct)})})}findTestabilityInTree(We,$e,gt){return null==$e?null:We.getTestability($e)??(gt?(0,d.QT)().isShadowRoot($e)?this.findTestabilityInTree(We,$e.host,!0):this.findTestabilityInTree(We,$e.parentElement,!0):null)}},deps:[]},{provide:A.WHO,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]},{provide:A.NYb,useClass:A.NYb,deps:[A.SKi,A.giA,A.e01]}],vt=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function Vt(){return new A.zcH},deps:[]},{provide:x,useClass:je,multi:!0,deps:[d.qQ,A.SKi,A.Agw]},{provide:x,useClass:Ne,multi:!0,deps:[d.qQ]},{provide:x,useClass:K,multi:!0},se,M,$,{provide:A._9s,useExisting:se},{provide:d.N0,useClass:y,deps:[]},[]];let It=(()=>{class Le{constructor($e){}static withServerTransition($e){return{ngModule:Le,providers:[{provide:A.sZ2,useValue:$e.appId}]}}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(Oe,12))};static#t=this.\u0275mod=A.$C({type:Le});static#n=this.\u0275inj=A.G2t({providers:[...vt,...Ye],imports:[d.MD,A.Hbi]})}return Le})(),Nt=(()=>{class Le{constructor($e){this._doc=$e}getTitle(){return this._doc.title}setTitle($e){this._doc.title=$e||""}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})(),xt=(()=>{class Le{static#e=this.\u0275fac=function(gt){return new(gt||Le)};static#t=this.\u0275prov=A.jDH({token:Le,factory:function(gt){let Zt=null;return Zt=gt?new(gt||Le):A.KVO(zt),Zt},providedIn:"root"})}return Le})(),zt=(()=>{class Le extends xt{constructor($e){super(),this._doc=$e}sanitize($e,gt){if(null==gt)return null;switch($e){case A.WPN.NONE:return gt;case A.WPN.HTML:return(0,A.ZF7)(gt,"HTML")?(0,A.rcV)(gt):(0,A.h9k)(this._doc,String(gt)).toString();case A.WPN.STYLE:return(0,A.ZF7)(gt,"Style")?(0,A.rcV)(gt):gt;case A.WPN.SCRIPT:if((0,A.ZF7)(gt,"Script"))return(0,A.rcV)(gt);throw new A.wOt(5200,!1);case A.WPN.URL:return(0,A.ZF7)(gt,"URL")?(0,A.rcV)(gt):(0,A.$MX)(String(gt));case A.WPN.RESOURCE_URL:if((0,A.ZF7)(gt,"ResourceURL"))return(0,A.rcV)(gt);throw new A.wOt(5201,!1);default:throw new A.wOt(5202,!1)}}bypassSecurityTrustHtml($e){return(0,A.Kcf)($e)}bypassSecurityTrustStyle($e){return(0,A.cWb)($e)}bypassSecurityTrustScript($e){return(0,A.UyX)($e)}bypassSecurityTrustUrl($e){return(0,A.osQ)($e)}bypassSecurityTrustResourceUrl($e){return(0,A.e5t)($e)}static#e=this.\u0275fac=function(gt){return new(gt||Le)(A.KVO(d.qQ))};static#t=this.\u0275prov=A.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},9805:(hn,Re,_)=>{"use strict";_.d(Re,{nX:()=>wa,j5:()=>Zr,wF:()=>sr,L6:()=>Os,Z:()=>Pi,gx:()=>Br,Ix:()=>Vo,iI:()=>bh,n3:()=>Oo});var d=_(7404),A=_(6899),w=_(2677),D=_(1536),C=_(521),S=_(2175),I=_(5363),E=_(6933),y=_(6965),x=_(782),$=_(6651),R=_(4380),O=_(1810),M=_(3119),L=_(2672),U=_(316),F=_(5443),J=_(1963),ue=_(3602),ce=_(9273),re=_(8627),be=_(3107),j=_(7871),X=_(9003),se=_(6e3),W=_(9314),xe=_(8097);class Ae{constructor(ke,fe,Ie=!1){this.accumulator=ke,this.seed=fe,this.hasSeed=Ie}call(ke,fe){return fe.subscribe(new Xe(ke,this.accumulator,this.seed,this.hasSeed))}}class Xe extends xe.v{constructor(ke,fe,Ie,ht){super(ke),this.accumulator=fe,this._seed=Ie,this.hasSeed=ht,this.index=0}get seed(){return this._seed}set seed(ke){this.hasSeed=!0,this._seed=ke}_next(ke){if(this.hasSeed)return this._tryNext(ke);this.seed=ke,this.destination.next(ke)}_tryNext(ke){const fe=this.index++;let Ie;try{Ie=this.accumulator(this.seed,ke,fe)}catch(ht){this.destination.error(ht)}this.seed=Ie,this.destination.next(Ie)}}var yt=_(4702),Je=_(5741);function je(G){return function(fe){return 0===G?(0,R.I)():fe.lift(new K(G))}}class K{constructor(ke){if(this.total=ke,this.total<0)throw new Je.k}call(ke,fe){return fe.subscribe(new oe(ke,this.total))}}class oe extends xe.v{constructor(ke,fe){super(ke),this.total=fe,this.ring=new Array,this.count=0}_next(ke){const fe=this.ring,Ie=this.total,ht=this.count++;fe.length<Ie?fe.push(ke):fe[ht%Ie]=ke}_complete(){const ke=this.destination;let fe=this.count;if(fe>0){const Ie=this.count>=this.total?this.total:this.count,ht=this.ring;for(let Lt=0;Lt<Ie;Lt++){const un=fe++%Ie;ke.next(ht[un])}}ke.complete()}}var ge=_(3505),ye=_(5980);class Qe{constructor(ke){this.value=ke}call(ke,fe){return fe.subscribe(new Pt(ke,this.value))}}class Pt extends xe.v{constructor(ke,fe){super(ke),this.value=fe}_next(ke){this.destination.next(this.value)}}var Ce=_(9863),Qt=_(3261),Vt=_(7464),Tt=_(9450),Ot=_(436);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const ft="primary",Oe=Symbol("RouteTitle");class Ye{constructor(ke){this.params=ke||{}}has(ke){return Object.prototype.hasOwnProperty.call(this.params,ke)}get(ke){if(this.has(ke)){const fe=this.params[ke];return Array.isArray(fe)?fe[0]:fe}return null}getAll(ke){if(this.has(ke)){const fe=this.params[ke];return Array.isArray(fe)?fe:[fe]}return[]}get keys(){return Object.keys(this.params)}}function vt(G){return new Ye(G)}function It(G,ke,fe){const Ie=fe.path.split("/");if(Ie.length>G.length||"full"===fe.pathMatch&&(ke.hasChildren()||Ie.length<G.length))return null;const ht={};for(let Lt=0;Lt<Ie.length;Lt++){const un=Ie[Lt],Gn=G[Lt];if(":"===un[0])ht[un.substring(1)]=Gn;else if(un!==Gn.path)return null}return{consumed:G.slice(0,Ie.length),posParams:ht}}function ot(G,ke){const fe=G?Nt(G):void 0,Ie=ke?Nt(ke):void 0;if(!fe||!Ie||fe.length!=Ie.length)return!1;let ht;for(let Lt=0;Lt<fe.length;Lt++)if(ht=fe[Lt],!Ut(G[ht],ke[ht]))return!1;return!0}function Nt(G){return[...Object.keys(G),...Object.getOwnPropertySymbols(G)]}function Ut(G,ke){if(Array.isArray(G)&&Array.isArray(ke)){if(G.length!==ke.length)return!1;const fe=[...G].sort(),Ie=[...ke].sort();return fe.every((ht,Lt)=>Ie[Lt]===ht)}return G===ke}function wt(G){return G.length>0?G[G.length-1]:null}function ut(G){return(0,A.A)(G)?G:(0,d.jNT)(G)?(0,w.H)(Promise.resolve(G)):(0,D.of)(G)}const dt={exact:function lt(G,ke,fe){if(!$t(G.segments,ke.segments)||!Ei(G.segments,ke.segments,fe)||G.numberOfChildren!==ke.numberOfChildren)return!1;for(const Ie in ke.children)if(!G.children[Ie]||!lt(G.children[Ie],ke.children[Ie],fe))return!1;return!0},subset:rn},Z={exact:function pe(G,ke){return ot(G,ke)},subset:function Gt(G,ke){return Object.keys(ke).length<=Object.keys(G).length&&Object.keys(ke).every(fe=>Ut(G[fe],ke[fe]))},ignored:()=>!0};function Pe(G,ke,fe){return dt[fe.paths](G.root,ke.root,fe.matrixParams)&&Z[fe.queryParams](G.queryParams,ke.queryParams)&&!("exact"===fe.fragment&&G.fragment!==ke.fragment)}function rn(G,ke,fe){return Hn(G,ke,ke.segments,fe)}function Hn(G,ke,fe,Ie){if(G.segments.length>fe.length){const ht=G.segments.slice(0,fe.length);return!(!$t(ht,fe)||ke.hasChildren()||!Ei(ht,fe,Ie))}if(G.segments.length===fe.length){if(!$t(G.segments,fe)||!Ei(G.segments,fe,Ie))return!1;for(const ht in ke.children)if(!G.children[ht]||!rn(G.children[ht],ke.children[ht],Ie))return!1;return!0}{const ht=fe.slice(0,G.segments.length),Lt=fe.slice(G.segments.length);return!!($t(G.segments,ht)&&Ei(G.segments,ht,Ie)&&G.children[ft])&&Hn(G.children[ft],ke,Lt,Ie)}}function Ei(G,ke,fe){return ke.every((Ie,ht)=>Z[fe](G[ht].parameters,Ie.parameters))}class on{constructor(ke=new nn([],{}),fe={},Ie=null){this.root=ke,this.queryParams=fe,this.fragment=Ie}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return Dn.serialize(this)}}class nn{constructor(ke,fe){this.segments=ke,this.children=fe,this.parent=null,Object.values(fe).forEach(Ie=>Ie.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kn(this)}}class xt{constructor(ke,fe){this.path=ke,this.parameters=fe}get parameterMap(){return this._parameterMap??=vt(this.parameters),this._parameterMap}toString(){return Zt(this)}}function $t(G,ke){return G.length===ke.length&&G.every((fe,Ie)=>fe.path===ke[Ie].path)}let Pn=(()=>{class G{static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:()=>new Ri,providedIn:"root"})}return G})();class Ri{parse(ke){const fe=new gi(ke);return new on(fe.parseRootSegment(),fe.parseQueryParams(),fe.parseFragment())}serialize(ke){const fe=`/${xn(ke.root,!0)}`,Ie=function ct(G){const ke=Object.entries(G).map(([fe,Ie])=>Array.isArray(Ie)?Ie.map(ht=>`${pt(fe)}=${pt(ht)}`).join("&"):`${pt(fe)}=${pt(Ie)}`).filter(fe=>fe);return ke.length?`?${ke.join("&")}`:""}(ke.queryParams);return`${fe}${Ie}${"string"==typeof ke.fragment?`#${function Le(G){return encodeURI(G)}(ke.fragment)}`:""}`}}const Dn=new Ri;function Kn(G){return G.segments.map(ke=>Zt(ke)).join("/")}function xn(G,ke){if(!G.hasChildren())return Kn(G);if(ke){const fe=G.children[ft]?xn(G.children[ft],!1):"",Ie=[];return Object.entries(G.children).forEach(([ht,Lt])=>{ht!==ft&&Ie.push(`${ht}:${xn(Lt,!1)}`)}),Ie.length>0?`${fe}(${Ie.join("//")})`:fe}{const fe=function bn(G,ke){let fe=[];return Object.entries(G.children).forEach(([Ie,ht])=>{Ie===ft&&(fe=fe.concat(ke(ht,Ie)))}),Object.entries(G.children).forEach(([Ie,ht])=>{Ie!==ft&&(fe=fe.concat(ke(ht,Ie)))}),fe}(G,(Ie,ht)=>ht===ft?[xn(G.children[ft],!1)]:[`${ht}:${xn(Ie,!1)}`]);return 1===Object.keys(G.children).length&&null!=G.children[ft]?`${Kn(G)}/${fe[0]}`:`${Kn(G)}/(${fe.join("//")})`}}function Xn(G){return encodeURIComponent(G).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pt(G){return Xn(G).replace(/%3B/gi,";")}function We(G){return Xn(G).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $e(G){return decodeURIComponent(G)}function gt(G){return $e(G.replace(/\+/g,"%20"))}function Zt(G){return`${We(G.path)}${function _n(G){return Object.entries(G).map(([ke,fe])=>`;${We(ke)}=${We(fe)}`).join("")}(G.parameters)}`}const De=/^[^\/()?;#]+/;function st(G){const ke=G.match(De);return ke?ke[0]:""}const Fe=/^[^\/()?;=#]+/,Ft=/^[^=?&#]+/,Rn=/^[^&#]+/;class gi{constructor(ke){this.url=ke,this.remaining=ke}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const ke={};if(this.consumeOptional("?"))do{this.parseQueryParam(ke)}while(this.consumeOptional("&"));return ke}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ke=[];for(this.peekStartsWith("(")||ke.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ke.push(this.parseSegment());let fe={};this.peekStartsWith("/(")&&(this.capture("/"),fe=this.parseParens(!0));let Ie={};return this.peekStartsWith("(")&&(Ie=this.parseParens(!1)),(ke.length>0||Object.keys(fe).length>0)&&(Ie[ft]=new nn(ke,fe)),Ie}parseSegment(){const ke=st(this.remaining);if(""===ke&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(ke),new xt($e(ke),this.parseMatrixParams())}parseMatrixParams(){const ke={};for(;this.consumeOptional(";");)this.parseParam(ke);return ke}parseParam(ke){const fe=function bt(G){const ke=G.match(Fe);return ke?ke[0]:""}(this.remaining);if(!fe)return;this.capture(fe);let Ie="";if(this.consumeOptional("=")){const ht=st(this.remaining);ht&&(Ie=ht,this.capture(Ie))}ke[$e(fe)]=$e(Ie)}parseQueryParam(ke){const fe=function An(G){const ke=G.match(Ft);return ke?ke[0]:""}(this.remaining);if(!fe)return;this.capture(fe);let Ie="";if(this.consumeOptional("=")){const un=function ni(G){const ke=G.match(Rn);return ke?ke[0]:""}(this.remaining);un&&(Ie=un,this.capture(Ie))}const ht=gt(fe),Lt=gt(Ie);if(ke.hasOwnProperty(ht)){let un=ke[ht];Array.isArray(un)||(un=[un],ke[ht]=un),un.push(Lt)}else ke[ht]=Lt}parseParens(ke){const fe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ie=st(this.remaining),ht=this.remaining[Ie.length];if("/"!==ht&&")"!==ht&&";"!==ht)throw new d.wOt(4010,!1);let Lt;Ie.indexOf(":")>-1?(Lt=Ie.slice(0,Ie.indexOf(":")),this.capture(Lt),this.capture(":")):ke&&(Lt=ft);const un=this.parseChildren();fe[Lt]=1===Object.keys(un).length?un[ft]:new nn([],un),this.consumeOptional("//")}return fe}peekStartsWith(ke){return this.remaining.startsWith(ke)}consumeOptional(ke){return!!this.peekStartsWith(ke)&&(this.remaining=this.remaining.substring(ke.length),!0)}capture(ke){if(!this.consumeOptional(ke))throw new d.wOt(4011,!1)}}function Ui(G){return G.segments.length>0?new nn([],{[ft]:G}):G}function Ti(G){const ke={};for(const[Ie,ht]of Object.entries(G.children)){const Lt=Ti(ht);if(Ie===ft&&0===Lt.segments.length&&Lt.hasChildren())for(const[un,Gn]of Object.entries(Lt.children))ke[un]=Gn;else(Lt.segments.length>0||Lt.hasChildren())&&(ke[Ie]=Lt)}return function Hi(G){if(1===G.numberOfChildren&&G.children[ft]){const ke=G.children[ft];return new nn(G.segments.concat(ke.segments),ke.children)}return G}(new nn(G.segments,ke))}function Zn(G){return G instanceof on}function lr(G){let ke;const ht=Ui(function fe(Lt){const un={};for(const Mn of Lt.children){const di=fe(Mn);un[Mn.outlet]=di}const Gn=new nn(Lt.url,un);return Lt===G&&(ke=Gn),Gn}(G.root));return ke??ht}function ir(G,ke,fe,Ie){let ht=G;for(;ht.parent;)ht=ht.parent;if(0===ke.length)return vs(ht,ht,ht,fe,Ie);const Lt=function Ss(G){if("string"==typeof G[0]&&1===G.length&&"/"===G[0])return new bs(!0,0,G);let ke=0,fe=!1;const Ie=G.reduce((ht,Lt,un)=>{if("object"==typeof Lt&&null!=Lt){if(Lt.outlets){const Gn={};return Object.entries(Lt.outlets).forEach(([Mn,di])=>{Gn[Mn]="string"==typeof di?di.split("/"):di}),[...ht,{outlets:Gn}]}if(Lt.segmentPath)return[...ht,Lt.segmentPath]}return"string"!=typeof Lt?[...ht,Lt]:0===un?(Lt.split("/").forEach((Gn,Mn)=>{0==Mn&&"."===Gn||(0==Mn&&""===Gn?fe=!0:".."===Gn?ke++:""!=Gn&&ht.push(Gn))}),ht):[...ht,Lt]},[]);return new bs(fe,ke,Ie)}(ke);if(Lt.toRoot())return vs(ht,ht,new nn([],{}),fe,Ie);const un=function Yi(G,ke,fe){if(G.isAbsolute)return new ss(ke,!0,0);if(!fe)return new ss(ke,!1,NaN);if(null===fe.parent)return new ss(fe,!0,0);const Ie=Sr(G.commands[0])?0:1;return function rr(G,ke,fe){let Ie=G,ht=ke,Lt=fe;for(;Lt>ht;){if(Lt-=ht,Ie=Ie.parent,!Ie)throw new d.wOt(4005,!1);ht=Ie.segments.length}return new ss(Ie,!1,ht-Lt)}(fe,fe.segments.length-1+Ie,G.numberOfDoubleDots)}(Lt,ht,G),Gn=un.processChildren?si(un.segmentGroup,un.index,Lt.commands):zi(un.segmentGroup,un.index,Lt.commands);return vs(ht,un.segmentGroup,Gn,fe,Ie)}function Sr(G){return"object"==typeof G&&null!=G&&!G.outlets&&!G.segmentPath}function Hr(G){return"object"==typeof G&&null!=G&&G.outlets}function vs(G,ke,fe,Ie,ht){let un,Lt={};Ie&&Object.entries(Ie).forEach(([Mn,di])=>{Lt[Mn]=Array.isArray(di)?di.map(tr=>`${tr}`):`${di}`}),un=G===ke?fe:Vr(G,ke,fe);const Gn=Ui(Ti(un));return new on(Gn,Lt,ht)}function Vr(G,ke,fe){const Ie={};return Object.entries(G.children).forEach(([ht,Lt])=>{Ie[ht]=Lt===ke?fe:Vr(Lt,ke,fe)}),new nn(G.segments,Ie)}class bs{constructor(ke,fe,Ie){if(this.isAbsolute=ke,this.numberOfDoubleDots=fe,this.commands=Ie,ke&&Ie.length>0&&Sr(Ie[0]))throw new d.wOt(4003,!1);const ht=Ie.find(Hr);if(ht&&ht!==wt(Ie))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ss{constructor(ke,fe,Ie){this.segmentGroup=ke,this.processChildren=fe,this.index=Ie}}function zi(G,ke,fe){if(G??=new nn([],{}),0===G.segments.length&&G.hasChildren())return si(G,ke,fe);const Ie=function Ge(G,ke,fe){let Ie=0,ht=ke;const Lt={match:!1,pathIndex:0,commandIndex:0};for(;ht<G.segments.length;){if(Ie>=fe.length)return Lt;const un=G.segments[ht],Gn=fe[Ie];if(Hr(Gn))break;const Mn=`${Gn}`,di=Ie<fe.length-1?fe[Ie+1]:null;if(ht>0&&void 0===Mn)break;if(Mn&&di&&"object"==typeof di&&void 0===di.outlets){if(!He(Mn,di,un))return Lt;Ie+=2}else{if(!He(Mn,{},un))return Lt;Ie++}ht++}return{match:!0,pathIndex:ht,commandIndex:Ie}}(G,ke,fe),ht=fe.slice(Ie.commandIndex);if(Ie.match&&Ie.pathIndex<G.segments.length){const Lt=new nn(G.segments.slice(0,Ie.pathIndex),{});return Lt.children[ft]=new nn(G.segments.slice(Ie.pathIndex),G.children),si(Lt,0,ht)}return Ie.match&&0===ht.length?new nn(G.segments,{}):Ie.match&&!G.hasChildren()?Mt(G,ke,fe):Ie.match?si(G,0,ht):Mt(G,ke,fe)}function si(G,ke,fe){if(0===fe.length)return new nn(G.segments,{});{const Ie=function ar(G){return Hr(G[0])?G[0].outlets:{[ft]:G}}(fe),ht={};if(Object.keys(Ie).some(Lt=>Lt!==ft)&&G.children[ft]&&1===G.numberOfChildren&&0===G.children[ft].segments.length){const Lt=si(G.children[ft],ke,fe);return new nn(G.segments,Lt.children)}return Object.entries(Ie).forEach(([Lt,un])=>{"string"==typeof un&&(un=[un]),null!==un&&(ht[Lt]=zi(G.children[Lt],ke,un))}),Object.entries(G.children).forEach(([Lt,un])=>{void 0===Ie[Lt]&&(ht[Lt]=un)}),new nn(G.segments,ht)}}function Mt(G,ke,fe){const Ie=G.segments.slice(0,ke);let ht=0;for(;ht<fe.length;){const Lt=fe[ht];if(Hr(Lt)){const Mn=ne(Lt.outlets);return new nn(Ie,Mn)}if(0===ht&&Sr(fe[0])){Ie.push(new xt(G.segments[ke].path,et(fe[0]))),ht++;continue}const un=Hr(Lt)?Lt.outlets[ft]:`${Lt}`,Gn=ht<fe.length-1?fe[ht+1]:null;un&&Gn&&Sr(Gn)?(Ie.push(new xt(un,et(Gn))),ht+=2):(Ie.push(new xt(un,{})),ht++)}return new nn(Ie,{})}function ne(G){const ke={};return Object.entries(G).forEach(([fe,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(ke[fe]=Mt(new nn([],{}),0,Ie))}),ke}function et(G){const ke={};return Object.entries(G).forEach(([fe,Ie])=>ke[fe]=`${Ie}`),ke}function He(G,ke,fe){return G==fe.path&&ot(ke,fe.parameters)}const kt="imperative";var Bt=function(G){return G[G.NavigationStart=0]="NavigationStart",G[G.NavigationEnd=1]="NavigationEnd",G[G.NavigationCancel=2]="NavigationCancel",G[G.NavigationError=3]="NavigationError",G[G.RoutesRecognized=4]="RoutesRecognized",G[G.ResolveStart=5]="ResolveStart",G[G.ResolveEnd=6]="ResolveEnd",G[G.GuardsCheckStart=7]="GuardsCheckStart",G[G.GuardsCheckEnd=8]="GuardsCheckEnd",G[G.RouteConfigLoadStart=9]="RouteConfigLoadStart",G[G.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",G[G.ChildActivationStart=11]="ChildActivationStart",G[G.ChildActivationEnd=12]="ChildActivationEnd",G[G.ActivationStart=13]="ActivationStart",G[G.ActivationEnd=14]="ActivationEnd",G[G.Scroll=15]="Scroll",G[G.NavigationSkipped=16]="NavigationSkipped",G}(Bt||{});class Jn{constructor(ke,fe){this.id=ke,this.url=fe}}class Pi extends Jn{constructor(ke,fe,Ie="imperative",ht=null){super(ke,fe),this.type=Bt.NavigationStart,this.navigationTrigger=Ie,this.restoredState=ht}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sr extends Jn{constructor(ke,fe,Ie){super(ke,fe),this.urlAfterRedirects=Ie,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Dr=function(G){return G[G.Redirect=0]="Redirect",G[G.SupersededByNewNavigation=1]="SupersededByNewNavigation",G[G.NoDataFromResolver=2]="NoDataFromResolver",G[G.GuardRejected=3]="GuardRejected",G}(Dr||{}),Fr=function(G){return G[G.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",G[G.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",G}(Fr||{});class Zr extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.reason=Ie,this.code=ht,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.reason=Ie,this.code=ht,this.type=Bt.NavigationSkipped}}class Os extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.error=Ie,this.target=ht,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Er extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.urlAfterRedirects=Ie,this.state=ht,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.urlAfterRedirects=Ie,this.state=ht,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds extends Jn{constructor(ke,fe,Ie,ht,Lt){super(ke,fe),this.urlAfterRedirects=Ie,this.state=ht,this.shouldActivate=Lt,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ia extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.urlAfterRedirects=Ie,this.state=ht,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Jn{constructor(ke,fe,Ie,ht){super(ke,fe),this.urlAfterRedirects=Ie,this.state=ht,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mo{constructor(ke){this.route=ke,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yo{constructor(ke){this.route=ke,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fo{constructor(ke){this.snapshot=ke,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Al{constructor(ke){this.snapshot=ke,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ya{constructor(ke){this.snapshot=ke,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qa{constructor(ke){this.snapshot=ke,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ya{constructor(ke,fe,Ie){this.routerEvent=ke,this.position=fe,this.anchor=Ie,this.type=Bt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ra{}class bl{constructor(ke,fe){this.url=ke,this.navigationBehaviorOptions=fe}}function Gs(G){return G.outlet||ft}function sa(G){if(!G)return null;if(G.routeConfig?._injector)return G.routeConfig._injector;for(let ke=G.parent;ke;ke=ke.parent){const fe=ke.routeConfig;if(fe?._loadedInjector)return fe._loadedInjector;if(fe?._injector)return fe._injector}return null}class Ks{get injector(){return sa(this.route?.snapshot)??this.rootInjector}set injector(ke){}constructor(ke){this.rootInjector=ke,this.outlet=null,this.route=null,this.children=new lo(this.rootInjector),this.attachRef=null}}let lo=(()=>{class G{constructor(fe){this.rootInjector=fe,this.contexts=new Map}onChildOutletCreated(fe,Ie){const ht=this.getOrCreateContext(fe);ht.outlet=Ie,this.contexts.set(fe,ht)}onChildOutletDestroyed(fe){const Ie=this.getContext(fe);Ie&&(Ie.outlet=null,Ie.attachRef=null)}onOutletDeactivated(){const fe=this.contexts;return this.contexts=new Map,fe}onOutletReAttached(fe){this.contexts=fe}getOrCreateContext(fe){let Ie=this.getContext(fe);return Ie||(Ie=new Ks(this.rootInjector),this.contexts.set(fe,Ie)),Ie}getContext(fe){return this.contexts.get(fe)||null}static#e=this.\u0275fac=function(Ie){return new(Ie||G)(d.KVO(d.uvJ))};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();class ba{constructor(ke){this._root=ke}get root(){return this._root.value}parent(ke){const fe=this.pathFromRoot(ke);return fe.length>1?fe[fe.length-2]:null}children(ke){const fe=Lo(ke,this._root);return fe?fe.children.map(Ie=>Ie.value):[]}firstChild(ke){const fe=Lo(ke,this._root);return fe&&fe.children.length>0?fe.children[0].value:null}siblings(ke){const fe=ol(ke,this._root);return fe.length<2?[]:fe[fe.length-2].children.map(ht=>ht.value).filter(ht=>ht!==ke)}pathFromRoot(ke){return ol(ke,this._root).map(fe=>fe.value)}}function Lo(G,ke){if(G===ke.value)return ke;for(const fe of ke.children){const Ie=Lo(G,fe);if(Ie)return Ie}return null}function ol(G,ke){if(G===ke.value)return[ke];for(const fe of ke.children){const Ie=ol(G,fe);if(Ie.length)return Ie.unshift(ke),Ie}return[]}class wo{constructor(ke,fe){this.value=ke,this.children=fe}toString(){return`TreeNode(${this.value})`}}function Eo(G){const ke={};return G&&G.children.forEach(fe=>ke[fe.value.outlet]=fe),ke}class Ba extends ba{constructor(ke,fe){super(ke),this.snapshot=fe,go(this,ke)}toString(){return this.snapshot.toString()}}function qo(G){const ke=function Ol(G){const Lt=new ws([],{},{},"",{},ft,G,null,{});return new oa("",new wo(Lt,[]))}(G),fe=new C.t([new xt("",{})]),Ie=new C.t({}),ht=new C.t({}),Lt=new C.t({}),un=new C.t(""),Gn=new wa(fe,Ie,Lt,un,ht,ft,G,ke.root);return Gn.snapshot=ke.root,new Ba(new wo(Gn,[]),ke)}class wa{constructor(ke,fe,Ie,ht,Lt,un,Gn,Mn){this.urlSubject=ke,this.paramsSubject=fe,this.queryParamsSubject=Ie,this.fragmentSubject=ht,this.dataSubject=Lt,this.outlet=un,this.component=Gn,this._futureSnapshot=Mn,this.title=this.dataSubject?.pipe((0,F.T)(di=>di[Oe]))??(0,D.of)(void 0),this.url=ke,this.params=fe,this.queryParams=Ie,this.fragment=ht,this.data=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,F.T)(ke=>vt(ke))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,F.T)(ke=>vt(ke))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kr(G,ke,fe="emptyOnly"){let Ie;const{routeConfig:ht}=G;return Ie=null===ke||"always"!==fe&&""!==ht?.path&&(ke.component||ke.routeConfig?.loadComponent)?{params:{...G.params},data:{...G.data},resolve:{...G.data,...G._resolvedData??{}}}:{params:{...ke.params,...G.params},data:{...ke.data,...G.data},resolve:{...G.data,...ke.data,...ht?.data,...G._resolvedData}},ht&&Oi(ht)&&(Ie.resolve[Oe]=ht.title),Ie}class ws{get title(){return this.data?.[Oe]}constructor(ke,fe,Ie,ht,Lt,un,Gn,Mn,di){this.url=ke,this.params=fe,this.queryParams=Ie,this.fragment=ht,this.data=Lt,this.outlet=un,this.component=Gn,this.routeConfig=Mn,this._resolve=di}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ie=>Ie.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oa extends ba{constructor(ke,fe){super(fe),this.url=ke,go(this,fe)}toString(){return Qa(this._root)}}function go(G,ke){ke.value._routerState=G,ke.children.forEach(fe=>go(G,fe))}function Qa(G){const ke=G.children.length>0?` { ${G.children.map(Qa).join(", ")} } `:"";return`${G.value}${ke}`}function Za(G){if(G.snapshot){const ke=G.snapshot,fe=G._futureSnapshot;G.snapshot=fe,ot(ke.queryParams,fe.queryParams)||G.queryParamsSubject.next(fe.queryParams),ke.fragment!==fe.fragment&&G.fragmentSubject.next(fe.fragment),ot(ke.params,fe.params)||G.paramsSubject.next(fe.params),function at(G,ke){if(G.length!==ke.length)return!1;for(let fe=0;fe<G.length;++fe)if(!ot(G[fe],ke[fe]))return!1;return!0}(ke.url,fe.url)||G.urlSubject.next(fe.url),ot(ke.data,fe.data)||G.dataSubject.next(fe.data)}else G.snapshot=G._futureSnapshot,G.dataSubject.next(G._futureSnapshot.data)}function al(G,ke){const fe=ot(G.params,ke.params)&&function zt(G,ke){return $t(G,ke)&&G.every((fe,Ie)=>ot(fe.parameters,ke[Ie].parameters))}(G.url,ke.url);return fe&&!(!G.parent!=!ke.parent)&&(!G.parent||al(G.parent,ke.parent))}function Oi(G){return"string"==typeof G.title||null===G.title}let Oo=(()=>{class G{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(lo),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)($o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(fe){if(fe.name){const{firstChange:Ie,previousValue:ht}=fe.name;if(Ie)return;this.isTrackedInParentContexts(ht)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ht)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(fe){return this.parentContexts.getContext(fe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const fe=this.parentContexts.getContext(this.name);fe?.route&&(fe.attachRef?this.attach(fe.attachRef,fe.route):this.activateWith(fe.route,fe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const fe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(fe.instance),fe}attach(fe,Ie){this.activated=fe,this._activatedRoute=Ie,this.location.insert(fe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(fe.instance)}deactivate(){if(this.activated){const fe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(fe)}}activateWith(fe,Ie){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=fe;const ht=this.location,un=fe.snapshot.component,Gn=this.parentContexts.getOrCreateContext(this.name).children,Mn=new _o(fe,Gn,ht.injector);this.activated=ht.createComponent(un,{index:ht.length,injector:Mn,environmentInjector:Ie}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275dir=d.FsC({type:G,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}return G})();class _o{__ngOutletInjector(ke){return new _o(this.route,this.childContexts,ke)}constructor(ke,fe,Ie){this.route=ke,this.childContexts=fe,this.parent=Ie}get(ke,fe){return ke===wa?this.route:ke===lo?this.childContexts:this.parent.get(ke,fe)}}const $o=new d.nKC("");let Ql=(()=>{class G{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(fe){this.unsubscribeFromRouteData(fe),this.subscribeToRouteData(fe)}unsubscribeFromRouteData(fe){this.outletDataSubscriptions.get(fe)?.unsubscribe(),this.outletDataSubscriptions.delete(fe)}subscribeToRouteData(fe){const{activatedRoute:Ie}=fe,ht=(0,S.zV)([Ie.queryParams,Ie.params,Ie.data]).pipe((0,J.n)(([Lt,un,Gn],Mn)=>(Gn={...Lt,...un,...Gn},0===Mn?(0,D.of)(Gn):Promise.resolve(Gn)))).subscribe(Lt=>{if(!fe.isActivated||!fe.activatedComponentRef||fe.activatedRoute!==Ie||null===Ie.component)return void this.unsubscribeFromRouteData(fe);const un=(0,d.HJs)(Ie.component);if(un)for(const{templateName:Gn}of un.inputs)fe.activatedComponentRef.setInput(Gn,Lt[Gn]);else this.unsubscribeFromRouteData(fe)});this.outletDataSubscriptions.set(fe,ht)}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac})}return G})();function Qs(G,ke,fe){if(fe&&G.shouldReuseRoute(ke.value,fe.value.snapshot)){const Ie=fe.value;Ie._futureSnapshot=ke.value;const ht=function Qo(G,ke,fe){return ke.children.map(Ie=>{for(const ht of fe.children)if(G.shouldReuseRoute(Ie.value,ht.value.snapshot))return Qs(G,Ie,ht);return Qs(G,Ie)})}(G,ke,fe);return new wo(Ie,ht)}{if(G.shouldAttach(ke.value)){const Lt=G.retrieve(ke.value);if(null!==Lt){const un=Lt.route;return un.value._futureSnapshot=ke.value,un.children=ke.children.map(Gn=>Qs(G,Gn)),un}}const Ie=function aa(G){return new wa(new C.t(G.url),new C.t(G.params),new C.t(G.queryParams),new C.t(G.fragment),new C.t(G.data),G.outlet,G.component,G)}(ke.value),ht=ke.children.map(Lt=>Qs(G,Lt));return new wo(Ie,ht)}}class Va{constructor(ke,fe){this.redirectTo=ke,this.navigationBehaviorOptions=fe}}const Ea="ngNavigationCancelingError";function Bo(G,ke){const{redirectTo:fe,navigationBehaviorOptions:Ie}=Zn(ke)?{redirectTo:ke,navigationBehaviorOptions:void 0}:ke,ht=Ua(!1,Dr.Redirect);return ht.url=fe,ht.navigationBehaviorOptions=Ie,ht}function Ua(G,ke){const fe=new Error(`NavigationCancelingError: ${G||""}`);return fe[Ea]=!0,fe.cancellationCode=ke,fe}function wl(G){return!!G&&G[Ea]}class la{constructor(ke,fe,Ie,ht,Lt){this.routeReuseStrategy=ke,this.futureState=fe,this.currState=Ie,this.forwardEvent=ht,this.inputBindingEnabled=Lt}activate(ke){const fe=this.futureState._root,Ie=this.currState?this.currState._root:null;this.deactivateChildRoutes(fe,Ie,ke),Za(this.futureState.root),this.activateChildRoutes(fe,Ie,ke)}deactivateChildRoutes(ke,fe,Ie){const ht=Eo(fe);ke.children.forEach(Lt=>{const un=Lt.value.outlet;this.deactivateRoutes(Lt,ht[un],Ie),delete ht[un]}),Object.values(ht).forEach(Lt=>{this.deactivateRouteAndItsChildren(Lt,Ie)})}deactivateRoutes(ke,fe,Ie){const ht=ke.value,Lt=fe?fe.value:null;if(ht===Lt)if(ht.component){const un=Ie.getContext(ht.outlet);un&&this.deactivateChildRoutes(ke,fe,un.children)}else this.deactivateChildRoutes(ke,fe,Ie);else Lt&&this.deactivateRouteAndItsChildren(fe,Ie)}deactivateRouteAndItsChildren(ke,fe){ke.value.component&&this.routeReuseStrategy.shouldDetach(ke.value.snapshot)?this.detachAndStoreRouteSubtree(ke,fe):this.deactivateRouteAndOutlet(ke,fe)}detachAndStoreRouteSubtree(ke,fe){const Ie=fe.getContext(ke.value.outlet),ht=Ie&&ke.value.component?Ie.children:fe,Lt=Eo(ke);for(const un of Object.values(Lt))this.deactivateRouteAndItsChildren(un,ht);if(Ie&&Ie.outlet){const un=Ie.outlet.detach(),Gn=Ie.children.onOutletDeactivated();this.routeReuseStrategy.store(ke.value.snapshot,{componentRef:un,route:ke,contexts:Gn})}}deactivateRouteAndOutlet(ke,fe){const Ie=fe.getContext(ke.value.outlet),ht=Ie&&ke.value.component?Ie.children:fe,Lt=Eo(ke);for(const un of Object.values(Lt))this.deactivateRouteAndItsChildren(un,ht);Ie&&(Ie.outlet&&(Ie.outlet.deactivate(),Ie.children.onOutletDeactivated()),Ie.attachRef=null,Ie.route=null)}activateChildRoutes(ke,fe,Ie){const ht=Eo(fe);ke.children.forEach(Lt=>{this.activateRoutes(Lt,ht[Lt.value.outlet],Ie),this.forwardEvent(new qa(Lt.value.snapshot))}),ke.children.length&&this.forwardEvent(new Al(ke.value.snapshot))}activateRoutes(ke,fe,Ie){const ht=ke.value,Lt=fe?fe.value:null;if(Za(ht),ht===Lt)if(ht.component){const un=Ie.getOrCreateContext(ht.outlet);this.activateChildRoutes(ke,fe,un.children)}else this.activateChildRoutes(ke,fe,Ie);else if(ht.component){const un=Ie.getOrCreateContext(ht.outlet);if(this.routeReuseStrategy.shouldAttach(ht.snapshot)){const Gn=this.routeReuseStrategy.retrieve(ht.snapshot);this.routeReuseStrategy.store(ht.snapshot,null),un.children.onOutletReAttached(Gn.contexts),un.attachRef=Gn.componentRef,un.route=Gn.route.value,un.outlet&&un.outlet.attach(Gn.componentRef,Gn.route.value),Za(Gn.route.value),this.activateChildRoutes(ke,null,un.children)}else un.attachRef=null,un.route=ht,un.outlet&&un.outlet.activateWith(ht,un.injector),this.activateChildRoutes(ke,null,un.children)}else this.activateChildRoutes(ke,null,Ie)}}class es{constructor(ke){this.path=ke,this.route=this.path[this.path.length-1]}}class Ja{constructor(ke,fe){this.component=ke,this.route=fe}}function co(G,ke,fe){const Ie=G._root;return Zo(Ie,ke?ke._root:null,fe,[Ie.value])}function Ca(G,ke){const fe=Symbol(),Ie=ke.get(G,fe);return Ie===fe?"function"!=typeof G||(0,d.LfX)(G)?ke.get(G):G:Ie}function Zo(G,ke,fe,Ie,ht={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=Eo(ke);return G.children.forEach(un=>{(function ul(G,ke,fe,Ie,ht={canDeactivateChecks:[],canActivateChecks:[]}){const Lt=G.value,un=ke?ke.value:null,Gn=fe?fe.getContext(G.value.outlet):null;if(un&&Lt.routeConfig===un.routeConfig){const Mn=function hr(G,ke,fe){if("function"==typeof fe)return fe(G,ke);switch(fe){case"pathParamsChange":return!$t(G.url,ke.url);case"pathParamsOrQueryParamsChange":return!$t(G.url,ke.url)||!ot(G.queryParams,ke.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!al(G,ke)||!ot(G.queryParams,ke.queryParams);default:return!al(G,ke)}}(un,Lt,Lt.routeConfig.runGuardsAndResolvers);Mn?ht.canActivateChecks.push(new es(Ie)):(Lt.data=un.data,Lt._resolvedData=un._resolvedData),Zo(G,ke,Lt.component?Gn?Gn.children:null:fe,Ie,ht),Mn&&Gn&&Gn.outlet&&Gn.outlet.isActivated&&ht.canDeactivateChecks.push(new Ja(Gn.outlet.component,un))}else un&&ks(ke,Gn,ht),ht.canActivateChecks.push(new es(Ie)),Zo(G,null,Lt.component?Gn?Gn.children:null:fe,Ie,ht)})(un,Lt[un.value.outlet],fe,Ie.concat([un.value]),ht),delete Lt[un.value.outlet]}),Object.entries(Lt).forEach(([un,Gn])=>ks(Gn,fe.getContext(un),ht)),ht}function ks(G,ke,fe){const Ie=Eo(G),ht=G.value;Object.entries(Ie).forEach(([Lt,un])=>{ks(un,ht.component?ke?ke.children.getContext(Lt):null:ke,fe)}),fe.canDeactivateChecks.push(new Ja(ht.component&&ke&&ke.outlet&&ke.outlet.isActivated?ke.outlet.component:null,ht))}function uo(G){return"function"==typeof G}function le(G){return G instanceof I.G||"EmptyError"===G?.name}const ie=Symbol("INITIAL_VALUE");function ze(){return(0,J.n)(G=>(0,S.zV)(G.map(ke=>ke.pipe((0,ue.s)(1),(0,ce.Z)(ie)))).pipe((0,F.T)(ke=>{for(const fe of ke)if(!0!==fe){if(fe===ie)return ie;if(!1===fe||Ct(fe))return fe}return!0}),(0,re.p)(ke=>ke!==ie),(0,ue.s)(1)))}function Ct(G){return Zn(G)||G instanceof Va}function Cr(G){return(0,x.F)((0,se.M)(ke=>{if("boolean"!=typeof ke)throw Bo(0,ke)}),(0,F.T)(ke=>!0===ke))}class Ns{constructor(ke){this.segmentGroup=ke||null}}class Xs extends Error{constructor(ke){super(),this.urlTree=ke}}function Sa(G){return(0,$.$)(new Ns(G))}class Kt{constructor(ke,fe){this.urlSerializer=ke,this.urlTree=fe}lineralizeSegments(ke,fe){let Ie=[],ht=fe.root;for(;;){if(Ie=Ie.concat(ht.segments),0===ht.numberOfChildren)return(0,D.of)(Ie);if(ht.numberOfChildren>1||!ht.children[ft])return(0,$.$)(new d.wOt(4e3,!1));ht=ht.children[ft]}}applyRedirectCommands(ke,fe,Ie,ht,Lt){if("string"!=typeof fe){const Gn=fe,{queryParams:Mn,fragment:di,routeConfig:tr,url:yr,outlet:Rr,params:No,data:ml,title:Nl}=ht,Ul=(0,d.N4e)(Lt,()=>Gn({params:No,data:ml,queryParams:Mn,fragment:di,routeConfig:tr,url:yr,outlet:Rr,title:Nl}));if(Ul instanceof on)throw new Xs(Ul);fe=Ul}const un=this.applyRedirectCreateUrlTree(fe,this.urlSerializer.parse(fe),ke,Ie);if("/"===fe[0])throw new Xs(un);return un}applyRedirectCreateUrlTree(ke,fe,Ie,ht){const Lt=this.createSegmentGroup(ke,fe.root,Ie,ht);return new on(Lt,this.createQueryParams(fe.queryParams,this.urlTree.queryParams),fe.fragment)}createQueryParams(ke,fe){const Ie={};return Object.entries(ke).forEach(([ht,Lt])=>{if("string"==typeof Lt&&":"===Lt[0]){const Gn=Lt.substring(1);Ie[ht]=fe[Gn]}else Ie[ht]=Lt}),Ie}createSegmentGroup(ke,fe,Ie,ht){const Lt=this.createSegments(ke,fe.segments,Ie,ht);let un={};return Object.entries(fe.children).forEach(([Gn,Mn])=>{un[Gn]=this.createSegmentGroup(ke,Mn,Ie,ht)}),new nn(Lt,un)}createSegments(ke,fe,Ie,ht){return fe.map(Lt=>":"===Lt.path[0]?this.findPosParam(ke,Lt,ht):this.findOrReturn(Lt,Ie))}findPosParam(ke,fe,Ie){const ht=Ie[fe.path.substring(1)];if(!ht)throw new d.wOt(4001,!1);return ht}findOrReturn(ke,fe){let Ie=0;for(const ht of fe){if(ht.path===ke.path)return fe.splice(Ie),ht;Ie++}return ke}}const cn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tn(G,ke,fe,Ie,ht){const Lt=kn(G,ke,fe);return Lt.matched?(Ie=function Fa(G,ke){return G.providers&&!G._injector&&(G._injector=(0,d.Ol2)(G.providers,ke,`Route: ${G.path}`)),G._injector??ke}(ke,Ie),function zs(G,ke,fe,Ie){const ht=ke.canMatch;if(!ht||0===ht.length)return(0,D.of)(!0);const Lt=ht.map(un=>{const Gn=Ca(un,G);return ut(function H(G){return G&&uo(G.canMatch)}(Gn)?Gn.canMatch(ke,fe):(0,d.N4e)(G,()=>Gn(ke,fe)))});return(0,D.of)(Lt).pipe(ze(),Cr())}(Ie,ke,fe).pipe((0,F.T)(un=>!0===un?Lt:{...cn}))):(0,D.of)(Lt)}function kn(G,ke,fe){if("**"===ke.path)return function ln(G){return{matched:!0,parameters:G.length>0?wt(G).parameters:{},consumedSegments:G,remainingSegments:[],positionalParamSegments:{}}}(fe);if(""===ke.path)return"full"===ke.pathMatch&&(G.hasChildren()||fe.length>0)?{...cn}:{matched:!0,consumedSegments:[],remainingSegments:fe,parameters:{},positionalParamSegments:{}};const ht=(ke.matcher||It)(fe,G,ke);if(!ht)return{...cn};const Lt={};Object.entries(ht.posParams??{}).forEach(([Gn,Mn])=>{Lt[Gn]=Mn.path});const un=ht.consumed.length>0?{...Lt,...ht.consumed[ht.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:ht.consumed,remainingSegments:fe.slice(ht.consumed.length),parameters:un,positionalParamSegments:ht.posParams??{}}}function Ln(G,ke,fe,Ie){return fe.length>0&&function mi(G,ke,fe){return fe.some(Ie=>Ii(G,ke,Ie)&&Gs(Ie)!==ft)}(G,fe,Ie)?{segmentGroup:new nn(ke,jn(Ie,new nn(fe,G.children))),slicedSegments:[]}:0===fe.length&&function ti(G,ke,fe){return fe.some(Ie=>Ii(G,ke,Ie))}(G,fe,Ie)?{segmentGroup:new nn(G.segments,Qn(G,fe,Ie,G.children)),slicedSegments:fe}:{segmentGroup:new nn(G.segments,G.children),slicedSegments:fe}}function Qn(G,ke,fe,Ie){const ht={};for(const Lt of fe)if(Ii(G,ke,Lt)&&!Ie[Gs(Lt)]){const un=new nn([],{});ht[Gs(Lt)]=un}return{...Ie,...ht}}function jn(G,ke){const fe={};fe[ft]=ke;for(const Ie of G)if(""===Ie.path&&Gs(Ie)!==ft){const ht=new nn([],{});fe[Gs(Ie)]=ht}return fe}function Ii(G,ke,fe){return(!(G.hasChildren()||ke.length>0)||"full"!==fe.pathMatch)&&""===fe.path}class os{}class ns{constructor(ke,fe,Ie,ht,Lt,un,Gn){this.injector=ke,this.configLoader=fe,this.rootComponentType=Ie,this.config=ht,this.urlTree=Lt,this.paramsInheritanceStrategy=un,this.urlSerializer=Gn,this.applyRedirects=new Kt(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ke){return new d.wOt(4002,`'${ke.segmentGroup}'`)}recognize(){const ke=Ln(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ke).pipe((0,F.T)(({children:fe,rootSnapshot:Ie})=>{const ht=new wo(Ie,fe),Lt=new oa("",ht),un=function Gi(G,ke,fe=null,Ie=null){return ir(lr(G),ke,fe,Ie)}(Ie,[],this.urlTree.queryParams,this.urlTree.fragment);return un.queryParams=this.urlTree.queryParams,Lt.url=this.urlSerializer.serialize(un),{state:Lt,tree:un}}))}match(ke){const fe=new ws([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ke,ft,fe).pipe((0,F.T)(Ie=>({children:Ie,rootSnapshot:fe})),(0,W.W)(Ie=>{if(Ie instanceof Xs)return this.urlTree=Ie.urlTree,this.match(Ie.urlTree.root);throw Ie instanceof Ns?this.noMatchError(Ie):Ie}))}processSegmentGroup(ke,fe,Ie,ht,Lt){return 0===Ie.segments.length&&Ie.hasChildren()?this.processChildren(ke,fe,Ie,Lt):this.processSegment(ke,fe,Ie,Ie.segments,ht,!0,Lt).pipe((0,F.T)(un=>un instanceof wo?[un]:[]))}processChildren(ke,fe,Ie,ht){const Lt=[];for(const un of Object.keys(Ie.children))"primary"===un?Lt.unshift(un):Lt.push(un);return(0,w.H)(Lt).pipe((0,X.H)(un=>{const Gn=Ie.children[un],Mn=function ql(G,ke){const fe=G.filter(Ie=>Gs(Ie)===ke);return fe.push(...G.filter(Ie=>Gs(Ie)!==ke)),fe}(fe,un);return this.processSegmentGroup(ke,Mn,Gn,un,ht)}),function q(G,ke){let fe=!1;return arguments.length>=2&&(fe=!0),function(ht){return ht.lift(new Ae(G,ke,fe))}}((un,Gn)=>(un.push(...Gn),un)),(0,yt.U)(null),function Ne(G,ke){const fe=arguments.length>=2;return Ie=>Ie.pipe(G?(0,re.p)((ht,Lt)=>G(ht,Lt,Ie)):ye.D,je(1),fe?(0,yt.U)(ke):(0,ge.v)(()=>new I.G))}(),(0,be.ZZ)(un=>{if(null===un)return Sa(Ie);const Gn=Jo(un);return function Zl(G){G.sort((ke,fe)=>ke.value.outlet===ft?-1:fe.value.outlet===ft?1:ke.value.outlet.localeCompare(fe.value.outlet))}(Gn),(0,D.of)(Gn)}))}processSegment(ke,fe,Ie,ht,Lt,un,Gn){return(0,w.H)(fe).pipe((0,X.H)(Mn=>this.processSegmentAgainstRoute(Mn._injector??ke,fe,Mn,Ie,ht,Lt,un,Gn).pipe((0,W.W)(di=>{if(di instanceof Ns)return(0,D.of)(null);throw di}))),(0,j.$)(Mn=>!!Mn),(0,W.W)(Mn=>{if(le(Mn))return function $r(G,ke,fe){return 0===ke.length&&!G.children[fe]}(Ie,ht,Lt)?(0,D.of)(new os):Sa(Ie);throw Mn}))}processSegmentAgainstRoute(ke,fe,Ie,ht,Lt,un,Gn,Mn){return function Ji(G,ke,fe,Ie){return!!(Gs(G)===Ie||Ie!==ft&&Ii(ke,fe,G))&&kn(ke,G,fe).matched}(Ie,ht,Lt,un)?void 0===Ie.redirectTo?this.matchSegmentAgainstRoute(ke,ht,Ie,Lt,un,Mn):this.allowRedirects&&Gn?this.expandSegmentAgainstRouteUsingRedirect(ke,ht,fe,Ie,Lt,un,Mn):Sa(ht):Sa(ht)}expandSegmentAgainstRouteUsingRedirect(ke,fe,Ie,ht,Lt,un,Gn){const{matched:Mn,parameters:di,consumedSegments:tr,positionalParamSegments:yr,remainingSegments:Rr}=kn(fe,ht,Lt);if(!Mn)return Sa(fe);"string"==typeof ht.redirectTo&&"/"===ht.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const No=new ws(Lt,di,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,El(ht),Gs(ht),ht.component??ht._loadedComponent??null,ht,ua(ht)),ml=kr(No,Gn,this.paramsInheritanceStrategy);No.params=Object.freeze(ml.params),No.data=Object.freeze(ml.data);const Nl=this.applyRedirects.applyRedirectCommands(tr,ht.redirectTo,yr,No,ke);return this.applyRedirects.lineralizeSegments(ht,Nl).pipe((0,be.ZZ)(Ul=>this.processSegment(ke,Ie,fe,Ul.concat(Rr),un,!1,Gn)))}matchSegmentAgainstRoute(ke,fe,Ie,ht,Lt,un){const Gn=tn(fe,Ie,ht,ke);return"**"===Ie.path&&(fe.children={}),Gn.pipe((0,J.n)(Mn=>Mn.matched?this.getChildConfig(ke=Ie._injector??ke,Ie,ht).pipe((0,J.n)(({routes:di})=>{const tr=Ie._loadedInjector??ke,{parameters:yr,consumedSegments:Rr,remainingSegments:No}=Mn,ml=new ws(Rr,yr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,El(Ie),Gs(Ie),Ie.component??Ie._loadedComponent??null,Ie,ua(Ie)),Nl=kr(ml,un,this.paramsInheritanceStrategy);ml.params=Object.freeze(Nl.params),ml.data=Object.freeze(Nl.data);const{segmentGroup:Ul,slicedSegments:kd}=Ln(fe,Rr,No,di);if(0===kd.length&&Ul.hasChildren())return this.processChildren(tr,di,Ul,ml).pipe((0,F.T)(su=>new wo(ml,su)));if(0===di.length&&0===kd.length)return(0,D.of)(new wo(ml,[]));const xh=Gs(Ie)===Lt;return this.processSegment(tr,di,Ul,kd,xh?ft:Lt,!0,ml).pipe((0,F.T)(su=>new wo(ml,su instanceof wo?[su]:[])))})):Sa(fe)))}getChildConfig(ke,fe,Ie){return fe.children?(0,D.of)({routes:fe.children,injector:ke}):fe.loadChildren?void 0!==fe._loadedRoutes?(0,D.of)({routes:fe._loadedRoutes,injector:fe._loadedInjector}):function Zs(G,ke,fe,Ie){const ht=ke.canLoad;if(void 0===ht||0===ht.length)return(0,D.of)(!0);const Lt=ht.map(un=>{const Gn=Ca(un,G);return ut(function Us(G){return G&&uo(G.canLoad)}(Gn)?Gn.canLoad(ke,fe):(0,d.N4e)(G,()=>Gn(ke,fe)))});return(0,D.of)(Lt).pipe(ze(),Cr())}(ke,fe,Ie).pipe((0,be.ZZ)(ht=>ht?this.configLoader.loadChildren(ke,fe).pipe((0,se.M)(Lt=>{fe._loadedRoutes=Lt.routes,fe._loadedInjector=Lt.injector})):function Et(G){return(0,$.$)(Ua(!1,Dr.GuardRejected))}())):(0,D.of)({routes:[],injector:ke})}}function Ro(G){const ke=G.value.routeConfig;return ke&&""===ke.path}function Jo(G){const ke=[],fe=new Set;for(const Ie of G){if(!Ro(Ie)){ke.push(Ie);continue}const ht=ke.find(Lt=>Ie.value.routeConfig===Lt.value.routeConfig);void 0!==ht?(ht.children.push(...Ie.children),fe.add(ht)):ke.push(Ie)}for(const Ie of fe){const ht=Jo(Ie.children);ke.push(new wo(Ie.value,ht))}return ke.filter(Ie=>!fe.has(Ie))}function El(G){return G.data||{}}function ua(G){return G.resolve||{}}function Ps(G){const ke=G.children.map(fe=>Ps(fe)).flat();return[G,...ke]}function ja(G){return(0,J.n)(ke=>{const fe=G(ke);return fe?(0,w.H)(fe).pipe((0,F.T)(()=>ke)):(0,D.of)(ke)})}let vu=(()=>{class G{buildTitle(fe){let Ie,ht=fe.root;for(;void 0!==ht;)Ie=this.getResolvedTitleForRoute(ht)??Ie,ht=ht.children.find(Lt=>Lt.outlet===ft);return Ie}getResolvedTitleForRoute(fe){return fe.data[Oe]}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:()=>(0,d.WQX)(ms),providedIn:"root"})}return G})(),ms=(()=>{class G extends vu{constructor(fe){super(),this.title=fe}updateTitle(fe){const Ie=this.buildTitle(fe);void 0!==Ie&&this.title.setTitle(Ie)}static#e=this.\u0275fac=function(Ie){return new(Ie||G)(d.KVO(Ot.hE))};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();const xl=new d.nKC("",{providedIn:"root",factory:()=>({})});let Ko=(()=>{class G{static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275cmp=d.VBU({type:G,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(Ie,ht){1&Ie&&d.nrm(0,"router-outlet")},dependencies:[Oo],encapsulation:2})}return G})();function ho(G){const ke=G.children&&G.children.map(ho),fe=ke?{...G,children:ke}:{...G};return!fe.component&&!fe.loadComponent&&(ke||fe.loadChildren)&&fe.outlet&&fe.outlet!==ft&&(fe.component=Ko),fe}const da=new d.nKC("");let Xd=(()=>{class G{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(fe){if(this.componentLoaders.get(fe))return this.componentLoaders.get(fe);if(fe._loadedComponent)return(0,D.of)(fe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(fe);const Ie=ut(fe.loadComponent()).pipe((0,F.T)(Cl),(0,se.M)(Lt=>{this.onLoadEndListener&&this.onLoadEndListener(fe),fe._loadedComponent=Lt}),(0,Ce.j)(()=>{this.componentLoaders.delete(fe)})),ht=new O.G(Ie,()=>new M.B7).pipe((0,Qt.B)());return this.componentLoaders.set(fe,ht),ht}loadChildren(fe,Ie){if(this.childrenLoaders.get(Ie))return this.childrenLoaders.get(Ie);if(Ie._loadedRoutes)return(0,D.of)({routes:Ie._loadedRoutes,injector:Ie._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ie);const Lt=function Ac(G,ke,fe,Ie){return ut(G.loadChildren()).pipe((0,F.T)(Cl),(0,be.ZZ)(ht=>ht instanceof d.Co$||Array.isArray(ht)?(0,D.of)(ht):(0,w.H)(ke.compileModuleAsync(ht))),(0,F.T)(ht=>{Ie&&Ie(G);let Lt,un,Gn=!1;return Array.isArray(ht)?(un=ht,!0):(Lt=ht.create(fe).injector,un=Lt.get(da,[],{optional:!0,self:!0}).flat()),{routes:un.map(ho),injector:Lt}}))}(Ie,this.compiler,fe,this.onLoadEndListener).pipe((0,Ce.j)(()=>{this.childrenLoaders.delete(Ie)})),un=new O.G(Lt,()=>new M.B7).pipe((0,Qt.B)());return this.childrenLoaders.set(Ie,un),un}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();function Cl(G){return function Mc(G){return G&&"object"==typeof G&&"default"in G}(G)?G.default:G}let we=(()=>{class G{static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:()=>(0,d.WQX)(Dt),providedIn:"root"})}return G})(),Dt=(()=>{class G{shouldProcessUrl(fe){return!0}extract(fe){return fe}merge(fe,Ie){return fe}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();const Ve=new d.nKC(""),_t=new d.nKC("");function an(G,ke,fe){const Ie=G.get(_t),ht=G.get(U.qQ);return G.get(d.SKi).runOutsideAngular(()=>{if(!ht.startViewTransition||Ie.skipNextTransition)return Ie.skipNextTransition=!1,new Promise(di=>setTimeout(di));let Lt;const un=new Promise(di=>{Lt=di}),Gn=ht.startViewTransition(()=>(Lt(),function Wn(G){return new Promise(ke=>{(0,d.mal)({read:()=>setTimeout(ke)},{injector:G})})}(G))),{onViewTransitionCreated:Mn}=Ie;return Mn&&(0,d.N4e)(G,()=>Mn({transition:Gn,from:ke,to:fe})),un})}const ui=new d.nKC("");let Vi=(()=>{class G{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new M.B7,this.transitionAbortSubject=new M.B7,this.configLoader=(0,d.WQX)(Xd),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Pn),this.rootContexts=(0,d.WQX)(lo),this.location=(0,d.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,d.WQX)($o,{optional:!0}),this.titleStrategy=(0,d.WQX)(vu),this.options=(0,d.WQX)(xl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(we),this.createViewTransition=(0,d.WQX)(Ve,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(ui,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,D.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ht=>this.events.next(new Yo(ht)),this.configLoader.onLoadStartListener=ht=>this.events.next(new Mo(ht))}complete(){this.transitions?.complete()}handleNavigationRequest(fe){const Ie=++this.navigationId;this.transitions?.next({...this.transitions.value,...fe,id:Ie})}setupNavigations(fe,Ie,ht){return this.transitions=new C.t({id:0,currentUrlTree:Ie,currentRawUrl:Ie,extractedUrl:this.urlHandlingStrategy.extract(Ie),urlAfterRedirects:this.urlHandlingStrategy.extract(Ie),rawUrl:Ie,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:kt,restoredState:null,currentSnapshot:ht.snapshot,targetSnapshot:null,currentRouterState:ht,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,re.p)(Lt=>0!==Lt.id),(0,F.T)(Lt=>({...Lt,extractedUrl:this.urlHandlingStrategy.extract(Lt.rawUrl)})),(0,J.n)(Lt=>{let un=!1,Gn=!1;return(0,D.of)(Lt).pipe((0,J.n)(Mn=>{if(this.navigationId>Lt.id)return this.cancelNavigationTransition(Lt,"",Dr.SupersededByNewNavigation),R.w;this.currentTransition=Lt,this.currentNavigation={id:Mn.id,initialUrl:Mn.rawUrl,extractedUrl:Mn.extractedUrl,targetBrowserUrl:"string"==typeof Mn.extras.browserUrl?this.urlSerializer.parse(Mn.extras.browserUrl):Mn.extras.browserUrl,trigger:Mn.source,extras:Mn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const di=!fe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!di&&"reload"!==(Mn.extras.onSameUrlNavigation??fe.onSameUrlNavigation)){const yr="";return this.events.next(new ds(Mn.id,this.urlSerializer.serialize(Mn.rawUrl),yr,Fr.IgnoredSameUrlNavigation)),Mn.resolve(!1),R.w}if(this.urlHandlingStrategy.shouldProcessUrl(Mn.rawUrl))return(0,D.of)(Mn).pipe((0,J.n)(yr=>{const Rr=this.transitions?.getValue();return this.events.next(new Pi(yr.id,this.urlSerializer.serialize(yr.extractedUrl),yr.source,yr.restoredState)),Rr!==this.transitions?.getValue()?R.w:Promise.resolve(yr)}),function _r(G,ke,fe,Ie,ht,Lt){return(0,be.ZZ)(un=>function js(G,ke,fe,Ie,ht,Lt,un="emptyOnly"){return new ns(G,ke,fe,Ie,ht,un,Lt).recognize()}(G,ke,fe,Ie,un.extractedUrl,ht,Lt).pipe((0,F.T)(({state:Gn,tree:Mn})=>({...un,targetSnapshot:Gn,urlAfterRedirects:Mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,fe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,se.M)(yr=>{Lt.targetSnapshot=yr.targetSnapshot,Lt.urlAfterRedirects=yr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:yr.urlAfterRedirects};const Rr=new Er(yr.id,this.urlSerializer.serialize(yr.extractedUrl),this.urlSerializer.serialize(yr.urlAfterRedirects),yr.targetSnapshot);this.events.next(Rr)}));if(di&&this.urlHandlingStrategy.shouldProcessUrl(Mn.currentRawUrl)){const{id:yr,extractedUrl:Rr,source:No,restoredState:ml,extras:Nl}=Mn,Ul=new Pi(yr,this.urlSerializer.serialize(Rr),No,ml);this.events.next(Ul);const kd=qo(this.rootComponentType).snapshot;return this.currentTransition=Lt={...Mn,targetSnapshot:kd,urlAfterRedirects:Rr,extras:{...Nl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Rr,(0,D.of)(Lt)}{const yr="";return this.events.next(new ds(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),yr,Fr.IgnoredByUrlHandlingStrategy)),Mn.resolve(!1),R.w}}),(0,se.M)(Mn=>{const di=new Jr(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(di)}),(0,F.T)(Mn=>(this.currentTransition=Lt={...Mn,guards:co(Mn.targetSnapshot,Mn.currentSnapshot,this.rootContexts)},Lt)),function En(G,ke){return(0,be.ZZ)(fe=>{const{targetSnapshot:Ie,currentSnapshot:ht,guards:{canActivateChecks:Lt,canDeactivateChecks:un}}=fe;return 0===un.length&&0===Lt.length?(0,D.of)({...fe,guardsResult:!0}):function Fn(G,ke,fe,Ie){return(0,w.H)(G).pipe((0,be.ZZ)(ht=>function Or(G,ke,fe,Ie,ht){const Lt=ke&&ke.routeConfig?ke.routeConfig.canDeactivate:null;if(!Lt||0===Lt.length)return(0,D.of)(!0);const un=Lt.map(Gn=>{const Mn=sa(ke)??ht,di=Ca(Gn,Mn);return ut(function Se(G){return G&&uo(G.canDeactivate)}(di)?di.canDeactivate(G,ke,fe,Ie):(0,d.N4e)(Mn,()=>di(G,ke,fe,Ie))).pipe((0,j.$)())});return(0,D.of)(un).pipe(ze())}(ht.component,ht.route,fe,ke,Ie)),(0,j.$)(ht=>!0!==ht,!0))}(un,Ie,ht,G).pipe((0,be.ZZ)(Gn=>Gn&&function za(G){return"boolean"==typeof G}(Gn)?function ki(G,ke,fe,Ie){return(0,w.H)(ke).pipe((0,X.H)(ht=>(0,E.x)(function fr(G,ke){return null!==G&&ke&&ke(new Fo(G)),(0,D.of)(!0)}(ht.route.parent,Ie),function Nn(G,ke){return null!==G&&ke&&ke(new Ya(G)),(0,D.of)(!0)}(ht.route,Ie),function ur(G,ke,fe){const Ie=ke[ke.length-1],Lt=ke.slice(0,ke.length-1).reverse().map(un=>function xa(G){const ke=G.routeConfig?G.routeConfig.canActivateChild:null;return ke&&0!==ke.length?{node:G,guards:ke}:null}(un)).filter(un=>null!==un).map(un=>(0,y.v)(()=>{const Gn=un.guards.map(Mn=>{const di=sa(un.node)??fe,tr=Ca(Mn,di);return ut(function de(G){return G&&uo(G.canActivateChild)}(tr)?tr.canActivateChild(Ie,G):(0,d.N4e)(di,()=>tr(Ie,G))).pipe((0,j.$)())});return(0,D.of)(Gn).pipe(ze())}));return(0,D.of)(Lt).pipe(ze())}(G,ht.path,fe),function Ur(G,ke,fe){const Ie=ke.routeConfig?ke.routeConfig.canActivate:null;if(!Ie||0===Ie.length)return(0,D.of)(!0);const ht=Ie.map(Lt=>(0,y.v)(()=>{const un=sa(ke)??fe,Gn=Ca(Lt,un);return ut(function jt(G){return G&&uo(G.canActivate)}(Gn)?Gn.canActivate(ke,G):(0,d.N4e)(un,()=>Gn(ke,G))).pipe((0,j.$)())}));return(0,D.of)(ht).pipe(ze())}(G,ht.route,fe))),(0,j.$)(ht=>!0!==ht,!0))}(Ie,Lt,G,ke):(0,D.of)(Gn)),(0,F.T)(Gn=>({...fe,guardsResult:Gn})))})}(this.environmentInjector,Mn=>this.events.next(Mn)),(0,se.M)(Mn=>{if(Lt.guardsResult=Mn.guardsResult,Mn.guardsResult&&"boolean"!=typeof Mn.guardsResult)throw Bo(0,Mn.guardsResult);const di=new Ds(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot,!!Mn.guardsResult);this.events.next(di)}),(0,re.p)(Mn=>!!Mn.guardsResult||(this.cancelNavigationTransition(Mn,"",Dr.GuardRejected),!1)),ja(Mn=>{if(Mn.guards.canActivateChecks.length)return(0,D.of)(Mn).pipe((0,se.M)(di=>{const tr=new ia(di.id,this.urlSerializer.serialize(di.extractedUrl),this.urlSerializer.serialize(di.urlAfterRedirects),di.targetSnapshot);this.events.next(tr)}),(0,J.n)(di=>{let tr=!1;return(0,D.of)(di).pipe(function as(G,ke){return(0,be.ZZ)(fe=>{const{targetSnapshot:Ie,guards:{canActivateChecks:ht}}=fe;if(!ht.length)return(0,D.of)(fe);const Lt=new Set(ht.map(Mn=>Mn.route)),un=new Set;for(const Mn of Lt)if(!un.has(Mn))for(const di of Ps(Mn))un.add(di);let Gn=0;return(0,w.H)(un).pipe((0,X.H)(Mn=>Lt.has(Mn)?function Ic(G,ke,fe,Ie){const ht=G.routeConfig,Lt=G._resolve;return void 0!==ht?.title&&!Oi(ht)&&(Lt[Oe]=ht.title),function yu(G,ke,fe,Ie){const ht=Nt(G);if(0===ht.length)return(0,D.of)({});const Lt={};return(0,w.H)(ht).pipe((0,be.ZZ)(un=>function hs(G,ke,fe,Ie){const ht=sa(ke)??Ie,Lt=Ca(G,ht);return ut(Lt.resolve?Lt.resolve(ke,fe):(0,d.N4e)(ht,()=>Lt(ke,fe)))}(G[un],ke,fe,Ie).pipe((0,j.$)(),(0,se.M)(Gn=>{if(Gn instanceof Va)throw Bo(new Ri,Gn);Lt[un]=Gn}))),je(1),function Be(G){return ke=>ke.lift(new Qe(G))}(Lt),(0,W.W)(un=>le(un)?R.w:(0,$.$)(un)))}(Lt,G,ke,Ie).pipe((0,F.T)(un=>(G._resolvedData=un,G.data=kr(G,G.parent,fe).resolve,null)))}(Mn,Ie,G,ke):(Mn.data=kr(Mn,Mn.parent,G).resolve,(0,D.of)(void 0))),(0,se.M)(()=>Gn++),je(1),(0,be.ZZ)(Mn=>Gn===un.size?(0,D.of)(fe):R.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,se.M)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(di,"",Dr.NoDataFromResolver)}}))}),(0,se.M)(di=>{const tr=new Br(di.id,this.urlSerializer.serialize(di.extractedUrl),this.urlSerializer.serialize(di.urlAfterRedirects),di.targetSnapshot);this.events.next(tr)}))}),ja(Mn=>{const di=tr=>{const yr=[];tr.routeConfig?.loadComponent&&!tr.routeConfig._loadedComponent&&yr.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,se.M)(Rr=>{tr.component=Rr}),(0,F.T)(()=>{})));for(const Rr of tr.children)yr.push(...di(Rr));return yr};return(0,S.zV)(di(Mn.targetSnapshot.root)).pipe((0,yt.U)(null),(0,ue.s)(1))}),ja(()=>this.afterPreactivation()),(0,J.n)(()=>{const{currentSnapshot:Mn,targetSnapshot:di}=Lt,tr=this.createViewTransition?.(this.environmentInjector,Mn.root,di.root);return tr?(0,w.H)(tr).pipe((0,F.T)(()=>Lt)):(0,D.of)(Lt)}),(0,F.T)(Mn=>{const di=function Go(G,ke,fe){const Ie=Qs(G,ke._root,fe?fe._root:void 0);return new Ba(Ie,ke)}(fe.routeReuseStrategy,Mn.targetSnapshot,Mn.currentRouterState);return this.currentTransition=Lt={...Mn,targetRouterState:di},this.currentNavigation.targetRouterState=di,Lt}),(0,se.M)(()=>{this.events.next(new ra)}),((G,ke,fe,Ie)=>(0,F.T)(ht=>(new la(ke,ht.targetRouterState,ht.currentRouterState,fe,Ie).activate(G),ht)))(this.rootContexts,fe.routeReuseStrategy,Mn=>this.events.next(Mn),this.inputBindingEnabled),(0,ue.s)(1),(0,se.M)({next:Mn=>{un=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Mn.targetRouterState.snapshot),Mn.resolve(!0)},complete:()=>{un=!0}}),(0,Vt.Q)(this.transitionAbortSubject.pipe((0,se.M)(Mn=>{throw Mn}))),(0,Ce.j)(()=>{!un&&!Gn&&this.cancelNavigationTransition(Lt,"",Dr.SupersededByNewNavigation),this.currentTransition?.id===Lt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,W.W)(Mn=>{if(Gn=!0,wl(Mn))this.events.next(new Zr(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Mn.message,Mn.cancellationCode)),function ll(G){return wl(G)&&Zn(G.url)}(Mn)?this.events.next(new bl(Mn.url,Mn.navigationBehaviorOptions)):Lt.resolve(!1);else{const di=new Os(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Mn,Lt.targetSnapshot??void 0);try{const tr=(0,d.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(di));if(tr instanceof Va){const{message:yr,cancellationCode:Rr}=Bo(0,tr);this.events.next(new Zr(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),yr,Rr)),this.events.next(new bl(tr.redirectTo,tr.navigationBehaviorOptions))}else{this.events.next(di);const yr=fe.errorHandler(Mn);Lt.resolve(!!yr)}}catch(tr){this.options.resolveNavigationPromiseOnError?Lt.resolve(!1):Lt.reject(tr)}}return R.w}))}))}cancelNavigationTransition(fe,Ie,ht){const Lt=new Zr(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Ie,ht);this.events.next(Lt),fe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const fe=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Ie=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return fe.toString()!==Ie?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();function Fs(G){return G!==kt}let qr=(()=>{class G{static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:()=>(0,d.WQX)(Si),providedIn:"root"})}return G})();class ts{shouldDetach(ke){return!1}store(ke,fe){}shouldAttach(ke){return!1}retrieve(ke){return null}shouldReuseRoute(ke,fe){return ke.routeConfig===fe.routeConfig}}let Si=(()=>{class G extends ts{static#e=this.\u0275fac=(()=>{let fe;return function(ht){return(fe||(fe=d.xGo(G)))(ht||G)}})();static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),ro=(()=>{class G{static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:()=>(0,d.WQX)(Ws),providedIn:"root"})}return G})(),Ws=(()=>{class G extends ro{constructor(){super(...arguments),this.location=(0,d.WQX)(U.aZ),this.urlSerializer=(0,d.WQX)(Pn),this.options=(0,d.WQX)(xl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(we),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new on,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(fe){return this.location.subscribe(Ie=>{"popstate"===Ie.type&&fe(Ie.url,Ie.state)})}handleRouterEvent(fe,Ie){if(fe instanceof Pi)this.stateMemento=this.createStateMemento();else if(fe instanceof ds)this.rawUrlTree=Ie.initialUrl;else if(fe instanceof Er){if("eager"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange){const ht=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl);this.setBrowserUrl(Ie.targetBrowserUrl??ht,Ie)}}else fe instanceof ra?(this.currentUrlTree=Ie.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.finalUrl,Ie.initialUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Ie.extras.skipLocationChange&&this.setBrowserUrl(Ie.targetBrowserUrl??this.rawUrlTree,Ie)):fe instanceof Zr&&(fe.code===Dr.GuardRejected||fe.code===Dr.NoDataFromResolver)?this.restoreHistory(Ie):fe instanceof Os?this.restoreHistory(Ie,!0):fe instanceof sr&&(this.lastSuccessfulId=fe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(fe,Ie){const ht=fe instanceof on?this.urlSerializer.serialize(fe):fe;if(this.location.isCurrentPathEqualTo(ht)||Ie.extras.replaceUrl){const un={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId)};this.location.replaceState(ht,"",un)}else{const Lt={...Ie.extras.state,...this.generateNgRouterState(Ie.id,this.browserPageId+1)};this.location.go(ht,"",Lt)}}restoreHistory(fe,Ie=!1){if("computed"===this.canceledNavigationResolution){const Lt=this.currentPageId-this.browserPageId;0!==Lt?this.location.historyGo(Lt):this.currentUrlTree===fe.finalUrl&&0===Lt&&(this.resetState(fe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ie&&this.resetState(fe),this.resetUrlToCurrentUrlTree())}resetState(fe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,fe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(fe,Ie){return"computed"===this.canceledNavigationResolution?{navigationId:fe,\u0275routerPageId:Ie}:{navigationId:fe}}static#e=this.\u0275fac=(()=>{let fe;return function(ht){return(fe||(fe=d.xGo(G)))(ht||G)}})();static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();var fo=function(G){return G[G.COMPLETE=0]="COMPLETE",G[G.FAILED=1]="FAILED",G[G.REDIRECTING=2]="REDIRECTING",G}(fo||{});function Vl(G,ke){G.events.pipe((0,re.p)(fe=>fe instanceof sr||fe instanceof Zr||fe instanceof Os||fe instanceof ds),(0,F.T)(fe=>fe instanceof sr||fe instanceof ds?fo.COMPLETE:fe instanceof Zr&&(fe.code===Dr.Redirect||fe.code===Dr.SupersededByNewNavigation)?fo.REDIRECTING:fo.FAILED),(0,re.p)(fe=>fe!==fo.REDIRECTING),(0,ue.s)(1)).subscribe(()=>{ke()})}function Sl(G){throw G}const Oc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vo=(()=>{class G{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(ro),this.options=(0,d.WQX)(xl,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(Vi),this.urlSerializer=(0,d.WQX)(Pn),this.location=(0,d.WQX)(U.aZ),this.urlHandlingStrategy=(0,d.WQX)(we),this._events=new M.B7,this.errorHandler=this.options.errorHandler||Sl,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(qr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(da,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)($o,{optional:!0}),this.eventsSubscription=new L.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:fe=>{this.console.warn(fe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const fe=this.navigationTransitions.events.subscribe(Ie=>{try{const ht=this.navigationTransitions.currentTransition,Lt=this.navigationTransitions.currentNavigation;if(null!==ht&&null!==Lt)if(this.stateManager.handleRouterEvent(Ie,Lt),Ie instanceof Zr&&Ie.code!==Dr.Redirect&&Ie.code!==Dr.SupersededByNewNavigation)this.navigated=!0;else if(Ie instanceof sr)this.navigated=!0;else if(Ie instanceof bl){const un=Ie.navigationBehaviorOptions,Gn=this.urlHandlingStrategy.merge(Ie.url,ht.currentRawUrl),Mn={browserUrl:ht.extras.browserUrl,info:ht.extras.info,skipLocationChange:ht.extras.skipLocationChange,replaceUrl:ht.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Fs(ht.source),...un};this.scheduleNavigation(Gn,kt,null,Mn,{resolve:ht.resolve,reject:ht.reject,promise:ht.promise})}(function dl(G){return!(G instanceof ra||G instanceof bl)})(Ie)&&this._events.next(Ie)}catch(ht){this.navigationTransitions.transitionAbortSubject.next(ht)}});this.eventsSubscription.add(fe)}resetRootComponentType(fe){this.routerState.root.component=fe,this.navigationTransitions.rootComponentType=fe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((fe,Ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(fe,"popstate",Ie)},0)})}navigateToSyncWithBrowser(fe,Ie,ht){const Lt={replaceUrl:!0},un=ht?.navigationId?ht:null;if(ht){const Mn={...ht};delete Mn.navigationId,delete Mn.\u0275routerPageId,0!==Object.keys(Mn).length&&(Lt.state=Mn)}const Gn=this.parseUrl(fe);this.scheduleNavigation(Gn,Ie,un,Lt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(fe){this.config=fe.map(ho),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(fe,Ie={}){const{relativeTo:ht,queryParams:Lt,fragment:un,queryParamsHandling:Gn,preserveFragment:Mn}=Ie,di=Mn?this.currentUrlTree.fragment:un;let yr,tr=null;switch(Gn){case"merge":tr={...this.currentUrlTree.queryParams,...Lt};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=Lt||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{yr=lr(ht?ht.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof fe[0]||"/"!==fe[0][0])&&(fe=[]),yr=this.currentUrlTree.root}return ir(yr,fe,tr,di??null)}navigateByUrl(fe,Ie={skipLocationChange:!1}){const ht=Zn(fe)?fe:this.parseUrl(fe),Lt=this.urlHandlingStrategy.merge(ht,this.rawUrlTree);return this.scheduleNavigation(Lt,kt,null,Ie)}navigate(fe,Ie={skipLocationChange:!1}){return function Uo(G){for(let ke=0;ke<G.length;ke++)if(null==G[ke])throw new d.wOt(4008,!1)}(fe),this.navigateByUrl(this.createUrlTree(fe,Ie),Ie)}serializeUrl(fe){return this.urlSerializer.serialize(fe)}parseUrl(fe){try{return this.urlSerializer.parse(fe)}catch{return this.urlSerializer.parse("/")}}isActive(fe,Ie){let ht;if(ht=!0===Ie?{...Oc}:!1===Ie?{...fc}:Ie,Zn(fe))return Pe(this.currentUrlTree,fe,ht);const Lt=this.parseUrl(fe);return Pe(this.currentUrlTree,Lt,ht)}removeEmptyProps(fe){return Object.entries(fe).reduce((Ie,[ht,Lt])=>(null!=Lt&&(Ie[ht]=Lt),Ie),{})}scheduleNavigation(fe,Ie,ht,Lt,un){if(this.disposed)return Promise.resolve(!1);let Gn,Mn,di;un?(Gn=un.resolve,Mn=un.reject,di=un.promise):di=new Promise((yr,Rr)=>{Gn=yr,Mn=Rr});const tr=this.pendingTasks.add();return Vl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:Ie,restoredState:ht,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:fe,extras:Lt,resolve:Gn,reject:Mn,promise:di,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),di.catch(yr=>Promise.reject(yr))}static#e=this.\u0275fac=function(Ie){return new(Ie||G)};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();class hl{}let Wu=(()=>{class G{constructor(fe,Ie,ht,Lt,un){this.router=fe,this.injector=ht,this.preloadingStrategy=Lt,this.loader=un}setUpPreloading(){this.subscription=this.router.events.pipe((0,re.p)(fe=>fe instanceof sr),(0,X.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(fe,Ie){const ht=[];for(const Lt of Ie){Lt.providers&&!Lt._injector&&(Lt._injector=(0,d.Ol2)(Lt.providers,fe,`Route: ${Lt.path}`));const un=Lt._injector??fe,Gn=Lt._loadedInjector??un;(Lt.loadChildren&&!Lt._loadedRoutes&&void 0===Lt.canLoad||Lt.loadComponent&&!Lt._loadedComponent)&&ht.push(this.preloadConfig(un,Lt)),(Lt.children||Lt._loadedRoutes)&&ht.push(this.processRoutes(Gn,Lt.children??Lt._loadedRoutes))}return(0,w.H)(ht).pipe((0,Tt.U)())}preloadConfig(fe,Ie){return this.preloadingStrategy.preload(Ie,()=>{let ht;ht=Ie.loadChildren&&void 0===Ie.canLoad?this.loader.loadChildren(fe,Ie):(0,D.of)(null);const Lt=ht.pipe((0,be.ZZ)(un=>null===un?(0,D.of)(void 0):(Ie._loadedRoutes=un.routes,Ie._loadedInjector=un.injector,this.processRoutes(un.injector??fe,un.routes))));if(Ie.loadComponent&&!Ie._loadedComponent){const un=this.loader.loadComponent(Ie);return(0,w.H)([Lt,un]).pipe((0,Tt.U)())}return Lt})}static#e=this.\u0275fac=function(Ie){return new(Ie||G)(d.KVO(Vo),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(hl),d.KVO(Xd))};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})();const zo=new d.nKC("");let ec=(()=>{class G{constructor(fe,Ie,ht,Lt,un={}){this.urlSerializer=fe,this.transitions=Ie,this.viewportScroller=ht,this.zone=Lt,this.options=un,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},un.scrollPositionRestoration||="disabled",un.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof Pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=fe.navigationTrigger,this.restoredId=fe.restoredState?fe.restoredState.navigationId:0):fe instanceof sr?(this.lastId=fe.id,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.urlAfterRedirects).fragment)):fe instanceof ds&&fe.code===Fr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(fe,this.urlSerializer.parse(fe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(fe=>{fe instanceof ya&&(fe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(fe.position):fe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(fe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(fe,Ie){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ya(fe,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ie))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ie){d.QTQ()};static#t=this.\u0275prov=d.jDH({token:G,factory:G.\u0275fac})}return G})();function Rc(G,ke){return{\u0275kind:G,\u0275providers:ke}}function Yd(){const G=(0,d.WQX)(d.zZn);return ke=>{const fe=G.get(d.o8S);if(ke!==fe.components[0])return;const Ie=G.get(Vo),ht=G.get(Wa);1===G.get(zr)&&Ie.initialNavigation(),G.get(xo,null,d.$GK.Optional)?.setUpPreloading(),G.get(zo,null,d.$GK.Optional)?.init(),Ie.resetRootComponentType(fe.componentTypes[0]),ht.closed||(ht.next(),ht.complete(),ht.unsubscribe())}}const Wa=new d.nKC("",{factory:()=>new M.B7}),zr=new d.nKC("",{providedIn:"root",factory:()=>1}),xo=new d.nKC("");function nc(G){return Rc(0,[{provide:xo,useExisting:Wu},{provide:hl,useExisting:G}])}function Td(G){return Rc(9,[{provide:Ve,useValue:an},{provide:_t,useValue:{skipNextTransition:!!G?.skipInitialTransition,...G}}])}const jc=new d.nKC("ROUTER_FORROOT_GUARD"),Ou=[U.aZ,{provide:Pn,useClass:Ri},Vo,lo,{provide:wa,useFactory:function bu(G){return G.routerState.root},deps:[Vo]},Xd,[]];let bh=(()=>{class G{constructor(fe){}static forRoot(fe,Ie){return{ngModule:G,providers:[Ou,[],{provide:da,multi:!0,useValue:fe},{provide:jc,useFactory:Wc,deps:[[Vo,new d.Xx1,new d.kdw]]},{provide:xl,useValue:Ie||{}},Ie?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:zo,useFactory:()=>{const G=(0,d.WQX)(U.Xr),ke=(0,d.WQX)(d.SKi),fe=(0,d.WQX)(xl),Ie=(0,d.WQX)(Vi),ht=(0,d.WQX)(Pn);return fe.scrollOffset&&G.setOffset(fe.scrollOffset),new ec(ht,Ie,G,ke,fe)}},Ie?.preloadingStrategy?nc(Ie.preloadingStrategy).\u0275providers:[],Ie?.initialNavigation?pl(Ie):[],Ie?.bindToComponentInputs?Rc(8,[Ql,{provide:$o,useExisting:Ql}]).\u0275providers:[],Ie?.enableViewTransitions?Td().\u0275providers:[],[{provide:So,useFactory:Yd},{provide:d.iLQ,multi:!0,useExisting:So}]]}}static forChild(fe){return{ngModule:G,providers:[{provide:da,multi:!0,useValue:fe}]}}static#e=this.\u0275fac=function(Ie){return new(Ie||G)(d.KVO(jc,8))};static#t=this.\u0275mod=d.$C({type:G});static#n=this.\u0275inj=d.G2t({})}return G})();function Wc(G){return"guarded"}function pl(G){return["disabled"===G.initialNavigation?Rc(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const ke=(0,d.WQX)(Vo);return()=>{ke.setUpLocationChangeListener()}}},{provide:zr,useValue:2}]).\u0275providers:[],"enabledBlocking"===G.initialNavigation?Rc(2,[{provide:zr,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:ke=>{const fe=ke.get(U.hj,Promise.resolve());return()=>fe.then(()=>new Promise(Ie=>{const ht=ke.get(Vo),Lt=ke.get(Wa);Vl(ht,()=>{Ie(!0)}),ke.get(Vi).afterPreactivation=()=>(Ie(!0),Lt.closed?(0,D.of)(void 0):Lt),ht.initialNavigation()}))}}]).\u0275providers:[]]}const So=new d.nKC("")},8620:(hn,Re,_)=>{"use strict";_.d(Re,{WJ:()=>ge,EI:()=>q});var d=_(7404),A=_(316),w=_(6965),D=_(6651),C=_(7557),S=_(1536),I=_(6933),E=_(3119),y=_(434),x=_(8986);const $=new y.c(x.l);var O=_(7405),M=_(5443),L=_(8627),U=_(1963),F=_(1810);function J(ye,Ne){return function(Qe){let Pt;if(Pt="function"==typeof ye?ye:function(){return ye},"function"==typeof Ne)return Qe.lift(new ue(Pt,Ne));const Ce=Object.create(Qe,F.f);return Ce.source=Qe,Ce.subjectFactory=Pt,Ce}}class ue{constructor(Ne,Be){this.subjectFactory=Ne,this.selector=Be}call(Ne,Be){const{selector:Qe}=this,Pt=this.subjectFactory(),Ce=Qe(Pt).subscribe(Ne);return Ce.add(Be.subscribe(Pt)),Ce}}var re=_(3602),be=_(6e3),j=_(9277);
/**
       * @license Angular v18.1.2
       * (c) 2010-2024 Google LLC. https://angular.io/
       * License: MIT
       */const X="Service workers are disabled or not supported by this browser";class W{constructor(Ne){if(this.serviceWorker=Ne,Ne){const Qe=(0,C.R)(Ne,"controllerchange").pipe((0,M.T)(()=>Ne.controller)),Pt=(0,w.v)(()=>(0,S.of)(Ne.controller)),Ce=(0,I.x)(Pt,Qe);this.worker=Ce.pipe((0,L.p)(ft=>!!ft)),this.registration=this.worker.pipe((0,U.n)(()=>Ne.getRegistration()));const Ot=(0,C.R)(Ne,"message").pipe((0,M.T)(ft=>ft.data)).pipe((0,L.p)(ft=>ft&&ft.type)).pipe(function ce(ye){return ye?J(()=>new E.B7,ye):J(new E.B7)}());Ot.connect(),this.events=Ot}else this.worker=this.events=this.registration=function se(ye){return(0,w.v)(()=>(0,D.$)(new Error(ye)))}(X)}postMessage(Ne,Be){return this.worker.pipe((0,re.s)(1),(0,be.M)(Qe=>{Qe.postMessage({action:Ne,...Be})})).toPromise().then(()=>{})}postMessageWithOperation(Ne,Be,Qe){const Pt=this.waitForOperationCompleted(Qe),Ce=this.postMessage(Ne,Be);return Promise.all([Ce,Pt]).then(([,Qt])=>Qt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ne){let Be;return Be="string"==typeof Ne?Qe=>Qe.type===Ne:Qe=>Ne.includes(Qe.type),this.events.pipe((0,L.p)(Be))}nextEventOfType(Ne){return this.eventsOfType(Ne).pipe((0,re.s)(1))}waitForOperationCompleted(Ne){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,L.p)(Be=>Be.nonce===Ne),(0,re.s)(1),(0,M.T)(Be=>{if(void 0!==Be.result)return Be.result;throw new Error(Be.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let xe=(()=>{class ye{get isEnabled(){return this.sw.isEnabled}constructor(Be){if(this.sw=Be,this.pushManager=null,this.subscriptionChanges=new E.B7,!Be.isEnabled)return this.messages=$,this.notificationClicks=$,void(this.subscription=$);this.messages=this.sw.eventsOfType("PUSH").pipe((0,M.T)(Pt=>Pt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,M.T)(Pt=>Pt.data)),this.pushManager=this.sw.registration.pipe((0,M.T)(Pt=>Pt.pushManager));const Qe=this.pushManager.pipe((0,U.n)(Pt=>Pt.getSubscription()));this.subscription=(0,O.h)(Qe,this.subscriptionChanges)}requestSubscription(Be){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(X));const Qe={userVisibleOnly:!0};let Pt=this.decodeBase64(Be.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Ce=new Uint8Array(new ArrayBuffer(Pt.length));for(let Qt=0;Qt<Pt.length;Qt++)Ce[Qt]=Pt.charCodeAt(Qt);return Qe.applicationServerKey=Ce,this.pushManager.pipe((0,U.n)(Qt=>Qt.subscribe(Qe)),(0,re.s)(1)).toPromise().then(Qt=>(this.subscriptionChanges.next(Qt),Qt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,re.s)(1),(0,U.n)(Qe=>{if(null===Qe)throw new Error("Not subscribed to push notifications.");return Qe.unsubscribe().then(Pt=>{if(!Pt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(X))}decodeBase64(Be){return atob(Be)}static#e=this.\u0275fac=function(Qe){return new(Qe||ye)(d.KVO(W))};static#t=this.\u0275prov=d.jDH({token:ye,factory:ye.\u0275fac})}return ye})(),q=(()=>{class ye{get isEnabled(){return this.sw.isEnabled}constructor(Be){if(this.sw=Be,!Be.isEnabled)return this.versionUpdates=$,void(this.unrecoverable=$);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(X));const Be=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Be},Be)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(X));const Be=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Be},Be)}static#e=this.\u0275fac=function(Qe){return new(Qe||ye)(d.KVO(W))};static#t=this.\u0275prov=d.jDH({token:ye,factory:ye.\u0275fac})}return ye})();
/*!
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ae=new d.nKC("");function Xe(ye,Ne,Be,Qe){return()=>{if(!(0,A.UE)(Qe)||!("serviceWorker"in navigator)||!1===Be.enabled)return;const Pt=ye.get(d.SKi),Ce=ye.get(d.o8S);let Qt;if(Pt.runOutsideAngular(()=>{const Vt=navigator.serviceWorker,Tt=()=>Vt.controller?.postMessage({action:"INITIALIZE"});Vt.addEventListener("controllerchange",Tt),Ce.onDestroy(()=>{Vt.removeEventListener("controllerchange",Tt)})}),"function"==typeof Be.registrationStrategy)Qt=Be.registrationStrategy();else{const[Vt,...Tt]=(Be.registrationStrategy||"registerWhenStable:30000").split(":");switch(Vt){case"registerImmediately":Qt=(0,S.of)(null);break;case"registerWithDelay":Qt=yt(+Tt[0]||0);break;case"registerWhenStable":Qt=Tt[0]?(0,O.h)(Je(ye),yt(+Tt[0])):Je(ye);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Be.registrationStrategy}`)}}Pt.runOutsideAngular(()=>Qt.pipe((0,re.s)(1)).subscribe(()=>navigator.serviceWorker.register(Ne,{scope:Be.scope}).catch(Vt=>console.error("Service worker registration failed with:",Vt))))}}function yt(ye){return(0,S.of)(null).pipe((0,j.c)(ye))}function Je(ye){return ye.get(d.o8S).isStable.pipe((0,L.p)(Be=>Be))}function je(ye,Ne){return new W((0,A.UE)(Ne)&&!1!==ye.enabled?navigator.serviceWorker:void 0)}class K{}function oe(ye,Ne={}){return(0,d.EmA)([xe,q,{provide:Ae,useValue:ye},{provide:K,useValue:Ne},{provide:W,useFactory:je,deps:[K,d.Agw]},{provide:d.hnV,useFactory:Xe,deps:[d.zZn,Ae,K,d.Agw],multi:!0}])}let ge=(()=>{class ye{static register(Be,Qe={}){return{ngModule:ye,providers:[oe(Be,Qe)]}}static#e=this.\u0275fac=function(Qe){return new(Qe||ye)};static#t=this.\u0275mod=d.$C({type:ye});static#n=this.\u0275inj=d.G2t({providers:[xe,q]})}return ye})()},597:(hn,Re,_)=>{"use strict";_.d(Re,{D9:()=>yt,Wr:()=>R,c$:()=>Ae,h:()=>Je});var d=_(7404),A=_(1536),w=_(6899),D=_(8757),C=_(6933),S=_(6965),I=_(3602),E=_(7841),y=_(5443),x=_(9003),$=_(1963);class R{}let O=(()=>{class je extends R{getTranslation(oe){return(0,A.of)({})}}return je.\u0275fac=(()=>{let K;return function(ge){return(K||(K=d.xGo(je)))(ge||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class M{}let L=(()=>{class je{handle(oe){return oe.key}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();function U(je,K){if(je===K)return!0;if(null===je||null===K)return!1;if(je!=je&&K!=K)return!0;let ye,Ne,Be,oe=typeof je;if(oe==typeof K&&"object"==oe){if(!Array.isArray(je)){if(Array.isArray(K))return!1;for(Ne in Be=Object.create(null),je){if(!U(je[Ne],K[Ne]))return!1;Be[Ne]=!0}for(Ne in K)if(!(Ne in Be)&&typeof K[Ne]<"u")return!1;return!0}if(!Array.isArray(K))return!1;if((ye=je.length)==K.length){for(Ne=0;Ne<ye;Ne++)if(!U(je[Ne],K[Ne]))return!1;return!0}}return!1}function F(je){return typeof je<"u"&&null!==je}function J(je){return je&&"object"==typeof je&&!Array.isArray(je)}function ue(je,K){let oe=Object.assign({},je);return J(je)&&J(K)&&Object.keys(K).forEach(ge=>{J(K[ge])?ge in je?oe[ge]=ue(je[ge],K[ge]):Object.assign(oe,{[ge]:K[ge]}):Object.assign(oe,{[ge]:K[ge]})}),oe}class ce{}let re=(()=>{class je extends ce{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(oe,ge){let ye;return ye="string"==typeof oe?this.interpolateString(oe,ge):"function"==typeof oe?this.interpolateFunction(oe,ge):oe,ye}getValue(oe,ge){let ye="string"==typeof ge?ge.split("."):[ge];ge="";do{ge+=ye.shift(),!F(oe)||!F(oe[ge])||"object"!=typeof oe[ge]&&ye.length?ye.length?ge+=".":oe=void 0:(oe=oe[ge],ge="")}while(ye.length);return oe}interpolateFunction(oe,ge){return oe(ge)}interpolateString(oe,ge){return ge?oe.replace(this.templateMatcher,(ye,Ne)=>{let Be=this.getValue(ge,Ne);return F(Be)?Be:ye}):oe}}return je.\u0275fac=(()=>{let K;return function(ge){return(K||(K=d.xGo(je)))(ge||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class be{}let j=(()=>{class je extends be{compile(oe,ge){return oe}compileTranslations(oe,ge){return oe}}return je.\u0275fac=(()=>{let K;return function(ge){return(K||(K=d.xGo(je)))(ge||je)}})(),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})();class X{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new d.bkB,this.onLangChange=new d.bkB,this.onDefaultLangChange=new d.bkB}}const se=new d.nKC("USE_STORE"),W=new d.nKC("USE_DEFAULT_LANG"),xe=new d.nKC("DEFAULT_LANGUAGE"),q=new d.nKC("USE_EXTEND");let Ae=(()=>{class je{constructor(oe,ge,ye,Ne,Be,Qe=!0,Pt=!1,Ce=!1,Qt){this.store=oe,this.currentLoader=ge,this.compiler=ye,this.parser=Ne,this.missingTranslationHandler=Be,this.useDefaultLang=Qe,this.isolate=Pt,this.extend=Ce,this.pending=!1,this._onTranslationChange=new d.bkB,this._onLangChange=new d.bkB,this._onDefaultLangChange=new d.bkB,this._langs=[],this._translations={},this._translationRequests={},Qt&&this.setDefaultLang(Qt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(oe){this.isolate?this._defaultLang=oe:this.store.defaultLang=oe}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(oe){this.isolate?this._currentLang=oe:this.store.currentLang=oe}get langs(){return this.isolate?this._langs:this.store.langs}set langs(oe){this.isolate?this._langs=oe:this.store.langs=oe}get translations(){return this.isolate?this._translations:this.store.translations}set translations(oe){this.isolate?this._translations=oe:this.store.translations=oe}setDefaultLang(oe){if(oe===this.defaultLang)return;let ge=this.retrieveTranslations(oe);typeof ge<"u"?(null==this.defaultLang&&(this.defaultLang=oe),ge.pipe((0,I.s)(1)).subscribe(ye=>{this.changeDefaultLang(oe)})):this.changeDefaultLang(oe)}getDefaultLang(){return this.defaultLang}use(oe){if(oe===this.currentLang)return(0,A.of)(this.translations[oe]);let ge=this.retrieveTranslations(oe);return typeof ge<"u"?(this.currentLang||(this.currentLang=oe),ge.pipe((0,I.s)(1)).subscribe(ye=>{this.changeLang(oe)}),ge):(this.changeLang(oe),(0,A.of)(this.translations[oe]))}retrieveTranslations(oe){let ge;return(typeof this.translations[oe]>"u"||this.extend)&&(this._translationRequests[oe]=this._translationRequests[oe]||this.getTranslation(oe),ge=this._translationRequests[oe]),ge}getTranslation(oe){this.pending=!0;const ge=this.currentLoader.getTranslation(oe).pipe((0,E.t)(1),(0,I.s)(1));return this.loadingTranslations=ge.pipe((0,y.T)(ye=>this.compiler.compileTranslations(ye,oe)),(0,E.t)(1),(0,I.s)(1)),this.loadingTranslations.subscribe({next:ye=>{this.translations[oe]=this.extend&&this.translations[oe]?{...ye,...this.translations[oe]}:ye,this.updateLangs(),this.pending=!1},error:ye=>{this.pending=!1}}),ge}setTranslation(oe,ge,ye=!1){ge=this.compiler.compileTranslations(ge,oe),this.translations[oe]=(ye||this.extend)&&this.translations[oe]?ue(this.translations[oe],ge):ge,this.updateLangs(),this.onTranslationChange.emit({lang:oe,translations:this.translations[oe]})}getLangs(){return this.langs}addLangs(oe){oe.forEach(ge=>{-1===this.langs.indexOf(ge)&&this.langs.push(ge)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(oe,ge,ye){let Ne;if(ge instanceof Array){let Be={},Qe=!1;for(let Pt of ge)Be[Pt]=this.getParsedResult(oe,Pt,ye),(0,w.A)(Be[Pt])&&(Qe=!0);if(Qe){const Pt=ge.map(Ce=>(0,w.A)(Be[Ce])?Be[Ce]:(0,A.of)(Be[Ce]));return(0,D.p)(Pt).pipe((0,y.T)(Ce=>{let Qt={};return Ce.forEach((Vt,Tt)=>{Qt[ge[Tt]]=Vt}),Qt}))}return Be}if(oe&&(Ne=this.parser.interpolate(this.parser.getValue(oe,ge),ye)),typeof Ne>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Ne=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ge),ye)),typeof Ne>"u"){let Be={key:ge,translateService:this};typeof ye<"u"&&(Be.interpolateParams=ye),Ne=this.missingTranslationHandler.handle(Be)}return typeof Ne<"u"?Ne:ge}get(oe,ge){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,x.H)(ye=>(ye=this.getParsedResult(ye,oe,ge),(0,w.A)(ye)?ye:(0,A.of)(ye))));{let ye=this.getParsedResult(this.translations[this.currentLang],oe,ge);return(0,w.A)(ye)?ye:(0,A.of)(ye)}}getStreamOnTranslationChange(oe,ge){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');return(0,C.x)((0,S.v)(()=>this.get(oe,ge)),this.onTranslationChange.pipe((0,$.n)(ye=>{const Ne=this.getParsedResult(ye.translations,oe,ge);return"function"==typeof Ne.subscribe?Ne:(0,A.of)(Ne)})))}stream(oe,ge){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');return(0,C.x)((0,S.v)(()=>this.get(oe,ge)),this.onLangChange.pipe((0,$.n)(ye=>{const Ne=this.getParsedResult(ye.translations,oe,ge);return(0,w.A)(Ne)?Ne:(0,A.of)(Ne)})))}instant(oe,ge){if(!F(oe)||!oe.length)throw new Error('Parameter "key" required');let ye=this.getParsedResult(this.translations[this.currentLang],oe,ge);if((0,w.A)(ye)){if(oe instanceof Array){let Ne={};return oe.forEach((Be,Qe)=>{Ne[oe[Qe]]=oe[Qe]}),Ne}return oe}return ye}set(oe,ge,ye=this.currentLang){this.translations[ye][oe]=this.compiler.compile(ge,ye),this.updateLangs(),this.onTranslationChange.emit({lang:ye,translations:this.translations[ye]})}changeLang(oe){this.currentLang=oe,this.onLangChange.emit({lang:oe,translations:this.translations[oe]}),null==this.defaultLang&&this.changeDefaultLang(oe)}changeDefaultLang(oe){this.defaultLang=oe,this.onDefaultLangChange.emit({lang:oe,translations:this.translations[oe]})}reloadLang(oe){return this.resetLang(oe),this.getTranslation(oe)}resetLang(oe){this._translationRequests[oe]=void 0,this.translations[oe]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let oe=window.navigator.languages?window.navigator.languages[0]:null;return oe=oe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof oe>"u"?void 0:(-1!==oe.indexOf("-")&&(oe=oe.split("-")[0]),-1!==oe.indexOf("_")&&(oe=oe.split("_")[0]),oe)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let oe=window.navigator.languages?window.navigator.languages[0]:null;return oe=oe||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,oe}}return je.\u0275fac=function(oe){return new(oe||je)(d.KVO(X),d.KVO(R),d.KVO(be),d.KVO(ce),d.KVO(M),d.KVO(W),d.KVO(se),d.KVO(q),d.KVO(xe))},je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})(),yt=(()=>{class je{constructor(oe,ge){this.translate=oe,this._ref=ge,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(oe,ge,ye){let Ne=Be=>{this.value=void 0!==Be?Be:oe,this.lastKey=oe,this._ref.markForCheck()};if(ye){let Be=this.translate.getParsedResult(ye,oe,ge);(0,w.A)(Be.subscribe)?Be.subscribe(Ne):Ne(Be)}this.translate.get(oe,ge).subscribe(Ne)}transform(oe,...ge){if(!oe||!oe.length)return oe;if(U(oe,this.lastKey)&&U(ge,this.lastParams))return this.value;let ye;if(F(ge[0])&&ge.length)if("string"==typeof ge[0]&&ge[0].length){let Ne=ge[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ye=JSON.parse(Ne)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ge[0]}`)}}else"object"==typeof ge[0]&&!Array.isArray(ge[0])&&(ye=ge[0]);return this.lastKey=oe,this.lastParams=ge,this.updateValue(oe,ye),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Ne=>{this.lastKey&&Ne.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(oe,ye,Ne.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Ne=>{this.lastKey&&(this.lastKey=null,this.updateValue(oe,ye,Ne.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(oe,ye))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return je.\u0275fac=function(oe){return new(oe||je)(d.rXU(Ae,16),d.rXU(d.gRc,16))},je.\u0275pipe=d.EJ8({name:"translate",type:je,pure:!1}),je.\u0275prov=d.jDH({token:je,factory:je.\u0275fac}),je})(),Je=(()=>{class je{static forRoot(oe={}){return{ngModule:je,providers:[oe.loader||{provide:R,useClass:O},oe.compiler||{provide:be,useClass:j},oe.parser||{provide:ce,useClass:re},oe.missingTranslationHandler||{provide:M,useClass:L},X,{provide:se,useValue:oe.isolate},{provide:W,useValue:oe.useDefaultLang},{provide:q,useValue:oe.extend},{provide:xe,useValue:oe.defaultLanguage},Ae]}}static forChild(oe={}){return{ngModule:je,providers:[oe.loader||{provide:R,useClass:O},oe.compiler||{provide:be,useClass:j},oe.parser||{provide:ce,useClass:re},oe.missingTranslationHandler||{provide:M,useClass:L},{provide:se,useValue:oe.isolate},{provide:W,useValue:oe.useDefaultLang},{provide:q,useValue:oe.extend},{provide:xe,useValue:oe.defaultLanguage},Ae]}}}return je.\u0275fac=function(oe){return new(oe||je)},je.\u0275mod=d.$C({type:je}),je.\u0275inj=d.G2t({}),je})()},5101:(hn,Re,_)=>{"use strict";_.d(Re,{s:()=>d});class d{constructor(w,D="/assets/i18n/",C=".json"){this.http=w,this.prefix=D,this.suffix=C}getTranslation(w){return this.http.get(`${this.prefix}${w}${this.suffix}`)}}},3803:(hn,Re,_)=>{"use strict";_.d(Re,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},4820:(hn,Re,_)=>{"use strict";_.d(Re,{qd:()=>S,wg:()=>y,y7:()=>I});var d=_(774),A=_(1205),w=_(3803),D=_(524);const C={};function S(x){const $=C[x];if($)return $;let R=D.j[x];if((0,d.a3)(R))return C[x]=R.bind(D.j);const O=D.j.document;if(O&&"function"==typeof O.createElement)try{const M=O.createElement("iframe");M.hidden=!0,O.head.appendChild(M);const L=M.contentWindow;L&&L[x]&&(R=L[x]),O.head.removeChild(M)}catch(M){w.T&&A.vF.warn(`Could not create sandbox iframe for ${x} check, bailing to window.${x}: `,M)}return R&&(C[x]=R.bind(D.j))}function I(x){C[x]=void 0}function y(...x){return S("setTimeout")(...x)}},8283:(hn,Re,_)=>{"use strict";_.d(Re,{i:()=>y});var d=_(5027),A=_(7593),w=_(1582),D=_(524);const C=1e3;let S,I,E;function y(L){(0,d.s5)("dom",L),(0,d.AS)("dom",x)}function x(){if(!D.j.document)return;const L=d.aj.bind(null,"dom"),U=O(L,!0);D.j.document.addEventListener("click",U,!1),D.j.document.addEventListener("keypress",U,!1),["EventTarget","Node"].forEach(F=>{const J=D.j[F]&&D.j[F].prototype;!J||!J.hasOwnProperty||!J.hasOwnProperty("addEventListener")||((0,A.GS)(J,"addEventListener",function(ue){return function(ce,re,be){if("click"===ce||"keypress"==ce)try{const j=this,X=j.__sentry_instrumentation_handlers__=j.__sentry_instrumentation_handlers__||{},se=X[ce]=X[ce]||{refCount:0};if(!se.handler){const W=O(L);se.handler=W,ue.call(this,ce,W,be)}se.refCount++}catch{}return ue.call(this,ce,re,be)}}),(0,A.GS)(J,"removeEventListener",function(ue){return function(ce,re,be){if("click"===ce||"keypress"==ce)try{const j=this,X=j.__sentry_instrumentation_handlers__||{},se=X[ce];se&&(se.refCount--,se.refCount<=0&&(ue.call(this,ce,se.handler,be),se.handler=void 0,delete X[ce]),0===Object.keys(X).length&&delete j.__sentry_instrumentation_handlers__)}catch{}return ue.call(this,ce,re,be)}}))})}function O(L,U=!1){return F=>{if(!F||F._sentryCaptured)return;const J=function M(L){try{return L.target}catch{return null}}(F);if(function R(L,U){return!("keypress"!==L||U&&U.tagName&&("INPUT"===U.tagName||"TEXTAREA"===U.tagName||U.isContentEditable))}(F.type,J))return;(0,A.my)(F,"_sentryCaptured",!0),J&&!J._sentryId&&(0,A.my)(J,"_sentryId",(0,w.eJ)());const ue="keypress"===F.type?"input":F.type;(function $(L){if(L.type!==I)return!1;try{if(!L.target||L.target._sentryId!==E)return!1}catch{}return!0})(F)||(L({event:F,name:ue,global:U}),I=F.type,E=J?J._sentryId:void 0),clearTimeout(S),S=D.j.setTimeout(()=>{E=void 0,I=void 0},C)}}},1100:(hn,Re,_)=>{"use strict";_.d(Re,{_:()=>E});var d=_(5027);const w=_(2031).O;var C=_(7593),S=_(524);let I;function E(x){const $="history";(0,d.s5)($,x),(0,d.AS)($,y)}function y(){if(!function D(){const x=w.chrome;return!(x&&x.app&&x.app.runtime||!("history"in w)||!w.history.pushState||!w.history.replaceState)}())return;const x=S.j.onpopstate;function $(R){return function(...O){const M=O.length>2?O[2]:void 0;if(M){const L=I,U=String(M);I=U,(0,d.aj)("history",{from:L,to:U})}return R.apply(this,O)}}S.j.onpopstate=function(...R){const O=S.j.location.href,M=I;if(I=O,(0,d.aj)("history",{from:M,to:O}),x)try{return x.apply(this,R)}catch{}},(0,C.GS)(S.j.history,"pushState",$),(0,C.GS)(S.j.history,"replaceState",$)}},4097:(hn,Re,_)=>{"use strict";_.d(Re,{Er:()=>S,Mn:()=>I});var d=_(5027),A=_(7593),w=_(8423),D=_(1362),C=_(524);const S="__sentry_xhr_v3__";function I(x){(0,d.s5)("xhr",x),(0,d.AS)("xhr",E)}function E(){if(!C.j.XMLHttpRequest)return;const x=XMLHttpRequest.prototype;(0,A.GS)(x,"open",function($){return function(...R){const O=1e3*(0,w.zf)(),M=(0,D.Kg)(R[0])?R[0].toUpperCase():void 0,L=function y(x){if((0,D.Kg)(x))return x;try{return x.toString()}catch{}}(R[1]);if(!M||!L)return $.apply(this,R);this[S]={method:M,url:L,request_headers:{}},"POST"===M&&L.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const U=()=>{const F=this[S];if(F&&4===this.readyState){try{F.status_code=this.status}catch{}const J={endTimestamp:1e3*(0,w.zf)(),startTimestamp:O,xhr:this};(0,d.aj)("xhr",J)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,A.GS)(this,"onreadystatechange",function(F){return function(...J){return U(),F.apply(this,J)}}):this.addEventListener("readystatechange",U),(0,A.GS)(this,"setRequestHeader",function(F){return function(...J){const[ue,ce]=J,re=this[S];return re&&(0,D.Kg)(ue)&&(0,D.Kg)(ce)&&(re.request_headers[ue.toLowerCase()]=ce),F.apply(this,J)}}),$.apply(this,R)}}),(0,A.GS)(x,"send",function($){return function(...R){const O=this[S];if(!O)return $.apply(this,R);void 0!==R[0]&&(O.body=R[0]);const M={startTimestamp:1e3*(0,w.zf)(),xhr:this};return(0,d.aj)("xhr",M),$.apply(this,R)}})}},3963:(hn,Re,_)=>{"use strict";_.d(Re,{a9:()=>It,T5:()=>ot,hT:()=>Ut,Pt:()=>at,wv:()=>wt,YG:()=>Nt,tC:()=>on});var d=_(1205),A=_(3439),w=_(3803);const C=(nn,xt,zt,$t)=>{let bn,Pn;return Ri=>{xt.value>=0&&(Ri||$t)&&(Pn=xt.value-(bn||0),(Pn||void 0===bn)&&(bn=xt.value,xt.delta=Pn,xt.rating=((nn,xt)=>nn>xt[1]?"poor":nn>xt[0]?"needs-improvement":"good")(xt.value,zt),nn(xt)))}};var S=_(524),E=_(242);const y=()=>{const nn=(0,E.z)();return nn&&nn.activationStart||0},x=(nn,xt)=>{const zt=(0,E.z)();let $t="navigate";return zt&&(S.j.document&&S.j.document.prerendering||y()>0?$t="prerender":S.j.document&&S.j.document.wasDiscarded?$t="restore":zt.type&&($t=zt.type.replace(/_/g,"-"))),{name:nn,value:typeof xt>"u"?-1:xt,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:$t}},$=(nn,xt,zt)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(nn)){const $t=new PerformanceObserver(bn=>{Promise.resolve().then(()=>{xt(bn.getEntries())})});return $t.observe(Object.assign({type:nn,buffered:!0},zt||{})),$t}}catch{}},R=nn=>{const xt=zt=>{("pagehide"===zt.type||S.j.document&&"hidden"===S.j.document.visibilityState)&&nn(zt)};S.j.document&&(addEventListener("visibilitychange",xt,!0),addEventListener("pagehide",xt,!0))},O=nn=>{let xt=!1;return zt=>{xt||(nn(zt),xt=!0)}};var M=_(9056);const L=nn=>{S.j.document&&S.j.document.prerendering?addEventListener("prerenderingchange",()=>nn(),!0):nn()},U=[1800,3e3],J=[.1,.25],ue=(nn,xt={})=>{((nn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("FCP");let bn;const Ri=$("paint",Dn=>{Dn.forEach(Kn=>{"first-contentful-paint"===Kn.name&&(Ri.disconnect(),Kn.startTime<zt.firstHiddenTime&&($t.value=Math.max(Kn.startTime-y(),0),$t.entries.push(Kn),bn(!0)))})});Ri&&(bn=C(nn,$t,U,xt.reportAllChanges))})})(O(()=>{const zt=x("CLS",0);let $t,bn=0,Pn=[];const Ri=Kn=>{Kn.forEach(xn=>{if(!xn.hadRecentInput){const Xn=Pn[0],pt=Pn[Pn.length-1];bn&&Xn&&pt&&xn.startTime-pt.startTime<1e3&&xn.startTime-Xn.startTime<5e3?(bn+=xn.value,Pn.push(xn)):(bn=xn.value,Pn=[xn])}}),bn>zt.value&&(zt.value=bn,zt.entries=Pn,$t())},Dn=$("layout-shift",Ri);Dn&&($t=C(nn,zt,J,xt.reportAllChanges),R(()=>{Ri(Dn.takeRecords()),$t(!0)}),setTimeout($t,0))}))},ce=[100,300],re=(nn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("FID");let bn;const Pn=Kn=>{Kn.startTime<zt.firstHiddenTime&&($t.value=Kn.processingStart-Kn.startTime,$t.entries.push(Kn),bn(!0))},Ri=Kn=>{Kn.forEach(Pn)},Dn=$("first-input",Ri);bn=C(nn,$t,ce,xt.reportAllChanges),Dn&&R(O(()=>{Ri(Dn.takeRecords()),Dn.disconnect()}))})};let be=0,j=1/0,X=0;const se=nn=>{nn.forEach(xt=>{xt.interactionId&&(j=Math.min(j,xt.interactionId),X=Math.max(X,xt.interactionId),be=X?(X-j)/7+1:0)})};let W;const Ae=[200,500],yt=()=>(W?be:performance.interactionCount||0)-0,je=[],K={},oe=nn=>{const xt=je[je.length-1],zt=K[nn.interactionId];if(zt||je.length<10||xt&&nn.duration>xt.latency){if(zt)zt.entries.push(nn),zt.latency=Math.max(zt.latency,nn.duration);else{const $t={id:nn.interactionId,latency:nn.duration,entries:[nn]};K[$t.id]=$t,je.push($t)}je.sort(($t,bn)=>bn.latency-$t.latency),je.splice(10).forEach($t=>{delete K[$t.id]})}},ye=(nn,xt={})=>{L(()=>{"interactionCount"in performance||W||(W=$("event",se,{type:"event",buffered:!0,durationThreshold:0}));const zt=x("INP");let $t;const bn=Ri=>{Ri.forEach(Kn=>{Kn.interactionId&&oe(Kn),"first-input"===Kn.entryType&&!je.some(Xn=>Xn.entries.some(pt=>Kn.duration===pt.duration&&Kn.startTime===pt.startTime))&&oe(Kn)});const Dn=(()=>{const nn=Math.min(je.length-1,Math.floor(yt()/50));return je[nn]})();Dn&&Dn.latency!==zt.value&&(zt.value=Dn.latency,zt.entries=Dn.entries,$t())},Pn=$("event",bn,{durationThreshold:null!=xt.durationThreshold?xt.durationThreshold:40});$t=C(nn,zt,Ae,xt.reportAllChanges),Pn&&("PerformanceEventTiming"in S.j&&"interactionId"in PerformanceEventTiming.prototype&&Pn.observe({type:"first-input",buffered:!0}),R(()=>{bn(Pn.takeRecords()),zt.value<0&&yt()>0&&(zt.value=0,zt.entries=[]),$t(!0)}))})},Ne=[2500,4e3],Be={},Qe=(nn,xt={})=>{L(()=>{const zt=(0,M.N)(),$t=x("LCP");let bn;const Pn=Dn=>{const Kn=Dn[Dn.length-1];Kn&&Kn.startTime<zt.firstHiddenTime&&($t.value=Math.max(Kn.startTime-y(),0),$t.entries=[Kn],bn())},Ri=$("largest-contentful-paint",Pn);if(Ri){bn=C(nn,$t,Ne,xt.reportAllChanges);const Dn=O(()=>{Be[$t.id]||(Pn(Ri.takeRecords()),Ri.disconnect(),Be[$t.id]=!0,bn(!0))});["keydown","click"].forEach(Kn=>{S.j.document&&addEventListener(Kn,()=>setTimeout(Dn,0),!0)}),R(Dn)}})},Pt=[800,1800],Ce=nn=>{S.j.document&&S.j.document.prerendering?L(()=>Ce(nn)):S.j.document&&"complete"!==S.j.document.readyState?addEventListener("load",()=>Ce(nn),!0):setTimeout(nn,0)},Qt=(nn,xt={})=>{const zt=x("TTFB"),$t=C(nn,zt,Pt,xt.reportAllChanges);Ce(()=>{const bn=(0,E.z)();if(bn){const Pn=bn.responseStart;if(Pn<=0||Pn>performance.now())return;zt.value=Math.max(Pn-y(),0),zt.entries=[bn],$t(!0)}})},Vt={},Tt={};let Ot,ft,Oe,Ye,vt;function It(nn,xt=!1){return Gt("cls",nn,dt,Ot,xt)}function at(nn,xt=!1){return Gt("lcp",nn,Pe,Oe,xt)}function ot(nn){return Gt("fid",nn,Z,ft)}function Nt(nn){return Gt("ttfb",nn,pe,Ye)}function Ut(nn){return Gt("inp",nn,lt,vt)}function wt(nn,xt){return Hn(nn,xt),Tt[nn]||(function rn(nn){const xt={};"event"===nn&&(xt.durationThreshold=0),$(nn,zt=>{ut(nn,{entries:zt})},xt)}(nn),Tt[nn]=!0),Ei(nn,xt)}function ut(nn,xt){const zt=Vt[nn];if(zt&&zt.length)for(const $t of zt)try{$t(xt)}catch(bn){w.T&&d.vF.error(`Error while triggering instrumentation handler.\nType: ${nn}\nName: ${(0,A.qQ)($t)}\nError:`,bn)}}function dt(){return ue(nn=>{ut("cls",{metric:nn}),Ot=nn},{reportAllChanges:!0})}function Z(){return re(nn=>{ut("fid",{metric:nn}),ft=nn})}function Pe(){return Qe(nn=>{ut("lcp",{metric:nn}),Oe=nn},{reportAllChanges:!0})}function pe(){return Qt(nn=>{ut("ttfb",{metric:nn}),Ye=nn})}function lt(){return ye(nn=>{ut("inp",{metric:nn}),vt=nn})}function Gt(nn,xt,zt,$t,bn=!1){let Pn;return Hn(nn,xt),Tt[nn]||(Pn=zt(),Tt[nn]=!0),$t&&xt({metric:$t}),Ei(nn,xt,bn?Pn:void 0)}function Hn(nn,xt){Vt[nn]=Vt[nn]||[],Vt[nn].push(xt)}function Ei(nn,xt,zt){return()=>{zt&&zt();const $t=Vt[nn];if(!$t)return;const bn=$t.indexOf(xt);-1!==bn&&$t.splice(bn,1)}}function on(nn){return"duration"in nn}},242:(hn,Re,_)=>{"use strict";_.d(Re,{z:()=>A});var d=_(524);const A=()=>d.j.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},9056:(hn,Re,_)=>{"use strict";_.d(Re,{N:()=>S});var d=_(524);let A=-1;const D=I=>{"hidden"===d.j.document.visibilityState&&A>-1&&(A="visibilitychange"===I.type?I.timeStamp:0,removeEventListener("visibilitychange",D,!0),removeEventListener("prerenderingchange",D,!0))},S=()=>(d.j.document&&A<0&&(A="hidden"!==d.j.document.visibilityState||d.j.document.prerendering?1/0:0,addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)),{get firstHiddenTime(){return A}})},524:(hn,Re,_)=>{"use strict";_.d(Re,{j:()=>A});const A=_(2031).O},2480:(hn,Re,_)=>{"use strict";_.d(Re,{w:()=>Fl});var d=_(9204);function w(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}var D=_(7376),C=_(2849);function y(k){return"/"===k[k.length-1]?k.slice(0,-1):k}var x=_(1229),$=_(1995),R=_(8165),O=_(4541),M=_(4707),L=_(2031),U=_(6362),F=_(7593),J=_(4440),ue=_(8423),ce=_(1205),re=_(1582),be=_(6851),j=_(7138),X=_(5612),se=_(1857),W=_(679);function Xe(){return typeof window<"u"&&(!function xe(){return!(0,W.Z)()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function yt(){return void 0!==L.O.process&&"renderer"===L.O.process.type}())}var Je=_(4820),je=_(3963),K=_(4097),oe=_(8283),ge=_(1100);const ye=L.O,Ne="sentryReplaySession",Be="replay_event",Qe="Unable to send Replay",Ot=5e3,ft=3,Oe=15e4,at=2e7;function wt(k,B){return k??B()}function ut(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}var dt=function(k){return k[k.Document=0]="Document",k[k.DocumentType=1]="DocumentType",k[k.Element=2]="Element",k[k.Text=3]="Text",k[k.CDATA=4]="CDATA",k[k.Comment=5]="Comment",k}(dt||{});function Pe(k){const B=ut([k,"optionalAccess",he=>he.host]);return ut([B,"optionalAccess",he=>he.shadowRoot])===k}function pe(k){return"[object ShadowRoot]"===Object.prototype.toString.call(k)}function rn(k){try{const B=k.rules||k.cssRules;return B?function lt(k){return k.includes(" background-clip: text;")&&!k.includes(" -webkit-background-clip: text;")&&(k=k.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),k}(Array.from(B,Hn).join("")):null}catch{return null}}function Hn(k){let B;if(function on(k){return"styleSheet"in k}(k))try{B=rn(k.styleSheet)||function Gt(k){const{cssText:B}=k;if(B.split('"').length<3)return B;const he=["@import",`url(${JSON.stringify(k.href)})`];return""===k.layerName?he.push("layer"):k.layerName&&he.push(`layer(${k.layerName})`),k.supportsText&&he.push(`supports(${k.supportsText})`),k.media.length&&he.push(k.media.mediaText),he.join(" ")+";"}(k)}catch{}else if(function nn(k){return"selectorText"in k}(k)&&k.selectorText.includes(":"))return function Ei(k){return k.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(k.cssText);return B||k.cssText}class xt{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(B){return B?wt(ut([this,"access",qe=>qe.getMeta,"call",qe=>qe(B),"optionalAccess",qe=>qe.id]),()=>-1):-1}getNode(B){return this.idNodeMap.get(B)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(B){return this.nodeMetaMap.get(B)||null}removeNodeFromMap(B){const he=this.getId(B);this.idNodeMap.delete(he),B.childNodes&&B.childNodes.forEach(qe=>this.removeNodeFromMap(qe))}has(B){return this.idNodeMap.has(B)}hasNode(B){return this.nodeMetaMap.has(B)}add(B,he){this.idNodeMap.set(he.id,B),this.nodeMetaMap.set(B,he)}replace(B,he){const qe=this.getNode(B);if(qe){const At=this.nodeMetaMap.get(qe);At&&this.nodeMetaMap.set(he,At)}this.idNodeMap.set(B,he)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function $t({maskInputOptions:k,tagName:B,type:he}){return"OPTION"===B&&(B="SELECT"),!!(k[B.toLowerCase()]||he&&k[he]||"password"===he||"INPUT"===B&&!he&&k.text)}function bn({isMasked:k,element:B,value:he,maskInputFn:qe}){let At=he||"";return k?(qe&&(At=qe(At,B)),"*".repeat(At.length)):At}function Pn(k){return k.toLowerCase()}function Ri(k){return k.toUpperCase()}const Dn="__rrweb_original__";function xn(k){const B=k.type;return k.hasAttribute("data-rr-is-password")?"password":B?Pn(B):null}function Xn(k,B,he){return"INPUT"!==B||"radio"!==he&&"checkbox"!==he?k.value:k.getAttribute("value")||""}function pt(k,B){let he;try{he=new URL(k,wt(B,()=>window.location.href))}catch{return null}return wt(ut([he.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",Yt=>Yt[1]]),()=>null)}const Le={};function We(k){const B=Le[k];if(B)return B;const he=window.document;let qe=window[k];if(he&&"function"==typeof he.createElement)try{const At=he.createElement("iframe");At.hidden=!0,he.head.appendChild(At);const Yt=At.contentWindow;Yt&&Yt[k]&&(qe=Yt[k]),he.head.removeChild(At)}catch{}return Le[k]=qe.bind(window)}function $e(...k){return We("setTimeout")(...k)}function gt(...k){return We("clearTimeout")(...k)}let Zt=1;const _n=new RegExp("[^a-z0-9-_:]"),ct=-2;function De(){return Zt++}let bt,Ft;const An=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Rn=/^(?:[a-z+]+:)?\/\//i,ni=/^www\..*/i,gi=/^(data:)([^,]*),(.*)/i;function Ui(k,B){return(k||"").replace(An,(he,qe,At,Yt,yn,Bn)=>{const Sn=At||yn||Bn,ei=qe||Yt||"";if(!Sn)return he;if(Rn.test(Sn)||ni.test(Sn))return`url(${ei}${Sn}${ei})`;if(gi.test(Sn))return`url(${ei}${Sn}${ei})`;if("/"===Sn[0])return`url(${ei}${function Fe(k){let B="";return B=k.indexOf("//")>-1?k.split("/").slice(0,3).join("/"):k.split("/")[0],B=B.split("?")[0],B}(B)+Sn}${ei})`;const bi=B.split("/"),pi=Sn.split("/");bi.pop();for(const wi of pi)"."!==wi&&(".."===wi?bi.pop():bi.push(wi));return`url(${ei}${bi.join("/")}${ei})`})}const Ti=/^[^ \t\n\r\u000c]+/,Hi=/^[, \t\n\r\u000c]+/;function Gi(k,B){if(!B||""===B.trim())return B;const he=k.createElement("a");return he.href=B,he.href}function lr(k){return!("svg"!==k.tagName&&!k.ownerSVGElement)}function ir(){const k=document.createElement("a");return k.href="",k.href}function Sr(k,B,he,qe,At,Yt){return qe&&("src"===he||"href"===he&&("use"!==B||"#"!==qe[0])||"xlink:href"===he&&"#"!==qe[0]||"background"===he&&("table"===B||"td"===B||"th"===B)?Gi(k,qe):"srcset"===he?function Zn(k,B){if(""===B.trim())return B;let he=0;function qe(Yt){let yn;const Bn=Yt.exec(B.substring(he));return Bn?(yn=Bn[0],he+=yn.length,yn):""}const At=[];for(;qe(Hi),!(he>=B.length);){let Yt=qe(Ti);if(","===Yt.slice(-1))Yt=Gi(k,Yt.substring(0,Yt.length-1)),At.push(Yt);else{let yn="";Yt=Gi(k,Yt);let Bn=!1;for(;;){const Sn=B.charAt(he);if(""===Sn){At.push((Yt+yn).trim());break}if(Bn)")"===Sn&&(Bn=!1);else{if(","===Sn){he+=1,At.push((Yt+yn).trim());break}"("===Sn&&(Bn=!0)}yn+=Sn,he+=1}}}return At.join(", ")}(k,qe):"style"===he?Ui(qe,ir()):"object"===B&&"data"===he?Gi(k,qe):"function"==typeof Yt?Yt(he,qe,At):qe)}function Hr(k,B,he){return("video"===k||"audio"===k)&&"autoplay"===B}function bs(k,B,he=1/0,qe=0){return!k||k.nodeType!==k.ELEMENT_NODE||qe>he?-1:B(k)?qe:bs(k.parentNode,B,he,qe+1)}function Ss(k,B){return he=>{const qe=he;if(null===qe)return!1;try{if(k)if("string"==typeof k){if(qe.matches(`.${k}`))return!0}else if(function Vr(k,B){for(let he=k.classList.length;he--;)if(B.test(k.classList[he]))return!0;return!1}(qe,k))return!0;return!(!B||!qe.matches(B))}catch{return!1}}}function ss(k,B,he,qe,At,Yt){try{const yn=k.nodeType===k.ELEMENT_NODE?k:k.parentElement;if(null===yn)return!1;if("INPUT"===yn.tagName){const ei=yn.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(ei))return!0}let Bn=-1,Sn=-1;if(Yt){if(Sn=bs(yn,Ss(qe,At)),Sn<0)return!0;Bn=bs(yn,Ss(B,he),Sn>=0?Sn:1/0)}else{if(Bn=bs(yn,Ss(B,he)),Bn<0)return!1;Sn=bs(yn,Ss(qe,At),Bn>=0?Bn:1/0)}return Bn>=0?!(Sn>=0)||Bn<=Sn:!(Sn>=0||!Yt)}catch{}return!!Yt}function Mt(k){return null==k?"":k.toLowerCase()}function et(k,B){const{doc:he,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:Bn,maskTextClass:Sn,unmaskTextClass:ei,maskTextSelector:bi,unmaskTextSelector:pi,skipChild:wi=!1,inlineStylesheet:Ci=!0,maskInputOptions:Un={},maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOMOptions:jr,dataURLOptions:is={},inlineImages:Ls=!1,recordCanvas:Qr=!1,onSerialize:xr,onIframeLoad:cr,iframeLoadTimeout:Ki=5e3,onStylesheetLoad:Do,stylesheetLoadTimeout:Nr=5e3,keepIframeSrcFn:ls=(()=>!1),newlyAddedElement:cs=!1}=B;let{preserveWhiteSpace:ea=!0}=B;const ta=function ar(k,B){const{doc:he,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:Bn,maskAttributeFn:Sn,maskTextClass:ei,unmaskTextClass:bi,maskTextSelector:pi,unmaskTextSelector:wi,inlineStylesheet:Ci,maskInputOptions:Un={},maskTextFn:yi,maskInputFn:pr,dataURLOptions:or={},inlineImages:jr,recordCanvas:is,keepIframeSrcFn:Ls,newlyAddedElement:Qr=!1}=B,xr=function zi(k,B){if(!B.hasNode(k))return;const he=B.getId(k);return 1===he?void 0:he}(he,qe);switch(k.nodeType){case k.DOCUMENT_NODE:return"CSS1Compat"!==k.compatMode?{type:dt.Document,childNodes:[],compatMode:k.compatMode}:{type:dt.Document,childNodes:[]};case k.DOCUMENT_TYPE_NODE:return{type:dt.DocumentType,name:k.name,publicId:k.publicId,systemId:k.systemId,rootId:xr};case k.ELEMENT_NODE:return function Ge(k,B){const{doc:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,inlineStylesheet:yn,maskInputOptions:Bn={},maskAttributeFn:Sn,maskInputFn:ei,dataURLOptions:bi={},inlineImages:pi,recordCanvas:wi,keepIframeSrcFn:Ci,newlyAddedElement:Un=!1,rootId:yi,maskTextClass:or,unmaskTextClass:jr,maskTextSelector:is,unmaskTextSelector:Ls}=B,Qr=function vs(k,B,he,qe){try{if(qe&&k.matches(qe))return!1;if("string"==typeof B){if(k.classList.contains(B))return!0}else for(let At=k.classList.length;At--;)if(B.test(k.classList[At]))return!0;if(he)return k.matches(he)}catch{}return!1}(k,qe,At,Yt),xr=function st(k){if(k instanceof HTMLFormElement)return"form";const B=Pn(k.tagName);return _n.test(B)?"div":B}(k);let cr={};const Ki=k.attributes.length;for(let Nr=0;Nr<Ki;Nr++){const ls=k.attributes[Nr];ls.name&&!Hr(xr,ls.name)&&(cr[ls.name]=Sr(he,xr,Pn(ls.name),ls.value,k,Sn))}if("link"===xr&&yn){const Nr=Array.from(he.styleSheets).find(cs=>cs.href===k.href);let ls=null;Nr&&(ls=rn(Nr)),ls&&(delete cr.rel,delete cr.href,cr._cssText=Ui(ls,Nr.href))}if("style"===xr&&k.sheet&&!(k.innerText||k.textContent||"").trim().length){const Nr=rn(k.sheet);Nr&&(cr._cssText=Ui(Nr,ir()))}if("input"===xr||"textarea"===xr||"select"===xr||"option"===xr){const Nr=k,ls=xn(Nr),cs=Xn(Nr,Ri(xr),ls),ea=Nr.checked;if("submit"!==ls&&"button"!==ls&&cs){const ta=ss(Nr,or,is,jr,Ls,$t({type:ls,tagName:Ri(xr),maskInputOptions:Bn}));cr.value=bn({isMasked:ta,element:Nr,value:cs,maskInputFn:ei})}ea&&(cr.checked=ea)}if("option"===xr&&(k.selected&&!Bn.select?cr.selected=!0:delete cr.selected),"canvas"===xr&&wi)if("2d"===k.__context)(function Kn(k){const B=k.getContext("2d");if(!B)return!0;for(let qe=0;qe<k.width;qe+=50)for(let At=0;At<k.height;At+=50){const Yt=B.getImageData;if(new Uint32Array((Dn in Yt?Yt[Dn]:Yt).call(B,qe,At,Math.min(50,k.width-qe),Math.min(50,k.height-At)).data.buffer).some(Sn=>0!==Sn))return!1}return!0})(k)||(cr.rr_dataURL=k.toDataURL(bi.type,bi.quality));else if(!("__context"in k)){const Nr=k.toDataURL(bi.type,bi.quality),ls=document.createElement("canvas");ls.width=k.width,ls.height=k.height,Nr!==ls.toDataURL(bi.type,bi.quality)&&(cr.rr_dataURL=Nr)}if("img"===xr&&pi){bt||(bt=he.createElement("canvas"),Ft=bt.getContext("2d"));const Nr=k,ls=Nr.crossOrigin;Nr.crossOrigin="anonymous";const cs=()=>{Nr.removeEventListener("load",cs);try{bt.width=Nr.naturalWidth,bt.height=Nr.naturalHeight,Ft.drawImage(Nr,0,0),cr.rr_dataURL=bt.toDataURL(bi.type,bi.quality)}catch(ea){console.warn(`Cannot inline img src=${Nr.currentSrc}! Error: ${ea}`)}ls?cr.crossOrigin=ls:Nr.removeAttribute("crossorigin")};Nr.complete&&0!==Nr.naturalWidth?cs():Nr.addEventListener("load",cs)}if(("audio"===xr||"video"===xr)&&(cr.rr_mediaState=k.paused?"paused":"played",cr.rr_mediaCurrentTime=k.currentTime),Un||(k.scrollLeft&&(cr.rr_scrollLeft=k.scrollLeft),k.scrollTop&&(cr.rr_scrollTop=k.scrollTop)),Qr){const{width:Nr,height:ls}=k.getBoundingClientRect();cr={class:cr.class,rr_width:`${Nr}px`,rr_height:`${ls}px`}}let Do;"iframe"===xr&&!Ci(cr.src)&&(!Qr&&!k.contentDocument&&(cr.rr_src=cr.src),delete cr.src);try{customElements.get(xr)&&(Do=!0)}catch{}return{type:dt.Element,tagName:xr,attributes:cr,childNodes:[],isSVG:lr(k)||void 0,needBlock:Qr,rootId:yi,isCustom:Do}}(k,{doc:he,blockClass:At,blockSelector:Yt,unblockSelector:yn,inlineStylesheet:Ci,maskAttributeFn:Sn,maskInputOptions:Un,maskInputFn:pr,dataURLOptions:or,inlineImages:jr,recordCanvas:is,keepIframeSrcFn:Ls,newlyAddedElement:Qr,rootId:xr,maskAllText:Bn,maskTextClass:ei,unmaskTextClass:bi,maskTextSelector:pi,unmaskTextSelector:wi});case k.TEXT_NODE:return function si(k,B){const{maskAllText:he,maskTextClass:qe,unmaskTextClass:At,maskTextSelector:Yt,unmaskTextSelector:yn,maskTextFn:Bn,maskInputOptions:Sn,maskInputFn:ei,rootId:bi}=B,pi=k.parentNode&&k.parentNode.tagName;let wi=k.textContent;const Ci="STYLE"===pi||void 0,Un="SCRIPT"===pi||void 0,yi="TEXTAREA"===pi||void 0;if(Ci&&wi){try{k.nextSibling||k.previousSibling||ut([k,"access",or=>or.parentNode,"access",or=>or.sheet,"optionalAccess",or=>or.cssRules])&&(wi=rn(k.parentNode.sheet))}catch(or){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${or}`,k)}wi=Ui(wi,ir())}Un&&(wi="SCRIPT_PLACEHOLDER");const pr=ss(k,qe,Yt,At,yn,he);return!Ci&&!Un&&!yi&&wi&&pr&&(wi=Bn?Bn(wi,k.parentElement):wi.replace(/[\S]/g,"*")),yi&&wi&&(Sn.textarea||pr)&&(wi=ei?ei(wi,k.parentNode):wi.replace(/[\S]/g,"*")),"OPTION"===pi&&wi&&(wi=bn({isMasked:ss(k,qe,Yt,At,yn,$t({type:null,tagName:pi,maskInputOptions:Sn})),element:k,value:wi,maskInputFn:ei})),{type:dt.Text,textContent:wi||"",isStyle:Ci,rootId:bi}}(k,{maskAllText:Bn,maskTextClass:ei,unmaskTextClass:bi,maskTextSelector:pi,unmaskTextSelector:wi,maskTextFn:yi,maskInputOptions:Un,maskInputFn:pr,rootId:xr});case k.CDATA_SECTION_NODE:return{type:dt.CDATA,textContent:"",rootId:xr};case k.COMMENT_NODE:return{type:dt.Comment,textContent:k.textContent||"",rootId:xr};default:return!1}}(k,{doc:he,mirror:qe,blockClass:At,blockSelector:Yt,maskAllText:Bn,unblockSelector:yn,maskTextClass:Sn,unmaskTextClass:ei,maskTextSelector:bi,unmaskTextSelector:pi,inlineStylesheet:Ci,maskInputOptions:Un,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,dataURLOptions:is,inlineImages:Ls,recordCanvas:Qr,keepIframeSrcFn:ls,newlyAddedElement:cs});if(!ta)return console.warn(k,"not serialized"),null;let Xo;Xo=qe.hasNode(k)?qe.getId(k):function ne(k,B){if(B.comment&&k.type===dt.Comment)return!0;if(k.type===dt.Element){if(B.script&&("script"===k.tagName||"link"===k.tagName&&("preload"===k.attributes.rel||"modulepreload"===k.attributes.rel)&&"script"===k.attributes.as||"link"===k.tagName&&"prefetch"===k.attributes.rel&&"string"==typeof k.attributes.href&&"js"===pt(k.attributes.href)))return!0;if(B.headFavicon&&("link"===k.tagName&&"shortcut icon"===k.attributes.rel||"meta"===k.tagName&&(Mt(k.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Mt(k.attributes.name)||"icon"===Mt(k.attributes.rel)||"apple-touch-icon"===Mt(k.attributes.rel)||"shortcut icon"===Mt(k.attributes.rel))))return!0;if("meta"===k.tagName){if(B.headMetaDescKeywords&&Mt(k.attributes.name).match(/^description|keywords$/))return!0;if(B.headMetaSocial&&(Mt(k.attributes.property).match(/^(og|twitter|fb):/)||Mt(k.attributes.name).match(/^(og|twitter):/)||"pinterest"===Mt(k.attributes.name)))return!0;if(B.headMetaRobots&&("robots"===Mt(k.attributes.name)||"googlebot"===Mt(k.attributes.name)||"bingbot"===Mt(k.attributes.name)))return!0;if(B.headMetaHttpEquiv&&void 0!==k.attributes["http-equiv"])return!0;if(B.headMetaAuthorship&&("author"===Mt(k.attributes.name)||"generator"===Mt(k.attributes.name)||"framework"===Mt(k.attributes.name)||"publisher"===Mt(k.attributes.name)||"progid"===Mt(k.attributes.name)||Mt(k.attributes.property).match(/^article:/)||Mt(k.attributes.property).match(/^product:/)))return!0;if(B.headMetaVerification&&("google-site-verification"===Mt(k.attributes.name)||"yandex-verification"===Mt(k.attributes.name)||"csrf-token"===Mt(k.attributes.name)||"p:domain_verify"===Mt(k.attributes.name)||"verify-v1"===Mt(k.attributes.name)||"verification"===Mt(k.attributes.name)||"shopify-checkout-api-token"===Mt(k.attributes.name)))return!0}}return!1}(ta,jr)||!ea&&ta.type===dt.Text&&!ta.isStyle&&!ta.textContent.replace(/^\s+|\s+$/gm,"").length?ct:De();const $s=Object.assign(ta,{id:Xo});if(qe.add(k,$s),Xo===ct)return null;xr&&xr(k);let Kc=!wi;if($s.type===dt.Element){Kc=Kc&&!$s.needBlock,delete $s.needBlock;const To=k.shadowRoot;To&&pe(To)&&($s.isShadowHost=!0)}if(($s.type===dt.Document||$s.type===dt.Element)&&Kc){jr.headWhitespace&&$s.type===dt.Element&&"head"===$s.tagName&&(ea=!1);const To={doc:he,mirror:qe,blockClass:At,blockSelector:Yt,maskAllText:Bn,unblockSelector:yn,maskTextClass:Sn,unmaskTextClass:ei,maskTextSelector:bi,unmaskTextSelector:pi,skipChild:wi,inlineStylesheet:Ci,maskInputOptions:Un,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOMOptions:jr,dataURLOptions:is,inlineImages:Ls,recordCanvas:Qr,preserveWhiteSpace:ea,onSerialize:xr,onIframeLoad:cr,iframeLoadTimeout:Ki,onStylesheetLoad:Do,stylesheetLoadTimeout:Nr,keepIframeSrcFn:ls};for(const yc of Array.from(k.childNodes)){const ka=et(yc,To);ka&&$s.childNodes.push(ka)}if(function Z(k){return k.nodeType===k.ELEMENT_NODE}(k)&&k.shadowRoot)for(const yc of Array.from(k.shadowRoot.childNodes)){const ka=et(yc,To);ka&&(pe(k.shadowRoot)&&(ka.isShadow=!0),$s.childNodes.push(ka))}}return k.parentNode&&Pe(k.parentNode)&&pe(k.parentNode)&&($s.isShadow=!0),$s.type===dt.Element&&"iframe"===$s.tagName&&function Yi(k,B,he){const qe=k.contentWindow;if(!qe)return;let Yt,At=!1;try{Yt=qe.document.readyState}catch{return}if("complete"!==Yt){const Bn=$e(()=>{At||(B(),At=!0)},he);return void k.addEventListener("load",()=>{gt(Bn),At=!0,B()})}const yn="about:blank";if(qe.location.href!==yn||k.src===yn||""===k.src)return $e(B,0),k.addEventListener("load",B);k.addEventListener("load",B)}(k,()=>{const To=k.contentDocument;if(To&&cr){const yc=et(To,{doc:To,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:Bn,maskTextClass:Sn,unmaskTextClass:ei,maskTextSelector:bi,unmaskTextSelector:pi,skipChild:!1,inlineStylesheet:Ci,maskInputOptions:Un,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOMOptions:jr,dataURLOptions:is,inlineImages:Ls,recordCanvas:Qr,preserveWhiteSpace:ea,onSerialize:xr,onIframeLoad:cr,iframeLoadTimeout:Ki,onStylesheetLoad:Do,stylesheetLoadTimeout:Nr,keepIframeSrcFn:ls});yc&&cr(k,yc)}},Ki),$s.type===dt.Element&&"link"===$s.tagName&&"string"==typeof $s.attributes.rel&&("stylesheet"===$s.attributes.rel||"preload"===$s.attributes.rel&&"string"==typeof $s.attributes.href&&"css"===pt($s.attributes.href))&&function rr(k,B,he){let At,qe=!1;try{At=k.sheet}catch{return}if(At)return;const Yt=$e(()=>{qe||(B(),qe=!0)},he);k.addEventListener("load",()=>{gt(Yt),qe=!0,B()})}(k,()=>{if(Do){const To=et(k,{doc:he,mirror:qe,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:Bn,maskTextClass:Sn,unmaskTextClass:ei,maskTextSelector:bi,unmaskTextSelector:pi,skipChild:!1,inlineStylesheet:Ci,maskInputOptions:Un,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOMOptions:jr,dataURLOptions:is,inlineImages:Ls,recordCanvas:Qr,preserveWhiteSpace:ea,onSerialize:xr,onIframeLoad:cr,iframeLoadTimeout:Ki,onStylesheetLoad:Do,stylesheetLoadTimeout:Nr,keepIframeSrcFn:ls});To&&Do(k,To)}},Nr),$s}function kt(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}function Bt(k,B,he=document){const qe={capture:!0,passive:!0};return he.addEventListener(k,B,qe),()=>he.removeEventListener(k,B,qe)}const Jn="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Pi={map:{},getId:()=>(console.error(Jn),-1),getNode:()=>(console.error(Jn),null),removeNodeFromMap(){console.error(Jn)},has:()=>(console.error(Jn),!1),reset(){console.error(Jn)}};function sr(k,B,he={}){let qe=null,At=0;return function(...Yt){const yn=Date.now();!At&&!1===he.leading&&(At=yn);const Bn=B-(yn-At),Sn=this;Bn<=0||Bn>B?(qe&&(function Bl(...k){La("clearTimeout")(...k)}(qe),qe=null),At=yn,k.apply(Sn,Yt)):!qe&&!1!==he.trailing&&(qe=$a(()=>{At=!1===he.leading?0:Date.now(),qe=null,k.apply(Sn,Yt)},Bn))}}function Dr(k,B,he,qe,At=window){const Yt=At.Object.getOwnPropertyDescriptor(k,B);return At.Object.defineProperty(k,B,qe?he:{set(yn){$a(()=>{he.set.call(this,yn)},0),Yt&&Yt.set&&Yt.set.call(this,yn)}}),()=>Dr(k,B,Yt||{},!0)}function Fr(k,B,he){try{if(!(B in k))return()=>{};const qe=k[B],At=he(qe);return"function"==typeof At&&(At.prototype=At.prototype||{},Object.defineProperties(At,{__rrweb_original__:{enumerable:!1,value:qe}})),k[B]=At,()=>{k[B]=qe}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(Pi=new Proxy(Pi,{get:(k,B,he)=>("map"===B&&console.error(Jn),Reflect.get(k,B,he))}));let Zr=Date.now;function ds(k){const B=k.document;return{left:B.scrollingElement?B.scrollingElement.scrollLeft:void 0!==k.pageXOffset?k.pageXOffset:kt([B,"optionalAccess",he=>he.documentElement,"access",he=>he.scrollLeft])||kt([B,"optionalAccess",he=>he.body,"optionalAccess",he=>he.parentElement,"optionalAccess",he=>he.scrollLeft])||kt([B,"optionalAccess",he=>he.body,"optionalAccess",he=>he.scrollLeft])||0,top:B.scrollingElement?B.scrollingElement.scrollTop:void 0!==k.pageYOffset?k.pageYOffset:kt([B,"optionalAccess",he=>he.documentElement,"access",he=>he.scrollTop])||kt([B,"optionalAccess",he=>he.body,"optionalAccess",he=>he.parentElement,"optionalAccess",he=>he.scrollTop])||kt([B,"optionalAccess",he=>he.body,"optionalAccess",he=>he.scrollTop])||0}}function Os(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Er(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Jr(k){return k?k.nodeType===k.ELEMENT_NODE?k:k.parentElement:null}function Ds(k,B,he,qe,At){if(!k)return!1;const Yt=Jr(k);if(!Yt)return!1;const yn=Ss(B,he);if(!At){const ei=qe&&Yt.matches(qe);return yn(Yt)&&!ei}const Bn=bs(Yt,yn);let Sn=-1;return!(Bn<0)&&(qe&&(Sn=bs(Yt,Ss(null,qe))),Bn>-1&&Sn<0||Bn<Sn)}function Br(k,B){return B.getId(k)===ct}function Mo(k,B){if(Pe(k))return!1;const he=B.getId(k);return!B.has(he)||(!k.parentNode||k.parentNode.nodeType!==k.DOCUMENT_NODE)&&(!k.parentNode||Mo(k.parentNode,B))}function Yo(k){return!!k.changedTouches}function Al(k,B){return!("IFRAME"!==k.nodeName||!B.getMeta(k))}function Ya(k,B){return!("LINK"!==k.nodeName||k.nodeType!==k.ELEMENT_NODE||!k.getAttribute||"stylesheet"!==k.getAttribute("rel")||!B.getMeta(k))}function qa(k){return!!kt([k,"optionalAccess",B=>B.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(Zr=()=>(new Date).getTime());class ya{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(B){return function A(k,B){return k??B()}(this.styleIDMap.get(B),()=>-1)}has(B){return this.styleIDMap.has(B)}add(B,he){if(this.has(B))return this.getId(B);let qe;return qe=void 0===he?this.id++:he,this.styleIDMap.set(B,qe),this.idStyleMap.set(qe,B),qe}getStyle(B){return this.idStyleMap.get(B)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ra(k){let B=null;return kt([k,"access",he=>he.getRootNode,"optionalCall",he=>he(),"optionalAccess",he=>he.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&k.getRootNode().host&&(B=k.getRootNode().host),B}function Fa(k){const B=k.ownerDocument;return!!B&&(B.contains(k)||function Ml(k){const B=k.ownerDocument;if(!B)return!1;const he=function bl(k){let he,B=k;for(;he=ra(B);)B=he;return B}(k);return B.contains(he)}(k))}const va={};function La(k){const B=va[k];if(B)return B;const he=window.document;let qe=window[k];if(he&&"function"==typeof he.createElement)try{const At=he.createElement("iframe");At.hidden=!0,he.head.appendChild(At);const Yt=At.contentWindow;Yt&&Yt[k]&&(qe=Yt[k]),he.head.removeChild(At)}catch{}return va[k]=qe.bind(window)}function $a(...k){return La("setTimeout")(...k)}var Lr=(k=>(k[k.DomContentLoaded=0]="DomContentLoaded",k[k.Load=1]="Load",k[k.FullSnapshot=2]="FullSnapshot",k[k.IncrementalSnapshot=3]="IncrementalSnapshot",k[k.Meta=4]="Meta",k[k.Custom=5]="Custom",k[k.Plugin=6]="Plugin",k))(Lr||{}),Mr=(k=>(k[k.Mutation=0]="Mutation",k[k.MouseMove=1]="MouseMove",k[k.MouseInteraction=2]="MouseInteraction",k[k.Scroll=3]="Scroll",k[k.ViewportResize=4]="ViewportResize",k[k.Input=5]="Input",k[k.TouchMove=6]="TouchMove",k[k.MediaInteraction=7]="MediaInteraction",k[k.StyleSheetRule=8]="StyleSheetRule",k[k.CanvasMutation=9]="CanvasMutation",k[k.Font=10]="Font",k[k.Log=11]="Log",k[k.Drag=12]="Drag",k[k.StyleDeclaration=13]="StyleDeclaration",k[k.Selection=14]="Selection",k[k.AdoptedStyleSheet=15]="AdoptedStyleSheet",k[k.CustomElement=16]="CustomElement",k))(Mr||{}),ao=(k=>(k[k.MouseUp=0]="MouseUp",k[k.MouseDown=1]="MouseDown",k[k.Click=2]="Click",k[k.ContextMenu=3]="ContextMenu",k[k.DblClick=4]="DblClick",k[k.Focus=5]="Focus",k[k.Blur=6]="Blur",k[k.TouchStart=7]="TouchStart",k[k.TouchMove_Departed=8]="TouchMove_Departed",k[k.TouchEnd=9]="TouchEnd",k[k.TouchCancel=10]="TouchCancel",k))(ao||{}),Gs=(k=>(k[k.Mouse=0]="Mouse",k[k.Pen=1]="Pen",k[k.Touch=2]="Touch",k))(Gs||{});function ql(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}function sa(k){return"__ln"in k}class Ks{constructor(){this.length=0,this.head=null,this.tail=null}get(B){if(B>=this.length)throw new Error("Position outside of list range");let he=this.head;for(let qe=0;qe<B;qe++)he=ql([he,"optionalAccess",At=>At.next])||null;return he}addNode(B){const he={value:B,previous:null,next:null};if(B.__ln=he,B.previousSibling&&sa(B.previousSibling)){const qe=B.previousSibling.__ln.next;he.next=qe,he.previous=B.previousSibling.__ln,B.previousSibling.__ln.next=he,qe&&(qe.previous=he)}else if(B.nextSibling&&sa(B.nextSibling)&&B.nextSibling.__ln.previous){const qe=B.nextSibling.__ln.previous;he.previous=qe,he.next=B.nextSibling.__ln,B.nextSibling.__ln.previous=he,qe&&(qe.next=he)}else this.head&&(this.head.previous=he),he.next=this.head,this.head=he;null===he.next&&(this.tail=he),this.length++}removeNode(B){const he=B.__ln;this.head&&(he.previous?(he.previous.next=he.next,he.next?he.next.previous=he.previous:this.tail=he.previous):(this.head=he.next,this.head?this.head.previous=null:this.tail=null),B.__ln&&delete B.__ln,this.length--)}}const lo=(k,B)=>`${k}@${B}`;class ba{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=B=>{B.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const B=[],he=new Set,qe=new Ks,At=Sn=>{let ei=Sn,bi=ct;for(;bi===ct;)ei=ei&&ei.nextSibling,bi=ei&&this.mirror.getId(ei);return bi},Yt=Sn=>{if(!Sn.parentNode||!Fa(Sn))return;const ei=Pe(Sn.parentNode)?this.mirror.getId(ra(Sn)):this.mirror.getId(Sn.parentNode),bi=At(Sn);if(-1===ei||-1===bi)return qe.addNode(Sn);const pi=et(Sn,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:wi=>{Al(wi,this.mirror)&&this.iframeManager.addIframe(wi),Ya(wi,this.mirror)&&this.stylesheetManager.trackLinkElement(wi),qa(Sn)&&this.shadowDomManager.addShadowRoot(Sn.shadowRoot,this.doc)},onIframeLoad:(wi,Ci)=>{this.iframeManager.attachIframe(wi,Ci),wi.contentWindow&&this.canvasManager.addWindow(wi.contentWindow),this.shadowDomManager.observeAttachShadow(wi)},onStylesheetLoad:(wi,Ci)=>{this.stylesheetManager.attachLinkElement(wi,Ci)}});pi&&(B.push({parentId:ei,nextId:bi,node:pi}),he.add(pi.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const Sn of this.movedSet)ol(this.removes,Sn,this.mirror)&&!this.movedSet.has(Sn.parentNode)||Yt(Sn);for(const Sn of this.addedSet)!Eo(this.droppedSet,Sn)&&!ol(this.removes,Sn,this.mirror)||Eo(this.movedSet,Sn)?Yt(Sn):this.droppedSet.add(Sn);let yn=null;for(;qe.length;){let Sn=null;if(yn){const ei=this.mirror.getId(yn.value.parentNode),bi=At(yn.value);-1!==ei&&-1!==bi&&(Sn=yn)}if(!Sn){let ei=qe.tail;for(;ei;){const bi=ei;if(ei=ei.previous,bi){const pi=this.mirror.getId(bi.value.parentNode);if(-1===At(bi.value))continue;if(-1!==pi){Sn=bi;break}{const Ci=bi.value;if(Ci.parentNode&&Ci.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(Ci.parentNode.host)){Sn=bi;break}}}}}if(!Sn){for(;qe.head;)qe.removeNode(qe.head.value);break}yn=Sn.previous,qe.removeNode(Sn.value),Yt(Sn.value)}const Bn={texts:this.texts.map(Sn=>({id:this.mirror.getId(Sn.node),value:Sn.value})).filter(Sn=>!he.has(Sn.id)).filter(Sn=>this.mirror.has(Sn.id)),attributes:this.attributes.map(Sn=>{const{attributes:ei}=Sn;if("string"==typeof ei.style){const bi=JSON.stringify(Sn.styleDiff),pi=JSON.stringify(Sn._unchangedStyles);bi.length<ei.style.length&&(bi+pi).split("var(").length===ei.style.split("var(").length&&(ei.style=Sn.styleDiff)}return{id:this.mirror.getId(Sn.node),attributes:ei}}).filter(Sn=>!he.has(Sn.id)).filter(Sn=>this.mirror.has(Sn.id)),removes:this.removes,adds:B};!Bn.texts.length&&!Bn.attributes.length&&!Bn.removes.length&&!Bn.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(Bn))},this.processMutation=B=>{if(!Br(B.target,this.mirror))switch(B.type){case"characterData":{const he=B.target.textContent;!Ds(B.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&he!==B.oldValue&&this.texts.push({value:ss(B.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&he?this.maskTextFn?this.maskTextFn(he,Jr(B.target)):he.replace(/[\S]/g,"*"):he,node:B.target});break}case"attributes":{const he=B.target;let qe=B.attributeName,At=B.target.getAttribute(qe);if("value"===qe){const yn=xn(he),Bn=he.tagName;At=Xn(he,Bn,yn);const Sn=$t({maskInputOptions:this.maskInputOptions,tagName:Bn,type:yn});At=bn({isMasked:ss(B.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,Sn),element:he,value:At,maskInputFn:this.maskInputFn})}if(Ds(B.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||At===B.oldValue)return;let Yt=this.attributeMap.get(B.target);if("IFRAME"===he.tagName&&"src"===qe&&!this.keepIframeSrcFn(At)){if(he.contentDocument)return;qe="rr_src"}if(Yt||(Yt={node:B.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Yt),this.attributeMap.set(B.target,Yt)),"type"===qe&&"INPUT"===he.tagName&&"password"===(B.oldValue||"").toLowerCase()&&he.setAttribute("data-rr-is-password","true"),!Hr(he.tagName,qe)&&(Yt.attributes[qe]=Sr(this.doc,Pn(he.tagName),Pn(qe),At,he,this.maskAttributeFn),"style"===qe)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const yn=this.unattachedDoc.createElement("span");B.oldValue&&yn.setAttribute("style",B.oldValue);for(const Bn of Array.from(he.style)){const Sn=he.style.getPropertyValue(Bn),ei=he.style.getPropertyPriority(Bn);Sn!==yn.style.getPropertyValue(Bn)||ei!==yn.style.getPropertyPriority(Bn)?Yt.styleDiff[Bn]=""===ei?Sn:[Sn,ei]:Yt._unchangedStyles[Bn]=[Sn,ei]}for(const Bn of Array.from(yn.style))""===he.style.getPropertyValue(Bn)&&(Yt.styleDiff[Bn]=!1)}break}case"childList":if(Ds(B.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;B.addedNodes.forEach(he=>this.genAdds(he,B.target)),B.removedNodes.forEach(he=>{const qe=this.mirror.getId(he),At=Pe(B.target)?this.mirror.getId(B.target.host):this.mirror.getId(B.target);Ds(B.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Br(he,this.mirror)||!function ia(k,B){return-1!==B.getId(k)}(he,this.mirror)||(this.addedSet.has(he)?(Lo(this.addedSet,he),this.droppedSet.add(he)):this.addedSet.has(B.target)&&-1===qe||Mo(B.target,this.mirror)||(this.movedSet.has(he)&&this.movedMap[lo(qe,At)]?Lo(this.movedSet,he):this.removes.push({parentId:At,id:qe,isShadow:!(!Pe(B.target)||!pe(B.target))||void 0})),this.mapRemoves.push(he))})}},this.genAdds=(B,he)=>{if(!this.processedNodeManager.inOtherBuffer(B,this)&&!this.addedSet.has(B)&&!this.movedSet.has(B)){if(this.mirror.hasNode(B)){if(Br(B,this.mirror))return;this.movedSet.add(B);let qe=null;he&&this.mirror.hasNode(he)&&(qe=this.mirror.getId(he)),qe&&-1!==qe&&(this.movedMap[lo(this.mirror.getId(B),qe)]=!0)}else this.addedSet.add(B),this.droppedSet.delete(B);Ds(B,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(B.childNodes.forEach(qe=>this.genAdds(qe)),qa(B)&&B.shadowRoot.childNodes.forEach(qe=>{this.processedNodeManager.add(qe,this),this.genAdds(qe,B)}))}}}init(B){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(he=>{this[he]=B[he]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Lo(k,B){k.delete(B),B.childNodes.forEach(he=>Lo(k,he))}function ol(k,B,he){return 0!==k.length&&wo(k,B,he)}function wo(k,B,he){const{parentNode:qe}=B;if(!qe)return!1;const At=he.getId(qe);return!!k.some(Yt=>Yt.id===At)||wo(k,qe,he)}function Eo(k,B){return 0!==k.size&&Ba(k,B)}function Ba(k,B){const{parentNode:he}=B;return!!he&&(!!k.has(he)||Ba(k,he))}let qo;const kr=k=>qo?(...he)=>{try{return k(...he)}catch(qe){if(qo&&!0===qo(qe))return()=>{};throw qe}}:k;function ws(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}const oa=[];function go(k){try{if("composedPath"in k){const B=k.composedPath();if(B.length)return B[0]}else if("path"in k&&k.path.length)return k.path[0]}catch{}return k&&k.target}function Qa(k,B){const he=new ba;oa.push(he),he.init(k);let qe=window.MutationObserver||window.__rrMutationObserver;const At=ws([window,"optionalAccess",yn=>yn.Zone,"optionalAccess",yn=>yn.__symbol__,"optionalCall",yn=>yn("MutationObserver")]);At&&window[At]&&(qe=window[At]);const Yt=new qe(kr(yn=>{k.onMutation&&!1===k.onMutation(yn)||he.processMutations.bind(he)(yn)}));return Yt.observe(B,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),Yt}function Oi({scrollCb:k,doc:B,mirror:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,sampling:yn}){return Bt("scroll",kr(sr(kr(Sn=>{const ei=go(Sn);if(!ei||Ds(ei,qe,At,Yt,!0))return;const bi=he.getId(ei);if(ei===B&&B.defaultView){const pi=ds(B.defaultView);k({id:bi,x:pi.left,y:pi.top})}else k({id:bi,x:ei.scrollLeft,y:ei.scrollTop})}),yn.scroll||100)),B)}const _o=["INPUT","TEXTAREA","SELECT"],$o=new WeakMap;function Ql({inputCb:k,doc:B,mirror:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,ignoreClass:yn,ignoreSelector:Bn,maskInputOptions:Sn,maskInputFn:ei,sampling:bi,userTriggeredOnInput:pi,maskTextClass:wi,unmaskTextClass:Ci,maskTextSelector:Un,unmaskTextSelector:yi}){function pr(cr){let Ki=go(cr);const Do=cr.isTrusted,Nr=Ki&&Ri(Ki.tagName);if("OPTION"===Nr&&(Ki=Ki.parentElement),!Ki||!Nr||_o.indexOf(Nr)<0||Ds(Ki,qe,At,Yt,!0))return;const ls=Ki;if(ls.classList.contains(yn)||Bn&&ls.matches(Bn))return;const cs=xn(Ki);let ea=Xn(ls,Nr,cs),ta=!1;const Xo=$t({maskInputOptions:Sn,tagName:Nr,type:cs}),$s=ss(Ki,wi,Un,Ci,yi,Xo);("radio"===cs||"checkbox"===cs)&&(ta=Ki.checked),ea=bn({isMasked:$s,element:Ki,value:ea,maskInputFn:ei}),or(Ki,pi?{text:ea,isChecked:ta,userTriggered:Do}:{text:ea,isChecked:ta});const Kc=Ki.name;"radio"===cs&&Kc&&ta&&B.querySelectorAll(`input[type="radio"][name="${Kc}"]`).forEach(To=>{if(To!==Ki){const yc=bn({isMasked:$s,element:To,value:Xn(To,Nr,cs),maskInputFn:ei});or(To,pi?{text:yc,isChecked:!ta,userTriggered:!1}:{text:yc,isChecked:!ta})}})}function or(cr,Ki){const Do=$o.get(cr);if(!Do||Do.text!==Ki.text||Do.isChecked!==Ki.isChecked){$o.set(cr,Ki);const Nr=he.getId(cr);kr(k)({...Ki,id:Nr})}}const is=("last"===bi.input?["change"]:["input","change"]).map(cr=>Bt(cr,kr(pr),B)),Ls=B.defaultView;if(!Ls)return()=>{is.forEach(cr=>cr())};const Qr=Ls.Object.getOwnPropertyDescriptor(Ls.HTMLInputElement.prototype,"value");return Qr&&Qr.set&&is.push(...[[Ls.HTMLInputElement.prototype,"value"],[Ls.HTMLInputElement.prototype,"checked"],[Ls.HTMLSelectElement.prototype,"value"],[Ls.HTMLTextAreaElement.prototype,"value"],[Ls.HTMLSelectElement.prototype,"selectedIndex"],[Ls.HTMLOptionElement.prototype,"selected"]].map(cr=>Dr(cr[0],cr[1],{set(){kr(pr)({target:this,isTrusted:!1})}},!1,Ls))),kr(()=>{is.forEach(cr=>cr())})}function Go(k){return function he(qe,At){if(Rs("CSSGroupingRule")&&qe.parentRule instanceof CSSGroupingRule||Rs("CSSMediaRule")&&qe.parentRule instanceof CSSMediaRule||Rs("CSSSupportsRule")&&qe.parentRule instanceof CSSSupportsRule||Rs("CSSConditionRule")&&qe.parentRule instanceof CSSConditionRule){const yn=Array.from(qe.parentRule.cssRules).indexOf(qe);At.unshift(yn)}else if(qe.parentStyleSheet){const yn=Array.from(qe.parentStyleSheet.cssRules).indexOf(qe);At.unshift(yn)}return At}(k,[])}function Qs(k,B,he){let qe,At;return k?(k.ownerNode?qe=B.getId(k.ownerNode):At=he.getId(k),{styleId:At,id:qe}):{}}function aa({mirror:k,stylesheetManager:B},he){let qe=null;qe=k.getId("#document"===he.nodeName?he:he.host);const At=ws("#document"===he.nodeName?[he,"access",yn=>yn.defaultView,"optionalAccess",yn=>yn.Document]:[he,"access",yn=>yn.ownerDocument,"optionalAccess",yn=>yn.defaultView,"optionalAccess",yn=>yn.ShadowRoot]),Yt=ws([At,"optionalAccess",yn=>yn.prototype])?Object.getOwnPropertyDescriptor(ws([At,"optionalAccess",yn=>yn.prototype]),"adoptedStyleSheets"):void 0;return null!==qe&&-1!==qe&&At&&Yt?(Object.defineProperty(he,"adoptedStyleSheets",{configurable:Yt.configurable,enumerable:Yt.enumerable,get(){return ws([Yt,"access",yn=>yn.get,"optionalAccess",yn=>yn.call,"call",yn=>yn(this)])},set(yn){const Bn=ws([Yt,"access",Sn=>Sn.set,"optionalAccess",Sn=>Sn.call,"call",Sn=>Sn(this,yn)]);if(null!==qe&&-1!==qe)try{B.adoptStyleSheets(yn,qe)}catch{}return Bn}}),kr(()=>{Object.defineProperty(he,"adoptedStyleSheets",{configurable:Yt.configurable,enumerable:Yt.enumerable,get:Yt.get,set:Yt.set})})):()=>{}}function wl(k,B={}){const he=k.doc.defaultView;if(!he)return()=>{};let qe;k.recordDOM&&(qe=Qa(k,k.doc));const At=function Za({mousemoveCb:k,sampling:B,doc:he,mirror:qe}){if(!1===B.mousemove)return()=>{};const At="number"==typeof B.mousemove?B.mousemove:50,Yt="number"==typeof B.mousemoveCallback?B.mousemoveCallback:500;let Bn,yn=[];const Sn=sr(kr(pi=>{const wi=Date.now()-Bn;k(yn.map(Ci=>(Ci.timeOffset-=wi,Ci)),pi),yn=[],Bn=null}),Yt),ei=kr(sr(kr(pi=>{const wi=go(pi),{clientX:Ci,clientY:Un}=Yo(pi)?pi.changedTouches[0]:pi;Bn||(Bn=Zr()),yn.push({x:Ci,y:Un,id:qe.getId(wi),timeOffset:Zr()-Bn}),Sn(typeof DragEvent<"u"&&pi instanceof DragEvent?Mr.Drag:pi instanceof MouseEvent?Mr.MouseMove:Mr.TouchMove)}),At,{trailing:!1})),bi=[Bt("mousemove",ei,he),Bt("touchmove",ei,he),Bt("drag",ei,he)];return kr(()=>{bi.forEach(pi=>pi())})}(k),Yt=function al({mouseInteractionCb:k,doc:B,mirror:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,sampling:yn}){if(!1===yn.mouseInteraction)return()=>{};const Bn=!0===yn.mouseInteraction||void 0===yn.mouseInteraction?{}:yn.mouseInteraction,Sn=[];let ei=null;return Object.keys(ao).filter(pi=>Number.isNaN(Number(pi))&&!pi.endsWith("_Departed")&&!1!==Bn[pi]).forEach(pi=>{let wi=Pn(pi);const Ci=(pi=>wi=>{const Ci=go(wi);if(Ds(Ci,qe,At,Yt,!0))return;let Un=null,yi=pi;if("pointerType"in wi){switch(wi.pointerType){case"mouse":Un=Gs.Mouse;break;case"touch":Un=Gs.Touch;break;case"pen":Un=Gs.Pen}Un===Gs.Touch&&(ao[pi]===ao.MouseDown?yi="TouchStart":ao[pi]===ao.MouseUp&&(yi="TouchEnd"))}else Yo(wi)&&(Un=Gs.Touch);null!==Un?(ei=Un,(yi.startsWith("Touch")&&Un===Gs.Touch||yi.startsWith("Mouse")&&Un===Gs.Mouse)&&(Un=null)):ao[pi]===ao.Click&&(Un=ei,ei=null);const pr=Yo(wi)?wi.changedTouches[0]:wi;if(!pr)return;const or=he.getId(Ci),{clientX:jr,clientY:is}=pr;kr(k)({type:ao[yi],id:or,x:jr,y:is,...null!==Un&&{pointerType:Un}})})(pi);if(window.PointerEvent)switch(ao[pi]){case ao.MouseDown:case ao.MouseUp:wi=wi.replace("mouse","pointer");break;case ao.TouchStart:case ao.TouchEnd:return}Sn.push(Bt(wi,Ci,B))}),kr(()=>{Sn.forEach(pi=>pi())})}(k),yn=Oi(k),Bn=function Oo({viewportResizeCb:k},{win:B}){let he=-1,qe=-1;return Bt("resize",kr(sr(kr(()=>{const Yt=Os(),yn=Er();(he!==Yt||qe!==yn)&&(k({width:Number(yn),height:Number(Yt)}),he=Yt,qe=yn)}),200)),B)}(k,{win:he}),Sn=Ql(k),ei=function Ea({mediaInteractionCb:k,blockClass:B,blockSelector:he,unblockSelector:qe,mirror:At,sampling:Yt,doc:yn}){const Bn=kr(ei=>sr(kr(bi=>{const pi=go(bi);if(!pi||Ds(pi,B,he,qe,!0))return;const{currentTime:wi,volume:Ci,muted:Un,playbackRate:yi}=pi;k({type:ei,id:At.getId(pi),currentTime:wi,volume:Ci,muted:Un,playbackRate:yi})}),Yt.media||500)),Sn=[Bt("play",Bn(0),yn),Bt("pause",Bn(1),yn),Bt("seeked",Bn(2),yn),Bt("volumechange",Bn(3),yn),Bt("ratechange",Bn(4),yn)];return kr(()=>{Sn.forEach(ei=>ei())})}(k);let bi=()=>{},pi=()=>{},wi=()=>{},Ci=()=>{};k.recordDOM&&(bi=function Qo({styleSheetRuleCb:k,mirror:B,stylesheetManager:he},{win:qe}){if(!qe.CSSStyleSheet||!qe.CSSStyleSheet.prototype)return()=>{};const At=qe.CSSStyleSheet.prototype.insertRule;qe.CSSStyleSheet.prototype.insertRule=new Proxy(At,{apply:kr((bi,pi,wi)=>{const[Ci,Un]=wi,{id:yi,styleId:pr}=Qs(pi,B,he.styleMirror);return(yi&&-1!==yi||pr&&-1!==pr)&&k({id:yi,styleId:pr,adds:[{rule:Ci,index:Un}]}),bi.apply(pi,wi)})});const Yt=qe.CSSStyleSheet.prototype.deleteRule;let yn,Bn;qe.CSSStyleSheet.prototype.deleteRule=new Proxy(Yt,{apply:kr((bi,pi,wi)=>{const[Ci]=wi,{id:Un,styleId:yi}=Qs(pi,B,he.styleMirror);return(Un&&-1!==Un||yi&&-1!==yi)&&k({id:Un,styleId:yi,removes:[{index:Ci}]}),bi.apply(pi,wi)})}),qe.CSSStyleSheet.prototype.replace&&(yn=qe.CSSStyleSheet.prototype.replace,qe.CSSStyleSheet.prototype.replace=new Proxy(yn,{apply:kr((bi,pi,wi)=>{const[Ci]=wi,{id:Un,styleId:yi}=Qs(pi,B,he.styleMirror);return(Un&&-1!==Un||yi&&-1!==yi)&&k({id:Un,styleId:yi,replace:Ci}),bi.apply(pi,wi)})})),qe.CSSStyleSheet.prototype.replaceSync&&(Bn=qe.CSSStyleSheet.prototype.replaceSync,qe.CSSStyleSheet.prototype.replaceSync=new Proxy(Bn,{apply:kr((bi,pi,wi)=>{const[Ci]=wi,{id:Un,styleId:yi}=Qs(pi,B,he.styleMirror);return(Un&&-1!==Un||yi&&-1!==yi)&&k({id:Un,styleId:yi,replaceSync:Ci}),bi.apply(pi,wi)})}));const Sn={};cl("CSSGroupingRule")?Sn.CSSGroupingRule=qe.CSSGroupingRule:(cl("CSSMediaRule")&&(Sn.CSSMediaRule=qe.CSSMediaRule),cl("CSSConditionRule")&&(Sn.CSSConditionRule=qe.CSSConditionRule),cl("CSSSupportsRule")&&(Sn.CSSSupportsRule=qe.CSSSupportsRule));const ei={};return Object.entries(Sn).forEach(([bi,pi])=>{ei[bi]={insertRule:pi.prototype.insertRule,deleteRule:pi.prototype.deleteRule},pi.prototype.insertRule=new Proxy(ei[bi].insertRule,{apply:kr((wi,Ci,Un)=>{const[yi,pr]=Un,{id:or,styleId:jr}=Qs(Ci.parentStyleSheet,B,he.styleMirror);return(or&&-1!==or||jr&&-1!==jr)&&k({id:or,styleId:jr,adds:[{rule:yi,index:[...Go(Ci),pr||0]}]}),wi.apply(Ci,Un)})}),pi.prototype.deleteRule=new Proxy(ei[bi].deleteRule,{apply:kr((wi,Ci,Un)=>{const[yi]=Un,{id:pr,styleId:or}=Qs(Ci.parentStyleSheet,B,he.styleMirror);return(pr&&-1!==pr||or&&-1!==or)&&k({id:pr,styleId:or,removes:[{index:[...Go(Ci),yi]}]}),wi.apply(Ci,Un)})})}),kr(()=>{qe.CSSStyleSheet.prototype.insertRule=At,qe.CSSStyleSheet.prototype.deleteRule=Yt,yn&&(qe.CSSStyleSheet.prototype.replace=yn),Bn&&(qe.CSSStyleSheet.prototype.replaceSync=Bn),Object.entries(Sn).forEach(([bi,pi])=>{pi.prototype.insertRule=ei[bi].insertRule,pi.prototype.deleteRule=ei[bi].deleteRule})})}(k,{win:he}),pi=aa(k,k.doc),wi=function Va({styleDeclarationCb:k,mirror:B,ignoreCSSAttributes:he,stylesheetManager:qe},{win:At}){const Yt=At.CSSStyleDeclaration.prototype.setProperty;At.CSSStyleDeclaration.prototype.setProperty=new Proxy(Yt,{apply:kr((Bn,Sn,ei)=>{const[bi,pi,wi]=ei;if(he.has(bi))return Yt.apply(Sn,[bi,pi,wi]);const{id:Ci,styleId:Un}=Qs(ws([Sn,"access",yi=>yi.parentRule,"optionalAccess",yi=>yi.parentStyleSheet]),B,qe.styleMirror);return(Ci&&-1!==Ci||Un&&-1!==Un)&&k({id:Ci,styleId:Un,set:{property:bi,value:pi,priority:wi},index:Go(Sn.parentRule)}),Bn.apply(Sn,ei)})});const yn=At.CSSStyleDeclaration.prototype.removeProperty;return At.CSSStyleDeclaration.prototype.removeProperty=new Proxy(yn,{apply:kr((Bn,Sn,ei)=>{const[bi]=ei;if(he.has(bi))return yn.apply(Sn,[bi]);const{id:pi,styleId:wi}=Qs(ws([Sn,"access",Ci=>Ci.parentRule,"optionalAccess",Ci=>Ci.parentStyleSheet]),B,qe.styleMirror);return(pi&&-1!==pi||wi&&-1!==wi)&&k({id:pi,styleId:wi,remove:{property:bi},index:Go(Sn.parentRule)}),Bn.apply(Sn,ei)})}),kr(()=>{At.CSSStyleDeclaration.prototype.setProperty=Yt,At.CSSStyleDeclaration.prototype.removeProperty=yn})}(k,{win:he}),k.collectFonts&&(Ci=function Bo({fontCb:k,doc:B}){const he=B.defaultView;if(!he)return()=>{};const qe=[],At=new WeakMap,Yt=he.FontFace;he.FontFace=function(Sn,ei,bi){const pi=new Yt(Sn,ei,bi);return At.set(pi,{family:Sn,buffer:"string"!=typeof ei,descriptors:bi,fontSource:"string"==typeof ei?ei:JSON.stringify(Array.from(new Uint8Array(ei)))}),pi};const yn=Fr(B.fonts,"add",function(Bn){return function(Sn){return $a(kr(()=>{const ei=At.get(Sn);ei&&(k(ei),At.delete(Sn))}),0),Bn.apply(this,[Sn])}});return qe.push(()=>{he.FontFace=Yt}),qe.push(yn),kr(()=>{qe.forEach(Bn=>Bn())})}(k)));const Un=function Ua(k){const{doc:B,mirror:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,selectionCb:yn}=k;let Bn=!0;const Sn=kr(()=>{const ei=B.getSelection();if(!ei||Bn&&ws([ei,"optionalAccess",wi=>wi.isCollapsed]))return;Bn=ei.isCollapsed||!1;const bi=[],pi=ei.rangeCount||0;for(let wi=0;wi<pi;wi++){const Ci=ei.getRangeAt(wi),{startContainer:Un,startOffset:yi,endContainer:pr,endOffset:or}=Ci;Ds(Un,qe,At,Yt,!0)||Ds(pr,qe,At,Yt,!0)||bi.push({start:he.getId(Un),startOffset:yi,end:he.getId(pr),endOffset:or})}yn({ranges:bi})});return Sn(),Bt("selectionchange",Sn)}(k),yi=function ll({doc:k,customElementCb:B}){const he=k.defaultView;return he&&he.customElements?Fr(he.customElements,"define",function(At){return function(Yt,yn,Bn){try{B({define:{name:Yt}})}catch{}return At.apply(this,[Yt,yn,Bn])}}):()=>{}}(k),pr=[];for(const or of k.plugins)pr.push(or.observer(or.callback,he,or.options));return kr(()=>{oa.forEach(or=>or.reset()),ws([qe,"optionalAccess",or=>or.disconnect,"call",or=>or()]),At(),Yt(),yn(),Bn(),Sn(),ei(),bi(),pi(),wi(),Ci(),Un(),yi(),pr.forEach(or=>or())})}function Rs(k){return typeof window[k]<"u"}function cl(k){return!!(typeof window[k]<"u"&&window[k].prototype&&"insertRule"in window[k].prototype&&"deleteRule"in window[k].prototype)}class la{constructor(B){this.generateIdFn=B,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(B,he,qe,At){const Yt=qe||this.getIdToRemoteIdMap(B),yn=At||this.getRemoteIdToIdMap(B);let Bn=Yt.get(he);return Bn||(Bn=this.generateIdFn(),Yt.set(he,Bn),yn.set(Bn,he)),Bn}getIds(B,he){const qe=this.getIdToRemoteIdMap(B),At=this.getRemoteIdToIdMap(B);return he.map(Yt=>this.getId(B,Yt,qe,At))}getRemoteId(B,he,qe){const At=qe||this.getRemoteIdToIdMap(B);return"number"!=typeof he?he:At.get(he)||-1}getRemoteIds(B,he){const qe=this.getRemoteIdToIdMap(B);return he.map(At=>this.getRemoteId(B,At,qe))}reset(B){if(!B)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(B),this.iframeRemoteIdToIdMap.delete(B)}getIdToRemoteIdMap(B){let he=this.iframeIdToRemoteIdMap.get(B);return he||(he=new Map,this.iframeIdToRemoteIdMap.set(B,he)),he}getRemoteIdToIdMap(B){let he=this.iframeRemoteIdToIdMap.get(B);return he||(he=new Map,this.iframeRemoteIdToIdMap.set(B,he)),he}}function es(k){let B,he=k[0],qe=1;for(;qe<k.length;){const At=k[qe],Yt=k[qe+1];if(qe+=2,("optionalAccess"===At||"optionalCall"===At)&&null==he)return;"access"===At||"optionalAccess"===At?(B=he,he=Yt(he)):("call"===At||"optionalCall"===At)&&(he=Yt((...yn)=>he.call(B,...yn)),B=void 0)}return he}class Ja{constructor(){this.crossOriginIframeMirror=new la(De),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class co{constructor(B){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new la(De),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=B.mutationCb,this.wrappedEmit=B.wrappedEmit,this.stylesheetManager=B.stylesheetManager,this.recordCrossOriginIframes=B.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new la(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=B.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(B){this.iframes.set(B,!0),B.contentWindow&&this.crossOriginIframeMap.set(B.contentWindow,B)}addLoadListener(B){this.loadListener=B}attachIframe(B,he){this.mutationCb({adds:[{parentId:this.mirror.getId(B),nextId:null,node:he}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),es([this,"access",qe=>qe.loadListener,"optionalCall",qe=>qe(B)]),B.contentDocument&&B.contentDocument.adoptedStyleSheets&&B.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(B.contentDocument.adoptedStyleSheets,this.mirror.getId(B.contentDocument))}handleMessage(B){const he=B;if("rrweb"!==he.data.type||he.origin!==he.data.origin||!B.source)return;const At=this.crossOriginIframeMap.get(B.source);if(!At)return;const Yt=this.transformCrossOriginEvent(At,he.data.event);Yt&&this.wrappedEmit(Yt,he.data.isCheckout)}transformCrossOriginEvent(B,he){switch(he.type){case Lr.FullSnapshot:{this.crossOriginIframeMirror.reset(B),this.crossOriginIframeStyleMirror.reset(B),this.replaceIdOnNode(he.data.node,B);const qe=he.data.node.id;return this.crossOriginIframeRootIdMap.set(B,qe),this.patchRootIdOnNode(he.data.node,qe),{timestamp:he.timestamp,type:Lr.IncrementalSnapshot,data:{source:Mr.Mutation,adds:[{parentId:this.mirror.getId(B),nextId:null,node:he.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Lr.Meta:case Lr.Load:case Lr.DomContentLoaded:return!1;case Lr.Plugin:return he;case Lr.Custom:return this.replaceIds(he.data.payload,B,["id","parentId","previousId","nextId"]),he;case Lr.IncrementalSnapshot:switch(he.data.source){case Mr.Mutation:return he.data.adds.forEach(qe=>{this.replaceIds(qe,B,["parentId","nextId","previousId"]),this.replaceIdOnNode(qe.node,B);const At=this.crossOriginIframeRootIdMap.get(B);At&&this.patchRootIdOnNode(qe.node,At)}),he.data.removes.forEach(qe=>{this.replaceIds(qe,B,["parentId","id"])}),he.data.attributes.forEach(qe=>{this.replaceIds(qe,B,["id"])}),he.data.texts.forEach(qe=>{this.replaceIds(qe,B,["id"])}),he;case Mr.Drag:case Mr.TouchMove:case Mr.MouseMove:return he.data.positions.forEach(qe=>{this.replaceIds(qe,B,["id"])}),he;case Mr.ViewportResize:return!1;case Mr.MediaInteraction:case Mr.MouseInteraction:case Mr.Scroll:case Mr.CanvasMutation:case Mr.Input:return this.replaceIds(he.data,B,["id"]),he;case Mr.StyleSheetRule:case Mr.StyleDeclaration:return this.replaceIds(he.data,B,["id"]),this.replaceStyleIds(he.data,B,["styleId"]),he;case Mr.Font:return he;case Mr.Selection:return he.data.ranges.forEach(qe=>{this.replaceIds(qe,B,["start","end"])}),he;case Mr.AdoptedStyleSheet:return this.replaceIds(he.data,B,["id"]),this.replaceStyleIds(he.data,B,["styleIds"]),es([he,"access",qe=>qe.data,"access",qe=>qe.styles,"optionalAccess",qe=>qe.forEach,"call",qe=>qe(At=>{this.replaceStyleIds(At,B,["styleId"])})]),he}}return!1}replace(B,he,qe,At){for(const Yt of At)!Array.isArray(he[Yt])&&"number"!=typeof he[Yt]||(he[Yt]=Array.isArray(he[Yt])?B.getIds(qe,he[Yt]):B.getId(qe,he[Yt]));return he}replaceIds(B,he,qe){return this.replace(this.crossOriginIframeMirror,B,he,qe)}replaceStyleIds(B,he,qe){return this.replace(this.crossOriginIframeStyleMirror,B,he,qe)}replaceIdOnNode(B,he){this.replaceIds(B,he,["id","rootId"]),"childNodes"in B&&B.childNodes.forEach(qe=>{this.replaceIdOnNode(qe,he)})}patchRootIdOnNode(B,he){B.type!==dt.Document&&!B.rootId&&(B.rootId=he),"childNodes"in B&&B.childNodes.forEach(qe=>{this.patchRootIdOnNode(qe,he)})}}class xa{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Ca{constructor(B){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=B.mutationCb,this.scrollCb=B.scrollCb,this.bypassOptions=B.bypassOptions,this.mirror=B.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(B,he){if(!pe(B)||this.shadowDoms.has(B))return;this.shadowDoms.add(B),this.bypassOptions.canvasManager.addShadowRoot(B);const qe=Qa({...this.bypassOptions,doc:he,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},B);this.restoreHandlers.push(()=>qe.disconnect()),this.restoreHandlers.push(Oi({...this.bypassOptions,scrollCb:this.scrollCb,doc:B,mirror:this.mirror})),$a(()=>{B.adoptedStyleSheets&&B.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(B.adoptedStyleSheets,this.mirror.getId(B.host)),this.restoreHandlers.push(aa({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},B))},0)}observeAttachShadow(B){!B.contentWindow||!B.contentDocument||this.patchAttachShadow(B.contentWindow.Element,B.contentDocument)}patchAttachShadow(B,he){const qe=this;this.restoreHandlers.push(Fr(B.prototype,"attachShadow",function(At){return function(Yt){const yn=At.call(this,Yt);return this.shadowRoot&&Fa(this)&&qe.addShadowRoot(this.shadowRoot,he),yn}}))}reset(){this.restoreHandlers.forEach(B=>{try{B()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Zo{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class ul{constructor(B){this.trackedLinkElements=new WeakSet,this.styleMirror=new ya,this.mutationCb=B.mutationCb,this.adoptedStyleSheetCb=B.adoptedStyleSheetCb}attachLinkElement(B,he){"_cssText"in he.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:he.id,attributes:he.attributes}]}),this.trackLinkElement(B)}trackLinkElement(B){this.trackedLinkElements.has(B)||(this.trackedLinkElements.add(B),this.trackStylesheetInLinkElement(B))}adoptStyleSheets(B,he){if(0===B.length)return;const qe={id:he,styleIds:[]},At=[];for(const Yt of B){let yn;this.styleMirror.has(Yt)?yn=this.styleMirror.getId(Yt):(yn=this.styleMirror.add(Yt),At.push({styleId:yn,rules:Array.from(Yt.rules||CSSRule,(Bn,Sn)=>({rule:Hn(Bn),index:Sn}))})),qe.styleIds.push(yn)}At.length>0&&(qe.styles=At),this.adoptedStyleSheetCb(qe)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(B){}}class hr{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function hc(...k){La("requestAnimationFrame")(...k)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(B,he){const qe=this.nodeMap.get(B);return qe&&Array.from(qe).some(At=>At!==he)}add(B,he){this.nodeMap.set(B,(this.nodeMap.get(B)||new Set).add(he))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let ks,uo;try{if(2!==Array.from([1],k=>2*k)[0]){const k=document.createElement("iframe");document.body.appendChild(k),Array.from=w([k,"access",B=>B.contentWindow,"optionalAccess",B=>B.Array,"access",B=>B.from])||Array.from,document.body.removeChild(k)}}catch(k){console.debug("Unable to override Array.from",k)}const za=function zt(){return new xt}();function Us(k={}){const{emit:B,checkoutEveryNms:he,checkoutEveryNth:qe,blockClass:At="rr-block",blockSelector:Yt=null,unblockSelector:yn=null,ignoreClass:Bn="rr-ignore",ignoreSelector:Sn=null,maskAllText:ei=!1,maskTextClass:bi="rr-mask",unmaskTextClass:pi=null,maskTextSelector:wi=null,unmaskTextSelector:Ci=null,inlineStylesheet:Un=!0,maskAllInputs:yi,maskInputOptions:pr,slimDOMOptions:or,maskAttributeFn:jr,maskInputFn:is,maskTextFn:Ls,maxCanvasSize:Qr=null,packFn:xr,sampling:cr={},dataURLOptions:Ki={},mousemoveWait:Do,recordDOM:Nr=!0,recordCanvas:ls=!1,recordCrossOriginIframes:cs=!1,recordAfter:ea=("DOMContentLoaded"===k.recordAfter?k.recordAfter:"load"),userTriggeredOnInput:ta=!1,collectFonts:Xo=!1,inlineImages:$s=!1,plugins:Kc,keepIframeSrcFn:To=(()=>!1),ignoreCSSAttributes:yc=new Set([]),errorHandler:ka,onMutation:vr,getCanvasManager:Ep}=k;!function Ol(k){qo=k}(ka);const Qd=!cs||window.parent===window;let Xc=!1;if(!Qd)try{window.parent.document&&(Xc=!1)}catch{Xc=!0}if(Qd&&!B)throw new Error("emit function is required");void 0!==Do&&void 0===cr.mousemove&&(cr.mousemove=Do),za.reset();const vc=!0===yi?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==pr?pr:{},po=!0===or||"all"===or?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===or,headMetaDescKeywords:"all"===or}:or||{};!function Fo(k=window){"NodeList"in k&&!k.NodeList.prototype.forEach&&(k.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in k&&!k.DOMTokenList.prototype.forEach&&(k.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...B)=>{let he=B[0];if(!(0 in B))throw new TypeError("1 argument is required");do{if(this===he)return!0}while(he=he&&he.parentNode);return!1})}();let Ia,Zd=0;const Aa=Ys=>{for(const el of Kc||[])el.eventProcessor&&(Ys=el.eventProcessor(Ys));return xr&&!Xc&&(Ys=xr(Ys)),Ys};ks=(Ys,el)=>{const no=Ys;if(no.timestamp=Zr(),w([oa,"access",Oa=>Oa[0],"optionalAccess",Oa=>Oa.isFrozen,"call",Oa=>Oa()])&&no.type!==Lr.FullSnapshot&&!(no.type===Lr.IncrementalSnapshot&&no.data.source===Mr.Mutation)&&oa.forEach(Oa=>Oa.unfreeze()),Qd)w([B,"optionalCall",Oa=>Oa(Aa(no),el)]);else if(Xc){const Oa={type:"rrweb",event:Aa(no),origin:window.location.origin,isCheckout:el};window.parent.postMessage(Oa,"*")}if(no.type===Lr.FullSnapshot)Ia=no,Zd=0;else if(no.type===Lr.IncrementalSnapshot){if(no.data.source===Mr.Mutation&&no.data.isAttachIframe)return;Zd++,(qe&&Zd>=qe||he&&Ia&&no.timestamp-Ia.timestamp>he)&&kl(!0)}};const Tl=Ys=>{ks({type:Lr.IncrementalSnapshot,data:{source:Mr.Mutation,...Ys}})},gd=Ys=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.Scroll,...Ys}}),_d=Ys=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.CanvasMutation,...Ys}}),ko=new ul({mutationCb:Tl,adoptedStyleSheetCb:Ys=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.AdoptedStyleSheet,...Ys}})}),jo="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Ja:new co({mirror:za,mutationCb:Tl,stylesheetManager:ko,recordCrossOriginIframes:cs,wrappedEmit:ks});for(const Ys of Kc||[])Ys.getMirror&&Ys.getMirror({nodeMirror:za,crossOriginIframeMirror:jo.crossOriginIframeMirror,crossOriginIframeStyleMirror:jo.crossOriginIframeStyleMirror});const Jd=new hr,Ma=function de(k,B){try{return k?k(B):new Zo}catch{return console.warn("Unable to initialize CanvasManager"),new Zo}}(Ep,{mirror:za,win:window,mutationCb:Ys=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.CanvasMutation,...Ys}}),recordCanvas:ls,blockClass:At,blockSelector:Yt,unblockSelector:yn,maxCanvasSize:Qr,sampling:cr.canvas,dataURLOptions:Ki,errorHandler:ka}),Yc="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new xa:new Ca({mutationCb:Tl,scrollCb:gd,bypassOptions:{onMutation:vr,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:ei,maskTextClass:bi,unmaskTextClass:pi,maskTextSelector:wi,unmaskTextSelector:Ci,inlineStylesheet:Un,maskInputOptions:vc,dataURLOptions:Ki,maskAttributeFn:jr,maskTextFn:Ls,maskInputFn:is,recordCanvas:ls,inlineImages:$s,sampling:cr,slimDOMOptions:po,iframeManager:jo,stylesheetManager:ko,canvasManager:Ma,keepIframeSrcFn:To,processedNodeManager:Jd},mirror:za}),kl=(Ys=!1)=>{if(!Nr)return;ks({type:Lr.Meta,data:{href:window.location.href,width:Er(),height:Os()}},Ys),ko.reset(),Yc.init(),oa.forEach(no=>no.lock());const el=function He(k,B){const{mirror:he=new xt,blockClass:qe="rr-block",blockSelector:At=null,unblockSelector:Yt=null,maskAllText:yn=!1,maskTextClass:Bn="rr-mask",unmaskTextClass:Sn=null,maskTextSelector:ei=null,unmaskTextSelector:bi=null,inlineStylesheet:pi=!0,inlineImages:wi=!1,recordCanvas:Ci=!1,maskAllInputs:Un=!1,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOM:jr=!1,dataURLOptions:is,preserveWhiteSpace:Ls,onSerialize:Qr,onIframeLoad:xr,iframeLoadTimeout:cr,onStylesheetLoad:Ki,stylesheetLoadTimeout:Do,keepIframeSrcFn:Nr=(()=>!1)}=B||{};return et(k,{doc:k,mirror:he,blockClass:qe,blockSelector:At,unblockSelector:Yt,maskAllText:yn,maskTextClass:Bn,unmaskTextClass:Sn,maskTextSelector:ei,unmaskTextSelector:bi,skipChild:!1,inlineStylesheet:pi,maskInputOptions:!0===Un?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===Un?{}:Un,maskAttributeFn:yi,maskTextFn:pr,maskInputFn:or,slimDOMOptions:!0===jr||"all"===jr?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===jr,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===jr?{}:jr,dataURLOptions:is,inlineImages:wi,recordCanvas:Ci,preserveWhiteSpace:Ls,onSerialize:Qr,onIframeLoad:xr,iframeLoadTimeout:cr,onStylesheetLoad:Ki,stylesheetLoadTimeout:Do,keepIframeSrcFn:Nr,newlyAddedElement:!1})}(document,{mirror:za,blockClass:At,blockSelector:Yt,unblockSelector:yn,maskAllText:ei,maskTextClass:bi,unmaskTextClass:pi,maskTextSelector:wi,unmaskTextSelector:Ci,inlineStylesheet:Un,maskAllInputs:vc,maskAttributeFn:jr,maskInputFn:is,maskTextFn:Ls,slimDOM:po,dataURLOptions:Ki,recordCanvas:ls,inlineImages:$s,onSerialize:no=>{Al(no,za)&&jo.addIframe(no),Ya(no,za)&&ko.trackLinkElement(no),qa(no)&&Yc.addShadowRoot(no.shadowRoot,document)},onIframeLoad:(no,Oa)=>{jo.attachIframe(no,Oa),no.contentWindow&&Ma.addWindow(no.contentWindow),Yc.observeAttachShadow(no)},onStylesheetLoad:(no,Oa)=>{ko.attachLinkElement(no,Oa)},keepIframeSrcFn:To});if(!el)return console.warn("Failed to snapshot the document");ks({type:Lr.FullSnapshot,data:{node:el,initialOffset:ds(window)}}),oa.forEach(no=>no.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ko.adoptStyleSheets(document.adoptedStyleSheets,za.getId(document))};uo=kl;try{const Ys=[],el=Oa=>kr(wl)({onMutation:vr,mutationCb:Tl,mousemoveCb:(_s,bc)=>ks({type:Lr.IncrementalSnapshot,data:{source:bc,positions:_s}}),mouseInteractionCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.MouseInteraction,..._s}}),scrollCb:gd,viewportResizeCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.ViewportResize,..._s}}),inputCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.Input,..._s}}),mediaInteractionCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.MediaInteraction,..._s}}),styleSheetRuleCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.StyleSheetRule,..._s}}),styleDeclarationCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.StyleDeclaration,..._s}}),canvasMutationCb:_d,fontCb:_s=>ks({type:Lr.IncrementalSnapshot,data:{source:Mr.Font,..._s}}),selectionCb:_s=>{ks({type:Lr.IncrementalSnapshot,data:{source:Mr.Selection,..._s}})},customElementCb:_s=>{ks({type:Lr.IncrementalSnapshot,data:{source:Mr.CustomElement,..._s}})},blockClass:At,ignoreClass:Bn,ignoreSelector:Sn,maskAllText:ei,maskTextClass:bi,unmaskTextClass:pi,maskTextSelector:wi,unmaskTextSelector:Ci,maskInputOptions:vc,inlineStylesheet:Un,sampling:cr,recordDOM:Nr,recordCanvas:ls,inlineImages:$s,userTriggeredOnInput:ta,collectFonts:Xo,doc:Oa,maskAttributeFn:jr,maskInputFn:is,maskTextFn:Ls,keepIframeSrcFn:To,blockSelector:Yt,unblockSelector:yn,slimDOMOptions:po,dataURLOptions:Ki,mirror:za,iframeManager:jo,stylesheetManager:ko,shadowDomManager:Yc,processedNodeManager:Jd,canvasManager:Ma,ignoreCSSAttributes:yc,plugins:w([Kc,"optionalAccess",_s=>_s.filter,"call",_s=>_s(bc=>bc.observer),"optionalAccess",_s=>_s.map,"call",_s=>_s(bc=>({observer:bc.observer,options:bc.options,callback:yd=>ks({type:Lr.Plugin,data:{plugin:bc.name,payload:yd}})}))])||[]},{});jo.addLoadListener(Oa=>{try{Ys.push(el(Oa.contentDocument))}catch(_s){console.warn(_s)}});const no=()=>{kl(),Ys.push(el(document))};return"interactive"===document.readyState||"complete"===document.readyState?no():(Ys.push(Bt("DOMContentLoaded",()=>{ks({type:Lr.DomContentLoaded,data:{}}),"DOMContentLoaded"===ea&&no()})),Ys.push(Bt("load",()=>{ks({type:Lr.Load,data:{}}),"load"===ea&&no()},window))),()=>{Ys.forEach(Oa=>Oa()),Jd.destroy(),uo=void 0,function wa(){qo=void 0}()}}catch(Ys){console.warn(Ys)}}Us.mirror=za,Us.takeFullSnapshot=function jt(k){if(!uo)throw new Error("please take full snapshot after start recording");uo(k)};const Se=3;function le(k){return k>9999999999?k:1e3*k}function ie(k){return k>9999999999?k/1e3:k}function ze(k,B){"sentry.transaction"!==B.category&&(["ui.click","ui.input"].includes(B.category)?k.triggerUserActivity():k.checkAndHandleExpiredSession(),k.addUpdate(()=>(k.throttledAddEvent({type:Lr.Custom,timestamp:1e3*(B.timestamp||0),data:{tag:"breadcrumb",payload:(0,U.S8)(B,10,1e3)}}),"console"===B.category)))}const Ct="button,a";function En(k){return k.closest(Ct)||k}function Fn(k){const B=ki(k);return B&&B instanceof Element?En(B):B}function ki(k){return function Nn(k){return"object"==typeof k&&!!k&&"target"in k}(k)?k.target:k}let fr;class Zs{constructor(B,he,qe=ze){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=he.timeout/1e3,this._threshold=he.threshold/1e3,this._scollTimeout=he.scrollTimeout/1e3,this._replay=B,this._ignoreSelector=he.ignoreSelector,this._addBreadcrumbEvent=qe}addListeners(){const B=function Ur(k){return fr||(fr=[],function ur(){(0,F.GS)(ye,"open",function(k){return function(...B){if(fr)try{fr.forEach(he=>he())}catch{}return k.apply(ye,B)}})}()),fr.push(k),()=>{const B=fr?fr.indexOf(k):-1;B>-1&&fr.splice(B,1)}}(()=>{this._lastMutation=Xs()});this._teardown=()=>{B(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(B,he){if(function zs(k,B){return!!(!Cr.includes(k.tagName)||"INPUT"===k.tagName&&!["submit","button"].includes(k.getAttribute("type")||"")||"A"===k.tagName&&(k.hasAttribute("download")||k.hasAttribute("target")&&"_self"!==k.getAttribute("target"))||B&&k.matches(B))}(he,this._ignoreSelector)||!function Ns(k){return!(!k.data||"number"!=typeof k.data.nodeId||!k.timestamp)}(B))return;const qe={timestamp:ie(B.timestamp),clickBreadcrumb:B,clickCount:0,node:he};this._clicks.some(At=>At.node===qe.node&&Math.abs(At.timestamp-qe.timestamp)<1)||(this._clicks.push(qe),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(B=Date.now()){this._lastMutation=ie(B)}registerScroll(B=Date.now()){this._lastScroll=ie(B)}registerClick(B){const he=En(B);this._handleMultiClick(he)}_handleMultiClick(B){this._getClicks(B).forEach(he=>{he.clickCount++})}_getClicks(B){return this._clicks.filter(he=>he.node===B)}_checkClicks(){const B=[],he=Xs();this._clicks.forEach(qe=>{!qe.mutationAfter&&this._lastMutation&&(qe.mutationAfter=qe.timestamp<=this._lastMutation?this._lastMutation-qe.timestamp:void 0),!qe.scrollAfter&&this._lastScroll&&(qe.scrollAfter=qe.timestamp<=this._lastScroll?this._lastScroll-qe.timestamp:void 0),qe.timestamp+this._timeout<=he&&B.push(qe)});for(const qe of B){const At=this._clicks.indexOf(qe);At>-1&&(this._generateBreadcrumbs(qe),this._clicks.splice(At,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(B){const he=this._replay,Yt=!(B.scrollAfter&&B.scrollAfter<=this._scollTimeout||B.mutationAfter&&B.mutationAfter<=this._threshold),{clickCount:yn,clickBreadcrumb:Bn}=B;if(Yt){const Sn=1e3*Math.min(B.mutationAfter||this._timeout,this._timeout),ei=Sn<1e3*this._timeout?"mutation":"timeout",bi={type:"default",message:Bn.message,timestamp:Bn.timestamp,category:"ui.slowClickDetected",data:{...Bn.data,url:ye.location.href,route:he.getCurrentRoute(),timeAfterClickMs:Sn,endReason:ei,clickCount:yn||1}};this._addBreadcrumbEvent(he,bi)}else if(yn>1){const Sn={type:"default",message:Bn.message,timestamp:Bn.timestamp,category:"ui.multiClick",data:{...Bn.data,url:ye.location.href,route:he.getCurrentRoute(),clickCount:yn,metric:!0}};this._addBreadcrumbEvent(he,Sn)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=(0,Je.wg)(()=>this._checkClicks(),1e3)}}const Cr=["A","BUTTON","INPUT"];function Xs(){return Date.now()/1e3}function Et(k){return{timestamp:Date.now()/1e3,type:"default",...k}}var Kt=function(k){return k[k.Document=0]="Document",k[k.DocumentType=1]="DocumentType",k[k.Element=2]="Element",k[k.Text=3]="Text",k[k.CDATA=4]="CDATA",k[k.Comment=5]="Comment",k}(Kt||{});const cn=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function tn(k){const B={};!k["data-sentry-component"]&&k["data-sentry-element"]&&(k["data-sentry-component"]=k["data-sentry-element"]);for(const he in k)if(cn.has(he)){let qe=he;("data-testid"===he||"data-test-id"===he)&&(qe="testId"),B[qe]=k[he]}return B}function ln(k,B){const he=Us.mirror.getId(k),qe=he&&Us.mirror.getNode(he),At=qe&&Us.mirror.getMeta(qe),Yt=At&&function jn(k){return k.type===Kt.Element}(At)?At:null;return{message:B,data:Yt?{nodeId:he,node:{id:he,tagName:Yt.tagName,textContent:Array.from(Yt.childNodes).map(yn=>yn.type===Kt.Text&&yn.textContent).filter(Boolean).map(yn=>yn.trim()).join(""),attributes:tn(Yt.attributes)}}:{}}}const Ji={resource:function Ro(k){const{entryType:B,initiatorType:he,name:qe,responseEnd:At,startTime:Yt,decodedBodySize:yn,encodedBodySize:Bn,responseStatus:Sn,transferSize:ei}=k;return["fetch","xmlhttprequest"].includes(he)?null:{type:`${B}.${he}`,start:Gr(Yt),end:Gr(At),name:qe,data:{size:ei,statusCode:Sn,decodedBodySize:yn,encodedBodySize:Bn}}},paint:function ns(k){const{duration:B,entryType:he,name:qe,startTime:At}=k,Yt=Gr(At);return{type:he,name:qe,start:Yt,end:Yt+B,data:void 0}},navigation:function Zl(k){const{entryType:B,name:he,decodedBodySize:qe,duration:At,domComplete:Yt,encodedBodySize:yn,domContentLoadedEventStart:Bn,domContentLoadedEventEnd:Sn,domInteractive:ei,loadEventStart:bi,loadEventEnd:pi,redirectCount:wi,startTime:Ci,transferSize:Un,type:yi}=k;return 0===At?null:{type:`${B}.${yi}`,start:Gr(Ci),end:Gr(Yt),name:he,data:{size:Un,decodedBodySize:qe,encodedBodySize:yn,duration:At,domInteractive:ei,domContentLoadedEventStart:Bn,domContentLoadedEventEnd:Sn,loadEventStart:bi,loadEventEnd:pi,domComplete:Yt,redirectCount:wi}}}};function $r(k,B){return({metric:he})=>{B.replayPerformanceEntries.push(k(he))}}function js(k){const B=Ji[k.entryType];return B?B(k):null}function Gr(k){return((ue.k3||ye.performance.timeOrigin)+k)/1e3}function Jo(k){const B=k.entries[k.entries.length-1];return _r(k,"largest-contentful-paint",B?B.element:void 0)}function Js(k){const B=k.entries[0];return _r(k,"cumulative-layout-shift",B&&B.sources&&B.sources[0]?B.sources[0].node:void 0)}function El(k){const B=k.entries[k.entries.length-1];return _r(k,"first-input-delay",B?B.target:void 0)}function ua(k){const B=k.entries[k.entries.length-1];return _r(k,"interaction-to-next-paint",B?B.target:void 0)}function _r(k,B,he){const qe=k.value,At=k.rating,Yt=Gr(qe);return{type:"web-vital",name:B,start:Yt,end:Yt,data:{value:qe,size:qe,rating:At,nodeId:he?Us.mirror.getId(he):void 0}}}const Ps=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function hs(k,B){Ps&&(ce.vF.info(k),B&&vu(k))}function ja(k,B){Ps&&(ce.vF.info(k),B&&(0,Je.wg)(()=>{vu(k)},0))}function vu(k){(0,D.Z)({category:"console",data:{logger:"replay"},level:"info",message:k},{level:"info"})}class ms extends Error{constructor(){super(`Event buffer exceeded maximum size of ${at}.`)}}class xl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(B){var he=this;return(0,d.A)(function*(){const qe=JSON.stringify(B).length;if(he._totalSize+=qe,he._totalSize>at)throw new ms;he.events.push(B)})()}finish(){return new Promise(B=>{const he=this.events;this.clear(),B(JSON.stringify(he))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const B=this.events.map(he=>he.timestamp).sort()[0];return B?le(B):null}}class Ko{constructor(B){this._worker=B,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((B,he)=>{this._worker.addEventListener("message",({data:qe})=>{qe.success?B():he()},{once:!0}),this._worker.addEventListener("error",qe=>{he(qe)},{once:!0})})),this._ensureReadyPromise}destroy(){hs("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(B,he){const qe=this._getAndIncrementId();return new Promise((At,Yt)=>{const yn=({data:Bn})=>{const Sn=Bn;if(Sn.method===B&&Sn.id===qe){if(this._worker.removeEventListener("message",yn),!Sn.success)return Ps&&ce.vF.error("[Replay]",Sn.response),void Yt(new Error("Error in compression worker"));At(Sn.response)}};this._worker.addEventListener("message",yn),this._worker.postMessage({id:qe,method:B,arg:he})})}_getAndIncrementId(){return this._id++}}class ho{constructor(B){this._worker=new Ko(B),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(B){const he=le(B.timestamp);(!this._earliestTimestamp||he<this._earliestTimestamp)&&(this._earliestTimestamp=he);const qe=JSON.stringify(B);return this._totalSize+=qe.length,this._totalSize>at?Promise.reject(new ms):this._sendEventToWorker(qe)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,B=>{Ps&&ce.vF.warn('[Replay] Sending "clear" message to worker failed',B)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(B){return this._worker.postMessage("addEvent",B)}_finishRequest(){var B=this;return(0,d.A)(function*(){const he=yield B._worker.postMessage("finish");return B._earliestTimestamp=null,B._totalSize=0,he})()}}class da{constructor(B){this._fallback=new xl,this._compression=new ho(B),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(B){this._used.hasCheckout=B}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(B){return this._used.addEvent(B)}finish(){var B=this;return(0,d.A)(function*(){return yield B.ensureWorkerIsLoaded(),B._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var B=this;return(0,d.A)(function*(){try{yield B._compression.ensureReady()}catch{return void hs("[Replay] Failed to load the compression worker, falling back to simple buffer")}yield B._switchToCompressionWorker()})()}_switchToCompressionWorker(){var B=this;return(0,d.A)(function*(){const{events:he,hasCheckout:qe}=B._fallback,At=[];for(const Yt of he)At.push(B._compression.addEvent(Yt));B._compression.hasCheckout=qe,B._used=B._compression;try{yield Promise.all(At)}catch(Yt){Ps&&ce.vF.warn("[Replay] Failed to add events when switching buffers.",Yt)}})()}}function Cl(){try{return"sessionStorage"in ye&&!!ye.sessionStorage}catch{return!1}}function Ve(k){return void 0!==k&&Math.random()<k}function _t(k){const B=Date.now();return{id:k.id||(0,re.eJ)(),started:k.started||B,lastActivity:k.lastActivity||B,segmentId:k.segmentId||0,sampled:k.sampled,previousSessionId:k.previousSessionId}}function an(k){if(Cl())try{ye.sessionStorage.setItem(Ne,JSON.stringify(k))}catch{}}function ui({sessionSampleRate:k,allowBuffering:B,stickySession:he=!1},{previousSessionId:qe}={}){const At=function Wn(k,B){return Ve(k)?"session":!!B&&"buffer"}(k,B),Yt=_t({sampled:At,previousSessionId:qe});return he&&an(Yt),Yt}function Fs(k,B,he=+new Date){return null===k||void 0===B||B<0||0!==B&&k+B<=he}function qr(k,{maxReplayDuration:B,sessionIdleExpire:he,targetTime:qe=Date.now()}){return Fs(k.started,B,qe)||Fs(k.lastActivity,he,qe)}function ts(k,{sessionIdleExpire:B,maxReplayDuration:he}){return!(!qr(k,{sessionIdleExpire:B,maxReplayDuration:he})||"buffer"===k.sampled&&0===k.segmentId)}function Si({traceInternals:k,sessionIdleExpire:B,maxReplayDuration:he,previousSessionId:qe},At){const Yt=At.stickySession&&function Vi(k){if(!Cl())return null;try{const B=ye.sessionStorage.getItem(Ne);if(!B)return null;const he=JSON.parse(B);return ja("[Replay] Loading existing session",k),_t(he)}catch{return null}}(k);return Yt?ts(Yt,{sessionIdleExpire:B,maxReplayDuration:he})?(ja("[Replay] Session in sessionStorage is expired, creating new one..."),ui(At,{previousSessionId:Yt.id})):Yt:(ja("[Replay] Creating new session",k),ui(At,{previousSessionId:qe}))}function Ws(k,B,he){return!!Oc(k,B)&&(Vl(k,B,he),!0)}function Vl(k,B,he){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.A)(function*(k,B,he){if(!k.eventBuffer)return null;try{he&&"buffer"===k.recordingMode&&k.eventBuffer.clear(),he&&(k.eventBuffer.hasCheckout=!0);const At=function fc(k,B){try{if("function"==typeof B&&function ro(k){return k.type===Lr.Custom}(k))return B(k)}catch(he){return Ps&&ce.vF.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",he),null}return k}(B,k.getOptions().beforeAddRecordingEvent);return At?yield k.eventBuffer.addEvent(At):void 0}catch(qe){const At=qe&&qe instanceof ms?"addEventSizeExceeded":"addEvent";Ps&&ce.vF.error(qe),yield k.stop({reason:At});const Yt=(0,C.KU)();Yt&&Yt.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function Oc(k,B){if(!k.eventBuffer||k.isPaused()||!k.isEnabled())return!1;const he=le(B.timestamp);return!(he+k.timeouts.sessionIdlePause<Date.now()||he>k.getContext().initialTimestamp+k.getOptions().maxReplayDuration&&(ja(`[Replay] Skipping event with timestamp ${he} because it is after maxReplayDuration`,k.getOptions()._experiments.traceInternals),1))}function Vo(k){return!k.type}function Uo(k){return"transaction"===k.type}function eu(k){return"feedback"===k.type}function bu(k){return!!k.category}function nu(k,B){return B.map(({type:he,start:qe,end:At,name:Yt,data:yn})=>{const Bn=k.throttledAddEvent({type:Lr.Custom,timestamp:qe,data:{tag:"performanceSpan",payload:{op:he,description:Yt,startTimestamp:qe,endTimestamp:At,data:yn}}});return"string"==typeof Bn?Promise.resolve(null):Bn})}function mc(k,B){k.isEnabled()&&null!==B&&(function zr(k,B){return(!Ps||!k.getOptions()._experiments.traceInternals)&&function S(k,B){const he=B&&B.getDsn(),qe=B&&B.getOptions().tunnel;return function E(k,B){return!!B&&k.includes(B.host)}(k,he)||function I(k,B){return!!B&&y(k)===y(B)}(k,qe)}(B,(0,C.KU)())}(k,B.name)||k.addUpdate(()=>(nu(k,[B]),!0)))}function tc(k){if(!k)return;const B=new TextEncoder;try{if("string"==typeof k)return B.encode(k).length;if(k instanceof URLSearchParams)return B.encode(k.toString()).length;if(k instanceof FormData){const he=Td(k);return B.encode(he).length}if(k instanceof Blob)return k.size;if(k instanceof ArrayBuffer)return k.byteLength}catch{}}function zc(k){if(!k)return;const B=parseInt(k,10);return isNaN(B)?void 0:B}function xo(k){try{if("string"==typeof k)return[k];if(k instanceof URLSearchParams)return[k.toString()];if(k instanceof FormData)return[Td(k)];if(!k)return[void 0]}catch{return Ps&&ce.vF.warn("[Replay] Failed to serialize body",k),[void 0,"BODY_PARSE_ERROR"]}return Ps&&ce.vF.info("[Replay] Skipping network body because of body type",k),[void 0,"UNPARSEABLE_BODY_TYPE"]}function nc(k,B){if(!k)return{headers:{},size:void 0,_meta:{warnings:[B]}};const he={...k._meta};return he.warnings=[...he.warnings||[],B],k._meta=he,k}function wu(k,B){if(!B)return null;const{startTimestamp:he,endTimestamp:qe,url:At,method:Yt,statusCode:yn,request:Bn,response:Sn}=B;return{type:k,start:he/1e3,end:qe/1e3,name:At,data:(0,F.Ce)({method:Yt,statusCode:yn,request:Bn,response:Sn})}}function Nc(k){return{headers:{},size:k,_meta:{warnings:["URL_SKIPPED"]}}}function Mu(k,B,he){if(!B&&0===Object.keys(k).length)return;if(!B)return{headers:k};if(!he)return{headers:k,size:B};const qe={headers:k,size:B},{body:At,warnings:Yt}=function vh(k){if(!k||"string"!=typeof k)return{body:k};const B=k.length>Oe,he=function jc(k){const B=k[0],he=k[k.length-1];return"["===B&&"]"===he||"{"===B&&"}"===he}(k);if(B){const qe=k.slice(0,Oe);return he?{body:qe,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${qe}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(he)try{return{body:JSON.parse(k)}}catch{}return{body:k}}(he);return qe.body=At,Yt&&Yt.length>0&&(qe._meta={warnings:Yt}),qe}function pd(k,B){return Object.entries(k).reduce((he,[qe,At])=>{const Yt=qe.toLowerCase();return B.includes(Yt)&&k[qe]&&(he[Yt]=At),he},{})}function Td(k){return new URLSearchParams(k).toString()}function Ou(k,B){const he=function bh(k,B=ye.document.baseURI){if(k.startsWith("http://")||k.startsWith("https://")||k.startsWith(ye.location.origin))return k;const he=new URL(k,B);if(he.origin!==new URL(B).origin)return k;const qe=he.href;return!k.endsWith("/")&&qe.endsWith("/")?qe.slice(0,-1):qe}(k);return(0,be.Xr)(he,B)}function Rl(){return Rl=(0,d.A)(function*(k,B,he){try{const qe=yield function Wc(k,B,he){return pl.apply(this,arguments)}(k,B,he),At=wu("resource.fetch",qe);mc(he.replay,At)}catch(qe){Ps&&ce.vF.error("[Replay] Failed to capture fetch breadcrumb",qe)}}),Rl.apply(this,arguments)}function pl(){return pl=(0,d.A)(function*(k,B,he){const qe=Date.now(),{startTimestamp:At=qe,endTimestamp:Yt=qe}=B,{url:yn,method:Bn,status_code:Sn=0,request_body_size:ei,response_body_size:bi}=k.data,pi=Ou(yn,he.networkDetailAllowUrls)&&!Ou(yn,he.networkDetailDenyUrls),wi=pi?function So({networkCaptureBodies:k,networkRequestHeaders:B},he,qe){const At=he?function G(k,B){return 1===k.length&&"string"!=typeof k[0]?ke(k[0],B):2===k.length?ke(k[1],B):{}}(he,B):{};if(!k)return Mu(At,qe,void 0);const Yt=Eh(he),[yn,Bn]=xo(Yt),Sn=Mu(At,qe,yn);return Bn?nc(Sn,Bn):Sn}(he,B.input,ei):Nc(ei),Ci=yield function gc(k,B,he,qe){return iu.apply(this,arguments)}(pi,he,B.response,bi);return{startTimestamp:At,endTimestamp:Yt,url:yn,method:Bn,statusCode:Sn,request:wi,response:Ci}}),pl.apply(this,arguments)}function iu(){return iu=(0,d.A)(function*(k,{networkCaptureBodies:B,networkResponseHeaders:he},qe,At){if(!k&&void 0!==At)return Nc(At);const Yt=qe?so(qe.headers,he):{};if(!qe||!B&&void 0!==At)return Mu(Yt,At,void 0);const[yn,Bn]=yield function Gu(k){return qd.apply(this,arguments)}(qe),Sn=function ru(k,{networkCaptureBodies:B,responseBodySize:he,captureDetails:qe,headers:At}){try{const Yt=k&&k.length&&void 0===he?tc(k):he;return qe?Mu(At,Yt,B?k:void 0):Nc(Yt)}catch(Yt){return Ps&&ce.vF.warn("[Replay] Failed to serialize response body",Yt),Mu(At,he,void 0)}}(yn,{networkCaptureBodies:B,responseBodySize:At,captureDetails:k,headers:Yt});return Bn?nc(Sn,Bn):Sn}),iu.apply(this,arguments)}function qd(){return(qd=(0,d.A)(function*(k){const B=function fe(k){try{return k.clone()}catch(B){Ps&&ce.vF.warn("[Replay] Failed to clone response body",B)}}(k);if(!B)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Ie(B)]}catch(he){return Ps&&ce.vF.warn("[Replay] Failed to get text body from response",he),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function Eh(k=[]){if(2===k.length&&"object"==typeof k[1])return k[1].body}function so(k,B){const he={};return B.forEach(qe=>{k.get(qe)&&(he[qe]=k.get(qe))}),he}function ke(k,B){if(!k)return{};const he=k.headers;return he?he instanceof Headers?so(he,B):Array.isArray(he)?{}:pd(he,B):{}}function Ie(k){return new Promise((B,he)=>{const qe=(0,Je.wg)(()=>he(new Error("Timeout while trying to read response body")),500);(function ht(k){return Lt.apply(this,arguments)})(k).then(At=>B(At),At=>he(At)).finally(()=>clearTimeout(qe))})}function Lt(){return(Lt=(0,d.A)(function*(k){return yield k.text()})).apply(this,arguments)}function Gn(){return(Gn=(0,d.A)(function*(k,B,he){try{const qe=function di(k,B,he){const qe=Date.now(),{startTimestamp:At=qe,endTimestamp:Yt=qe,input:yn,xhr:Bn}=B,{url:Sn,method:ei,status_code:bi=0,request_body_size:pi,response_body_size:wi}=k.data;if(!Sn)return null;if(!Bn||!Ou(Sn,he.networkDetailAllowUrls)||Ou(Sn,he.networkDetailDenyUrls))return{startTimestamp:At,endTimestamp:Yt,url:Sn,method:ei,statusCode:bi,request:Nc(pi),response:Nc(wi)};const Ci=Bn[K.Er],Un=Ci?pd(Ci.request_headers,he.networkRequestHeaders):{},yi=pd(function tr(k){const B=k.getAllResponseHeaders();return B?B.split("\r\n").reduce((he,qe)=>{const[At,Yt]=qe.split(": ");return Yt&&(he[At.toLowerCase()]=Yt),he},{}):{}}(Bn),he.networkResponseHeaders),[pr,or]=he.networkCaptureBodies?xo(yn):[void 0],[jr,is]=he.networkCaptureBodies?function yr(k){const B=[];try{return[k.responseText]}catch(he){B.push(he)}try{return function Rr(k,B){try{if("string"==typeof k)return[k];if(k instanceof Document)return[k.body.outerHTML];if("json"===B&&k&&"object"==typeof k)return[JSON.stringify(k)];if(!k)return[void 0]}catch{return Ps&&ce.vF.warn("[Replay] Failed to serialize body",k),[void 0,"BODY_PARSE_ERROR"]}return Ps&&ce.vF.info("[Replay] Skipping network body because of body type",k),[void 0,"UNPARSEABLE_BODY_TYPE"]}(k.response,k.responseType)}catch(he){B.push(he)}return Ps&&ce.vF.warn("[Replay] Failed to get xhr response body",...B),[void 0]}(Bn):[void 0],Ls=Mu(Un,pi,pr),Qr=Mu(yi,wi,jr);return{startTimestamp:At,endTimestamp:Yt,url:Sn,method:ei,statusCode:bi,request:or?nc(Ls,or):Ls,response:is?nc(Qr,is):Qr}}(k,B,he),At=wu("resource.xhr",qe);mc(he.replay,At)}catch(qe){Ps&&ce.vF.error("[Replay] Failed to capture xhr breadcrumb",qe)}})).apply(this,arguments)}function ml(k){const B=(0,C.KU)();try{const{networkDetailAllowUrls:he,networkDetailDenyUrls:qe,networkCaptureBodies:At,networkRequestHeaders:Yt,networkResponseHeaders:yn}=k.getOptions(),Bn={replay:k,networkDetailAllowUrls:he,networkDetailDenyUrls:qe,networkCaptureBodies:At,networkRequestHeaders:Yt,networkResponseHeaders:yn};B&&B.on("beforeAddBreadcrumb",(Sn,ei)=>function Nl(k,B,he){if(B.data)try{(function Ul(k){return"xhr"===k.category})(B)&&function xh(k){return k&&k.xhr}(he)&&(function Mn(k,B){const{xhr:he,input:qe}=B;if(!he)return;const At=tc(qe),Yt=he.getResponseHeader("content-length")?zc(he.getResponseHeader("content-length")):function No(k,B){try{return tc("json"===B&&k&&"object"==typeof k?JSON.stringify(k):k)}catch{return}}(he.response,he.responseType);void 0!==At&&(k.data.request_body_size=At),void 0!==Yt&&(k.data.response_body_size=Yt)}(B,he),function un(k,B,he){Gn.apply(this,arguments)}(B,he,k)),function kd(k){return"fetch"===k.category}(B)&&function su(k){return k&&k.response}(he)&&(function Hu(k,B){const{input:he,response:qe}=B,Yt=tc(he?Eh(he):void 0),yn=qe?zc(qe.headers.get("content-length")):void 0;void 0!==Yt&&(k.data.request_body_size=Yt),void 0!==yn&&(k.data.response_body_size=yn)}(B,he),function wh(k,B,he){Rl.apply(this,arguments)}(B,he,k))}catch{Ps&&ce.vF.warn("Error when enriching network breadcrumb")}}(Bn,Sn,ei))}catch{}}function Ke(){return(Ke=(0,d.A)(function*(k){try{return Promise.all(nu(k,[Me(ye.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function Me(k){const{jsHeapSizeLimit:B,totalJSHeapSize:he,usedJSHeapSize:qe}=k,At=Date.now()/1e3;return{type:"memory",name:"memory",start:At,end:At,data:{memory:{jsHeapSizeLimit:B,totalJSHeapSize:he,usedJSHeapSize:qe}}}}function en(k){let B=!1;return(he,qe)=>{if(!k.checkAndHandleExpiredSession())return void(Ps&&ce.vF.warn("[Replay] Received replay event after session expired."));const At=qe||!B;B=!0,k.clickDetector&&function Sa(k,B){try{if(!function ca(k){return k.type===Se}(B))return;const{source:he}=B.data;if(he===Mr.Mutation&&k.registerMutation(B.timestamp),he===Mr.Scroll&&k.registerScroll(B.timestamp),function P(k){return k.data.source===Mr.MouseInteraction}(B)){const{type:qe,id:At}=B.data,Yt=Us.mirror.getNode(At);Yt instanceof HTMLElement&&qe===ao.Click&&k.registerClick(Yt)}}catch{}}(k.clickDetector,he),k.addUpdate(()=>{if("buffer"===k.recordingMode&&At&&k.setInitialState(),!Ws(k,he,At))return!0;if(!At)return!1;if(function On(k,B){!B||!k.session||0!==k.session.segmentId||Ws(k,function fn(k){const B=k.getOptions();return{type:Lr.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:k.isRecordingCanvas(),sessionSampleRate:B.sessionSampleRate,errorSampleRate:B.errorSampleRate,useCompressionOption:B.useCompression,blockAllMedia:B.blockAllMedia,maskAllText:B.maskAllText,maskAllInputs:B.maskAllInputs,useCompression:!!k.eventBuffer&&"worker"===k.eventBuffer.type,networkDetailHasUrls:B.networkDetailAllowUrls.length>0,networkCaptureBodies:B.networkCaptureBodies,networkRequestHasHeaders:B.networkRequestHeaders.length>0,networkResponseHasHeaders:B.networkResponseHeaders.length>0}}}}(k),!1)}(k,At),k.session&&k.session.previousSessionId)return!0;if("buffer"===k.recordingMode&&k.session&&k.eventBuffer){const Yt=k.eventBuffer.getEarliestTimestamp();Yt&&(hs(`[Replay] Updating session start time to earliest event in buffer to ${new Date(Yt)}`,k.getOptions()._experiments.traceInternals),k.session.started=Yt,k.getOptions().stickySession&&an(k.session))}return"session"===k.recordingMode&&k.flush(),!0})}}function Bi(){return(Bi=(0,d.A)(function*({client:k,scope:B,replayId:he,event:qe}){const Yt={event_id:he,integrations:"object"!=typeof k._integrations||null===k._integrations||Array.isArray(k._integrations)?void 0:Object.keys(k._integrations)};k.emit("preprocessEvent",qe,Yt);const yn=yield(0,$.mG)(k.getOptions(),qe,Yt,B,k,(0,C.rm)());if(!yn)return null;yn.platform=yn.platform||"javascript";const Bn=k.getSdkMetadata(),{name:Sn,version:ei}=Bn&&Bn.sdk||{};return yn.sdk={...yn.sdk,name:Sn||"sentry.javascript.unknown",version:ei||"0.0.0"},yn})).apply(this,arguments)}function gs(){return gs=(0,d.A)(function*({recordingData:k,replayId:B,segmentId:he,eventContext:qe,timestamp:At,session:Yt}){const yn=function Ai({recordingData:k,headers:B}){let he;const qe=`${JSON.stringify(B)}\n`;if("string"==typeof k)he=`${qe}${k}`;else{const Yt=(new TextEncoder).encode(qe);he=new Uint8Array(Yt.length+k.length),he.set(Yt),he.set(k,Yt.length)}return he}({recordingData:k,headers:{segment_id:he}}),{urls:Bn,errorIds:Sn,traceIds:ei,initialTimestamp:bi}=qe,pi=(0,C.KU)(),wi=(0,C.o5)(),Ci=pi&&pi.getTransport(),Un=pi&&pi.getDsn();if(!(pi&&Ci&&Un&&Yt.sampled))return(0,X.XW)({});const yi={type:Be,replay_start_timestamp:bi/1e3,timestamp:At/1e3,error_ids:Sn,trace_ids:ei,urls:Bn,replay_id:B,segment_id:he,replay_type:Yt.sampled},pr=yield function Di(k){return Bi.apply(this,arguments)}({scope:wi,client:pi,replayId:B,event:yi});if(!pr)return pi.recordDroppedEvent("event_processor","replay",yi),hs("An event processor returned `null`, will not send event."),(0,X.XW)({});delete pr.sdkProcessingMetadata;const or=function fi(k,B,he,qe){return(0,j.h4)((0,j.n2)(k,(0,j.Cj)(k),qe,he),[[{type:"replay_event"},k],[{type:"replay_recording",length:"string"==typeof B?(new TextEncoder).encode(B).length:B.length},B]])}(pr,yn,Un,pi.getOptions().tunnel);let jr;try{jr=yield Ci.send(or)}catch(Ls){const Qr=new Error(Qe);try{Qr.cause=Ls}catch{}throw Qr}if("number"==typeof jr.statusCode&&(jr.statusCode<200||jr.statusCode>=300))throw new Rt(jr.statusCode);const is=(0,se.wq)({},jr);if((0,se.Jz)(is,"replay"))throw new Cs(is);return jr}),gs.apply(this,arguments)}class Rt extends Error{constructor(B){super(`Transport returned status code ${B}`)}}class Cs extends Error{constructor(B){super("Rate limit hit"),this.rateLimits=B}}function Pl(k){return pn.apply(this,arguments)}function pn(){return pn=(0,d.A)(function*(k,B={count:0,interval:Ot}){const{recordingData:he,options:qe}=k;if(he.length)try{return yield function Kr(k){return gs.apply(this,arguments)}(k),!0}catch(At){if(At instanceof Rt||At instanceof Cs)throw At;if((0,x.o)("Replays",{_retryCount:B.count}),Ps&&qe._experiments&&qe._experiments.captureExceptions&&(0,x.Cp)(At),B.count>=ft){const Yt=new Error(`${Qe} - max retries exceeded`);try{Yt.cause=At}catch{}throw Yt}return B.interval*=++B.count,new Promise((Yt,yn)=>{(0,Je.wg)((0,d.A)(function*(){try{yield Pl(k,B),Yt(!0)}catch(Bn){yn(Bn)}}),B.interval)})}}),pn.apply(this,arguments)}const Ta="__THROTTLED";class to{constructor({options:B,recordingOptions:he}){to.prototype.__init.call(this),to.prototype.__init2.call(this),to.prototype.__init3.call(this),to.prototype.__init4.call(this),to.prototype.__init5.call(this),to.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=he,this._options=B,this._debouncedFlush=function Wt(k,B,he){let qe,At,Yt;const yn=he&&he.maxWait?Math.max(he.maxWait,B):0;function Bn(){return Sn(),qe=k(),qe}function Sn(){void 0!==At&&clearTimeout(At),void 0!==Yt&&clearTimeout(Yt),At=Yt=void 0}function bi(){return At&&clearTimeout(At),At=(0,Je.wg)(Bn,B),yn&&void 0===Yt&&(Yt=(0,Je.wg)(Bn,yn)),qe}return bi.cancel=Sn,bi.flush=function ei(){return void 0!==At||void 0!==Yt?Bn():qe},bi}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function Po(k,B,he){const qe=new Map;let yn=!1;return(...Bn)=>{const Sn=Math.floor(Date.now()/1e3);if((Bn=>{const Sn=Bn-he;qe.forEach((ei,bi)=>{bi<Sn&&qe.delete(bi)})})(Sn),[...qe.values()].reduce((Bn,Sn)=>Bn+Sn,0)>=B){const bi=yn;return yn=!0,bi?"__SKIPPED":Ta}yn=!1;const ei=qe.get(Sn)||0;return qe.set(Sn,ei+1),k(...Bn)}}((yn,Bn)=>function fo(k,B,he){return Oc(k,B)?Vl(k,B,he):Promise.resolve(null)}(this,yn,Bn),300,5);const{slowClickTimeout:qe,slowClickIgnoreSelectors:At}=this.getOptions(),Yt=qe?{threshold:Math.min(3e3,qe),timeout:qe,scrollTimeout:300,ignoreSelector:At?At.join(","):""}:void 0;Yt&&(this.clickDetector=new Zs(this,Yt))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(B){const{errorSampleRate:he,sessionSampleRate:qe}=this._options,At=he<=0&&qe<=0;if(this._requiresManualStart=At,!At){if(this._initializeSessionForSampling(B),!this.session)return void this._handleException(new Error("Unable to initialize and create session"));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",ja(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Ps&&ce.vF.info("[Replay] Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Ps&&ce.vF.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));ja("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const B=Si({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=B,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Ps&&ce.vF.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));ja("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const B=Si({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=B,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const B=this._canvas;this._stopRecording=Us({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:en(this),onMutation:this._onMutationHandler,...B?{recordCanvas:B.recordCanvas,getCanvasManager:B.getCanvasManager,sampling:B.sampling,dataURLOptions:B.dataURLOptions}:{}})}catch(B){this._handleException(B)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(B){return this._handleException(B),!1}}stop({forceFlush:B=!1,reason:he}={}){var qe=this;return(0,d.A)(function*(){if(qe._isEnabled){qe._isEnabled=!1;try{hs("[Replay] Stopping Replay"+(he?` triggered by ${he}`:""),qe._options._experiments.traceInternals),qe._removeListeners(),qe.stopRecording(),qe._debouncedFlush.cancel(),B&&(yield qe._flush({force:!0})),qe.eventBuffer&&qe.eventBuffer.destroy(),qe.eventBuffer=null,function we(k){(function Dt(){if(Cl())try{ye.sessionStorage.removeItem(Ne)}catch{}})(),k.session=void 0}(qe)}catch(At){qe._handleException(At)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),hs("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),hs("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush({continueRecording:B=!0}={}){var he=this;return(0,d.A)(function*(){if("session"===he.recordingMode)return he.flushImmediate();const qe=Date.now();hs("[Replay] Converting buffer to session",he._options._experiments.traceInternals),yield he.flushImmediate();const At=he.stopRecording();!B||!At||"session"!==he.recordingMode&&(he.recordingMode="session",he.session&&(he._updateUserActivity(qe),he._updateSessionActivity(qe),he._maybeSaveSession()),he.startRecording())})()}addUpdate(B){const he=B();"buffer"!==this.recordingMode&&!0!==he&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Fs(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const he=`${ye.location.origin}${ye.location.pathname}${ye.location.hash}${ye.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=he,this._context.initialTimestamp=Date.now(),this._context.urls.push(he)}throttledAddEvent(B,he){const qe=this._throttledAddEvent(B,he);if(qe===Ta){const At=Et({category:"replay.throttled"});this.addUpdate(()=>!Ws(this,{type:5,timestamp:At.timestamp||0,data:{tag:"breadcrumb",payload:At,metric:!0}}))}return qe}getCurrentRoute(){const B=this.lastActiveSpan||(0,R.Bk)(),he=B&&(0,R.zU)(B),At=(he&&(0,R.et)(he).data||{})[O.i_];if(he&&At&&["route","custom"].includes(At))return(0,R.et)(he).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function Xd({useCompression:k,workerUrl:B}){if(k&&window.Worker){const he=function Ac(k){try{const B=k||function Mc(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function yu(){const k=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(k)}():""}();if(!B)return;hs("[Replay] Using compression worker"+(k?` from ${k}`:""));const he=new Worker(B);return new da(he)}catch{hs("[Replay] Failed to create compression worker")}}(B);if(he)return he}return hs("[Replay] Using simple buffer"),new xl}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(B){Ps&&ce.vF.error("[Replay]",B),Ps&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,x.Cp)(B)}_initializeSessionForSampling(B){const qe=Si({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:B},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=qe}_checkSession(){if(!this.session)return!1;const B=this.session;return!ts(B,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(B),!1)}_refreshSession(B){var he=this;return(0,d.A)(function*(){he._isEnabled&&(yield he.stop({reason:"refresh session"}),he.initializeSampling(B.id))})()}_addListeners(){try{ye.document.addEventListener("visibilitychange",this._handleVisibilityChange),ye.addEventListener("blur",this._handleWindowBlur),ye.addEventListener("focus",this._handleWindowFocus),ye.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function Ee(k){const B=(0,C.KU)();(0,oe.i)((k=>B=>{if(!k.isEnabled())return;const he=function Ln(k){const{target:B,message:he}=function Qn(k){const B="click"===k.name;let he,qe=null;try{qe=B?Fn(k.event):ki(k.event),he=(0,J.Hd)(qe,{maxStringLength:200})||"<unknown>"}catch{he="<unknown>"}return{target:qe,message:he}}(k);return Et({category:`ui.${k.name}`,...ln(B,he)})}(B);if(!he)return;const qe="click"===B.name,At=qe?B.event:void 0;qe&&k.clickDetector&&At&&At.target&&!At.altKey&&!At.metaKey&&!At.ctrlKey&&!At.shiftKey&&function Or(k,B,he){k.handleClick(B,he)}(k.clickDetector,he,Fn(B.event)),ze(k,he)})(k)),(0,ge._)(function Wa(k){return B=>{if(!k.isEnabled())return;const he=function Yd(k){const{from:B,to:he}=k,qe=Date.now()/1e3;return{type:"navigation.push",start:qe,end:qe,name:he,data:{previous:B}}}(B);null!==he&&(k.getContext().urls.push(he.name),k.triggerUserActivity(),k.addUpdate(()=>(nu(k,[he]),!1)))}}(k)),function Wu(k){const B=(0,C.KU)();B&&B.on("beforeAddBreadcrumb",he=>function zo(k,B){if(!k.isEnabled()||!bu(B))return;const he=function ec(k){return!bu(k)||["fetch","xhr","sentry.event","sentry.transaction"].includes(k.category)||k.category.startsWith("ui.")?null:"console"===k.category?function Xh(k){const B=k.data&&k.data.arguments;if(!Array.isArray(B)||0===B.length)return Et(k);let he=!1;const qe=B.map(At=>{if(!At)return At;if("string"==typeof At)return At.length>5e3?(he=!0,`${At.slice(0,5e3)}\u2026`):At;if("object"==typeof At)try{const Yt=(0,U.S8)(At,7);return JSON.stringify(Yt).length>5e3?(he=!0,`${JSON.stringify(Yt,null,2).slice(0,5e3)}\u2026`):Yt}catch{}return At});return Et({...k,data:{...k.data,arguments:qe,...he?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(k):Et(k)}(B);he&&ze(k,he)}(k,he))}(k),ml(k);const he=function tu(k){return Object.assign((B,he)=>k.isEnabled()?function dl(k){return"replay_event"===k.type}(B)?(delete B.breadcrumbs,B):(Vo(B)||Uo(B)||eu(B))&&k.checkAndHandleExpiredSession()?eu(B)?(k.flush(),B.contexts.feedback.replay_id=k.getSessionId(),function fl(k,B){k.triggerUserActivity(),k.addUpdate(()=>!B.timestamp||(k.throttledAddEvent({type:Lr.Custom,timestamp:1e3*B.timestamp,data:{tag:"breadcrumb",payload:{timestamp:B.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:B.event_id}}}}),!1))}(k,B),B):function Rc(k,B){return!(k.type||!k.exception||!k.exception.values||!k.exception.values.length||!B.originalException||!B.originalException.__rrweb__)}(B,he)&&!k.getOptions()._experiments.captureExceptions?(Ps&&ce.vF.log("[Replay] Ignoring error from rrweb internals",B),null):((function Da(k,B){return!("buffer"!==k.recordingMode||B.message===Qe||!B.exception||B.type)&&Ve(k.getOptions().errorSampleRate)}(k,B)||"session"===k.recordingMode)&&(B.tags={...B.tags,replayId:k.getSessionId()}),B):B:B,{id:"Replay"})}(k);(0,x.SA)(he),B&&(B.on("beforeSendEvent",function pc(k){return B=>{!k.isEnabled()||!Vo(B)||function eo(k,B){const he=B.exception&&B.exception.values&&B.exception.values[0]&&B.exception.values[0].value;"string"==typeof he&&(he.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||he.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&ze(k,Et({category:"replay.hydrate-error",data:{url:(0,J.$N)()}}))}(k,B)}}(k)),B.on("afterSendEvent",function Jl(k){return(B,he)=>{if(!k.isEnabled()||!Vo(B)&&!Uo(B))return;const qe=he&&he.statusCode;if(!(!qe||qe<200||qe>=300)){if(Uo(B))return void function Dl(k,B){const he=k.getContext();B.contexts&&B.contexts.trace&&B.contexts.trace.trace_id&&he.traceIds.size<100&&he.traceIds.add(B.contexts.trace.trace_id)}(k,B);!function hl(k,B){const he=k.getContext();if(B.event_id&&he.errorIds.size<100&&he.errorIds.add(B.event_id),"buffer"!==k.recordingMode||!B.tags||!B.tags.replayId)return;const{beforeErrorSampling:qe}=k.getOptions();"function"==typeof qe&&!qe(B)||(0,Je.wg)(()=>{k.sendBufferedReplayOrFlush()})}(k,B)}}}(k)),B.on("createDsc",qe=>{const At=k.getSessionId();At&&k.isEnabled()&&"session"===k.recordingMode&&k.checkAndHandleExpiredSession()&&(qe.replay_id=At)}),B.on("spanStart",qe=>{k.lastActiveSpan=qe}),B.on("spanEnd",qe=>{k.lastActiveSpan=qe}),B.on("beforeSendFeedback",(qe,At)=>{const Yt=k.getSessionId();At&&At.includeReplay&&k.isEnabled()&&Yt&&qe.contexts&&qe.contexts.feedback&&(qe.contexts.feedback.replay_id=Yt)}))}(this),this._hasInitializedCoreListeners=!0)}catch(B){this._handleException(B)}this._performanceCleanupCallback=function as(k){function B(At){k.performanceEntries.includes(At)||k.performanceEntries.push(At)}function he({entries:At}){At.forEach(B)}const qe=[];return["navigation","paint","resource"].forEach(At=>{qe.push((0,je.wv)(At,he))}),qe.push((0,je.Pt)($r(Jo,k)),(0,je.a9)($r(Js,k)),(0,je.T5)($r(El,k)),(0,je.hT)($r(ua,k))),()=>{qe.forEach(At=>At())}}(this)}_removeListeners(){try{ye.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ye.removeEventListener("blur",this._handleWindowBlur),ye.removeEventListener("focus",this._handleWindowFocus),ye.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(B){this._handleException(B)}}__init(){this._handleVisibilityChange=()=>{"visible"===ye.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const B=Et({category:"ui.blur"});this._doChangeToBackgroundTasks(B)}}__init3(){this._handleWindowFocus=()=>{const B=Et({category:"ui.focus"});this._doChangeToForegroundTasks(B)}}__init4(){this._handleKeyboardEvent=B=>{!function mi(k,B){if(!k.isEnabled())return;k.updateUserActivity();const he=function ti(k){const{metaKey:B,shiftKey:he,ctrlKey:qe,altKey:At,key:Yt,target:yn}=k;if(!yn||function Ii(k){return"INPUT"===k.tagName||"TEXTAREA"===k.tagName||k.isContentEditable}(yn)||!Yt)return null;if(!(B||qe||At)&&1===Yt.length)return null;const ei=(0,J.Hd)(yn,{maxStringLength:200})||"<unknown>";return Et({category:"ui.keyDown",message:ei,data:{...ln(yn,ei).data,metaKey:B,shiftKey:he,ctrlKey:qe,altKey:At,key:Yt}})}(B);he&&ze(k,he)}(this,B)}}_doChangeToBackgroundTasks(B){!this.session||qr(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(B&&this._createCustomBreadcrumb(B),this.conditionalFlush())}_doChangeToForegroundTasks(B){this.session&&(this.checkAndHandleExpiredSession()?B&&this._createCustomBreadcrumb(B):hs("[Replay] Document has become active, but session has expired"))}_updateUserActivity(B=Date.now()){this._lastActivity=B}_updateSessionActivity(B=Date.now()){this.session&&(this.session.lastActivity=B,this._maybeSaveSession())}_createCustomBreadcrumb(B){this.addUpdate(()=>{this.throttledAddEvent({type:Lr.Custom,timestamp:B.timestamp||0,data:{tag:"breadcrumb",payload:B}})})}_addPerformanceEntries(){const B=function os(k){return k.map(js).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(nu(this,B))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:B,eventBuffer:he}=this;if(!B||!he||this._requiresManualStart||B.segmentId)return;const qe=he.getEarliestTimestamp();qe&&qe<this._context.initialTimestamp&&(this._context.initialTimestamp=qe)}_popEventContext(){const B={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),B}_runFlush(){var B=this;return(0,d.A)(function*(){const he=B.getSessionId();if(B.session&&B.eventBuffer&&he){if(yield B._addPerformanceEntries(),B.eventBuffer&&B.eventBuffer.hasEvents&&(yield function me(k){return Ke.apply(this,arguments)}(B),B.eventBuffer&&he===B.getSessionId()))try{B._updateInitialTimestampFromEventBuffer();const qe=Date.now();if(qe-B._context.initialTimestamp>B._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const At=B._popEventContext(),Yt=B.session.segmentId++;B._maybeSaveSession();const yn=yield B.eventBuffer.finish();yield Pl({replayId:he,recordingData:yn,segmentId:Yt,eventContext:At,session:B.session,options:B.getOptions(),timestamp:qe})}catch(qe){B._handleException(qe),B.stop({reason:"sendReplay"});const At=(0,C.KU)();At&&At.recordDroppedEvent("send_error","replay")}}else Ps&&ce.vF.error("[Replay] No session or eventBuffer found to flush.")})()}__init5(){var B=this;this._flush=(0,d.A)(function*({force:he=!1}={}){if(!B._isEnabled&&!he)return;if(!B.checkAndHandleExpiredSession())return void(Ps&&ce.vF.error("[Replay] Attempting to finish replay event after session expired."));if(!B.session)return;const qe=B.session.started,Yt=Date.now()-qe;B._debouncedFlush.cancel();const yn=Yt<B._options.minReplayDuration;if(yn||Yt>B._options.maxReplayDuration+5e3)return hs(`[Replay] Session duration (${Math.floor(Yt/1e3)}s) is too ${yn?"short":"long"}, not sending replay.`,B._options._experiments.traceInternals),void(yn&&B._debouncedFlush());const Sn=B.eventBuffer;if(Sn&&0===B.session.segmentId&&!Sn.hasCheckout&&hs("[Replay] Flushing initial segment without checkout.",B._options._experiments.traceInternals),!B._flushLock)return B._flushLock=B._runFlush(),yield B._flushLock,void(B._flushLock=void 0);try{yield B._flushLock}catch(ei){Ps&&ce.vF.error(ei)}finally{B._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&an(this.session)}__init6(){this._onMutationHandler=B=>{const he=B.length,qe=this._options.mutationLimit,Yt=qe&&he>qe;if(he>this._options.mutationBreadcrumbLimit||Yt){const yn=Et({category:"replay.mutations",data:{count:he,limit:Yt}});this._createCustomBreadcrumb(yn)}return!Yt||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Ir(k,B){return[...k,...B].join(",")}const Hc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',_c=["content-length","content-type","accept"];let au=!1;const Fl=k=>new md(k);class md{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:B=5e3,flushMaxDelay:he=5500,minReplayDuration:qe=4999,maxReplayDuration:At=36e5,stickySession:Yt=!0,useCompression:yn=!0,workerUrl:Bn,_experiments:Sn={},maskAllText:ei=!0,maskAllInputs:bi=!0,blockAllMedia:pi=!0,mutationBreadcrumbLimit:wi=750,mutationLimit:Ci=1e4,slowClickTimeout:Un=7e3,slowClickIgnoreSelectors:yi=[],networkDetailAllowUrls:pr=[],networkDetailDenyUrls:or=[],networkCaptureBodies:jr=!0,networkRequestHeaders:is=[],networkResponseHeaders:Ls=[],mask:Qr=[],maskAttributes:xr=["title","placeholder"],unmask:cr=[],block:Ki=[],unblock:Do=[],ignore:Nr=[],maskFn:ls,beforeAddRecordingEvent:cs,beforeErrorSampling:ea}={}){this.name=md.id;const ta=function Is({mask:k,unmask:B,block:he,unblock:qe,ignore:At}){return{maskTextSelector:Ir(k,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Ir(B,[]),blockSelector:Ir(he,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:Ir(qe,[]),ignoreSelector:Ir(At,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:Qr,unmask:cr,block:Ki,unblock:Do,ignore:Nr});if(this._recordingOptions={maskAllInputs:bi,maskAllText:ei,maskInputOptions:{password:!0},maskTextFn:ls,maskInputFn:ls,maskAttributeFn:(Xo,$s,Kc)=>function ou({el:k,key:B,maskAttributes:he,maskAllText:qe,privacyOptions:At,value:Yt}){return!qe||At.unmaskTextSelector&&k.matches(At.unmaskTextSelector)?Yt:he.includes(B)||"value"===B&&"INPUT"===k.tagName&&["submit","button"].includes(k.getAttribute("type")||"")?Yt.replace(/[\S]/g,"*"):Yt}({maskAttributes:xr,maskAllText:ei,privacyOptions:ta,key:Xo,value:$s,el:Kc}),...ta,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Xo=>{try{Xo.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:B,flushMaxDelay:he,minReplayDuration:Math.min(qe,15e3),maxReplayDuration:Math.min(At,36e5),stickySession:Yt,useCompression:yn,workerUrl:Bn,blockAllMedia:pi,maskAllInputs:bi,maskAllText:ei,mutationBreadcrumbLimit:wi,mutationLimit:Ci,slowClickTimeout:Un,slowClickIgnoreSelectors:yi,networkDetailAllowUrls:pr,networkDetailDenyUrls:or,networkCaptureBodies:jr,networkRequestHeaders:Gc(is),networkResponseHeaders:Gc(Ls),beforeAddRecordingEvent:cs,beforeErrorSampling:ea,_experiments:Sn},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Hc}`:Hc),this._isInitialized&&Xe())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return au}set _isInitialized(B){au=B}afterAllSetup(B){!Xe()||this._replay||(this._setup(B),this._initialize(B))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(B){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(B):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(B){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(B),this._replay.initializeSampling())}_setup(B){const he=function zl(k,B){const he=B.getOptions(),qe={sessionSampleRate:0,errorSampleRate:0,...(0,F.Ce)(k)},At=(0,M.i)(he.replaysSessionSampleRate),Yt=(0,M.i)(he.replaysOnErrorSampleRate);return null==At&&null==Yt&&(0,ce.pq)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=At&&(qe.sessionSampleRate=At),null!=Yt&&(qe.errorSampleRate=Yt),qe}(this._initialOptions,B);this._replay=new to({options:he,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(B){try{const he=B.getIntegrationByName("ReplayCanvas");if(!he)return;this._replay._canvas=he.getOptions()}catch{}}}function Gc(k){return[..._c,...k.map(B=>B.toLowerCase())]}md.__initStatic()},8933:(hn,Re,_)=>{"use strict";_.d(Re,{jP:()=>No,dp:()=>yr,JF:()=>un,Ts:()=>Eh});var d=_(1229),A=_(2849),w=_(1205),D=_(1582),C=_(6851),S=_(1772);const I=[];function y(Ee){const me=Ee.defaultIntegrations||[],Ke=Ee.integrations;let Me;me.forEach(fn=>{fn.isDefaultInstance=!0}),Me=Array.isArray(Ke)?[...me,...Ke]:"function"==typeof Ke?(0,D.k9)(Ke(me)):me;const Wt=function E(Ee){const me={};return Ee.forEach(Ke=>{const{name:Me}=Ke,Wt=me[Me];Wt&&!Wt.isDefaultInstance&&Ke.isDefaultInstance||(me[Me]=Ke)}),Object.values(me)}(Me),en=Wt.findIndex(fn=>"Debug"===fn.name);if(en>-1){const[fn]=Wt.splice(en,1);Wt.push(fn)}return Wt}function $(Ee,me){for(const Ke of me)Ke&&Ke.afterAllSetup&&Ke.afterAllSetup(Ee)}function R(Ee,me,Ke){if(Ke[me.name])S.T&&w.vF.log(`Integration skipped because it was already installed: ${me.name}`);else{if(Ke[me.name]=me,-1===I.indexOf(me.name)&&"function"==typeof me.setupOnce&&(me.setupOnce(),I.push(me.name)),me.setup&&"function"==typeof me.setup&&me.setup(Ee),"function"==typeof me.preprocessEvent){const Me=me.preprocessEvent.bind(me);Ee.on("preprocessEvent",(Wt,en)=>Me(Wt,en,Ee))}if("function"==typeof me.processEvent){const Me=me.processEvent.bind(me),Wt=Object.assign((en,fn)=>Me(en,fn,Ee),{id:me.name});Ee.addEventProcessor(Wt)}S.T&&w.vF.log(`Integration installed: ${me.name}`)}}const L=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],J=(Ee={})=>({name:"InboundFilters",processEvent(me,Ke,Me){const Wt=Me.getOptions(),en=function ue(Ee={},me={}){return{allowUrls:[...Ee.allowUrls||[],...me.allowUrls||[]],denyUrls:[...Ee.denyUrls||[],...me.denyUrls||[]],ignoreErrors:[...Ee.ignoreErrors||[],...me.ignoreErrors||[],...Ee.disableErrorDefaults?[]:L],ignoreTransactions:[...Ee.ignoreTransactions||[],...me.ignoreTransactions||[]],ignoreInternal:void 0===Ee.ignoreInternal||Ee.ignoreInternal}}(Ee,Wt);return function ce(Ee,me){return me.ignoreInternal&&function W(Ee){try{return"SentryError"===Ee.exception.values[0].type}catch{}return!1}(Ee)?(S.T&&w.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,D.$X)(Ee)}`),!0):function re(Ee,me){return!(Ee.type||!me||!me.length)&&function se(Ee){const me=[];let Ke;Ee.message&&me.push(Ee.message);try{Ke=Ee.exception.values[Ee.exception.values.length-1]}catch{}return Ke&&Ke.value&&(me.push(Ke.value),Ke.type&&me.push(`${Ke.type}: ${Ke.value}`)),me}(Ee).some(Ke=>(0,C.Xr)(Ke,me))}(Ee,me.ignoreErrors)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,D.$X)(Ee)}`),!0):function Ae(Ee){return!(Ee.type||!Ee.exception||!Ee.exception.values||0===Ee.exception.values.length||Ee.message||Ee.exception.values.some(me=>me.stacktrace||me.type&&"Error"!==me.type||me.value))}(Ee)?(S.T&&w.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${(0,D.$X)(Ee)}`),!0):function be(Ee,me){if("transaction"!==Ee.type||!me||!me.length)return!1;const Ke=Ee.transaction;return!!Ke&&(0,C.Xr)(Ke,me)}(Ee,me.ignoreTransactions)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,D.$X)(Ee)}`),!0):function j(Ee,me){if(!me||!me.length)return!1;const Ke=q(Ee);return!!Ke&&(0,C.Xr)(Ke,me)}(Ee,me.denyUrls)?(S.T&&w.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,D.$X)(Ee)}.\nUrl: ${q(Ee)}`),!0):!function X(Ee,me){if(!me||!me.length)return!0;const Ke=q(Ee);return!Ke||(0,C.Xr)(Ke,me)}(Ee,me.allowUrls)&&(S.T&&w.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,D.$X)(Ee)}.\nUrl: ${q(Ee)}`),!0)}(me,en)?null:me}});function q(Ee){try{let me;try{me=Ee.exception.values[0].stacktrace.frames}catch{}return me?function xe(Ee=[]){for(let me=Ee.length-1;me>=0;me--){const Ke=Ee[me];if(Ke&&"<anonymous>"!==Ke.filename&&"[native code]"!==Ke.filename)return Ke.filename||null}return null}(me):null}catch{return S.T&&w.vF.error(`Cannot extract url for event ${(0,D.$X)(Ee)}`),null}}var Xe=_(7593);let yt;const je=new WeakMap,oe=()=>({name:"FunctionToString",setupOnce(){yt=Function.prototype.toString;try{Function.prototype.toString=function(...Ee){const me=(0,Xe.sp)(this),Ke=je.has((0,A.KU)())&&void 0!==me?me:this;return yt.apply(Ke,Ee)}}catch{}},setup(Ee){je.set(Ee,!0)}});var ge=_(3439);const Be=()=>{let Ee;return{name:"Dedupe",processEvent(me){if(me.type)return me;try{if(function Qe(Ee,me){return!(!me||!function Pt(Ee,me){const Ke=Ee.message,Me=me.message;return!(!Ke&&!Me||Ke&&!Me||!Ke&&Me||Ke!==Me||!Vt(Ee,me)||!Qt(Ee,me))}(Ee,me)&&!function Ce(Ee,me){const Ke=Tt(me),Me=Tt(Ee);return!!(Ke&&Me&&Ke.type===Me.type&&Ke.value===Me.value&&Vt(Ee,me)&&Qt(Ee,me))}(Ee,me))}(me,Ee))return S.T&&w.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return Ee=me}}};function Qt(Ee,me){let Ke=(0,ge.RV)(Ee),Me=(0,ge.RV)(me);if(!Ke&&!Me)return!0;if(Ke&&!Me||!Ke&&Me||Me.length!==Ke.length)return!1;for(let Wt=0;Wt<Me.length;Wt++){const en=Me[Wt],fn=Ke[Wt];if(en.filename!==fn.filename||en.lineno!==fn.lineno||en.colno!==fn.colno||en.function!==fn.function)return!1}return!0}function Vt(Ee,me){let Ke=Ee.fingerprint,Me=me.fingerprint;if(!Ke&&!Me)return!0;if(Ke&&!Me||!Ke&&Me)return!1;try{return Ke.join("")===Me.join("")}catch{return!1}}function Tt(Ee){return Ee.exception&&Ee.exception.values&&Ee.exception.values[0]}var Oe=_(3977);function vt(Ee){return`${Ee.protocol?`${Ee.protocol}:`:""}//${Ee.host}${Ee.port?`:${Ee.port}`:""}${Ee.path?`/${Ee.path}`:""}/api/`}var Ut=_(774),wt=_(1100),ut=_(1362),dt=_(5612),Z=_(7138);class Pe extends Error{constructor(me,Ke="warn"){super(me),this.message=me,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Ke}}var pe=_(8423),Gt=_(8492),rn=_(8165),xt=_(898),zt=_(4707),$t=_(1995);const bn="Not capturing exception because it's already been captured.";class Pn{constructor(me){if(this._options=me,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],me.dsn?this._dsn=(0,Oe.AD)(me.dsn):S.T&&w.vF.warn("No DSN provided, client will not send events."),this._dsn){const Ke=function ot(Ee,me,Ke){return me||`${function It(Ee){return`${vt(Ee)}${Ee.projectId}/envelope/`}(Ee)}?${function at(Ee,me){return(0,Xe.u4)({sentry_key:Ee.publicKey,sentry_version:"7",...me&&{sentry_client:`${me.name}/${me.version}`}})}(Ee,Ke)}`}(this._dsn,me.tunnel,me._metadata?me._metadata.sdk:void 0);this._transport=me.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...me.transportOptions,url:Ke})}}captureException(me,Ke,Me){const Wt=(0,D.eJ)();if((0,D.GR)(me))return S.T&&w.vF.log(bn),Wt;const en={event_id:Wt,...Ke};return this._process(this.eventFromException(me,en).then(fn=>this._captureEvent(fn,en,Me))),en.event_id}captureMessage(me,Ke,Me,Wt){const en={event_id:(0,D.eJ)(),...Me},fn=(0,ut.NF)(me)?me:String(me),On=(0,ut.sO)(me)?this.eventFromMessage(fn,Ke,en):this.eventFromException(me,en);return this._process(On.then(fi=>this._captureEvent(fi,en,Wt))),en.event_id}captureEvent(me,Ke,Me){const Wt=(0,D.eJ)();if(Ke&&Ke.originalException&&(0,D.GR)(Ke.originalException))return S.T&&w.vF.log(bn),Wt;const en={event_id:Wt,...Ke};return this._process(this._captureEvent(me,en,(me.sdkProcessingMetadata||{}).capturedSpanScope||Me)),en.event_id}captureSession(me){"string"!=typeof me.release?S.T&&w.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(me),(0,xt.qO)(me,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(me){const Ke=this._transport;return Ke?(this.emit("flush"),this._isClientDoneProcessing(me).then(Me=>Ke.flush(me).then(Wt=>Me&&Wt))):(0,dt.XW)(!0)}close(me){return this.flush(me).then(Ke=>(this.getOptions().enabled=!1,this.emit("close"),Ke))}getEventProcessors(){return this._eventProcessors}addEventProcessor(me){this._eventProcessors.push(me)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(me){return this._integrations[me]}addIntegration(me){const Ke=this._integrations[me.name];R(this,me,this._integrations),Ke||$(this,[me])}sendEvent(me,Ke={}){this.emit("beforeSendEvent",me,Ke);let Me=function on(Ee,me,Ke,Me){const Wt=(0,Z.Cj)(Ke),en=Ee.type&&"replay_event"!==Ee.type?Ee.type:"event";!function Hn(Ee,me){me&&(Ee.sdk=Ee.sdk||{},Ee.sdk.name=Ee.sdk.name||me.name,Ee.sdk.version=Ee.sdk.version||me.version,Ee.sdk.integrations=[...Ee.sdk.integrations||[],...me.integrations||[]],Ee.sdk.packages=[...Ee.sdk.packages||[],...me.packages||[]])}(Ee,Ke&&Ke.sdk);const fn=(0,Z.n2)(Ee,Wt,Me,me);return delete Ee.sdkProcessingMetadata,(0,Z.h4)(fn,[[{type:en},Ee]])}(me,this._dsn,this._options._metadata,this._options.tunnel);for(const en of Ke.attachments||[])Me=(0,Z.W3)(Me,(0,Z.bm)(en));const Wt=this.sendEnvelope(Me);Wt&&Wt.then(en=>this.emit("afterSendEvent",me,en),null)}sendSession(me){const Ke=function Ei(Ee,me,Ke,Me){const Wt=(0,Z.Cj)(Ke),en={sent_at:(new Date).toISOString(),...Wt&&{sdk:Wt},...!!Me&&me&&{dsn:(0,Oe.SB)(me)}},fn="aggregates"in Ee?[{type:"sessions"},Ee]:[{type:"session"},Ee.toJSON()];return(0,Z.h4)(en,[fn])}(me,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(Ke)}recordDroppedEvent(me,Ke,Me){if(this._options.sendClientReports){const Wt=`${me}:${Ke}`;S.T&&w.vF.log(`Adding outcome: "${Wt}"`),this._outcomes[Wt]=(this._outcomes[Wt]||0)+1}}on(me,Ke){const Me=this._hooks[me]=this._hooks[me]||[];return Me.push(Ke),()=>{const Wt=Me.indexOf(Ke);Wt>-1&&Me.splice(Wt,1)}}emit(me,...Ke){const Me=this._hooks[me];Me&&Me.forEach(Wt=>Wt(...Ke))}sendEnvelope(me){return this.emit("beforeEnvelope",me),this._isEnabled()&&this._transport?this._transport.send(me).then(null,Ke=>(S.T&&w.vF.error("Error while sending event:",Ke),Ke)):(S.T&&w.vF.error("Transport disabled"),(0,dt.XW)({}))}_setupIntegrations(){const{integrations:me}=this._options;this._integrations=function x(Ee,me){const Ke={};return me.forEach(Me=>{Me&&R(Ee,Me,Ke)}),Ke}(this,me),$(this,me)}_updateSessionFromEvent(me,Ke){let Me=!1,Wt=!1;const en=Ke.exception&&Ke.exception.values;if(en){Wt=!0;for(const fi of en){const Ai=fi.mechanism;if(Ai&&!1===Ai.handled){Me=!0;break}}}const fn="ok"===me.status;(fn&&0===me.errors||fn&&Me)&&((0,xt.qO)(me,{...Me&&{status:"crashed"},errors:me.errors||Number(Wt||Me)}),this.captureSession(me))}_isClientDoneProcessing(me){return new dt.T2(Ke=>{let Me=0;const en=setInterval(()=>{0==this._numProcessing?(clearInterval(en),Ke(!0)):(Me+=1,me&&Me>=me&&(clearInterval(en),Ke(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(me,Ke,Me,Wt=(0,A.rm)()){const en=this.getOptions(),fn=Object.keys(this._integrations);return!Ke.integrations&&fn.length>0&&(Ke.integrations=fn),this.emit("preprocessEvent",me,Ke),me.type||Wt.setLastEventId(me.event_id||Ke.event_id),(0,$t.mG)(en,me,Ke,Me,this,Wt).then(On=>{if(null===On)return On;const fi={...Wt.getPropagationContext(),...Me?Me.getPropagationContext():void 0};if((!On.contexts||!On.contexts.trace)&&fi){const{traceId:Di,spanId:Bi,parentSpanId:Kr,dsc:gs}=fi;On.contexts={trace:(0,Xe.Ce)({trace_id:Di,span_id:Bi,parent_span_id:Kr}),...On.contexts};const Rt=gs||(0,Gt.lF)(Di,this);On.sdkProcessingMetadata={dynamicSamplingContext:Rt,...On.sdkProcessingMetadata}}return On})}_captureEvent(me,Ke={},Me){return this._processEvent(me,Ke,Me).then(Wt=>Wt.event_id,Wt=>{if(S.T){const en=Wt;"log"===en.logLevel?w.vF.log(en.message):w.vF.warn(en)}})}_processEvent(me,Ke,Me){const Wt=this.getOptions(),{sampleRate:en}=Wt,fn=xn(me),On=Kn(me),fi=me.type||"error",Ai=`before send for type \`${fi}\``,Di=typeof en>"u"?void 0:(0,zt.i)(en);if(On&&"number"==typeof Di&&Math.random()>Di)return this.recordDroppedEvent("sample_rate","error",me),(0,dt.xg)(new Pe(`Discarding event because it's not included in the random sample (sampling rate = ${en})`,"log"));const Bi="replay_event"===fi?"replay":fi;return this._prepareEvent(me,Ke,Me,(me.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(Rt=>{if(null===Rt)throw this.recordDroppedEvent("event_processor",Bi,me),new Pe("An event processor returned `null`, will not send event.","log");if(Ke.data&&!0===Ke.data.__sentry__)return Rt;const Pl=function Dn(Ee,me,Ke,Me){const{beforeSend:Wt,beforeSendTransaction:en,beforeSendSpan:fn}=me;if(Kn(Ke)&&Wt)return Wt(Ke,Me);if(xn(Ke)){if(Ke.spans&&fn){const On=[];for(const fi of Ke.spans){const Ai=fn(fi);Ai?On.push(Ai):Ee.recordDroppedEvent("before_send","span")}Ke.spans=On}if(en)return en(Ke,Me)}return Ke}(this,Wt,Rt,Ke);return function Ri(Ee,me){const Ke=`${me} must return \`null\` or a valid event.`;if((0,ut.Qg)(Ee))return Ee.then(Me=>{if(!(0,ut.Qd)(Me)&&null!==Me)throw new Pe(Ke);return Me},Me=>{throw new Pe(`${me} rejected with ${Me}`)});if(!(0,ut.Qd)(Ee)&&null!==Ee)throw new Pe(Ke);return Ee}(Pl,Ai)}).then(Rt=>{if(null===Rt)throw this.recordDroppedEvent("before_send",Bi,me),xn(me)&&(this._outcomes.span=(this._outcomes.span||0)+(1+(me.spans||[]).length)),new Pe(`${Ai} returned \`null\`, will not send event.`,"log");const Cs=Me&&Me.getSession();!fn&&Cs&&this._updateSessionFromEvent(Cs,Rt);const Pl=Rt.transaction_info;if(fn&&Pl&&Rt.transaction!==me.transaction){const pn="custom";Rt.transaction_info={...Pl,source:pn}}return this.sendEvent(Rt,Ke),Rt}).then(null,Rt=>{throw Rt instanceof Pe?Rt:(this.captureException(Rt,{data:{__sentry__:!0},originalException:Rt}),new Pe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${Rt}`))})}_process(me){this._numProcessing++,me.then(Ke=>(this._numProcessing--,Ke),Ke=>(this._numProcessing--,Ke))}_clearOutcomes(){const me=this._outcomes;return this._outcomes={},Object.entries(me).map(([Ke,Me])=>{const[Wt,en]=Ke.split(":");return{reason:Wt,category:en,quantity:Me}})}_flushOutcomes(){S.T&&w.vF.log("Flushing outcomes...");const me=this._clearOutcomes();if(0===me.length)return void(S.T&&w.vF.log("No outcomes to send"));if(!this._dsn)return void(S.T&&w.vF.log("No dsn provided, will not send outcomes"));S.T&&w.vF.log("Sending outcomes:",me);const Ke=function lt(Ee,me,Ke){const Me=[{type:"client_report"},{timestamp:Ke||(0,pe.lu)(),discarded_events:Ee}];return(0,Z.h4)(me?{dsn:me}:{},[Me])}(me,this._options.tunnel&&(0,Oe.SB)(this._dsn));this.sendEnvelope(Ke)}}function Kn(Ee){return void 0===Ee.type}function xn(Ee){return"transaction"===Ee.type}var Xn=_(3408);function pt(Ee,me,Ke=[me],Me="npm"){const Wt=Ee._metadata||{};Wt.sdk||(Wt.sdk={name:`sentry.javascript.${me}`,packages:Ke.map(en=>({name:`${Me}:@sentry/${en}`,version:Xn.M})),version:Xn.M}),Ee._metadata=Wt}var Le=_(679);const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var $e=_(6362);function gt(Ee,me){const Ke=ct(Ee,me),Me={type:me&&me.name,value:bt(me)};return Ke.length&&(Me.stacktrace={frames:Ke}),void 0===Me.type&&""===Me.value&&(Me.value="Unrecoverable error caught"),Me}function _n(Ee,me){return{exception:{values:[gt(Ee,me)]}}}function ct(Ee,me){const Ke=me.stacktrace||me.stack||"",Me=function st(Ee){return Ee&&De.test(Ee.message)?1:0}(me),Wt=function Fe(Ee){return"number"==typeof Ee.framesToPop?Ee.framesToPop:0}(me);try{return Ee(Ke,Me,Wt)}catch{}return[]}const De=/Minified React error #\d+;/i;function bt(Ee){const me=Ee&&Ee.message;return me?me.error&&"string"==typeof me.error.message?me.error.message:me:"No error message"}function Rn(Ee,me,Ke,Me,Wt){let en;if((0,ut.T2)(me)&&me.error)return _n(Ee,me.error);if((0,ut.BD)(me)||(0,ut.W6)(me)){const fn=me;if("stack"in me)en=_n(Ee,me);else{const On=fn.name||((0,ut.BD)(fn)?"DOMError":"DOMException"),fi=fn.message?`${On}: ${fn.message}`:On;en=ni(Ee,fi,Ke,Me),(0,D.gO)(en,fi)}return"code"in fn&&(en.tags={...en.tags,"DOMException.code":`${fn.code}`}),en}return(0,ut.bJ)(me)?_n(Ee,me):(0,ut.Qd)(me)||(0,ut.xH)(me)?(en=function Zt(Ee,me,Ke,Me){const Wt=(0,A.KU)(),en=Wt&&Wt.getOptions().normalizeDepth,fn=function Ti(Ee){for(const me in Ee)if(Object.prototype.hasOwnProperty.call(Ee,me)){const Ke=Ee[me];if(Ke instanceof Error)return Ke}}(me),On={__serialized__:(0,$e.cd)(me,en)};if(fn)return{exception:{values:[gt(Ee,fn)]},extra:On};const fi={exception:{values:[{type:(0,ut.xH)(me)?me.constructor.name:Me?"UnhandledRejection":"Error",value:gi(me,{isUnhandledRejection:Me})}]},extra:On};if(Ke){const Ai=ct(Ee,Ke);Ai.length&&(fi.exception.values[0].stacktrace={frames:Ai})}return fi}(Ee,me,Ke,Wt),(0,D.M6)(en,{synthetic:!0}),en):(en=ni(Ee,me,Ke,Me),(0,D.gO)(en,`${me}`,void 0),(0,D.M6)(en,{synthetic:!0}),en)}function ni(Ee,me,Ke,Me){const Wt={};if(Me&&Ke){const en=ct(Ee,Ke);en.length&&(Wt.exception={values:[{value:me,stacktrace:{frames:en}}]})}if((0,ut.NF)(me)){const{__sentry_template_string__:en,__sentry_template_values__:fn}=me;return Wt.logentry={message:en,params:fn},Wt}return Wt.message=me,Wt}function gi(Ee,{isUnhandledRejection:me}){const Ke=(0,Xe.HF)(Ee),Me=me?"promise rejection":"exception";return(0,ut.T2)(Ee)?`Event \`ErrorEvent\` captured as ${Me} with message \`${Ee.message}\``:(0,ut.xH)(Ee)?`Event \`${function Ui(Ee){try{const me=Object.getPrototypeOf(Ee);return me?me.constructor.name:void 0}catch{}}(Ee)}\` (type=${Ee.type}) captured as ${Me}`:`Object captured as ${Me} with keys: ${Ke}`}var Hi=_(2031);const Zn=Hi.O;let Gi=0;function lr(){return Gi>0}function Sr(Ee,me={},Ke){if("function"!=typeof Ee)return Ee;try{const Wt=Ee.__sentry_wrapped__;if(Wt)return Wt;if((0,Xe.sp)(Ee))return Ee}catch{return Ee}const Me=function(){const Wt=Array.prototype.slice.call(arguments);try{Ke&&"function"==typeof Ke&&Ke.apply(this,arguments);const en=Wt.map(fn=>Sr(fn,me));return Ee.apply(this,en)}catch(en){throw function ir(){Gi++,setTimeout(()=>{Gi--})}(),(0,A.v4)(fn=>{fn.addEventProcessor(On=>(me.mechanism&&((0,D.gO)(On,void 0,void 0),(0,D.M6)(On,me.mechanism)),On.extra={...On.extra,arguments:Wt},On)),(0,d.Cp)(en)}),en}};try{for(const Wt in Ee)Object.prototype.hasOwnProperty.call(Ee,Wt)&&(Me[Wt]=Ee[Wt])}catch{}(0,Xe.pO)(Me,Ee),(0,Xe.my)(Ee,"__sentry_wrapped__",Me);try{Object.getOwnPropertyDescriptor(Me,"name").configurable&&Object.defineProperty(Me,"name",{get:()=>Ee.name})}catch{}return Me}class Vr extends Pn{constructor(me){const Ke={parentSpanIsAlwaysRootSpan:!0,...me};pt(Ke,"browser",["browser"],Zn.SENTRY_SDK_SOURCE||(0,Le.e)()),super(Ke),Ke.sendClientReports&&Zn.document&&Zn.document.addEventListener("visibilitychange",()=>{"hidden"===Zn.document.visibilityState&&this._flushOutcomes()})}eventFromException(me,Ke){return function Ft(Ee,me,Ke,Me){const en=Rn(Ee,me,Ke&&Ke.syntheticException||void 0,Me);return(0,D.M6)(en),en.level="error",Ke&&Ke.event_id&&(en.event_id=Ke.event_id),(0,dt.XW)(en)}(this._options.stackParser,me,Ke,this._options.attachStacktrace)}eventFromMessage(me,Ke="info",Me){return function An(Ee,me,Ke="info",Me,Wt){const fn=ni(Ee,me,Me&&Me.syntheticException||void 0,Wt);return fn.level=Ke,Me&&Me.event_id&&(fn.event_id=Me.event_id),(0,dt.XW)(fn)}(this._options.stackParser,me,Ke,Me,this._options.attachStacktrace)}captureUserFeedback(me){if(!this._isEnabled())return void(We&&w.vF.warn("SDK not enabled, will not capture user feedback."));const Ke=function Hr(Ee,{metadata:me,tunnel:Ke,dsn:Me}){const Wt={event_id:Ee.event_id,sent_at:(new Date).toISOString(),...me&&me.sdk&&{sdk:{name:me.sdk.name,version:me.sdk.version}},...!!Ke&&!!Me&&{dsn:(0,Oe.SB)(Me)}},en=function vs(Ee){return[{type:"user_report"},Ee]}(Ee);return(0,Z.h4)(Wt,[en])}(me,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(Ke)}_prepareEvent(me,Ke,Me){return me.platform=me.platform||"javascript",super._prepareEvent(me,Ke,Me)}}var bs=_(8283),Ss=_(4097),ss=_(7376),Yi=_(5027);function ar(){"console"in Hi.O&&w.Ow.forEach(function(Ee){Ee in Hi.O.console&&(0,Xe.GS)(Hi.O.console,Ee,function(me){return w.Z9[Ee]=me,function(...Ke){(0,Yi.aj)("console",{args:Ke,level:Ee});const Wt=w.Z9[Ee];Wt&&Wt.apply(Hi.O.console,Ke)}})})}function zi(Ee){(0,Yi.s5)("fetch",Ee),(0,Yi.AS)("fetch",si)}function si(){(0,Ut.m7)()&&(0,Xe.GS)(Hi.O,"fetch",function(Ee){return function(...me){const{method:Ke,url:Me}=function ne(Ee){if(0===Ee.length)return{method:"GET",url:""};if(2===Ee.length){const[Ke,Me]=Ee;return{url:Mt(Ke),method:Ge(Me,"method")?String(Me.method).toUpperCase():"GET"}}const me=Ee[0];return{url:Mt(me),method:Ge(me,"method")?String(me.method).toUpperCase():"GET"}}(me),Wt={args:me,fetchData:{method:Ke,url:Me},startTimestamp:1e3*(0,pe.zf)()};(0,Yi.aj)("fetch",{...Wt});const en=(new Error).stack;return Ee.apply(Hi.O,me).then(fn=>{const On={...Wt,endTimestamp:1e3*(0,pe.zf)(),response:fn};return(0,Yi.aj)("fetch",On),fn},fn=>{const On={...Wt,endTimestamp:1e3*(0,pe.zf)(),error:fn};throw(0,Yi.aj)("fetch",On),(0,ut.bJ)(fn)&&void 0===fn.stack&&(fn.stack=en,(0,Xe.my)(fn,"framesToPop",1)),fn})}})}function Ge(Ee,me){return!!Ee&&"object"==typeof Ee&&!!Ee[me]}function Mt(Ee){return"string"==typeof Ee?Ee:Ee?Ge(Ee,"url")?Ee.url:Ee.toString?Ee.toString():"":""}var et=_(4440);const He=["fatal","error","warning","log","info","debug"];function kt(Ee){return"warn"===Ee?"warning":He.includes(Ee)?Ee:"log"}function Bt(Ee){if(!Ee)return{};const me=Ee.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!me)return{};const Ke=me[6]||"",Me=me[8]||"";return{host:me[4],path:me[5],protocol:me[2],search:Ke,hash:Me,relative:me[5]+Ke+Me}}const ds=(Ee={})=>{const me={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...Ee};return{name:"Breadcrumbs",setup(Ke){me.console&&function rr(Ee){const me="console";(0,Yi.s5)(me,Ee),(0,Yi.AS)(me,ar)}(function Jr(Ee){return function(Ke){if((0,A.KU)()!==Ee)return;const Me={category:"console",data:{arguments:Ke.args,logger:"console"},level:kt(Ke.level),message:(0,C.gt)(Ke.args," ")};if("assert"===Ke.level){if(!1!==Ke.args[0])return;Me.message=`Assertion failed: ${(0,C.gt)(Ke.args.slice(1)," ")||"console.assert"}`,Me.data.arguments=Ke.args.slice(1)}(0,ss.Z)(Me,{input:Ke.args,level:Ke.level})}}(Ke)),me.dom&&(0,bs.i)(function Er(Ee,me){return function(Me){if((0,A.KU)()!==Ee)return;let Wt,en,fn="object"==typeof me?me.serializeAttribute:void 0,On="object"==typeof me&&"number"==typeof me.maxStringLength?me.maxStringLength:void 0;On&&On>1024&&(We&&w.vF.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${On} was configured. Sentry will use 1024 instead.`),On=1024),"string"==typeof fn&&(fn=[fn]);try{const Ai=Me.event,Di=function Mo(Ee){return!!Ee&&!!Ee.target}(Ai)?Ai.target:Ai;Wt=(0,et.Hd)(Di,{keyAttrs:fn,maxStringLength:On}),en=(0,et.xE)(Di)}catch{Wt="<unknown>"}if(0===Wt.length)return;const fi={category:`ui.${Me.name}`,message:Wt};en&&(fi.data={"ui.component_name":en}),(0,ss.Z)(fi,{event:Me.event,name:Me.name,global:Me.global})}}(Ke,me.dom)),me.xhr&&(0,Ss.Mn)(function Ds(Ee){return function(Ke){if((0,A.KU)()!==Ee)return;const{startTimestamp:Me,endTimestamp:Wt}=Ke,en=Ke.xhr[Ss.Er];if(!Me||!Wt||!en)return;const{method:fn,url:On,status_code:fi,body:Ai}=en;(0,ss.Z)({category:"xhr",data:{method:fn,url:On,status_code:fi},type:"http"},{xhr:Ke.xhr,input:Ai,startTimestamp:Me,endTimestamp:Wt})}}(Ke)),me.fetch&&zi(function ia(Ee){return function(Ke){if((0,A.KU)()!==Ee)return;const{startTimestamp:Me,endTimestamp:Wt}=Ke;if(Wt&&(!Ke.fetchData.url.match(/sentry_key/)||"POST"!==Ke.fetchData.method))if(Ke.error)(0,ss.Z)({category:"fetch",data:Ke.fetchData,level:"error",type:"http"},{data:Ke.error,input:Ke.args,startTimestamp:Me,endTimestamp:Wt});else{const en=Ke.response,fn={...Ke.fetchData,status_code:en&&en.status};(0,ss.Z)({category:"fetch",data:fn,type:"http"},{input:Ke.args,response:en,startTimestamp:Me,endTimestamp:Wt})}}}(Ke)),me.history&&(0,wt._)(function Br(Ee){return function(Ke){if((0,A.KU)()!==Ee)return;let Me=Ke.from,Wt=Ke.to;const en=Bt(Zn.location.href);let fn=Me?Bt(Me):void 0;const On=Bt(Wt);(!fn||!fn.path)&&(fn=en),en.protocol===On.protocol&&en.host===On.host&&(Wt=On.relative),en.protocol===fn.protocol&&en.host===fn.host&&(Me=fn.relative),(0,ss.Z)({category:"navigation",data:{from:Me,to:Wt}})}}(Ke)),me.sentry&&Ke.on("beforeSendEvent",function Os(Ee){return function(Ke){(0,A.KU)()===Ee&&(0,ss.Z)({category:"sentry."+("transaction"===Ke.type?"transaction":"event"),event_id:Ke.event_id,level:Ke.level,message:(0,D.$X)(Ke)},{event:Ke})}}(Ke))}}},Yo=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ya=(Ee={})=>{const me={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...Ee};return{name:"BrowserApiErrors",setupOnce(){me.setTimeout&&(0,Xe.GS)(Zn,"setTimeout",qa),me.setInterval&&(0,Xe.GS)(Zn,"setInterval",qa),me.requestAnimationFrame&&(0,Xe.GS)(Zn,"requestAnimationFrame",ya),me.XMLHttpRequest&&"XMLHttpRequest"in Zn&&(0,Xe.GS)(XMLHttpRequest.prototype,"send",ra);const Ke=me.eventTarget;Ke&&(Array.isArray(Ke)?Ke:Yo).forEach(bl)}}};function qa(Ee){return function(...me){return me[0]=Sr(me[0],{mechanism:{data:{function:(0,ge.qQ)(Ee)},handled:!1,type:"instrument"}}),Ee.apply(this,me)}}function ya(Ee){return function(me){return Ee.apply(this,[Sr(me,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,ge.qQ)(Ee)},handled:!1,type:"instrument"}})])}}function ra(Ee){return function(...me){const Ke=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(Wt=>{Wt in Ke&&"function"==typeof Ke[Wt]&&(0,Xe.GS)(Ke,Wt,function(en){const fn={mechanism:{data:{function:Wt,handler:(0,ge.qQ)(en)},handled:!1,type:"instrument"}},On=(0,Xe.sp)(en);return On&&(fn.mechanism.data.handler=(0,ge.qQ)(On)),Sr(en,fn)})}),Ee.apply(this,me)}}function bl(Ee){const Ke=Zn[Ee]&&Zn[Ee].prototype;!Ke||!Ke.hasOwnProperty||!Ke.hasOwnProperty("addEventListener")||((0,Xe.GS)(Ke,"addEventListener",function(Me){return function(Wt,en,fn){try{"function"==typeof en.handleEvent&&(en.handleEvent=Sr(en.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,ge.qQ)(en),target:Ee},handled:!1,type:"instrument"}}))}catch{}return Me.apply(this,[Wt,Sr(en,{mechanism:{data:{function:"addEventListener",handler:(0,ge.qQ)(en),target:Ee},handled:!1,type:"instrument"}}),fn])}}),(0,Xe.GS)(Ke,"removeEventListener",function(Me){return function(Wt,en,fn){const On=en;try{const fi=On&&On.__sentry_wrapped__;fi&&Me.call(this,Wt,fi,fn)}catch{}return Me.call(this,Wt,On,fn)}}))}let Ml=null;function Fa(Ee){(0,Yi.s5)("error",Ee),(0,Yi.AS)("error",va)}function va(){Ml=Hi.O.onerror,Hi.O.onerror=function(Ee,me,Ke,Me,Wt){return(0,Yi.aj)("error",{column:Me,error:Wt,line:Ke,msg:Ee,url:me}),!(!Ml||Ml.__SENTRY_LOADER__)&&Ml.apply(this,arguments)},Hi.O.onerror.__SENTRY_INSTRUMENTED__=!0}let La=null;function hc(Ee){const me="unhandledrejection";(0,Yi.s5)(me,Ee),(0,Yi.AS)(me,$a)}function $a(){La=Hi.O.onunhandledrejection,Hi.O.onunhandledrejection=function(Ee){return(0,Yi.aj)("unhandledrejection",Ee),!(La&&!La.__SENTRY_LOADER__)||La.apply(this,arguments)},Hi.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Mr=(Ee={})=>{const me={onerror:!0,onunhandledrejection:!0,...Ee};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(Ke){me.onerror&&(function ao(Ee){Fa(me=>{const{stackParser:Ke,attachStacktrace:Me}=ba();if((0,A.KU)()!==Ee||lr())return;const{msg:Wt,url:en,line:fn,column:On,error:fi}=me,Ai=function Ks(Ee,me,Ke,Me){const Wt=Ee.exception=Ee.exception||{},en=Wt.values=Wt.values||[],fn=en[0]=en[0]||{},On=fn.stacktrace=fn.stacktrace||{},fi=On.frames=On.frames||[],Ai=isNaN(parseInt(Me,10))?void 0:Me,Di=isNaN(parseInt(Ke,10))?void 0:Ke,Bi=(0,ut.Kg)(me)&&me.length>0?me:(0,et.$N)();return 0===fi.length&&fi.push({colno:Ai,filename:Bi,function:ge.yF,in_app:!0,lineno:Di}),Ee}(Rn(Ke,fi||Wt,void 0,Me,!1),en,fn,On);Ai.level="error",(0,d.r)(Ai,{originalException:fi,mechanism:{handled:!1,type:"onerror"}})})}(Ke),lo("onerror")),me.onunhandledrejection&&(function Gs(Ee){hc(me=>{const{stackParser:Ke,attachStacktrace:Me}=ba();if((0,A.KU)()!==Ee||lr())return;const Wt=function ql(Ee){if((0,ut.sO)(Ee))return Ee;try{if("reason"in Ee)return Ee.reason;if("detail"in Ee&&"reason"in Ee.detail)return Ee.detail.reason}catch{}return Ee}(me),en=(0,ut.sO)(Wt)?function sa(Ee){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(Ee)}`}]}}}(Wt):Rn(Ke,Wt,void 0,Me,!0);en.level="error",(0,d.r)(en,{originalException:Wt,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(Ke),lo("onunhandledrejection"))}}};function lo(Ee){We&&w.vF.log(`Global Handler attached: ${Ee}`)}function ba(){const Ee=(0,A.KU)();return Ee&&Ee.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Lo=()=>({name:"HttpContext",preprocessEvent(Ee){if(!Zn.navigator&&!Zn.location&&!Zn.document)return;const me=Ee.request&&Ee.request.url||Zn.location&&Zn.location.href,{referrer:Ke}=Zn.document||{},{userAgent:Me}=Zn.navigator||{},Wt={...Ee.request&&Ee.request.headers,...Ke&&{Referer:Ke},...Me&&{"User-Agent":Me}},en={...Ee.request,...me&&{url:me},headers:Wt};Ee.request=en}});function ol(Ee,me,Ke=250,Me,Wt,en,fn){if(!(en.exception&&en.exception.values&&fn&&(0,ut.tH)(fn.originalException,Error)))return;const On=en.exception.values.length>0?en.exception.values[en.exception.values.length-1]:void 0;On&&(en.exception.values=function qo(Ee,me){return Ee.map(Ke=>(Ke.value&&(Ke.value=(0,C.xv)(Ke.value,me)),Ke))}(wo(Ee,me,Wt,fn.originalException,Me,en.exception.values,On,0),Ke))}function wo(Ee,me,Ke,Me,Wt,en,fn,On){if(en.length>=Ke+1)return en;let fi=[...en];if((0,ut.tH)(Me[Wt],Error)){Eo(fn,On);const Ai=Ee(me,Me[Wt]),Di=fi.length;Ba(Ai,Wt,Di,On),fi=wo(Ee,me,Ke,Me[Wt],Wt,[Ai,...fi],Ai,Di)}return Array.isArray(Me.errors)&&Me.errors.forEach((Ai,Di)=>{if((0,ut.tH)(Ai,Error)){Eo(fn,On);const Bi=Ee(me,Ai),Kr=fi.length;Ba(Bi,`errors[${Di}]`,Kr,On),fi=wo(Ee,me,Ke,Ai,Wt,[Bi,...fi],Bi,Kr)}}),fi}function Eo(Ee,me){Ee.mechanism=Ee.mechanism||{type:"generic",handled:!0},Ee.mechanism={...Ee.mechanism,..."AggregateError"===Ee.type&&{is_exception_group:!0},exception_id:me}}function Ba(Ee,me,Ke,Me){Ee.mechanism=Ee.mechanism||{type:"generic",handled:!0},Ee.mechanism={...Ee.mechanism,type:"chained",source:me,exception_id:Ke,parent_id:Me}}const oa=(Ee={})=>{const me=Ee.limit||5,Ke=Ee.key||"cause";return{name:"LinkedErrors",preprocessEvent(Me,Wt,en){const fn=en.getOptions();ol(gt,fn.stackParser,fn.maxValueLength,Ke,me,Me,Wt)}}};function Oo(Ee,me,Ke,Me){const Wt={filename:Ee,function:"<anonymous>"===me?ge.yF:me,in_app:!0};return void 0!==Ke&&(Wt.lineno=Ke),void 0!==Me&&(Wt.colno=Me),Wt}const _o=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,$o=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ql=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,aa=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xa=(0,ge.gd)([30,Ee=>{const me=_o.exec(Ee);if(me){const[,Me,Wt,en]=me;return Oo(Me,ge.yF,+Wt,+en)}const Ke=$o.exec(Ee);if(Ke){if(Ke[2]&&0===Ke[2].indexOf("eval")){const fn=Ql.exec(Ke[2]);fn&&(Ke[2]=fn[1],Ke[3]=fn[2],Ke[4]=fn[3])}const[Wt,en]=Ca(Ke[1]||ge.yF,Ke[2]);return Oo(en,Wt,Ke[3]?+Ke[3]:void 0,Ke[4]?+Ke[4]:void 0)}}],[50,Ee=>{const me=Qo.exec(Ee);if(me){if(me[3]&&me[3].indexOf(" > eval")>-1){const en=aa.exec(me[3]);en&&(me[1]=me[1]||"eval",me[3]=en[1],me[4]=en[2],me[5]="")}let Me=me[3],Wt=me[1]||ge.yF;return[Wt,Me]=Ca(Wt,Me),Oo(Me,Wt,me[4]?+me[4]:void 0,me[5]?+me[5]:void 0)}}]),Ca=(Ee,me)=>{const Ke=-1!==Ee.indexOf("safari-extension"),Me=-1!==Ee.indexOf("safari-web-extension");return Ke||Me?[-1!==Ee.indexOf("@")?Ee.split("@")[0]:ge.yF,Ke?`safari-extension:${me}`:`safari-web-extension:${me}`]:[Ee,me]};var Zo=_(4820);var hr=_(1857);const ks=64;function za(Ee,me){if("event"===me||"transaction"===me)return Array.isArray(Ee)?Ee[1]:void 0}function Us(Ee,me=(0,Zo.qd)("fetch")){let Ke=0,Me=0;return function uo(Ee,me,Ke=function ul(Ee){const me=[];function Me(fn){return me.splice(me.indexOf(fn),1)[0]||Promise.resolve(void 0)}return{$:me,add:function Wt(fn){if(!function Ke(){return void 0===Ee||me.length<Ee}())return(0,dt.xg)(new Pe("Not adding Promise because buffer limit was reached."));const On=fn();return-1===me.indexOf(On)&&me.push(On),On.then(()=>Me(On)).then(null,()=>Me(On).then(null,()=>{})),On},drain:function en(fn){return new dt.T2((On,fi)=>{let Ai=me.length;if(!Ai)return On(!0);const Di=setTimeout(()=>{fn&&fn>0&&On(!1)},fn);me.forEach(Bi=>{(0,dt.XW)(Bi).then(()=>{--Ai||(clearTimeout(Di),On(!0))},fi)})})}}}(Ee.bufferSize||ks)){let Me={};return{send:function en(fn){const On=[];if((0,Z.yH)(fn,(Bi,Kr)=>{const gs=(0,Z.zk)(Kr);if((0,hr.Jz)(Me,gs)){const Rt=za(Bi,Kr);Ee.recordDroppedEvent("ratelimit_backoff",gs,Rt)}else On.push(Bi)}),0===On.length)return(0,dt.XW)({});const fi=(0,Z.h4)(fn[0],On),Ai=Bi=>{(0,Z.yH)(fi,(Kr,gs)=>{const Rt=za(Kr,gs);Ee.recordDroppedEvent(Bi,(0,Z.zk)(gs),Rt)})};return Ke.add(()=>me({body:(0,Z.bN)(fi)}).then(Bi=>(void 0!==Bi.statusCode&&(Bi.statusCode<200||Bi.statusCode>=300)&&S.T&&w.vF.warn(`Sentry responded with status code ${Bi.statusCode} to sent event.`),Me=(0,hr.wq)(Me,Bi),Bi),Bi=>{throw Ai("network_error"),Bi})).then(Bi=>Bi,Bi=>{if(Bi instanceof Pe)return S.T&&w.vF.error("Skipped sending event because buffer is full."),Ai("queue_overflow"),(0,dt.XW)({});throw Bi})},flush:fn=>Ke.drain(fn)}}(Ee,function Wt(en){const fn=en.body.length;Ke+=fn,Me++;const On={body:en.body,method:"POST",referrerPolicy:"origin",headers:Ee.headers,keepalive:Ke<=6e4&&Me<15,...Ee.fetchOptions};if(!me)return(0,Zo.y7)("fetch"),(0,dt.xg)("No fetch implementation available");try{return me(Ee.url,On).then(fi=>(Ke-=fn,Me--,{statusCode:fi.status,headers:{"x-sentry-rate-limits":fi.headers.get("X-Sentry-Rate-Limits"),"retry-after":fi.headers.get("Retry-After")}}))}catch(fi){return(0,Zo.y7)("fetch"),Ke-=fn,Me--,(0,dt.xg)(fi)}})}function H(Ee={}){const me=function de(Ee={}){return{defaultIntegrations:[J(),oe(),Ya(),ds(),Mr(),oa(),Be(),Lo()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Zn.SENTRY_RELEASE&&Zn.SENTRY_RELEASE.id?Zn.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...Ee}}(Ee);if(function Se(){const Ee=Zn,Ke=Ee[Ee.chrome?"chrome":"browser"],Me=Ke&&Ke.runtime&&Ke.runtime.id,Wt=Zn.location&&Zn.location.href||"",fn=!!Me&&Zn===Zn.top&&["chrome-extension:","moz-extension:","ms-browser-extension:"].some(fi=>Wt.startsWith(`${fi}//`));return!(!Me||fn||typeof Ee.nw<"u")}())return void(0,w.pq)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});We&&((0,Ut.vm)()||w.vF.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const Ke={...me,stackParser:(0,ge.vk)(me.stackParser||xa),integrations:y(me),transport:me.transport||Us},Me=function Ot(Ee,me){!0===me.debug&&(S.T?w.vF.enable():(0,w.pq)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,A.o5)().update(me.initialScope);const Me=new Ee(me);return function ft(Ee){(0,A.o5)().setClient(Ee)}(Me),Me.init(),Me}(Vr,Ke);return me.autoSessionTracking&&function Ct(){typeof Zn.document>"u"?We&&w.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):((0,d.J0)({ignoreDuration:!0}),(0,d.J5)(),(0,wt._)(({from:Ee,to:me})=>{void 0!==Ee&&Ee!==me&&((0,d.J0)({ignoreDuration:!0}),(0,d.J5)())}))}(),Me}function le(Ee={}){if(!Zn.document)return void(We&&w.vF.error("Global document not defined in showReportDialog call"));const me=(0,A.o5)(),Ke=me.getClient(),Me=Ke&&Ke.getDsn();if(!Me)return void(We&&w.vF.error("DSN not configured for showReportDialog call"));if(me&&(Ee.user={...me.getUser(),...Ee.user}),!Ee.eventId){const On=(0,d.Q)();On&&(Ee.eventId=On)}const Wt=Zn.document.createElement("script");Wt.async=!0,Wt.crossOrigin="anonymous",Wt.src=function Nt(Ee,me){const Ke=(0,Oe.AD)(Ee);if(!Ke)return"";const Me=`${vt(Ke)}embed/error-page/`;let Wt=`dsn=${(0,Oe.SB)(Ke)}`;for(const en in me)if("dsn"!==en&&"onClose"!==en)if("user"===en){const fn=me.user;if(!fn)continue;fn.name&&(Wt+=`&name=${encodeURIComponent(fn.name)}`),fn.email&&(Wt+=`&email=${encodeURIComponent(fn.email)}`)}else Wt+=`&${encodeURIComponent(en)}=${encodeURIComponent(me[en])}`;return`${Me}?${Wt}`}(Me,Ee),Ee.onLoad&&(Wt.onload=Ee.onLoad);const{onClose:en}=Ee;if(en){const On=fi=>{if("__sentry_reportdialog_closed__"===fi.data)try{en()}finally{Zn.removeEventListener("message",On)}};Zn.addEventListener("message",On)}const fn=Zn.document.head||Zn.document.body;fn?fn.appendChild(Wt):We&&w.vF.error("Not injecting report dialog. No injection point found in HTML")}var Fn=_(2150),ki=_(9868),Nn=_(4541);function fr(Ee){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const me=Ee||function Ur(){const Ee=(0,A.KU)();return Ee&&Ee.getOptions()}();return!!me&&(me.enableTracing||"tracesSampleRate"in me||"tracesSampler"in me)}var ur=_(2855);class zs{constructor(me={}){this._traceId=me.traceId||(0,D.eJ)(),this._spanId=me.spanId||(0,D.eJ)().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:rn.CC}}end(me){}setAttribute(me,Ke){return this}setAttributes(me){return this}setStatus(me){return this}updateName(me){return this}isRecording(){return!1}addEvent(me,Ke,Me){return this}addLink(me){return this}addLinks(me){return this}recordException(me,Ke){}}var Ns=_(3395);function Sa(Ee){if(!Ee||0===Ee.length)return;const me={};return Ee.forEach(Ke=>{const Me=Ke.attributes||{},Wt=Me[Nn.Sn],en=Me[Nn.xc];"string"==typeof Wt&&"number"==typeof en&&(me[Ke.name]={value:en,unit:Wt})}),me}const ca="_sentryScope",P="_sentryIsolationScope";function Kt(Ee){return{scope:Ee[ca],isolationScope:Ee[P]}}class tn{constructor(me={}){this._traceId=me.traceId||(0,D.eJ)(),this._spanId=me.spanId||(0,D.eJ)().substring(16),this._startTime=me.startTimestamp||(0,pe.zf)(),this._attributes={},this.setAttributes({[Nn.JD]:"manual",[Nn.uT]:me.op,...me.attributes}),this._name=me.name,me.parentSpanId&&(this._parentSpanId=me.parentSpanId),"sampled"in me&&(this._sampled=me.sampled),me.endTimestamp&&(this._endTime=me.endTimestamp),this._events=[],this._isStandaloneSpan=me.isStandalone,this._endTime&&this._onSpanEnded()}addLink(me){return this}addLinks(me){return this}recordException(me,Ke){}spanContext(){const{_spanId:me,_traceId:Ke,_sampled:Me}=this;return{spanId:me,traceId:Ke,traceFlags:Me?rn.aO:rn.CC}}setAttribute(me,Ke){return void 0===Ke?delete this._attributes[me]:this._attributes[me]=Ke,this}setAttributes(me){return Object.keys(me).forEach(Ke=>this.setAttribute(Ke,me[Ke])),this}updateStartTime(me){this._startTime=(0,rn.cI)(me)}setStatus(me){return this._status=me,this}updateName(me){return this._name=me,this}end(me){this._endTime||(this._endTime=(0,rn.cI)(me),function Zs(Ee){if(!S.T)return;const{description:me="< unknown name >",op:Ke="< unknown op >"}=(0,rn.et)(Ee),{spanId:Me}=Ee.spanContext(),en=(0,rn.zU)(Ee)===Ee;w.vF.log(`[Tracing] Finishing "${Ke}" ${en?"root ":""}span "${me}" with ID ${Me}`)}(this),this._onSpanEnded())}getSpanJSON(){return(0,Xe.Ce)({data:this._attributes,description:this._name,op:this._attributes[Nn.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,rn.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Nn.JD],_metrics_summary:(0,Ns.g)(this),profile_id:this._attributes[Nn.E1],exclusive_time:this._attributes[Nn.jG],measurements:Sa(this._events),is_segment:this._isStandaloneSpan&&(0,rn.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,rn.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(me,Ke,Me){S.T&&w.vF.log("[Tracing] Adding an event to span:",me);const Wt=kn(Ke)?Ke:Me||(0,pe.zf)(),en=kn(Ke)?{}:Ke||{},fn={name:me,time:(0,rn.cI)(Wt),attributes:en};return this._events.push(fn),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const me=(0,A.KU)();if(me&&me.emit("spanEnd",this),!this._isStandaloneSpan&&this!==(0,rn.zU)(this))return;if(this._isStandaloneSpan)return void(this._sampled?function Qn(Ee){const me=(0,A.KU)();if(!me)return;const Ke=Ee[1];if(!Ke||0===Ke.length)return void me.recordDroppedEvent("before_send","span");const Me=me.getTransport();Me&&Me.send(Ee).then(null,Wt=>{S.T&&w.vF.error("Error while sending span:",Wt)})}(function nn(Ee,me){const Me=(0,Gt.k1)(Ee[0]),Wt=me&&me.getDsn(),en=me&&me.getOptions().tunnel,fn={sent_at:(new Date).toISOString(),...function Ke(Di){return!!Di.trace_id&&!!Di.public_key}(Me)&&{trace:Me},...!!en&&Wt&&{dsn:(0,Oe.SB)(Wt)}},On=me&&me.getOptions().beforeSendSpan,fi=On?Di=>On((0,rn.et)(Di)):Di=>(0,rn.et)(Di),Ai=[];for(const Di of Ee){const Bi=fi(Di);Bi&&Ai.push((0,Z.y5)(Bi))}return(0,Z.h4)(fn,Ai)}([this],me)):(S.T&&w.vF.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),me&&me.recordDroppedEvent("sample_rate","span")));const Me=this._convertSpanToTransaction();Me&&(Kt(this).scope||(0,A.o5)()).captureEvent(Me)}_convertSpanToTransaction(){if(!ln((0,rn.et)(this)))return;this._name||(S.T&&w.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:me,isolationScope:Ke}=Kt(this),Wt=(me||(0,A.o5)()).getClient()||(0,A.KU)();if(!0!==this._sampled)return S.T&&w.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(Wt&&Wt.recordDroppedEvent("sample_rate","transaction"));const fn=(0,rn.xO)(this).filter(Bi=>Bi!==this&&!function Ln(Ee){return Ee instanceof tn&&Ee.isStandaloneSpan()}(Bi)).map(Bi=>(0,rn.et)(Bi)).filter(ln),On=this._attributes[Nn.i_],fi={contexts:{trace:(0,rn.Ck)(this)},spans:fn.length>1e3?fn.sort((Bi,Kr)=>Bi.start_timestamp-Kr.start_timestamp).slice(0,1e3):fn,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:me,capturedSpanIsolationScope:Ke,...(0,Xe.Ce)({dynamicSamplingContext:(0,Gt.k1)(this)})},_metrics_summary:(0,Ns.g)(this),...On&&{transaction_info:{source:On}}},Ai=Sa(this._events);return Ai&&Object.keys(Ai).length&&(S.T&&w.vF.log("[Measurements] Adding measurements to transaction event",JSON.stringify(Ai,void 0,2)),fi.measurements=Ai),fi}}function kn(Ee){return Ee&&"number"==typeof Ee||Ee instanceof Date||Array.isArray(Ee)}function ln(Ee){return!!(Ee.start_timestamp&&Ee.timestamp&&Ee.span_id&&Ee.trace_id)}const jn="__SENTRY_SUPPRESS_TRACING__";function Ii(Ee){const me=Zl();if(me.startInactiveSpan)return me.startInactiveSpan(Ee);const Ke=function ns(Ee){const Ke={isStandalone:(Ee.experimental||{}).standalone,...Ee};if(Ee.startTime){const Me={...Ke};return Me.startTimestamp=(0,rn.cI)(Ee.startTime),delete Me.startTime,Me}return Ke}(Ee),{forceTransaction:Me,parentSpan:Wt}=Ee;return(Ee.scope?fn=>(0,A.v4)(Ee.scope,fn):void 0!==Wt?fn=>$r(Wt,fn):fn=>fn())(()=>{const fn=(0,A.o5)(),On=function Js(Ee){const me=(0,ur.f)(Ee);if(!me)return;const Ke=(0,A.KU)();return(Ke?Ke.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,rn.zU)(me):me}(fn);return Ee.onlyIfParent&&!On?new zs:function Gr({parentSpan:Ee,spanArguments:me,forceTransaction:Ke,scope:Me}){if(!fr())return new zs;const Wt=(0,A.rm)();let en;if(Ee&&!Ke)en=function Jo(Ee,me,Ke){const{spanId:Me,traceId:Wt}=Ee.spanContext(),en=!me.getScopeData().sdkProcessingMetadata[jn]&&(0,rn.pK)(Ee),fn=en?new tn({...Ke,parentSpanId:Me,traceId:Wt,sampled:en}):new zs({traceId:Wt});(0,rn.Hu)(Ee,fn);const On=(0,A.KU)();return On&&(On.emit("spanStart",fn),Ke.endTimestamp&&On.emit("spanEnd",fn)),fn}(Ee,Me,me),(0,rn.Hu)(Ee,en);else if(Ee){const fn=(0,Gt.k1)(Ee),{traceId:On,spanId:fi}=Ee.spanContext(),Ai=(0,rn.pK)(Ee);en=Ro({traceId:On,parentSpanId:fi,...me},Me,Ai),(0,Gt.LZ)(en,fn)}else{const{traceId:fn,dsc:On,parentSpanId:fi,sampled:Ai}={...Wt.getPropagationContext(),...Me.getPropagationContext()};en=Ro({traceId:fn,parentSpanId:fi,...me},Me,Ai),On&&(0,Gt.LZ)(en,On)}return function Or(Ee){if(!S.T)return;const{description:me="< unknown name >",op:Ke="< unknown op >",parent_span_id:Me}=(0,rn.et)(Ee),{spanId:Wt}=Ee.spanContext(),en=(0,rn.pK)(Ee),fn=(0,rn.zU)(Ee),On=fn===Ee,fi=`[Tracing] Starting ${en?"sampled":"unsampled"} ${On?"root ":""}span`,Ai=[`op: ${Ke}`,`name: ${me}`,`ID: ${Wt}`];if(Me&&Ai.push(`parent ID: ${Me}`),!On){const{op:Di,description:Bi}=(0,rn.et)(fn);Ai.push(`root ID: ${fn.spanContext().spanId}`),Di&&Ai.push(`root op: ${Di}`),Bi&&Ai.push(`root description: ${Bi}`)}w.vF.log(`${fi}\n  ${Ai.join("\n  ")}`)}(en),function Et(Ee,me,Ke){Ee&&((0,Xe.my)(Ee,P,Ke),(0,Xe.my)(Ee,ca,me))}(en,Me,Wt),en}({parentSpan:On,spanArguments:Ke,forceTransaction:Me,scope:fn})})}function $r(Ee,me){const Ke=Zl();return Ke.withActiveSpan?Ke.withActiveSpan(Ee,me):(0,A.v4)(Me=>((0,ur.r)(Me,Ee||void 0),me(Me)))}function Zl(){const Ee=(0,Fn.E)();return(0,ki.h)(Ee)}function Ro(Ee,me,Ke){const Me=(0,A.KU)(),Wt=Me&&Me.getOptions()||{},{name:en="",attributes:fn}=Ee,[On,fi]=me.getScopeData().sdkProcessingMetadata[jn]?[!1]:function Cr(Ee,me){if(!fr(Ee))return[!1];let Ke;Ke="function"==typeof Ee.tracesSampler?Ee.tracesSampler(me):void 0!==me.parentSampled?me.parentSampled:typeof Ee.tracesSampleRate<"u"?Ee.tracesSampleRate:1;const Me=(0,zt.i)(Ke);return void 0===Me?(S.T&&w.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):Me?Math.random()<Me?[!0,Me]:(S.T&&w.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(Ke)})`),[!1,Me]):(S.T&&w.vF.log("[Tracing] Discarding transaction because "+("function"==typeof Ee.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,Me])}(Wt,{name:en,parentSampled:Ke,attributes:fn,transactionContext:{name:en,parentSampled:Ke}}),Ai=new tn({...Ee,attributes:{[Nn.i_]:"custom",...Ee.attributes},sampled:On});return void 0!==fi&&Ai.setAttribute(Nn.sy,fi),Me&&Me.emit("spanStart",Ai),Ai}var ua=_(3803),_r=_(524),as=_(3963);function Ps(Ee){return"number"==typeof Ee&&isFinite(Ee)}function Ic(Ee,me,Ke,{...Me}){const Wt=(0,rn.et)(Ee).start_timestamp;return Wt&&Wt>me&&"function"==typeof Ee.updateStartTime&&Ee.updateStartTime(me),$r(Ee,()=>{const en=Ii({startTime:me,...Me});return en&&en.end(Ke),en})}function yu(){return _r.j&&_r.j.addEventListener&&_r.j.performance}function hs(Ee){return Ee/1e3}var ja=_(242),vu=_(9056);const ms=2147483647;let ho,da,xl=0,Ko={};function Vi(Ee,me,Ke,Me,Wt,en){const fn=en?me[en]:me[`${Ke}End`],On=me[`${Ke}Start`];!On||!fn||Ic(Ee,Me+hs(On),Me+hs(fn),{op:"browser",name:Wt||Ke,attributes:{[Nn.JD]:"auto.ui.browser.metrics"}})}function ro(Ee,me,Ke,Me){const Wt=me[Ke];null!=Wt&&Wt<ms&&(Ee[Me]=Wt)}const fo=[],Vl=new Map;const Oc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var Uo=_(5989);const dl={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function pc(Ee,me={}){const Ke=new Map;let Wt,Me=!1,en="externalFinish",fn=!me.disableAutoFinish;const On=[],{idleTimeout:fi=dl.idleTimeout,finalTimeout:Ai=dl.finalTimeout,childSpanTimeout:Di=dl.childSpanTimeout,beforeSpanEnd:Bi}=me,Kr=(0,A.KU)();if(!Kr||!fr())return new zs;const gs=(0,A.o5)(),Rt=(0,rn.Bk)(),Cs=function eo(Ee){const me=Ii(Ee);return(0,ur.r)((0,A.o5)(),me),S.T&&w.vF.log("[Tracing] Started span is an idle span"),me}(Ee);function Pl(){Wt&&(clearTimeout(Wt),Wt=void 0)}function pn(Ir){Pl(),Wt=setTimeout(()=>{!Me&&0===Ke.size&&fn&&(en="idleTimeout",Cs.end(Ir))},fi)}function Ta(Ir){Wt=setTimeout(()=>{!Me&&fn&&(en="heartbeatFailed",Cs.end(Ir))},Di)}function to(Ir){Me=!0,Ke.clear(),On.forEach(Fl=>Fl()),(0,ur.r)(gs,Rt);const Is=(0,rn.et)(Cs),{start_timestamp:ou}=Is;if(!ou)return;(Is.data||{})[Nn.fs]||Cs.setAttribute(Nn.fs,en),w.vF.log(`[Tracing] Idle span "${Is.op}" finished`);const _c=(0,rn.xO)(Cs).filter(Fl=>Fl!==Cs);let au=0;_c.forEach(Fl=>{Fl.isRecording()&&(Fl.setStatus({code:Uo.TJ,message:"cancelled"}),Fl.end(Ir),S.T&&w.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Fl,void 0,2)));const md=(0,rn.et)(Fl),{timestamp:zl=0,start_timestamp:Gc=0}=md,Ch=Gc<=Ir,B=zl-Gc<=(Ai+fi)/1e3;if(S.T){const he=JSON.stringify(Fl,void 0,2);Ch?B||w.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",he):w.vF.log("[Tracing] Discarding span since it happened after idle span was finished",he)}(!B||!Ch)&&((0,rn.VS)(Cs,Fl),au++)}),au>0&&Cs.setAttribute("sentry.idle_span_discarded_spans",au)}return Cs.end=new Proxy(Cs.end,{apply(Ir,Is,ou){Bi&&Bi(Cs);const[Hc,..._c]=ou,au=Hc||(0,pe.zf)(),Fl=(0,rn.cI)(au),md=(0,rn.xO)(Cs).filter(B=>B!==Cs);if(!md.length)return to(Fl),Reflect.apply(Ir,Is,[Fl,..._c]);const zl=md.map(B=>(0,rn.et)(B).timestamp).filter(B=>!!B),Gc=zl.length?Math.max(...zl):void 0,Ch=(0,rn.et)(Cs).start_timestamp,k=Math.min(Ch?Ch+Ai/1e3:1/0,Math.max(Ch||-1/0,Math.min(Fl,Gc||1/0)));return to(k),Reflect.apply(Ir,Is,[k,..._c])}}),On.push(Kr.on("spanStart",Ir=>{Me||Ir===Cs||(0,rn.et)(Ir).timestamp||(0,rn.xO)(Cs).includes(Ir)&&function yo(Ir){Pl(),Ke.set(Ir,!0),Ta((0,pe.zf)()+Di/1e3)}(Ir.spanContext().spanId)})),On.push(Kr.on("spanEnd",Ir=>{Me||function Po(Ir){Ke.has(Ir)&&Ke.delete(Ir),0===Ke.size&&pn((0,pe.zf)()+fi/1e3)}(Ir.spanContext().spanId)})),On.push(Kr.on("idleSpanEnableAutoFinish",Ir=>{Ir===Cs&&(fn=!0,pn(),Ke.size&&Ta())})),me.disableAutoFinish||pn(),setTimeout(()=>{Me||(Cs.setStatus({code:Uo.TJ,message:"deadline_exceeded"}),en="finalTimeout",Cs.end())},Ai),Cs}let Wu=!1;function ec(){const Ee=(0,rn.Bk)(),me=Ee&&(0,rn.zU)(Ee);if(me){const Ke="internal_error";S.T&&w.vF.log(`[Tracing] Root span: ${Ke} -> Global error occured`),me.setStatus({code:Uo.TJ,message:Ke})}}ec.tag="sentry_tracingErrorCallback";var Xh=_(3902),bu=_(1475),fl=_(6570);const Wa={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function zr(Ee){const{traceFetch:me,traceXHR:Ke,shouldCreateSpanForRequest:Me,enableHTTPTimings:Wt,tracePropagationTargets:en}={traceFetch:Wa.traceFetch,traceXHR:Wa.traceXHR,...Ee},fn="function"==typeof Me?Me:Ai=>!0,On=Ai=>function wu(Ee,me){const Ke=Zn.location&&Zn.location.href;if(Ke){let Me,Wt;try{Me=new URL(Ee,Ke),Wt=new URL(Ke).origin}catch{return!1}const en=Me.origin===Wt;return me?(0,C.Xr)(Me.toString(),me)||en&&(0,C.Xr)(Me.pathname,me):en}{const Me=!!Ee.match(/^\/(?!\/)/);return me?(0,C.Xr)(Ee,me):Me}}(Ai,en),fi={};me&&zi(Ai=>{const Di=function Da(Ee,me,Ke,Me,Wt="auto.http.browser"){if(!Ee.fetchData)return;const en=fr()&&me(Ee.fetchData.url);if(Ee.endTimestamp&&en){const Rt=Ee.fetchData.__span;if(!Rt)return;const Cs=Me[Rt];return void(Cs&&(function Yd(Ee,me){if(me.response){(0,Uo.N8)(Ee,me.response.status);const Ke=me.response&&me.response.headers&&me.response.headers.get("content-length");if(Ke){const Me=parseInt(Ke);Me>0&&Ee.setAttribute("http.response_content_length",Me)}}else me.error&&Ee.setStatus({code:Uo.TJ,message:"internal_error"});Ee.end()}(Cs,Ee),delete Me[Rt]))}const fn=(0,A.o5)(),On=(0,A.KU)(),{method:fi,url:Ai}=Ee.fetchData,Di=function nu(Ee){try{return new URL(Ee).href}catch{return}}(Ai),Bi=Di?Bt(Di).host:void 0,Kr=!!(0,rn.Bk)(),gs=en&&Kr?Ii({name:`${fi} ${Ai}`,attributes:{url:Ai,type:"fetch","http.method":fi,"http.url":Di,"server.address":Bi,[Nn.JD]:Wt,[Nn.uT]:"http.client"}}):new zs;if(Ee.fetchData.__span=gs.spanContext().spanId,Me[gs.spanContext().spanId]=gs,Ke(Ee.fetchData.url)&&On){const Rt=Ee.args[0];Ee.args[1]=Ee.args[1]||{};const Cs=Ee.args[1];Cs.headers=function tu(Ee,me,Ke,Me,Wt){const en=(0,A.rm)(),{traceId:fn,spanId:On,sampled:fi,dsc:Ai}={...en.getPropagationContext(),...Ke.getPropagationContext()},Di=Wt?(0,rn.Qh)(Wt):(0,Xh.TC)(fn,On,fi),Bi=(0,fl.De)(Ai||(Wt?(0,Gt.k1)(Wt):(0,Gt.lF)(fn,me))),Kr=Me.headers||(typeof Request<"u"&&(0,ut.tH)(Ee,Request)?Ee.headers:void 0);if(Kr){if(typeof Headers<"u"&&(0,ut.tH)(Kr,Headers)){const gs=new Headers(Kr);return gs.append("sentry-trace",Di),Bi&&gs.append(fl.hF,Bi),gs}if(Array.isArray(Kr)){const gs=[...Kr,["sentry-trace",Di]];return Bi&&gs.push([fl.hF,Bi]),gs}{const gs="baggage"in Kr?Kr.baggage:void 0,Rt=[];return Array.isArray(gs)?Rt.push(...gs):gs&&Rt.push(gs),Bi&&Rt.push(Bi),{...Kr,"sentry-trace":Di,baggage:Rt.length>0?Rt.join(","):void 0}}}return{"sentry-trace":Di,baggage:Bi}}(Rt,On,fn,Cs,fr()&&Kr?gs:void 0)}return gs}(Ai,fn,On,fi);if(Di){const Bi=Td(Ai.fetchData.url),Kr=Bi?Bt(Bi).host:void 0;Di.setAttributes({"http.url":Bi,"server.address":Kr})}Wt&&Di&&tc(Di)}),Ke&&(0,Ss.Mn)(Ai=>{const Di=function Nc(Ee,me,Ke,Me){const Wt=Ee.xhr,en=Wt&&Wt[Ss.Er];if(!Wt||Wt.__sentry_own_request__||!en)return;const fn=fr()&&me(en.url);if(Ee.endTimestamp&&fn){const Kr=Wt.__sentry_xhr_span_id__;if(!Kr)return;const gs=Me[Kr];return void(gs&&void 0!==en.status_code&&((0,Uo.N8)(gs,en.status_code),gs.end(),delete Me[Kr]))}const On=Td(en.url),fi=On?Bt(On).host:void 0,Ai=!!(0,rn.Bk)(),Di=fn&&Ai?Ii({name:`${en.method} ${en.url}`,attributes:{type:"xhr","http.method":en.method,"http.url":On,url:en.url,"server.address":fi,[Nn.JD]:"auto.http.browser",[Nn.uT]:"http.client"}}):new zs;Wt.__sentry_xhr_span_id__=Di.spanContext().spanId,Me[Wt.__sentry_xhr_span_id__]=Di;const Bi=(0,A.KU)();return Wt.setRequestHeader&&Ke(en.url)&&Bi&&function Mu(Ee,me,Ke){const Me=(0,A.o5)(),Wt=(0,A.rm)(),{traceId:en,spanId:fn,sampled:On,dsc:fi}={...Wt.getPropagationContext(),...Me.getPropagationContext()};!function pd(Ee,me,Ke){try{Ee.setRequestHeader("sentry-trace",me),Ke&&Ee.setRequestHeader(fl.hF,Ke)}catch{}}(Ee,Ke&&fr()?(0,rn.Qh)(Ke):(0,Xh.TC)(en,fn,On),(0,fl.De)(fi||(Ke?(0,Gt.k1)(Ke):(0,Gt.lF)(en,me))))}(Wt,Bi,fr()&&Ai?Di:void 0),Di}(Ai,fn,On,fi);Wt&&Di&&tc(Di)})}function tc(Ee){const{url:me}=(0,rn.et)(Ee).data||{};if(!me||"string"!=typeof me)return;const Ke=(0,as.wv)("resource",({entries:Me})=>{Me.forEach(Wt=>{(function mc(Ee){return"resource"===Ee.entryType&&"initiatorType"in Ee&&"string"==typeof Ee.nextHopProtocol&&("fetch"===Ee.initiatorType||"xmlhttprequest"===Ee.initiatorType)})(Wt)&&Wt.name.endsWith(me)&&(function nc(Ee){const{name:me,version:Ke}=function zc(Ee){let me="unknown",Ke="unknown",Me="";for(const Wt of Ee){if("/"===Wt){[me,Ke]=Ee.split("/");break}if(!isNaN(Number(Wt))){me="h"===Me?"http":Me,Ke=Ee.split(Me)[1];break}Me+=Wt}return Me===Ee&&(me=Me),{name:me,version:Ke}}(Ee.nextHopProtocol),Me=[];return Me.push(["network.protocol.version",Ke],["network.protocol.name",me]),pe.k3?[...Me,["http.request.redirect_start",xo(Ee.redirectStart)],["http.request.fetch_start",xo(Ee.fetchStart)],["http.request.domain_lookup_start",xo(Ee.domainLookupStart)],["http.request.domain_lookup_end",xo(Ee.domainLookupEnd)],["http.request.connect_start",xo(Ee.connectStart)],["http.request.secure_connection_start",xo(Ee.secureConnectionStart)],["http.request.connection_end",xo(Ee.connectEnd)],["http.request.request_start",xo(Ee.requestStart)],["http.request.response_start",xo(Ee.responseStart)],["http.request.response_end",xo(Ee.responseEnd)]]:Me}(Wt).forEach(fn=>Ee.setAttribute(...fn)),setTimeout(Ke))})})}function xo(Ee=0){return((pe.k3||performance.timeOrigin)+Ee)/1e3}function Td(Ee){try{return new URL(Ee,Zn.location.origin).href}catch{return}}const jc={...dl,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...Wa},Ou=(Ee={})=>{!function zo(){Wu||(Wu=!0,Fa(ec),hc(ec))}();const{enableInp:me,enableLongTask:Ke,enableLongAnimationFrame:Me,_experiments:{enableInteractions:Wt},beforeStartSpan:en,idleTimeout:fn,finalTimeout:On,childSpanTimeout:fi,markBackgroundSpan:Ai,traceFetch:Di,traceXHR:Bi,shouldCreateSpanForRequest:Kr,enableHTTPTimings:gs,instrumentPageLoad:Rt,instrumentNavigation:Cs}={...jc,...Ee},Pl=function Xd(){const Ee=yu();if(Ee&&pe.k3){Ee.mark&&_r.j.performance.mark("sentry-tracing-init");const me=function Ve(){return(0,as.T5)(({metric:Ee})=>{const me=Ee.entries[Ee.entries.length-1];if(!me)return;const Ke=hs(pe.k3),Me=hs(me.startTime);ua.T&&w.vF.log("[Measurements] Adding FID"),Ko.fid={value:Ee.value,unit:"millisecond"},Ko["mark.fid"]={value:Ke+Me,unit:"second"}})}(),Ke=function we(){return(0,as.a9)(({metric:Ee})=>{const me=Ee.entries[Ee.entries.length-1];me&&(ua.T&&w.vF.log("[Measurements] Adding CLS"),Ko.cls={value:Ee.value,unit:""},da=me)},!0)}(),Me=function Dt(){return(0,as.Pt)(({metric:Ee})=>{const me=Ee.entries[Ee.entries.length-1];me&&(ua.T&&w.vF.log("[Measurements] Adding LCP"),Ko.lcp={value:Ee.value,unit:"millisecond"},ho=me)},!0)}(),Wt=function _t(){return(0,as.YG)(({metric:Ee})=>{Ee.entries[Ee.entries.length-1]&&(ua.T&&w.vF.log("[Measurements] Adding TTFB"),Ko.ttfb={value:Ee.value,unit:"millisecond"})})}();return()=>{me(),Ke(),Me(),Wt()}}return()=>{}}();me&&function Sl(){if(yu()&&pe.k3){const me=function fc(){return(0,as.hT)(({metric:Ee})=>{const me=(0,A.KU)();if(!me||null==Ee.value)return;const Ke=Ee.entries.find(Ir=>Ir.duration===Ee.value&&Oc[Ir.name]);if(!Ke)return;const{interactionId:Me}=Ke,Wt=Oc[Ke.name],en=me.getOptions(),fn=hs(pe.k3+Ke.startTime),On=hs(Ee.value),fi=(0,A.o5)(),Ai=(0,rn.Bk)(),Di=Ai?(0,rn.zU)(Ai):void 0,Kr=(null!=Me?Vl.get(Me):void 0)||Di,gs=Kr?(0,rn.et)(Kr).description:fi.getScopeData().transactionName,Rt=fi.getUser(),Cs=me.getIntegrationByName("Replay"),Pl=Cs&&Cs.getReplayId(),pn=void 0!==Rt?Rt.email||Rt.id||Rt.ip_address:void 0;let Ta;try{Ta=fi.getScopeData().contexts.profile.profile_id}catch{}const to=Ii({name:(0,et.Hd)(Ke.target),op:`ui.interaction.${Wt}`,attributes:(0,Xe.Ce)({release:en.release,environment:en.environment,transaction:gs,[Nn.jG]:Ee.value,[Nn.JD]:"auto.http.browser.inp",user:pn||void 0,profile_id:Ta||void 0,replay_id:Pl||void 0,"user_agent.original":_r.j.navigator&&_r.j.navigator.userAgent}),startTime:fn,experimental:{standalone:!0}});to.addEvent("inp",{[Nn.Sn]:"millisecond",[Nn.xc]:Ee.value}),to.end(fn+On)})}();return()=>{me()}}return()=>{}}(),Me&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function Mc(){new PerformanceObserver(me=>{for(const Ke of me.getEntries()){if(!(0,rn.Bk)()||!Ke.scripts[0])return;const Me=hs(pe.k3+Ke.startTime),Wt=hs(Ke.duration),en={[Nn.JD]:"auto.ui.browser.metrics"},fn=Ke.scripts[0];if(fn){const{invoker:fi,invokerType:Ai,sourceURL:Di,sourceFunctionName:Bi,sourceCharPosition:Kr}=fn;en["browser.script.invoker"]=fi,en["browser.script.invoker_type"]=Ai,Di&&(en["code.filepath"]=Di),Bi&&(en["code.function"]=Bi),-1!==Kr&&(en["browser.script.source_char_position"]=Kr)}const On=Ii({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:Me,attributes:en});On&&On.end(Me+Wt)}}).observe({type:"long-animation-frame",buffered:!0})}():Ke&&function Ac(){(0,as.wv)("longtask",({entries:Ee})=>{for(const me of Ee){if(!(0,rn.Bk)())return;const Ke=hs(pe.k3+me.startTime),Me=hs(me.duration),Wt=Ii({name:"Main UI thread blocked",op:"ui.long-task",startTime:Ke,attributes:{[Nn.JD]:"auto.ui.browser.metrics"}});Wt&&Wt.end(Ke+Me)}})}(),Wt&&function Cl(){(0,as.wv)("event",({entries:Ee})=>{for(const me of Ee){if(!(0,rn.Bk)())return;if("click"===me.name){const Ke=hs(pe.k3+me.startTime),Me=hs(me.duration),Wt={name:(0,et.Hd)(me.target),op:`ui.interaction.${me.name}`,startTime:Ke,attributes:{[Nn.JD]:"auto.ui.browser.metrics"}},en=(0,et.xE)(me.target);en&&(Wt.attributes["ui.component_name"]=en);const fn=Ii(Wt);fn&&fn.end(Ke+Me)}}})}();const pn={name:void 0,source:void 0};function Ta(yo,Po){const to="pageload"===Po.op,Ir=en?en(Po):Po,Is=Ir.attributes||{};Po.name!==Ir.name&&(Is[Nn.i_]="custom",Ir.attributes=Is),pn.name=Ir.name,pn.source=Is[Nn.i_];const ou=pc(Ir,{idleTimeout:fn,finalTimeout:On,childSpanTimeout:fi,disableAutoFinish:to,beforeSpanEnd:_c=>{Pl(),function an(Ee){const me=yu();if(!me||!_r.j.performance.getEntries||!pe.k3)return;ua.T&&w.vF.log("[Tracing] Adding & adjusting spans using Performance API");const Ke=hs(pe.k3),Me=me.getEntries(),{op:Wt,start_timestamp:en}=(0,rn.et)(Ee);if(Me.slice(xl).forEach(fn=>{const On=hs(fn.startTime),fi=hs(Math.max(0,fn.duration));if(!("navigation"===Wt&&en&&Ke+On<en))switch(fn.entryType){case"navigation":!function ui(Ee,me,Ke){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(Me=>{Vi(Ee,me,Me,Ke)}),Vi(Ee,me,"secureConnection",Ke,"TLS/SSL","connectEnd"),Vi(Ee,me,"fetch",Ke,"cache","domainLookupStart"),Vi(Ee,me,"domainLookup",Ke,"DNS"),function Fs(Ee,me,Ke){const Me=Ke+hs(me.requestStart),Wt=Ke+hs(me.responseEnd),en=Ke+hs(me.responseStart);me.responseEnd&&(Ic(Ee,Me,Wt,{op:"browser",name:"request",attributes:{[Nn.JD]:"auto.ui.browser.metrics"}}),Ic(Ee,en,Wt,{op:"browser",name:"response",attributes:{[Nn.JD]:"auto.ui.browser.metrics"}}))}(Ee,me,Ke)}(Ee,fn,Ke);break;case"mark":case"paint":case"measure":{!function Wn(Ee,me,Ke,Me,Wt){const en=(0,ja.z)(),fn=hs(en?en.requestStart:0),On=Wt+Math.max(Ke,fn),fi=Wt+Ke,Ai=fi+Me,Di={[Nn.JD]:"auto.resource.browser.metrics"};On!==fi&&(Di["sentry.browser.measure_happened_before_request"]=!0,Di["sentry.browser.measure_start_time"]=On),Ic(Ee,On,Ai,{name:me.name,op:me.entryType,attributes:Di})}(Ee,fn,On,fi,Ke);const Ai=(0,vu.N)(),Di=fn.startTime<Ai.firstHiddenTime;"first-paint"===fn.name&&Di&&(ua.T&&w.vF.log("[Measurements] Adding FP"),Ko.fp={value:fn.startTime,unit:"millisecond"}),"first-contentful-paint"===fn.name&&Di&&(ua.T&&w.vF.log("[Measurements] Adding FCP"),Ko.fcp={value:fn.startTime,unit:"millisecond"});break}case"resource":!function qr(Ee,me,Ke,Me,Wt,en){if("xmlhttprequest"===me.initiatorType||"fetch"===me.initiatorType)return;const fn=Bt(Ke),On={[Nn.JD]:"auto.resource.browser.metrics"};ro(On,me,"transferSize","http.response_transfer_size"),ro(On,me,"encodedBodySize","http.response_content_length"),ro(On,me,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in me&&(On["resource.render_blocking_status"]=me.renderBlockingStatus),fn.protocol&&(On["url.scheme"]=fn.protocol.split(":").pop()),fn.host&&(On["server.address"]=fn.host),On["url.same_origin"]=Ke.includes(_r.j.location.origin);const fi=en+Me;Ic(Ee,fi,fi+Wt,{name:Ke.replace(_r.j.location.origin,""),op:me.initiatorType?`resource.${me.initiatorType}`:"resource.other",attributes:On})}(Ee,fn,fn.name,On,fi,Ke)}}),xl=Math.max(Me.length-1,0),function ts(Ee){const me=_r.j.navigator;if(!me)return;const Ke=me.connection;Ke&&(Ke.effectiveType&&Ee.setAttribute("effectiveConnectionType",Ke.effectiveType),Ke.type&&Ee.setAttribute("connectionType",Ke.type),Ps(Ke.rtt)&&(Ko["connection.rtt"]={value:Ke.rtt,unit:"millisecond"})),Ps(me.deviceMemory)&&Ee.setAttribute("deviceMemory",`${me.deviceMemory} GB`),Ps(me.hardwareConcurrency)&&Ee.setAttribute("hardwareConcurrency",String(me.hardwareConcurrency))}(Ee),"pageload"===Wt){(function Ws(Ee){const me=(0,ja.z)();if(!me)return;const{responseStart:Ke,requestStart:Me}=me;Me<=Ke&&(ua.T&&w.vF.log("[Measurements] Adding TTFB Request Time"),Ee["ttfb.requestTime"]={value:Ke-Me,unit:"millisecond"})})(Ko),["fcp","fp","lcp"].forEach(On=>{const fi=Ko[On];if(!fi||!en||Ke>=en)return;const Ai=fi.value,Di=Ke+hs(Ai),Bi=Math.abs(1e3*(Di-en));ua.T&&w.vF.log(`[Measurements] Normalized ${On} from ${Ai} to ${Bi} (${Bi-Ai})`),fi.value=Bi});const fn=Ko["mark.fid"];fn&&Ko.fid&&(Ic(Ee,fn.value,fn.value+hs(Ko.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Nn.JD]:"auto.ui.browser.metrics"}}),delete Ko["mark.fid"]),"fcp"in Ko||delete Ko.cls,Object.entries(Ko).forEach(([On,fi])=>{!function Xs(Ee,me,Ke){const Me=(0,rn.Bk)(),Wt=Me&&(0,rn.zU)(Me);Wt&&Wt.addEvent(Ee,{[Nn.xc]:me,[Nn.Sn]:Ke})}(On,fi.value,fi.unit)}),function Si(Ee){ho&&(ua.T&&w.vF.log("[Measurements] Adding LCP Data"),ho.element&&Ee.setAttribute("lcp.element",(0,et.Hd)(ho.element)),ho.id&&Ee.setAttribute("lcp.id",ho.id),ho.url&&Ee.setAttribute("lcp.url",ho.url.trim().slice(0,200)),Ee.setAttribute("lcp.size",ho.size)),da&&da.sources&&(ua.T&&w.vF.log("[Measurements] Adding CLS Data"),da.sources.forEach((me,Ke)=>Ee.setAttribute(`cls.source.${Ke+1}`,(0,et.Hd)(me.node))))}(Ee)}ho=void 0,da=void 0,Ko={}}(_c)}});function Hc(){["interactive","complete"].includes(Zn.document.readyState)&&yo.emit("idleSpanEnableAutoFinish",ou)}return to&&Zn.document&&(Zn.document.addEventListener("readystatechange",()=>{Hc()}),Hc()),ou}return{name:"BrowserTracing",afterAllSetup(yo){let Po,to=Zn.location&&Zn.location.href;yo.on("startNavigationSpan",Ir=>{(0,A.KU)()===yo&&(Po&&!(0,rn.et)(Po).timestamp&&(We&&w.vF.log(`[Tracing] Finishing current root span with op: ${(0,rn.et)(Po).op}`),Po.end()),Po=Ta(yo,{op:"navigation",...Ir}))}),yo.on("startPageLoadSpan",(Ir,Is={})=>{if((0,A.KU)()!==yo)return;Po&&!(0,rn.et)(Po).timestamp&&(We&&w.vF.log(`[Tracing] Finishing current root span with op: ${(0,rn.et)(Po).op}`),Po.end());const ou=Is.sentryTrace||Rl("sentry-trace"),Hc=Is.baggage||Rl("baggage"),_c=(0,Xh.kM)(ou,Hc);(0,A.o5)().setPropagationContext(_c),Po=Ta(yo,{op:"pageload",...Ir})}),yo.on("spanEnd",Ir=>{const Is=(0,rn.et)(Ir).op;if(Ir!==(0,rn.zU)(Ir)||"navigation"!==Is&&"pageload"!==Is)return;const ou=(0,A.o5)(),Hc=ou.getPropagationContext();ou.setPropagationContext({...Hc,sampled:void 0!==Hc.sampled?Hc.sampled:(0,rn.pK)(Ir),dsc:Hc.dsc||(0,Gt.k1)(Ir)})}),Zn.location&&(Rt&&function bh(Ee,me,Ke){Ee.emit("startPageLoadSpan",me,Ke),(0,A.o5)().setTransactionName(me.name);const Me=(0,rn.Bk)();Me&&(0,rn.et)(Me)}(yo,{name:Zn.location.pathname,startTime:pe.k3?pe.k3/1e3:void 0,attributes:{[Nn.i_]:"url",[Nn.JD]:"auto.pageload.browser"}}),Cs&&(0,wt._)(({to:Ir,from:Is})=>{void 0===Is&&to&&-1!==to.indexOf(Ir)?to=void 0:Is!==Ir&&(to=void 0,wh(yo,{name:Zn.location.pathname,attributes:{[Nn.i_]:"url",[Nn.JD]:"auto.navigation.browser"}}))})),Ai&&function Rc(){Zn&&Zn.document?Zn.document.addEventListener("visibilitychange",()=>{const Ee=(0,rn.Bk)();if(!Ee)return;const me=(0,rn.zU)(Ee);if(Zn.document.hidden&&me){const Ke="cancelled",{op:Me,status:Wt}=(0,rn.et)(me);We&&w.vF.log(`[Tracing] Transaction: ${Ke} -> since tab moved to the background, op: ${Me}`),Wt||me.setStatus({code:Uo.TJ,message:Ke}),me.setAttribute("sentry.cancellation_reason","document.hidden"),me.end()}}):We&&w.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),Wt&&function Hu(Ee,me,Ke,Me){let Wt;Zn.document&&addEventListener("click",()=>{const fn="ui.action.click",On=(0,rn.Bk)(),fi=On&&(0,rn.zU)(On);if(fi){const Ai=(0,rn.et)(fi).op;if(["navigation","pageload"].includes(Ai))return void(We&&w.vF.warn(`[Tracing] Did not create ${fn} span because a pageload or navigation span is in progress.`))}Wt&&(Wt.setAttribute(Nn.fs,"interactionInterrupted"),Wt.end(),Wt=void 0),Me.name?Wt=pc({name:Me.name,op:fn,attributes:{[Nn.i_]:Me.source||"url"}},{idleTimeout:Ee,finalTimeout:me,childSpanTimeout:Ke}):We&&w.vF.warn(`[Tracing] Did not create ${fn} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(fn,On,fi,pn),me&&function Vo(Ee){const me=({entries:Ke})=>{const Me=(0,rn.Bk)(),Wt=Me&&(0,rn.zU)(Me);Ke.forEach(en=>{if(!(0,as.tC)(en)||!Wt)return;const fn=en.interactionId;if(null!=fn&&!Vl.has(fn)){if(fo.length>10){const On=fo.shift();Vl.delete(On)}fo.push(fn),Vl.set(fn,Wt)}})};(0,as.wv)("event",me),(0,as.wv)("first-input",me)}(),zr({traceFetch:Di,traceXHR:Bi,tracePropagationTargets:yo.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:Kr,enableHTTPTimings:gs})}}};function wh(Ee,me){(0,A.rm)().setPropagationContext((0,bu.J)()),(0,A.o5)().setPropagationContext((0,bu.J)()),Ee.emit("startNavigationSpan",me),(0,A.o5)().setTransactionName(me.name);const Ke=(0,rn.Bk)();return"navigation"===(Ke&&(0,rn.et)(Ke).op)?Ke:void 0}function Rl(Ee){const me=(0,et.NX)(`meta[name=${Ee}]`);return me?me.getAttribute("content"):void 0}var Wc=_(7404),pl=_(6443),So=_(9805),gc=_(2672),iu=_(8627),ru=_(6e3);const Gu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Eh(Ee){const me={defaultIntegrations:[J(),oe(),ds(),Mr(),oa(),Be(),Lo()],...Ee};return pt(me,"angular"),function so(){const me=Wc.xvI&&Wc.xvI.major?parseInt(Wc.xvI.major,10):void 0;me&&(me<14&&Gu&&w.vF.warn(`This Sentry SDK does not officially support Angular ${me}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),(0,d.o)("angular",{version:me}))}(),H(me)}const G=typeof Zone<"u"&&Zone.root&&Zone.root.run;function ke(Ee){return G?Zone.root.run(Ee):Ee()}function ht(Ee){if(Ee instanceof Error)return!0;if(null===Ee||"object"!=typeof Ee)return!1;const me=Ee;return(0,ut.Kg)(me.name)&&(0,ut.Kg)(me.message)&&(void 0===me.stack||(0,ut.Kg)(me.stack))}let tr,Lt=(()=>{class Ee{constructor(Ke){this._options={logErrors:!0,...Ke}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(Ke){const Me=this._extractError(Ke)||"Handled unknown error",Wt=ke(()=>d.Cp(Me,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(Me),this._options.showDialog){const en=A.KU();en&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=en.on("afterSendEvent",fn=>{!fn.type&&fn.event_id&&ke(()=>{le({...this._options.dialogOptions,eventId:fn.event_id})})}):en||ke(()=>{le({...this._options.dialogOptions,eventId:Wt})})}}_extractError(Ke){if(this._options.extractor){const Me=this._defaultExtractor.bind(this);return this._options.extractor(Ke,Me)}return this._defaultExtractor(Ke)}_defaultExtractor(Ke){const Me=function fe(Ee){return Ee&&Ee.ngOriginalError?Ee.ngOriginalError:Ee}(Ke);return Me instanceof pl.yz?function Ie(Ee){return ht(Ee.error)?Ee.error:typeof ErrorEvent<"u"&&Ee.error instanceof ErrorEvent&&Ee.error.message?Ee.error.message:"string"==typeof Ee.error?`Server returned code ${Ee.status} with body "${Ee.error}"`:Ee.message}(Me):"string"==typeof Me||ht(Me)?Me:null}}return Ee.\u0275fac=function(Ke){return new(Ke||Ee)(Wc.KVO("errorHandlerOptions"))},Ee.\u0275prov=Wc.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();function un(Ee){return new Lt(Ee)}function yr(Ee={}){return!1!==Ee.instrumentNavigation&&(tr=!0),Ou({...Ee,instrumentNavigation:!1})}let No=(()=>{class Ee{constructor(Ke){this._router=Ke,this.navStart$=this._router.events.pipe((0,iu.p)(Me=>Me instanceof So.Z),(0,ru.M)(Me=>{if(!tr)return void(Gu&&w.vF.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const Wt=(0,A.KU)(),en=function Jn(Ee){return Ee.split(/[?#]/,1)[0]}(Me.url);return Wt?(this._isPageloadOngoing()?this._pageloadOngoing=!1:ke(()=>{wh(Wt,{name:en,attributes:{[Nn.JD]:"auto.navigation.angular",[Nn.i_]:"url"}})}),void(this._routingSpan=ke(()=>Ii({name:`${Me.url}`,op:"ui.angular.routing",attributes:{[Nn.JD]:"auto.ui.angular",[Nn.i_]:"url",url:en,...Me.navigationTrigger&&{navigationTrigger:Me.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,iu.p)(Me=>Me instanceof So.gx),(0,ru.M)(Me=>{const Wt=function su(Ee){const me=[];let Ke=Ee&&Ee.firstChild;for(;Ke;){const Wt=Ke&&Ke.routeConfig&&Ke.routeConfig.path;if(null==Wt)break;me.push(Wt),Ke=Ke.firstChild}const Me=me.filter(Wt=>Wt).join("/");return Me?`/${Me}/`:"/"}(Me.state.root);Wt&&(0,A.o5)().setTransactionName(Wt);const en=(0,rn.Bk)();!function Rr(Ee,me){const Ke=me&&(0,rn.et)(me).data||{};me&&"url"===Ke[Nn.i_]&&(me.updateName(Ee),me.setAttribute(Nn.i_,"route"),me.setAttribute(Nn.JD,`auto.${(0,rn.et)(me).op}.angular`))}(Wt,en&&(0,rn.zU)(en))})),this.navEnd$=this._router.events.pipe((0,iu.p)(Me=>Me instanceof So.wF||Me instanceof So.j5||Me instanceof So.L6),(0,ru.M)(()=>{this._routingSpan&&(ke(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new gc.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const Ke=(0,rn.Bk)();if(!Ke)return this._pageloadOngoing=!1,!1;const Me=(0,rn.zU)(Ke);return this._pageloadOngoing="pageload"===(0,rn.et)(Me).op,this._pageloadOngoing}}return Ee.\u0275fac=function(Ke){return new(Ke||Ee)(Wc.KVO(So.Ix))},Ee.\u0275prov=Wc.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},9868:(hn,Re,_)=>{"use strict";_.d(Re,{h:()=>M});var d=_(2150),A=_(1362),w=_(2031),D=_(1174);class I{constructor(U,F){let J,ue;J=U||new D.H,ue=F||new D.H,this._stack=[{scope:J}],this._isolationScope=ue}withScope(U){const F=this._pushScope();let J;try{J=U(F)}catch(ue){throw this._popScope(),ue}return(0,A.Qg)(J)?J.then(ue=>(this._popScope(),ue),ue=>{throw this._popScope(),ue}):(this._popScope(),J)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const U=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:U}),U}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function E(){const L=(0,d.E)(),U=(0,d.S)(L);return U.stack=U.stack||new I(function C(){return(0,w.B)("defaultCurrentScope",()=>new D.H)}(),function S(){return(0,w.B)("defaultIsolationScope",()=>new D.H)}())}function y(L){return E().withScope(L)}function x(L,U){const F=E();return F.withScope(()=>(F.getStackTop().scope=L,U(L)))}function $(L){return E().withScope(()=>L(E().getIsolationScope()))}function M(L){const U=(0,d.S)(L);return U.acs?U.acs:function R(){return{withIsolationScope:$,withScope:y,withSetScope:x,withSetIsolationScope:(L,U)=>$(U),getCurrentScope:()=>E().getScope(),getIsolationScope:()=>E().getIsolationScope()}}()}},7376:(hn,Re,_)=>{"use strict";_.d(Re,{Z:()=>C});var d=_(8423),A=_(1205),w=_(2849);const D=100;function C(S,I){const E=(0,w.KU)(),y=(0,w.rm)();if(!E)return;const{beforeBreadcrumb:x=null,maxBreadcrumbs:$=D}=E.getOptions();if($<=0)return;const O={timestamp:(0,d.lu)(),...S},M=x?(0,A.pq)(()=>x(O,I)):O;null!==M&&(E.emit&&E.emit("beforeAddBreadcrumb",M,I),y.addBreadcrumb(M,$))}},2150:(hn,Re,_)=>{"use strict";_.d(Re,{E:()=>w,S:()=>D});var d=_(2031),A=_(3408);function w(){return D(d.O),d.O}function D(C){const S=C.__SENTRY__=C.__SENTRY__||{};return S.version=S.version||A.M,S[A.M]=S[A.M]||{}}},7063:(hn,Re,_)=>{"use strict";_.d(Re,{U:()=>d});const d="production"},2849:(hn,Re,_)=>{"use strict";_.d(Re,{KU:()=>x,m6:()=>I,o5:()=>C,rm:()=>S,v4:()=>E});var d=_(2031),A=_(9868),w=_(2150),D=_(1174);function C(){const $=(0,w.E)();return(0,A.h)($).getCurrentScope()}function S(){const $=(0,w.E)();return(0,A.h)($).getIsolationScope()}function I(){return(0,d.B)("globalScope",()=>new D.H)}function E(...$){const R=(0,w.E)(),O=(0,A.h)(R);if(2===$.length){const[M,L]=$;return M?O.withSetScope(M,L):O.withScope(L)}return O.withScope($[0])}function x(){return C().getClient()}},1772:(hn,Re,_)=>{"use strict";_.d(Re,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},1229:(hn,Re,_)=>{"use strict";_.d(Re,{Cp:()=>S,J0:()=>se,J5:()=>q,Q:()=>L,SA:()=>X,o:()=>y,r:()=>E});var d=_(2031),A=_(7063),w=_(2849),D=_(898),C=_(1995);function S(Ae,Xe){return(0,w.o5)().captureException(Ae,(0,C.li)(Xe))}function E(Ae,Xe){return(0,w.o5)().captureEvent(Ae,Xe)}function y(Ae,Xe){(0,w.rm)().setContext(Ae,Xe)}function L(){return(0,w.rm)().lastEventId()}function X(Ae){(0,w.rm)().addEventProcessor(Ae)}function se(Ae){const Xe=(0,w.KU)(),yt=(0,w.rm)(),Je=(0,w.o5)(),{release:je,environment:K=A.U}=Xe&&Xe.getOptions()||{},{userAgent:oe}=d.O.navigator||{},ge=(0,D.fj)({release:je,environment:K,user:Je.getUser()||yt.getUser(),...oe&&{userAgent:oe},...Ae}),ye=yt.getSession();return ye&&"ok"===ye.status&&(0,D.qO)(ye,{status:"exited"}),W(),yt.setSession(ge),Je.setSession(ge),ge}function W(){const Ae=(0,w.rm)(),Xe=(0,w.o5)(),yt=Xe.getSession()||Ae.getSession();yt&&(0,D.Vu)(yt),xe(),Ae.setSession(),Xe.setSession()}function xe(){const Ae=(0,w.rm)(),Xe=(0,w.o5)(),yt=(0,w.KU)(),Je=Xe.getSession()||Ae.getSession();Je&&yt&&yt.captureSession(Je)}function q(Ae=!1){Ae?W():xe()}},3395:(hn,Re,_)=>{"use strict";_.d(Re,{g:()=>w});var d=_(7593);const A="_sentryMetrics";function w(C){const S=C[A];if(!S)return;const I={};for(const[,[E,y]]of S)(I[E]||(I[E]=[])).push((0,d.Ce)(y));return I}},1174:(hn,Re,_)=>{"use strict";_.d(Re,{H:()=>x});var d=_(1475),A=_(1362),w=_(8423),D=_(1582),C=_(1205),S=_(898),I=_(2855);class y{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=(0,d.J)()}clone(){const R=new y;return R._breadcrumbs=[...this._breadcrumbs],R._tags={...this._tags},R._extra={...this._extra},R._contexts={...this._contexts},R._user=this._user,R._level=this._level,R._session=this._session,R._transactionName=this._transactionName,R._fingerprint=this._fingerprint,R._eventProcessors=[...this._eventProcessors],R._requestSession=this._requestSession,R._attachments=[...this._attachments],R._sdkProcessingMetadata={...this._sdkProcessingMetadata},R._propagationContext={...this._propagationContext},R._client=this._client,R._lastEventId=this._lastEventId,(0,I.r)(R,(0,I.f)(this)),R}setClient(R){this._client=R}setLastEventId(R){this._lastEventId=R}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(R){this._scopeListeners.push(R)}addEventProcessor(R){return this._eventProcessors.push(R),this}setUser(R){return this._user=R||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,S.qO)(this._session,{user:R}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(R){return this._requestSession=R,this}setTags(R){return this._tags={...this._tags,...R},this._notifyScopeListeners(),this}setTag(R,O){return this._tags={...this._tags,[R]:O},this._notifyScopeListeners(),this}setExtras(R){return this._extra={...this._extra,...R},this._notifyScopeListeners(),this}setExtra(R,O){return this._extra={...this._extra,[R]:O},this._notifyScopeListeners(),this}setFingerprint(R){return this._fingerprint=R,this._notifyScopeListeners(),this}setLevel(R){return this._level=R,this._notifyScopeListeners(),this}setTransactionName(R){return this._transactionName=R,this._notifyScopeListeners(),this}setContext(R,O){return null===O?delete this._contexts[R]:this._contexts[R]=O,this._notifyScopeListeners(),this}setSession(R){return R?this._session=R:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(R){if(!R)return this;const O="function"==typeof R?R(this):R,[M,L]=O instanceof x?[O.getScopeData(),O.getRequestSession()]:(0,A.Qd)(O)?[R,R.requestSession]:[],{tags:U,extra:F,user:J,contexts:ue,level:ce,fingerprint:re=[],propagationContext:be}=M||{};return this._tags={...this._tags,...U},this._extra={...this._extra,...F},this._contexts={...this._contexts,...ue},J&&Object.keys(J).length&&(this._user=J),ce&&(this._level=ce),re.length&&(this._fingerprint=re),be&&(this._propagationContext=be),L&&(this._requestSession=L),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,I.r)(this,void 0),this._attachments=[],this._propagationContext=(0,d.J)(),this._notifyScopeListeners(),this}addBreadcrumb(R,O){const M="number"==typeof O?O:100;if(M<=0)return this;const L={timestamp:(0,w.lu)(),...R},U=this._breadcrumbs;return U.push(L),this._breadcrumbs=U.length>M?U.slice(-M):U,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(R){return this._attachments.push(R),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,I.f)(this)}}setSDKProcessingMetadata(R){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...R},this}setPropagationContext(R){return this._propagationContext=R,this}getPropagationContext(){return this._propagationContext}captureException(R,O){const M=O&&O.event_id?O.event_id:(0,D.eJ)();if(!this._client)return C.vF.warn("No client configured on scope - will not capture exception!"),M;const L=new Error("Sentry syntheticException");return this._client.captureException(R,{originalException:R,syntheticException:L,...O,event_id:M},this),M}captureMessage(R,O,M){const L=M&&M.event_id?M.event_id:(0,D.eJ)();if(!this._client)return C.vF.warn("No client configured on scope - will not capture message!"),L;const U=new Error(R);return this._client.captureMessage(R,O,{originalException:R,syntheticException:U,...M,event_id:L},this),L}captureEvent(R,O){const M=O&&O.event_id?O.event_id:(0,D.eJ)();return this._client?(this._client.captureEvent(R,{...O,event_id:M},this),M):(C.vF.warn("No client configured on scope - will not capture event!"),M)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(R=>{R(this)}),this._notifyingListeners=!1)}}const x=y},4541:(hn,Re,_)=>{"use strict";_.d(Re,{E1:()=>E,JD:()=>D,Sn:()=>S,fs:()=>C,i_:()=>d,jG:()=>y,sy:()=>A,uT:()=>w,xc:()=>I});const d="sentry.source",A="sentry.sample_rate",w="sentry.op",D="sentry.origin",C="sentry.idle_span_finish_reason",S="sentry.measurement_unit",I="sentry.measurement_value",E="sentry.profile_id",y="sentry.exclusive_time"},898:(hn,Re,_)=>{"use strict";_.d(Re,{Vu:()=>S,fj:()=>D,qO:()=>C});var d=_(8423),A=_(1582),w=_(7593);function D(E){const y=(0,d.zf)(),x={sid:(0,A.eJ)(),init:!0,timestamp:y,started:y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function I(E){return(0,w.Ce)({sid:`${E.sid}`,init:E.init,started:new Date(1e3*E.started).toISOString(),timestamp:new Date(1e3*E.timestamp).toISOString(),status:E.status,errors:E.errors,did:"number"==typeof E.did||"string"==typeof E.did?`${E.did}`:void 0,duration:E.duration,abnormal_mechanism:E.abnormal_mechanism,attrs:{release:E.release,environment:E.environment,ip_address:E.ipAddress,user_agent:E.userAgent}})}(x)};return E&&C(x,E),x}function C(E,y={}){if(y.user&&(!E.ipAddress&&y.user.ip_address&&(E.ipAddress=y.user.ip_address),!E.did&&!y.did&&(E.did=y.user.id||y.user.email||y.user.username)),E.timestamp=y.timestamp||(0,d.zf)(),y.abnormal_mechanism&&(E.abnormal_mechanism=y.abnormal_mechanism),y.ignoreDuration&&(E.ignoreDuration=y.ignoreDuration),y.sid&&(E.sid=32===y.sid.length?y.sid:(0,A.eJ)()),void 0!==y.init&&(E.init=y.init),!E.did&&y.did&&(E.did=`${y.did}`),"number"==typeof y.started&&(E.started=y.started),E.ignoreDuration)E.duration=void 0;else if("number"==typeof y.duration)E.duration=y.duration;else{const x=E.timestamp-E.started;E.duration=x>=0?x:0}y.release&&(E.release=y.release),y.environment&&(E.environment=y.environment),!E.ipAddress&&y.ipAddress&&(E.ipAddress=y.ipAddress),!E.userAgent&&y.userAgent&&(E.userAgent=y.userAgent),"number"==typeof y.errors&&(E.errors=y.errors),y.status&&(E.status=y.status)}function S(E,y){let x={};y?x={status:y}:"ok"===E.status&&(x={status:"exited"}),C(E,x)}},8492:(hn,Re,_)=>{"use strict";_.d(Re,{LZ:()=>E,k1:()=>x,lF:()=>y});var d=_(7593),A=_(6570),w=_(7063),D=_(2849),C=_(4541),S=_(8165);const I="_frozenDsc";function E(R,O){(0,d.my)(R,I,O)}function y(R,O){const M=O.getOptions(),{publicKey:L}=O.getDsn()||{},U=(0,d.Ce)({environment:M.environment||w.U,release:M.release,public_key:L,trace_id:R});return O.emit("createDsc",U),U}function x(R){const O=(0,D.KU)();if(!O)return{};const M=y((0,S.et)(R).trace_id||"",O),L=(0,S.zU)(R),U=L[I];if(U)return U;const F=L.spanContext().traceState,J=F&&F.get("sentry.dsc"),ue=J&&(0,A.yD)(J);if(ue)return ue;const ce=(0,S.et)(L),re=ce.data||{},be=re[C.sy];null!=be&&(M.sample_rate=`${be}`);const X=ce.description;return"url"!==re[C.i_]&&X&&(M.transaction=X),M.sampled=String((0,S.pK)(L)),O.emit("createDsc",M,L),M}},5989:(hn,Re,_)=>{"use strict";_.d(Re,{F3:()=>A,N8:()=>C,TJ:()=>w,a3:()=>d});const d=0,A=1,w=2;function C(S,I){S.setAttribute("http.response.status_code",I);const E=function D(S){if(S<400&&S>=100)return{code:A};if(S>=400&&S<500)switch(S){case 401:return{code:w,message:"unauthenticated"};case 403:return{code:w,message:"permission_denied"};case 404:return{code:w,message:"not_found"};case 409:return{code:w,message:"already_exists"};case 413:return{code:w,message:"failed_precondition"};case 429:return{code:w,message:"resource_exhausted"};case 499:return{code:w,message:"cancelled"};default:return{code:w,message:"invalid_argument"}}if(S>=500&&S<600)switch(S){case 501:return{code:w,message:"unimplemented"};case 503:return{code:w,message:"unavailable"};case 504:return{code:w,message:"deadline_exceeded"};default:return{code:w,message:"internal_error"}}return{code:w,message:"unknown_error"}}(I);"unknown_error"!==E.message&&S.setStatus(E)}},4707:(hn,Re,_)=>{"use strict";_.d(Re,{i:()=>w});var d=_(1205),A=_(1772);function w(D){if("boolean"==typeof D)return Number(D);const C="string"==typeof D?parseFloat(D):D;if(!("number"!=typeof C||isNaN(C)||C<0||C>1))return C;A.T&&d.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(D)} of type ${JSON.stringify(typeof D)}.`)}},1995:(hn,Re,_)=>{"use strict";_.d(Re,{li:()=>je,mG:()=>se});var d=_(1582),A=_(8423),w=_(6851),D=_(2031),C=_(6362),S=_(7063),I=_(2849),E=_(5612),y=_(1205),x=_(1362),$=_(1772);function R(ye,Ne,Be,Qe=0){return new E.T2((Pt,Ce)=>{const Qt=ye[Qe];if(null===Ne||"function"!=typeof Qt)Pt(Ne);else{const Vt=Qt({...Ne},Be);$.T&&Qt.id&&null===Vt&&y.vF.log(`Event processor "${Qt.id}" dropped event`),(0,x.Qg)(Vt)?Vt.then(Tt=>R(ye,Tt,Be,Qe+1).then(Pt)).then(null,Ce):R(ye,Vt,Be,Qe+1).then(Pt).then(null,Ce)}})}var O=_(1174),M=_(7593),L=_(8492),U=_(8165);function J(ye,Ne){const{extra:Be,tags:Qe,user:Pt,contexts:Ce,level:Qt,sdkProcessingMetadata:Vt,breadcrumbs:Tt,fingerprint:Ot,eventProcessors:ft,attachments:Oe,propagationContext:Ye,transactionName:vt,span:It}=Ne;ue(ye,"extra",Be),ue(ye,"tags",Qe),ue(ye,"user",Pt),ue(ye,"contexts",Ce),ue(ye,"sdkProcessingMetadata",Vt),Qt&&(ye.level=Qt),vt&&(ye.transactionName=vt),It&&(ye.span=It),Tt.length&&(ye.breadcrumbs=[...ye.breadcrumbs,...Tt]),Ot.length&&(ye.fingerprint=[...ye.fingerprint,...Ot]),ft.length&&(ye.eventProcessors=[...ye.eventProcessors,...ft]),Oe.length&&(ye.attachments=[...ye.attachments,...Oe]),ye.propagationContext={...ye.propagationContext,...Ye}}function ue(ye,Ne,Be){if(Be&&Object.keys(Be).length){ye[Ne]={...ye[Ne]};for(const Qe in Be)Object.prototype.hasOwnProperty.call(Be,Qe)&&(ye[Ne][Qe]=Be[Qe])}}function se(ye,Ne,Be,Qe,Pt,Ce){const{normalizeDepth:Qt=3,normalizeMaxBreadth:Vt=1e3}=ye,Tt={...Ne,event_id:Ne.event_id||Be.event_id||(0,d.eJ)(),timestamp:Ne.timestamp||(0,A.lu)()},Ot=Be.integrations||ye.integrations.map(ot=>ot.name);(function W(ye,Ne){const{environment:Be,release:Qe,dist:Pt,maxValueLength:Ce=250}=Ne;"environment"in ye||(ye.environment="environment"in Ne?Be:S.U),void 0===ye.release&&void 0!==Qe&&(ye.release=Qe),void 0===ye.dist&&void 0!==Pt&&(ye.dist=Pt),ye.message&&(ye.message=(0,w.xv)(ye.message,Ce));const Qt=ye.exception&&ye.exception.values&&ye.exception.values[0];Qt&&Qt.value&&(Qt.value=(0,w.xv)(Qt.value,Ce));const Vt=ye.request;Vt&&Vt.url&&(Vt.url=(0,w.xv)(Vt.url,Ce))})(Tt,ye),function Xe(ye,Ne){Ne.length>0&&(ye.sdk=ye.sdk||{},ye.sdk.integrations=[...ye.sdk.integrations||[],...Ne])}(Tt,Ot),Pt&&Pt.emit("applyFrameMetadata",Ne),void 0===Ne.type&&function q(ye,Ne){const Be=D.O._sentryDebugIds;if(!Be)return;let Qe;const Pt=xe.get(Ne);Pt?Qe=Pt:(Qe=new Map,xe.set(Ne,Qe));const Ce=Object.entries(Be).reduce((Qt,[Vt,Tt])=>{let Ot;const ft=Qe.get(Vt);ft?Ot=ft:(Ot=Ne(Vt),Qe.set(Vt,Ot));for(let Oe=Ot.length-1;Oe>=0;Oe--){const Ye=Ot[Oe];if(Ye.filename){Qt[Ye.filename]=Tt;break}}return Qt},{});try{ye.exception.values.forEach(Qt=>{Qt.stacktrace.frames.forEach(Vt=>{Vt.filename&&(Vt.debug_id=Ce[Vt.filename])})})}catch{}}(Tt,ye.stackParser);const ft=function Je(ye,Ne){if(!Ne)return ye;const Be=ye?ye.clone():new O.H;return Be.update(Ne),Be}(Qe,Be.captureContext);Be.mechanism&&(0,d.M6)(Tt,Be.mechanism);const Oe=Pt?Pt.getEventProcessors():[],Ye=(0,I.m6)().getScopeData();Ce&&J(Ye,Ce.getScopeData()),ft&&J(Ye,ft.getScopeData());const vt=[...Be.attachments||[],...Ye.attachments];return vt.length&&(Be.attachments=vt),function F(ye,Ne){const{fingerprint:Be,span:Qe,breadcrumbs:Pt,sdkProcessingMetadata:Ce}=Ne;(function ce(ye,Ne){const{extra:Be,tags:Qe,user:Pt,contexts:Ce,level:Qt,transactionName:Vt}=Ne,Tt=(0,M.Ce)(Be);Tt&&Object.keys(Tt).length&&(ye.extra={...Tt,...ye.extra});const Ot=(0,M.Ce)(Qe);Ot&&Object.keys(Ot).length&&(ye.tags={...Ot,...ye.tags});const ft=(0,M.Ce)(Pt);ft&&Object.keys(ft).length&&(ye.user={...ft,...ye.user});const Oe=(0,M.Ce)(Ce);Oe&&Object.keys(Oe).length&&(ye.contexts={...Oe,...ye.contexts}),Qt&&(ye.level=Qt),Vt&&"transaction"!==ye.type&&(ye.transaction=Vt)})(ye,Ne),Qe&&function j(ye,Ne){ye.contexts={trace:(0,U.kX)(Ne),...ye.contexts},ye.sdkProcessingMetadata={dynamicSamplingContext:(0,L.k1)(Ne),...ye.sdkProcessingMetadata};const Be=(0,U.zU)(Ne),Qe=(0,U.et)(Be).description;Qe&&!ye.transaction&&"transaction"===ye.type&&(ye.transaction=Qe)}(ye,Qe),function X(ye,Ne){ye.fingerprint=ye.fingerprint?(0,d.k9)(ye.fingerprint):[],Ne&&(ye.fingerprint=ye.fingerprint.concat(Ne)),ye.fingerprint&&!ye.fingerprint.length&&delete ye.fingerprint}(ye,Be),function re(ye,Ne){const Be=[...ye.breadcrumbs||[],...Ne];ye.breadcrumbs=Be.length?Be:void 0}(ye,Pt),function be(ye,Ne){ye.sdkProcessingMetadata={...ye.sdkProcessingMetadata,...Ne}}(ye,Ce)}(Tt,Ye),R([...Oe,...Ye.eventProcessors],Tt,Be).then(ot=>(ot&&function Ae(ye){const Ne={};try{ye.exception.values.forEach(Qe=>{Qe.stacktrace.frames.forEach(Pt=>{Pt.debug_id&&(Pt.abs_path?Ne[Pt.abs_path]=Pt.debug_id:Pt.filename&&(Ne[Pt.filename]=Pt.debug_id),delete Pt.debug_id)})})}catch{}if(0===Object.keys(Ne).length)return;ye.debug_meta=ye.debug_meta||{},ye.debug_meta.images=ye.debug_meta.images||[];const Be=ye.debug_meta.images;Object.entries(Ne).forEach(([Qe,Pt])=>{Be.push({type:"sourcemap",code_file:Qe,debug_id:Pt})})}(ot),"number"==typeof Qt&&Qt>0?function yt(ye,Ne,Be){if(!ye)return null;const Qe={...ye,...ye.breadcrumbs&&{breadcrumbs:ye.breadcrumbs.map(Pt=>({...Pt,...Pt.data&&{data:(0,C.S8)(Pt.data,Ne,Be)}}))},...ye.user&&{user:(0,C.S8)(ye.user,Ne,Be)},...ye.contexts&&{contexts:(0,C.S8)(ye.contexts,Ne,Be)},...ye.extra&&{extra:(0,C.S8)(ye.extra,Ne,Be)}};return ye.contexts&&ye.contexts.trace&&Qe.contexts&&(Qe.contexts.trace=ye.contexts.trace,ye.contexts.trace.data&&(Qe.contexts.trace.data=(0,C.S8)(ye.contexts.trace.data,Ne,Be))),ye.spans&&(Qe.spans=ye.spans.map(Pt=>({...Pt,...Pt.data&&{data:(0,C.S8)(Pt.data,Ne,Be)}}))),Qe}(ot,Qt,Vt):ot))}const xe=new WeakMap;function je(ye){if(ye)return function K(ye){return ye instanceof O.H||"function"==typeof ye}(ye)||function ge(ye){return Object.keys(ye).some(Ne=>oe.includes(Ne))}(ye)?{captureContext:ye}:ye}const oe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2855:(hn,Re,_)=>{"use strict";_.d(Re,{f:()=>D,r:()=>w});var d=_(7593);const A="_sentrySpan";function w(C,S){S?(0,d.my)(C,A,S):delete C[A]}function D(C){return C[A]}},8165:(hn,Re,_)=>{"use strict";_.d(Re,{Bk:()=>Ae,CC:()=>$,Ck:()=>O,Hu:()=>se,Qh:()=>L,VS:()=>W,aO:()=>R,cI:()=>U,et:()=>J,kX:()=>M,pK:()=>re,xO:()=>xe,yW:()=>be,zU:()=>q});var d=_(7593),A=_(3902),w=_(8423),D=_(9868),C=_(2150),S=_(2849),I=_(3395),E=_(4541),y=_(5989),x=_(2855);const $=0,R=1;function O(yt){const{spanId:Je,traceId:je}=yt.spanContext(),{data:K,op:oe,parent_span_id:ge,status:ye,origin:Ne}=J(yt);return(0,d.Ce)({parent_span_id:ge,span_id:Je,trace_id:je,data:K,op:oe,status:ye,origin:Ne})}function M(yt){const{spanId:Je,traceId:je}=yt.spanContext(),{parent_span_id:K}=J(yt);return(0,d.Ce)({parent_span_id:K,span_id:Je,trace_id:je})}function L(yt){const{traceId:Je,spanId:je}=yt.spanContext(),K=re(yt);return(0,A.TC)(Je,je,K)}function U(yt){return"number"==typeof yt?F(yt):Array.isArray(yt)?yt[0]+yt[1]/1e9:yt instanceof Date?F(yt.getTime()):(0,w.zf)()}function F(yt){return yt>9999999999?yt/1e3:yt}function J(yt){if(function ce(yt){return"function"==typeof yt.getSpanJSON}(yt))return yt.getSpanJSON();try{const{spanId:Je,traceId:je}=yt.spanContext();if(function ue(yt){return!!(yt.attributes&&yt.startTime&&yt.name&&yt.endTime&&yt.status)}(yt)){const{attributes:K,startTime:oe,name:ge,endTime:ye,parentSpanId:Ne,status:Be}=yt;return(0,d.Ce)({span_id:Je,trace_id:je,data:K,description:ge,parent_span_id:Ne,start_timestamp:U(oe),timestamp:U(ye)||void 0,status:be(Be),op:K[E.uT],origin:K[E.JD],_metrics_summary:(0,I.g)(yt)})}return{span_id:Je,trace_id:je}}catch{return{}}}function re(yt){const{traceFlags:Je}=yt.spanContext();return Je===R}function be(yt){if(yt&&yt.code!==y.a3)return yt.code===y.F3?"ok":yt.message||"unknown_error"}const j="_sentryChildSpans",X="_sentryRootSpan";function se(yt,Je){(0,d.my)(Je,X,yt[X]||yt),yt[j]?yt[j].add(Je):(0,d.my)(yt,j,new Set([Je]))}function W(yt,Je){yt[j]&&yt[j].delete(Je)}function xe(yt){const Je=new Set;return function je(K){if(!Je.has(K)&&re(K)){Je.add(K);const oe=K[j]?Array.from(K[j]):[];for(const ge of oe)je(ge)}}(yt),Array.from(Je)}function q(yt){return yt[X]||yt}function Ae(){const yt=(0,C.E)(),Je=(0,D.h)(yt);return Je.getActiveSpan?Je.getActiveSpan():(0,x.f)((0,S.o5)())}},6570:(hn,Re,_)=>{"use strict";_.d(Re,{De:()=>y,hF:()=>D,yD:()=>E});var d=_(3506),A=_(1362),w=_(1205);const D="baggage",C="sentry-",S=/^sentry-/,I=8192;function E(O){const M=function x(O){if(O&&((0,A.Kg)(O)||Array.isArray(O)))return Array.isArray(O)?O.reduce((M,L)=>{const U=$(L);return Object.entries(U).forEach(([F,J])=>{M[F]=J}),M},{}):$(O)}(O);if(!M)return;const L=Object.entries(M).reduce((U,[F,J])=>(F.match(S)&&(U[F.slice(C.length)]=J),U),{});return Object.keys(L).length>0?L:void 0}function y(O){if(O)return function R(O){if(0!==Object.keys(O).length)return Object.entries(O).reduce((M,[L,U],F)=>{const J=`${encodeURIComponent(L)}=${encodeURIComponent(U)}`,ue=0===F?J:`${M},${J}`;return ue.length>I?(d.T&&w.vF.warn(`Not adding key: ${L} with val: ${U} to baggage header due to exceeding baggage size limits.`),M):ue},"")}(Object.entries(O).reduce((L,[U,F])=>(F&&(L[`${C}${U}`]=F),L),{}))}function $(O){return O.split(",").map(M=>M.split("=").map(L=>decodeURIComponent(L.trim()))).reduce((M,[L,U])=>(L&&U&&(M[L]=U),M),{})}},4440:(hn,Re,_)=>{"use strict";_.d(Re,{$N:()=>I,Hd:()=>C,NX:()=>E,xE:()=>y});var d=_(1362);const w=_(2031).O,D=80;function C(x,$={}){if(!x)return"<unknown>";try{let R=x;const O=5,M=[];let L=0,U=0;const F=" > ",J=F.length;let ue;const ce=Array.isArray($)?$:$.keyAttrs,re=!Array.isArray($)&&$.maxStringLength||D;for(;R&&L++<O&&(ue=S(R,ce),!("html"===ue||L>1&&U+M.length*J+ue.length>=re));)M.push(ue),U+=ue.length,R=R.parentNode;return M.reverse().join(F)}catch{return"<unknown>"}}function S(x,$){const R=x,O=[];if(!R||!R.tagName)return"";if(w.HTMLElement&&R instanceof HTMLElement&&R.dataset){if(R.dataset.sentryComponent)return R.dataset.sentryComponent;if(R.dataset.sentryElement)return R.dataset.sentryElement}O.push(R.tagName.toLowerCase());const M=$&&$.length?$.filter(U=>R.getAttribute(U)).map(U=>[U,R.getAttribute(U)]):null;if(M&&M.length)M.forEach(U=>{O.push(`[${U[0]}="${U[1]}"]`)});else{R.id&&O.push(`#${R.id}`);const U=R.className;if(U&&(0,d.Kg)(U)){const F=U.split(/\s+/);for(const J of F)O.push(`.${J}`)}}const L=["aria-label","type","name","title","alt"];for(const U of L){const F=R.getAttribute(U);F&&O.push(`[${U}="${F}"]`)}return O.join("")}function I(){try{return w.document.location.href}catch{return""}}function E(x){return w.document&&w.document.querySelector?w.document.querySelector(x):null}function y(x){if(!w.HTMLElement)return null;let $=x;for(let O=0;O<5;O++){if(!$)return null;if($ instanceof HTMLElement){if($.dataset.sentryComponent)return $.dataset.sentryComponent;if($.dataset.sentryElement)return $.dataset.sentryElement}$=$.parentNode}return null}},3506:(hn,Re,_)=>{"use strict";_.d(Re,{T:()=>d});const d=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},3977:(hn,Re,_)=>{"use strict";_.d(Re,{AD:()=>y,SB:()=>C});var d=_(3506),A=_(1205);const w=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function C(x,$=!1){const{host:R,path:O,pass:M,port:L,projectId:U,protocol:F,publicKey:J}=x;return`${F}://${J}${$&&M?`:${M}`:""}@${R}${L?`:${L}`:""}/${O&&`${O}/`}${U}`}function I(x){return{protocol:x.protocol,publicKey:x.publicKey||"",pass:x.pass||"",host:x.host,port:x.port||"",path:x.path||"",projectId:x.projectId}}function y(x){const $="string"==typeof x?function S(x){const $=w.exec(x);if(!$)return void(0,A.pq)(()=>{console.error(`Invalid Sentry Dsn: ${x}`)});const[R,O,M="",L="",U="",F=""]=$.slice(1);let J="",ue=F;const ce=ue.split("/");if(ce.length>1&&(J=ce.slice(0,-1).join("/"),ue=ce.pop()),ue){const re=ue.match(/^\d+/);re&&(ue=re[0])}return I({host:L,pass:M,path:J,projectId:ue,port:U,protocol:R,publicKey:O})}(x):I(x);if($&&function E(x){if(!d.T)return!0;const{port:$,projectId:R,protocol:O}=x;return!(["protocol","publicKey","host","projectId"].find(U=>!x[U]&&(A.vF.error(`Invalid Sentry Dsn: ${U} missing`),!0))||(R.match(/^\d+$/)?function D(x){return"http"===x||"https"===x}(O)?$&&isNaN(parseInt($,10))&&(A.vF.error(`Invalid Sentry Dsn: Invalid port ${$}`),1):(A.vF.error(`Invalid Sentry Dsn: Invalid protocol ${O}`),1):(A.vF.error(`Invalid Sentry Dsn: Invalid projectId ${R}`),1)))}($))return $}},679:(hn,Re,_)=>{"use strict";function d(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function A(){return"npm"}_.d(Re,{Z:()=>d,e:()=>A})},7138:(hn,Re,_)=>{"use strict";_.d(Re,{Cj:()=>J,W3:()=>S,bN:()=>$,bm:()=>L,h4:()=>C,n2:()=>ue,y5:()=>M,yH:()=>I,zk:()=>F});var d=_(3977),A=_(6362),w=_(7593),D=_(2031);function C(ce,re=[]){return[ce,re]}function S(ce,re){const[be,j]=ce;return[be,[...j,re]]}function I(ce,re){const be=ce[1];for(const j of be)if(re(j,j[0].type))return!0;return!1}function y(ce){return D.O.__SENTRY__&&D.O.__SENTRY__.encodePolyfill?D.O.__SENTRY__.encodePolyfill(ce):(new TextEncoder).encode(ce)}function $(ce){const[re,be]=ce;let j=JSON.stringify(re);function X(se){"string"==typeof j?j="string"==typeof se?j+se:[y(j),se]:j.push("string"==typeof se?y(se):se)}for(const se of be){const[W,xe]=se;if(X(`\n${JSON.stringify(W)}\n`),"string"==typeof xe||xe instanceof Uint8Array)X(xe);else{let q;try{q=JSON.stringify(xe)}catch{q=JSON.stringify((0,A.S8)(xe))}X(q)}}return"string"==typeof j?j:function R(ce){const re=ce.reduce((X,se)=>X+se.length,0),be=new Uint8Array(re);let j=0;for(const X of ce)be.set(X,j),j+=X.length;return be}(j)}function M(ce){return[{type:"span"},ce]}function L(ce){const re="string"==typeof ce.data?y(ce.data):ce.data;return[(0,w.Ce)({type:"attachment",length:re.length,filename:ce.filename,content_type:ce.contentType,attachment_type:ce.attachmentType}),re]}const U={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function F(ce){return U[ce]}function J(ce){if(!ce||!ce.sdk)return;const{name:re,version:be}=ce.sdk;return{name:re,version:be}}function ue(ce,re,be,j){const X=ce.sdkProcessingMetadata&&ce.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:ce.event_id,sent_at:(new Date).toISOString(),...re&&{sdk:re},...!!be&&j&&{dsn:(0,d.SB)(j)},...X&&{trace:(0,w.Ce)({...X})}}}},5027:(hn,Re,_)=>{"use strict";_.d(Re,{AS:()=>E,aj:()=>y,s5:()=>S});var d=_(3506),A=_(1205),w=_(3439);const D={},C={};function S(x,$){D[x]=D[x]||[],D[x].push($)}function E(x,$){C[x]||($(),C[x]=!0)}function y(x,$){const R=x&&D[x];if(R)for(const O of R)try{O($)}catch(M){d.T&&A.vF.error(`Error while triggering instrumentation handler.\nType: ${x}\nName: ${(0,w.qQ)(O)}\nError:`,M)}}},1362:(hn,Re,_)=>{"use strict";_.d(Re,{BD:()=>C,Kg:()=>I,L2:()=>F,NF:()=>E,Qd:()=>x,Qg:()=>M,T2:()=>D,W6:()=>S,bJ:()=>A,gd:()=>O,mE:()=>L,sO:()=>y,tH:()=>U,vq:()=>R,xH:()=>$});const d=Object.prototype.toString;function A(J){switch(d.call(J)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return U(J,Error)}}function w(J,ue){return d.call(J)===`[object ${ue}]`}function D(J){return w(J,"ErrorEvent")}function C(J){return w(J,"DOMError")}function S(J){return w(J,"DOMException")}function I(J){return w(J,"String")}function E(J){return"object"==typeof J&&null!==J&&"__sentry_template_string__"in J&&"__sentry_template_values__"in J}function y(J){return null===J||E(J)||"object"!=typeof J&&"function"!=typeof J}function x(J){return w(J,"Object")}function $(J){return typeof Event<"u"&&U(J,Event)}function R(J){return typeof Element<"u"&&U(J,Element)}function O(J){return w(J,"RegExp")}function M(J){return!(!J||!J.then||"function"!=typeof J.then)}function L(J){return x(J)&&"nativeEvent"in J&&"preventDefault"in J&&"stopPropagation"in J}function U(J,ue){try{return J instanceof ue}catch{return!1}}function F(J){return!("object"!=typeof J||null===J||!J.__isVue&&!J._isVue)}},1205:(hn,Re,_)=>{"use strict";_.d(Re,{Ow:()=>D,Z9:()=>C,pq:()=>S,vF:()=>E});var d=_(3506),A=_(2031);const D=["debug","info","warn","error","log","assert","trace"],C={};function S(y){if(!("console"in A.O))return y();const x=A.O.console,$={},R=Object.keys(C);R.forEach(O=>{const M=C[O];$[O]=x[O],x[O]=M});try{return y()}finally{R.forEach(O=>{x[O]=$[O]})}}const E=function I(){let y=!1;const x={enable:()=>{y=!0},disable:()=>{y=!1},isEnabled:()=>y};return D.forEach(d.T?$=>{x[$]=(...R)=>{y&&S(()=>{A.O.console[$](`Sentry Logger [${$}]:`,...R)})}}:$=>{x[$]=()=>{}}),x}()},1582:(hn,Re,_)=>{"use strict";_.d(Re,{$X:()=>C,GR:()=>R,M6:()=>I,eJ:()=>w,gO:()=>S,k9:()=>O});var d=_(7593),A=_(2031);function w(){const M=A.O,L=M.crypto||M.msCrypto;let U=()=>16*Math.random();try{if(L&&L.randomUUID)return L.randomUUID().replace(/-/g,"");L&&L.getRandomValues&&(U=()=>{const F=new Uint8Array(1);return L.getRandomValues(F),F[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,F=>(F^(15&U())>>F/4).toString(16))}function D(M){return M.exception&&M.exception.values?M.exception.values[0]:void 0}function C(M){const{message:L,event_id:U}=M;if(L)return L;const F=D(M);return F?F.type&&F.value?`${F.type}: ${F.value}`:F.type||F.value||U||"<unknown>":U||"<unknown>"}function S(M,L,U){const F=M.exception=M.exception||{},J=F.values=F.values||[],ue=J[0]=J[0]||{};ue.value||(ue.value=L||""),ue.type||(ue.type=U||"Error")}function I(M,L){const U=D(M);if(!U)return;const J=U.mechanism;if(U.mechanism={type:"generic",handled:!0,...J,...L},L&&"data"in L){const ue={...J&&J.data,...L.data};U.mechanism.data=ue}}function R(M){if(M&&M.__sentry_captured__)return!0;try{(0,d.my)(M,"__sentry_captured__",!0)}catch{}return!1}function O(M){return Array.isArray(M)?M:[M]}},6362:(hn,Re,_)=>{"use strict";_.d(Re,{S8:()=>C,cd:()=>S});var d=_(1362),w=_(7593),D=_(3439);function C(O,M=100,L=1/0){try{return I("",O,M,L)}catch(U){return{ERROR:`**non-serializable** (${U})`}}}function S(O,M=3,L=102400){const U=C(O,M);return function $(O){return function x(O){return~-encodeURI(O).split(/%..|./).length}(JSON.stringify(O))}(U)>L?S(O,M-1,L):U}function I(O,M,L=1/0,U=1/0,F=function A(){const O="function"==typeof WeakSet,M=O?new WeakSet:[];return[function L(F){if(O)return!!M.has(F)||(M.add(F),!1);for(let J=0;J<M.length;J++)if(M[J]===F)return!0;return M.push(F),!1},function U(F){if(O)M.delete(F);else for(let J=0;J<M.length;J++)if(M[J]===F){M.splice(J,1);break}}]}()){const[J,ue]=F;if(null==M||["number","boolean","string"].includes(typeof M)&&!Number.isNaN(M))return M;const ce=function E(O,M){try{if("domain"===O&&M&&"object"==typeof M&&M._events)return"[Domain]";if("domainEmitter"===O)return"[DomainEmitter]";if(typeof global<"u"&&M===global)return"[Global]";if(typeof window<"u"&&M===window)return"[Window]";if(typeof document<"u"&&M===document)return"[Document]";if((0,d.L2)(M))return"[VueViewModel]";if((0,d.mE)(M))return"[SyntheticEvent]";if("number"==typeof M&&M!=M)return"[NaN]";if("function"==typeof M)return`[Function: ${(0,D.qQ)(M)}]`;if("symbol"==typeof M)return`[${String(M)}]`;if("bigint"==typeof M)return`[BigInt: ${String(M)}]`;const L=function y(O){const M=Object.getPrototypeOf(O);return M?M.constructor.name:"null prototype"}(M);return/^HTML(\w*)Element$/.test(L)?`[HTMLElement: ${L}]`:`[object ${L}]`}catch(L){return`**non-serializable** (${L})`}}(O,M);if(!ce.startsWith("[object "))return ce;if(M.__sentry_skip_normalization__)return M;const re="number"==typeof M.__sentry_override_normalization_depth__?M.__sentry_override_normalization_depth__:L;if(0===re)return ce.replace("object ","");if(J(M))return"[Circular ~]";const be=M;if(be&&"function"==typeof be.toJSON)try{return I("",be.toJSON(),re-1,U,F)}catch{}const j=Array.isArray(M)?[]:{};let X=0;const se=(0,w.W4)(M);for(const W in se)if(Object.prototype.hasOwnProperty.call(se,W)){if(X>=U){j[W]="[MaxProperties ~]";break}j[W]=I(W,se[W],re-1,U,F),X++}return ue(M),j}},7593:(hn,Re,_)=>{"use strict";_.d(Re,{Ce:()=>L,GS:()=>S,HF:()=>M,W4:()=>$,my:()=>I,pO:()=>E,sp:()=>y,u4:()=>x});var d=_(4440),A=_(3506),w=_(1362),D=_(1205),C=_(6851);function S(ue,ce,re){if(!(ce in ue))return;const be=ue[ce],j=re(be);"function"==typeof j&&E(j,be),ue[ce]=j}function I(ue,ce,re){try{Object.defineProperty(ue,ce,{value:re,writable:!0,configurable:!0})}catch{A.T&&D.vF.log(`Failed to add non-enumerable property "${ce}" to object`,ue)}}function E(ue,ce){try{ue.prototype=ce.prototype=ce.prototype||{},I(ue,"__sentry_original__",ce)}catch{}}function y(ue){return ue.__sentry_original__}function x(ue){return Object.keys(ue).map(ce=>`${encodeURIComponent(ce)}=${encodeURIComponent(ue[ce])}`).join("&")}function $(ue){if((0,w.bJ)(ue))return{message:ue.message,name:ue.name,stack:ue.stack,...O(ue)};if((0,w.xH)(ue)){const ce={type:ue.type,target:R(ue.target),currentTarget:R(ue.currentTarget),...O(ue)};return typeof CustomEvent<"u"&&(0,w.tH)(ue,CustomEvent)&&(ce.detail=ue.detail),ce}return ue}function R(ue){try{return(0,w.vq)(ue)?(0,d.Hd)(ue):Object.prototype.toString.call(ue)}catch{return"<unknown>"}}function O(ue){if("object"==typeof ue&&null!==ue){const ce={};for(const re in ue)Object.prototype.hasOwnProperty.call(ue,re)&&(ce[re]=ue[re]);return ce}return{}}function M(ue,ce=40){const re=Object.keys($(ue));re.sort();const be=re[0];if(!be)return"[object has no keys]";if(be.length>=ce)return(0,C.xv)(be,ce);for(let j=re.length;j>0;j--){const X=re.slice(0,j).join(", ");if(!(X.length>ce))return j===re.length?X:(0,C.xv)(X,ce)}return""}function L(ue){return U(ue,new Map)}function U(ue,ce){if(function F(ue){if(!(0,w.Qd)(ue))return!1;try{const ce=Object.getPrototypeOf(ue).constructor.name;return!ce||"Object"===ce}catch{return!0}}(ue)){const re=ce.get(ue);if(void 0!==re)return re;const be={};ce.set(ue,be);for(const j of Object.keys(ue))typeof ue[j]<"u"&&(be[j]=U(ue[j],ce));return be}if(Array.isArray(ue)){const re=ce.get(ue);if(void 0!==re)return re;const be=[];return ce.set(ue,be),ue.forEach(j=>{be.push(U(j,ce))}),be}return ue}},1475:(hn,Re,_)=>{"use strict";_.d(Re,{J:()=>A});var d=_(1582);function A(){return{traceId:(0,d.eJ)(),spanId:(0,d.eJ)().substring(16)}}},1857:(hn,Re,_)=>{"use strict";_.d(Re,{Jz:()=>D,wq:()=>C});const d=6e4;function D(S,I,E=Date.now()){return function w(S,I){return S[I]||S.all||0}(S,I)>E}function C(S,{statusCode:I,headers:E},y=Date.now()){const x={...S},$=E&&E["x-sentry-rate-limits"],R=E&&E["retry-after"];if($)for(const O of $.trim().split(",")){const[M,L,,,U]=O.split(":",5),F=parseInt(M,10),J=1e3*(isNaN(F)?60:F);if(L)for(const ue of L.split(";"))"metric_bucket"===ue?(!U||U.split(";").includes("custom"))&&(x[ue]=y+J):x[ue]=y+J;else x.all=y+J}else R?x.all=y+function A(S,I=Date.now()){const E=parseInt(`${S}`,10);if(!isNaN(E))return 1e3*E;const y=Date.parse(`${S}`);return isNaN(y)?d:y-I}(R,y):429===I&&(x.all=y+6e4);return x}},3439:(hn,Re,_)=>{"use strict";_.d(Re,{RV:()=>$,gd:()=>C,qQ:()=>x,vk:()=>S,yF:()=>A});const d=50,A="?",w=/\(error: (.*)\)/,D=/captureMessage|captureException/;function C(...R){const O=R.sort((M,L)=>M[0]-L[0]).map(M=>M[1]);return(M,L=0,U=0)=>{const F=[],J=M.split("\n");for(let ue=L;ue<J.length;ue++){const ce=J[ue];if(ce.length>1024)continue;const re=w.test(ce)?ce.replace(w,"$1"):ce;if(!re.match(/\S*Error: /)){for(const be of O){const j=be(re);if(j){F.push(j);break}}if(F.length>=d+U)break}}return function I(R){if(!R.length)return[];const O=Array.from(R);return/sentryWrapped/.test(E(O).function||"")&&O.pop(),O.reverse(),D.test(E(O).function||"")&&(O.pop(),D.test(E(O).function||"")&&O.pop()),O.slice(0,d).map(M=>({...M,filename:M.filename||E(O).filename,function:M.function||A}))}(F.slice(U))}}function S(R){return Array.isArray(R)?C(...R):R}function E(R){return R[R.length-1]||{}}const y="<anonymous>";function x(R){try{return R&&"function"==typeof R&&R.name||y}catch{return y}}function $(R){const O=R.exception;if(O){const M=[];try{return O.values.forEach(L=>{L.stacktrace.frames&&M.push(...L.stacktrace.frames)}),M}catch{return}}}},6851:(hn,Re,_)=>{"use strict";_.d(Re,{Xr:()=>S,gt:()=>D,xv:()=>A});var d=_(1362);function A(I,E=0){return"string"!=typeof I||0===E||I.length<=E?I:`${I.slice(0,E)}...`}function D(I,E){if(!Array.isArray(I))return"";const y=[];for(let x=0;x<I.length;x++){const $=I[x];try{(0,d.L2)($)?y.push("[VueViewModel]"):y.push(String($))}catch{y.push("[value cannot be serialized]")}}return y.join(E)}function S(I,E=[],y=!1){return E.some(x=>function C(I,E,y=!1){return!!(0,d.Kg)(I)&&((0,d.gd)(E)?E.test(I):!!(0,d.Kg)(E)&&(y?I===E:I.includes(E)))}(I,x,y))}},774:(hn,Re,_)=>{"use strict";_.d(Re,{a3:()=>y,m7:()=>x,vm:()=>E});var d=_(3506),A=_(1205);const D=_(2031).O;function E(){if(!("fetch"in D))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function y(O){return O&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(O.toString())}function x(){if("string"==typeof EdgeRuntime)return!0;if(!E())return!1;if(y(D.fetch))return!0;let O=!1;const M=D.document;if(M&&"function"==typeof M.createElement)try{const L=M.createElement("iframe");L.hidden=!0,M.head.appendChild(L),L.contentWindow&&L.contentWindow.fetch&&(O=y(L.contentWindow.fetch)),M.head.removeChild(L)}catch(L){d.T&&A.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",L)}return O}},5612:(hn,Re,_)=>{"use strict";_.d(Re,{T2:()=>C,XW:()=>w,xg:()=>D});var A,S,d=_(1362);function w(S){return new C(I=>{I(S)})}function D(S){return new C((I,E)=>{E(S)})}(S=A||(A={}))[S.PENDING=0]="PENDING",S[S.RESOLVED=1]="RESOLVED",S[S.REJECTED=2]="REJECTED";class C{constructor(I){C.prototype.__init.call(this),C.prototype.__init2.call(this),C.prototype.__init3.call(this),C.prototype.__init4.call(this),this._state=A.PENDING,this._handlers=[];try{I(this._resolve,this._reject)}catch(E){this._reject(E)}}then(I,E){return new C((y,x)=>{this._handlers.push([!1,$=>{if(I)try{y(I($))}catch(R){x(R)}else y($)},$=>{if(E)try{y(E($))}catch(R){x(R)}else x($)}]),this._executeHandlers()})}catch(I){return this.then(E=>E,I)}finally(I){return new C((E,y)=>{let x,$;return this.then(R=>{$=!1,x=R,I&&I()},R=>{$=!0,x=R,I&&I()}).then(()=>{$?y(x):E(x)})})}__init(){this._resolve=I=>{this._setResult(A.RESOLVED,I)}}__init2(){this._reject=I=>{this._setResult(A.REJECTED,I)}}__init3(){this._setResult=(I,E)=>{if(this._state===A.PENDING){if((0,d.Qg)(E))return void E.then(this._resolve,this._reject);this._state=I,this._value=E,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===A.PENDING)return;const I=this._handlers.slice();this._handlers=[],I.forEach(E=>{E[0]||(this._state===A.RESOLVED&&E[1](this._value),this._state===A.REJECTED&&E[2](this._value),E[0]=!0)})}}}},8423:(hn,Re,_)=>{"use strict";_.d(Re,{k3:()=>I,lu:()=>w,zf:()=>C});var d=_(2031);const A=1e3;function w(){return Date.now()/A}const C=function D(){const{performance:E}=d.O;if(!E||!E.now)return w;const y=Date.now()-E.now(),x=null==E.timeOrigin?y:E.timeOrigin;return()=>(x+E.now())/A}();let S;const I=(()=>{const{performance:E}=d.O;if(!E||!E.now)return void(S="none");const y=36e5,x=E.now(),$=Date.now(),R=E.timeOrigin?Math.abs(E.timeOrigin+x-$):y,O=R<y,M=E.timing&&E.timing.navigationStart,U="number"==typeof M?Math.abs(M+x-$):y;return O||U<y?R<=U?(S="timeOrigin",E.timeOrigin):(S="navigationStart",M):(S="dateNow",$)})()},3902:(hn,Re,_)=>{"use strict";_.d(Re,{TC:()=>S,kM:()=>C});var d=_(6570),A=_(1582);const w=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function C(I,E){const y=function D(I){if(!I)return;const E=I.match(w);if(!E)return;let y;return"1"===E[3]?y=!0:"0"===E[3]&&(y=!1),{traceId:E[1],parentSampled:y,parentSpanId:E[2]}}(I),x=(0,d.yD)(E),{traceId:$,parentSpanId:R,parentSampled:O}=y||{};return y?{traceId:$||(0,A.eJ)(),parentSpanId:R||(0,A.eJ)().substring(16),spanId:(0,A.eJ)().substring(16),sampled:O,dsc:x||{}}:{traceId:$||(0,A.eJ)(),spanId:(0,A.eJ)().substring(16)}}function S(I=(0,A.eJ)(),E=(0,A.eJ)().substring(16),y){let x="";return void 0!==y&&(x=y?"-1":"-0"),`${I}-${E}${x}`}},3408:(hn,Re,_)=>{"use strict";_.d(Re,{M:()=>d});const d="8.20.0"},2031:(hn,Re,_)=>{"use strict";_.d(Re,{B:()=>w,O:()=>A});var d=_(3408);const A=globalThis;function w(D,C,S){const I=S||A,E=I.__SENTRY__=I.__SENTRY__||{},y=E[d.M]=E[d.M]||{};return y[D]||(y[D]=C())}},2789:(hn,Re,_)=>{"use strict";_.d(Re,{Zn:()=>at});const S={year:0,month:1,day:2,hour:3,minute:4,second:5},y={};function $(ot,Nt,Ut,wt,ut,dt,Z){const Pe=new Date(0);return Pe.setUTCFullYear(ot,Nt,Ut),Pe.setUTCHours(wt,ut,dt,Z),Pe}const R=36e5,O=6e4,M={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function F(ot,Nt){const Ut=function C(ot,Nt){const Ut=function x(ot){if(!y[ot]){const Nt=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));y[ot]="06/25/2014, 00:00:00"===Nt||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===Nt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:ot,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:ot,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return y[ot]}(Nt);return"formatToParts"in Ut?function I(ot,Nt){try{const Ut=ot.formatToParts(Nt),wt=[];for(let ut=0;ut<Ut.length;ut++){const dt=S[Ut[ut].type];void 0!==dt&&(wt[dt]=parseInt(Ut[ut].value,10))}return wt}catch(Ut){if(Ut instanceof RangeError)return[NaN];throw Ut}}(Ut,ot):function E(ot,Nt){const Ut=ot.format(Nt),wt=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Ut);return[parseInt(wt[3],10),parseInt(wt[1],10),parseInt(wt[2],10),parseInt(wt[4],10),parseInt(wt[5],10),parseInt(wt[6],10)]}(Ut,ot)}(ot,Nt),wt=$(Ut[0],Ut[1]-1,Ut[2],Ut[3]%24,Ut[4],Ut[5],0).getTime();let ut=ot.getTime();const dt=ut%1e3;return ut-=dt>=0?dt:1e3+dt,wt-ut}function ue(ot,Nt){return-23<=ot&&ot<=23&&(null==Nt||0<=Nt&&Nt<=59)}const ce={};function at(ot,Nt){return-function L(ot,Nt,Ut){if(!ot)return 0;let ut,dt,wt=M.timezoneZ.exec(ot);if(wt)return 0;if(wt=M.timezoneHH.exec(ot),wt)return ut=parseInt(wt[1],10),ue(ut)?-ut*R:NaN;if(wt=M.timezoneHHMM.exec(ot),wt){ut=parseInt(wt[2],10);const Z=parseInt(wt[3],10);return ue(ut,Z)?(dt=Math.abs(ut)*R+Z*O,"+"===wt[1]?-dt:dt):NaN}if(function re(ot){if(ce[ot])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:ot}),ce[ot]=!0,!0}catch{return!1}}(ot)){Nt=new Date(Nt||Date.now());const Z=Ut?Nt:function U(ot){return $(ot.getFullYear(),ot.getMonth(),ot.getDate(),ot.getHours(),ot.getMinutes(),ot.getSeconds(),ot.getMilliseconds())}(Nt),Pe=F(Z,ot);return-(Ut?Pe:function J(ot,Nt,Ut){let ut=ot.getTime()-Nt;const dt=F(new Date(ut),Ut);if(Nt===dt)return Nt;ut-=dt-Nt;const Z=F(new Date(ut),Ut);return dt===Z?dt:Math.max(dt,Z)}(Nt,Pe,ot))}return NaN}(ot,Nt)}},9857:(hn,Re,_)=>{"use strict";_.d(Re,{q:()=>A});let d={};function A(){return d}},5225:(hn,Re,_)=>{"use strict";function d(A){return w=>{const C=(A?Math[A]:Math.trunc)(w);return 0===C?0:C}}_.d(Re,{u:()=>d})},8889:(hn,Re,_)=>{"use strict";_.d(Re,{G:()=>A});var d=_(8700);function A(w){const D=(0,d.a)(w),C=new Date(Date.UTC(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()));return C.setUTCFullYear(D.getFullYear()),+w-+C}},1299:(hn,Re,_)=>{"use strict";_.d(Re,{W:()=>C});var d=_(8797),A=_(6337),w=_(6814),D=_(8700);function C(I,E){const{years:y=0,months:x=0,weeks:$=0,days:R=0,hours:O=0,minutes:M=0,seconds:L=0}=E,U=(0,D.a)(I),F=x||y?(0,A.P)(U,x+12*y):U,J=R||$?(0,d.f)(F,R+7*$):F,re=1e3*(L+60*(M+60*O));return(0,w.w)(I,J.getTime()+re)}},8797:(hn,Re,_)=>{"use strict";_.d(Re,{f:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=(0,d.a)(C);return isNaN(S)?(0,A.w)(C,NaN):(S&&I.setDate(I.getDate()+S),I)}},9533:(hn,Re,_)=>{"use strict";_.d(Re,{L:()=>w});var d=_(1962),A=_(7870);function w(C,S){return(0,d.A)(C,S*A.s0)}},1962:(hn,Re,_)=>{"use strict";_.d(Re,{A:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=+(0,d.a)(C);return(0,A.w)(C,I+S)}},9675:(hn,Re,_)=>{"use strict";_.d(Re,{z:()=>w});var d=_(1962),A=_(7870);function w(C,S){return(0,d.A)(C,S*A.Cg)}},6337:(hn,Re,_)=>{"use strict";_.d(Re,{P:()=>w});var d=_(8700),A=_(6814);function w(C,S){const I=(0,d.a)(C);if(isNaN(S))return(0,A.w)(C,NaN);if(!S)return I;const E=I.getDate(),y=(0,A.w)(C,I.getTime());return y.setMonth(I.getMonth()+S+1,0),E>=y.getDate()?y:(I.setFullYear(y.getFullYear(),y.getMonth(),E),I)}},5859:(hn,Re,_)=>{"use strict";_.d(Re,{p:()=>A});var d=_(1962);function A(D,C){return(0,d.A)(D,1e3*C)}},6243:(hn,Re,_)=>{"use strict";_.d(Re,{J:()=>A});var d=_(8797);function A(D,C){return(0,d.f)(D,7*C)}},4938:(hn,Re,_)=>{"use strict";_.d(Re,{e:()=>A});var d=_(6337);function A(D,C){return(0,d.P)(D,12*C)}},7870:(hn,Re,_)=>{"use strict";_.d(Re,{Cg:()=>I,F6:()=>R,Nw:()=>$,my:()=>C,s0:()=>E,w4:()=>S}),Math.pow(10,8);const C=6048e5,S=864e5,I=6e4,E=36e5,$=43200,R=1440},6814:(hn,Re,_)=>{"use strict";function d(w,D){return w instanceof Date?new w.constructor(D):new Date(D)}_.d(Re,{w:()=>d})},6248:(hn,Re,_)=>{"use strict";_.d(Re,{m:()=>D});var d=_(7870),A=_(3240),w=_(8889);function D(S,I){const E=(0,A.o)(S),y=(0,A.o)(I),x=+E-(0,w.G)(E),$=+y-(0,w.G)(y);return Math.round((x-$)/d.w4)}},1246:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>w});var d=_(6248),A=_(8700);function w(S,I){const E=(0,A.a)(S),y=(0,A.a)(I),x=D(E,y),$=Math.abs((0,d.m)(E,y));E.setDate(E.getDate()-x*$);const O=x*($-+(D(E,y)===-x));return 0===O?0:O}function D(S,I){const E=S.getFullYear()-I.getFullYear()||S.getMonth()-I.getMonth()||S.getDate()-I.getDate()||S.getHours()-I.getHours()||S.getMinutes()-I.getMinutes()||S.getSeconds()-I.getSeconds()||S.getMilliseconds()-I.getMilliseconds();return E<0?-1:E>0?1:E}},5213:(hn,Re,_)=>{"use strict";_.d(Re,{b:()=>A});var d=_(8700);function A(D,C){return+(0,d.a)(D)-+(0,d.a)(C)}},1874:(hn,Re,_)=>{"use strict";_.d(Re,{o:()=>D});var d=_(5225),A=_(7870),w=_(5213);function D(S,I,E){const y=(0,w.b)(S,I)/A.Cg;return(0,d.u)(E?.roundingMethod)(y)}},6441:(hn,Re,_)=>{"use strict";_.d(Re,{D:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setHours(23,59,59,999),C}},5469:(hn,Re,_)=>{"use strict";_.d(Re,{V:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setSeconds(59,999),C}},2730:(hn,Re,_)=>{"use strict";_.d(Re,{GP:()=>ot});var d=_(4994),A=_(9857),w=_(6248),D=_(8700),C=_(6814);var x=_(7870),$=_(610);function R(wt){return(0,$.k)(wt,{weekStartsOn:1})}function M(wt){const ut=(0,D.a)(wt),dt=ut.getFullYear(),Z=(0,C.w)(wt,0);Z.setFullYear(dt+1,0,4),Z.setHours(0,0,0,0);const Pe=R(Z),pe=(0,C.w)(wt,0);pe.setFullYear(dt,0,4),pe.setHours(0,0,0,0);const lt=R(pe);return ut.getTime()>=Pe.getTime()?dt+1:ut.getTime()>=lt.getTime()?dt:dt-1}function ce(wt,ut){const dt=(0,D.a)(wt),Z=dt.getFullYear(),Pe=(0,A.q)(),pe=ut?.firstWeekContainsDate??ut?.locale?.options?.firstWeekContainsDate??Pe.firstWeekContainsDate??Pe.locale?.options?.firstWeekContainsDate??1,lt=(0,C.w)(wt,0);lt.setFullYear(Z+1,0,pe),lt.setHours(0,0,0,0);const Gt=(0,$.k)(lt,ut),rn=(0,C.w)(wt,0);rn.setFullYear(Z,0,pe),rn.setHours(0,0,0,0);const Hn=(0,$.k)(rn,ut);return dt.getTime()>=Gt.getTime()?Z+1:dt.getTime()>=Hn.getTime()?Z:Z-1}function W(wt,ut){return(wt<0?"-":"")+Math.abs(wt).toString().padStart(ut,"0")}const xe={y(wt,ut){const dt=wt.getFullYear(),Z=dt>0?dt:1-dt;return W("yy"===ut?Z%100:Z,ut.length)},M(wt,ut){const dt=wt.getMonth();return"M"===ut?String(dt+1):W(dt+1,2)},d:(wt,ut)=>W(wt.getDate(),ut.length),a(wt,ut){const dt=wt.getHours()/12>=1?"pm":"am";switch(ut){case"a":case"aa":return dt.toUpperCase();case"aaa":return dt;case"aaaaa":return dt[0];default:return"am"===dt?"a.m.":"p.m."}},h:(wt,ut)=>W(wt.getHours()%12||12,ut.length),H:(wt,ut)=>W(wt.getHours(),ut.length),m:(wt,ut)=>W(wt.getMinutes(),ut.length),s:(wt,ut)=>W(wt.getSeconds(),ut.length),S(wt,ut){const dt=ut.length,Z=wt.getMilliseconds();return W(Math.trunc(Z*Math.pow(10,dt-3)),ut.length)}},Ae={G:function(wt,ut,dt){const Z=wt.getFullYear()>0?1:0;switch(ut){case"G":case"GG":case"GGG":return dt.era(Z,{width:"abbreviated"});case"GGGGG":return dt.era(Z,{width:"narrow"});default:return dt.era(Z,{width:"wide"})}},y:function(wt,ut,dt){if("yo"===ut){const Z=wt.getFullYear();return dt.ordinalNumber(Z>0?Z:1-Z,{unit:"year"})}return xe.y(wt,ut)},Y:function(wt,ut,dt,Z){const Pe=ce(wt,Z),pe=Pe>0?Pe:1-Pe;return"YY"===ut?W(pe%100,2):"Yo"===ut?dt.ordinalNumber(pe,{unit:"year"}):W(pe,ut.length)},R:function(wt,ut){return W(M(wt),ut.length)},u:function(wt,ut){return W(wt.getFullYear(),ut.length)},Q:function(wt,ut,dt){const Z=Math.ceil((wt.getMonth()+1)/3);switch(ut){case"Q":return String(Z);case"QQ":return W(Z,2);case"Qo":return dt.ordinalNumber(Z,{unit:"quarter"});case"QQQ":return dt.quarter(Z,{width:"abbreviated",context:"formatting"});case"QQQQQ":return dt.quarter(Z,{width:"narrow",context:"formatting"});default:return dt.quarter(Z,{width:"wide",context:"formatting"})}},q:function(wt,ut,dt){const Z=Math.ceil((wt.getMonth()+1)/3);switch(ut){case"q":return String(Z);case"qq":return W(Z,2);case"qo":return dt.ordinalNumber(Z,{unit:"quarter"});case"qqq":return dt.quarter(Z,{width:"abbreviated",context:"standalone"});case"qqqqq":return dt.quarter(Z,{width:"narrow",context:"standalone"});default:return dt.quarter(Z,{width:"wide",context:"standalone"})}},M:function(wt,ut,dt){const Z=wt.getMonth();switch(ut){case"M":case"MM":return xe.M(wt,ut);case"Mo":return dt.ordinalNumber(Z+1,{unit:"month"});case"MMM":return dt.month(Z,{width:"abbreviated",context:"formatting"});case"MMMMM":return dt.month(Z,{width:"narrow",context:"formatting"});default:return dt.month(Z,{width:"wide",context:"formatting"})}},L:function(wt,ut,dt){const Z=wt.getMonth();switch(ut){case"L":return String(Z+1);case"LL":return W(Z+1,2);case"Lo":return dt.ordinalNumber(Z+1,{unit:"month"});case"LLL":return dt.month(Z,{width:"abbreviated",context:"standalone"});case"LLLLL":return dt.month(Z,{width:"narrow",context:"standalone"});default:return dt.month(Z,{width:"wide",context:"standalone"})}},w:function(wt,ut,dt,Z){const Pe=function X(wt,ut){const dt=(0,D.a)(wt),Z=+(0,$.k)(dt,ut)-+function be(wt,ut){const dt=(0,A.q)(),Z=ut?.firstWeekContainsDate??ut?.locale?.options?.firstWeekContainsDate??dt.firstWeekContainsDate??dt.locale?.options?.firstWeekContainsDate??1,Pe=ce(wt,ut),pe=(0,C.w)(wt,0);return pe.setFullYear(Pe,0,Z),pe.setHours(0,0,0,0),(0,$.k)(pe,ut)}(dt,ut);return Math.round(Z/x.my)+1}(wt,Z);return"wo"===ut?dt.ordinalNumber(Pe,{unit:"week"}):W(Pe,ut.length)},I:function(wt,ut,dt){const Z=function J(wt){const ut=(0,D.a)(wt),dt=+R(ut)-+function U(wt){const ut=M(wt),dt=(0,C.w)(wt,0);return dt.setFullYear(ut,0,4),dt.setHours(0,0,0,0),R(dt)}(ut);return Math.round(dt/x.my)+1}(wt);return"Io"===ut?dt.ordinalNumber(Z,{unit:"week"}):W(Z,ut.length)},d:function(wt,ut,dt){return"do"===ut?dt.ordinalNumber(wt.getDate(),{unit:"date"}):xe.d(wt,ut)},D:function(wt,ut,dt){const Z=function E(wt){const ut=(0,D.a)(wt);return(0,w.m)(ut,function S(wt){const ut=(0,D.a)(wt),dt=(0,C.w)(wt,0);return dt.setFullYear(ut.getFullYear(),0,1),dt.setHours(0,0,0,0),dt}(ut))+1}(wt);return"Do"===ut?dt.ordinalNumber(Z,{unit:"dayOfYear"}):W(Z,ut.length)},E:function(wt,ut,dt){const Z=wt.getDay();switch(ut){case"E":case"EE":case"EEE":return dt.day(Z,{width:"abbreviated",context:"formatting"});case"EEEEE":return dt.day(Z,{width:"narrow",context:"formatting"});case"EEEEEE":return dt.day(Z,{width:"short",context:"formatting"});default:return dt.day(Z,{width:"wide",context:"formatting"})}},e:function(wt,ut,dt,Z){const Pe=wt.getDay(),pe=(Pe-Z.weekStartsOn+8)%7||7;switch(ut){case"e":return String(pe);case"ee":return W(pe,2);case"eo":return dt.ordinalNumber(pe,{unit:"day"});case"eee":return dt.day(Pe,{width:"abbreviated",context:"formatting"});case"eeeee":return dt.day(Pe,{width:"narrow",context:"formatting"});case"eeeeee":return dt.day(Pe,{width:"short",context:"formatting"});default:return dt.day(Pe,{width:"wide",context:"formatting"})}},c:function(wt,ut,dt,Z){const Pe=wt.getDay(),pe=(Pe-Z.weekStartsOn+8)%7||7;switch(ut){case"c":return String(pe);case"cc":return W(pe,ut.length);case"co":return dt.ordinalNumber(pe,{unit:"day"});case"ccc":return dt.day(Pe,{width:"abbreviated",context:"standalone"});case"ccccc":return dt.day(Pe,{width:"narrow",context:"standalone"});case"cccccc":return dt.day(Pe,{width:"short",context:"standalone"});default:return dt.day(Pe,{width:"wide",context:"standalone"})}},i:function(wt,ut,dt){const Z=wt.getDay(),Pe=0===Z?7:Z;switch(ut){case"i":return String(Pe);case"ii":return W(Pe,ut.length);case"io":return dt.ordinalNumber(Pe,{unit:"day"});case"iii":return dt.day(Z,{width:"abbreviated",context:"formatting"});case"iiiii":return dt.day(Z,{width:"narrow",context:"formatting"});case"iiiiii":return dt.day(Z,{width:"short",context:"formatting"});default:return dt.day(Z,{width:"wide",context:"formatting"})}},a:function(wt,ut,dt){const Pe=wt.getHours()/12>=1?"pm":"am";switch(ut){case"a":case"aa":return dt.dayPeriod(Pe,{width:"abbreviated",context:"formatting"});case"aaa":return dt.dayPeriod(Pe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return dt.dayPeriod(Pe,{width:"narrow",context:"formatting"});default:return dt.dayPeriod(Pe,{width:"wide",context:"formatting"})}},b:function(wt,ut,dt){const Z=wt.getHours();let Pe;switch(Pe=12===Z?"noon":0===Z?"midnight":Z/12>=1?"pm":"am",ut){case"b":case"bb":return dt.dayPeriod(Pe,{width:"abbreviated",context:"formatting"});case"bbb":return dt.dayPeriod(Pe,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return dt.dayPeriod(Pe,{width:"narrow",context:"formatting"});default:return dt.dayPeriod(Pe,{width:"wide",context:"formatting"})}},B:function(wt,ut,dt){const Z=wt.getHours();let Pe;switch(Pe=Z>=17?"evening":Z>=12?"afternoon":Z>=4?"morning":"night",ut){case"B":case"BB":case"BBB":return dt.dayPeriod(Pe,{width:"abbreviated",context:"formatting"});case"BBBBB":return dt.dayPeriod(Pe,{width:"narrow",context:"formatting"});default:return dt.dayPeriod(Pe,{width:"wide",context:"formatting"})}},h:function(wt,ut,dt){if("ho"===ut){let Z=wt.getHours()%12;return 0===Z&&(Z=12),dt.ordinalNumber(Z,{unit:"hour"})}return xe.h(wt,ut)},H:function(wt,ut,dt){return"Ho"===ut?dt.ordinalNumber(wt.getHours(),{unit:"hour"}):xe.H(wt,ut)},K:function(wt,ut,dt){const Z=wt.getHours()%12;return"Ko"===ut?dt.ordinalNumber(Z,{unit:"hour"}):W(Z,ut.length)},k:function(wt,ut,dt){let Z=wt.getHours();return 0===Z&&(Z=24),"ko"===ut?dt.ordinalNumber(Z,{unit:"hour"}):W(Z,ut.length)},m:function(wt,ut,dt){return"mo"===ut?dt.ordinalNumber(wt.getMinutes(),{unit:"minute"}):xe.m(wt,ut)},s:function(wt,ut,dt){return"so"===ut?dt.ordinalNumber(wt.getSeconds(),{unit:"second"}):xe.s(wt,ut)},S:function(wt,ut){return xe.S(wt,ut)},X:function(wt,ut,dt){const Z=wt.getTimezoneOffset();if(0===Z)return"Z";switch(ut){case"X":return yt(Z);case"XXXX":case"XX":return Je(Z);default:return Je(Z,":")}},x:function(wt,ut,dt){const Z=wt.getTimezoneOffset();switch(ut){case"x":return yt(Z);case"xxxx":case"xx":return Je(Z);default:return Je(Z,":")}},O:function(wt,ut,dt){const Z=wt.getTimezoneOffset();switch(ut){case"O":case"OO":case"OOO":return"GMT"+Xe(Z,":");default:return"GMT"+Je(Z,":")}},z:function(wt,ut,dt){const Z=wt.getTimezoneOffset();switch(ut){case"z":case"zz":case"zzz":return"GMT"+Xe(Z,":");default:return"GMT"+Je(Z,":")}},t:function(wt,ut,dt){return W(Math.trunc(wt.getTime()/1e3),ut.length)},T:function(wt,ut,dt){return W(wt.getTime(),ut.length)}};function Xe(wt,ut=""){const dt=wt>0?"-":"+",Z=Math.abs(wt),Pe=Math.trunc(Z/60),pe=Z%60;return 0===pe?dt+String(Pe):dt+String(Pe)+ut+W(pe,2)}function yt(wt,ut){return wt%60==0?(wt>0?"-":"+")+W(Math.abs(wt)/60,2):Je(wt,ut)}function Je(wt,ut=""){const dt=wt>0?"-":"+",Z=Math.abs(wt);return dt+W(Math.trunc(Z/60),2)+ut+W(Z%60,2)}const je=(wt,ut)=>{switch(wt){case"P":return ut.date({width:"short"});case"PP":return ut.date({width:"medium"});case"PPP":return ut.date({width:"long"});default:return ut.date({width:"full"})}},K=(wt,ut)=>{switch(wt){case"p":return ut.time({width:"short"});case"pp":return ut.time({width:"medium"});case"ppp":return ut.time({width:"long"});default:return ut.time({width:"full"})}},ge={p:K,P:(wt,ut)=>{const dt=wt.match(/(P+)(p+)?/)||[],Z=dt[1],Pe=dt[2];if(!Pe)return je(wt,ut);let pe;switch(Z){case"P":pe=ut.dateTime({width:"short"});break;case"PP":pe=ut.dateTime({width:"medium"});break;case"PPP":pe=ut.dateTime({width:"long"});break;default:pe=ut.dateTime({width:"full"})}return pe.replace("{{date}}",je(Z,ut)).replace("{{time}}",K(Pe,ut))}},ye=/^D+$/,Ne=/^Y+$/,Be=["D","DD","YY","YYYY"];const Oe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vt=/^'([^]*?)'?$/,It=/''/g,at=/[a-zA-Z]/;function ot(wt,ut,dt){const Z=(0,A.q)(),Pe=dt?.locale??Z.locale??d.c,pe=dt?.firstWeekContainsDate??dt?.locale?.options?.firstWeekContainsDate??Z.firstWeekContainsDate??Z.locale?.options?.firstWeekContainsDate??1,lt=dt?.weekStartsOn??dt?.locale?.options?.weekStartsOn??Z.weekStartsOn??Z.locale?.options?.weekStartsOn??0,Gt=(0,D.a)(wt);if(!function Ot(wt){if(!function Vt(wt){return wt instanceof Date||"object"==typeof wt&&"[object Date]"===Object.prototype.toString.call(wt)}(wt)&&"number"!=typeof wt)return!1;const ut=(0,D.a)(wt);return!isNaN(Number(ut))}(Gt))throw new RangeError("Invalid time value");let rn=ut.match(Ye).map(Ei=>{const on=Ei[0];return"p"===on||"P"===on?(0,ge[on])(Ei,Pe.formatLong):Ei}).join("").match(Oe).map(Ei=>{if("''"===Ei)return{isToken:!1,value:"'"};const on=Ei[0];if("'"===on)return{isToken:!1,value:Nt(Ei)};if(Ae[on])return{isToken:!0,value:Ei};if(on.match(at))throw new RangeError("Format string contains an unescaped latin alphabet character `"+on+"`");return{isToken:!1,value:Ei}});Pe.localize.preprocessor&&(rn=Pe.localize.preprocessor(Gt,rn));const Hn={firstWeekContainsDate:pe,weekStartsOn:lt,locale:Pe};return rn.map(Ei=>{if(!Ei.isToken)return Ei.value;const on=Ei.value;return(!dt?.useAdditionalWeekYearTokens&&function Pt(wt){return Ne.test(wt)}(on)||!dt?.useAdditionalDayOfYearTokens&&function Qe(wt){return ye.test(wt)}(on))&&function Ce(wt,ut,dt){const Z=function Qt(wt,ut,dt){const Z="Y"===wt[0]?"years":"days of the month";return`Use \`${wt.toLowerCase()}\` instead of \`${wt}\` (in \`${ut}\`) for formatting ${Z} to the input \`${dt}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(wt,ut,dt);if(console.warn(Z),Be.includes(wt))throw new RangeError(Z)}(on,ut,String(wt)),(0,Ae[on[0]])(Gt,on,Pe.localize,Hn)}).join("")}function Nt(wt){const ut=wt.match(vt);return ut?ut[1].replace(It,"'"):wt}},2439:(hn,Re,_)=>{"use strict";_.d(Re,{m:()=>W});var d=_(6814),D=_(8700);function C(q,Ae){const Xe=(0,D.a)(q),yt=(0,D.a)(Ae),Je=Xe.getTime()-yt.getTime();return Je<0?-1:Je>0?1:Je}var I=_(7870),x=_(6441);function L(q,Ae){const Xe=(0,D.a)(q),yt=(0,D.a)(Ae),Je=C(Xe,yt),je=Math.abs(function E(q,Ae){const Xe=(0,D.a)(q),yt=(0,D.a)(Ae);return 12*(Xe.getFullYear()-yt.getFullYear())+(Xe.getMonth()-yt.getMonth())}(Xe,yt));let K;if(je<1)K=0;else{1===Xe.getMonth()&&Xe.getDate()>27&&Xe.setDate(30),Xe.setMonth(Xe.getMonth()-Je*je);let oe=C(Xe,yt)===-Je;(function O(q){const Ae=(0,D.a)(q);return+(0,x.D)(Ae)==+function $(q){const Ae=(0,D.a)(q),Xe=Ae.getMonth();return Ae.setFullYear(Ae.getFullYear(),Xe+1,0),Ae.setHours(23,59,59,999),Ae}(Ae)})((0,D.a)(q))&&1===je&&1===C(q,yt)&&(oe=!1),K=Je*(je-Number(oe))}return 0===K?0:K}var F=_(5225),J=_(5213),re=_(4994),be=_(9857),j=_(8889);function W(q,Ae){return function X(q,Ae,Xe){const yt=(0,be.q)(),Je=Xe?.locale??yt.locale??re.c,K=C(q,Ae);if(isNaN(K))throw new RangeError("Invalid time value");const oe=Object.assign({},Xe,{addSuffix:Xe?.addSuffix,comparison:K});let ge,ye;K>0?(ge=(0,D.a)(Ae),ye=(0,D.a)(q)):(ge=(0,D.a)(q),ye=(0,D.a)(Ae));const Ne=function ue(q,Ae,Xe){const yt=(0,J.b)(q,Ae)/1e3;return(0,F.u)(Xe?.roundingMethod)(yt)}(ye,ge),Be=((0,j.G)(ye)-(0,j.G)(ge))/1e3,Qe=Math.round((Ne-Be)/60);let Pt;if(Qe<2)return Xe?.includeSeconds?Ne<5?Je.formatDistance("lessThanXSeconds",5,oe):Ne<10?Je.formatDistance("lessThanXSeconds",10,oe):Ne<20?Je.formatDistance("lessThanXSeconds",20,oe):Ne<40?Je.formatDistance("halfAMinute",0,oe):Je.formatDistance(Ne<60?"lessThanXMinutes":"xMinutes",1,oe):0===Qe?Je.formatDistance("lessThanXMinutes",1,oe):Je.formatDistance("xMinutes",Qe,oe);if(Qe<45)return Je.formatDistance("xMinutes",Qe,oe);if(Qe<90)return Je.formatDistance("aboutXHours",1,oe);if(Qe<I.F6){const Ce=Math.round(Qe/60);return Je.formatDistance("aboutXHours",Ce,oe)}if(Qe<2520)return Je.formatDistance("xDays",1,oe);if(Qe<I.Nw){const Ce=Math.round(Qe/I.F6);return Je.formatDistance("xDays",Ce,oe)}if(Qe<2*I.Nw)return Pt=Math.round(Qe/I.Nw),Je.formatDistance("aboutXMonths",Pt,oe);if(Pt=L(ye,ge),Pt<12){const Ce=Math.round(Qe/I.Nw);return Je.formatDistance("xMonths",Ce,oe)}{const Ce=Pt%12,Qt=Math.trunc(Pt/12);return Ce<3?Je.formatDistance("aboutXYears",Qt,oe):Ce<9?Je.formatDistance("overXYears",Qt,oe):Je.formatDistance("almostXYears",Qt+1,oe)}}(q,function A(q){return(0,d.w)(q,Date.now())}(q),Ae)}},9134:(hn,Re,_)=>{"use strict";_.d(Re,{a:()=>D});var d=_(4994),A=_(9857);const w=["years","months","weeks","days","hours","minutes","seconds"];function D(S,I){const E=(0,A.q)(),y=I?.locale??E.locale??d.c,x=I?.format??w,$=I?.zero??!1,R=I?.delimiter??" ";return y.formatDistance?x.reduce((M,L)=>{const U=`x${L.replace(/(^.)/,J=>J.toUpperCase())}`,F=S[L];return void 0!==F&&($||S[L])?M.concat(y.formatDistance(U,F)):M},[]).join(R):""}},2890:(hn,Re,_)=>{"use strict";_.d(Re,{S:()=>A});var d=_(8700);function A(D){return(0,d.a)(1e3*D)}},9908:(hn,Re,_)=>{"use strict";_.d(Re,{_:()=>A});var d=_(8700);function A(D){return Math.trunc(+(0,d.a)(D)/1e3)}},1543:(hn,Re,_)=>{"use strict";_.d(Re,{d:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D),I=(0,d.a)(C);return S.getTime()>I.getTime()}},5882:(hn,Re,_)=>{"use strict";_.d(Re,{Y:()=>A});var d=_(8700);function A(D,C){return+(0,d.a)(D)<+(0,d.a)(C)}},1257:(hn,Re,_)=>{"use strict";_.d(Re,{r:()=>A});var d=_(3240);function A(D,C){return+(0,d.o)(D)==+(0,d.o)(C)}},1997:(hn,Re,_)=>{"use strict";_.d(Re,{H:()=>A});var d=_(3206);function A(D,C){return+(0,d.c)(D)==+(0,d.c)(C)}},9681:(hn,Re,_)=>{"use strict";_.d(Re,{t:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D),I=(0,d.a)(C);return S.getFullYear()===I.getFullYear()&&S.getMonth()===I.getMonth()}},4994:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>ge});const d={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function w(Ne){return(Be={})=>{const Qe=Be.width?String(Be.width):Ne.defaultWidth;return Ne.formats[Qe]||Ne.formats[Ne.defaultWidth]}}const I={date:w({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:w({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:w({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},E={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function x(Ne){return(Be,Qe)=>{let Ce;if("formatting"===(Qe?.context?String(Qe.context):"standalone")&&Ne.formattingValues){const Vt=Ne.defaultFormattingWidth||Ne.defaultWidth,Tt=Qe?.width?String(Qe.width):Vt;Ce=Ne.formattingValues[Tt]||Ne.formattingValues[Vt]}else{const Vt=Ne.defaultWidth,Tt=Qe?.width?String(Qe.width):Ne.defaultWidth;Ce=Ne.values[Tt]||Ne.values[Vt]}return Ce[Ne.argumentCallback?Ne.argumentCallback(Be):Be]}}function ue(Ne){return(Be,Qe={})=>{const Pt=Qe.width,Qt=Be.match(Pt&&Ne.matchPatterns[Pt]||Ne.matchPatterns[Ne.defaultMatchWidth]);if(!Qt)return null;const Vt=Qt[0],Tt=Pt&&Ne.parsePatterns[Pt]||Ne.parsePatterns[Ne.defaultParseWidth],Ot=Array.isArray(Tt)?function re(Ne,Be){for(let Qe=0;Qe<Ne.length;Qe++)if(Be(Ne[Qe]))return Qe}(Tt,Ye=>Ye.test(Vt)):function ce(Ne,Be){for(const Qe in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Qe)&&Be(Ne[Qe]))return Qe}(Tt,Ye=>Ye.test(Vt));let ft;return ft=Ne.valueCallback?Ne.valueCallback(Ot):Ot,ft=Qe.valueCallback?Qe.valueCallback(ft):ft,{value:ft,rest:Be.slice(Vt.length)}}}const ge={code:"en-US",formatDistance:(Ne,Be,Qe)=>{let Pt;const Ce=d[Ne];return Pt="string"==typeof Ce?Ce:1===Be?Ce.one:Ce.other.replace("{{count}}",Be.toString()),Qe?.addSuffix?Qe.comparison&&Qe.comparison>0?"in "+Pt:Pt+" ago":Pt},formatLong:I,formatRelative:(Ne,Be,Qe,Pt)=>E[Ne],localize:{ordinalNumber:(Ne,Be)=>{const Qe=Number(Ne),Pt=Qe%100;if(Pt>20||Pt<10)switch(Pt%10){case 1:return Qe+"st";case 2:return Qe+"nd";case 3:return Qe+"rd"}return Qe+"th"},era:x({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:x({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:Ne=>Ne-1}),month:x({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:x({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:x({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function be(Ne){return(Be,Qe={})=>{const Pt=Be.match(Ne.matchPattern);if(!Pt)return null;const Ce=Pt[0],Qt=Be.match(Ne.parsePattern);if(!Qt)return null;let Vt=Ne.valueCallback?Ne.valueCallback(Qt[0]):Qt[0];return Vt=Qe.valueCallback?Qe.valueCallback(Vt):Vt,{value:Vt,rest:Be.slice(Ce.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:Ne=>parseInt(Ne,10)}),era:ue({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ue({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:Ne=>Ne+1}),month:ue({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ue({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ue({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},5647:(hn,Re,_)=>{"use strict";_.d(Re,{X:()=>D});var d=_(5225),A=_(6814),w=_(8700);function D(S,I){const E=I?.nearestTo??1;if(E<1||E>30)return(0,A.w)(S,NaN);const y=(0,w.a)(S),x=y.getSeconds()/60,$=y.getMilliseconds()/1e3/60,R=y.getMinutes()+x+$,L=(0,d.u)(I?.roundingMethod??"round")(R/E)*E,U=(0,A.w)(S,y);return U.setMinutes(L,0,0),U}},7177:(hn,Re,_)=>{"use strict";_.d(Re,{h:()=>D});var d=_(6814),A=_(1598),w=_(8700);function D(S,I){let E=(0,w.a)(S);return isNaN(+E)?(0,d.w)(S,NaN):(null!=I.year&&E.setFullYear(I.year),null!=I.month&&(E=(0,A.Z)(E,I.month)),null!=I.date&&E.setDate(I.date),null!=I.hours&&E.setHours(I.hours),null!=I.minutes&&E.setMinutes(I.minutes),null!=I.seconds&&E.setSeconds(I.seconds),null!=I.milliseconds&&E.setMilliseconds(I.milliseconds),E)}},7729:(hn,Re,_)=>{"use strict";_.d(Re,{l:()=>D});var d=_(8797),A=_(8700),w=_(9857);function D(S,I,E){const y=(0,w.q)(),x=E?.weekStartsOn??E?.locale?.options?.weekStartsOn??y.weekStartsOn??y.locale?.options?.weekStartsOn??0,$=(0,A.a)(S),R=$.getDay(),L=7-x;return(0,d.f)($,I<0||I>6?I-(R+L)%7:((I%7+7)%7+L)%7-(R+L)%7)}},3330:(hn,Re,_)=>{"use strict";_.d(Re,{a:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D);return S.setHours(C),S}},7052:(hn,Re,_)=>{"use strict";_.d(Re,{g:()=>A});var d=_(8700);function A(D,C){const S=(0,d.a)(D);return S.setMinutes(C),S}},1598:(hn,Re,_)=>{"use strict";_.d(Re,{Z:()=>C});var d=_(6814),A=_(8700);function C(I,E){const y=(0,A.a)(I),x=y.getFullYear(),$=y.getDate(),R=(0,d.w)(I,0);R.setFullYear(x,E,15),R.setHours(0,0,0,0);const O=function w(I){const E=(0,A.a)(I),y=E.getFullYear(),x=E.getMonth(),$=(0,d.w)(I,0);return $.setFullYear(y,x+1,0),$.setHours(0,0,0,0),$.getDate()}(R);return y.setMonth(E,Math.min($,O)),y}},3240:(hn,Re,_)=>{"use strict";_.d(Re,{o:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setHours(0,0,0,0),C}},3206:(hn,Re,_)=>{"use strict";_.d(Re,{c:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setSeconds(0,0),C}},452:(hn,Re,_)=>{"use strict";_.d(Re,{w:()=>A});var d=_(8700);function A(D){const C=(0,d.a)(D);return C.setDate(1),C.setHours(0,0,0,0),C}},610:(hn,Re,_)=>{"use strict";_.d(Re,{k:()=>w});var d=_(8700),A=_(9857);function w(C,S){const I=(0,A.q)(),E=S?.weekStartsOn??S?.locale?.options?.weekStartsOn??I.weekStartsOn??I.locale?.options?.weekStartsOn??0,y=(0,d.a)(C),x=y.getDay(),$=(x<E?7:0)+x-E;return y.setDate(y.getDate()-$),y.setHours(0,0,0,0),y}},2786:(hn,Re,_)=>{"use strict";_.d(Re,{e:()=>A});var d=_(8797);function A(D,C){return(0,d.f)(D,-C)}},8848:(hn,Re,_)=>{"use strict";_.d(Re,{O:()=>A});var d=_(9533);function A(D,C){return(0,d.L)(D,-C)}},6926:(hn,Re,_)=>{"use strict";_.d(Re,{Y:()=>A});var d=_(9675);function A(D,C){return(0,d.z)(D,-C)}},4206:(hn,Re,_)=>{"use strict";_.d(Re,{W:()=>A});var d=_(5859);function A(D,C){return(0,d.p)(D,-C)}},8700:(hn,Re,_)=>{"use strict";function d(w){const D=Object.prototype.toString.call(w);return w instanceof Date||"object"==typeof w&&"[object Date]"===D?new w.constructor(+w):"number"==typeof w||"[object Number]"===D||"string"==typeof w||"[object String]"===D?new Date(w):new Date(NaN)}_.d(Re,{a:()=>d})},3388:(hn,Re,_)=>{"use strict";
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function d(P){return typeof P>"u"||null===P}_.d(Re,{Hh:()=>Ur});var O={isNothing:d,isObject:function A(P){return"object"==typeof P&&null!==P},toArray:function w(P){return Array.isArray(P)?P:d(P)?[]:[P]},repeat:function C(P,Et){var cn,Kt="";for(cn=0;cn<Et;cn+=1)Kt+=P;return Kt},isNegativeZero:function S(P){return 0===P&&Number.NEGATIVE_INFINITY===1/P},extend:function D(P,Et){var Kt,cn,tn,kn;if(Et)for(Kt=0,cn=(kn=Object.keys(Et)).length;Kt<cn;Kt+=1)P[tn=kn[Kt]]=Et[tn];return P}};function M(P,Et){var Kt="",cn=P.reason||"(unknown reason)";return P.mark?(P.mark.name&&(Kt+='in "'+P.mark.name+'" '),Kt+="("+(P.mark.line+1)+":"+(P.mark.column+1)+")",!Et&&P.mark.snippet&&(Kt+="\n\n"+P.mark.snippet),cn+" "+Kt):cn}function L(P,Et){Error.call(this),this.name="YAMLException",this.reason=P,this.mark=Et,this.message=M(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(L.prototype=Object.create(Error.prototype)).constructor=L,L.prototype.toString=function(Et){return this.name+": "+M(this,Et)};var U=L;function F(P,Et,Kt,cn,tn){var kn="",ln="",Ln=Math.floor(tn/2)-1;return cn-Et>Ln&&(Et=cn-Ln+(kn=" ... ").length),Kt-cn>Ln&&(Kt=cn+Ln-(ln=" ...").length),{str:kn+P.slice(Et,Kt).replace(/\t/g,"\u2192")+ln,pos:cn-Et+kn.length}}function J(P,Et){return O.repeat(" ",Et-P.length)+P}var ce=function ue(P,Et){if(Et=Object.create(Et||null),!P.buffer)return null;Et.maxLength||(Et.maxLength=79),"number"!=typeof Et.indent&&(Et.indent=1),"number"!=typeof Et.linesBefore&&(Et.linesBefore=3),"number"!=typeof Et.linesAfter&&(Et.linesAfter=2);for(var kn,Kt=/\r?\n|\r|\0/g,cn=[0],tn=[],ln=-1;kn=Kt.exec(P.buffer);)tn.push(kn.index),cn.push(kn.index+kn[0].length),P.position<=kn.index&&ln<0&&(ln=cn.length-2);ln<0&&(ln=cn.length-1);var Qn,jn,Ln="",mi=Math.min(P.line+Et.linesAfter,tn.length).toString().length,ti=Et.maxLength-(Et.indent+mi+3);for(Qn=1;Qn<=Et.linesBefore&&!(ln-Qn<0);Qn++)jn=F(P.buffer,cn[ln-Qn],tn[ln-Qn],P.position-(cn[ln]-cn[ln-Qn]),ti),Ln=O.repeat(" ",Et.indent)+J((P.line-Qn+1).toString(),mi)+" | "+jn.str+"\n"+Ln;for(jn=F(P.buffer,cn[ln],tn[ln],P.position,ti),Ln+=O.repeat(" ",Et.indent)+J((P.line+1).toString(),mi)+" | "+jn.str+"\n",Ln+=O.repeat("-",Et.indent+mi+3+jn.pos)+"^\n",Qn=1;Qn<=Et.linesAfter&&!(ln+Qn>=tn.length);Qn++)jn=F(P.buffer,cn[ln+Qn],tn[ln+Qn],P.position-(cn[ln]-cn[ln+Qn]),ti),Ln+=O.repeat(" ",Et.indent)+J((P.line+Qn+1).toString(),mi)+" | "+jn.str+"\n";return Ln.replace(/\n$/,"")},re=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],be=["scalar","sequence","mapping"],se=function X(P,Et){if(Et=Et||{},Object.keys(Et).forEach(function(Kt){if(-1===re.indexOf(Kt))throw new U('Unknown option "'+Kt+'" is met in definition of "'+P+'" YAML type.')}),this.options=Et,this.tag=P,this.kind=Et.kind||null,this.resolve=Et.resolve||function(){return!0},this.construct=Et.construct||function(Kt){return Kt},this.instanceOf=Et.instanceOf||null,this.predicate=Et.predicate||null,this.represent=Et.represent||null,this.representName=Et.representName||null,this.defaultStyle=Et.defaultStyle||null,this.multi=Et.multi||!1,this.styleAliases=function j(P){var Et={};return null!==P&&Object.keys(P).forEach(function(Kt){P[Kt].forEach(function(cn){Et[String(cn)]=Kt})}),Et}(Et.styleAliases||null),-1===be.indexOf(this.kind))throw new U('Unknown kind "'+this.kind+'" is specified for "'+P+'" YAML type.')};function W(P,Et){var Kt=[];return P[Et].forEach(function(cn){var tn=Kt.length;Kt.forEach(function(kn,ln){kn.tag===cn.tag&&kn.kind===cn.kind&&kn.multi===cn.multi&&(tn=ln)}),Kt[tn]=cn}),Kt}function q(P){return this.extend(P)}q.prototype.extend=function(Et){var Kt=[],cn=[];if(Et instanceof se)cn.push(Et);else if(Array.isArray(Et))cn=cn.concat(Et);else{if(!Et||!Array.isArray(Et.implicit)&&!Array.isArray(Et.explicit))throw new U("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Et.implicit&&(Kt=Kt.concat(Et.implicit)),Et.explicit&&(cn=cn.concat(Et.explicit))}Kt.forEach(function(kn){if(!(kn instanceof se))throw new U("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(kn.loadKind&&"scalar"!==kn.loadKind)throw new U("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(kn.multi)throw new U("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),cn.forEach(function(kn){if(!(kn instanceof se))throw new U("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tn=Object.create(q.prototype);return tn.implicit=(this.implicit||[]).concat(Kt),tn.explicit=(this.explicit||[]).concat(cn),tn.compiledImplicit=W(tn,"implicit"),tn.compiledExplicit=W(tn,"explicit"),tn.compiledTypeMap=function xe(){var Et,Kt,P={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function cn(tn){tn.multi?(P.multi[tn.kind].push(tn),P.multi.fallback.push(tn)):P[tn.kind][tn.tag]=P.fallback[tn.tag]=tn}for(Et=0,Kt=arguments.length;Et<Kt;Et+=1)arguments[Et].forEach(cn);return P}(tn.compiledImplicit,tn.compiledExplicit),tn};var je=new q({explicit:[new se("tag:yaml.org,2002:str",{kind:"scalar",construct:function(P){return null!==P?P:""}}),new se("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(P){return null!==P?P:[]}}),new se("tag:yaml.org,2002:map",{kind:"mapping",construct:function(P){return null!==P?P:{}}})]}),ye=new se("tag:yaml.org,2002:null",{kind:"scalar",resolve:function K(P){if(null===P)return!0;var Et=P.length;return 1===Et&&"~"===P||4===Et&&("null"===P||"Null"===P||"NULL"===P)},construct:function oe(){return null},predicate:function ge(P){return null===P},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Pt=new se("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Ne(P){if(null===P)return!1;var Et=P.length;return 4===Et&&("true"===P||"True"===P||"TRUE"===P)||5===Et&&("false"===P||"False"===P||"FALSE"===P)},construct:function Be(P){return"true"===P||"True"===P||"TRUE"===P},predicate:function Qe(P){return"[object Boolean]"===Object.prototype.toString.call(P)},represent:{lowercase:function(P){return P?"true":"false"},uppercase:function(P){return P?"TRUE":"FALSE"},camelcase:function(P){return P?"True":"False"}},defaultStyle:"lowercase"});function Ce(P){return 48<=P&&P<=57||65<=P&&P<=70||97<=P&&P<=102}function Qt(P){return 48<=P&&P<=55}function Vt(P){return 48<=P&&P<=57}var Oe=new se("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Tt(P){if(null===P)return!1;var tn,Et=P.length,Kt=0,cn=!1;if(!Et)return!1;if(("-"===(tn=P[Kt])||"+"===tn)&&(tn=P[++Kt]),"0"===tn){if(Kt+1===Et)return!0;if("b"===(tn=P[++Kt])){for(Kt++;Kt<Et;Kt++)if("_"!==(tn=P[Kt])){if("0"!==tn&&"1"!==tn)return!1;cn=!0}return cn&&"_"!==tn}if("x"===tn){for(Kt++;Kt<Et;Kt++)if("_"!==(tn=P[Kt])){if(!Ce(P.charCodeAt(Kt)))return!1;cn=!0}return cn&&"_"!==tn}if("o"===tn){for(Kt++;Kt<Et;Kt++)if("_"!==(tn=P[Kt])){if(!Qt(P.charCodeAt(Kt)))return!1;cn=!0}return cn&&"_"!==tn}}if("_"===tn)return!1;for(;Kt<Et;Kt++)if("_"!==(tn=P[Kt])){if(!Vt(P.charCodeAt(Kt)))return!1;cn=!0}return!(!cn||"_"===tn)},construct:function Ot(P){var cn,Et=P,Kt=1;if(-1!==Et.indexOf("_")&&(Et=Et.replace(/_/g,"")),("-"===(cn=Et[0])||"+"===cn)&&("-"===cn&&(Kt=-1),cn=(Et=Et.slice(1))[0]),"0"===Et)return 0;if("0"===cn){if("b"===Et[1])return Kt*parseInt(Et.slice(2),2);if("x"===Et[1])return Kt*parseInt(Et.slice(2),16);if("o"===Et[1])return Kt*parseInt(Et.slice(2),8)}return Kt*parseInt(Et,10)},predicate:function ft(P){return"[object Number]"===Object.prototype.toString.call(P)&&P%1==0&&!O.isNegativeZero(P)},represent:{binary:function(P){return P>=0?"0b"+P.toString(2):"-0b"+P.toString(2).slice(1)},octal:function(P){return P>=0?"0o"+P.toString(8):"-0o"+P.toString(8).slice(1)},decimal:function(P){return P.toString(10)},hexadecimal:function(P){return P>=0?"0x"+P.toString(16).toUpperCase():"-0x"+P.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ye=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),at=/^[-+]?[0-9]+e/,Ut=new se("tag:yaml.org,2002:float",{kind:"scalar",resolve:function vt(P){return!(null===P||!Ye.test(P)||"_"===P[P.length-1])},construct:function It(P){var Et,Kt;return Kt="-"===(Et=P.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(Et[0])>=0&&(Et=Et.slice(1)),".inf"===Et?1===Kt?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===Et?NaN:Kt*parseFloat(Et,10)},predicate:function Nt(P){return"[object Number]"===Object.prototype.toString.call(P)&&(P%1!=0||O.isNegativeZero(P))},represent:function ot(P,Et){var Kt;if(isNaN(P))switch(Et){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===P)switch(Et){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===P)switch(Et){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(O.isNegativeZero(P))return"-0.0";return Kt=P.toString(10),at.test(Kt)?Kt.replace("e",".e"):Kt},defaultStyle:"lowercase"}),ut=je.extend({implicit:[ye,Pt,Oe,Ut]}),dt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Z=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Gt=new se("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function Pe(P){return null!==P&&(null!==dt.exec(P)||null!==Z.exec(P))},construct:function pe(P){var Et,Kt,cn,tn,kn,ln,Ln,Ii,Qn=0,jn=null;if(null===(Et=dt.exec(P))&&(Et=Z.exec(P)),null===Et)throw new Error("Date resolve error");if(Kt=+Et[1],cn=+Et[2]-1,tn=+Et[3],!Et[4])return new Date(Date.UTC(Kt,cn,tn));if(kn=+Et[4],ln=+Et[5],Ln=+Et[6],Et[7]){for(Qn=Et[7].slice(0,3);Qn.length<3;)Qn+="0";Qn=+Qn}return Et[9]&&(jn=6e4*(60*+Et[10]+ +(Et[11]||0)),"-"===Et[9]&&(jn=-jn)),Ii=new Date(Date.UTC(Kt,cn,tn,kn,ln,Ln,Qn)),jn&&Ii.setTime(Ii.getTime()-jn),Ii},instanceOf:Date,represent:function lt(P){return P.toISOString()}}),Hn=new se("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function rn(P){return"<<"===P||null===P}}),Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",$t=new se("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function on(P){if(null===P)return!1;var Et,Kt,cn=0,tn=P.length,kn=Ei;for(Kt=0;Kt<tn;Kt++)if(!((Et=kn.indexOf(P.charAt(Kt)))>64)){if(Et<0)return!1;cn+=6}return cn%8==0},construct:function nn(P){var Et,Kt,cn=P.replace(/[\r\n=]/g,""),tn=cn.length,kn=Ei,ln=0,Ln=[];for(Et=0;Et<tn;Et++)Et%4==0&&Et&&(Ln.push(ln>>16&255),Ln.push(ln>>8&255),Ln.push(255&ln)),ln=ln<<6|kn.indexOf(cn.charAt(Et));return 0==(Kt=tn%4*6)?(Ln.push(ln>>16&255),Ln.push(ln>>8&255),Ln.push(255&ln)):18===Kt?(Ln.push(ln>>10&255),Ln.push(ln>>2&255)):12===Kt&&Ln.push(ln>>4&255),new Uint8Array(Ln)},predicate:function zt(P){return"[object Uint8Array]"===Object.prototype.toString.call(P)},represent:function xt(P){var cn,tn,Et="",Kt=0,kn=P.length,ln=Ei;for(cn=0;cn<kn;cn++)cn%3==0&&cn&&(Et+=ln[Kt>>18&63],Et+=ln[Kt>>12&63],Et+=ln[Kt>>6&63],Et+=ln[63&Kt]),Kt=(Kt<<8)+P[cn];return 0==(tn=kn%3)?(Et+=ln[Kt>>18&63],Et+=ln[Kt>>12&63],Et+=ln[Kt>>6&63],Et+=ln[63&Kt]):2===tn?(Et+=ln[Kt>>10&63],Et+=ln[Kt>>4&63],Et+=ln[Kt<<2&63],Et+=ln[64]):1===tn&&(Et+=ln[Kt>>2&63],Et+=ln[Kt<<4&63],Et+=ln[64],Et+=ln[64]),Et}}),bn=Object.prototype.hasOwnProperty,Pn=Object.prototype.toString,Kn=new se("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function Ri(P){if(null===P)return!0;var Kt,cn,tn,kn,ln,Et=[],Ln=P;for(Kt=0,cn=Ln.length;Kt<cn;Kt+=1){if(ln=!1,"[object Object]"!==Pn.call(tn=Ln[Kt]))return!1;for(kn in tn)if(bn.call(tn,kn)){if(ln)return!1;ln=!0}if(!ln)return!1;if(-1!==Et.indexOf(kn))return!1;Et.push(kn)}return!0},construct:function Dn(P){return null!==P?P:[]}}),xn=Object.prototype.toString,Le=new se("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Xn(P){if(null===P)return!0;var Et,Kt,cn,tn,kn,ln=P;for(kn=new Array(ln.length),Et=0,Kt=ln.length;Et<Kt;Et+=1){if("[object Object]"!==xn.call(cn=ln[Et])||1!==(tn=Object.keys(cn)).length)return!1;kn[Et]=[tn[0],cn[tn[0]]]}return!0},construct:function pt(P){if(null===P)return[];var Et,Kt,cn,tn,kn,ln=P;for(kn=new Array(ln.length),Et=0,Kt=ln.length;Et<Kt;Et+=1)cn=ln[Et],tn=Object.keys(cn),kn[Et]=[tn[0],cn[tn[0]]];return kn}}),We=Object.prototype.hasOwnProperty,Zt=new se("tag:yaml.org,2002:set",{kind:"mapping",resolve:function $e(P){if(null===P)return!0;var Et,Kt=P;for(Et in Kt)if(We.call(Kt,Et)&&null!==Kt[Et])return!1;return!0},construct:function gt(P){return null!==P?P:{}}}),_n=ut.extend({implicit:[Gt,Hn],explicit:[$t,Kn,Le,Zt]}),ct=Object.prototype.hasOwnProperty,De=1,st=2,Fe=3,bt=4,Ft=1,An=2,Rn=3,ni=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,gi=/[\x85\u2028\u2029]/,Ui=/[,\[\]\{\}]/,Ti=/^(?:!|!!|![a-z\-]+!)$/i,Hi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zn(P){return Object.prototype.toString.call(P)}function Gi(P){return 10===P||13===P}function lr(P){return 9===P||32===P}function ir(P){return 9===P||32===P||10===P||13===P}function Sr(P){return 44===P||91===P||93===P||123===P||125===P}function Hr(P){var Et;return 48<=P&&P<=57?P-48:97<=(Et=32|P)&&Et<=102?Et-97+10:-1}function vs(P){return 120===P?2:117===P?4:85===P?8:0}function Vr(P){return 48<=P&&P<=57?P-48:-1}function bs(P){return 48===P?"\0":97===P?"\x07":98===P?"\b":116===P||9===P?"\t":110===P?"\n":118===P?"\v":102===P?"\f":114===P?"\r":101===P?"\x1b":32===P?" ":34===P?'"':47===P?"/":92===P?"\\":78===P?"\x85":95===P?"\xa0":76===P?"\u2028":80===P?"\u2029":""}function Ss(P){return P<=65535?String.fromCharCode(P):String.fromCharCode(55296+(P-65536>>10),56320+(P-65536&1023))}for(var ss=new Array(256),Yi=new Array(256),rr=0;rr<256;rr++)ss[rr]=bs(rr)?1:0,Yi[rr]=bs(rr);function ar(P,Et){this.input=P,this.filename=Et.filename||null,this.schema=Et.schema||_n,this.onWarning=Et.onWarning||null,this.legacy=Et.legacy||!1,this.json=Et.json||!1,this.listener=Et.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=P.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function zi(P,Et){var Kt={name:P.filename,buffer:P.input.slice(0,-1),position:P.position,line:P.line,column:P.position-P.lineStart};return Kt.snippet=ce(Kt),new U(Et,Kt)}function si(P,Et){throw zi(P,Et)}function Ge(P,Et){P.onWarning&&P.onWarning.call(null,zi(P,Et))}var Mt={YAML:function(Et,Kt,cn){var tn,kn,ln;null!==Et.version&&si(Et,"duplication of %YAML directive"),1!==cn.length&&si(Et,"YAML directive accepts exactly one argument"),null===(tn=/^([0-9]+)\.([0-9]+)$/.exec(cn[0]))&&si(Et,"ill-formed argument of the YAML directive"),kn=parseInt(tn[1],10),ln=parseInt(tn[2],10),1!==kn&&si(Et,"unacceptable YAML version of the document"),Et.version=cn[0],Et.checkLineBreaks=ln<2,1!==ln&&2!==ln&&Ge(Et,"unsupported YAML version of the document")},TAG:function(Et,Kt,cn){var tn,kn;2!==cn.length&&si(Et,"TAG directive accepts exactly two arguments"),kn=cn[1],Ti.test(tn=cn[0])||si(Et,"ill-formed tag handle (first argument) of the TAG directive"),ct.call(Et.tagMap,tn)&&si(Et,'there is a previously declared suffix for "'+tn+'" tag handle'),Hi.test(kn)||si(Et,"ill-formed tag prefix (second argument) of the TAG directive");try{kn=decodeURIComponent(kn)}catch{si(Et,"tag prefix is malformed: "+kn)}Et.tagMap[tn]=kn}};function ne(P,Et,Kt,cn){var tn,kn,ln,Ln;if(Et<Kt){if(Ln=P.input.slice(Et,Kt),cn)for(tn=0,kn=Ln.length;tn<kn;tn+=1)9===(ln=Ln.charCodeAt(tn))||32<=ln&&ln<=1114111||si(P,"expected valid JSON character");else ni.test(Ln)&&si(P,"the stream contains non-printable characters");P.result+=Ln}}function et(P,Et,Kt,cn){var tn,kn,ln,Ln;for(O.isObject(Kt)||si(P,"cannot merge mappings; the provided source object is unacceptable"),ln=0,Ln=(tn=Object.keys(Kt)).length;ln<Ln;ln+=1)ct.call(Et,kn=tn[ln])||(Et[kn]=Kt[kn],cn[kn]=!0)}function He(P,Et,Kt,cn,tn,kn,ln,Ln,Qn){var jn,mi;if(Array.isArray(tn))for(jn=0,mi=(tn=Array.prototype.slice.call(tn)).length;jn<mi;jn+=1)Array.isArray(tn[jn])&&si(P,"nested arrays are not supported inside keys"),"object"==typeof tn&&"[object Object]"===Zn(tn[jn])&&(tn[jn]="[object Object]");if("object"==typeof tn&&"[object Object]"===Zn(tn)&&(tn="[object Object]"),tn=String(tn),null===Et&&(Et={}),"tag:yaml.org,2002:merge"===cn)if(Array.isArray(kn))for(jn=0,mi=kn.length;jn<mi;jn+=1)et(P,Et,kn[jn],Kt);else et(P,Et,kn,Kt);else!P.json&&!ct.call(Kt,tn)&&ct.call(Et,tn)&&(P.line=ln||P.line,P.lineStart=Ln||P.lineStart,P.position=Qn||P.position,si(P,"duplicated mapping key")),"__proto__"===tn?Object.defineProperty(Et,tn,{configurable:!0,enumerable:!0,writable:!0,value:kn}):Et[tn]=kn,delete Kt[tn];return Et}function kt(P){var Et;10===(Et=P.input.charCodeAt(P.position))?P.position++:13===Et?(P.position++,10===P.input.charCodeAt(P.position)&&P.position++):si(P,"a line break is expected"),P.line+=1,P.lineStart=P.position,P.firstTabInLine=-1}function Bt(P,Et,Kt){for(var cn=0,tn=P.input.charCodeAt(P.position);0!==tn;){for(;lr(tn);)9===tn&&-1===P.firstTabInLine&&(P.firstTabInLine=P.position),tn=P.input.charCodeAt(++P.position);if(Et&&35===tn)do{tn=P.input.charCodeAt(++P.position)}while(10!==tn&&13!==tn&&0!==tn);if(!Gi(tn))break;for(kt(P),tn=P.input.charCodeAt(P.position),cn++,P.lineIndent=0;32===tn;)P.lineIndent++,tn=P.input.charCodeAt(++P.position)}return-1!==Kt&&0!==cn&&P.lineIndent<Kt&&Ge(P,"deficient indentation"),cn}function Jn(P){var Kt,Et=P.position;return!(45!==(Kt=P.input.charCodeAt(Et))&&46!==Kt||Kt!==P.input.charCodeAt(Et+1)||Kt!==P.input.charCodeAt(Et+2)||(Et+=3,Kt=P.input.charCodeAt(Et),0!==Kt&&!ir(Kt)))}function Pi(P,Et){1===Et?P.result+=" ":Et>1&&(P.result+=O.repeat("\n",Et-1))}function Os(P,Et){var Kt,Qn,cn=P.tag,tn=P.anchor,kn=[],Ln=!1;if(-1!==P.firstTabInLine)return!1;for(null!==P.anchor&&(P.anchorMap[P.anchor]=kn),Qn=P.input.charCodeAt(P.position);0!==Qn&&(-1!==P.firstTabInLine&&(P.position=P.firstTabInLine,si(P,"tab characters must not be used in indentation")),45===Qn&&ir(P.input.charCodeAt(P.position+1)));)if(Ln=!0,P.position++,Bt(P,!0,-1)&&P.lineIndent<=Et)kn.push(null),Qn=P.input.charCodeAt(P.position);else if(Kt=P.line,Br(P,Et,Fe,!1,!0),kn.push(P.result),Bt(P,!0,-1),Qn=P.input.charCodeAt(P.position),(P.line===Kt||P.lineIndent>Et)&&0!==Qn)si(P,"bad indentation of a sequence entry");else if(P.lineIndent<Et)break;return!!Ln&&(P.tag=cn,P.anchor=tn,P.kind="sequence",P.result=kn,!0)}function Jr(P){var Et,tn,kn,ln,Kt=!1,cn=!1;if(33!==(ln=P.input.charCodeAt(P.position)))return!1;if(null!==P.tag&&si(P,"duplication of a tag property"),60===(ln=P.input.charCodeAt(++P.position))?(Kt=!0,ln=P.input.charCodeAt(++P.position)):33===ln?(cn=!0,tn="!!",ln=P.input.charCodeAt(++P.position)):tn="!",Et=P.position,Kt){do{ln=P.input.charCodeAt(++P.position)}while(0!==ln&&62!==ln);P.position<P.length?(kn=P.input.slice(Et,P.position),ln=P.input.charCodeAt(++P.position)):si(P,"unexpected end of the stream within a verbatim tag")}else{for(;0!==ln&&!ir(ln);)33===ln&&(cn?si(P,"tag suffix cannot contain exclamation marks"):(tn=P.input.slice(Et-1,P.position+1),Ti.test(tn)||si(P,"named tag handle cannot contain such characters"),cn=!0,Et=P.position+1)),ln=P.input.charCodeAt(++P.position);kn=P.input.slice(Et,P.position),Ui.test(kn)&&si(P,"tag suffix cannot contain flow indicator characters")}kn&&!Hi.test(kn)&&si(P,"tag name cannot contain such characters: "+kn);try{kn=decodeURIComponent(kn)}catch{si(P,"tag name is malformed: "+kn)}return Kt?P.tag=kn:ct.call(P.tagMap,tn)?P.tag=P.tagMap[tn]+kn:"!"===tn?P.tag="!"+kn:"!!"===tn?P.tag="tag:yaml.org,2002:"+kn:si(P,'undeclared tag handle "'+tn+'"'),!0}function Ds(P){var Et,Kt;if(38!==(Kt=P.input.charCodeAt(P.position)))return!1;for(null!==P.anchor&&si(P,"duplication of an anchor property"),Kt=P.input.charCodeAt(++P.position),Et=P.position;0!==Kt&&!ir(Kt)&&!Sr(Kt);)Kt=P.input.charCodeAt(++P.position);return P.position===Et&&si(P,"name of an anchor node must contain at least one character"),P.anchor=P.input.slice(Et,P.position),!0}function Br(P,Et,Kt,cn,tn){var kn,ln,Ln,ti,Ii,Ji,$r,os,js,Qn=1,jn=!1,mi=!1;if(null!==P.listener&&P.listener("open",P),P.tag=null,P.anchor=null,P.kind=null,P.result=null,kn=ln=Ln=bt===Kt||Fe===Kt,cn&&Bt(P,!0,-1)&&(jn=!0,P.lineIndent>Et?Qn=1:P.lineIndent===Et?Qn=0:P.lineIndent<Et&&(Qn=-1)),1===Qn)for(;Jr(P)||Ds(P);)Bt(P,!0,-1)?(jn=!0,Ln=kn,P.lineIndent>Et?Qn=1:P.lineIndent===Et?Qn=0:P.lineIndent<Et&&(Qn=-1)):Ln=!1;if(Ln&&(Ln=jn||tn),(1===Qn||bt===Kt)&&(os=De===Kt||st===Kt?Et:Et+1,js=P.position-P.lineStart,1===Qn?Ln&&(Os(P,js)||function Er(P,Et,Kt){var cn,tn,kn,ln,Ln,Qn,ns,jn=P.tag,mi=P.anchor,ti={},Ii=Object.create(null),Ji=null,$r=null,os=null,js=!1,Gr=!1;if(-1!==P.firstTabInLine)return!1;for(null!==P.anchor&&(P.anchorMap[P.anchor]=ti),ns=P.input.charCodeAt(P.position);0!==ns;){if(!js&&-1!==P.firstTabInLine&&(P.position=P.firstTabInLine,si(P,"tab characters must not be used in indentation")),cn=P.input.charCodeAt(P.position+1),kn=P.line,63!==ns&&58!==ns||!ir(cn)){if(ln=P.line,Ln=P.lineStart,Qn=P.position,!Br(P,Kt,st,!1,!0))break;if(P.line===kn){for(ns=P.input.charCodeAt(P.position);lr(ns);)ns=P.input.charCodeAt(++P.position);if(58===ns)ir(ns=P.input.charCodeAt(++P.position))||si(P,"a whitespace character is expected after the key-value separator within a block mapping"),js&&(He(P,ti,Ii,Ji,$r,null,ln,Ln,Qn),Ji=$r=os=null),Gr=!0,js=!1,tn=!1,Ji=P.tag,$r=P.result;else{if(!Gr)return P.tag=jn,P.anchor=mi,!0;si(P,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Gr)return P.tag=jn,P.anchor=mi,!0;si(P,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===ns?(js&&(He(P,ti,Ii,Ji,$r,null,ln,Ln,Qn),Ji=$r=os=null),Gr=!0,js=!0,tn=!0):js?(js=!1,tn=!0):si(P,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),P.position+=1,ns=cn;if((P.line===kn||P.lineIndent>Et)&&(js&&(ln=P.line,Ln=P.lineStart,Qn=P.position),Br(P,Et,bt,!0,tn)&&(js?$r=P.result:os=P.result),js||(He(P,ti,Ii,Ji,$r,os,ln,Ln,Qn),Ji=$r=os=null),Bt(P,!0,-1),ns=P.input.charCodeAt(P.position)),(P.line===kn||P.lineIndent>Et)&&0!==ns)si(P,"bad indentation of a mapping entry");else if(P.lineIndent<Et)break}return js&&He(P,ti,Ii,Ji,$r,null,ln,Ln,Qn),Gr&&(P.tag=jn,P.anchor=mi,P.kind="mapping",P.result=ti),Gr}(P,js,os))||function Zr(P,Et){var cn,tn,kn,Ln,mi,ti,Ii,Ji,os,js,Gr,ns,Kt=!0,ln=P.tag,Qn=P.anchor,$r=Object.create(null);if(91===(ns=P.input.charCodeAt(P.position)))mi=93,Ji=!1,Ln=[];else{if(123!==ns)return!1;mi=125,Ji=!0,Ln={}}for(null!==P.anchor&&(P.anchorMap[P.anchor]=Ln),ns=P.input.charCodeAt(++P.position);0!==ns;){if(Bt(P,!0,Et),(ns=P.input.charCodeAt(P.position))===mi)return P.position++,P.tag=ln,P.anchor=Qn,P.kind=Ji?"mapping":"sequence",P.result=Ln,!0;Kt?44===ns&&si(P,"expected the node content, but found ','"):si(P,"missed comma between flow collection entries"),Gr=null,ti=Ii=!1,63===ns&&ir(P.input.charCodeAt(P.position+1))&&(ti=Ii=!0,P.position++,Bt(P,!0,Et)),cn=P.line,tn=P.lineStart,kn=P.position,Br(P,Et,De,!1,!0),js=P.tag,os=P.result,Bt(P,!0,Et),ns=P.input.charCodeAt(P.position),(Ii||P.line===cn)&&58===ns&&(ti=!0,ns=P.input.charCodeAt(++P.position),Bt(P,!0,Et),Br(P,Et,De,!1,!0),Gr=P.result),Ji?He(P,Ln,$r,js,os,Gr,cn,tn,kn):Ln.push(ti?He(P,null,$r,js,os,Gr,cn,tn,kn):os),Bt(P,!0,Et),44===(ns=P.input.charCodeAt(P.position))?(Kt=!0,ns=P.input.charCodeAt(++P.position)):Kt=!1}si(P,"unexpected end of the stream within a flow collection")}(P,os)?mi=!0:(ln&&function ds(P,Et){var Kt,cn,mi,ti,tn=Ft,kn=!1,ln=!1,Ln=Et,Qn=0,jn=!1;if(124===(ti=P.input.charCodeAt(P.position)))cn=!1;else{if(62!==ti)return!1;cn=!0}for(P.kind="scalar",P.result="";0!==ti;)if(43===(ti=P.input.charCodeAt(++P.position))||45===ti)Ft===tn?tn=43===ti?Rn:An:si(P,"repeat of a chomping mode identifier");else{if(!((mi=Vr(ti))>=0))break;0===mi?si(P,"bad explicit indentation width of a block scalar; it cannot be less than one"):ln?si(P,"repeat of an indentation width identifier"):(Ln=Et+mi-1,ln=!0)}if(lr(ti)){do{ti=P.input.charCodeAt(++P.position)}while(lr(ti));if(35===ti)do{ti=P.input.charCodeAt(++P.position)}while(!Gi(ti)&&0!==ti)}for(;0!==ti;){for(kt(P),P.lineIndent=0,ti=P.input.charCodeAt(P.position);(!ln||P.lineIndent<Ln)&&32===ti;)P.lineIndent++,ti=P.input.charCodeAt(++P.position);if(!ln&&P.lineIndent>Ln&&(Ln=P.lineIndent),Gi(ti))Qn++;else{if(P.lineIndent<Ln){tn===Rn?P.result+=O.repeat("\n",kn?1+Qn:Qn):tn===Ft&&kn&&(P.result+="\n");break}for(cn?lr(ti)?(jn=!0,P.result+=O.repeat("\n",kn?1+Qn:Qn)):jn?(jn=!1,P.result+=O.repeat("\n",Qn+1)):0===Qn?kn&&(P.result+=" "):P.result+=O.repeat("\n",Qn):P.result+=O.repeat("\n",kn?1+Qn:Qn),kn=!0,ln=!0,Qn=0,Kt=P.position;!Gi(ti)&&0!==ti;)ti=P.input.charCodeAt(++P.position);ne(P,Kt,P.position,!1)}}return!0}(P,os)||function Dr(P,Et){var Kt,cn,tn;if(39!==(Kt=P.input.charCodeAt(P.position)))return!1;for(P.kind="scalar",P.result="",P.position++,cn=tn=P.position;0!==(Kt=P.input.charCodeAt(P.position));)if(39===Kt){if(ne(P,cn,P.position,!0),39!==(Kt=P.input.charCodeAt(++P.position)))return!0;cn=P.position,P.position++,tn=P.position}else Gi(Kt)?(ne(P,cn,tn,!0),Pi(P,Bt(P,!1,Et)),cn=tn=P.position):P.position===P.lineStart&&Jn(P)?si(P,"unexpected end of the document within a single quoted scalar"):(P.position++,tn=P.position);si(P,"unexpected end of the stream within a single quoted scalar")}(P,os)||function Fr(P,Et){var Kt,cn,tn,kn,ln,Ln;if(34!==(Ln=P.input.charCodeAt(P.position)))return!1;for(P.kind="scalar",P.result="",P.position++,Kt=cn=P.position;0!==(Ln=P.input.charCodeAt(P.position));){if(34===Ln)return ne(P,Kt,P.position,!0),P.position++,!0;if(92===Ln){if(ne(P,Kt,P.position,!0),Gi(Ln=P.input.charCodeAt(++P.position)))Bt(P,!1,Et);else if(Ln<256&&ss[Ln])P.result+=Yi[Ln],P.position++;else if((ln=vs(Ln))>0){for(tn=ln,kn=0;tn>0;tn--)(ln=Hr(Ln=P.input.charCodeAt(++P.position)))>=0?kn=(kn<<4)+ln:si(P,"expected hexadecimal character");P.result+=Ss(kn),P.position++}else si(P,"unknown escape sequence");Kt=cn=P.position}else Gi(Ln)?(ne(P,Kt,cn,!0),Pi(P,Bt(P,!1,Et)),Kt=cn=P.position):P.position===P.lineStart&&Jn(P)?si(P,"unexpected end of the document within a double quoted scalar"):(P.position++,cn=P.position)}si(P,"unexpected end of the stream within a double quoted scalar")}(P,os)?mi=!0:function ia(P){var Et,Kt,cn;if(42!==(cn=P.input.charCodeAt(P.position)))return!1;for(cn=P.input.charCodeAt(++P.position),Et=P.position;0!==cn&&!ir(cn)&&!Sr(cn);)cn=P.input.charCodeAt(++P.position);return P.position===Et&&si(P,"name of an alias node must contain at least one character"),Kt=P.input.slice(Et,P.position),ct.call(P.anchorMap,Kt)||si(P,'unidentified alias "'+Kt+'"'),P.result=P.anchorMap[Kt],Bt(P,!0,-1),!0}(P)?(mi=!0,(null!==P.tag||null!==P.anchor)&&si(P,"alias node should not have any properties")):function sr(P,Et,Kt){var tn,kn,ln,Ln,Qn,jn,mi,Ji,ti=P.kind,Ii=P.result;if(ir(Ji=P.input.charCodeAt(P.position))||Sr(Ji)||35===Ji||38===Ji||42===Ji||33===Ji||124===Ji||62===Ji||39===Ji||34===Ji||37===Ji||64===Ji||96===Ji||(63===Ji||45===Ji)&&(ir(tn=P.input.charCodeAt(P.position+1))||Kt&&Sr(tn)))return!1;for(P.kind="scalar",P.result="",kn=ln=P.position,Ln=!1;0!==Ji;){if(58===Ji){if(ir(tn=P.input.charCodeAt(P.position+1))||Kt&&Sr(tn))break}else if(35===Ji){if(ir(P.input.charCodeAt(P.position-1)))break}else{if(P.position===P.lineStart&&Jn(P)||Kt&&Sr(Ji))break;if(Gi(Ji)){if(Qn=P.line,jn=P.lineStart,mi=P.lineIndent,Bt(P,!1,-1),P.lineIndent>=Et){Ln=!0,Ji=P.input.charCodeAt(P.position);continue}P.position=ln,P.line=Qn,P.lineStart=jn,P.lineIndent=mi;break}}Ln&&(ne(P,kn,ln,!1),Pi(P,P.line-Qn),kn=ln=P.position,Ln=!1),lr(Ji)||(ln=P.position+1),Ji=P.input.charCodeAt(++P.position)}return ne(P,kn,ln,!1),!!P.result||(P.kind=ti,P.result=Ii,!1)}(P,os,De===Kt)&&(mi=!0,null===P.tag&&(P.tag="?")),null!==P.anchor&&(P.anchorMap[P.anchor]=P.result)):0===Qn&&(mi=Ln&&Os(P,js))),null===P.tag)null!==P.anchor&&(P.anchorMap[P.anchor]=P.result);else if("?"===P.tag){for(null!==P.result&&"scalar"!==P.kind&&si(P,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+P.kind+'"'),ti=0,Ii=P.implicitTypes.length;ti<Ii;ti+=1)if(($r=P.implicitTypes[ti]).resolve(P.result)){P.result=$r.construct(P.result),P.tag=$r.tag,null!==P.anchor&&(P.anchorMap[P.anchor]=P.result);break}}else if("!"!==P.tag){if(ct.call(P.typeMap[P.kind||"fallback"],P.tag))$r=P.typeMap[P.kind||"fallback"][P.tag];else for($r=null,ti=0,Ii=(Ji=P.typeMap.multi[P.kind||"fallback"]).length;ti<Ii;ti+=1)if(P.tag.slice(0,Ji[ti].tag.length)===Ji[ti].tag){$r=Ji[ti];break}$r||si(P,"unknown tag !<"+P.tag+">"),null!==P.result&&$r.kind!==P.kind&&si(P,"unacceptable node kind for !<"+P.tag+'> tag; it should be "'+$r.kind+'", not "'+P.kind+'"'),$r.resolve(P.result,P.tag)?(P.result=$r.construct(P.result,P.tag),null!==P.anchor&&(P.anchorMap[P.anchor]=P.result)):si(P,"cannot resolve a node with !<"+P.tag+"> explicit tag")}return null!==P.listener&&P.listener("close",P),null!==P.tag||null!==P.anchor||mi}function Mo(P){var Kt,cn,tn,ln,Et=P.position,kn=!1;for(P.version=null,P.checkLineBreaks=P.legacy,P.tagMap=Object.create(null),P.anchorMap=Object.create(null);0!==(ln=P.input.charCodeAt(P.position))&&(Bt(P,!0,-1),ln=P.input.charCodeAt(P.position),!(P.lineIndent>0||37!==ln));){for(kn=!0,ln=P.input.charCodeAt(++P.position),Kt=P.position;0!==ln&&!ir(ln);)ln=P.input.charCodeAt(++P.position);for(tn=[],(cn=P.input.slice(Kt,P.position)).length<1&&si(P,"directive name must not be less than one character in length");0!==ln;){for(;lr(ln);)ln=P.input.charCodeAt(++P.position);if(35===ln){do{ln=P.input.charCodeAt(++P.position)}while(0!==ln&&!Gi(ln));break}if(Gi(ln))break;for(Kt=P.position;0!==ln&&!ir(ln);)ln=P.input.charCodeAt(++P.position);tn.push(P.input.slice(Kt,P.position))}0!==ln&&kt(P),ct.call(Mt,cn)?Mt[cn](P,cn,tn):Ge(P,'unknown document directive "'+cn+'"')}Bt(P,!0,-1),0===P.lineIndent&&45===P.input.charCodeAt(P.position)&&45===P.input.charCodeAt(P.position+1)&&45===P.input.charCodeAt(P.position+2)?(P.position+=3,Bt(P,!0,-1)):kn&&si(P,"directives end mark is expected"),Br(P,P.lineIndent-1,bt,!1,!0),Bt(P,!0,-1),P.checkLineBreaks&&gi.test(P.input.slice(Et,P.position))&&Ge(P,"non-ASCII line breaks are interpreted as content"),P.documents.push(P.result),P.position===P.lineStart&&Jn(P)?46===P.input.charCodeAt(P.position)&&(P.position+=3,Bt(P,!0,-1)):P.position<P.length-1&&si(P,"end of the stream or a document separator is expected")}function Yo(P,Et){Et=Et||{},0!==(P=String(P)).length&&(10!==P.charCodeAt(P.length-1)&&13!==P.charCodeAt(P.length-1)&&(P+="\n"),65279===P.charCodeAt(0)&&(P=P.slice(1)));var Kt=new ar(P,Et),cn=P.indexOf("\0");for(-1!==cn&&(Kt.position=cn,si(Kt,"null byte is not allowed in input")),Kt.input+="\0";32===Kt.input.charCodeAt(Kt.position);)Kt.lineIndent+=1,Kt.position+=1;for(;Kt.position<Kt.length-1;)Mo(Kt);return Kt.documents}function ze(P,Et){return function(){throw new Error("Function yaml."+P+" is removed in js-yaml 4. Use yaml."+Et+" instead, which is now safe by default.")}}var Ur=function Al(P,Et){var Kt=Yo(P,Et);if(0!==Kt.length){if(1===Kt.length)return Kt[0];throw new U("expected a single document in the stream, but found more")}};ze("safeLoad","load"),ze("safeLoadAll","loadAll"),ze("safeDump","dump")},997:(hn,Re,_)=>{"use strict";_.d(Re,{qg:()=>$e,xI:()=>Kn});let A={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function w(_n){A=_n}const D=/[&<>"']/,C=new RegExp(D.source,"g"),S=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,I=new RegExp(S.source,"g"),E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=_n=>E[_n];function x(_n,ct){if(ct){if(D.test(_n))return _n.replace(C,y)}else if(S.test(_n))return _n.replace(I,y);return _n}const $=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,O=/(^|[^\[])\^/g;function M(_n,ct){let De="string"==typeof _n?_n:_n.source;ct=ct||"";const st={replace:(Fe,bt)=>{let Ft="string"==typeof bt?bt:bt.source;return Ft=Ft.replace(O,"$1"),De=De.replace(Fe,Ft),st},getRegex:()=>new RegExp(De,ct)};return st}function L(_n){try{_n=encodeURI(_n).replace(/%25/g,"%")}catch{return null}return _n}const U={exec:()=>null};function F(_n,ct){const st=_n.replace(/\|/g,(bt,Ft,An)=>{let Rn=!1,ni=Ft;for(;--ni>=0&&"\\"===An[ni];)Rn=!Rn;return Rn?"|":" |"}).split(/ \|/);let Fe=0;if(st[0].trim()||st.shift(),st.length>0&&!st[st.length-1].trim()&&st.pop(),ct)if(st.length>ct)st.splice(ct);else for(;st.length<ct;)st.push("");for(;Fe<st.length;Fe++)st[Fe]=st[Fe].trim().replace(/\\\|/g,"|");return st}function J(_n,ct,De){const st=_n.length;if(0===st)return"";let Fe=0;for(;Fe<st;){const bt=_n.charAt(st-Fe-1);if(bt!==ct||De){if(bt===ct||!De)break;Fe++}else Fe++}return _n.slice(0,st-Fe)}function ce(_n,ct,De,st){const Fe=ct.href,bt=ct.title?x(ct.title):null,Ft=_n[1].replace(/\\([\[\]])/g,"$1");if("!"!==_n[0].charAt(0)){st.state.inLink=!0;const An={type:"link",raw:De,href:Fe,title:bt,text:Ft,tokens:st.inlineTokens(Ft)};return st.state.inLink=!1,An}return{type:"image",raw:De,href:Fe,title:bt,text:x(Ft)}}class be{options;rules;lexer;constructor(ct){this.options=ct||A}space(ct){const De=this.rules.block.newline.exec(ct);if(De&&De[0].length>0)return{type:"space",raw:De[0]}}code(ct){const De=this.rules.block.code.exec(ct);if(De){const st=De[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:De[0],codeBlockStyle:"indented",text:this.options.pedantic?st:J(st,"\n")}}}fences(ct){const De=this.rules.block.fences.exec(ct);if(De){const st=De[0],Fe=function re(_n,ct){const De=_n.match(/^(\s+)(?:```)/);if(null===De)return ct;const st=De[1];return ct.split("\n").map(Fe=>{const bt=Fe.match(/^\s+/);if(null===bt)return Fe;const[Ft]=bt;return Ft.length>=st.length?Fe.slice(st.length):Fe}).join("\n")}(st,De[3]||"");return{type:"code",raw:st,lang:De[2]?De[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):De[2],text:Fe}}}heading(ct){const De=this.rules.block.heading.exec(ct);if(De){let st=De[2].trim();if(/#$/.test(st)){const Fe=J(st,"#");(this.options.pedantic||!Fe||/ $/.test(Fe))&&(st=Fe.trim())}return{type:"heading",raw:De[0],depth:De[1].length,text:st,tokens:this.lexer.inline(st)}}}hr(ct){const De=this.rules.block.hr.exec(ct);if(De)return{type:"hr",raw:J(De[0],"\n")}}blockquote(ct){const De=this.rules.block.blockquote.exec(ct);if(De){let st=J(De[0],"\n").split("\n"),Fe="",bt="";const Ft=[];for(;st.length>0;){let An=!1;const Rn=[];let ni;for(ni=0;ni<st.length;ni++)if(/^ {0,3}>/.test(st[ni]))Rn.push(st[ni]),An=!0;else{if(An)break;Rn.push(st[ni])}st=st.slice(ni);const gi=Rn.join("\n"),Ui=gi.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Fe=Fe?`${Fe}\n${gi}`:gi,bt=bt?`${bt}\n${Ui}`:Ui;const Ti=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Ui,Ft,!0),this.lexer.state.top=Ti,0===st.length)break;const Hi=Ft[Ft.length-1];if("code"===Hi?.type)break;if("blockquote"===Hi?.type){const Zn=Hi,Gi=Zn.raw+"\n"+st.join("\n"),lr=this.blockquote(Gi);Ft[Ft.length-1]=lr,Fe=Fe.substring(0,Fe.length-Zn.raw.length)+lr.raw,bt=bt.substring(0,bt.length-Zn.text.length)+lr.text;break}if("list"!==Hi?.type);else{const Zn=Hi,Gi=Zn.raw+"\n"+st.join("\n"),lr=this.list(Gi);Ft[Ft.length-1]=lr,Fe=Fe.substring(0,Fe.length-Hi.raw.length)+lr.raw,bt=bt.substring(0,bt.length-Zn.raw.length)+lr.raw,st=Gi.substring(Ft[Ft.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:Fe,tokens:Ft,text:bt}}}list(ct){let De=this.rules.block.list.exec(ct);if(De){let st=De[1].trim();const Fe=st.length>1,bt={type:"list",raw:"",ordered:Fe,start:Fe?+st.slice(0,-1):"",loose:!1,items:[]};st=Fe?`\\d{1,9}\\${st.slice(-1)}`:`\\${st}`,this.options.pedantic&&(st=Fe?st:"[*+-]");const Ft=new RegExp(`^( {0,3}${st})((?:[\t ][^\\n]*)?(?:\\n|$))`);let An=!1;for(;ct;){let Rn=!1,ni="",gi="";if(!(De=Ft.exec(ct))||this.rules.block.hr.test(ct))break;ni=De[0],ct=ct.substring(ni.length);let Ui=De[2].split("\n",1)[0].replace(/^\t+/,ir=>" ".repeat(3*ir.length)),Ti=ct.split("\n",1)[0],Hi=!Ui.trim(),Zn=0;if(this.options.pedantic?(Zn=2,gi=Ui.trimStart()):Hi?Zn=De[1].length+1:(Zn=De[2].search(/[^ ]/),Zn=Zn>4?1:Zn,gi=Ui.slice(Zn),Zn+=De[1].length),Hi&&/^ *$/.test(Ti)&&(ni+=Ti+"\n",ct=ct.substring(Ti.length+1),Rn=!0),!Rn){const ir=new RegExp(`^ {0,${Math.min(3,Zn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Sr=new RegExp(`^ {0,${Math.min(3,Zn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Hr=new RegExp(`^ {0,${Math.min(3,Zn-1)}}(?:\`\`\`|~~~)`),vs=new RegExp(`^ {0,${Math.min(3,Zn-1)}}#`);for(;ct;){const Vr=ct.split("\n",1)[0];if(Ti=Vr,this.options.pedantic&&(Ti=Ti.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Hr.test(Ti)||vs.test(Ti)||ir.test(Ti)||Sr.test(ct))break;if(Ti.search(/[^ ]/)>=Zn||!Ti.trim())gi+="\n"+Ti.slice(Zn);else{if(Hi||Ui.search(/[^ ]/)>=4||Hr.test(Ui)||vs.test(Ui)||Sr.test(Ui))break;gi+="\n"+Ti}!Hi&&!Ti.trim()&&(Hi=!0),ni+=Vr+"\n",ct=ct.substring(Vr.length+1),Ui=Ti.slice(Zn)}}bt.loose||(An?bt.loose=!0:/\n *\n *$/.test(ni)&&(An=!0));let lr,Gi=null;this.options.gfm&&(Gi=/^\[[ xX]\] /.exec(gi),Gi&&(lr="[ ] "!==Gi[0],gi=gi.replace(/^\[[ xX]\] +/,""))),bt.items.push({type:"list_item",raw:ni,task:!!Gi,checked:lr,loose:!1,text:gi,tokens:[]}),bt.raw+=ni}bt.items[bt.items.length-1].raw=bt.items[bt.items.length-1].raw.trimEnd(),bt.items[bt.items.length-1].text=bt.items[bt.items.length-1].text.trimEnd(),bt.raw=bt.raw.trimEnd();for(let Rn=0;Rn<bt.items.length;Rn++)if(this.lexer.state.top=!1,bt.items[Rn].tokens=this.lexer.blockTokens(bt.items[Rn].text,[]),!bt.loose){const ni=bt.items[Rn].tokens.filter(Ui=>"space"===Ui.type),gi=ni.length>0&&ni.some(Ui=>/\n.*\n/.test(Ui.raw));bt.loose=gi}if(bt.loose)for(let Rn=0;Rn<bt.items.length;Rn++)bt.items[Rn].loose=!0;return bt}}html(ct){const De=this.rules.block.html.exec(ct);if(De)return{type:"html",block:!0,raw:De[0],pre:"pre"===De[1]||"script"===De[1]||"style"===De[1],text:De[0]}}def(ct){const De=this.rules.block.def.exec(ct);if(De){const st=De[1].toLowerCase().replace(/\s+/g," "),Fe=De[2]?De[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",bt=De[3]?De[3].substring(1,De[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):De[3];return{type:"def",tag:st,raw:De[0],href:Fe,title:bt}}}table(ct){const De=this.rules.block.table.exec(ct);if(!De||!/[:|]/.test(De[2]))return;const st=F(De[1]),Fe=De[2].replace(/^\||\| *$/g,"").split("|"),bt=De[3]&&De[3].trim()?De[3].replace(/\n[ \t]*$/,"").split("\n"):[],Ft={type:"table",raw:De[0],header:[],align:[],rows:[]};if(st.length===Fe.length){for(const An of Fe)/^ *-+: *$/.test(An)?Ft.align.push("right"):/^ *:-+: *$/.test(An)?Ft.align.push("center"):/^ *:-+ *$/.test(An)?Ft.align.push("left"):Ft.align.push(null);for(let An=0;An<st.length;An++)Ft.header.push({text:st[An],tokens:this.lexer.inline(st[An]),header:!0,align:Ft.align[An]});for(const An of bt)Ft.rows.push(F(An,Ft.header.length).map((Rn,ni)=>({text:Rn,tokens:this.lexer.inline(Rn),header:!1,align:Ft.align[ni]})));return Ft}}lheading(ct){const De=this.rules.block.lheading.exec(ct);if(De)return{type:"heading",raw:De[0],depth:"="===De[2].charAt(0)?1:2,text:De[1],tokens:this.lexer.inline(De[1])}}paragraph(ct){const De=this.rules.block.paragraph.exec(ct);if(De){const st="\n"===De[1].charAt(De[1].length-1)?De[1].slice(0,-1):De[1];return{type:"paragraph",raw:De[0],text:st,tokens:this.lexer.inline(st)}}}text(ct){const De=this.rules.block.text.exec(ct);if(De)return{type:"text",raw:De[0],text:De[0],tokens:this.lexer.inline(De[0])}}escape(ct){const De=this.rules.inline.escape.exec(ct);if(De)return{type:"escape",raw:De[0],text:x(De[1])}}tag(ct){const De=this.rules.inline.tag.exec(ct);if(De)return!this.lexer.state.inLink&&/^<a /i.test(De[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(De[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(De[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(De[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:De[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:De[0]}}link(ct){const De=this.rules.inline.link.exec(ct);if(De){const st=De[2].trim();if(!this.options.pedantic&&/^</.test(st)){if(!/>$/.test(st))return;const Ft=J(st.slice(0,-1),"\\");if((st.length-Ft.length)%2==0)return}else{const Ft=function ue(_n,ct){if(-1===_n.indexOf(ct[1]))return-1;let De=0;for(let st=0;st<_n.length;st++)if("\\"===_n[st])st++;else if(_n[st]===ct[0])De++;else if(_n[st]===ct[1]&&(De--,De<0))return st;return-1}(De[2],"()");if(Ft>-1){const Rn=(0===De[0].indexOf("!")?5:4)+De[1].length+Ft;De[2]=De[2].substring(0,Ft),De[0]=De[0].substring(0,Rn).trim(),De[3]=""}}let Fe=De[2],bt="";if(this.options.pedantic){const Ft=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Fe);Ft&&(Fe=Ft[1],bt=Ft[3])}else bt=De[3]?De[3].slice(1,-1):"";return Fe=Fe.trim(),/^</.test(Fe)&&(Fe=this.options.pedantic&&!/>$/.test(st)?Fe.slice(1):Fe.slice(1,-1)),ce(De,{href:Fe&&Fe.replace(this.rules.inline.anyPunctuation,"$1"),title:bt&&bt.replace(this.rules.inline.anyPunctuation,"$1")},De[0],this.lexer)}}reflink(ct,De){let st;if((st=this.rules.inline.reflink.exec(ct))||(st=this.rules.inline.nolink.exec(ct))){const bt=De[(st[2]||st[1]).replace(/\s+/g," ").toLowerCase()];if(!bt){const Ft=st[0].charAt(0);return{type:"text",raw:Ft,text:Ft}}return ce(st,bt,st[0],this.lexer)}}emStrong(ct,De,st=""){let Fe=this.rules.inline.emStrongLDelim.exec(ct);if(!(!Fe||Fe[3]&&st.match(/[\p{L}\p{N}]/u))&&(!Fe[1]&&!Fe[2]||!st||this.rules.inline.punctuation.exec(st))){const Ft=[...Fe[0]].length-1;let An,Rn,ni=Ft,gi=0;const Ui="*"===Fe[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Ui.lastIndex=0,De=De.slice(-1*ct.length+Ft);null!=(Fe=Ui.exec(De));){if(An=Fe[1]||Fe[2]||Fe[3]||Fe[4]||Fe[5]||Fe[6],!An)continue;if(Rn=[...An].length,Fe[3]||Fe[4]){ni+=Rn;continue}if((Fe[5]||Fe[6])&&Ft%3&&!((Ft+Rn)%3)){gi+=Rn;continue}if(ni-=Rn,ni>0)continue;Rn=Math.min(Rn,Rn+ni+gi);const Ti=[...Fe[0]][0].length,Hi=ct.slice(0,Ft+Fe.index+Ti+Rn);if(Math.min(Ft,Rn)%2){const Gi=Hi.slice(1,-1);return{type:"em",raw:Hi,text:Gi,tokens:this.lexer.inlineTokens(Gi)}}const Zn=Hi.slice(2,-2);return{type:"strong",raw:Hi,text:Zn,tokens:this.lexer.inlineTokens(Zn)}}}}codespan(ct){const De=this.rules.inline.code.exec(ct);if(De){let st=De[2].replace(/\n/g," ");const Fe=/[^ ]/.test(st),bt=/^ /.test(st)&&/ $/.test(st);return Fe&&bt&&(st=st.substring(1,st.length-1)),st=x(st,!0),{type:"codespan",raw:De[0],text:st}}}br(ct){const De=this.rules.inline.br.exec(ct);if(De)return{type:"br",raw:De[0]}}del(ct){const De=this.rules.inline.del.exec(ct);if(De)return{type:"del",raw:De[0],text:De[2],tokens:this.lexer.inlineTokens(De[2])}}autolink(ct){const De=this.rules.inline.autolink.exec(ct);if(De){let st,Fe;return"@"===De[2]?(st=x(De[1]),Fe="mailto:"+st):(st=x(De[1]),Fe=st),{type:"link",raw:De[0],text:st,href:Fe,tokens:[{type:"text",raw:st,text:st}]}}}url(ct){let De;if(De=this.rules.inline.url.exec(ct)){let st,Fe;if("@"===De[2])st=x(De[0]),Fe="mailto:"+st;else{let bt;do{bt=De[0],De[0]=this.rules.inline._backpedal.exec(De[0])?.[0]??""}while(bt!==De[0]);st=x(De[0]),Fe="www."===De[1]?"http://"+De[0]:De[0]}return{type:"link",raw:De[0],text:st,href:Fe,tokens:[{type:"text",raw:st,text:st}]}}}inlineText(ct){const De=this.rules.inline.text.exec(ct);if(De){let st;return st=this.lexer.state.inRawBlock?De[0]:x(De[0]),{type:"text",raw:De[0],text:st}}}}const W=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,q=/(?:[*+-]|\d{1,9}[.)])/,Ae=M(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,q).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Xe=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Je=/(?!\s*\])(?:\\.|[^\[\]\\])+/,je=M(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Je).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),K=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,q).getRegex(),oe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ge=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ye=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ge).replace("tag",oe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ne=M(Xe).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex(),Qe={blockquote:M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ne).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:je,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:W,html:ye,lheading:Ae,list:K,newline:/^(?: *(?:\n|$))+/,paragraph:Ne,table:U,text:/^[^\n]+/},Pt=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex(),Ce={...Qe,table:Pt,paragraph:M(Xe).replace("hr",W).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Pt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe).getRegex()},Qt={...Qe,html:M("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ge).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(Xe).replace("hr",W).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ae).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ot=/^( {2,}|\\)\n(?!\s*$)/,Oe="\\p{P}\\p{S}",Ye=M(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Oe).getRegex(),It=M(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Oe).getRegex(),at=M("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Oe).getRegex(),ot=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Oe).getRegex(),Nt=M(/\\([punct])/,"gu").replace(/punct/g,Oe).getRegex(),Ut=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wt=M(ge).replace("(?:--\x3e|$)","--\x3e").getRegex(),ut=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Z=M(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pe=M(/^!?\[(label)\]\[(ref)\]/).replace("label",dt).replace("ref",Je).getRegex(),pe=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",Je).getRegex(),Gt={_backpedal:U,anyPunctuation:Nt,autolink:Ut,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Ot,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:U,emStrongLDelim:It,emStrongRDelimAst:at,emStrongRDelimUnd:ot,escape:Vt,link:Z,nolink:pe,punctuation:Ye,reflink:Pe,reflinkSearch:M("reflink|nolink(?!\\()","g").replace("reflink",Pe).replace("nolink",pe).getRegex(),tag:ut,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:U},rn={...Gt,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",dt).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dt).getRegex()},Hn={...Gt,escape:M(Vt).replace("])","~|])").getRegex(),url:M(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ei={...Hn,br:M(Ot).replace("{2,}","*").getRegex(),text:M(Hn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},on={normal:Qe,gfm:Ce,pedantic:Qt},nn={normal:Gt,gfm:Hn,breaks:Ei,pedantic:rn};class xt{tokens;options;state;tokenizer;inlineQueue;constructor(ct){this.tokens=[],this.tokens.links=Object.create(null),this.options=ct||A,this.options.tokenizer=this.options.tokenizer||new be,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const De={block:on.normal,inline:nn.normal};this.options.pedantic?(De.block=on.pedantic,De.inline=nn.pedantic):this.options.gfm&&(De.block=on.gfm,De.inline=this.options.breaks?nn.breaks:nn.gfm),this.tokenizer.rules=De}static get rules(){return{block:on,inline:nn}}static lex(ct,De){return new xt(De).lex(ct)}static lexInline(ct,De){return new xt(De).inlineTokens(ct)}lex(ct){ct=ct.replace(/\r\n|\r/g,"\n"),this.blockTokens(ct,this.tokens);for(let De=0;De<this.inlineQueue.length;De++){const st=this.inlineQueue[De];this.inlineTokens(st.src,st.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(ct,De=[],st=!1){let Fe,bt,Ft;for(ct=this.options.pedantic?ct.replace(/\t/g,"    ").replace(/^ +$/gm,""):ct.replace(/^( *)(\t+)/gm,(An,Rn,ni)=>Rn+"    ".repeat(ni.length));ct;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(An=>!!(Fe=An.call({lexer:this},ct,De))&&(ct=ct.substring(Fe.raw.length),De.push(Fe),!0)))){if(Fe=this.tokenizer.space(ct)){ct=ct.substring(Fe.raw.length),1===Fe.raw.length&&De.length>0?De[De.length-1].raw+="\n":De.push(Fe);continue}if(Fe=this.tokenizer.code(ct)){ct=ct.substring(Fe.raw.length),bt=De[De.length-1],!bt||"paragraph"!==bt.type&&"text"!==bt.type?De.push(Fe):(bt.raw+="\n"+Fe.raw,bt.text+="\n"+Fe.text,this.inlineQueue[this.inlineQueue.length-1].src=bt.text);continue}if(Fe=this.tokenizer.fences(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.heading(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.hr(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.blockquote(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.list(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.html(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.def(ct)){ct=ct.substring(Fe.raw.length),bt=De[De.length-1],!bt||"paragraph"!==bt.type&&"text"!==bt.type?this.tokens.links[Fe.tag]||(this.tokens.links[Fe.tag]={href:Fe.href,title:Fe.title}):(bt.raw+="\n"+Fe.raw,bt.text+="\n"+Fe.raw,this.inlineQueue[this.inlineQueue.length-1].src=bt.text);continue}if(Fe=this.tokenizer.table(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Fe=this.tokenizer.lheading(ct)){ct=ct.substring(Fe.raw.length),De.push(Fe);continue}if(Ft=ct,this.options.extensions&&this.options.extensions.startBlock){let An=1/0;const Rn=ct.slice(1);let ni;this.options.extensions.startBlock.forEach(gi=>{ni=gi.call({lexer:this},Rn),"number"==typeof ni&&ni>=0&&(An=Math.min(An,ni))}),An<1/0&&An>=0&&(Ft=ct.substring(0,An+1))}if(this.state.top&&(Fe=this.tokenizer.paragraph(Ft))){bt=De[De.length-1],st&&"paragraph"===bt?.type?(bt.raw+="\n"+Fe.raw,bt.text+="\n"+Fe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bt.text):De.push(Fe),st=Ft.length!==ct.length,ct=ct.substring(Fe.raw.length);continue}if(Fe=this.tokenizer.text(ct)){ct=ct.substring(Fe.raw.length),bt=De[De.length-1],bt&&"text"===bt.type?(bt.raw+="\n"+Fe.raw,bt.text+="\n"+Fe.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bt.text):De.push(Fe);continue}if(ct){const An="Infinite loop on byte: "+ct.charCodeAt(0);if(this.options.silent){console.error(An);break}throw new Error(An)}}return this.state.top=!0,De}inline(ct,De=[]){return this.inlineQueue.push({src:ct,tokens:De}),De}inlineTokens(ct,De=[]){let st,Fe,bt,An,Rn,ni,Ft=ct;if(this.tokens.links){const gi=Object.keys(this.tokens.links);if(gi.length>0)for(;null!=(An=this.tokenizer.rules.inline.reflinkSearch.exec(Ft));)gi.includes(An[0].slice(An[0].lastIndexOf("[")+1,-1))&&(Ft=Ft.slice(0,An.index)+"["+"a".repeat(An[0].length-2)+"]"+Ft.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(An=this.tokenizer.rules.inline.blockSkip.exec(Ft));)Ft=Ft.slice(0,An.index)+"["+"a".repeat(An[0].length-2)+"]"+Ft.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(An=this.tokenizer.rules.inline.anyPunctuation.exec(Ft));)Ft=Ft.slice(0,An.index)+"++"+Ft.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;ct;)if(Rn||(ni=""),Rn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(gi=>!!(st=gi.call({lexer:this},ct,De))&&(ct=ct.substring(st.raw.length),De.push(st),!0)))){if(st=this.tokenizer.escape(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.tag(ct)){ct=ct.substring(st.raw.length),Fe=De[De.length-1],Fe&&"text"===st.type&&"text"===Fe.type?(Fe.raw+=st.raw,Fe.text+=st.text):De.push(st);continue}if(st=this.tokenizer.link(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.reflink(ct,this.tokens.links)){ct=ct.substring(st.raw.length),Fe=De[De.length-1],Fe&&"text"===st.type&&"text"===Fe.type?(Fe.raw+=st.raw,Fe.text+=st.text):De.push(st);continue}if(st=this.tokenizer.emStrong(ct,Ft,ni)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.codespan(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.br(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.del(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(st=this.tokenizer.autolink(ct)){ct=ct.substring(st.raw.length),De.push(st);continue}if(!this.state.inLink&&(st=this.tokenizer.url(ct))){ct=ct.substring(st.raw.length),De.push(st);continue}if(bt=ct,this.options.extensions&&this.options.extensions.startInline){let gi=1/0;const Ui=ct.slice(1);let Ti;this.options.extensions.startInline.forEach(Hi=>{Ti=Hi.call({lexer:this},Ui),"number"==typeof Ti&&Ti>=0&&(gi=Math.min(gi,Ti))}),gi<1/0&&gi>=0&&(bt=ct.substring(0,gi+1))}if(st=this.tokenizer.inlineText(bt)){ct=ct.substring(st.raw.length),"_"!==st.raw.slice(-1)&&(ni=st.raw.slice(-1)),Rn=!0,Fe=De[De.length-1],Fe&&"text"===Fe.type?(Fe.raw+=st.raw,Fe.text+=st.text):De.push(st);continue}if(ct){const gi="Infinite loop on byte: "+ct.charCodeAt(0);if(this.options.silent){console.error(gi);break}throw new Error(gi)}}return De}}class zt{options;parser;constructor(ct){this.options=ct||A}space(ct){return""}code({text:ct,lang:De,escaped:st}){const Fe=(De||"").match(/^\S*/)?.[0],bt=ct.replace(/\n$/,"")+"\n";return Fe?'<pre><code class="language-'+x(Fe)+'">'+(st?bt:x(bt,!0))+"</code></pre>\n":"<pre><code>"+(st?bt:x(bt,!0))+"</code></pre>\n"}blockquote({tokens:ct}){return`<blockquote>\n${this.parser.parse(ct)}</blockquote>\n`}html({text:ct}){return ct}heading({tokens:ct,depth:De}){return`<h${De}>${this.parser.parseInline(ct)}</h${De}>\n`}hr(ct){return"<hr>\n"}list(ct){const De=ct.ordered,st=ct.start;let Fe="";for(let An=0;An<ct.items.length;An++)Fe+=this.listitem(ct.items[An]);const bt=De?"ol":"ul";return"<"+bt+(De&&1!==st?' start="'+st+'"':"")+">\n"+Fe+"</"+bt+">\n"}listitem(ct){let De="";if(ct.task){const st=this.checkbox({checked:!!ct.checked});ct.loose?ct.tokens.length>0&&"paragraph"===ct.tokens[0].type?(ct.tokens[0].text=st+" "+ct.tokens[0].text,ct.tokens[0].tokens&&ct.tokens[0].tokens.length>0&&"text"===ct.tokens[0].tokens[0].type&&(ct.tokens[0].tokens[0].text=st+" "+ct.tokens[0].tokens[0].text)):ct.tokens.unshift({type:"text",raw:st+" ",text:st+" "}):De+=st+" "}return De+=this.parser.parse(ct.tokens,!!ct.loose),`<li>${De}</li>\n`}checkbox({checked:ct}){return"<input "+(ct?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:ct}){return`<p>${this.parser.parseInline(ct)}</p>\n`}table(ct){let De="",st="";for(let bt=0;bt<ct.header.length;bt++)st+=this.tablecell(ct.header[bt]);De+=this.tablerow({text:st});let Fe="";for(let bt=0;bt<ct.rows.length;bt++){const Ft=ct.rows[bt];st="";for(let An=0;An<Ft.length;An++)st+=this.tablecell(Ft[An]);Fe+=this.tablerow({text:st})}return Fe&&(Fe=`<tbody>${Fe}</tbody>`),"<table>\n<thead>\n"+De+"</thead>\n"+Fe+"</table>\n"}tablerow({text:ct}){return`<tr>\n${ct}</tr>\n`}tablecell(ct){const De=this.parser.parseInline(ct.tokens),st=ct.header?"th":"td";return(ct.align?`<${st} align="${ct.align}">`:`<${st}>`)+De+`</${st}>\n`}strong({tokens:ct}){return`<strong>${this.parser.parseInline(ct)}</strong>`}em({tokens:ct}){return`<em>${this.parser.parseInline(ct)}</em>`}codespan({text:ct}){return`<code>${ct}</code>`}br(ct){return"<br>"}del({tokens:ct}){return`<del>${this.parser.parseInline(ct)}</del>`}link({href:ct,title:De,tokens:st}){const Fe=this.parser.parseInline(st),bt=L(ct);if(null===bt)return Fe;let Ft='<a href="'+(ct=bt)+'"';return De&&(Ft+=' title="'+De+'"'),Ft+=">"+Fe+"</a>",Ft}image({href:ct,title:De,text:st}){const Fe=L(ct);if(null===Fe)return st;let bt=`<img src="${ct=Fe}" alt="${st}"`;return De&&(bt+=` title="${De}"`),bt+=">",bt}text(ct){return"tokens"in ct&&ct.tokens?this.parser.parseInline(ct.tokens):ct.text}}class $t{strong({text:ct}){return ct}em({text:ct}){return ct}codespan({text:ct}){return ct}del({text:ct}){return ct}html({text:ct}){return ct}text({text:ct}){return ct}link({text:ct}){return""+ct}image({text:ct}){return""+ct}br(){return""}}class bn{options;renderer;textRenderer;constructor(ct){this.options=ct||A,this.options.renderer=this.options.renderer||new zt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $t}static parse(ct,De){return new bn(De).parse(ct)}static parseInline(ct,De){return new bn(De).parseInline(ct)}parse(ct,De=!0){let st="";for(let Fe=0;Fe<ct.length;Fe++){const bt=ct[Fe];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[bt.type]){const An=bt,Rn=this.options.extensions.renderers[An.type].call({parser:this},An);if(!1!==Rn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(An.type)){st+=Rn||"";continue}}const Ft=bt;switch(Ft.type){case"space":st+=this.renderer.space(Ft);continue;case"hr":st+=this.renderer.hr(Ft);continue;case"heading":st+=this.renderer.heading(Ft);continue;case"code":st+=this.renderer.code(Ft);continue;case"table":st+=this.renderer.table(Ft);continue;case"blockquote":st+=this.renderer.blockquote(Ft);continue;case"list":st+=this.renderer.list(Ft);continue;case"html":st+=this.renderer.html(Ft);continue;case"paragraph":st+=this.renderer.paragraph(Ft);continue;case"text":{let An=Ft,Rn=this.renderer.text(An);for(;Fe+1<ct.length&&"text"===ct[Fe+1].type;)An=ct[++Fe],Rn+="\n"+this.renderer.text(An);st+=De?this.renderer.paragraph({type:"paragraph",raw:Rn,text:Rn,tokens:[{type:"text",raw:Rn,text:Rn}]}):Rn;continue}default:{const An='Token with "'+Ft.type+'" type was not found.';if(this.options.silent)return console.error(An),"";throw new Error(An)}}}return st}parseInline(ct,De){De=De||this.renderer;let st="";for(let Fe=0;Fe<ct.length;Fe++){const bt=ct[Fe];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[bt.type]){const An=this.options.extensions.renderers[bt.type].call({parser:this},bt);if(!1!==An||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(bt.type)){st+=An||"";continue}}const Ft=bt;switch(Ft.type){case"escape":case"text":st+=De.text(Ft);break;case"html":st+=De.html(Ft);break;case"link":st+=De.link(Ft);break;case"image":st+=De.image(Ft);break;case"strong":st+=De.strong(Ft);break;case"em":st+=De.em(Ft);break;case"codespan":st+=De.codespan(Ft);break;case"br":st+=De.br(Ft);break;case"del":st+=De.del(Ft);break;default:{const An='Token with "'+Ft.type+'" type was not found.';if(this.options.silent)return console.error(An),"";throw new Error(An)}}}return st}}class Pn{options;constructor(ct){this.options=ct||A}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(ct){return ct}postprocess(ct){return ct}processAllTokens(ct){return ct}}const Dn=new class Ri{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(xt.lex,bn.parse);parseInline=this.#t(xt.lexInline,bn.parseInline);Parser=bn;Renderer=zt;TextRenderer=$t;Lexer=xt;Tokenizer=be;Hooks=Pn;constructor(...ct){this.use(...ct)}walkTokens(ct,De){let st=[];for(const Fe of ct)switch(st=st.concat(De.call(this,Fe)),Fe.type){case"table":{const bt=Fe;for(const Ft of bt.header)st=st.concat(this.walkTokens(Ft.tokens,De));for(const Ft of bt.rows)for(const An of Ft)st=st.concat(this.walkTokens(An.tokens,De));break}case"list":st=st.concat(this.walkTokens(Fe.items,De));break;default:{const bt=Fe;this.defaults.extensions?.childTokens?.[bt.type]?this.defaults.extensions.childTokens[bt.type].forEach(Ft=>{const An=bt[Ft].flat(1/0);st=st.concat(this.walkTokens(An,De))}):bt.tokens&&(st=st.concat(this.walkTokens(bt.tokens,De)))}}return st}use(...ct){const De=this.defaults.extensions||{renderers:{},childTokens:{}};return ct.forEach(st=>{const Fe={...st};if(Fe.async=this.defaults.async||Fe.async||!1,st.extensions&&(st.extensions.forEach(bt=>{if(!bt.name)throw new Error("extension name required");if("renderer"in bt){const Ft=De.renderers[bt.name];De.renderers[bt.name]=Ft?function(...An){let Rn=bt.renderer.apply(this,An);return!1===Rn&&(Rn=Ft.apply(this,An)),Rn}:bt.renderer}if("tokenizer"in bt){if(!bt.level||"block"!==bt.level&&"inline"!==bt.level)throw new Error("extension level must be 'block' or 'inline'");const Ft=De[bt.level];Ft?Ft.unshift(bt.tokenizer):De[bt.level]=[bt.tokenizer],bt.start&&("block"===bt.level?De.startBlock?De.startBlock.push(bt.start):De.startBlock=[bt.start]:"inline"===bt.level&&(De.startInline?De.startInline.push(bt.start):De.startInline=[bt.start]))}"childTokens"in bt&&bt.childTokens&&(De.childTokens[bt.name]=bt.childTokens)}),Fe.extensions=De),st.renderer){const bt=this.defaults.renderer||new zt(this.defaults);for(const Ft in st.renderer){if(!(Ft in bt))throw new Error(`renderer '${Ft}' does not exist`);if(["options","parser"].includes(Ft))continue;const An=Ft;let Rn=st.renderer[An];const ni=bt[An];bt[An]=(...gi)=>{st.useNewRenderer||(Rn=this.#e(Rn,An,bt));let Ui=Rn.apply(bt,gi);return!1===Ui&&(Ui=ni.apply(bt,gi)),Ui||""}}Fe.renderer=bt}if(st.tokenizer){const bt=this.defaults.tokenizer||new be(this.defaults);for(const Ft in st.tokenizer){if(!(Ft in bt))throw new Error(`tokenizer '${Ft}' does not exist`);if(["options","rules","lexer"].includes(Ft))continue;const Rn=st.tokenizer[Ft],ni=bt[Ft];bt[Ft]=(...gi)=>{let Ui=Rn.apply(bt,gi);return!1===Ui&&(Ui=ni.apply(bt,gi)),Ui}}Fe.tokenizer=bt}if(st.hooks){const bt=this.defaults.hooks||new Pn;for(const Ft in st.hooks){if(!(Ft in bt))throw new Error(`hook '${Ft}' does not exist`);if("options"===Ft)continue;const Rn=st.hooks[Ft],ni=bt[Ft];bt[Ft]=Pn.passThroughHooks.has(Ft)?gi=>{if(this.defaults.async)return Promise.resolve(Rn.call(bt,gi)).then(Ti=>ni.call(bt,Ti));const Ui=Rn.call(bt,gi);return ni.call(bt,Ui)}:(...gi)=>{let Ui=Rn.apply(bt,gi);return!1===Ui&&(Ui=ni.apply(bt,gi)),Ui}}Fe.hooks=bt}if(st.walkTokens){const bt=this.defaults.walkTokens,Ft=st.walkTokens;Fe.walkTokens=function(An){let Rn=[];return Rn.push(Ft.call(this,An)),bt&&(Rn=Rn.concat(bt.call(this,An))),Rn}}this.defaults={...this.defaults,...Fe}}),this}#e(ct,De,st){switch(De){case"heading":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,st.parser.parseInline(Fe.tokens),Fe.depth,function R(_n){return _n.replace($,(ct,De)=>"colon"===(De=De.toLowerCase())?":":"#"===De.charAt(0)?"x"===De.charAt(1)?String.fromCharCode(parseInt(De.substring(2),16)):String.fromCharCode(+De.substring(1)):"")}(st.parser.parseInline(Fe.tokens,st.parser.textRenderer))):ct.apply(this,arguments)};case"code":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,Fe.text,Fe.lang,!!Fe.escaped):ct.apply(this,arguments)};case"table":return function(Fe){if(!Fe.type||Fe.type!==De)return ct.apply(this,arguments);let bt="",Ft="";for(let Rn=0;Rn<Fe.header.length;Rn++)Ft+=this.tablecell({text:Fe.header[Rn].text,tokens:Fe.header[Rn].tokens,header:!0,align:Fe.align[Rn]});bt+=this.tablerow({text:Ft});let An="";for(let Rn=0;Rn<Fe.rows.length;Rn++){const ni=Fe.rows[Rn];Ft="";for(let gi=0;gi<ni.length;gi++)Ft+=this.tablecell({text:ni[gi].text,tokens:ni[gi].tokens,header:!1,align:Fe.align[gi]});An+=this.tablerow({text:Ft})}return ct.call(this,bt,An)};case"blockquote":return function(Fe){if(!Fe.type||Fe.type!==De)return ct.apply(this,arguments);const bt=this.parser.parse(Fe.tokens);return ct.call(this,bt)};case"list":return function(Fe){if(!Fe.type||Fe.type!==De)return ct.apply(this,arguments);const bt=Fe.ordered,Ft=Fe.start,An=Fe.loose;let Rn="";for(let ni=0;ni<Fe.items.length;ni++){const gi=Fe.items[ni],Ui=gi.checked,Ti=gi.task;let Hi="";if(gi.task){const Zn=this.checkbox({checked:!!Ui});An?gi.tokens.length>0&&"paragraph"===gi.tokens[0].type?(gi.tokens[0].text=Zn+" "+gi.tokens[0].text,gi.tokens[0].tokens&&gi.tokens[0].tokens.length>0&&"text"===gi.tokens[0].tokens[0].type&&(gi.tokens[0].tokens[0].text=Zn+" "+gi.tokens[0].tokens[0].text)):gi.tokens.unshift({type:"text",text:Zn+" "}):Hi+=Zn+" "}Hi+=this.parser.parse(gi.tokens,An),Rn+=this.listitem({type:"list_item",raw:Hi,text:Hi,task:Ti,checked:!!Ui,loose:An,tokens:gi.tokens})}return ct.call(this,Rn,bt,Ft)};case"html":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,Fe.text,Fe.block):ct.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,this.parser.parseInline(Fe.tokens)):ct.apply(this,arguments)};case"escape":case"codespan":case"text":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,Fe.text):ct.apply(this,arguments)};case"link":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,Fe.href,Fe.title,this.parser.parseInline(Fe.tokens)):ct.apply(this,arguments)};case"image":return function(Fe){return Fe.type&&Fe.type===De?ct.call(this,Fe.href,Fe.title,Fe.text):ct.apply(this,arguments)}}return ct}setOptions(ct){return this.defaults={...this.defaults,...ct},this}lexer(ct,De){return xt.lex(ct,De??this.defaults)}parser(ct,De){return bn.parse(ct,De??this.defaults)}#t(ct,De){return(st,Fe)=>{const bt={...Fe},Ft={...this.defaults,...bt};!0===this.defaults.async&&!1===bt.async&&(Ft.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),Ft.async=!0);const An=this.#n(!!Ft.silent,!!Ft.async);if(typeof st>"u"||null===st)return An(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof st)return An(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(st)+", string expected"));if(Ft.hooks&&(Ft.hooks.options=Ft),Ft.async)return Promise.resolve(Ft.hooks?Ft.hooks.preprocess(st):st).then(Rn=>ct(Rn,Ft)).then(Rn=>Ft.hooks?Ft.hooks.processAllTokens(Rn):Rn).then(Rn=>Ft.walkTokens?Promise.all(this.walkTokens(Rn,Ft.walkTokens)).then(()=>Rn):Rn).then(Rn=>De(Rn,Ft)).then(Rn=>Ft.hooks?Ft.hooks.postprocess(Rn):Rn).catch(An);try{Ft.hooks&&(st=Ft.hooks.preprocess(st));let Rn=ct(st,Ft);Ft.hooks&&(Rn=Ft.hooks.processAllTokens(Rn)),Ft.walkTokens&&this.walkTokens(Rn,Ft.walkTokens);let ni=De(Rn,Ft);return Ft.hooks&&(ni=Ft.hooks.postprocess(ni)),ni}catch(Rn){return An(Rn)}}}#n(ct,De){return st=>{if(st.message+="\nPlease report this to https://github.com/markedjs/marked.",ct){const Fe="<p>An error occurred:</p><pre>"+x(st.message+"",!0)+"</pre>";return De?Promise.resolve(Fe):Fe}if(De)return Promise.reject(st);throw st}}};function Kn(_n,ct){return Dn.parse(_n,ct)}Kn.options=Kn.setOptions=function(_n){return Dn.setOptions(_n),w(Kn.defaults=Dn.defaults),Kn},Kn.getDefaults=function d(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},Kn.defaults=A,Kn.use=function(..._n){return Dn.use(..._n),w(Kn.defaults=Dn.defaults),Kn},Kn.walkTokens=function(_n,ct){return Dn.walkTokens(_n,ct)},Kn.parseInline=Dn.parseInline,Kn.Parser=bn,Kn.parser=bn.parse,Kn.Renderer=zt,Kn.TextRenderer=$t,Kn.Lexer=xt,Kn.lexer=xt.lex,Kn.Tokenizer=be,Kn.Hooks=Pn,Kn.parse=Kn;const $e=Kn},9204:(hn,Re,_)=>{"use strict";function d(w,D,C,S,I,E,y){try{var x=w[E](y),$=x.value}catch(R){return void C(R)}x.done?D($):Promise.resolve($).then(S,I)}function A(w){return function(){var D=this,C=arguments;return new Promise(function(S,I){var E=w.apply(D,C);function y($){d(E,S,I,y,x,"next",$)}function x($){d(E,S,I,y,x,"throw",$)}y(void 0)})}}_.d(Re,{A:()=>A})}}]);
//# sourceMappingURL=vendor.js.map